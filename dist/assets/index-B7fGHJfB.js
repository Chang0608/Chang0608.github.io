(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function ly(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var rf={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function nb(){if(Ug)return ne;Ug=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function H(S,U,j){this.props=S,this.context=U,this.refs=B,this.updater=j||D}H.prototype.isReactComponent={},H.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},H.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function z(){}z.prototype=H.prototype;function K(S,U,j){this.props=S,this.context=U,this.refs=B,this.updater=j||D}var P=K.prototype=new z;P.constructor=K,N(P,H.prototype),P.isPureReactComponent=!0;var se=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},Me=Object.prototype.hasOwnProperty;function Oe(S,U,j,V,X,de){return j=de.ref,{$$typeof:s,type:S,key:U,ref:j!==void 0?j:null,props:de}}function Le(S,U){return Oe(S.type,U,void 0,void 0,void 0,S.props)}function ve(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function Je(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(j){return U[j]})}var Mt=/\/+/g;function st(S,U){return typeof S=="object"&&S!==null&&S.key!=null?Je(""+S.key):U.toString(36)}function Ti(){}function Ci(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Ti,Ti):(S.status="pending",S.then(function(U){S.status==="pending"&&(S.status="fulfilled",S.value=U)},function(U){S.status==="pending"&&(S.status="rejected",S.reason=U)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function at(S,U,j,V,X){var de=typeof S;(de==="undefined"||de==="boolean")&&(S=null);var te=!1;if(S===null)te=!0;else switch(de){case"bigint":case"string":case"number":te=!0;break;case"object":switch(S.$$typeof){case s:case t:te=!0;break;case y:return te=S._init,at(te(S._payload),U,j,V,X)}}if(te)return X=X(S),te=V===""?"."+st(S,0):V,se(X)?(j="",te!=null&&(j=te.replace(Mt,"$&/")+"/"),at(X,U,j,"",function(Bn){return Bn})):X!=null&&(ve(X)&&(X=Le(X,j+(X.key==null||S&&S.key===X.key?"":(""+X.key).replace(Mt,"$&/")+"/")+te)),U.push(X)),1;te=0;var Et=V===""?".":V+":";if(se(S))for(var ke=0;ke<S.length;ke++)V=S[ke],de=Et+st(V,ke),te+=at(V,U,j,de,X);else if(ke=T(S),typeof ke=="function")for(S=ke.call(S),ke=0;!(V=S.next()).done;)V=V.value,de=Et+st(V,ke++),te+=at(V,U,j,de,X);else if(de==="object"){if(typeof S.then=="function")return at(Ci(S),U,j,V,X);throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return te}function M(S,U,j){if(S==null)return S;var V=[],X=0;return at(S,V,"","",function(de){return U.call(j,de,X++)}),V}function G(S){if(S._status===-1){var U=S._result;U=U(),U.then(function(j){(S._status===0||S._status===-1)&&(S._status=1,S._result=j)},function(j){(S._status===0||S._status===-1)&&(S._status=2,S._result=j)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var $=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function we(){}return ne.Children={map:M,forEach:function(S,U,j){M(S,function(){U.apply(this,arguments)},j)},count:function(S){var U=0;return M(S,function(){U++}),U},toArray:function(S){return M(S,function(U){return U})||[]},only:function(S){if(!ve(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ne.Component=H,ne.Fragment=i,ne.Profiler=o,ne.PureComponent=K,ne.StrictMode=r,ne.Suspense=d,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ne.__COMPILER_RUNTIME={__proto__:null,c:function(S){return W.H.useMemoCache(S)}},ne.cache=function(S){return function(){return S.apply(null,arguments)}},ne.cloneElement=function(S,U,j){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var V=N({},S.props),X=S.key,de=void 0;if(U!=null)for(te in U.ref!==void 0&&(de=void 0),U.key!==void 0&&(X=""+U.key),U)!Me.call(U,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&U.ref===void 0||(V[te]=U[te]);var te=arguments.length-2;if(te===1)V.children=j;else if(1<te){for(var Et=Array(te),ke=0;ke<te;ke++)Et[ke]=arguments[ke+2];V.children=Et}return Oe(S.type,X,void 0,void 0,de,V)},ne.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},ne.createElement=function(S,U,j){var V,X={},de=null;if(U!=null)for(V in U.key!==void 0&&(de=""+U.key),U)Me.call(U,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(X[V]=U[V]);var te=arguments.length-2;if(te===1)X.children=j;else if(1<te){for(var Et=Array(te),ke=0;ke<te;ke++)Et[ke]=arguments[ke+2];X.children=Et}if(S&&S.defaultProps)for(V in te=S.defaultProps,te)X[V]===void 0&&(X[V]=te[V]);return Oe(S,de,void 0,void 0,null,X)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(S){return{$$typeof:p,render:S}},ne.isValidElement=ve,ne.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:G}},ne.memo=function(S,U){return{$$typeof:m,type:S,compare:U===void 0?null:U}},ne.startTransition=function(S){var U=W.T,j={};W.T=j;try{var V=S(),X=W.S;X!==null&&X(j,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(we,$)}catch(de){$(de)}finally{W.T=U}},ne.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ne.use=function(S){return W.H.use(S)},ne.useActionState=function(S,U,j){return W.H.useActionState(S,U,j)},ne.useCallback=function(S,U){return W.H.useCallback(S,U)},ne.useContext=function(S){return W.H.useContext(S)},ne.useDebugValue=function(){},ne.useDeferredValue=function(S,U){return W.H.useDeferredValue(S,U)},ne.useEffect=function(S,U,j){var V=W.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(S,U)},ne.useId=function(){return W.H.useId()},ne.useImperativeHandle=function(S,U,j){return W.H.useImperativeHandle(S,U,j)},ne.useInsertionEffect=function(S,U){return W.H.useInsertionEffect(S,U)},ne.useLayoutEffect=function(S,U){return W.H.useLayoutEffect(S,U)},ne.useMemo=function(S,U){return W.H.useMemo(S,U)},ne.useOptimistic=function(S,U){return W.H.useOptimistic(S,U)},ne.useReducer=function(S,U,j){return W.H.useReducer(S,U,j)},ne.useRef=function(S){return W.H.useRef(S)},ne.useState=function(S){return W.H.useState(S)},ne.useSyncExternalStore=function(S,U,j){return W.H.useSyncExternalStore(S,U,j)},ne.useTransition=function(){return W.H.useTransition()},ne.version="19.1.0",ne}var zg;function $f(){return zg||(zg=1,rf.exports=nb()),rf.exports}var k=$f();const oe=ly(k);var lf={exports:{}},rr={},of={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function ib(){return Hg||(Hg=1,function(s){function t(M,G){var $=M.length;M.push(G);e:for(;0<$;){var we=$-1>>>1,S=M[we];if(0<o(S,G))M[we]=G,M[$]=S,$=we;else break e}}function i(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var G=M[0],$=M.pop();if($!==G){M[0]=$;e:for(var we=0,S=M.length,U=S>>>1;we<U;){var j=2*(we+1)-1,V=M[j],X=j+1,de=M[X];if(0>o(V,$))X<S&&0>o(de,V)?(M[we]=de,M[X]=$,we=X):(M[we]=V,M[j]=$,we=j);else if(X<S&&0>o(de,$))M[we]=de,M[X]=$,we=X;else break e}}return G}function o(M,G){var $=M.sortIndex-G.sortIndex;return $!==0?$:M.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var d=[],m=[],y=1,v=null,T=3,D=!1,N=!1,B=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function se(M){for(var G=i(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=M)r(m),G.sortIndex=G.expirationTime,t(d,G);else break;G=i(m)}}function W(M){if(B=!1,se(M),!N)if(i(d)!==null)N=!0,Me||(Me=!0,st());else{var G=i(m);G!==null&&at(W,G.startTime-M)}}var Me=!1,Oe=-1,Le=5,ve=-1;function Je(){return H?!0:!(s.unstable_now()-ve<Le)}function Mt(){if(H=!1,Me){var M=s.unstable_now();ve=M;var G=!0;try{e:{N=!1,B&&(B=!1,K(Oe),Oe=-1),D=!0;var $=T;try{t:{for(se(M),v=i(d);v!==null&&!(v.expirationTime>M&&Je());){var we=v.callback;if(typeof we=="function"){v.callback=null,T=v.priorityLevel;var S=we(v.expirationTime<=M);if(M=s.unstable_now(),typeof S=="function"){v.callback=S,se(M),G=!0;break t}v===i(d)&&r(d),se(M)}else r(d);v=i(d)}if(v!==null)G=!0;else{var U=i(m);U!==null&&at(W,U.startTime-M),G=!1}}break e}finally{v=null,T=$,D=!1}G=void 0}}finally{G?st():Me=!1}}}var st;if(typeof P=="function")st=function(){P(Mt)};else if(typeof MessageChannel<"u"){var Ti=new MessageChannel,Ci=Ti.port2;Ti.port1.onmessage=Mt,st=function(){Ci.postMessage(null)}}else st=function(){z(Mt,0)};function at(M,G){Oe=z(function(){M(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(M){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var $=T;T=G;try{return M()}finally{T=$}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=T;T=M;try{return G()}finally{T=$}},s.unstable_scheduleCallback=function(M,G,$){var we=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?we+$:we):$=we,M){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=$+S,M={id:y++,callback:G,priorityLevel:M,startTime:$,expirationTime:S,sortIndex:-1},$>we?(M.sortIndex=$,t(m,M),i(d)===null&&M===i(m)&&(B?(K(Oe),Oe=-1):B=!0,at(W,$-we))):(M.sortIndex=S,t(d,M),N||D||(N=!0,Me||(Me=!0,st()))),M},s.unstable_shouldYield=Je,s.unstable_wrapCallback=function(M){var G=T;return function(){var $=T;T=G;try{return M.apply(this,arguments)}finally{T=$}}}}(uf)),uf}var Bg;function sb(){return Bg||(Bg=1,of.exports=ib()),of.exports}var cf={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function ab(){if(Pg)return ot;Pg=1;var s=$f();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ot.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(d,m,null,y)},ot.flushSync=function(d){var m=h.T,y=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=m,r.p=y,r.d.f()}},ot.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},ot.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ot.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:D}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ot.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},ot.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ot.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=p(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},ot.requestFormReset=function(d){r.d.r(d)},ot.unstable_batchedUpdates=function(d,m){return d(m)},ot.useFormState=function(d,m,y){return h.H.useFormState(d,m,y)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.1.0",ot}var qg;function rb(){if(qg)return cf.exports;qg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),cf.exports=ab(),cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function lb(){if(Vg)return rr;Vg=1;var s=sb(),t=$f(),i=rb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function d(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return p(u),e;if(f===l)return p(u),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=f;else{for(var g=!1,_=u.child;_;){if(_===a){g=!0,a=u,l=f;break}if(_===l){g=!0,l=u,a=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===a){g=!0,a=f,l=u;break}if(_===l){g=!0,l=f,a=u;break}_=_.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),P=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=Mt&&e[Mt]||e["@@iterator"],typeof e=="function"?e:null)}var Ti=Symbol.for("react.client.reference");function Ci(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ti?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case H:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case Me:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case P:return(e.displayName||"Context")+".Provider";case K:return(e._context.displayName||"Context")+".Consumer";case se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oe:return n=e.displayName||null,n!==null?n:Ci(e.type)||"Memo";case Le:n=e._payload,e=e._init;try{return Ci(e(n))}catch{}}return null}var at=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},we=[],S=-1;function U(e){return{current:e}}function j(e){0>S||(e.current=we[S],we[S]=null,S--)}function V(e,n){S++,we[S]=e.current,e.current=n}var X=U(null),de=U(null),te=U(null),Et=U(null);function ke(e,n){switch(V(te,n),V(de,e),V(X,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?cg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=cg(n),e=fg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(X),V(X,e)}function Bn(){j(X),j(de),j(te)}function jo(e){e.memoizedState!==null&&V(Et,e);var n=X.current,a=fg(n,e.type);n!==a&&(V(de,e),V(X,a))}function Pr(e){de.current===e&&(j(X),j(de)),Et.current===e&&(j(Et),tr._currentValue=$)}var Yo=Object.prototype.hasOwnProperty,Ko=s.unstable_scheduleCallback,Fo=s.unstable_cancelCallback,x0=s.unstable_shouldYield,L0=s.unstable_requestPaint,Jt=s.unstable_now,U0=s.unstable_getCurrentPriorityLevel,jh=s.unstable_ImmediatePriority,Yh=s.unstable_UserBlockingPriority,qr=s.unstable_NormalPriority,z0=s.unstable_LowPriority,Kh=s.unstable_IdlePriority,H0=s.log,B0=s.unstable_setDisableYieldValue,ua=null,St=null;function Pn(e){if(typeof H0=="function"&&B0(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ua,e)}catch{}}var bt=Math.clz32?Math.clz32:V0,P0=Math.log,q0=Math.LN2;function V0(e){return e>>>=0,e===0?32:31-(P0(e)/q0|0)|0}var Vr=256,Gr=4194304;function wi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jr(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?u=wi(l):(g&=_,g!==0?u=wi(g):a||(a=_&~e,a!==0&&(u=wi(a))))):(_=l&~f,_!==0?u=wi(_):g!==0?u=wi(g):a||(a=l&~e,a!==0&&(u=wi(a)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:u}function ca(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function G0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(){var e=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),e}function Xh(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function Xo(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function j0(e,n,a,l,u,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,R=e.hiddenUpdates;for(a=g&~a;0<a;){var I=31-bt(a),L=1<<I;_[I]=0,E[I]=-1;var A=R[I];if(A!==null)for(R[I]=null,I=0;I<A.length;I++){var O=A[I];O!==null&&(O.lane&=-536870913)}a&=~L}l!==0&&Qh(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Qh(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-bt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Wh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-bt(a),u=1<<l;u&n|e[l]&n&&(e[l]|=n),a&=~u}}function Qo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zh(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Dg(e.type))}function Y0(e,n){var a=G.p;try{return G.p=e,n()}finally{G.p=a}}var qn=Math.random().toString(36).slice(2),rt="__reactFiber$"+qn,pt="__reactProps$"+qn,is="__reactContainer$"+qn,Zo="__reactEvents$"+qn,K0="__reactListeners$"+qn,F0="__reactHandles$"+qn,$h="__reactResources$"+qn,ha="__reactMarker$"+qn;function $o(e){delete e[rt],delete e[pt],delete e[Zo],delete e[K0],delete e[F0]}function ss(e){var n=e[rt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[is]||a[rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=mg(e);e!==null;){if(a=e[rt])return a;e=mg(e)}return n}e=a,a=e.parentNode}return null}function as(e){if(e=e[rt]||e[is]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function da(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function rs(e){var n=e[$h];return n||(n=e[$h]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ke(e){e[ha]=!0}var Jh=new Set,ed={};function Ri(e,n){ls(e,n),ls(e+"Capture",n)}function ls(e,n){for(ed[e]=n,e=0;e<n.length;e++)Jh.add(n[e])}var X0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),td={},nd={};function Q0(e){return Yo.call(nd,e)?!0:Yo.call(td,e)?!1:X0.test(e)?nd[e]=!0:(td[e]=!0,!1)}function Yr(e,n,a){if(Q0(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Kr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function cn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Jo,id;function os(e){if(Jo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Jo=n&&n[1]||"",id=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jo+e+id}var eu=!1;function tu(e,n){if(!e||eu)return"";eu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(O){var A=O}Reflect.construct(e,[],L)}else{try{L.call()}catch(O){A=O}e.call(L.prototype)}}else{try{throw Error()}catch(O){A=O}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(O){if(O&&A&&typeof O.stack=="string")return[O.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],_=f[1];if(g&&_){var E=g.split(`
`),R=_.split(`
`);for(u=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===E.length||u===R.length)for(l=E.length-1,u=R.length-1;1<=l&&0<=u&&E[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(E[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||E[l]!==R[u]){var I=`
`+E[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=u);break}}}finally{eu=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?os(a):""}function W0(e){switch(e.tag){case 26:case 27:case 5:return os(e.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return tu(e.type,!1);case 11:return tu(e.type.render,!1);case 1:return tu(e.type,!0);case 31:return os("Activity");default:return""}}function sd(e){try{var n="";do n+=W0(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ad(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Z0(e){var n=ad(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fr(e){e._valueTracker||(e._valueTracker=Z0(e))}function rd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=ad(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $0=/[\n"\\]/g;function xt(e){return e.replace($0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nu(e,n,a,l,u,f,g,_){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+kt(n)):e.value!==""+kt(n)&&(e.value=""+kt(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?iu(e,g,kt(n)):a!=null?iu(e,g,kt(a)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+kt(_):e.removeAttribute("name")}function ld(e,n,a,l,u,f,g,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+kt(a):"",n=n!=null?""+kt(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function iu(e,n,a){n==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function us(e,n,a,l){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+kt(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function od(e,n,a){if(n!=null&&(n=""+kt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+kt(a):""}function ud(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(at(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=kt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function cs(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var J0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||J0.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function fd(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&a[u]!==l&&cd(e,u,l)}else for(var f in n)n.hasOwnProperty(f)&&cd(e,f,n[f])}function su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(e){return tE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var au=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fs=null,hs=null;function hd(e){var n=as(e);if(n&&(e=n.stateNode)){var a=e[pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(nu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var u=l[pt]||null;if(!u)throw Error(r(90));nu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&rd(l)}break e;case"textarea":od(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&us(e,!!a.multiple,n,!1)}}}var lu=!1;function dd(e,n,a){if(lu)return e(n,a);lu=!0;try{var l=e(n);return l}finally{if(lu=!1,(fs!==null||hs!==null)&&(xl(),fs&&(n=fs,e=hs,hs=fs=null,hd(n),e)))for(n=0;n<e.length;n++)hd(e[n])}}function pa(e,n){var a=e.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(fn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){ou=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{ou=!1}var Vn=null,uu=null,Wr=null;function pd(){if(Wr)return Wr;var e,n=uu,a=n.length,l,u="value"in Vn?Vn.value:Vn.textContent,f=u.length;for(e=0;e<a&&n[e]===u[e];e++);var g=a-e;for(l=1;l<=g&&n[a-l]===u[f-l];l++);return Wr=u.slice(e,1<l?1-l:void 0)}function Zr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $r(){return!0}function md(){return!1}function mt(e){function n(a,l,u,f,g){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$r:md,this.isPropagationStopped=md,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=mt(Ai),ga=y({},Ai,{view:0,detail:0}),nE=mt(ga),cu,fu,_a,el=y({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_a&&(_a&&e.type==="mousemove"?(cu=e.screenX-_a.screenX,fu=e.screenY-_a.screenY):fu=cu=0,_a=e),cu)},movementY:function(e){return"movementY"in e?e.movementY:fu}}),gd=mt(el),iE=y({},el,{dataTransfer:0}),sE=mt(iE),aE=y({},ga,{relatedTarget:0}),hu=mt(aE),rE=y({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=mt(rE),oE=y({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uE=mt(oE),cE=y({},Ai,{data:0}),_d=mt(cE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pE(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=dE[e])?!!n[e]:!1}function du(){return pE}var mE=y({},ga,{key:function(e){if(e.key){var n=fE[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gE=mt(mE),_E=y({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=mt(_E),yE=y({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),vE=mt(yE),EE=y({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),SE=mt(EE),bE=y({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=mt(bE),CE=y({},Ai,{newState:0,oldState:0}),wE=mt(CE),RE=[9,13,27,32],pu=fn&&"CompositionEvent"in window,ya=null;fn&&"documentMode"in document&&(ya=document.documentMode);var AE=fn&&"TextEvent"in window&&!ya,vd=fn&&(!pu||ya&&8<ya&&11>=ya),Ed=" ",Sd=!1;function bd(e,n){switch(e){case"keyup":return RE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function OE(e,n){switch(e){case"compositionend":return Td(n);case"keypress":return n.which!==32?null:(Sd=!0,Ed);case"textInput":return e=n.data,e===Ed&&Sd?null:e;default:return null}}function NE(e,n){if(ds)return e==="compositionend"||!pu&&bd(e,n)?(e=pd(),Wr=uu=Vn=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vd&&n.locale!=="ko"?null:n.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!DE[e.type]:n==="textarea"}function wd(e,n,a,l){fs?hs?hs.push(l):hs=[l]:fs=l,n=Pl(n,"onChange"),0<n.length&&(a=new Jr("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var va=null,Ea=null;function IE(e){ag(e,0)}function tl(e){var n=da(e);if(rd(n))return e}function Rd(e,n){if(e==="change")return n}var Ad=!1;if(fn){var mu;if(fn){var gu="oninput"in document;if(!gu){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),gu=typeof Od.oninput=="function"}mu=gu}else mu=!1;Ad=mu&&(!document.documentMode||9<document.documentMode)}function Nd(){va&&(va.detachEvent("onpropertychange",Dd),Ea=va=null)}function Dd(e){if(e.propertyName==="value"&&tl(Ea)){var n=[];wd(n,Ea,e,ru(e)),dd(IE,n)}}function ME(e,n,a){e==="focusin"?(Nd(),va=n,Ea=a,va.attachEvent("onpropertychange",Dd)):e==="focusout"&&Nd()}function kE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Ea)}function xE(e,n){if(e==="click")return tl(n)}function LE(e,n){if(e==="input"||e==="change")return tl(n)}function UE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:UE;function Sa(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Yo.call(n,u)||!Tt(e[u],n[u]))return!1}return!0}function Id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,n){var a=Id(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Id(a)}}function kd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Xr(e.document)}return n}function _u(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var zE=fn&&"documentMode"in document&&11>=document.documentMode,ps=null,yu=null,ba=null,vu=!1;function Ld(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vu||ps==null||ps!==Xr(l)||(l=ps,"selectionStart"in l&&_u(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ba&&Sa(ba,l)||(ba=l,l=Pl(yu,"onSelect"),0<l.length&&(n=new Jr("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=ps)))}function Oi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ms={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Eu={},Ud={};fn&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ni(e){if(Eu[e])return Eu[e];if(!ms[e])return e;var n=ms[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ud)return Eu[e]=n[a];return e}var zd=Ni("animationend"),Hd=Ni("animationiteration"),Bd=Ni("animationstart"),HE=Ni("transitionrun"),BE=Ni("transitionstart"),PE=Ni("transitioncancel"),Pd=Ni("transitionend"),qd=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function Yt(e,n){qd.set(e,n),Ri(n,[e])}var Vd=new WeakMap;function Lt(e,n){if(typeof e=="object"&&e!==null){var a=Vd.get(e);return a!==void 0?a:(n={value:e,source:n,stack:sd(n)},Vd.set(e,n),n)}return{value:e,source:n,stack:sd(n)}}var Ut=[],gs=0,bu=0;function nl(){for(var e=gs,n=bu=gs=0;n<e;){var a=Ut[n];Ut[n++]=null;var l=Ut[n];Ut[n++]=null;var u=Ut[n];Ut[n++]=null;var f=Ut[n];if(Ut[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Gd(a,u,f)}}function il(e,n,a,l){Ut[gs++]=e,Ut[gs++]=n,Ut[gs++]=a,Ut[gs++]=l,bu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Tu(e,n,a,l){return il(e,n,a,l),sl(e)}function _s(e,n){return il(e,null,null,n),sl(e)}function Gd(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-bt(a),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=a|536870912),f):null}function sl(e){if(50<Fa)throw Fa=0,Nc=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ys={};function qE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,n,a,l){return new qE(e,n,a,l)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,n){var a=e.alternate;return a===null?(a=Ct(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jd(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function al(e,n,a,l,u,f){var g=0;if(l=e,typeof e=="function")Cu(e)&&(g=1);else if(typeof e=="string")g=GS(e,a,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=Ct(31,a,n,u),e.elementType=ve,e.lanes=f,e;case N:return Di(a.children,u,f,n);case B:g=8,u|=24;break;case H:return e=Ct(12,a,n,u|2),e.elementType=H,e.lanes=f,e;case W:return e=Ct(13,a,n,u),e.elementType=W,e.lanes=f,e;case Me:return e=Ct(19,a,n,u),e.elementType=Me,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:case P:g=10;break e;case K:g=9;break e;case se:g=11;break e;case Oe:g=14;break e;case Le:g=16,l=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Ct(g,a,n,u),n.elementType=e,n.type=l,n.lanes=f,n}function Di(e,n,a,l){return e=Ct(7,e,l,n),e.lanes=a,e}function wu(e,n,a){return e=Ct(6,e,null,n),e.lanes=a,e}function Ru(e,n,a){return n=Ct(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vs=[],Es=0,rl=null,ll=0,zt=[],Ht=0,Ii=null,dn=1,pn="";function Mi(e,n){vs[Es++]=ll,vs[Es++]=rl,rl=e,ll=n}function Yd(e,n,a){zt[Ht++]=dn,zt[Ht++]=pn,zt[Ht++]=Ii,Ii=e;var l=dn;e=pn;var u=32-bt(l)-1;l&=~(1<<u),a+=1;var f=32-bt(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,dn=1<<32-bt(n)+u|a<<u|l,pn=f+e}else dn=1<<f|a<<u|l,pn=e}function Au(e){e.return!==null&&(Mi(e,1),Yd(e,1,0))}function Ou(e){for(;e===rl;)rl=vs[--Es],vs[Es]=null,ll=vs[--Es],vs[Es]=null;for(;e===Ii;)Ii=zt[--Ht],zt[Ht]=null,pn=zt[--Ht],zt[Ht]=null,dn=zt[--Ht],zt[Ht]=null}var ht=null,He=null,me=!1,ki=null,en=!1,Nu=Error(r(519));function xi(e){var n=Error(r(418,""));throw wa(Lt(n,e)),Nu}function Kd(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[rt]=e,n[pt]=l,a){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(a=0;a<Qa.length;a++)le(Qa[a],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":le("invalid",n),ld(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fr(n);break;case"select":le("invalid",n);break;case"textarea":le("invalid",n),ud(n,l.value,l.defaultValue,l.children),Fr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ug(n.textContent,a)?(l.popover!=null&&(le("beforetoggle",n),le("toggle",n)),l.onScroll!=null&&le("scroll",n),l.onScrollEnd!=null&&le("scrollend",n),l.onClick!=null&&(n.onclick=ql),n=!0):n=!1,n||xi(e)}function Fd(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ht=ht.return}}function Ta(e){if(e!==ht)return!1;if(!me)return Fd(e),me=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yc(e.type,e.memoizedProps)),a=!a),a&&He&&xi(e),Fd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){He=Ft(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}He=null}}else n===27?(n=He,si(e.type)?(e=Qc,Qc=null,He=e):He=n):He=ht?Ft(e.stateNode.nextSibling):null;return!0}function Ca(){He=ht=null,me=!1}function Xd(){var e=ki;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),ki=null),e}function wa(e){ki===null?ki=[e]:ki.push(e)}var Du=U(null),Li=null,mn=null;function Gn(e,n,a){V(Du,n._currentValue),n._currentValue=a}function gn(e){e._currentValue=Du.current,j(Du)}function Iu(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Mu(e,n,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var E=0;E<n.length;E++)if(_.context===n[E]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),Iu(f.return,a,e),l||(g=null);break e}f=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Iu(g,a,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Ra(e,n,a,l){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var _=u.type;Tt(u.pendingProps.value,g.value)||(e!==null?e.push(_):e=[_])}}else if(u===Et.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(tr):e=[tr])}u=u.return}e!==null&&Mu(n,e,a,l),n.flags|=262144}function ol(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){Li=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Qd(Li,e)}function ul(e,n){return Li===null&&Ui(e),Qd(e,n)}function Qd(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},mn===null){if(e===null)throw Error(r(308));mn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else mn=mn.next=n;return a}var VE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},GE=s.unstable_scheduleCallback,jE=s.unstable_NormalPriority,je={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new VE,data:new Map,refCount:0}}function Aa(e){e.refCount--,e.refCount===0&&GE(jE,function(){e.controller.abort()})}var Oa=null,xu=0,Ss=0,bs=null;function YE(e,n){if(Oa===null){var a=Oa=[];xu=0,Ss=Uc(),bs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xu++,n.then(Wd,Wd),n}function Wd(){if(--xu===0&&Oa!==null){bs!==null&&(bs.status="fulfilled");var e=Oa;Oa=null,Ss=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function KE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Zd=M.S;M.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&YE(e,n),Zd!==null&&Zd(e,n)};var zi=U(null);function Lu(){var e=zi.current;return e!==null?e:Ae.pooledCache}function cl(e,n){n===null?V(zi,zi.current):V(zi,n.pool)}function $d(){var e=Lu();return e===null?null:{parent:je._currentValue,pool:e}}var Na=Error(r(460)),Jd=Error(r(474)),fl=Error(r(542)),Uu={then:function(){}};function ep(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hl(){}function tp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(hl,hl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e;default:if(typeof n.status=="string")n.then(hl,hl);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e}throw Da=n,Na}}var Da=null;function np(){if(Da===null)throw Error(r(459));var e=Da;return Da=null,e}function ip(e){if(e===Na||e===fl)throw Error(r(483))}var jn=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(_e&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=sl(e),Gd(e,null,a),n}return il(e,l,n,a),sl(e)}function Ia(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Wh(e,a)}}function Bu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=n:f=f.next=n}else u=f=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Pu=!1;function Ma(){if(Pu){var e=bs;if(e!==null)throw e}}function ka(e,n,a,l){Pu=!1;var u=e.updateQueue;jn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var E=_,R=E.next;E.next=null,g===null?f=R:g.next=R,g=E;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==g&&(_===null?I.firstBaseUpdate=R:_.next=R,I.lastBaseUpdate=E))}if(f!==null){var L=u.baseState;g=0,I=R=E=null,_=f;do{var A=_.lane&-536870913,O=A!==_.lane;if(O?(ce&A)===A:(l&A)===A){A!==0&&A===Ss&&(Pu=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ee=e,Q=_;A=n;var be=a;switch(Q.tag){case 1:if(ee=Q.payload,typeof ee=="function"){L=ee.call(be,L,A);break e}L=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=Q.payload,A=typeof ee=="function"?ee.call(be,L,A):ee,A==null)break e;L=y({},L,A);break e;case 2:jn=!0}}A=_.callback,A!==null&&(e.flags|=64,O&&(e.flags|=8192),O=u.callbacks,O===null?u.callbacks=[A]:O.push(A))}else O={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(R=I=O,E=L):I=I.next=O,g|=A;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;O=_,_=O.next,O.next=null,u.lastBaseUpdate=O,u.shared.pending=null}}while(!0);I===null&&(E=L),u.baseState=E,u.firstBaseUpdate=R,u.lastBaseUpdate=I,f===null&&(u.shared.lanes=0),ei|=g,e.lanes=g,e.memoizedState=L}}function sp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function ap(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)sp(a[e],n)}var Ts=U(null),dl=U(0);function rp(e,n){e=Tn,V(dl,e),V(Ts,n),Tn=e|n.baseLanes}function qu(){V(dl,Tn),V(Ts,Ts.current)}function Vu(){Tn=dl.current,j(Ts),j(dl)}var Fn=0,ie=null,Ee=null,Ve=null,pl=!1,Cs=!1,Hi=!1,ml=0,xa=0,ws=null,FE=0;function Pe(){throw Error(r(321))}function Gu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Tt(e[a],n[a]))return!1;return!0}function ju(e,n,a,l,u,f){return Fn=f,ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?Gp:jp,Hi=!1,f=a(l,u),Hi=!1,Cs&&(f=op(n,a,l,u)),lp(e),f}function lp(e){M.H=Sl;var n=Ee!==null&&Ee.next!==null;if(Fn=0,Ve=Ee=ie=null,pl=!1,xa=0,ws=null,n)throw Error(r(300));e===null||Fe||(e=e.dependencies,e!==null&&ol(e)&&(Fe=!0))}function op(e,n,a,l){ie=e;var u=0;do{if(Cs&&(ws=null),xa=0,Cs=!1,25<=u)throw Error(r(301));if(u+=1,Ve=Ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=eS,f=n(a,l)}while(Cs);return f}function XE(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?La(n):n,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(ie.flags|=1024),n}function Yu(){var e=ml!==0;return ml=0,e}function Ku(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Fu(e){if(pl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}pl=!1}Fn=0,Ve=Ee=ie=null,Cs=!1,xa=ml=0,ws=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ie.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ge(){if(Ee===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var n=Ve===null?ie.memoizedState:Ve.next;if(n!==null)Ve=n,Ee=e;else{if(e===null)throw ie.alternate===null?Error(r(467)):Error(r(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ve===null?ie.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function La(e){var n=xa;return xa+=1,ws===null&&(ws=[]),e=tp(ws,e,n),n=ie,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Gp:jp),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return La(e);if(e.$$typeof===P)return lt(e)}throw Error(r(438,String(e)))}function Qu(e){var n=null,a=ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xu(),ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=Je;return n.index++,a}function _n(e,n){return typeof n=="function"?n(e):n}function _l(e){var n=Ge();return Wu(n,Ee,e)}function Wu(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var _=g=null,E=null,R=n,I=!1;do{var L=R.lane&-536870913;if(L!==R.lane?(ce&L)===L:(Fn&L)===L){var A=R.revertLane;if(A===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),L===Ss&&(I=!0);else if((Fn&A)===A){R=R.next,A===Ss&&(I=!0);continue}else L={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=L,g=f):E=E.next=L,ie.lanes|=A,ei|=A;L=R.action,Hi&&a(f,L),f=R.hasEagerState?R.eagerState:a(f,L)}else A={lane:L,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=A,g=f):E=E.next=A,ie.lanes|=L,ei|=L;R=R.next}while(R!==null&&R!==n);if(E===null?g=f:E.next=_,!Tt(f,e.memoizedState)&&(Fe=!0,I&&(a=bs,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=E,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zu(e){var n=Ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,f=n.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Tt(f,n.memoizedState)||(Fe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function up(e,n,a){var l=ie,u=Ge(),f=me;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Tt((Ee||u).memoizedState,a);g&&(u.memoizedState=a,Fe=!0),u=u.queue;var _=hp.bind(null,l,u,e);if(Ua(2048,8,_,[e]),u.getSnapshot!==n||g||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Rs(9,yl(),fp.bind(null,l,u,a,n),null),Ae===null)throw Error(r(349));f||(Fn&124)!==0||cp(l,n,a)}return a}function cp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ie.updateQueue,n===null?(n=Xu(),ie.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function fp(e,n,a,l){n.value=a,n.getSnapshot=l,dp(n)&&pp(e)}function hp(e,n,a){return a(function(){dp(n)&&pp(e)})}function dp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Tt(e,a)}catch{return!0}}function pp(e){var n=_s(e,2);n!==null&&Nt(n,e,2)}function $u(e){var n=gt();if(typeof e=="function"){var a=e;if(e=a(),Hi){Pn(!0);try{a()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},n}function mp(e,n,a,l){return e.baseState=a,Wu(e,Ee,typeof l=="function"?l:_n)}function QE(e,n,a,l,u){if(El(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,gp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function gp(e,n){var a=n.action,l=n.payload,u=e.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var _=a(u,l),E=M.S;E!==null&&E(g,_),_p(e,n,_)}catch(R){Ju(e,n,R)}finally{M.T=f}}else try{f=a(u,l),_p(e,n,f)}catch(R){Ju(e,n,R)}}function _p(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yp(e,n,l)},function(l){return Ju(e,n,l)}):yp(e,n,a)}function yp(e,n,a){n.status="fulfilled",n.value=a,vp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,gp(e,a)))}function Ju(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,vp(n),n=n.next;while(n!==l)}e.action=null}function vp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ep(e,n){return n}function Sp(e,n){if(me){var a=Ae.formState;if(a!==null){e:{var l=ie;if(me){if(He){t:{for(var u=He,f=en;u.nodeType!==8;){if(!f){u=null;break t}if(u=Ft(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){He=Ft(u.nextSibling),l=u.data==="F!";break e}}xi(l)}l=!1}l&&(n=a[0])}}return a=gt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},a.queue=l,a=Pp.bind(null,ie,l),l.dispatch=a,l=$u(!1),f=sc.bind(null,ie,!1,l.queue),l=gt(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,a=QE.bind(null,ie,u,f,a),u.dispatch=a,l.memoizedState=e,[n,a,!1]}function bp(e){var n=Ge();return Tp(n,Ee,e)}function Tp(e,n,a){if(n=Wu(e,n,Ep)[0],e=_l(_n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=La(n)}catch(g){throw g===Na?fl:g}else l=n;n=Ge();var u=n.queue,f=u.dispatch;return a!==n.memoizedState&&(ie.flags|=2048,Rs(9,yl(),WE.bind(null,u,a),null)),[l,f,e]}function WE(e,n){e.action=n}function Cp(e){var n=Ge(),a=Ee;if(a!==null)return Tp(n,a,e);Ge(),n=n.memoizedState,a=Ge();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Rs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ie.updateQueue,n===null&&(n=Xu(),ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function yl(){return{destroy:void 0,resource:void 0}}function wp(){return Ge().memoizedState}function vl(e,n,a,l){var u=gt();l=l===void 0?null:l,ie.flags|=e,u.memoizedState=Rs(1|n,yl(),a,l)}function Ua(e,n,a,l){var u=Ge();l=l===void 0?null:l;var f=u.memoizedState.inst;Ee!==null&&l!==null&&Gu(l,Ee.memoizedState.deps)?u.memoizedState=Rs(n,f,a,l):(ie.flags|=e,u.memoizedState=Rs(1|n,f,a,l))}function Rp(e,n){vl(8390656,8,e,n)}function Ap(e,n){Ua(2048,8,e,n)}function Op(e,n){return Ua(4,2,e,n)}function Np(e,n){return Ua(4,4,e,n)}function Dp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,a){a=a!=null?a.concat([e]):null,Ua(4,4,Dp.bind(null,n,e),a)}function ec(){}function Mp(e,n){var a=Ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Gu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function kp(e,n){var a=Ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Gu(n,l[1]))return l[0];if(l=e(),Hi){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[l,n],l}function tc(e,n,a){return a===void 0||(Fn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Um(),ie.lanes|=e,ei|=e,a)}function xp(e,n,a,l){return Tt(a,n)?a:Ts.current!==null?(e=tc(e,a,l),Tt(e,n)||(Fe=!0),e):(Fn&42)===0?(Fe=!0,e.memoizedState=a):(e=Um(),ie.lanes|=e,ei|=e,n)}function Lp(e,n,a,l,u){var f=G.p;G.p=f!==0&&8>f?f:8;var g=M.T,_={};M.T=_,sc(e,!1,n,a);try{var E=u(),R=M.S;if(R!==null&&R(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=KE(E,l);za(e,n,I,Ot(e))}else za(e,n,l,Ot(e))}catch(L){za(e,n,{then:function(){},status:"rejected",reason:L},Ot())}finally{G.p=f,M.T=g}}function ZE(){}function nc(e,n,a,l){if(e.tag!==5)throw Error(r(476));var u=Up(e).queue;Lp(e,u,n,$,a===null?ZE:function(){return zp(e),a(l)})}function Up(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:$},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=Up(e).next.queue;za(e,n,{},Ot())}function ic(){return lt(tr)}function Hp(){return Ge().memoizedState}function Bp(){return Ge().memoizedState}function $E(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ot();e=Yn(a);var l=Kn(n,e,a);l!==null&&(Nt(l,n,a),Ia(l,n,a)),n={cache:ku()},e.payload=n;return}n=n.return}}function JE(e,n,a){var l=Ot();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},El(e)?qp(n,a):(a=Tu(e,n,a,l),a!==null&&(Nt(a,e,l),Vp(a,n,l)))}function Pp(e,n,a){var l=Ot();za(e,n,a,l)}function za(e,n,a,l){var u={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(El(e))qp(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,a);if(u.hasEagerState=!0,u.eagerState=_,Tt(_,g))return il(e,n,u,0),Ae===null&&nl(),!1}catch{}finally{}if(a=Tu(e,n,u,l),a!==null)return Nt(a,e,l),Vp(a,n,l),!0}return!1}function sc(e,n,a,l){if(l={lane:2,revertLane:Uc(),action:l,hasEagerState:!1,eagerState:null,next:null},El(e)){if(n)throw Error(r(479))}else n=Tu(e,a,l,2),n!==null&&Nt(n,e,2)}function El(e){var n=e.alternate;return e===ie||n!==null&&n===ie}function qp(e,n){Cs=pl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Vp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Wh(e,a)}}var Sl={readContext:lt,use:gl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},Gp={readContext:lt,use:gl,useCallback:function(e,n){return gt().memoizedState=[e,n===void 0?null:n],e},useContext:lt,useEffect:Rp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,vl(4194308,4,Dp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return vl(4194308,4,e,n)},useInsertionEffect:function(e,n){vl(4,2,e,n)},useMemo:function(e,n){var a=gt();n=n===void 0?null:n;var l=e();if(Hi){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=gt();if(a!==void 0){var u=a(n);if(Hi){Pn(!0);try{a(n)}finally{Pn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=JE.bind(null,ie,e),[l.memoizedState,e]},useRef:function(e){var n=gt();return e={current:e},n.memoizedState=e},useState:function(e){e=$u(e);var n=e.queue,a=Pp.bind(null,ie,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:ec,useDeferredValue:function(e,n){var a=gt();return tc(a,e,n)},useTransition:function(){var e=$u(!1);return e=Lp.bind(null,ie,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ie,u=gt();if(me){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Ae===null)throw Error(r(349));(ce&124)!==0||cp(l,n,a)}u.memoizedState=a;var f={value:a,getSnapshot:n};return u.queue=f,Rp(hp.bind(null,l,f,e),[e]),l.flags|=2048,Rs(9,yl(),fp.bind(null,l,f,a,n),null),a},useId:function(){var e=gt(),n=Ae.identifierPrefix;if(me){var a=pn,l=dn;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=ml++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=FE++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:ic,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var n=gt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=sc.bind(null,ie,!0,a),a.dispatch=n,[e,n]},useMemoCache:Qu,useCacheRefresh:function(){return gt().memoizedState=$E.bind(null,ie)}},jp={readContext:lt,use:gl,useCallback:Mp,useContext:lt,useEffect:Ap,useImperativeHandle:Ip,useInsertionEffect:Op,useLayoutEffect:Np,useMemo:kp,useReducer:_l,useRef:wp,useState:function(){return _l(_n)},useDebugValue:ec,useDeferredValue:function(e,n){var a=Ge();return xp(a,Ee.memoizedState,e,n)},useTransition:function(){var e=_l(_n)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:La(e),n]},useSyncExternalStore:up,useId:Hp,useHostTransitionStatus:ic,useFormState:bp,useActionState:bp,useOptimistic:function(e,n){var a=Ge();return mp(a,Ee,e,n)},useMemoCache:Qu,useCacheRefresh:Bp},eS={readContext:lt,use:gl,useCallback:Mp,useContext:lt,useEffect:Ap,useImperativeHandle:Ip,useInsertionEffect:Op,useLayoutEffect:Np,useMemo:kp,useReducer:Zu,useRef:wp,useState:function(){return Zu(_n)},useDebugValue:ec,useDeferredValue:function(e,n){var a=Ge();return Ee===null?tc(a,e,n):xp(a,Ee.memoizedState,e,n)},useTransition:function(){var e=Zu(_n)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:La(e),n]},useSyncExternalStore:up,useId:Hp,useHostTransitionStatus:ic,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var a=Ge();return Ee!==null?mp(a,Ee,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:Bp},As=null,Ha=0;function bl(e){var n=Ha;return Ha+=1,As===null&&(As=[]),tp(As,e,n)}function Ba(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Tl(e,n){throw n.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yp(e){var n=e._init;return n(e._payload)}function Kp(e){function n(C,b){if(e){var w=C.deletions;w===null?(C.deletions=[b],C.flags|=16):w.push(b)}}function a(C,b){if(!e)return null;for(;b!==null;)n(C,b),b=b.sibling;return null}function l(C){for(var b=new Map;C!==null;)C.key!==null?b.set(C.key,C):b.set(C.index,C),C=C.sibling;return b}function u(C,b){return C=hn(C,b),C.index=0,C.sibling=null,C}function f(C,b,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<b?(C.flags|=67108866,b):w):(C.flags|=67108866,b)):(C.flags|=1048576,b)}function g(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,b,w,x){return b===null||b.tag!==6?(b=wu(w,C.mode,x),b.return=C,b):(b=u(b,w),b.return=C,b)}function E(C,b,w,x){var Y=w.type;return Y===N?I(C,b,w.props.children,x,w.key):b!==null&&(b.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Le&&Yp(Y)===b.type)?(b=u(b,w.props),Ba(b,w),b.return=C,b):(b=al(w.type,w.key,w.props,null,C.mode,x),Ba(b,w),b.return=C,b)}function R(C,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Ru(w,C.mode,x),b.return=C,b):(b=u(b,w.children||[]),b.return=C,b)}function I(C,b,w,x,Y){return b===null||b.tag!==7?(b=Di(w,C.mode,x,Y),b.return=C,b):(b=u(b,w),b.return=C,b)}function L(C,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=wu(""+b,C.mode,w),b.return=C,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case T:return w=al(b.type,b.key,b.props,null,C.mode,w),Ba(w,b),w.return=C,w;case D:return b=Ru(b,C.mode,w),b.return=C,b;case Le:var x=b._init;return b=x(b._payload),L(C,b,w)}if(at(b)||st(b))return b=Di(b,C.mode,w,null),b.return=C,b;if(typeof b.then=="function")return L(C,bl(b),w);if(b.$$typeof===P)return L(C,ul(C,b),w);Tl(C,b)}return null}function A(C,b,w,x){var Y=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return Y!==null?null:_(C,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case T:return w.key===Y?E(C,b,w,x):null;case D:return w.key===Y?R(C,b,w,x):null;case Le:return Y=w._init,w=Y(w._payload),A(C,b,w,x)}if(at(w)||st(w))return Y!==null?null:I(C,b,w,x,null);if(typeof w.then=="function")return A(C,b,bl(w),x);if(w.$$typeof===P)return A(C,b,ul(C,w),x);Tl(C,w)}return null}function O(C,b,w,x,Y){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return C=C.get(w)||null,_(b,C,""+x,Y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case T:return C=C.get(x.key===null?w:x.key)||null,E(b,C,x,Y);case D:return C=C.get(x.key===null?w:x.key)||null,R(b,C,x,Y);case Le:var ae=x._init;return x=ae(x._payload),O(C,b,w,x,Y)}if(at(x)||st(x))return C=C.get(w)||null,I(b,C,x,Y,null);if(typeof x.then=="function")return O(C,b,w,bl(x),Y);if(x.$$typeof===P)return O(C,b,w,ul(b,x),Y);Tl(b,x)}return null}function ee(C,b,w,x){for(var Y=null,ae=null,F=b,Z=b=0,Qe=null;F!==null&&Z<w.length;Z++){F.index>Z?(Qe=F,F=null):Qe=F.sibling;var pe=A(C,F,w[Z],x);if(pe===null){F===null&&(F=Qe);break}e&&F&&pe.alternate===null&&n(C,F),b=f(pe,b,Z),ae===null?Y=pe:ae.sibling=pe,ae=pe,F=Qe}if(Z===w.length)return a(C,F),me&&Mi(C,Z),Y;if(F===null){for(;Z<w.length;Z++)F=L(C,w[Z],x),F!==null&&(b=f(F,b,Z),ae===null?Y=F:ae.sibling=F,ae=F);return me&&Mi(C,Z),Y}for(F=l(F);Z<w.length;Z++)Qe=O(F,C,Z,w[Z],x),Qe!==null&&(e&&Qe.alternate!==null&&F.delete(Qe.key===null?Z:Qe.key),b=f(Qe,b,Z),ae===null?Y=Qe:ae.sibling=Qe,ae=Qe);return e&&F.forEach(function(ui){return n(C,ui)}),me&&Mi(C,Z),Y}function Q(C,b,w,x){if(w==null)throw Error(r(151));for(var Y=null,ae=null,F=b,Z=b=0,Qe=null,pe=w.next();F!==null&&!pe.done;Z++,pe=w.next()){F.index>Z?(Qe=F,F=null):Qe=F.sibling;var ui=A(C,F,pe.value,x);if(ui===null){F===null&&(F=Qe);break}e&&F&&ui.alternate===null&&n(C,F),b=f(ui,b,Z),ae===null?Y=ui:ae.sibling=ui,ae=ui,F=Qe}if(pe.done)return a(C,F),me&&Mi(C,Z),Y;if(F===null){for(;!pe.done;Z++,pe=w.next())pe=L(C,pe.value,x),pe!==null&&(b=f(pe,b,Z),ae===null?Y=pe:ae.sibling=pe,ae=pe);return me&&Mi(C,Z),Y}for(F=l(F);!pe.done;Z++,pe=w.next())pe=O(F,C,Z,pe.value,x),pe!==null&&(e&&pe.alternate!==null&&F.delete(pe.key===null?Z:pe.key),b=f(pe,b,Z),ae===null?Y=pe:ae.sibling=pe,ae=pe);return e&&F.forEach(function(tb){return n(C,tb)}),me&&Mi(C,Z),Y}function be(C,b,w,x){if(typeof w=="object"&&w!==null&&w.type===N&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case T:e:{for(var Y=w.key;b!==null;){if(b.key===Y){if(Y=w.type,Y===N){if(b.tag===7){a(C,b.sibling),x=u(b,w.props.children),x.return=C,C=x;break e}}else if(b.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Le&&Yp(Y)===b.type){a(C,b.sibling),x=u(b,w.props),Ba(x,w),x.return=C,C=x;break e}a(C,b);break}else n(C,b);b=b.sibling}w.type===N?(x=Di(w.props.children,C.mode,x,w.key),x.return=C,C=x):(x=al(w.type,w.key,w.props,null,C.mode,x),Ba(x,w),x.return=C,C=x)}return g(C);case D:e:{for(Y=w.key;b!==null;){if(b.key===Y)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){a(C,b.sibling),x=u(b,w.children||[]),x.return=C,C=x;break e}else{a(C,b);break}else n(C,b);b=b.sibling}x=Ru(w,C.mode,x),x.return=C,C=x}return g(C);case Le:return Y=w._init,w=Y(w._payload),be(C,b,w,x)}if(at(w))return ee(C,b,w,x);if(st(w)){if(Y=st(w),typeof Y!="function")throw Error(r(150));return w=Y.call(w),Q(C,b,w,x)}if(typeof w.then=="function")return be(C,b,bl(w),x);if(w.$$typeof===P)return be(C,b,ul(C,w),x);Tl(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(a(C,b.sibling),x=u(b,w),x.return=C,C=x):(a(C,b),x=wu(w,C.mode,x),x.return=C,C=x),g(C)):a(C,b)}return function(C,b,w,x){try{Ha=0;var Y=be(C,b,w,x);return As=null,Y}catch(F){if(F===Na||F===fl)throw F;var ae=Ct(29,F,null,C.mode);return ae.lanes=x,ae.return=C,ae}finally{}}}var Os=Kp(!0),Fp=Kp(!1),Bt=U(null),tn=null;function Xn(e){var n=e.alternate;V(Ye,Ye.current&1),V(Bt,e),tn===null&&(n===null||Ts.current!==null||n.memoizedState!==null)&&(tn=e)}function Xp(e){if(e.tag===22){if(V(Ye,Ye.current),V(Bt,e),tn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(tn=e)}}else Qn()}function Qn(){V(Ye,Ye.current),V(Bt,Bt.current)}function yn(e){j(Bt),tn===e&&(tn=null),j(Ye)}var Ye=U(0);function Cl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xc(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ac(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:y({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rc={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Ot(),u=Yn(l);u.payload=n,a!=null&&(u.callback=a),n=Kn(e,u,l),n!==null&&(Nt(n,e,l),Ia(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Ot(),u=Yn(l);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=Kn(e,u,l),n!==null&&(Nt(n,e,l),Ia(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ot(),l=Yn(a);l.tag=2,n!=null&&(l.callback=n),n=Kn(e,l,a),n!==null&&(Nt(n,e,a),Ia(n,e,a))}};function Qp(e,n,a,l,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Sa(a,l)||!Sa(u,f):!0}function Wp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&rc.enqueueReplaceState(n,n.state,null)}function Bi(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=y({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Zp(e){wl(e)}function $p(e){console.error(e)}function Jp(e){wl(e)}function Rl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function em(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function lc(e,n,a){return a=Yn(a),a.tag=3,a.payload={element:null},a.callback=function(){Rl(e,n)},a}function tm(e){return e=Yn(e),e.tag=3,e}function nm(e,n,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){em(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){em(n,a,l),typeof u!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function tS(e,n,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ra(n,a,u,!0),a=Bt.current,a!==null){switch(a.tag){case 13:return tn===null?Ic():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kc(e,l,u)),!1;case 22:return a.flags|=65536,l===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kc(e,l,u)),!1}throw Error(r(435,a.tag))}return kc(e,l,u),Ic(),!1}if(me)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Nu&&(e=Error(r(422),{cause:l}),wa(Lt(e,a)))):(l!==Nu&&(n=Error(r(423),{cause:l}),wa(Lt(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Lt(l,a),u=lc(e.stateNode,l,u),Bu(e,u),Be!==4&&(Be=2)),!1;var f=Error(r(520),{cause:l});if(f=Lt(f,a),Ka===null?Ka=[f]:Ka.push(f),Be!==4&&(Be=2),n===null)return!0;l=Lt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=lc(a.stateNode,l,e),Bu(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ti===null||!ti.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=tm(u),nm(u,e,a,l),Bu(a,u),!1}a=a.return}while(a!==null);return!1}var im=Error(r(461)),Fe=!1;function et(e,n,a,l){n.child=e===null?Fp(n,null,a,l):Os(n,e.child,a,l)}function sm(e,n,a,l,u){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Ui(n),l=ju(e,n,a,g,f,u),_=Yu(),e!==null&&!Fe?(Ku(e,n,u),vn(e,n,u)):(me&&_&&Au(n),n.flags|=1,et(e,n,l,u),n.child)}function am(e,n,a,l,u){if(e===null){var f=a.type;return typeof f=="function"&&!Cu(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,rm(e,n,f,l,u)):(e=al(a.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!mc(e,u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(g,l)&&e.ref===n.ref)return vn(e,n,u)}return n.flags|=1,e=hn(f,l),e.ref=n.ref,e.return=n,n.child=e}function rm(e,n,a,l,u){if(e!==null){var f=e.memoizedProps;if(Sa(f,l)&&e.ref===n.ref)if(Fe=!1,n.pendingProps=l=f,mc(e,u))(e.flags&131072)!==0&&(Fe=!0);else return n.lanes=e.lanes,vn(e,n,u)}return oc(e,n,a,l,u)}function lm(e,n,a){var l=n.pendingProps,u=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(u=n.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return om(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(n,f!==null?f.cachePool:null),f!==null?rp(n,f):qu(),Xp(n);else return n.lanes=n.childLanes=536870912,om(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(cl(n,f.cachePool),rp(n,f),Qn(),n.memoizedState=null):(e!==null&&cl(n,null),qu(),Qn());return et(e,n,u,a),n.child}function om(e,n,a,l){var u=Lu();return u=u===null?null:{parent:je._currentValue,pool:u},n.memoizedState={baseLanes:a,cachePool:u},e!==null&&cl(n,null),qu(),Xp(n),e!==null&&Ra(e,n,l,!0),null}function Al(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function oc(e,n,a,l,u){return Ui(n),a=ju(e,n,a,l,void 0,u),l=Yu(),e!==null&&!Fe?(Ku(e,n,u),vn(e,n,u)):(me&&l&&Au(n),n.flags|=1,et(e,n,a,u),n.child)}function um(e,n,a,l,u,f){return Ui(n),n.updateQueue=null,a=op(n,l,a,u),lp(e),l=Yu(),e!==null&&!Fe?(Ku(e,n,f),vn(e,n,f)):(me&&l&&Au(n),n.flags|=1,et(e,n,a,f),n.child)}function cm(e,n,a,l,u){if(Ui(n),n.stateNode===null){var f=ys,g=a.contextType;typeof g=="object"&&g!==null&&(f=lt(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zu(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?lt(g):ys,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(ac(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&rc.enqueueReplaceState(f,f.state,null),ka(n,l,f,u),Ma(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,E=Bi(a,_);f.props=E;var R=f.context,I=a.contextType;g=ys,typeof I=="object"&&I!==null&&(g=lt(I));var L=a.getDerivedStateFromProps;I=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==g)&&Wp(n,f,l,g),jn=!1;var A=n.memoizedState;f.state=A,ka(n,l,f,u),Ma(),R=n.memoizedState,_||A!==R||jn?(typeof L=="function"&&(ac(n,a,L,l),R=n.memoizedState),(E=jn||Qp(n,a,E,l,A,R,g))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=g,l=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Hu(e,n),g=n.memoizedProps,I=Bi(a,g),f.props=I,L=n.pendingProps,A=f.context,R=a.contextType,E=ys,typeof R=="object"&&R!==null&&(E=lt(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==L||A!==E)&&Wp(n,f,l,E),jn=!1,A=n.memoizedState,f.state=A,ka(n,l,f,u),Ma();var O=n.memoizedState;g!==L||A!==O||jn||e!==null&&e.dependencies!==null&&ol(e.dependencies)?(typeof _=="function"&&(ac(n,a,_,l),O=n.memoizedState),(I=jn||Qp(n,a,I,l,A,O,E)||e!==null&&e.dependencies!==null&&ol(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,O,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,O,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=E,l=I):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Al(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Os(n,e.child,null,u),n.child=Os(n,null,a,u)):et(e,n,a,u),n.memoizedState=f.state,e=n.child):e=vn(e,n,u),e}function fm(e,n,a,l){return Ca(),n.flags|=256,et(e,n,a,l),n.child}var uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cc(e){return{baseLanes:e,cachePool:$d()}}function fc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Pt),e}function hm(e,n,a){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(me){if(u?Xn(n):Qn(),me){var _=He,E;if(E=_){e:{for(E=_,_=en;E.nodeType!==8;){if(!_){_=null;break e}if(E=Ft(E.nextSibling),E===null){_=null;break e}}_=E}_!==null?(n.memoizedState={dehydrated:_,treeContext:Ii!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},E=Ct(18,null,null,0),E.stateNode=_,E.return=n,n.child=E,ht=n,He=null,E=!0):E=!1}E||xi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Xc(_)?n.lanes=32:n.lanes=536870912,null;yn(n)}return _=l.children,l=l.fallback,u?(Qn(),u=n.mode,_=Ol({mode:"hidden",children:_},u),l=Di(l,u,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=cc(a),u.childLanes=fc(e,g,a),n.memoizedState=uc,l):(Xn(n),hc(n,_))}if(E=e.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(f)n.flags&256?(Xn(n),n.flags&=-257,n=dc(e,n,a)):n.memoizedState!==null?(Qn(),n.child=e.child,n.flags|=128,n=null):(Qn(),u=l.fallback,_=n.mode,l=Ol({mode:"visible",children:l.children},_),u=Di(u,_,a,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,Os(n,e.child,null,a),l=n.child,l.memoizedState=cc(a),l.childLanes=fc(e,g,a),n.memoizedState=uc,n=u);else if(Xn(n),Xc(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(r(419)),l.stack="",l.digest=g,wa({value:l,source:null,stack:null}),n=dc(e,n,a)}else if(Fe||Ra(e,n,a,!1),g=(a&e.childLanes)!==0,Fe||g){if(g=Ae,g!==null&&(l=a&-a,l=(l&42)!==0?1:Qo(l),l=(l&(g.suspendedLanes|a))!==0?0:l,l!==0&&l!==E.retryLane))throw E.retryLane=l,_s(e,l),Nt(g,e,l),im;_.data==="$?"||Ic(),n=dc(e,n,a)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,He=Ft(_.nextSibling),ht=n,me=!0,ki=null,en=!1,e!==null&&(zt[Ht++]=dn,zt[Ht++]=pn,zt[Ht++]=Ii,dn=e.id,pn=e.overflow,Ii=n),n=hc(n,l.children),n.flags|=4096);return n}return u?(Qn(),u=l.fallback,_=n.mode,E=e.child,R=E.sibling,l=hn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,R!==null?u=hn(R,u):(u=Di(u,_,a,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=e.child.memoizedState,_===null?_=cc(a):(E=_.cachePool,E!==null?(R=je._currentValue,E=E.parent!==R?{parent:R,pool:R}:E):E=$d(),_={baseLanes:_.baseLanes|a,cachePool:E}),u.memoizedState=_,u.childLanes=fc(e,g,a),n.memoizedState=uc,l):(Xn(n),a=e.child,e=a.sibling,a=hn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function hc(e,n){return n=Ol({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ol(e,n){return e=Ct(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function dc(e,n,a){return Os(n,e.child,null,a),e=hc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dm(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Iu(e.return,n,a)}function pc(e,n,a,l,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function pm(e,n,a){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(et(e,n,l.children,a),l=Ye.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dm(e,a,n);else if(e.tag===19)dm(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(V(Ye,l),u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&Cl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),pc(n,!1,u,a,f);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Cl(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}pc(n,!0,a,null,f);break;case"together":pc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ei|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ra(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=hn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=hn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function mc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ol(e)))}function nS(e,n,a){switch(n.tag){case 3:ke(n,n.stateNode.containerInfo),Gn(n,je,e.memoizedState.cache),Ca();break;case 27:case 5:jo(n);break;case 4:ke(n,n.stateNode.containerInfo);break;case 10:Gn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xn(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hm(e,n,a):(Xn(n),e=vn(e,n,a),e!==null?e.sibling:null);Xn(n);break;case 19:var u=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ra(e,n,a,!1),l=(a&n.childLanes)!==0),u){if(l)return pm(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),V(Ye,Ye.current),l)break;return null;case 22:case 23:return n.lanes=0,lm(e,n,a);case 24:Gn(n,je,e.memoizedState.cache)}return vn(e,n,a)}function mm(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Fe=!0;else{if(!mc(e,a)&&(n.flags&128)===0)return Fe=!1,nS(e,n,a);Fe=(e.flags&131072)!==0}else Fe=!1,me&&(n.flags&1048576)!==0&&Yd(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")Cu(l)?(e=Bi(l,e),n.tag=1,n=cm(null,n,l,e,a)):(n.tag=0,n=oc(null,n,l,e,a));else{if(l!=null){if(u=l.$$typeof,u===se){n.tag=11,n=sm(null,n,l,e,a);break e}else if(u===Oe){n.tag=14,n=am(null,n,l,e,a);break e}}throw n=Ci(l)||l,Error(r(306,n,""))}}return n;case 0:return oc(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,u=Bi(l,n.pendingProps),cm(e,n,l,u,a);case 3:e:{if(ke(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Hu(e,n),ka(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Gn(n,je,l),l!==f.cache&&Mu(n,[je],a,!0),Ma(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fm(e,n,l,a);break e}else if(l!==u){u=Lt(Error(r(424)),n),wa(u),n=fm(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Ft(e.firstChild),ht=n,me=!0,ki=null,en=!0,a=Fp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ca(),l===u){n=vn(e,n,a);break e}et(e,n,l,a)}n=n.child}return n;case 26:return Al(e,n),e===null?(a=vg(n.type,null,n.pendingProps,null))?n.memoizedState=a:me||(a=n.type,e=n.pendingProps,l=Vl(te.current).createElement(a),l[rt]=n,l[pt]=e,nt(l,a,e),Ke(l),n.stateNode=l):n.memoizedState=vg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return jo(n),e===null&&me&&(l=n.stateNode=gg(n.type,n.pendingProps,te.current),ht=n,en=!0,u=He,si(n.type)?(Qc=u,He=Ft(l.firstChild)):He=u),et(e,n,n.pendingProps.children,a),Al(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&me&&((u=l=He)&&(l=DS(l,n.type,n.pendingProps,en),l!==null?(n.stateNode=l,ht=n,He=Ft(l.firstChild),en=!1,u=!0):u=!1),u||xi(n)),jo(n),u=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Yc(u,f)?l=null:g!==null&&Yc(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=ju(e,n,XE,null,null,a),tr._currentValue=u),Al(e,n),et(e,n,l,a),n.child;case 6:return e===null&&me&&((e=a=He)&&(a=IS(a,n.pendingProps,en),a!==null?(n.stateNode=a,ht=n,He=null,e=!0):e=!1),e||xi(n)),null;case 13:return hm(e,n,a);case 4:return ke(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Os(n,null,l,a):et(e,n,l,a),n.child;case 11:return sm(e,n,n.type,n.pendingProps,a);case 7:return et(e,n,n.pendingProps,a),n.child;case 8:return et(e,n,n.pendingProps.children,a),n.child;case 12:return et(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Gn(n,n.type,l.value),et(e,n,l.children,a),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Ui(n),u=lt(u),l=l(u),n.flags|=1,et(e,n,l,a),n.child;case 14:return am(e,n,n.type,n.pendingProps,a);case 15:return rm(e,n,n.type,n.pendingProps,a);case 19:return pm(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=Ol(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=hn(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return lm(e,n,a);case 24:return Ui(n),l=lt(je),e===null?(u=Lu(),u===null&&(u=Ae,f=ku(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),n.memoizedState={parent:l,cache:u},zu(n),Gn(n,je,u)):((e.lanes&a)!==0&&(Hu(e,n),ka(n,null,null,a),Ma()),u=e.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Gn(n,je,l)):(l=f.cache,Gn(n,je,l),l!==u.cache&&Mu(n,[je],a,!0))),et(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function En(e){e.flags|=4}function gm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cg(n)){if(n=Bt.current,n!==null&&((ce&4194048)===ce?tn!==null:(ce&62914560)!==ce&&(ce&536870912)===0||n!==tn))throw Da=Uu,Jd;e.flags|=8192}}function Nl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xh():536870912,e.lanes|=n,Ms|=n)}function Pa(e,n){if(!me)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function iS(e,n,a){var l=n.pendingProps;switch(Ou(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(n),null;case 1:return Ue(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),gn(je),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?En(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xd())),Ue(n),null;case 26:return a=n.memoizedState,e===null?(En(n),a!==null?(Ue(n),gm(n,a)):(Ue(n),n.flags&=-16777217)):a?a!==e.memoizedState?(En(n),Ue(n),gm(n,a)):(Ue(n),n.flags&=-16777217):(e.memoizedProps!==l&&En(n),Ue(n),n.flags&=-16777217),null;case 27:Pr(n),a=te.current;var u=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&En(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ue(n),null}e=X.current,Ta(n)?Kd(n):(e=gg(u,l,a),n.stateNode=e,En(n))}return Ue(n),null;case 5:if(Pr(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&En(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ue(n),null}if(e=X.current,Ta(n))Kd(n);else{switch(u=Vl(te.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}e[rt]=n,e[pt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=e;e:switch(nt(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&En(n)}}return Ue(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&En(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=te.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,u=ht,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[rt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ug(e.nodeValue,a)),e||xi(n)}else e=Vl(e).createTextNode(l),e[rt]=n,n.stateNode=e}return Ue(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ta(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[rt]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ue(n),u=!1}else u=Xd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(yn(n),n):(yn(n),null)}if(yn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Nl(n,n.updateQueue),Ue(n),null;case 4:return Bn(),e===null&&Pc(n.stateNode.containerInfo),Ue(n),null;case 10:return gn(n.type),Ue(n),null;case 19:if(j(Ye),u=n.memoizedState,u===null)return Ue(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)Pa(u,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Cl(e),f!==null){for(n.flags|=128,Pa(u,!1),e=f.updateQueue,n.updateQueue=e,Nl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)jd(a,e),a=a.sibling;return V(Ye,Ye.current&1|2),n.child}e=e.sibling}u.tail!==null&&Jt()>Ml&&(n.flags|=128,l=!0,Pa(u,!1),n.lanes=4194304)}else{if(!l)if(e=Cl(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Nl(n,e),Pa(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!me)return Ue(n),null}else 2*Jt()-u.renderingStartTime>Ml&&a!==536870912&&(n.flags|=128,l=!0,Pa(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(e=u.last,e!==null?e.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Jt(),n.sibling=null,e=Ye.current,V(Ye,l?e&1|2:e&1),n):(Ue(n),null);case 22:case 23:return yn(n),Vu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ue(n),n.subtreeFlags&6&&(n.flags|=8192)):Ue(n),a=n.updateQueue,a!==null&&Nl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&j(zi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),gn(je),Ue(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sS(e,n){switch(Ou(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return gn(je),Bn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Pr(n),null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(Ye),null;case 4:return Bn(),null;case 10:return gn(n.type),null;case 22:case 23:return yn(n),Vu(),e!==null&&j(zi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return gn(je),null;case 25:return null;default:return null}}function _m(e,n){switch(Ou(n),n.tag){case 3:gn(je),Bn();break;case 26:case 27:case 5:Pr(n);break;case 4:Bn();break;case 13:yn(n);break;case 19:j(Ye);break;case 10:gn(n.type);break;case 22:case 23:yn(n),Vu(),e!==null&&j(zi);break;case 24:gn(je)}}function qa(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==u)}}catch(_){Re(n,n.return,_)}}function Wn(e,n,a){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var E=a,R=_;try{R()}catch(I){Re(u,E,I)}}}l=l.next}while(l!==f)}}catch(I){Re(n,n.return,I)}}function ym(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ap(n,a)}catch(l){Re(e,e.return,l)}}}function vm(e,n,a){a.props=Bi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Re(e,n,l)}}function Va(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Re(e,n,u)}}function nn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Re(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Re(e,n,u)}else a.current=null}function Em(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Re(e,e.return,u)}}function gc(e,n,a){try{var l=e.stateNode;wS(l,e.type,a,n),l[pt]=n}catch(u){Re(e,e.return,u)}}function Sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function _c(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ql));else if(l!==4&&(l===27&&si(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(yc(e,n,a),e=e.sibling;e!==null;)yc(e,n,a),e=e.sibling}function Dl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&si(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dl(e,n,a),e=e.sibling;e!==null;)Dl(e,n,a),e=e.sibling}function bm(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);nt(n,l,a),n[rt]=e,n[pt]=a}catch(f){Re(e,e.return,f)}}var Sn=!1,qe=!1,vc=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function aS(e,n){if(e=e.containerInfo,Gc=Xl,e=xd(e),_u(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,_=-1,E=-1,R=0,I=0,L=e,A=null;t:for(;;){for(var O;L!==a||u!==0&&L.nodeType!==3||(_=g+u),L!==f||l!==0&&L.nodeType!==3||(E=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(O=L.firstChild)!==null;)A=L,L=O;for(;;){if(L===e)break t;if(A===a&&++R===u&&(_=g),A===f&&++I===l&&(E=g),(O=L.nextSibling)!==null)break;L=A,A=L.parentNode}L=O}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(jc={focusedElem:e,selectionRange:a},Xl=!1,Xe=n;Xe!==null;)if(n=Xe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Xe=e;else for(;Xe!==null;){switch(n=Xe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ee=Bi(a.type,u,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ee,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Q){Re(a,a.return,Q)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Fc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Xe=e;break}Xe=n.return}}function Cm(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(e,a),l&4&&qa(5,a);break;case 1:if(Zn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Re(a,a.return,g)}else{var u=Bi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Re(a,a.return,g)}}l&64&&ym(a),l&512&&Va(a,a.return);break;case 3:if(Zn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ap(e,n)}catch(g){Re(a,a.return,g)}}break;case 27:n===null&&l&4&&bm(a);case 26:case 5:Zn(e,a),n===null&&l&4&&Em(a),l&512&&Va(a,a.return);break;case 12:Zn(e,a);break;case 13:Zn(e,a),l&4&&Am(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pS.bind(null,a),MS(e,a))));break;case 22:if(l=a.memoizedState!==null||Sn,!l){n=n!==null&&n.memoizedState!==null||qe,u=Sn;var f=qe;Sn=l,(qe=n)&&!f?$n(e,a,(a.subtreeFlags&8772)!==0):Zn(e,a),Sn=u,qe=f}break;case 30:break;default:Zn(e,a)}}function wm(e){var n=e.alternate;n!==null&&(e.alternate=null,wm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$o(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xe=null,_t=!1;function bn(e,n,a){for(a=a.child;a!==null;)Rm(e,n,a),a=a.sibling}function Rm(e,n,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ua,a)}catch{}switch(a.tag){case 26:qe||nn(a,n),bn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||nn(a,n);var l=xe,u=_t;si(a.type)&&(xe=a.stateNode,_t=!1),bn(e,n,a),Za(a.stateNode),xe=l,_t=u;break;case 5:qe||nn(a,n);case 6:if(l=xe,u=_t,xe=null,bn(e,n,a),xe=l,_t=u,xe!==null)if(_t)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(a.stateNode)}catch(f){Re(a,n,f)}else try{xe.removeChild(a.stateNode)}catch(f){Re(a,n,f)}break;case 18:xe!==null&&(_t?(e=xe,pg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ar(e)):pg(xe,a.stateNode));break;case 4:l=xe,u=_t,xe=a.stateNode.containerInfo,_t=!0,bn(e,n,a),xe=l,_t=u;break;case 0:case 11:case 14:case 15:qe||Wn(2,a,n),qe||Wn(4,a,n),bn(e,n,a);break;case 1:qe||(nn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vm(a,n,l)),bn(e,n,a);break;case 21:bn(e,n,a);break;case 22:qe=(l=qe)||a.memoizedState!==null,bn(e,n,a),qe=l;break;default:bn(e,n,a)}}function Am(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ar(e)}catch(a){Re(n,n.return,a)}}function rS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Tm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Tm),n;default:throw Error(r(435,e.tag))}}function Ec(e,n){var a=rS(e);n.forEach(function(l){var u=mS.bind(null,e,l);a.has(l)||(a.add(l),l.then(u,u))})}function wt(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=e,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(si(_.type)){xe=_.stateNode,_t=!1;break e}break;case 5:xe=_.stateNode,_t=!1;break e;case 3:case 4:xe=_.stateNode.containerInfo,_t=!0;break e}_=_.return}if(xe===null)throw Error(r(160));Rm(f,g,u),xe=null,_t=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Om(n,e),n=n.sibling}var Kt=null;function Om(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(n,e),Rt(e),l&4&&(Wn(3,e,e.return),qa(3,e),Wn(5,e,e.return));break;case 1:wt(n,e),Rt(e),l&512&&(qe||a===null||nn(a,a.return)),l&64&&Sn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=Kt;if(wt(n,e),Rt(e),l&512&&(qe||a===null||nn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[ha]||f[rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),nt(f,l,a),f[rt]=e,Ke(f),l=f;break e;case"link":var g=bg("link","href",u).get(l+(a.href||""));if(g){for(var _=0;_<g.length;_++)if(f=g[_],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(_,1);break t}}f=u.createElement(l),nt(f,l,a),u.head.appendChild(f);break;case"meta":if(g=bg("meta","content",u).get(l+(a.content||""))){for(_=0;_<g.length;_++)if(f=g[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(_,1);break t}}f=u.createElement(l),nt(f,l,a),u.head.appendChild(f);break;default:throw Error(r(468,l))}f[rt]=e,Ke(f),l=f}e.stateNode=l}else Tg(u,e.type,e.stateNode);else e.stateNode=Sg(u,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Tg(u,e.type,e.stateNode):Sg(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gc(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(n,e),Rt(e),l&512&&(qe||a===null||nn(a,a.return)),a!==null&&l&4&&gc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(n,e),Rt(e),l&512&&(qe||a===null||nn(a,a.return)),e.flags&32){u=e.stateNode;try{cs(u,"")}catch(O){Re(e,e.return,O)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,gc(e,u,a!==null?a.memoizedProps:u)),l&1024&&(vc=!0);break;case 6:if(wt(n,e),Rt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(O){Re(e,e.return,O)}}break;case 3:if(Yl=null,u=Kt,Kt=Gl(n.containerInfo),wt(n,e),Kt=u,Rt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ar(n.containerInfo)}catch(O){Re(e,e.return,O)}vc&&(vc=!1,Nm(e));break;case 4:l=Kt,Kt=Gl(e.stateNode.containerInfo),wt(n,e),Rt(e),Kt=l;break;case 12:wt(n,e),Rt(e);break;case 13:wt(n,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=Jt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ec(e,l)));break;case 22:u=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,R=Sn,I=qe;if(Sn=R||u,qe=I||E,wt(n,e),qe=I,Sn=R,Rt(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||E||Sn||qe||Pi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(f=E.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=E.stateNode;var L=E.memoizedProps.style,A=L!=null&&L.hasOwnProperty("display")?L.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(O){Re(E,E.return,O)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(O){Re(E,E.return,O)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(e,a))));break;case 19:wt(n,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ec(e,l)));break;case 30:break;case 21:break;default:wt(n,e),Rt(e)}}function Rt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Sm(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,f=_c(e);Dl(e,f,u);break;case 5:var g=a.stateNode;a.flags&32&&(cs(g,""),a.flags&=-33);var _=_c(e);Dl(e,_,g);break;case 3:case 4:var E=a.stateNode.containerInfo,R=_c(e);yc(e,R,E);break;default:throw Error(r(161))}}catch(I){Re(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Nm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Nm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cm(e,n.alternate,n),n=n.sibling}function Pi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Wn(4,n,n.return),Pi(n);break;case 1:nn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vm(n,n.return,a),Pi(n);break;case 27:Za(n.stateNode);case 26:case 5:nn(n,n.return),Pi(n);break;case 22:n.memoizedState===null&&Pi(n);break;case 30:Pi(n);break;default:Pi(n)}e=e.sibling}}function $n(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:$n(u,f,a),qa(4,f);break;case 1:if($n(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Re(l,l.return,R)}if(l=f,u=l.updateQueue,u!==null){var _=l.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)sp(E[u],_)}catch(R){Re(l,l.return,R)}}a&&g&64&&ym(f),Va(f,f.return);break;case 27:bm(f);case 26:case 5:$n(u,f,a),a&&l===null&&g&4&&Em(f),Va(f,f.return);break;case 12:$n(u,f,a);break;case 13:$n(u,f,a),a&&g&4&&Am(u,f);break;case 22:f.memoizedState===null&&$n(u,f,a),Va(f,f.return);break;case 30:break;default:$n(u,f,a)}n=n.sibling}}function Sc(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Aa(a))}function bc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Aa(e))}function sn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dm(e,n,a,l),n=n.sibling}function Dm(e,n,a,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:sn(e,n,a,l),u&2048&&qa(9,n);break;case 1:sn(e,n,a,l);break;case 3:sn(e,n,a,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Aa(e)));break;case 12:if(u&2048){sn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,_=f.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Re(n,n.return,E)}}else sn(e,n,a,l);break;case 13:sn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?sn(e,n,a,l):Ga(e,n):f._visibility&2?sn(e,n,a,l):(f._visibility|=2,Ns(e,n,a,l,(n.subtreeFlags&10256)!==0)),u&2048&&Sc(g,n);break;case 24:sn(e,n,a,l),u&2048&&bc(n.alternate,n);break;default:sn(e,n,a,l)}}function Ns(e,n,a,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,g=n,_=a,E=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:Ns(f,g,_,E,u),qa(8,g);break;case 23:break;case 22:var I=g.stateNode;g.memoizedState!==null?I._visibility&2?Ns(f,g,_,E,u):Ga(f,g):(I._visibility|=2,Ns(f,g,_,E,u)),u&&R&2048&&Sc(g.alternate,g);break;case 24:Ns(f,g,_,E,u),u&&R&2048&&bc(g.alternate,g);break;default:Ns(f,g,_,E,u)}n=n.sibling}}function Ga(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,u=l.flags;switch(l.tag){case 22:Ga(a,l),u&2048&&Sc(l.alternate,l);break;case 24:Ga(a,l),u&2048&&bc(l.alternate,l);break;default:Ga(a,l)}n=n.sibling}}var ja=8192;function Ds(e){if(e.subtreeFlags&ja)for(e=e.child;e!==null;)Im(e),e=e.sibling}function Im(e){switch(e.tag){case 26:Ds(e),e.flags&ja&&e.memoizedState!==null&&YS(Kt,e.memoizedState,e.memoizedProps);break;case 5:Ds(e);break;case 3:case 4:var n=Kt;Kt=Gl(e.stateNode.containerInfo),Ds(e),Kt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ja,ja=16777216,Ds(e),ja=n):Ds(e));break;default:Ds(e)}}function Mm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ya(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Xe=l,xm(l,e)}Mm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)km(e),e=e.sibling}function km(e){switch(e.tag){case 0:case 11:case 15:Ya(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Ya(e);break;case 12:Ya(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Il(e)):Ya(e);break;default:Ya(e)}}function Il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Xe=l,xm(l,e)}Mm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Wn(8,n,n.return),Il(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Il(n));break;default:Il(n)}e=e.sibling}}function xm(e,n){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Wn(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Aa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xe=l;else e:for(a=e;Xe!==null;){l=Xe;var u=l.sibling,f=l.return;if(wm(l),l===a){Xe=null;break e}if(u!==null){u.return=f,Xe=u;break e}Xe=f}}}var lS={getCacheForType:function(e){var n=lt(je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},oS=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ae=null,re=null,ce=0,ye=0,At=null,Jn=!1,Is=!1,Tc=!1,Tn=0,Be=0,ei=0,qi=0,Cc=0,Pt=0,Ms=0,Ka=null,yt=null,wc=!1,Rc=0,Ml=1/0,kl=null,ti=null,tt=0,ni=null,ks=null,xs=0,Ac=0,Oc=null,Lm=null,Fa=0,Nc=null;function Ot(){if((_e&2)!==0&&ce!==0)return ce&-ce;if(M.T!==null){var e=Ss;return e!==0?e:Uc()}return Zh()}function Um(){Pt===0&&(Pt=(ce&536870912)===0||me?Fh():536870912);var e=Bt.current;return e!==null&&(e.flags|=32),Pt}function Nt(e,n,a){(e===Ae&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&(Ls(e,0),ii(e,ce,Pt,!1)),fa(e,a),((_e&2)===0||e!==Ae)&&(e===Ae&&((_e&2)===0&&(qi|=a),Be===4&&ii(e,ce,Pt,!1)),an(e))}function zm(e,n,a){if((_e&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ca(e,n),u=l?fS(e,n):Mc(e,n,!0),f=l;do{if(u===0){Is&&!l&&ii(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!uS(a)){u=Mc(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=e;u=Ka;var E=_.current.memoizedState.isDehydrated;if(E&&(Ls(_,g).flags|=256),g=Mc(_,g,!1),g!==2){if(Tc&&!E){_.errorRecoveryDisabledLanes|=f,qi|=f,u=4;break e}f=yt,yt=u,f!==null&&(yt===null?yt=f:yt.push.apply(yt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Ls(e,0),ii(e,n,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ii(l,n,Pt,!Jn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=Rc+300-Jt(),10<u)){if(ii(l,n,Pt,!Jn),jr(l,0,!0)!==0)break e;l.timeoutHandle=hg(Hm.bind(null,l,a,yt,kl,wc,n,Pt,qi,Ms,Jn,f,2,-0,0),u);break e}Hm(l,a,yt,kl,wc,n,Pt,qi,Ms,Jn,f,0,-0,0)}}break}while(!0);an(e)}function Hm(e,n,a,l,u,f,g,_,E,R,I,L,A,O){if(e.timeoutHandle=-1,L=n.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(er={stylesheets:null,count:0,unsuspend:jS},Im(n),L=KS(),L!==null)){e.cancelPendingCommit=L(Ym.bind(null,e,n,f,a,l,u,g,_,E,I,1,A,O)),ii(e,f,g,!R);return}Ym(e,n,f,a,l,u,g,_,E)}function uS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!Tt(f(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ii(e,n,a,l){n&=~Cc,n&=~qi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var f=31-bt(u),g=1<<f;l[f]=-1,u&=~g}a!==0&&Qh(e,a,n)}function xl(){return(_e&6)===0?(Xa(0),!1):!0}function Dc(){if(re!==null){if(ye===0)var e=re.return;else e=re,mn=Li=null,Fu(e),As=null,Ha=0,e=re;for(;e!==null;)_m(e.alternate,e),e=e.return;re=null}}function Ls(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,AS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dc(),Ae=e,re=a=hn(e.current,null),ce=n,ye=0,At=null,Jn=!1,Is=ca(e,n),Tc=!1,Ms=Pt=Cc=qi=ei=Be=0,yt=Ka=null,wc=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-bt(l),f=1<<u;n|=e[u],l&=~f}return Tn=n,nl(),a}function Bm(e,n){ie=null,M.H=Sl,n===Na||n===fl?(n=np(),ye=3):n===Jd?(n=np(),ye=4):ye=n===im?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,At=n,re===null&&(Be=1,Rl(e,Lt(n,e.current)))}function Pm(){var e=M.H;return M.H=Sl,e===null?Sl:e}function qm(){var e=M.A;return M.A=lS,e}function Ic(){Be=4,Jn||(ce&4194048)!==ce&&Bt.current!==null||(Is=!0),(ei&134217727)===0&&(qi&134217727)===0||Ae===null||ii(Ae,ce,Pt,!1)}function Mc(e,n,a){var l=_e;_e|=2;var u=Pm(),f=qm();(Ae!==e||ce!==n)&&(kl=null,Ls(e,n)),n=!1;var g=Be;e:do try{if(ye!==0&&re!==null){var _=re,E=At;switch(ye){case 8:Dc(),g=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var R=ye;if(ye=0,At=null,Us(e,_,E,R),a&&Is){g=0;break e}break;default:R=ye,ye=0,At=null,Us(e,_,E,R)}}cS(),g=Be;break}catch(I){Bm(e,I)}while(!0);return n&&e.shellSuspendCounter++,mn=Li=null,_e=l,M.H=u,M.A=f,re===null&&(Ae=null,ce=0,nl()),g}function cS(){for(;re!==null;)Vm(re)}function fS(e,n){var a=_e;_e|=2;var l=Pm(),u=qm();Ae!==e||ce!==n?(kl=null,Ml=Jt()+500,Ls(e,n)):Is=ca(e,n);e:do try{if(ye!==0&&re!==null){n=re;var f=At;t:switch(ye){case 1:ye=0,At=null,Us(e,n,f,1);break;case 2:case 9:if(ep(f)){ye=0,At=null,Gm(n);break}n=function(){ye!==2&&ye!==9||Ae!==e||(ye=7),an(e)},f.then(n,n);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:ep(f)?(ye=0,At=null,Gm(n)):(ye=0,At=null,Us(e,n,f,7));break;case 5:var g=null;switch(re.tag){case 26:g=re.memoizedState;case 5:case 27:var _=re;if(!g||Cg(g)){ye=0,At=null;var E=_.sibling;if(E!==null)re=E;else{var R=_.return;R!==null?(re=R,Ll(R)):re=null}break t}}ye=0,At=null,Us(e,n,f,5);break;case 6:ye=0,At=null,Us(e,n,f,6);break;case 8:Dc(),Be=6;break e;default:throw Error(r(462))}}hS();break}catch(I){Bm(e,I)}while(!0);return mn=Li=null,M.H=l,M.A=u,_e=a,re!==null?0:(Ae=null,ce=0,nl(),Be)}function hS(){for(;re!==null&&!x0();)Vm(re)}function Vm(e){var n=mm(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,n===null?Ll(e):re=n}function Gm(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=um(a,n,n.pendingProps,n.type,void 0,ce);break;case 11:n=um(a,n,n.pendingProps,n.type.render,n.ref,ce);break;case 5:Fu(n);default:_m(a,n),n=re=jd(n,Tn),n=mm(a,n,Tn)}e.memoizedProps=e.pendingProps,n===null?Ll(e):re=n}function Us(e,n,a,l){mn=Li=null,Fu(n),As=null,Ha=0;var u=n.return;try{if(tS(e,u,n,a,ce)){Be=1,Rl(e,Lt(a,e.current)),re=null;return}}catch(f){if(u!==null)throw re=u,f;Be=1,Rl(e,Lt(a,e.current)),re=null;return}n.flags&32768?(me||l===1?e=!0:Is||(ce&536870912)!==0?e=!1:(Jn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),jm(n,e)):Ll(n)}function Ll(e){var n=e;do{if((n.flags&32768)!==0){jm(n,Jn);return}e=n.return;var a=iS(n.alternate,n,Tn);if(a!==null){re=a;return}if(n=n.sibling,n!==null){re=n;return}re=n=e}while(n!==null);Be===0&&(Be=5)}function jm(e,n){do{var a=sS(e.alternate,e);if(a!==null){a.flags&=32767,re=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){re=e;return}re=e=a}while(e!==null);Be=6,re=null}function Ym(e,n,a,l,u,f,g,_,E){e.cancelPendingCommit=null;do Ul();while(tt!==0);if((_e&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=bu,j0(e,a,f,g,_,E),e===Ae&&(re=Ae=null,ce=0),ks=n,ni=e,xs=a,Ac=f,Oc=u,Lm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gS(qr,function(){return Wm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=G.p,G.p=2,g=_e,_e|=4;try{aS(e,n,a)}finally{_e=g,G.p=u,M.T=l}}tt=1,Km(),Fm(),Xm()}}function Km(){if(tt===1){tt=0;var e=ni,n=ks,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=G.p;G.p=2;var u=_e;_e|=4;try{Om(n,e);var f=jc,g=xd(e.containerInfo),_=f.focusedElem,E=f.selectionRange;if(g!==_&&_&&_.ownerDocument&&kd(_.ownerDocument.documentElement,_)){if(E!==null&&_u(_)){var R=E.start,I=E.end;if(I===void 0&&(I=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(I,_.value.length);else{var L=_.ownerDocument||document,A=L&&L.defaultView||window;if(A.getSelection){var O=A.getSelection(),ee=_.textContent.length,Q=Math.min(E.start,ee),be=E.end===void 0?Q:Math.min(E.end,ee);!O.extend&&Q>be&&(g=be,be=Q,Q=g);var C=Md(_,Q),b=Md(_,be);if(C&&b&&(O.rangeCount!==1||O.anchorNode!==C.node||O.anchorOffset!==C.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)){var w=L.createRange();w.setStart(C.node,C.offset),O.removeAllRanges(),Q>be?(O.addRange(w),O.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),O.addRange(w))}}}}for(L=[],O=_;O=O.parentNode;)O.nodeType===1&&L.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<L.length;_++){var x=L[_];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}Xl=!!Gc,jc=Gc=null}finally{_e=u,G.p=l,M.T=a}}e.current=n,tt=2}}function Fm(){if(tt===2){tt=0;var e=ni,n=ks,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=G.p;G.p=2;var u=_e;_e|=4;try{Cm(e,n.alternate,n)}finally{_e=u,G.p=l,M.T=a}}tt=3}}function Xm(){if(tt===4||tt===3){tt=0,L0();var e=ni,n=ks,a=xs,l=Lm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tt=5:(tt=0,ks=ni=null,Qm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ti=null),Wo(a),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ua,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=G.p,G.p=2,M.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var _=l[g];f(_.value,{componentStack:_.stack})}}finally{M.T=n,G.p=u}}(xs&3)!==0&&Ul(),an(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Nc?Fa++:(Fa=0,Nc=e):Fa=0,Xa(0)}}function Qm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Aa(n)))}function Ul(e){return Km(),Fm(),Xm(),Wm()}function Wm(){if(tt!==5)return!1;var e=ni,n=Ac;Ac=0;var a=Wo(xs),l=M.T,u=G.p;try{G.p=32>a?32:a,M.T=null,a=Oc,Oc=null;var f=ni,g=xs;if(tt=0,ks=ni=null,xs=0,(_e&6)!==0)throw Error(r(331));var _=_e;if(_e|=4,km(f.current),Dm(f,f.current,g,a),_e=_,Xa(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ua,f)}catch{}return!0}finally{G.p=u,M.T=l,Qm(e,n)}}function Zm(e,n,a){n=Lt(a,n),n=lc(e.stateNode,n,2),e=Kn(e,n,2),e!==null&&(fa(e,2),an(e))}function Re(e,n,a){if(e.tag===3)Zm(e,e,a);else for(;n!==null;){if(n.tag===3){Zm(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ti===null||!ti.has(l))){e=Lt(a,e),a=tm(2),l=Kn(n,a,2),l!==null&&(nm(a,l,n,e),fa(l,2),an(l));break}}n=n.return}}function kc(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new oS;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(Tc=!0,u.add(a),e=dS.bind(null,e,n,a),n.then(e,e))}function dS(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ae===e&&(ce&a)===a&&(Be===4||Be===3&&(ce&62914560)===ce&&300>Jt()-Rc?(_e&2)===0&&Ls(e,0):Cc|=a,Ms===ce&&(Ms=0)),an(e)}function $m(e,n){n===0&&(n=Xh()),e=_s(e,n),e!==null&&(fa(e,n),an(e))}function pS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),$m(e,a)}function mS(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),$m(e,a)}function gS(e,n){return Ko(e,n)}var zl=null,zs=null,xc=!1,Hl=!1,Lc=!1,Vi=0;function an(e){e!==zs&&e.next===null&&(zs===null?zl=zs=e:zs=zs.next=e),Hl=!0,xc||(xc=!0,yS())}function Xa(e,n){if(!Lc&&Hl){Lc=!0;do for(var a=!1,l=zl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-bt(42|e)+1)-1,f&=u&~(g&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ng(l,f))}else f=ce,f=jr(l,l===Ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ca(l,f)||(a=!0,ng(l,f));l=l.next}while(a);Lc=!1}}function _S(){Jm()}function Jm(){Hl=xc=!1;var e=0;Vi!==0&&(RS()&&(e=Vi),Vi=0);for(var n=Jt(),a=null,l=zl;l!==null;){var u=l.next,f=eg(l,n);f===0?(l.next=null,a===null?zl=u:a.next=u,u===null&&(zs=a)):(a=l,(e!==0||(f&3)!==0)&&(Hl=!0)),l=u}Xa(e)}function eg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-bt(f),_=1<<g,E=u[g];E===-1?((_&a)===0||(_&l)!==0)&&(u[g]=G0(_,n)):E<=n&&(e.expiredLanes|=_),f&=~_}if(n=Ae,a=ce,a=jr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Fo(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ca(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Fo(l),Wo(a)){case 2:case 8:a=Yh;break;case 32:a=qr;break;case 268435456:a=Kh;break;default:a=qr}return l=tg.bind(null,e),a=Ko(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Fo(l),e.callbackPriority=2,e.callbackNode=null,2}function tg(e,n){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ul()&&e.callbackNode!==a)return null;var l=ce;return l=jr(e,e===Ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(zm(e,l,n),eg(e,Jt()),e.callbackNode!=null&&e.callbackNode===a?tg.bind(null,e):null)}function ng(e,n){if(Ul())return null;zm(e,n,!0)}function yS(){OS(function(){(_e&6)!==0?Ko(jh,_S):Jm()})}function Uc(){return Vi===0&&(Vi=Fh()),Vi}function ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qr(""+e)}function sg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function vS(e,n,a,l,u){if(n==="submit"&&a&&a.stateNode===u){var f=ig((u[pt]||null).action),g=l.submitter;g&&(n=(n=g[pt]||null)?ig(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var _=new Jr("action","action",null,l,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vi!==0){var E=g?sg(u,g):new FormData(u);nc(a,{pending:!0,data:E,method:u.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=g?sg(u,g):new FormData(u),nc(a,{pending:!0,data:E,method:u.method,action:f},f,E))},currentTarget:u}]})}}for(var zc=0;zc<Su.length;zc++){var Hc=Su[zc],ES=Hc.toLowerCase(),SS=Hc[0].toUpperCase()+Hc.slice(1);Yt(ES,"on"+SS)}Yt(zd,"onAnimationEnd"),Yt(Hd,"onAnimationIteration"),Yt(Bd,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(HE,"onTransitionRun"),Yt(BE,"onTransitionStart"),Yt(PE,"onTransitionCancel"),Yt(Pd,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qa));function ag(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],E=_.instance,R=_.currentTarget;if(_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(I){wl(I)}u.currentTarget=null,f=E}else for(g=0;g<l.length;g++){if(_=l[g],E=_.instance,R=_.currentTarget,_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(I){wl(I)}u.currentTarget=null,f=E}}}}function le(e,n){var a=n[Zo];a===void 0&&(a=n[Zo]=new Set);var l=e+"__bubble";a.has(l)||(rg(n,e,2,!1),a.add(l))}function Bc(e,n,a){var l=0;n&&(l|=4),rg(a,e,l,n)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Pc(e){if(!e[Bl]){e[Bl]=!0,Jh.forEach(function(a){a!=="selectionchange"&&(bS.has(a)||Bc(a,!1,e),Bc(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bl]||(n[Bl]=!0,Bc("selectionchange",!1,n))}}function rg(e,n,a,l){switch(Dg(n)){case 2:var u=QS;break;case 8:u=WS;break;default:u=ef}a=u.bind(null,n,a,e),u=void 0,!ou||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function qc(e,n,a,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u)break;if(g===4)for(g=l.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;_!==null;){if(g=ss(_),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){l=f=g;continue e}_=_.parentNode}}l=l.return}dd(function(){var R=f,I=ru(a),L=[];e:{var A=qd.get(e);if(A!==void 0){var O=Jr,ee=e;switch(e){case"keypress":if(Zr(a)===0)break e;case"keydown":case"keyup":O=gE;break;case"focusin":ee="focus",O=hu;break;case"focusout":ee="blur",O=hu;break;case"beforeblur":case"afterblur":O=hu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=sE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=vE;break;case zd:case Hd:case Bd:O=lE;break;case Pd:O=SE;break;case"scroll":case"scrollend":O=nE;break;case"wheel":O=TE;break;case"copy":case"cut":case"paste":O=uE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=yd;break;case"toggle":case"beforetoggle":O=wE}var Q=(n&4)!==0,be=!Q&&(e==="scroll"||e==="scrollend"),C=Q?A!==null?A+"Capture":null:A;Q=[];for(var b=R,w;b!==null;){var x=b;if(w=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||w===null||C===null||(x=pa(b,C),x!=null&&Q.push(Wa(b,x,w))),be)break;b=b.return}0<Q.length&&(A=new O(A,ee,null,a,I),L.push({event:A,listeners:Q}))}}if((n&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",A&&a!==au&&(ee=a.relatedTarget||a.fromElement)&&(ss(ee)||ee[is]))break e;if((O||A)&&(A=I.window===I?I:(A=I.ownerDocument)?A.defaultView||A.parentWindow:window,O?(ee=a.relatedTarget||a.toElement,O=R,ee=ee?ss(ee):null,ee!==null&&(be=c(ee),Q=ee.tag,ee!==be||Q!==5&&Q!==27&&Q!==6)&&(ee=null)):(O=null,ee=R),O!==ee)){if(Q=gd,x="onMouseLeave",C="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(Q=yd,x="onPointerLeave",C="onPointerEnter",b="pointer"),be=O==null?A:da(O),w=ee==null?A:da(ee),A=new Q(x,b+"leave",O,a,I),A.target=be,A.relatedTarget=w,x=null,ss(I)===R&&(Q=new Q(C,b+"enter",ee,a,I),Q.target=w,Q.relatedTarget=be,x=Q),be=x,O&&ee)t:{for(Q=O,C=ee,b=0,w=Q;w;w=Hs(w))b++;for(w=0,x=C;x;x=Hs(x))w++;for(;0<b-w;)Q=Hs(Q),b--;for(;0<w-b;)C=Hs(C),w--;for(;b--;){if(Q===C||C!==null&&Q===C.alternate)break t;Q=Hs(Q),C=Hs(C)}Q=null}else Q=null;O!==null&&lg(L,A,O,Q,!1),ee!==null&&be!==null&&lg(L,be,ee,Q,!0)}}e:{if(A=R?da(R):window,O=A.nodeName&&A.nodeName.toLowerCase(),O==="select"||O==="input"&&A.type==="file")var Y=Rd;else if(Cd(A))if(Ad)Y=LE;else{Y=kE;var ae=ME}else O=A.nodeName,!O||O.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?R&&su(R.elementType)&&(Y=Rd):Y=xE;if(Y&&(Y=Y(e,R))){wd(L,Y,a,I);break e}ae&&ae(e,A,R),e==="focusout"&&R&&A.type==="number"&&R.memoizedProps.value!=null&&iu(A,"number",A.value)}switch(ae=R?da(R):window,e){case"focusin":(Cd(ae)||ae.contentEditable==="true")&&(ps=ae,yu=R,ba=null);break;case"focusout":ba=yu=ps=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,Ld(L,a,I);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":Ld(L,a,I)}var F;if(pu)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else ds?bd(e,a)&&(Z="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Z="onCompositionStart");Z&&(vd&&a.locale!=="ko"&&(ds||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&ds&&(F=pd()):(Vn=I,uu="value"in Vn?Vn.value:Vn.textContent,ds=!0)),ae=Pl(R,Z),0<ae.length&&(Z=new _d(Z,e,null,a,I),L.push({event:Z,listeners:ae}),F?Z.data=F:(F=Td(a),F!==null&&(Z.data=F)))),(F=AE?OE(e,a):NE(e,a))&&(Z=Pl(R,"onBeforeInput"),0<Z.length&&(ae=new _d("onBeforeInput","beforeinput",null,a,I),L.push({event:ae,listeners:Z}),ae.data=F)),vS(L,e,R,a,I)}ag(L,n)})}function Wa(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Pl(e,n){for(var a=n+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=pa(e,a),u!=null&&l.unshift(Wa(e,u,f)),u=pa(e,n),u!=null&&l.push(Wa(e,u,f))),e.tag===3)return l;e=e.return}return[]}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lg(e,n,a,l,u){for(var f=n._reactName,g=[];a!==null&&a!==l;){var _=a,E=_.alternate,R=_.stateNode;if(_=_.tag,E!==null&&E===l)break;_!==5&&_!==26&&_!==27||R===null||(E=R,u?(R=pa(a,f),R!=null&&g.unshift(Wa(a,R,E))):u||(R=pa(a,f),R!=null&&g.push(Wa(a,R,E)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var TS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function og(e){return(typeof e=="string"?e:""+e).replace(TS,`
`).replace(CS,"")}function ug(e,n){return n=og(n),og(e)===n}function ql(){}function Se(e,n,a,l,u,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||cs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&cs(e,""+l);break;case"className":Kr(e,"class",l);break;case"tabIndex":Kr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(e,a,l);break;case"style":fd(e,l,f);break;case"data":if(n!=="object"){Kr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Se(e,n,"name",u.name,u,null),Se(e,n,"formEncType",u.formEncType,u,null),Se(e,n,"formMethod",u.formMethod,u,null),Se(e,n,"formTarget",u.formTarget,u,null)):(Se(e,n,"encType",u.encType,u,null),Se(e,n,"method",u.method,u,null),Se(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ql);break;case"onScroll":l!=null&&le("scroll",e);break;case"onScrollEnd":l!=null&&le("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Qr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":le("beforetoggle",e),le("toggle",e),Yr(e,"popover",l);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eE.get(a)||a,Yr(e,a,l))}}function Vc(e,n,a,l,u,f){switch(a){case"style":fd(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?cs(e,l):(typeof l=="number"||typeof l=="bigint")&&cs(e,""+l);break;case"onScroll":l!=null&&le("scroll",e);break;case"onScrollEnd":l!=null&&le("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ql);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ed.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),f=e[pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Yr(e,a,l)}}}function nt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",e),le("load",e);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Se(e,n,f,g,a,null)}}u&&Se(e,n,"srcSet",a.srcSet,a,null),l&&Se(e,n,"src",a.src,a,null);return;case"input":le("invalid",e);var _=f=g=u=null,E=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var I=a[l];if(I!=null)switch(l){case"name":u=I;break;case"type":g=I;break;case"checked":E=I;break;case"defaultChecked":R=I;break;case"value":f=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:Se(e,n,l,I,a,null)}}ld(e,f,_,E,R,g,u,!1),Fr(e);return;case"select":le("invalid",e),l=g=f=null;for(u in a)if(a.hasOwnProperty(u)&&(_=a[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Se(e,n,u,_,a,null)}n=f,a=g,e.multiple=!!l,n!=null?us(e,!!l,n,!1):a!=null&&us(e,!!l,a,!0);return;case"textarea":le("invalid",e),f=u=l=null;for(g in a)if(a.hasOwnProperty(g)&&(_=a[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Se(e,n,g,_,a,null)}ud(e,l,u,f),Fr(e);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Se(e,n,E,l,a,null)}return;case"dialog":le("beforetoggle",e),le("toggle",e),le("cancel",e),le("close",e);break;case"iframe":case"object":le("load",e);break;case"video":case"audio":for(l=0;l<Qa.length;l++)le(Qa[l],e);break;case"image":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"embed":case"source":case"link":le("error",e),le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Se(e,n,R,l,a,null)}return;default:if(su(n)){for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!==void 0&&Vc(e,n,I,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Se(e,n,_,l,a,null))}function wS(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,_=null,E=null,R=null,I=null;for(O in a){var L=a[O];if(a.hasOwnProperty(O)&&L!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":E=L;default:l.hasOwnProperty(O)||Se(e,n,O,null,l,L)}}for(var A in l){var O=l[A];if(L=a[A],l.hasOwnProperty(A)&&(O!=null||L!=null))switch(A){case"type":f=O;break;case"name":u=O;break;case"checked":R=O;break;case"defaultChecked":I=O;break;case"value":g=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:O!==L&&Se(e,n,A,O,l,L)}}nu(e,g,_,E,R,I,f,u);return;case"select":O=g=_=A=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":O=E;default:l.hasOwnProperty(f)||Se(e,n,f,null,l,E)}for(u in l)if(f=l[u],E=a[u],l.hasOwnProperty(u)&&(f!=null||E!=null))switch(u){case"value":A=f;break;case"defaultValue":_=f;break;case"multiple":g=f;default:f!==E&&Se(e,n,u,f,l,E)}n=_,a=g,l=O,A!=null?us(e,!!a,A,!1):!!l!=!!a&&(n!=null?us(e,!!a,n,!0):us(e,!!a,a?[]:"",!1));return;case"textarea":O=A=null;for(_ in a)if(u=a[_],a.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Se(e,n,_,null,l,u)}for(g in l)if(u=l[g],f=a[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":A=u;break;case"defaultValue":O=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Se(e,n,g,u,l,f)}od(e,A,O);return;case"option":for(var ee in a)if(A=a[ee],a.hasOwnProperty(ee)&&A!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Se(e,n,ee,null,l,A)}for(E in l)if(A=l[E],O=a[E],l.hasOwnProperty(E)&&A!==O&&(A!=null||O!=null))switch(E){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Se(e,n,E,A,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Q in a)A=a[Q],a.hasOwnProperty(Q)&&A!=null&&!l.hasOwnProperty(Q)&&Se(e,n,Q,null,l,A);for(R in l)if(A=l[R],O=a[R],l.hasOwnProperty(R)&&A!==O&&(A!=null||O!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(137,n));break;default:Se(e,n,R,A,l,O)}return;default:if(su(n)){for(var be in a)A=a[be],a.hasOwnProperty(be)&&A!==void 0&&!l.hasOwnProperty(be)&&Vc(e,n,be,void 0,l,A);for(I in l)A=l[I],O=a[I],!l.hasOwnProperty(I)||A===O||A===void 0&&O===void 0||Vc(e,n,I,A,l,O);return}}for(var C in a)A=a[C],a.hasOwnProperty(C)&&A!=null&&!l.hasOwnProperty(C)&&Se(e,n,C,null,l,A);for(L in l)A=l[L],O=a[L],!l.hasOwnProperty(L)||A===O||A==null&&O==null||Se(e,n,L,A,l,O)}var Gc=null,jc=null;function Vl(e){return e.nodeType===9?e:e.ownerDocument}function cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kc=null;function RS(){var e=window.event;return e&&e.type==="popstate"?e===Kc?!1:(Kc=e,!0):(Kc=null,!1)}var hg=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,OS=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(NS)}:hg;function NS(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function pg(e,n){var a=n,l=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var g=e.ownerDocument;if(a&1&&Za(g.documentElement),a&2&&Za(g.body),a&4)for(a=g.head,Za(a),g=a.firstChild;g;){var _=g.nextSibling,E=g.nodeName;g[ha]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=_}}if(u===0){e.removeChild(f),ar(n);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);ar(n)}function Fc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fc(a),$o(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function DS(e,n,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ha])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function IS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ft(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function MS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ft(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Qc=null;function mg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function gg(e,n,a){switch(n=Vl(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Za(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$o(e)}var qt=new Map,_g=new Set;function Gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=G.d;G.d={f:kS,r:xS,D:LS,C:US,L:zS,m:HS,X:PS,S:BS,M:qS};function kS(){var e=Cn.f(),n=xl();return e||n}function xS(e){var n=as(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):Cn.r(e)}var Bs=typeof document>"u"?null:document;function yg(e,n,a){var l=Bs;if(l&&typeof n=="string"&&n){var u=xt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),_g.has(u)||(_g.add(u),e={rel:e,crossOrigin:a,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),nt(n,"link",e),Ke(n),l.head.appendChild(n)))}}function LS(e){Cn.D(e),yg("dns-prefetch",e,null)}function US(e,n){Cn.C(e,n),yg("preconnect",e,n)}function zS(e,n,a){Cn.L(e,n,a);var l=Bs;if(l&&e&&n){var u='link[rel="preload"][as="'+xt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+xt(a.imageSizes)+'"]')):u+='[href="'+xt(e)+'"]';var f=u;switch(n){case"style":f=Ps(e);break;case"script":f=qs(e)}qt.has(f)||(e=y({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),qt.set(f,e),l.querySelector(u)!==null||n==="style"&&l.querySelector($a(f))||n==="script"&&l.querySelector(Ja(f))||(n=l.createElement("link"),nt(n,"link",e),Ke(n),l.head.appendChild(n)))}}function HS(e,n){Cn.m(e,n);var a=Bs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qs(e)}if(!qt.has(f)&&(e=y({rel:"modulepreload",href:e},n),qt.set(f,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ja(f)))return}l=a.createElement("link"),nt(l,"link",e),Ke(l),a.head.appendChild(l)}}}function BS(e,n,a){Cn.S(e,n,a);var l=Bs;if(l&&e){var u=rs(l).hoistableStyles,f=Ps(e);n=n||"default";var g=u.get(f);if(!g){var _={loading:0,preload:null};if(g=l.querySelector($a(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},a),(a=qt.get(f))&&Wc(e,a);var E=g=l.createElement("link");Ke(E),nt(E,"link",e),E._p=new Promise(function(R,I){E.onload=R,E.onerror=I}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,jl(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(f,g)}}}function PS(e,n){Cn.X(e,n);var a=Bs;if(a&&e){var l=rs(a).hoistableScripts,u=qs(e),f=l.get(u);f||(f=a.querySelector(Ja(u)),f||(e=y({src:e,async:!0},n),(n=qt.get(u))&&Zc(e,n),f=a.createElement("script"),Ke(f),nt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function qS(e,n){Cn.M(e,n);var a=Bs;if(a&&e){var l=rs(a).hoistableScripts,u=qs(e),f=l.get(u);f||(f=a.querySelector(Ja(u)),f||(e=y({src:e,async:!0,type:"module"},n),(n=qt.get(u))&&Zc(e,n),f=a.createElement("script"),Ke(f),nt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function vg(e,n,a,l){var u=(u=te.current)?Gl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ps(a.href),a=rs(u).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ps(a.href);var f=rs(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector($a(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qt.set(e,a),f||VS(u,e,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qs(a),a=rs(u).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ps(e){return'href="'+xt(e)+'"'}function $a(e){return'link[rel="stylesheet"]['+e+"]"}function Eg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function VS(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nt(n,"link",a),Ke(n),e.head.appendChild(n))}function qs(e){return'[src="'+xt(e)+'"]'}function Ja(e){return"script[async]"+e}function Sg(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return n.instance=l,Ke(l),l;var u=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ke(l),nt(l,"style",u),jl(l,a.precedence,e),n.instance=l;case"stylesheet":u=Ps(a.href);var f=e.querySelector($a(u));if(f)return n.state.loading|=4,n.instance=f,Ke(f),f;l=Eg(a),(u=qt.get(u))&&Wc(l,u),f=(e.ownerDocument||e).createElement("link"),Ke(f);var g=f;return g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),nt(f,"link",l),n.state.loading|=4,jl(f,a.precedence,e),n.instance=f;case"script":return f=qs(a.src),(u=e.querySelector(Ja(f)))?(n.instance=u,Ke(u),u):(l=a,(u=qt.get(f))&&(l=y({},a),Zc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Ke(u),nt(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,jl(l,a.precedence,e));return n.instance}function jl(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Wc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Yl=null;function bg(e,n,a){if(Yl===null){var l=new Map,u=Yl=new Map;u.set(a,l)}else u=Yl,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[ha]||f[rt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var _=l.get(g);_?_.push(f):l.set(g,[f])}}return l}function Tg(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function GS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var er=null;function jS(){}function YS(e,n,a){if(er===null)throw Error(r(475));var l=er;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Ps(a.href),f=e.querySelector($a(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Kl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,Ke(f);return}f=e.ownerDocument||e,a=Eg(a),(u=qt.get(u))&&Wc(a,u),f=f.createElement("link"),Ke(f);var g=f;g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),nt(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Kl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function KS(){if(er===null)throw Error(r(475));var e=er;return e.stylesheets&&e.count===0&&$c(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&$c(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Kl(){if(this.count--,this.count===0){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fl=null;function $c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fl=new Map,n.forEach(FS,e),Fl=null,Kl.call(e))}function FS(e,n){if(!(n.state.loading&4)){var a=Fl.get(e);if(a)var l=a.get(null);else{a=new Map,Fl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,u),a.set(g,u),this.count++,l=Kl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var tr={$$typeof:P,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function XS(e,n,a,l,u,f,g,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.hiddenUpdates=Xo(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function wg(e,n,a,l,u,f,g,_,E,R,I,L){return e=new XS(e,n,a,g,_,E,R,L),n=1,f===!0&&(n|=24),f=Ct(3,null,null,n),e.current=f,f.stateNode=e,n=ku(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},zu(f),e}function Rg(e){return e?(e=ys,e):ys}function Ag(e,n,a,l,u,f){u=Rg(u),l.context===null?l.context=u:l.pendingContext=u,l=Yn(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Kn(e,l,n),a!==null&&(Nt(a,e,n),Ia(a,e,n))}function Og(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Jc(e,n){Og(e,n),(e=e.alternate)&&Og(e,n)}function Ng(e){if(e.tag===13){var n=_s(e,67108864);n!==null&&Nt(n,e,67108864),Jc(e,67108864)}}var Xl=!0;function QS(e,n,a,l){var u=M.T;M.T=null;var f=G.p;try{G.p=2,ef(e,n,a,l)}finally{G.p=f,M.T=u}}function WS(e,n,a,l){var u=M.T;M.T=null;var f=G.p;try{G.p=8,ef(e,n,a,l)}finally{G.p=f,M.T=u}}function ef(e,n,a,l){if(Xl){var u=tf(l);if(u===null)qc(e,n,l,Ql,a),Ig(e,l);else if($S(u,e,n,a,l))l.stopPropagation();else if(Ig(e,l),n&4&&-1<ZS.indexOf(e)){for(;u!==null;){var f=as(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=wi(f.pendingLanes);if(g!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var E=1<<31-bt(g);_.entanglements[1]|=E,g&=~E}an(f),(_e&6)===0&&(Ml=Jt()+500,Xa(0))}}break;case 13:_=_s(f,2),_!==null&&Nt(_,f,2),xl(),Jc(f,2)}if(f=tf(l),f===null&&qc(e,n,l,Ql,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else qc(e,n,l,null,a)}}function tf(e){return e=ru(e),nf(e)}var Ql=null;function nf(e){if(Ql=null,e=ss(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ql=e,null}function Dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(U0()){case jh:return 2;case Yh:return 8;case qr:case z0:return 32;case Kh:return 268435456;default:return 32}default:return 32}}var sf=!1,ai=null,ri=null,li=null,nr=new Map,ir=new Map,oi=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ig(e,n){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":nr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(n.pointerId)}}function sr(e,n,a,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=as(n),n!==null&&Ng(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function $S(e,n,a,l,u){switch(n){case"focusin":return ai=sr(ai,e,n,a,l,u),!0;case"dragenter":return ri=sr(ri,e,n,a,l,u),!0;case"mouseover":return li=sr(li,e,n,a,l,u),!0;case"pointerover":var f=u.pointerId;return nr.set(f,sr(nr.get(f)||null,e,n,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,ir.set(f,sr(ir.get(f)||null,e,n,a,l,u)),!0}return!1}function Mg(e){var n=ss(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Y0(e.priority,function(){if(a.tag===13){var l=Ot();l=Qo(l);var u=_s(a,l);u!==null&&Nt(u,a,l),Jc(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=tf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);au=l,a.target.dispatchEvent(l),au=null}else return n=as(a),n!==null&&Ng(n),e.blockedOn=a,!1;n.shift()}return!0}function kg(e,n,a){Wl(e)&&a.delete(n)}function JS(){sf=!1,ai!==null&&Wl(ai)&&(ai=null),ri!==null&&Wl(ri)&&(ri=null),li!==null&&Wl(li)&&(li=null),nr.forEach(kg),ir.forEach(kg)}function Zl(e,n){e.blockedOn===n&&(e.blockedOn=null,sf||(sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JS)))}var $l=null;function xg(e){$l!==e&&($l=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){$l===e&&($l=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(nf(l||a)===null)continue;break}var f=as(a);f!==null&&(e.splice(n,3),n-=3,nc(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function ar(e){function n(E){return Zl(E,e)}ai!==null&&Zl(ai,e),ri!==null&&Zl(ri,e),li!==null&&Zl(li,e),nr.forEach(n),ir.forEach(n);for(var a=0;a<oi.length;a++){var l=oi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<oi.length&&(a=oi[0],a.blockedOn===null);)Mg(a),a.blockedOn===null&&oi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],g=u[pt]||null;if(typeof f=="function")g||xg(a);else if(g){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[pt]||null)_=g.formAction;else if(nf(u)!==null)continue}else _=g.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),xg(a)}}}function af(e){this._internalRoot=e}Jl.prototype.render=af.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Ot();Ag(a,l,e,n,null,null)},Jl.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ag(e.current,2,null,e,null,null),xl(),n[is]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<oi.length&&n!==0&&n<oi[a].priority;a++);oi.splice(a,0,e),a===0&&Mg(e)}};var Lg=t.version;if(Lg!=="19.1.0")throw Error(r(527,Lg,"19.1.0"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var eb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{ua=eo.inject(eb),St=eo}catch{}}return rr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",u=Zp,f=$p,g=Jp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=wg(e,1,!1,null,null,a,l,u,f,g,_,null),e[is]=n.current,Pc(e),new af(n)},rr.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,u="",f=Zp,g=$p,_=Jp,E=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),n=wg(e,1,!0,n,a??null,l,u,f,g,_,E,R),n.context=Rg(null),a=n.current,l=Ot(),l=Qo(l),u=Yn(l),u.callback=null,Kn(a,u,l),a=l,n.current.lanes=a,fa(n,a),an(n),e[is]=n.current,Pc(e),new Jl(n)},rr.version="19.1.0",rr}var Gg;function ob(){if(Gg)return lf.exports;Gg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),lf.exports=lb(),lf.exports}var ub=ob();const cb=ly(ub);var lr={},jg;function fb(){if(jg)return lr;jg=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.parse=h,lr.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,D){const N=new c,B=T.length;if(B<2)return N;const H=(D==null?void 0:D.decode)||y;let z=0;do{const K=T.indexOf("=",z);if(K===-1)break;const P=T.indexOf(";",z),se=P===-1?B:P;if(K>se){z=T.lastIndexOf(";",K-1)+1;continue}const W=p(T,z,K),Me=d(T,K,W),Oe=T.slice(W,Me);if(N[Oe]===void 0){let Le=p(T,K+1,se),ve=d(T,se,Le);const Je=H(T.slice(Le,ve));N[Oe]=Je}z=se+1}while(z<B);return N}function p(T,D,N){do{const B=T.charCodeAt(D);if(B!==32&&B!==9)return D}while(++D<N);return N}function d(T,D,N){for(;D>N;){const B=T.charCodeAt(--D);if(B!==32&&B!==9)return D+1}return N}function m(T,D,N){const B=(N==null?void 0:N.encode)||encodeURIComponent;if(!s.test(T))throw new TypeError(`argument name is invalid: ${T}`);const H=B(D);if(!t.test(H))throw new TypeError(`argument val is invalid: ${D}`);let z=T+"="+H;if(!N)return z;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);z+="; Max-Age="+N.maxAge}if(N.domain){if(!i.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);z+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);z+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);z+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(z+="; HttpOnly"),N.secure&&(z+="; Secure"),N.partitioned&&(z+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return z}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function v(T){return o.call(T)==="[object Date]"}return lr}fb();var Yg="popstate";function hb(s={}){function t(r,o){let{pathname:c,search:h,hash:p}=r.location;return Of("",{pathname:c,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Er(o)}return pb(t,i,null,s)}function ze(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function on(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function Kg(s,t){return{usr:s.state,key:s.key,idx:t}}function Of(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?ea(t):t,state:i,key:t&&t.key||r||db()}}function Er({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function ea(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function pb(s,t,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,h=o.history,p="POP",d=null,m=y();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function y(){return(h.state||{idx:null}).idx}function v(){p="POP";let H=y(),z=H==null?null:H-m;m=H,d&&d({action:p,location:B.location,delta:z})}function T(H,z){p="PUSH";let K=Of(B.location,H,z);m=y()+1;let P=Kg(K,m),se=B.createHref(K);try{h.pushState(P,"",se)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(se)}c&&d&&d({action:p,location:B.location,delta:1})}function D(H,z){p="REPLACE";let K=Of(B.location,H,z);m=y();let P=Kg(K,m),se=B.createHref(K);h.replaceState(P,"",se),c&&d&&d({action:p,location:B.location,delta:0})}function N(H){let z=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof H=="string"?H:Er(H);return K=K.replace(/ $/,"%20"),ze(z,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,z)}let B={get action(){return p},get location(){return s(o,h)},listen(H){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Yg,v),d=H,()=>{o.removeEventListener(Yg,v),d=null}},createHref(H){return t(o,H)},createURL:N,encodeLocation(H){let z=N(H);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:D,go(H){return h.go(H)}};return B}function oy(s,t,i="/"){return mb(s,t,i,!1)}function mb(s,t,i,r){let o=typeof t=="string"?ea(t):t,c=Mn(o.pathname||"/",i);if(c==null)return null;let h=uy(s);gb(h);let p=null;for(let d=0;p==null&&d<h.length;++d){let m=Ab(c);p=wb(h[d],m,r)}return p}function uy(s,t=[],i=[],r=""){let o=(c,h,p)=>{let d={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};d.relativePath.startsWith("/")&&(ze(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Nn([r,d.relativePath]),y=i.concat(d);c.children&&c.children.length>0&&(ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),uy(c.children,t,y,m)),!(c.path==null&&!c.index)&&t.push({path:m,score:Tb(m,c.index),routesMeta:y})};return s.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))o(c,h);else for(let d of cy(c.path))o(c,h,d)}),t}function cy(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let h=cy(r.join("/")),p=[];return p.push(...h.map(d=>d===""?c:[c,d].join("/"))),o&&p.push(...h),p.map(d=>s.startsWith("/")&&d===""?"/":d)}function gb(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:Cb(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var _b=/^:[\w-]+$/,yb=3,vb=2,Eb=1,Sb=10,bb=-2,Fg=s=>s==="*";function Tb(s,t){let i=s.split("/"),r=i.length;return i.some(Fg)&&(r+=bb),t&&(r+=vb),i.filter(o=>!Fg(o)).reduce((o,c)=>o+(_b.test(c)?yb:c===""?Eb:Sb),r)}function Cb(s,t){return s.length===t.length&&s.slice(0,-1).every((r,o)=>r===t[o])?s[s.length-1]-t[t.length-1]:0}function wb(s,t,i=!1){let{routesMeta:r}=s,o={},c="/",h=[];for(let p=0;p<r.length;++p){let d=r[p],m=p===r.length-1,y=c==="/"?t:t.slice(c.length)||"/",v=po({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),T=d.route;if(!v&&m&&i&&!r[r.length-1].route.index&&(v=po({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:Nn([c,v.pathname]),pathnameBase:Ib(Nn([c,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(c=Nn([c,v.pathnameBase]))}return h}function po(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=Rb(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:v},T)=>{if(y==="*"){let N=p[T]||"";h=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const D=p[T];return v&&!D?m[y]=void 0:m[y]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:h,pattern:s}}function Rb(s,t=!1,i=!0){on(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,d)=>(r.push({paramName:p,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Ab(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return on(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Mn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function Ob(s,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?ea(s):s;return{pathname:i?i.startsWith("/")?i:Nb(i,t):t,search:Mb(r),hash:kb(o)}}function Nb(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ff(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Db(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function fy(s){let t=Db(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function hy(s,t,i,r=!1){let o;typeof s=="string"?o=ea(s):(o={...s},ze(!o.pathname||!o.pathname.includes("?"),ff("?","pathname","search",o)),ze(!o.pathname||!o.pathname.includes("#"),ff("#","pathname","hash",o)),ze(!o.search||!o.search.includes("#"),ff("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=i;else{let v=t.length-1;if(!r&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),v-=1;o.pathname=T.join("/")}p=v>=0?t[v]:"/"}let d=Ob(o,p),m=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Nn=s=>s.join("/").replace(/\/\/+/g,"/"),Ib=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Mb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,kb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function xb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var dy=["POST","PUT","PATCH","DELETE"];new Set(dy);var Lb=["GET",...dy];new Set(Lb);var ta=k.createContext(null);ta.displayName="DataRouter";var ko=k.createContext(null);ko.displayName="DataRouterState";var py=k.createContext({isTransitioning:!1});py.displayName="ViewTransition";var Ub=k.createContext(new Map);Ub.displayName="Fetchers";var zb=k.createContext(null);zb.displayName="Await";var un=k.createContext(null);un.displayName="Navigation";var Ar=k.createContext(null);Ar.displayName="Location";var Un=k.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var Jf=k.createContext(null);Jf.displayName="RouteError";function Hb(s,{relative:t}={}){ze(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=k.useContext(un),{hash:o,pathname:c,search:h}=Nr(s,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Nn([i,c])),r.createHref({pathname:p,search:h,hash:o})}function Or(){return k.useContext(Ar)!=null}function es(){return ze(Or(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ar).location}var my="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gy(s){k.useContext(un).static||k.useLayoutEffect(s)}function eh(){let{isDataRoute:s}=k.useContext(Un);return s?Zb():Bb()}function Bb(){ze(Or(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(ta),{basename:t,navigator:i}=k.useContext(un),{matches:r}=k.useContext(Un),{pathname:o}=es(),c=JSON.stringify(fy(r)),h=k.useRef(!1);return gy(()=>{h.current=!0}),k.useCallback((d,m={})=>{if(on(h.current,my),!h.current)return;if(typeof d=="number"){i.go(d);return}let y=hy(d,JSON.parse(c),o,m.relative==="path");s==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Nn([t,y.pathname])),(m.replace?i.replace:i.push)(y,m.state,m)},[t,i,c,o,s])}k.createContext(null);function Nr(s,{relative:t}={}){let{matches:i}=k.useContext(Un),{pathname:r}=es(),o=JSON.stringify(fy(i));return k.useMemo(()=>hy(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function Pb(s,t){return _y(s,t)}function _y(s,t,i,r){var K;ze(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=k.useContext(un),{matches:h}=k.useContext(Un),p=h[h.length-1],d=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let P=v&&v.path||"";yy(m,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let T=es(),D;if(t){let P=typeof t=="string"?ea(t):t;ze(y==="/"||((K=P.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),D=P}else D=T;let N=D.pathname||"/",B=N;if(y!=="/"){let P=y.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(P.length).join("/")}let H=!c&&i&&i.matches&&i.matches.length>0?i.matches:oy(s,{pathname:B});on(v||H!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),on(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Yb(H&&H.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Nn([y,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:Nn([y,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),h,i,r);return t&&z?k.createElement(Ar.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},z):z}function qb(){let s=Wb(),t=xb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),i?k.createElement("pre",{style:o},i):null,h)}var Vb=k.createElement(qb,null),Gb=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?k.createElement(Un.Provider,{value:this.props.routeContext},k.createElement(Jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jb({routeContext:s,match:t,children:i}){let r=k.useContext(ta);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Un.Provider,{value:s},i)}function Yb(s,t=[],i=null,r=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let o=s,c=i==null?void 0:i.errors;if(c!=null){let d=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let h=!1,p=-1;if(i)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=d),m.route.id){let{loaderData:y,errors:v}=i,T=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||T){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((d,m,y)=>{let v,T=!1,D=null,N=null;i&&(v=c&&m.route.id?c[m.route.id]:void 0,D=m.route.errorElement||Vb,h&&(p<0&&y===0?(yy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):p===y&&(T=!0,N=m.route.hydrateFallbackElement||null)));let B=t.concat(o.slice(0,y+1)),H=()=>{let z;return v?z=D:T?z=N:m.route.Component?z=k.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=d,k.createElement(jb,{match:m,routeContext:{outlet:d,matches:B,isDataRoute:i!=null},children:z})};return i&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?k.createElement(Gb,{location:i.location,revalidation:i.revalidation,component:D,error:v,children:H(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):H()},null)}function th(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(s){let t=k.useContext(ta);return ze(t,th(s)),t}function Fb(s){let t=k.useContext(ko);return ze(t,th(s)),t}function Xb(s){let t=k.useContext(Un);return ze(t,th(s)),t}function nh(s){let t=Xb(s),i=t.matches[t.matches.length-1];return ze(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Qb(){return nh("useRouteId")}function Wb(){var r;let s=k.useContext(Jf),t=Fb("useRouteError"),i=nh("useRouteError");return s!==void 0?s:(r=t.errors)==null?void 0:r[i]}function Zb(){let{router:s}=Kb("useNavigate"),t=nh("useNavigate"),i=k.useRef(!1);return gy(()=>{i.current=!0}),k.useCallback(async(o,c={})=>{on(i.current,my),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var Xg={};function yy(s,t,i){!t&&!Xg[s]&&(Xg[s]=!0,on(!1,i))}k.memo($b);function $b({routes:s,future:t,state:i}){return _y(s,void 0,i,t)}function ao(s){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jb({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){ze(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=ea(i));let{pathname:d="/",search:m="",hash:y="",state:v=null,key:T="default"}=i,D=k.useMemo(()=>{let N=Mn(d,h);return N==null?null:{location:{pathname:N,search:m,hash:y,state:v,key:T},navigationType:r}},[h,d,m,y,v,T,r]);return on(D!=null,`<Router basename="${h}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:k.createElement(un.Provider,{value:p},k.createElement(Ar.Provider,{children:t,value:D}))}function eT({children:s,location:t}){return Pb(Nf(s),t)}function Nf(s,t=[]){let i=[];return k.Children.forEach(s,(r,o)=>{if(!k.isValidElement(r))return;let c=[...t,o];if(r.type===k.Fragment){i.push.apply(i,Nf(r.props.children,c));return}ze(r.type===ao,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Nf(r.props.children,c)),i.push(h)}),i}var ro="get",lo="application/x-www-form-urlencoded";function xo(s){return s!=null&&typeof s.tagName=="string"}function tT(s){return xo(s)&&s.tagName.toLowerCase()==="button"}function nT(s){return xo(s)&&s.tagName.toLowerCase()==="form"}function iT(s){return xo(s)&&s.tagName.toLowerCase()==="input"}function sT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function aT(s,t){return s.button===0&&(!t||t==="_self")&&!sT(s)}var to=null;function rT(){if(to===null)try{new FormData(document.createElement("form"),0),to=!1}catch{to=!0}return to}var lT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hf(s){return s!=null&&!lT.has(s)?(on(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lo}"`),null):s}function oT(s,t){let i,r,o,c,h;if(nT(s)){let p=s.getAttribute("action");r=p?Mn(p,t):null,i=s.getAttribute("method")||ro,o=hf(s.getAttribute("enctype"))||lo,c=new FormData(s)}else if(tT(s)||iT(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||p.getAttribute("action");if(r=d?Mn(d,t):null,i=s.getAttribute("formmethod")||p.getAttribute("method")||ro,o=hf(s.getAttribute("formenctype"))||hf(p.getAttribute("enctype"))||lo,c=new FormData(p,s),!rT()){let{name:m,type:y,value:v}=s;if(y==="image"){let T=m?`${m}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else m&&c.append(m,v)}}else{if(xo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ro,r=null,o=lo,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:h}}function ih(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function uT(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function fT(s,t,i){let r=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let h=await uT(c,i);return h.links?h.links():[]}return[]}));return mT(r.flat(1).filter(cT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qg(s,t,i,r,o,c){let h=(d,m)=>i[m]?d.route.id!==i[m].route.id:!0,p=(d,m)=>{var y;return i[m].pathname!==d.pathname||((y=i[m].route.path)==null?void 0:y.endsWith("*"))&&i[m].params["*"]!==d.params["*"]};return c==="assets"?t.filter((d,m)=>h(d,m)||p(d,m)):c==="data"?t.filter((d,m)=>{var v;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(h(d,m)||p(d,m))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function hT(s,t,{includeHydrateFallback:i}={}){return dT(s.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function dT(s){return[...new Set(s)]}function pT(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function mT(s,t){let i=new Set;return new Set(t),s.reduce((r,o)=>{let c=JSON.stringify(pT(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}var gT=new Set([100,101,204,205]);function _T(s,t){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":t&&Mn(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function vy(){let s=k.useContext(ta);return ih(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function yT(){let s=k.useContext(ko);return ih(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var sh=k.createContext(void 0);sh.displayName="FrameworkContext";function Ey(){let s=k.useContext(sh);return ih(s,"You must render this element inside a <HydratedRouter> element"),s}function vT(s,t){let i=k.useContext(sh),[r,o]=k.useState(!1),[c,h]=k.useState(!1),{onFocus:p,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,T=k.useRef(null);k.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let B=z=>{z.forEach(K=>{h(K.isIntersecting)})},H=new IntersectionObserver(B,{threshold:.5});return T.current&&H.observe(T.current),()=>{H.disconnect()}}},[s]),k.useEffect(()=>{if(r){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[r]);let D=()=>{o(!0)},N=()=>{o(!1),h(!1)};return i?s!=="intent"?[c,T,{}]:[c,T,{onFocus:or(p,D),onBlur:or(d,N),onMouseEnter:or(m,D),onMouseLeave:or(y,N),onTouchStart:or(v,D)}]:[!1,T,{}]}function or(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function ET({page:s,...t}){let{router:i}=vy(),r=k.useMemo(()=>oy(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?k.createElement(bT,{page:s,matches:r,...t}):null}function ST(s){let{manifest:t,routeModules:i}=Ey(),[r,o]=k.useState([]);return k.useEffect(()=>{let c=!1;return fT(s,t,i).then(h=>{c||o(h)}),()=>{c=!0}},[s,t,i]),r}function bT({page:s,matches:t,...i}){let r=es(),{manifest:o,routeModules:c}=Ey(),{basename:h}=vy(),{loaderData:p,matches:d}=yT(),m=k.useMemo(()=>Qg(s,t,d,o,r,"data"),[s,t,d,o,r]),y=k.useMemo(()=>Qg(s,t,d,o,r,"assets"),[s,t,d,o,r]),v=k.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let N=new Set,B=!1;if(t.forEach(z=>{var P;let K=o.routes[z.route.id];!K||!K.hasLoader||(!m.some(se=>se.route.id===z.route.id)&&z.route.id in p&&((P=c[z.route.id])!=null&&P.shouldRevalidate)||K.hasClientLoader?B=!0:N.add(z.route.id))}),N.size===0)return[];let H=_T(s,h);return B&&N.size>0&&H.searchParams.set("_routes",t.filter(z=>N.has(z.route.id)).map(z=>z.route.id).join(",")),[H.pathname+H.search]},[h,p,r,o,m,t,s,c]),T=k.useMemo(()=>hT(y,o),[y,o]),D=ST(y);return k.createElement(k.Fragment,null,v.map(N=>k.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),T.map(N=>k.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),D.map(({key:N,link:B})=>k.createElement("link",{key:N,...B})))}function TT(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sy&&(window.__reactRouterVersion="7.5.2")}catch{}function CT({basename:s,children:t,window:i}){let r=k.useRef();r.current==null&&(r.current=hb({window:i,v5Compat:!0}));let o=r.current,[c,h]=k.useState({action:o.action,location:o.location}),p=k.useCallback(d=>{k.startTransition(()=>h(d))},[h]);return k.useLayoutEffect(()=>o.listen(p),[o,p]),k.createElement(Jb,{basename:s,children:t,location:c.location,navigationType:c.action,navigator:o})}var by=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ty=k.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:h,state:p,target:d,to:m,preventScrollReset:y,viewTransition:v,...T},D){let{basename:N}=k.useContext(un),B=typeof m=="string"&&by.test(m),H,z=!1;if(typeof m=="string"&&B&&(H=m,Sy))try{let ve=new URL(window.location.href),Je=m.startsWith("//")?new URL(ve.protocol+m):new URL(m),Mt=Mn(Je.pathname,N);Je.origin===ve.origin&&Mt!=null?m=Mt+Je.search+Je.hash:z=!0}catch{on(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Hb(m,{relative:o}),[P,se,W]=vT(r,T),Me=OT(m,{replace:h,state:p,target:d,preventScrollReset:y,relative:o,viewTransition:v});function Oe(ve){t&&t(ve),ve.defaultPrevented||Me(ve)}let Le=k.createElement("a",{...T,...W,href:H||K,onClick:z||c?t:Oe,ref:TT(D,se),target:d,"data-discover":!B&&i==="render"?"true":void 0});return P&&!B?k.createElement(k.Fragment,null,Le,k.createElement(ET,{page:K})):Le});Ty.displayName="Link";var wT=k.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:p,children:d,...m},y){let v=Nr(h,{relative:m.relative}),T=es(),D=k.useContext(ko),{navigator:N,basename:B}=k.useContext(un),H=D!=null&&kT(v)&&p===!0,z=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,K=T.pathname,P=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(K=K.toLowerCase(),P=P?P.toLowerCase():null,z=z.toLowerCase()),P&&B&&(P=Mn(P,B)||P);const se=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let W=K===z||!o&&K.startsWith(z)&&K.charAt(se)==="/",Me=P!=null&&(P===z||!o&&P.startsWith(z)&&P.charAt(z.length)==="/"),Oe={isActive:W,isPending:Me,isTransitioning:H},Le=W?t:void 0,ve;typeof r=="function"?ve=r(Oe):ve=[r,W?"active":null,Me?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Je=typeof c=="function"?c(Oe):c;return k.createElement(Ty,{...m,"aria-current":Le,className:ve,ref:y,style:Je,to:h,viewTransition:p},typeof d=="function"?d(Oe):d)});wT.displayName="NavLink";var RT=k.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:c,method:h=ro,action:p,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:v,...T},D)=>{let N=IT(),B=MT(p,{relative:m}),H=h.toLowerCase()==="get"?"get":"post",z=typeof p=="string"&&by.test(p),K=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let se=P.nativeEvent.submitter,W=(se==null?void 0:se.getAttribute("formmethod"))||h;N(se||P.currentTarget,{fetcherKey:t,method:W,navigate:i,replace:o,state:c,relative:m,preventScrollReset:y,viewTransition:v})};return k.createElement("form",{ref:D,method:H,action:B,onSubmit:r?d:K,...T,"data-discover":!z&&s==="render"?"true":void 0})});RT.displayName="Form";function AT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cy(s){let t=k.useContext(ta);return ze(t,AT(s)),t}function OT(s,{target:t,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:h}={}){let p=eh(),d=es(),m=Nr(s,{relative:c});return k.useCallback(y=>{if(aT(y,t)){y.preventDefault();let v=i!==void 0?i:Er(d)===Er(m);p(s,{replace:v,state:r,preventScrollReset:o,relative:c,viewTransition:h})}},[d,p,m,i,r,t,s,o,c,h])}var NT=0,DT=()=>`__${String(++NT)}__`;function IT(){let{router:s}=Cy("useSubmit"),{basename:t}=k.useContext(un),i=Qb();return k.useCallback(async(r,o={})=>{let{action:c,method:h,encType:p,formData:d,body:m}=oT(r,t);if(o.navigate===!1){let y=o.fetcherKey||DT();await s.fetch(y,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,i])}function MT(s,{relative:t}={}){let{basename:i}=k.useContext(un),r=k.useContext(Un);ze(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Nr(s||".",{relative:t})},h=es();if(s==null){c.search=h.search;let p=new URLSearchParams(c.search),d=p.getAll("index");if(d.some(y=>y==="")){p.delete("index"),d.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();c.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Nn([i,c.pathname])),Er(c)}function kT(s,t={}){let i=k.useContext(py);ze(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cy("useViewTransitionState"),o=Nr(s,{relative:t.relative});if(!i.isTransitioning)return!1;let c=Mn(i.currentLocation.pathname,r)||i.currentLocation.pathname,h=Mn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return po(o.pathname,h)!=null||po(o.pathname,c)!=null}new TextEncoder;[...gT];const xT=()=>{const s=eh();return oe.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white"},oe.createElement("div",{className:"absolute inset-0 bg-[url('/image/ginza-night.jpg')] bg-cover bg-center opacity-20 pointer-events-none z-0"}),oe.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md p-10 rounded-2xl max-w-md text-center shadow-xl"},oe.createElement("h1",{className:"text-4xl font-extrabold text-white mb-4 tracking-wider"},"夜のチャット"),oe.createElement("p",{className:"text-gray-300 text-sm mb-2"},"夜裡的話語，從這裡開始。"),oe.createElement("p",{className:"text-gray-400 text-sm mb-8"},"Speak freely, in a place that listens."),oe.createElement("button",{onClick:()=>s("/login"),className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transform transition-all duration-300"},"はじめる")))},LT=()=>{};var Wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(s,t){if(!s)throw na(t)},na=function(s){return new Error("Firebase Database ("+wy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},UT=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],p=s[i++],d=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const c=s[i++],h=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},ah={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,p=h?s[o+1]:0,d=o+2<s.length,m=d?s[o+2]:0,y=c>>2,v=(c&3)<<4|p>>4;let T=(p&15)<<2|m>>6,D=m&63;d||(D=64,h||(T=64)),r.push(i[y],i[v],i[T],i[D])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Ry(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):UT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||m==null||v==null)throw new zT;const T=c<<2|p>>4;if(r.push(T),m!==64){const D=p<<4&240|m>>2;if(r.push(D),v!==64){const N=m<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class zT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ay=function(s){const t=Ry(s);return ah.encodeByteArray(t,!0)},mo=function(s){return Ay(s).replace(/\./g,"")},go=function(s){try{return ah.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(s){return Oy(void 0,s)}function Oy(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!BT(i)||(s[i]=Oy(s[i],t[i]));return s}function BT(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=()=>PT().__FIREBASE_DEFAULTS__,VT=()=>{if(typeof process>"u"||typeof Wg>"u")return;const s=Wg.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},GT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&go(s[1]);return t&&JSON.parse(t)},rh=()=>{try{return LT()||qT()||VT()||GT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ny=s=>{var t,i;return(i=(t=rh())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},jT=s=>{const t=Ny(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Dy=()=>{var s;return(s=rh())===null||s===void 0?void 0:s.config},Iy=s=>{var t;return(t=rh())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[mo(JSON.stringify(i)),mo(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function KT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function My(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XT(){const s=dt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QT(){return wy.NODE_ADMIN===!0}function WT(){try{return typeof indexedDB=="object"}catch{return!1}}function ZT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="FirebaseError";class vi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=$T,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?JT(c,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new vi(o,p,r)}}function JT(s,t){return s.replace(eC,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const eC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(s){return JSON.parse(s)}function it(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=function(s){let t={},i={},r={},o="";try{const c=s.split(".");t=Sr(go(c[0])||""),i=Sr(go(c[1])||""),o=c[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},tC=function(s){const t=ky(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},nC=function(s){const t=ky(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function Ws(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Df(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function _o(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function Fi(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=s[o],h=t[o];if(Zg(c)&&Zg(h)){if(!Fi(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Zg(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function dr(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function pr(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)r[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)r[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const T=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(T<<1|T>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],p=this.chain_[3],d=this.chain_[4],m,y;for(let v=0;v<80;v++){v<40?v<20?(m=p^c&(h^p),y=1518500249):(m=c^h^p,y=1859775393):v<60?(m=c&h|p&(c|h),y=2400959708):(m=c^h^p,y=3395469782);const T=(o<<5|o>>>27)+m+d+y+r[v]&4294967295;d=p,p=h,h=(c<<30|c>>>2)&4294967295,c=o,o=T}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=t[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[r]=this.chain_[o]>>c&255,++r;return t}}function sC(s,t){const i=new aC(s,t);return i.subscribe.bind(i)}class aC{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");rC(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=df),o.error===void 0&&(o.error=df),o.complete===void 0&&(o.complete=df);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rC(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function df(){}function lC(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,q(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(c<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Lo=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(s){return s&&s._delegate?s._delegate:s}class Xi{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new lh;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fC(t))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=Gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gi){return this.instances.has(t)}getOptions(t=Gi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&h.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&t(h,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gi){return this.component?this.component.multipleInstances?t:Gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(s){return s===Gi?void 0:s}function fC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Te||(Te={}));const dC={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},pC=Te.INFO,mC={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},gC=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=mC[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uh{constructor(t){this.name=t,this._logLevel=pC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const _C=(s,t)=>t.some(i=>s instanceof i);let $g,Jg;function yC(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return Jg||(Jg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xy=new WeakMap,If=new WeakMap,Ly=new WeakMap,pf=new WeakMap,ch=new WeakMap;function EC(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(pi(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&xy.set(i,s)}).catch(()=>{}),ch.set(t,s),t}function SC(s){if(If.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});If.set(s,t)}let Mf={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return If.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Ly.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pi(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function bC(s){Mf=s(Mf)}function TC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(mf(this),t,...i);return Ly.set(r,t.sort?t.sort():[t]),pi(r)}:vC().includes(s)?function(...t){return s.apply(mf(this),t),pi(xy.get(this))}:function(...t){return pi(s.apply(mf(this),t))}}function CC(s){return typeof s=="function"?TC(s):(s instanceof IDBTransaction&&SC(s),_C(s,yC())?new Proxy(s,Mf):s)}function pi(s){if(s instanceof IDBRequest)return EC(s);if(pf.has(s))return pf.get(s);const t=CC(s);return t!==s&&(pf.set(s,t),ch.set(t,s)),t}const mf=s=>ch.get(s);function wC(s,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(s,t),p=pi(h);return r&&h.addEventListener("upgradeneeded",d=>{r(pi(h.result),d.oldVersion,d.newVersion,pi(h.transaction),d)}),i&&h.addEventListener("blocked",d=>i(d.oldVersion,d.newVersion,d)),p.then(d=>{c&&d.addEventListener("close",()=>c()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const RC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],gf=new Map;function e_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(gf.get(t))return gf.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=AC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||RC.includes(i)))return;const c=async function(h,...p){const d=this.transaction(h,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),o&&d.done]))[0]};return gf.set(t,c),c}bC(s=>({...s,get:(t,i,r)=>e_(t,i)||s.get(t,i,r),has:(t,i)=>!!e_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function NC(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kf="@firebase/app",t_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new uh("@firebase/app"),DC="@firebase/app-compat",IC="@firebase/analytics-compat",MC="@firebase/analytics",kC="@firebase/app-check-compat",xC="@firebase/app-check",LC="@firebase/auth",UC="@firebase/auth-compat",zC="@firebase/database",HC="@firebase/data-connect",BC="@firebase/database-compat",PC="@firebase/functions",qC="@firebase/functions-compat",VC="@firebase/installations",GC="@firebase/installations-compat",jC="@firebase/messaging",YC="@firebase/messaging-compat",KC="@firebase/performance",FC="@firebase/performance-compat",XC="@firebase/remote-config",QC="@firebase/remote-config-compat",WC="@firebase/storage",ZC="@firebase/storage-compat",$C="@firebase/firestore",JC="@firebase/vertexai",ew="@firebase/firestore-compat",tw="firebase",nw="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",iw={[kf]:"fire-core",[DC]:"fire-core-compat",[MC]:"fire-analytics",[IC]:"fire-analytics-compat",[xC]:"fire-app-check",[kC]:"fire-app-check-compat",[LC]:"fire-auth",[UC]:"fire-auth-compat",[zC]:"fire-rtdb",[HC]:"fire-data-connect",[BC]:"fire-rtdb-compat",[PC]:"fire-fn",[qC]:"fire-fn-compat",[VC]:"fire-iid",[GC]:"fire-iid-compat",[jC]:"fire-fcm",[YC]:"fire-fcm-compat",[KC]:"fire-perf",[FC]:"fire-perf-compat",[XC]:"fire-rc",[QC]:"fire-rc-compat",[WC]:"fire-gcs",[ZC]:"fire-gcs-compat",[$C]:"fire-fst",[ew]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[tw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,sw=new Map,Lf=new Map;function n_(s,t){try{s.container.addComponent(t)}catch(i){kn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Zs(s){const t=s.name;if(Lf.has(t))return kn.debug(`There were multiple attempts to register component ${t}.`),!1;Lf.set(t,s);for(const i of yo.values())n_(i,s);for(const i of sw.values())n_(i,s);return!0}function fh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Dt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Dr("app","Firebase",aw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=nw;function Uy(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:xf,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(i||(i=Dy()),!i)throw mi.create("no-options");const c=yo.get(o);if(c){if(Fi(i,c.options)&&Fi(r,c.config))return c;throw mi.create("duplicate-app",{appName:o})}const h=new hC(o);for(const d of Lf.values())h.addComponent(d);const p=new rw(i,r,h);return yo.set(o,p),p}function zy(s=xf){const t=yo.get(s);if(!t&&s===xf&&Dy())return Uy();if(!t)throw mi.create("no-app",{appName:s});return t}function gi(s,t,i){var r;let o=(r=iw[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const p=[`Unable to register library "${o}" with version "${t}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),kn.warn(p.join(" "));return}Zs(new Xi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebase-heartbeat-database",ow=1,br="firebase-heartbeat-store";let _f=null;function Hy(){return _f||(_f=wC(lw,ow,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(br)}catch(i){console.warn(i)}}}}).catch(s=>{throw mi.create("idb-open",{originalErrorMessage:s.message})})),_f}async function uw(s){try{const i=(await Hy()).transaction(br),r=await i.objectStore(br).get(By(s));return await i.done,r}catch(t){if(t instanceof vi)kn.warn(t.message);else{const i=mi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});kn.warn(i.message)}}}async function i_(s,t){try{const r=(await Hy()).transaction(br,"readwrite");await r.objectStore(br).put(t,By(s)),await r.done}catch(i){if(i instanceof vi)kn.warn(i.message);else{const r=mi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});kn.warn(r.message)}}}function By(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1024,fw=30;class hw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=s_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>fw){const h=mw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){kn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=s_(),{heartbeatsToSend:r,unsentEntries:o}=dw(this._heartbeatsCache.heartbeats),c=mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return kn.warn(i),""}}}function s_(){return new Date().toISOString().substring(0,10)}function dw(s,t=cw){const i=[];let r=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),a_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),a_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class pw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WT()?ZT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function a_(s){return mo(JSON.stringify({version:2,heartbeats:s})).length}function mw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(s){Zs(new Xi("platform-logger",t=>new OC(t),"PRIVATE")),Zs(new Xi("heartbeat",t=>new hw(t),"PRIVATE")),gi(kf,t_,s),gi(kf,t_,"esm2017"),gi("fire-js","")}gw("");var _w="firebase",yw="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(_w,yw,"app");function hh(s,t){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(i[r[o]]=s[r[o]]);return i}function Py(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vw=Py,qy=new Dr("auth","Firebase",Py());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new uh("@firebase/auth");function Ew(s,...t){vo.logLevel<=Te.WARN&&vo.warn(`Auth (${sa}): ${s}`,...t)}function oo(s,...t){vo.logLevel<=Te.ERROR&&vo.error(`Auth (${sa}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(s,...t){throw ph(s,...t)}function Zt(s,...t){return ph(s,...t)}function dh(s,t,i){const r=Object.assign(Object.assign({},vw()),{[t]:i});return new Dr("auth","Firebase",r).create(t,{appName:s.name})}function Dn(s){return dh(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Gt(s,"argument-error"),dh(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ph(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return qy.create(s,...t)}function J(s,t,...i){if(!s)throw ph(t,...i)}function Rn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw oo(t),new Error(t)}function xn(s,t){s||Rn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function bw(){return r_()==="http:"||r_()==="https:"}function r_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bw()||FT()||"connection"in navigator)?navigator.onLine:!0}function Cw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,i){this.shortDelay=t,this.longDelay=i,xn(i>t,"Short delay should be less than long delay!"),this.isMobile=oh()||My()}get(){return Tw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(s,t){xn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Aw=new Ir(3e4,6e4);function Ei(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Si(s,t,i,r,o={}){return Gy(s,o,async()=>{let c={},h={};r&&(t==="GET"?h=r:c={body:JSON.stringify(r)});const p=ia(Object.assign({key:s.config.apiKey},h)).slice(1),d=await s._getAdditionalHeaders();d["Content-Type"]="application/json",s.languageCode&&(d["X-Firebase-Locale"]=s.languageCode);const m=Object.assign({method:t,headers:d},c);return KT()||(m.referrerPolicy="no-referrer"),Vy.fetch()(await jy(s,s.config.apiHost,i,p),m)})}async function Gy(s,t,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},ww),t);try{const o=new Nw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw no(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[d,m]=p.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw no(s,"credential-already-in-use",h);if(d==="EMAIL_EXISTS")throw no(s,"email-already-in-use",h);if(d==="USER_DISABLED")throw no(s,"user-disabled",h);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw dh(s,y,m);Gt(s,y)}}catch(o){if(o instanceof vi)throw o;Gt(s,"network-request-failed",{message:String(o)})}}async function Mr(s,t,i,r,o={}){const c=await Si(s,t,i,r,o);return"mfaPendingCredential"in c&&Gt(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function jy(s,t,i,r){const o=`${t}${i}?${r}`,c=s,h=c.config.emulator?mh(s.config,o):`${s.config.apiScheme}://${o}`;return Rw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function Ow(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Zt(this.auth,"network-request-failed")),Aw.get())})}}function no(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Zt(s,t,r);return o.customData._tokenResponse=i,o}function l_(s){return s!==void 0&&s.enterprise!==void 0}class Dw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Ow(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Iw(s,t){return Si(s,"GET","/v2/recaptchaConfig",Ei(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(s,t){return Si(s,"POST","/v1/accounts:delete",t)}async function Eo(s,t){return Si(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kw(s,t=!1){const i=Hn(s),r=await i.getIdToken(t),o=gh(r);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:mr(yf(o.auth_time)),issuedAtTime:mr(yf(o.iat)),expirationTime:mr(yf(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function yf(s){return Number(s)*1e3}function gh(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return oo("JWT malformed, contained fewer than 3 sections"),null;try{const o=go(i);return o?JSON.parse(o):(oo("Failed to decode base64 JWT payload"),null)}catch(o){return oo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function o_(s){const t=gh(s);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tr(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof vi&&xw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function xw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(s){var t;const i=s.auth,r=await s.getIdToken(),o=await Tr(s,Eo(i,{idToken:r}));J(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const h=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Yy(c.providerUserInfo):[],p=zw(s.providerData,h),d=s.isAnonymous,m=!(s.email&&c.passwordHash)&&!(p!=null&&p.length),y=d?m:!1,v={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new zf(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(s,v)}async function Uw(s){const t=Hn(s);await So(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zw(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Yy(s){return s.map(t=>{var{providerId:i}=t,r=hh(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(s,t){const i=await Gy(s,{},async()=>{const r=ia({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await jy(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Vy.fetch()(h,{method:"POST",headers:p,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Bw(s,t){return Si(s,"POST","/v2/accounts:revokeToken",Ei(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):o_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){J(t.length!==0,"internal-error");const i=o_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await Hw(t,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,h=new Ys;return r&&(J(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(J(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),c&&(J(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(s,t){J(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Qt{constructor(t){var{uid:i,auth:r,stsTokenManager:o}=t,c=hh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new zf(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Tr(this,this.stsTokenManager.getToken(this.auth,t));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return kw(this,t)}reload(){return Uw(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Qt(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await So(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dt(this.auth.app))return Promise.reject(Dn(this.auth));const t=await this.getIdToken();return await Tr(this,Mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,o,c,h,p,d,m,y;const v=(r=i.displayName)!==null&&r!==void 0?r:void 0,T=(o=i.email)!==null&&o!==void 0?o:void 0,D=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,N=(h=i.photoURL)!==null&&h!==void 0?h:void 0,B=(p=i.tenantId)!==null&&p!==void 0?p:void 0,H=(d=i._redirectEventId)!==null&&d!==void 0?d:void 0,z=(m=i.createdAt)!==null&&m!==void 0?m:void 0,K=(y=i.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:P,emailVerified:se,isAnonymous:W,providerData:Me,stsTokenManager:Oe}=i;J(P&&Oe,t,"internal-error");const Le=Ys.fromJSON(this.name,Oe);J(typeof P=="string",t,"internal-error"),ci(v,t.name),ci(T,t.name),J(typeof se=="boolean",t,"internal-error"),J(typeof W=="boolean",t,"internal-error"),ci(D,t.name),ci(N,t.name),ci(B,t.name),ci(H,t.name),ci(z,t.name),ci(K,t.name);const ve=new Qt({uid:P,auth:t,email:T,emailVerified:se,displayName:v,isAnonymous:W,photoURL:N,phoneNumber:D,tenantId:B,stsTokenManager:Le,createdAt:z,lastLoginAt:K});return Me&&Array.isArray(Me)&&(ve.providerData=Me.map(Je=>Object.assign({},Je))),H&&(ve._redirectEventId=H),ve}static async _fromIdTokenResponse(t,i,r=!1){const o=new Ys;o.updateFromServerResponse(i);const c=new Qt({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await So(c),c}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];J(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Yy(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Ys;p.updateFromIdToken(r);const d=new Qt({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:h}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new zf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function An(s){xn(s instanceof Function,"Expected a class definition");let t=u_.get(s);return t?(xn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,u_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Ky.type="NONE";const c_=Ky;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(s,t,i){return`firebase:${s}:${t}:${i}`}class Ks{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=uo(this.userKey,o.apiKey,c),this.fullPersistenceKey=uo("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Eo(this.auth,{idToken:t}).catch(()=>{});return i?Qt._fromGetAccountInfoResponse(this.auth,i,t):null}return Qt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ks(An(c_),t,r);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||An(c_);const h=uo(r,t.config.apiKey,t.name);let p=null;for(const m of i)try{const y=await m._get(h);if(y){let v;if(typeof y=="string"){const T=await Eo(t,{idToken:y}).catch(()=>{});if(!T)break;v=await Qt._fromGetAccountInfoResponse(t,T,y)}else v=Qt._fromJSON(t,y);m!==c&&(p=v),c=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!d.length?new Ks(c,t,r):(c=d[0],p&&await c._set(h,p.toJSON()),await Promise.all(i.map(async m=>{if(m!==c)try{await m._remove(h)}catch{}})),new Ks(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($y(t))return"Blackberry";if(Jy(t))return"Webos";if(Xy(t))return"Safari";if((t.includes("chrome/")||Qy(t))&&!t.includes("edge/"))return"Chrome";if(Zy(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fy(s=dt()){return/firefox\//i.test(s)}function Xy(s=dt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qy(s=dt()){return/crios\//i.test(s)}function Wy(s=dt()){return/iemobile/i.test(s)}function Zy(s=dt()){return/android/i.test(s)}function $y(s=dt()){return/blackberry/i.test(s)}function Jy(s=dt()){return/webos/i.test(s)}function _h(s=dt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Pw(s=dt()){var t;return _h(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function qw(){return XT()&&document.documentMode===10}function ev(s=dt()){return _h(s)||Zy(s)||Jy(s)||$y(s)||/windows phone/i.test(s)||Wy(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(s,t=[]){let i;switch(s){case"Browser":i=f_(dt());break;case"Worker":i=`${f_(dt())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((h,p)=>{try{const d=t(c);h(d)}catch(d){p(d)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(s,t={}){return Si(s,"GET","/v2/passwordPolicy",Ei(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=6;class Yw{constructor(t){var i,r,o,c;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=h.minPasswordLength)!==null&&i!==void 0?i:jw,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,r,o,c,h,p;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(i=d.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsUppercaseLetter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNumericCharacter)!==null&&h!==void 0?h:!0),d.isValid&&(d.isValid=(p=d.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),d}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new Vw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=An(i)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Eo(this,{idToken:t}),r=await Qt._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Dt(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(t);(!h||h===p)&&(d!=null&&d.user)&&(o=d.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await So(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Cw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Dt(this.app))return Promise.reject(Dn(this));const i=t?Hn(t):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Dt(this.app)?Promise.reject(Dn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Dt(this.app)?Promise.reject(Dn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(An(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Gw(this),i=new Yw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dr("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bw(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&An(t)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[An(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const d=t.addObserver(i,r,o);return()=>{h=!0,d()}}else{const d=t.addObserver(i);return()=>{h=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var t;if(Dt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Ew(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function bi(s){return Hn(s)}class h_{constructor(t){this.auth=t,this.observer=null,this.addObserver=sC(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fw(s){Uo=s}function nv(s){return Uo.loadJS(s)}function Xw(){return Uo.recaptchaEnterpriseScript}function Qw(){return Uo.gapiScript}function Ww(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Zw{constructor(){this.enterprise=new $w}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class $w{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Jw="recaptcha-enterprise",iv="NO_RECAPTCHA";class eR{constructor(t){this.type=Jw,this.auth=bi(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{Iw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new Dw(d);return c.tenantId==null?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,h(m.siteKey)}}).catch(d=>{p(d)})})}function o(c,h,p){const d=window.grecaptcha;l_(d)?d.enterprise.ready(()=>{d.enterprise.execute(c,{action:t}).then(m=>{h(m)}).catch(()=>{h(iv)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zw().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(p=>{if(!i&&l_(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Xw();d.length!==0&&(d+=p),nv(d).then(()=>{o(p,c,h)}).catch(m=>{h(m)})}}).catch(p=>{h(p)})})}}async function d_(s,t,i,r=!1,o=!1){const c=new eR(s);let h;if(o)h=iv;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const p=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const d=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const d=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hf(s,t,i,r,o){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await d_(s,t,i,i==="getOobCode");return r(s,h)}else return r(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await d_(s,t,i,i==="getOobCode");return r(s,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(s,t){const i=fh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fi(c,t??{}))return o;Gt(o,"already-initialized")}return i.initialize({options:t})}function nR(s,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(An);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function iR(s,t,i){const r=bi(s);J(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,c=sv(t),{host:h,port:p}=sR(t),d=p===null?"":`:${p}`,m={url:`${c}//${h}${d}/`},y=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Fi(m,r.config.emulator)&&Fi(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,aR()}function sv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function sR(s){const t=sv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:p_(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:p_(h)}}}function p_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function aR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Rn("not implemented")}_getIdTokenResponse(t){return Rn("not implemented")}_linkToIdToken(t,i){return Rn("not implemented")}_getReauthenticationResolver(t){return Rn("not implemented")}}async function rR(s,t){return Si(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(s,t){return Mr(s,"POST","/v1/accounts:signInWithPassword",Ei(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(s,t){return Mr(s,"POST","/v1/accounts:signInWithEmailLink",Ei(s,t))}async function uR(s,t){return Mr(s,"POST","/v1/accounts:signInWithEmailLink",Ei(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends yh{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Cr(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Cr(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(t,i,"signInWithPassword",lR);case"emailLink":return oR(t,{email:this._email,oobCode:this._password});default:Gt(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(t,r,"signUpPassword",rR);case"emailLink":return uR(t,{idToken:i,email:this._email,oobCode:this._password});default:Gt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(s,t){return Mr(s,"POST","/v1/accounts:signInWithIdp",Ei(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="http://localhost";class Qi extends yh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gt("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=i,c=hh(i,["providerId","signInMethod"]);if(!r||!o)return null;const h=new Qi(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return Fs(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Fs(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fs(t,i)}buildRequest(){const t={requestUri:cR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ia(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hR(s){const t=dr(pr(s)).link,i=t?dr(pr(t)).deep_link_id:null,r=dr(pr(s)).deep_link_id;return(r?dr(pr(r)).link:null)||r||i||t||s}class vh{constructor(t){var i,r,o,c,h,p;const d=dr(pr(t)),m=(i=d.apiKey)!==null&&i!==void 0?i:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,v=fR((o=d.mode)!==null&&o!==void 0?o:null);J(m&&y&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=y,this.continueUrl=(c=d.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=d.lang)!==null&&h!==void 0?h:null,this.tenantId=(p=d.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const i=hR(t);try{return new vh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.providerId=aa.PROVIDER_ID}static credential(t,i){return Cr._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=vh.parseLink(i);return J(r,"argument-error"),Cr._fromEmailAndCode(t,r.code,r.tenantId)}}aa.PROVIDER_ID="password";aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Eh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends kr{constructor(){super("facebook.com")}static credential(t){return Qi._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qi._fromParams({providerId:wn.PROVIDER_ID,signInMethod:wn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return wn.credentialFromTaggedObject(t)}static credentialFromError(t){return wn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return wn.credential(i,r)}catch{return null}}}wn.GOOGLE_SIGN_IN_METHOD="google.com";wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends kr{constructor(){super("github.com")}static credential(t){return Qi._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends kr{constructor(){super("twitter.com")}static credential(t,i){return Qi._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return di.credential(i,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(s,t){return Mr(s,"POST","/v1/accounts:signUp",Ei(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const c=await Qt._fromIdTokenResponse(t,r,o),h=m_(r);return new Wi({user:c,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=m_(r);return new Wi({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function m_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends vi{constructor(t,i,r,o){var c;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,bo.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new bo(t,i,r,o)}}function av(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?bo._fromErrorAndOperation(s,c,t,r):c})}async function pR(s,t,i=!1){const r=await Tr(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Wi._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(s,t,i=!1){const{auth:r}=s;if(Dt(r.app))return Promise.reject(Dn(r));const o="reauthenticate";try{const c=await Tr(s,av(r,o,t,s),i);J(c.idToken,r,"internal-error");const h=gh(c.idToken);J(h,r,"internal-error");const{sub:p}=h;return J(s.uid===p,r,"user-mismatch"),Wi._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Gt(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rv(s,t,i=!1){if(Dt(s.app))return Promise.reject(Dn(s));const r="signIn",o=await av(s,r,t),c=await Wi._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function gR(s,t){return rv(bi(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lv(s){const t=bi(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function _R(s,t,i){if(Dt(s.app))return Promise.reject(Dn(s));const r=bi(s),h=await Hf(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dR).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&lv(s),d}),p=await Wi._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(p.user),p}function yR(s,t,i){return Dt(s.app)?Promise.reject(Dn(s)):gR(Hn(s),aa.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lv(s),r})}function vR(s,t,i,r){return Hn(s).onIdTokenChanged(t,i,r)}function ER(s,t,i){return Hn(s).beforeAuthStateChanged(t,i)}const To="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1e3,bR=10;class uv extends ov{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ev(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,p,d)=>{this.notifyListeners(h,d)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);qw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,bR):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}uv.type="LOCAL";const TR=uv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends ov{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}cv.type="SESSION";const fv=cv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new zo(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(h).map(async m=>m(i.origin,c)),d=await CR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,d)=>{const m=Sh("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(T.data.response);break;default:clearTimeout(y),clearTimeout(c),d(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:m,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function RR(s){ln().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function AR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function NR(){return hv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="firebaseLocalStorageDb",DR=1,Co="firebaseLocalStorage",pv="fbase_key";class xr{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ho(s,t){return s.transaction([Co],t?"readwrite":"readonly").objectStore(Co)}function IR(){const s=indexedDB.deleteDatabase(dv);return new xr(s).toPromise()}function Bf(){const s=indexedDB.open(dv,DR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Co,{keyPath:pv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Co)?t(r):(r.close(),await IR(),t(await Bf()))})})}async function g_(s,t,i){const r=Ho(s,!0).put({[pv]:t,value:i});return new xr(r).toPromise()}async function MR(s,t){const i=Ho(s,!1).get(t),r=await new xr(i).toPromise();return r===void 0?null:r.value}function __(s,t){const i=Ho(s,!0).delete(t);return new xr(i).toPromise()}const kR=800,xR=3;class mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>xR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zo._getInstance(NR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await AR(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||OR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bf();return await g_(t,To,"1"),await __(t,To),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>g_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>MR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Ho(o,!1).getAll();return new xr(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mv.type="LOCAL";const LR=mv;new Ir(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(s,t){return t?An(t):(J(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends yh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fs(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fs(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fs(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function UR(s){return rv(s.auth,new bh(s),s.bypassAuthState)}function zR(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),mR(i,new bh(s),s.bypassAuthState)}async function HR(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),pR(i,new bh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,i,r,o,c=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:h,type:p}=t;if(h){this.reject(h);return}const d={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return zR;default:Gt(this.auth,"internal-error")}}resolve(t){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Ir(2e3,1e4);async function PR(s,t,i){if(Dt(s.app))return Promise.reject(Zt(s,"operation-not-supported-in-this-environment"));const r=bi(s);Sw(s,t,Eh);const o=gv(r,i);return new Yi(r,"signInViaPopup",t,o).executeNotNull()}class Yi extends _v{constructor(t,i,r,o,c){super(t,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){xn(this.filter.length===1,"Popup operations only handle one event");const t=Sh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BR.get())};t()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="pendingRedirect",co=new Map;class VR extends _v{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=co.get(this.auth._key());if(!t){try{const r=await GR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}co.set(this.auth._key(),t)}return this.bypassAuthState||co.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GR(s,t){const i=KR(t),r=YR(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function jR(s,t){co.set(s._key(),t)}function YR(s){return An(s._redirectPersistence)}function KR(s){return uo(qR,s.config.apiKey,s.name)}async function FR(s,t,i=!1){if(Dt(s.app))return Promise.reject(Dn(s));const r=bi(s),o=gv(r,t),h=await new VR(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=10*60*1e3;class QR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!WR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!yv(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Zt(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XR&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(t))}saveEventToCache(t){this.cachedEventUids.add(y_(t)),this.lastProcessedEventTime=Date.now()}}function y_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function yv({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function WR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(s,t={}){return Si(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JR=/^https?/;async function eA(s){if(s.config.emulator)return;const{authorizedDomains:t}=await ZR(s);for(const i of t)try{if(tA(i))return}catch{}Gt(s,"unauthorized-domain")}function tA(s){const t=Uf(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!JR.test(i))return!1;if($R.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Ir(3e4,6e4);function v_(){const s=ln().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function iA(s){return new Promise((t,i)=>{var r,o,c;function h(){v_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{v_(),i(Zt(s,"network-request-failed"))},timeout:nA.get()})}if(!((o=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=ln().gapi)===null||c===void 0)&&c.load)h();else{const p=Ww("iframefcb");return ln()[p]=()=>{gapi.load?h():i(Zt(s,"network-request-failed"))},nv(`${Qw()}?onload=${p}`).catch(d=>i(d))}}).catch(t=>{throw fo=null,t})}let fo=null;function sA(s){return fo=fo||iA(s),fo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Ir(5e3,15e3),rA="__/auth/iframe",lA="emulator/auth/iframe",oA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cA(s){const t=s.config;J(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?mh(t,lA):`https://${s.config.authDomain}/${rA}`,r={apiKey:t.apiKey,appName:s.name,v:sa},o=uA.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${ia(r).slice(1)}`}async function fA(s){const t=await sA(s),i=ln().gapi;return J(i,s,"internal-error"),t.open({where:document.body,url:cA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oA,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=Zt(s,"network-request-failed"),p=ln().setTimeout(()=>{c(h)},aA.get());function d(){ln().clearTimeout(p),o(r)}r.ping(d).then(d,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dA=500,pA=600,mA="_blank",gA="http://localhost";class E_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _A(s,t,i,r=dA,o=pA){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const d=Object.assign(Object.assign({},hA),{width:r.toString(),height:o.toString(),top:c,left:h}),m=dt().toLowerCase();i&&(p=Qy(m)?mA:i),Fy(m)&&(t=t||gA,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[D,N])=>`${T}${D}=${N},`,"");if(Pw(m)&&p!=="_self")return yA(t||"",p),new E_(null);const v=window.open(t||"",p,y);J(v,s,"popup-blocked");try{v.focus()}catch{}return new E_(v)}function yA(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="__/auth/handler",EA="emulator/auth/handler",SA=encodeURIComponent("fac");async function S_(s,t,i,r,o,c){J(s.config.authDomain,s,"auth-domain-config-required"),J(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:sa,eventId:o};if(t instanceof Eh){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",Df(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))h[y]=v}if(t instanceof kr){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(h.scopes=y.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const d=await s._getAppCheckToken(),m=d?`#${SA}=${encodeURIComponent(d)}`:"";return`${bA(s)}?${ia(p).slice(1)}${m}`}function bA({config:s}){return s.emulator?mh(s,EA):`https://${s.authDomain}/${vA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class TA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fv,this._completeRedirectFn=FR,this._overrideRedirectResult=jR}async _openPopup(t,i,r,o){var c;xn((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await S_(t,i,r,Uf(),o);return _A(t,h,Sh())}async _openRedirect(t,i,r,o){await this._originValidation(t);const c=await S_(t,i,r,Uf(),o);return RR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(xn(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await fA(t),r=new QR(t);return i.register("authEvent",o=>(J(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(vf,{type:vf},o=>{var c;const h=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[vf];h!==void 0&&i(!!h),Gt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eA(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ev()||Xy()||_h()}}const CA=TA;var b_="@firebase/auth",T_="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AA(s){Zs(new Xi("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;J(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tv(s)},m=new Kw(r,o,c,d);return nR(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Zs(new Xi("auth-internal",t=>{const i=bi(t.getProvider("auth").getImmediate());return(r=>new wA(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(b_,T_,RA(s)),gi(b_,T_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=5*60,NA=Iy("authIdTokenMaxAge")||OA;let C_=null;const DA=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>NA)return;const o=i==null?void 0:i.token;C_!==o&&(C_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IA(s=zy()){const t=fh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=tR(s,{popupRedirectResolver:CA,persistence:[LR,TR,fv]}),r=Iy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=DA(c.toString());ER(i,h,()=>h(i.currentUser)),vR(i,p=>h(p))}}const o=Ny("auth");return o&&iR(i,`http://${o}`),i}function MA(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}Fw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const c=Zt("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",MA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AA("Browser");var w_={};const R_="@firebase/database",A_="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv="";function kA(s){vv=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),it(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Sr(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return zn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new xA(t)}}catch{}return new LA},Ki=Ev("localStorage"),UA=Ev("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new uh("@firebase/database"),zA=function(){let s=1;return function(){return s++}}(),Sv=function(s){const t=oC(s),i=new iC;i.update(t);const r=i.digest();return ah.encodeByteArray(r)},Lr=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Lr.apply(null,r):typeof r=="object"?t+=it(r):t+=r,t+=" "}return t};let gr=null,O_=!0;const HA=function(s,t){q(!0,"Can't turn on custom loggers persistently."),Xs.logLevel=Te.VERBOSE,gr=Xs.log.bind(Xs)},ut=function(...s){if(O_===!0&&(O_=!1,gr===null&&UA.get("logging_enabled")===!0&&HA()),gr){const t=Lr.apply(null,s);gr(t)}},Ur=function(s){return function(...t){ut(s,...t)}},Pf=function(...s){const t="FIREBASE INTERNAL ERROR: "+Lr(...s);Xs.error(t)},Ln=function(...s){const t=`FIREBASE FATAL ERROR: ${Lr(...s)}`;throw Xs.error(t),new Error(t)},It=function(...s){const t="FIREBASE WARNING: "+Lr(...s);Xs.warn(t)},BA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},PA=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},$s="[MIN_NAME]",Zi="[MAX_NAME]",ra=function(s,t){if(s===t)return 0;if(s===$s||t===Zi)return-1;if(t===$s||s===Zi)return 1;{const i=N_(s),r=N_(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},qA=function(s,t){return s===t?0:s<t?-1:1},ur=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+it(t))},Th=function(s){if(typeof s!="object"||s===null)return it(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=it(t[r]),i+=":",i+=Th(s[t[r]]);return i+="}",i},Tv=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function jt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const Cv=function(s){q(!bv(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,c,h,p,d;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(s)/Math.LN2),r),c=p+r,h=Math.round(s*Math.pow(2,i-p)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-r-i))));const m=[];for(d=i;d;d-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(d=t;d;d-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const y=m.join("");let v="";for(d=0;d<64;d+=8){let T=parseInt(y.substr(d,8),2).toString(16);T.length===1&&(T="0"+T),v=v+T}return v.toLowerCase()},VA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},jA=new RegExp("^-?(0*)\\d{1,10}$"),YA=-2147483648,KA=2147483647,N_=function(s){if(jA.test(s)){const t=Number(s);if(t>=YA&&t<=KA)return t}return null},zr=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw It("Exception was thrown by user callback.",i),t},Math.floor(0))}},FA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_r=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Dt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(t)}}class ho{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ho.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="5",wv="v",Rv="s",Av="r",Ov="f",Nv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dv="ls",Iv="p",qf="ac",Mv="websocket",kv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,i,r,o,c=!1,h="",p=!1,d=!1,m=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ki.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ki.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function WA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Lv(s,t,i){q(typeof t=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let r;if(t===Mv)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===kv)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);WA(s)&&(i.ns=s.namespace);const o=[];return jt(i,(c,h)=>{o.push(c+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.counters_={}}incrementCounter(t,i=1){zn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return HT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef={},Sf={};function wh(s){const t=s.toString();return Ef[t]||(Ef[t]=new ZA),Ef[t]}function $A(s,t){const i=s.toString();return Sf[i]||(Sf[i]=t()),Sf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&zr(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="start",e1="close",t1="pLPCommand",n1="pRTLPCB",Uv="id",zv="pw",Hv="ser",i1="cb",s1="seg",a1="ts",r1="d",l1="dframe",Bv=1870,Pv=30,o1=Bv-Pv,u1=25e3,c1=3e4;class Gs{constructor(t,i,r,o,c,h,p){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ur(t),this.stats_=wh(i),this.urlFn=d=>(this.appCheckToken&&(d[qf]=this.appCheckToken),Lv(i,kv,d))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new JA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(c1)),PA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rh((...c)=>{const[h,p,d,m,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===D_)this.id=p,this.password=d;else if(h===e1)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[D_]="t",r[Hv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[i1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[wv]=Ch,this.transportSessionId&&(r[Rv]=this.transportSessionId),this.lastSessionId&&(r[Dv]=this.lastSessionId),this.applicationId&&(r[Iv]=this.applicationId),this.appCheckToken&&(r[qf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Nv.test(location.hostname)&&(r[Av]=Ov);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gs.forceAllow_=!0}static forceDisallow(){Gs.forceDisallow_=!0}static isAvailable(){return Gs.forceAllow_?!0:!Gs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VA()&&!GA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=it(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Ay(i),o=Tv(r,o1);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[l1]="t",r[Uv]=t,r[zv]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=it(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Rh{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zA(),window[t1+this.uniqueCallbackIdentifier]=t,window[n1+this.uniqueCallbackIdentifier]=i,this.myIFrame=Rh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){ut("frame writing exception"),p.stack&&ut(p.stack),ut(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ut("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Uv]=this.myID,t[zv]=this.myPW,t[Hv]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pv+r.length<=Bv;){const h=this.pendingSegs.shift();r=r+"&"+s1+o+"="+h.seg+"&"+a1+o+"="+h.ts+"&"+r1+o+"="+h.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(u1)),c=()=>{clearTimeout(o),r()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{ut("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=16384,h1=45e3;let wo=null;typeof MozWebSocket<"u"?wo=MozWebSocket:typeof WebSocket<"u"&&(wo=WebSocket);class Xt{constructor(t,i,r,o,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ur(this.connId),this.stats_=wh(i),this.connURL=Xt.connectionURL_(i,h,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,c){const h={};return h[wv]=Ch,typeof location<"u"&&location.hostname&&Nv.test(location.hostname)&&(h[Av]=Ov),i&&(h[Rv]=i),r&&(h[Dv]=r),o&&(h[qf]=o),c&&(h[Iv]=c),Lv(t,Mv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ki.set("previous_websocket_failure",!0);try{let r;QT(),this.mySock=new wo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&wo!==null&&!Xt.forceDisallow_}static previouslyFailed(){return Ki.isInMemoryStorage||Ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ki.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Sr(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=it(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Tv(i,f1);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(h1))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{static get ALL_TRANSPORTS(){return[Gs,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Xt&&Xt.isAvailable();let r=i&&!Xt.previouslyFailed();if(t.webSocketOnly&&(i||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xt];else{const o=this.transports_=[];for(const c of wr.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);wr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=6e4,p1=5e3,m1=10*1024,g1=100*1024,bf="t",I_="d",_1="s",M_="r",y1="e",k_="o",x_="a",L_="n",U_="p",v1="h";class E1{constructor(t,i,r,o,c,h,p,d,m,y){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ur("c:"+this.id+":"),this.transportManager_=new wr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=_r(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>g1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>m1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(bf in t){const i=t[bf];i===x_?this.upgradeIfSecondaryHealthy_():i===M_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===k_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=ur("t",t),r=ur("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:U_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:L_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=ur("t",t),r=ur("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=ur(bf,t);if(I_ in t){const r=t[I_];if(i===v1){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===L_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===_1?this.onConnectionShutdown_(r):i===M_?this.onReset_(r):i===y1?Pf("Server Error: "+r):i===k_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ch!==r&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),_r(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(d1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_r(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(p1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:U_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(t){q(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Vv{static getInstance(){return new Ro}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return q(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=32,H_=768;class Ie{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function Ce(){return new Ie("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function yi(s){return s.pieces_.length-s.pieceNum_}function De(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Ie(s.pieces_,t)}function Gv(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function S1(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function jv(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Yv(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Ie(t,0)}function $e(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof Ie)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Ie(i,0)}function ue(s){return s.pieceNum_>=s.pieces_.length}function Vt(s,t){const i=fe(s),r=fe(t);if(i===null)return t;if(i===r)return Vt(De(s),De(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function Kv(s,t){if(yi(s)!==yi(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function Wt(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(yi(s)>yi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class b1{constructor(t,i){this.errorPrefix_=i,this.parts_=jv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lo(this.parts_[r]);Fv(this)}}function T1(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Lo(t),Fv(s)}function C1(s){const t=s.parts_.pop();s.byteLength_-=Lo(t),s.parts_.length>0&&(s.byteLength_-=1)}function Fv(s){if(s.byteLength_>H_)throw new Error(s.errorPrefix_+"has a key path longer than "+H_+" bytes ("+s.byteLength_+").");if(s.parts_.length>z_)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+z_+") or object contains a cycle "+ji(s))}function ji(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Vv{static getInstance(){return new Ah}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return q(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=1e3,w1=60*5*1e3,B_=30*1e3,R1=1.3,A1=3e4,O1="server_kill",P_=3;class In extends qv{constructor(t,i,r,o,c,h,p,d){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=d,this.id=In.nextPersistentConnectionId_++,this.log_=Ur("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cr,this.maxReconnectDelay_=w1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ah.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ro.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(it(c)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new lh,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?i.resolve(p):i.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},h="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(h,c,p=>{const d=p.d,m=p.s;In.warnOnListenWarnings_(d,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",p),m!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(m,d))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&zn(t,"w")){const r=Ws(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||nC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=B_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=tC(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},h="n";o&&(c.q=r,c.t=o),this.sendRequest(h,c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,c){this.initConnection_();const h={p:i,d:r};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+it(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Pf("Unrecognized action received from server: "+it(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=cr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>A1&&(this.reconnectDelay_=cr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*R1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+In.nextConnectionId_++,c=this.lastSessionId;let h=!1,p=null;const d=function(){p?p.close():(h=!0,r())},m=function(v){q(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(v)};this.realtime_={close:d,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,T]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=T&&T.token,p=new E1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,D=>{It(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(O1)},c))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&It(v),d())}}}interrupt(t){ut("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ut("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Df(this.interruptReasons_)&&(this.reconnectDelay_=cr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(c=>Th(c)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Ie(t).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){ut("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=P_&&(this.reconnectDelay_=B_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ut("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=P_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+vv.replace(/\./g,"-")]=1,oh()?t["framework.cordova"]=1:My()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ro.getInstance().currentlyOnline();return Df(this.interruptReasons_)&&t}}In.nextPersistentConnectionId_=0;In.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new he(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new he($s,t),o=new he($s,i);return this.compare(r,o)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io;class Xv extends Bo{static get __EMPTY_NODE(){return io}static set __EMPTY_NODE(t){io=t}compare(t,i){return ra(t.name,i.name)}isDefinedOn(t){throw na("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return he.MIN}maxPost(){return new he(Zi,io)}makePost(t,i){return q(typeof t=="string","KeyIndex indexValue must always be a string."),new he(t,io)}toString(){return".key"}}const Qs=new Xv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,i,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?r(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ze{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??Ze.RED,this.left=o??vt.EMPTY_NODE,this.right=c??vt.EMPTY_NODE}copy(t,i,r,o,c){return new Ze(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ze.RED=!0;Ze.BLACK=!1;class N1{copy(t,i,r,o,c){return this}insert(t,i,r){return new Ze(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(t,i=vt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new vt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Ze.BLACK,null,null))}remove(t){return new vt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ze.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new so(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new so(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new so(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new so(this.root_,null,this.comparator_,!0,t)}}vt.EMPTY_NODE=new N1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(s,t){return ra(s.name,t.name)}function Oh(s,t){return ra(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;function I1(s){Vf=s}const Qv=function(s){return typeof s=="number"?"number:"+Cv(s):"string:"+s},Wv=function(s){if(s.isLeafNode()){const t=s.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&zn(t,".sv"),"Priority must be a string or number.")}else q(s===Vf||s.isEmpty(),"priority of unexpected type.");q(s===Vf||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q_;class We{static set __childrenNodeConstructor(t){q_=t}static get __childrenNodeConstructor(){return q_}constructor(t,i=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new We(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ue(t)?this:fe(t)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=fe(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||yi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Qv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Cv(this.value_):t+=this.value_,this.lazyHash_=Sv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===We.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof We.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=We.VALUE_TYPE_ORDER.indexOf(i),c=We.VALUE_TYPE_ORDER.indexOf(r);return q(o>=0,"Unknown leaf type: "+i),q(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zv,$v;function M1(s){Zv=s}function k1(s){$v=s}class x1 extends Bo{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),c=r.compareTo(o);return c===0?ra(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(Zi,new We("[PRIORITY-POST]",$v))}makePost(t,i){const r=Zv(t);return new he(i,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const ft=new x1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=Math.log(2);class U1{constructor(t){const i=c=>parseInt(Math.log(c)/L1,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ao=function(s,t,i,r){s.sort(t);const o=function(d,m){const y=m-d;let v,T;if(y===0)return null;if(y===1)return v=s[d],T=i?i(v):v,new Ze(T,v.node,Ze.BLACK,null,null);{const D=parseInt(y/2,10)+d,N=o(d,D),B=o(D+1,m);return v=s[D],T=i?i(v):v,new Ze(T,v.node,Ze.BLACK,N,B)}},c=function(d){let m=null,y=null,v=s.length;const T=function(N,B){const H=v-N,z=v;v-=N;const K=o(H+1,z),P=s[H],se=i?i(P):P;D(new Ze(se,P.node,B,null,K))},D=function(N){m?(m.left=N,m=N):(y=N,m=N)};for(let N=0;N<d.count;++N){const B=d.nextBitIsOne(),H=Math.pow(2,d.count-(N+1));B?T(H,Ze.BLACK):(T(H,Ze.BLACK),T(H,Ze.RED))}return y},h=new U1(s.length),p=c(h);return new vt(r||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;const Vs={};class On{static get Default(){return q(Vs&&ft,"ChildrenNode.ts has not been loaded"),Tf=Tf||new On({".priority":Vs},{".priority":ft}),Tf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Ws(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof vt?i:null}hasIndex(t){return zn(this.indexSet_,t.toString())}addIndex(t,i){q(t!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=i.getIterator(he.Wrap);let h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=c.getNext();let p;o?p=Ao(r,t.getCompare()):p=Vs;const d=t.toString(),m=Object.assign({},this.indexSet_);m[d]=t;const y=Object.assign({},this.indexes_);return y[d]=p,new On(y,m)}addToIndexes(t,i){const r=_o(this.indexes_,(o,c)=>{const h=Ws(this.indexSet_,c);if(q(h,"Missing index implementation for "+c),o===Vs)if(h.isDefinedOn(t.node)){const p=[],d=i.getIterator(he.Wrap);let m=d.getNext();for(;m;)m.name!==t.name&&p.push(m),m=d.getNext();return p.push(t),Ao(p,h.getCompare())}else return Vs;else{const p=i.get(t.name);let d=o;return p&&(d=d.remove(new he(t.name,p))),d.insert(t,t.node)}});return new On(r,this.indexSet_)}removeFromIndexes(t,i){const r=_o(this.indexes_,o=>{if(o===Vs)return o;{const c=i.get(t.name);return c?o.remove(new he(t.name,c)):o}});return new On(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fr;class ge{static get EMPTY_NODE(){return fr||(fr=new ge(new vt(Oh),null,On.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Wv(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fr}updatePriority(t){return this.children_.isEmpty()?this:new ge(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?fr:i}}getChild(t){const i=fe(t);return i===null?this:this.getImmediateChild(i).getChild(De(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(q(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new he(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?fr:this.priorityNode_;return new ge(o,h,c)}}updateChild(t,i){const r=fe(t);if(r===null)return i;{q(fe(t)!==".priority"||yi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(De(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(ft,(h,p)=>{i[h]=p.val(t),r++,c&&ge.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*r){const h=[];for(const p in i)h[p]=i[p];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Qv(this.getPriority().val())+":"),this.forEachChild(ft,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Sv(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new he(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new he(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new he(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,he.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,he.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Hr?-1:0}withIndex(t){if(t===Qs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ge(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Qs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(ft),o=i.getIterator(ft);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===Qs?null:this.indexMap_.get(t.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class z1 extends ge{constructor(){super(new vt(Oh),ge.EMPTY_NODE,On.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ge.EMPTY_NODE}isEmpty(){return!1}}const Hr=new z1;Object.defineProperties(he,{MIN:{value:new he($s,ge.EMPTY_NODE)},MAX:{value:new he(Zi,Hr)}});Xv.__EMPTY_NODE=ge.EMPTY_NODE;We.__childrenNodeConstructor=ge;I1(Hr);k1(Hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=!0;function ct(s,t=null){if(s===null)return ge.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new We(i,ct(t))}if(!(s instanceof Array)&&H1){const i=[];let r=!1;if(jt(s,(h,p)=>{if(h.substring(0,1)!=="."){const d=ct(p);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),i.push(new he(h,d)))}}),i.length===0)return ge.EMPTY_NODE;const c=Ao(i,D1,h=>h.name,Oh);if(r){const h=Ao(i,ft.getCompare());return new ge(c,ct(t),new On({".priority":h},{".priority":ft}))}else return new ge(c,ct(t),On.Default)}else{let i=ge.EMPTY_NODE;return jt(s,(r,o)=>{if(zn(s,r)&&r.substring(0,1)!=="."){const c=ct(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(r,c))}}),i.updatePriority(ct(t))}}M1(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends Bo{constructor(t){super(),this.indexPath_=t,q(!ue(t)&&fe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),c=r.compareTo(o);return c===0?ra(t.name,i.name):c}makePost(t,i){const r=ct(t),o=ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new he(i,o)}maxPost(){const t=ge.EMPTY_NODE.updateChild(this.indexPath_,Hr);return new he(Zi,t)}toString(){return jv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Bo{compare(t,i){const r=t.node.compareTo(i.node);return r===0?ra(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(t,i){const r=ct(t);return new he(i,r)}toString(){return".value"}}const q1=new P1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(s){return{type:"value",snapshotNode:s}}function G1(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function j1(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function V_(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function Y1(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$s}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const t=new Nh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function G_(s){const t={};if(s.isDefault())return t;let i;if(s.index_===ft?i="$priority":s.index_===q1?i="$value":s.index_===Qs?i="$key":(q(s.index_ instanceof B1,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=it(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=it(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+it(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=it(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+it(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function j_(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==ft&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends qv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(q(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Ur("p:rest:"),this.listens_={}}listen(t,i,r,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=Oo.getListenId_(t,r),p={};this.listens_[h]=p;const d=G_(t._queryParams);this.restRequest_(c+".json",d,(m,y)=>{let v=y;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(c,v,!1,r),Ws(this.listens_,h)===p){let T;m?m===401?T="permission_denied":T="rest_error:"+m:T="ok",o(T,null)}})}unlisten(t,i){const r=Oo.getListenId_(t,i);delete this.listens_[r]}get(t){const i=G_(t._queryParams),r=t._path.toString(),o=new lh;return this.restRequest_(r+".json",i,(c,h)=>{let p=h;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(r,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ia(i);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let d=null;if(p.status>=200&&p.status<300){try{d=Sr(p.responseText)}catch{It("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,d)}else p.status!==401&&p.status!==404&&It("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(){return{value:null,children:new Map}}function Jv(s,t,i){if(ue(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=fe(t);s.children.has(r)||s.children.set(r,No());const o=s.children.get(r);t=De(t),Jv(o,t,i)}}function Gf(s,t,i){s.value!==null?i(t,s.value):F1(s,(r,o)=>{const c=new Ie(t.toString()+"/"+r);Gf(o,c,i)})}function F1(s,t){s.children.forEach((i,r)=>{t(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i=Object.assign({},t);return this.last_&&jt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=10*1e3,Q1=30*1e3,W1=5*60*1e3;class Z1{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new X1(t);const r=Y_+(Q1-Y_)*Math.random();_r(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;jt(t,(o,c)=>{c>0&&zn(this.statsToReport_,o)&&(i[o]=c,r=!0)}),r&&this.server_.reportStats(i),_r(this.reportStats_.bind(this),Math.floor(Math.random()*2*W1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function e0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function t0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function n0(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=rn.ACK_USER_WRITE,this.source=e0()}operationForChild(t){if(ue(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ie(t));return new Do(Ce(),i,this.revert)}}else return q(fe(this.path)===t,"operationForChild called for unrelated child."),new Do(De(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=rn.OVERWRITE}operationForChild(t){return ue(this.path)?new $i(this.source,Ce(),this.snap.getImmediateChild(t)):new $i(this.source,De(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=rn.MERGE}operationForChild(t){if(ue(this.path)){const i=this.children.subtree(new Ie(t));return i.isEmpty()?null:i.value?new $i(this.source,Ce(),i.value):new Rr(this.source,Ce(),i)}else return q(fe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rr(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ue(t))return this.isFullyInitialized()&&!this.filtered_;const i=fe(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function $1(s,t,i,r){const o=[],c=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(Y1(h.childName,h.snapshotNode))}),hr(s,o,"child_removed",t,r,i),hr(s,o,"child_added",t,r,i),hr(s,o,"child_moved",c,r,i),hr(s,o,"child_changed",t,r,i),hr(s,o,"value",t,r,i),o}function hr(s,t,i,r,o,c){const h=r.filter(p=>p.type===i);h.sort((p,d)=>eO(s,p,d)),h.forEach(p=>{const d=J1(s,p,c);o.forEach(m=>{m.respondsTo(p.type)&&t.push(m.createEvent(d,s.query_))})})}function J1(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function eO(s,t,i){if(t.childName==null||i.childName==null)throw na("Should only compare child_ events.");const r=new he(t.childName,t.snapshotNode),o=new he(i.childName,i.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s,t){return{eventCache:s,serverCache:t}}function yr(s,t,i,r){return i0(new Dh(t,i,r),s.serverCache)}function s0(s,t,i,r){return i0(s.eventCache,new Dh(t,i,r))}function jf(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ji(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;const tO=()=>(Cf||(Cf=new vt(qA)),Cf);class Ne{static fromObject(t){let i=new Ne(null);return jt(t,(r,o)=>{i=i.set(new Ie(r),o)}),i}constructor(t,i=tO()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:Ce(),value:this.value};if(ue(t))return null;{const r=fe(t),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(De(t),i);return c!=null?{path:$e(new Ie(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ue(t))return this;{const i=fe(t),r=this.children.get(i);return r!==null?r.subtree(De(t)):new Ne(null)}}set(t,i){if(ue(t))return new Ne(i,this.children);{const r=fe(t),c=(this.children.get(r)||new Ne(null)).set(De(t),i),h=this.children.insert(r,c);return new Ne(this.value,h)}}remove(t){if(ue(t))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const i=fe(t),r=this.children.get(i);if(r){const o=r.remove(De(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Ne(null):new Ne(this.value,c)}else return this}}get(t){if(ue(t))return this.value;{const i=fe(t),r=this.children.get(i);return r?r.get(De(t)):null}}setTree(t,i){if(ue(t))return i;{const r=fe(t),c=(this.children.get(r)||new Ne(null)).setTree(De(t),i);let h;return c.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,c),new Ne(this.value,h)}}fold(t){return this.fold_(Ce(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_($e(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,Ce(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(ue(t))return null;{const c=fe(t),h=this.children.get(c);return h?h.findOnPath_(De(t),$e(i,c),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,Ce(),i)}foreachOnPath_(t,i,r){if(ue(t))return this;{this.value&&r(i,this.value);const o=fe(t),c=this.children.get(o);return c?c.foreachOnPath_(De(t),$e(i,o),r):new Ne(null)}}foreach(t){this.foreach_(Ce(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_($e(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.writeTree_=t}static empty(){return new $t(new Ne(null))}}function vr(s,t,i){if(ue(t))return new $t(new Ne(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let c=r.value;const h=Vt(o,t);return c=c.updateChild(h,i),new $t(s.writeTree_.set(o,c))}else{const o=new Ne(i),c=s.writeTree_.setTree(t,o);return new $t(c)}}}function K_(s,t,i){let r=s;return jt(i,(o,c)=>{r=vr(r,$e(t,o),c)}),r}function F_(s,t){if(ue(t))return $t.empty();{const i=s.writeTree_.setTree(t,new Ne(null));return new $t(i)}}function Yf(s,t){return ts(s,t)!=null}function ts(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(Vt(i.path,t)):null}function X_(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ft,(r,o)=>{t.push(new he(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new he(r,o.value))}),t}function _i(s,t){if(ue(t))return s;{const i=ts(s,t);return i!=null?new $t(new Ne(i)):new $t(s.writeTree_.subtree(t))}}function Kf(s){return s.writeTree_.isEmpty()}function Js(s,t){return a0(Ce(),s.writeTree_,t)}function a0(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(q(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):i=a0($e(s,o),c,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild($e(s,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(s,t){return f0(t,s)}function nO(s,t,i,r,o){q(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=vr(s.visibleWrites,t,i)),s.lastWriteId=r}function iO(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function sO(s,t){const i=s.allWrites.findIndex(p=>p.writeId===t);q(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const p=s.allWrites[h];p.visible&&(h>=i&&aO(p,r.path)?o=!1:Wt(r.path,p.path)&&(c=!0)),h--}if(o){if(c)return rO(s),!0;if(r.snap)s.visibleWrites=F_(s.visibleWrites,r.path);else{const p=r.children;jt(p,d=>{s.visibleWrites=F_(s.visibleWrites,$e(r.path,d))})}return!0}else return!1}function aO(s,t){if(s.snap)return Wt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Wt($e(s.path,i),t))return!0;return!1}function rO(s){s.visibleWrites=l0(s.allWrites,lO,Ce()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function lO(s){return s.visible}function l0(s,t,i){let r=$t.empty();for(let o=0;o<s.length;++o){const c=s[o];if(t(c)){const h=c.path;let p;if(c.snap)Wt(i,h)?(p=Vt(i,h),r=vr(r,p,c.snap)):Wt(h,i)&&(p=Vt(h,i),r=vr(r,Ce(),c.snap.getChild(p)));else if(c.children){if(Wt(i,h))p=Vt(i,h),r=K_(r,p,c.children);else if(Wt(h,i))if(p=Vt(h,i),ue(p))r=K_(r,Ce(),c.children);else{const d=Ws(c.children,fe(p));if(d){const m=d.getChild(De(p));r=vr(r,Ce(),m)}}}else throw na("WriteRecord should have .snap or .children")}}return r}function o0(s,t,i,r,o){if(!r&&!o){const c=ts(s.visibleWrites,t);if(c!=null)return c;{const h=_i(s.visibleWrites,t);if(Kf(h))return i;if(i==null&&!Yf(h,Ce()))return null;{const p=i||ge.EMPTY_NODE;return Js(h,p)}}}else{const c=_i(s.visibleWrites,t);if(!o&&Kf(c))return i;if(!o&&i==null&&!Yf(c,Ce()))return null;{const h=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(Wt(m.path,t)||Wt(t,m.path))},p=l0(s.allWrites,h,t),d=i||ge.EMPTY_NODE;return Js(p,d)}}}function oO(s,t,i){let r=ge.EMPTY_NODE;const o=ts(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ft,(c,h)=>{r=r.updateImmediateChild(c,h)}),r;if(i){const c=_i(s.visibleWrites,t);return i.forEachChild(ft,(h,p)=>{const d=Js(_i(c,new Ie(h)),p);r=r.updateImmediateChild(h,d)}),X_(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const c=_i(s.visibleWrites,t);return X_(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function uO(s,t,i,r,o){q(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=$e(t,i);if(Yf(s.visibleWrites,c))return null;{const h=_i(s.visibleWrites,c);return Kf(h)?o.getChild(i):Js(h,o.getChild(i))}}function cO(s,t,i,r){const o=$e(t,i),c=ts(s.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(i)){const h=_i(s.visibleWrites,o);return Js(h,r.getNode().getImmediateChild(i))}else return null}function fO(s,t){return ts(s.visibleWrites,t)}function hO(s,t,i,r,o,c,h){let p;const d=_i(s.visibleWrites,t),m=ts(d,Ce());if(m!=null)p=m;else if(i!=null)p=Js(d,i);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const y=[],v=h.getCompare(),T=c?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let D=T.getNext();for(;D&&y.length<o;)v(D,r)!==0&&y.push(D),D=T.getNext();return y}else return[]}function dO(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Ff(s,t,i,r){return o0(s.writeTree,s.treePath,t,i,r)}function u0(s,t){return oO(s.writeTree,s.treePath,t)}function Q_(s,t,i,r){return uO(s.writeTree,s.treePath,t,i,r)}function Io(s,t){return fO(s.writeTree,$e(s.treePath,t))}function pO(s,t,i,r,o,c){return hO(s.writeTree,s.treePath,t,i,r,o,c)}function Ih(s,t,i){return cO(s.writeTree,s.treePath,t,i)}function c0(s,t){return f0($e(s.treePath,t),s.writeTree)}function f0(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(r,V_(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(r,j1(r,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(r,G1(r,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(r,V_(r,t.snapshotNode,o.oldSnap));else throw na("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const h0=new gO;class Mh{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Dh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ih(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ji(this.viewCache_),c=pO(this.writes_,o,i,1,r,t);return c.length===0?null:c[0]}}function _O(s,t){q(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function yO(s,t,i,r,o){const c=new mO;let h,p;if(i.type===rn.OVERWRITE){const m=i;m.source.fromUser?h=Xf(s,t,m.path,m.snap,r,o,c):(q(m.source.fromServer,"Unknown source."),p=m.source.tagged||t.serverCache.isFiltered()&&!ue(m.path),h=Mo(s,t,m.path,m.snap,r,o,p,c))}else if(i.type===rn.MERGE){const m=i;m.source.fromUser?h=EO(s,t,m.path,m.children,r,o,c):(q(m.source.fromServer,"Unknown source."),p=m.source.tagged||t.serverCache.isFiltered(),h=Qf(s,t,m.path,m.children,r,o,p,c))}else if(i.type===rn.ACK_USER_WRITE){const m=i;m.revert?h=TO(s,t,m.path,r,o,c):h=SO(s,t,m.path,m.affectedTree,r,o,c)}else if(i.type===rn.LISTEN_COMPLETE)h=bO(s,t,i.path,r,c);else throw na("Unknown operation type: "+i.type);const d=c.getChanges();return vO(t,h,d),{viewCache:h,changes:d}}function vO(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=jf(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&i.push(V1(jf(t)))}}function d0(s,t,i,r,o,c){const h=t.eventCache;if(Io(r,i)!=null)return t;{let p,d;if(ue(i))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=Ji(t),y=m instanceof ge?m:ge.EMPTY_NODE,v=u0(r,y);p=s.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const m=Ff(r,Ji(t));p=s.filter.updateFullNode(t.eventCache.getNode(),m,c)}else{const m=fe(i);if(m===".priority"){q(yi(i)===1,"Can't have a priority with additional path components");const y=h.getNode();d=t.serverCache.getNode();const v=Q_(r,i,y,d);v!=null?p=s.filter.updatePriority(y,v):p=h.getNode()}else{const y=De(i);let v;if(h.isCompleteForChild(m)){d=t.serverCache.getNode();const T=Q_(r,i,h.getNode(),d);T!=null?v=h.getNode().getImmediateChild(m).updateChild(y,T):v=h.getNode().getImmediateChild(m)}else v=Ih(r,m,t.serverCache);v!=null?p=s.filter.updateChild(h.getNode(),m,v,y,o,c):p=h.getNode()}}return yr(t,p,h.isFullyInitialized()||ue(i),s.filter.filtersNodes())}}function Mo(s,t,i,r,o,c,h,p){const d=t.serverCache;let m;const y=h?s.filter:s.filter.getIndexedFilter();if(ue(i))m=y.updateFullNode(d.getNode(),r,null);else if(y.filtersNodes()&&!d.isFiltered()){const D=d.getNode().updateChild(i,r);m=y.updateFullNode(d.getNode(),D,null)}else{const D=fe(i);if(!d.isCompleteForPath(i)&&yi(i)>1)return t;const N=De(i),H=d.getNode().getImmediateChild(D).updateChild(N,r);D===".priority"?m=y.updatePriority(d.getNode(),H):m=y.updateChild(d.getNode(),D,H,N,h0,null)}const v=s0(t,m,d.isFullyInitialized()||ue(i),y.filtersNodes()),T=new Mh(o,v,c);return d0(s,v,i,o,T,p)}function Xf(s,t,i,r,o,c,h){const p=t.eventCache;let d,m;const y=new Mh(o,t,c);if(ue(i))m=s.filter.updateFullNode(t.eventCache.getNode(),r,h),d=yr(t,m,!0,s.filter.filtersNodes());else{const v=fe(i);if(v===".priority")m=s.filter.updatePriority(t.eventCache.getNode(),r),d=yr(t,m,p.isFullyInitialized(),p.isFiltered());else{const T=De(i),D=p.getNode().getImmediateChild(v);let N;if(ue(T))N=r;else{const B=y.getCompleteChild(v);B!=null?Gv(T)===".priority"&&B.getChild(Yv(T)).isEmpty()?N=B:N=B.updateChild(T,r):N=ge.EMPTY_NODE}if(D.equals(N))d=t;else{const B=s.filter.updateChild(p.getNode(),v,N,T,y,h);d=yr(t,B,p.isFullyInitialized(),s.filter.filtersNodes())}}}return d}function W_(s,t){return s.eventCache.isCompleteForChild(t)}function EO(s,t,i,r,o,c,h){let p=t;return r.foreach((d,m)=>{const y=$e(i,d);W_(t,fe(y))&&(p=Xf(s,p,y,m,o,c,h))}),r.foreach((d,m)=>{const y=$e(i,d);W_(t,fe(y))||(p=Xf(s,p,y,m,o,c,h))}),p}function Z_(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Qf(s,t,i,r,o,c,h,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,m;ue(i)?m=r:m=new Ne(null).setTree(i,r);const y=t.serverCache.getNode();return m.children.inorderTraversal((v,T)=>{if(y.hasChild(v)){const D=t.serverCache.getNode().getImmediateChild(v),N=Z_(s,D,T);d=Mo(s,d,new Ie(v),N,o,c,h,p)}}),m.children.inorderTraversal((v,T)=>{const D=!t.serverCache.isCompleteForChild(v)&&T.value===null;if(!y.hasChild(v)&&!D){const N=t.serverCache.getNode().getImmediateChild(v),B=Z_(s,N,T);d=Mo(s,d,new Ie(v),B,o,c,h,p)}}),d}function SO(s,t,i,r,o,c,h){if(Io(o,i)!=null)return t;const p=t.serverCache.isFiltered(),d=t.serverCache;if(r.value!=null){if(ue(i)&&d.isFullyInitialized()||d.isCompleteForPath(i))return Mo(s,t,i,d.getNode().getChild(i),o,c,p,h);if(ue(i)){let m=new Ne(null);return d.getNode().forEachChild(Qs,(y,v)=>{m=m.set(new Ie(y),v)}),Qf(s,t,i,m,o,c,p,h)}else return t}else{let m=new Ne(null);return r.foreach((y,v)=>{const T=$e(i,y);d.isCompleteForPath(T)&&(m=m.set(y,d.getNode().getChild(T)))}),Qf(s,t,i,m,o,c,p,h)}}function bO(s,t,i,r,o){const c=t.serverCache,h=s0(t,c.getNode(),c.isFullyInitialized()||ue(i),c.isFiltered());return d0(s,h,i,r,h0,o)}function TO(s,t,i,r,o,c){let h;if(Io(r,i)!=null)return t;{const p=new Mh(r,t,o),d=t.eventCache.getNode();let m;if(ue(i)||fe(i)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=Ff(r,Ji(t));else{const v=t.serverCache.getNode();q(v instanceof ge,"serverChildren would be complete if leaf node"),y=u0(r,v)}y=y,m=s.filter.updateFullNode(d,y,c)}else{const y=fe(i);let v=Ih(r,y,t.serverCache);v==null&&t.serverCache.isCompleteForChild(y)&&(v=d.getImmediateChild(y)),v!=null?m=s.filter.updateChild(d,y,v,De(i),p,c):t.eventCache.getNode().hasChild(y)?m=s.filter.updateChild(d,y,ge.EMPTY_NODE,De(i),p,c):m=d,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Ff(r,Ji(t)),h.isLeafNode()&&(m=s.filter.updateFullNode(m,h,c)))}return h=t.serverCache.isFullyInitialized()||Io(r,Ce())!=null,yr(t,m,h,s.filter.filtersNodes())}}function CO(s,t){const i=Ji(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ue(t)&&!i.getImmediateChild(fe(t)).isEmpty())?i.getChild(t):null}function $_(s,t,i,r){t.type===rn.MERGE&&t.source.queryId!==null&&(q(Ji(s.viewCache_),"We should always have a full cache before handling merges"),q(jf(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=yO(s.processor_,o,t,i,r);return _O(s.processor_,c.viewCache),q(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,wO(s,c.changes,c.viewCache.eventCache.getNode())}function wO(s,t,i,r){const o=s.eventRegistrations_;return $1(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J_;function RO(s){q(!J_,"__referenceConstructor has already been defined"),J_=s}function kh(s,t,i,r){const o=t.source.queryId;if(o!==null){const c=s.views.get(o);return q(c!=null,"SyncTree gave us an op for an invalid query."),$_(c,t,i,r)}else{let c=[];for(const h of s.views.values())c=c.concat($_(h,t,i,r));return c}}function xh(s,t){let i=null;for(const r of s.views.values())i=i||CO(r,t);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey;function AO(s){q(!ey,"__referenceConstructor has already been defined"),ey=s}class ty{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=dO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function OO(s,t,i,r,o){return nO(s.pendingWriteTree_,t,i,r,o),o?qo(s,new $i(e0(),t,i)):[]}function js(s,t,i=!1){const r=iO(s.pendingWriteTree_,t);if(sO(s.pendingWriteTree_,t)){let c=new Ne(null);return r.snap!=null?c=c.set(Ce(),!0):jt(r.children,h=>{c=c.set(new Ie(h),!0)}),qo(s,new Do(r.path,c,i))}else return[]}function Po(s,t,i){return qo(s,new $i(t0(),t,i))}function NO(s,t,i){const r=Ne.fromObject(i);return qo(s,new Rr(t0(),t,r))}function DO(s,t,i,r){const o=_0(s,r);if(o!=null){const c=y0(o),h=c.path,p=c.queryId,d=Vt(h,t),m=new $i(n0(p),d,i);return v0(s,h,m)}else return[]}function IO(s,t,i,r){const o=_0(s,r);if(o){const c=y0(o),h=c.path,p=c.queryId,d=Vt(h,t),m=Ne.fromObject(i),y=new Rr(n0(p),d,m);return v0(s,h,y)}else return[]}function p0(s,t,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(t,(h,p)=>{const d=Vt(h,t),m=xh(p,d);if(m)return m});return o0(o,t,c,i,!0)}function qo(s,t){return m0(t,s.syncPointTree_,null,r0(s.pendingWriteTree_,Ce()))}function m0(s,t,i,r){if(ue(s.path))return g0(s,t,i,r);{const o=t.get(Ce());i==null&&o!=null&&(i=xh(o,Ce()));let c=[];const h=fe(s.path),p=s.operationForChild(h),d=t.children.get(h);if(d&&p){const m=i?i.getImmediateChild(h):null,y=c0(r,h);c=c.concat(m0(p,d,m,y))}return o&&(c=c.concat(kh(o,s,r,i))),c}}function g0(s,t,i,r){const o=t.get(Ce());i==null&&o!=null&&(i=xh(o,Ce()));let c=[];return t.children.inorderTraversal((h,p)=>{const d=i?i.getImmediateChild(h):null,m=c0(r,h),y=s.operationForChild(h);y&&(c=c.concat(g0(y,p,d,m)))}),o&&(c=c.concat(kh(o,s,r,i))),c}function _0(s,t){return s.tagToQueryMap.get(t)}function y0(s){const t=s.indexOf("$");return q(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Ie(s.substr(0,t))}}function v0(s,t,i){const r=s.syncPointTree_.get(t);q(r,"Missing sync point for query tag that we're tracking");const o=r0(s.pendingWriteTree_,t);return kh(r,i,o,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Lh(i)}node(){return this.node_}}class Uh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=$e(this.path_,t);return new Uh(this.syncTree_,i)}node(){return p0(this.syncTree_,this.path_)}}const MO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},ny=function(s,t,i){if(!s||typeof s!="object")return s;if(q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return kO(s[".sv"],t,i);if(typeof s[".sv"]=="object")return xO(s[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},kO=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:q(!1,"Unexpected server value: "+s)}},xO=function(s,t,i){s.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);const o=t.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},LO=function(s,t,i,r){return zh(t,new Uh(i,s),r)},UO=function(s,t,i){return zh(s,new Lh(t),i)};function zh(s,t,i){const r=s.getPriority().val(),o=ny(r,t.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,p=ny(h.getValue(),t,i);return p!==h.getValue()||o!==h.getPriority().val()?new We(p,ct(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new We(o))),h.forEachChild(ft,(p,d)=>{const m=zh(d,t.getImmediateChild(p),i);m!==d&&(c=c.updateImmediateChild(p,m))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function Bh(s,t){let i=t instanceof Ie?t:new Ie(t),r=s,o=fe(i);for(;o!==null;){const c=Ws(r.node.children,o)||{children:{},childCount:0};r=new Hh(o,r,c),i=De(i),o=fe(i)}return r}function la(s){return s.node.value}function E0(s,t){s.node.value=t,Wf(s)}function S0(s){return s.node.childCount>0}function zO(s){return la(s)===void 0&&!S0(s)}function Vo(s,t){jt(s.node.children,(i,r)=>{t(new Hh(i,s,r))})}function b0(s,t,i,r){i&&t(s),Vo(s,o=>{b0(o,t,!0)})}function HO(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Br(s){return new Ie(s.parent===null?s.name:Br(s.parent)+"/"+s.name)}function Wf(s){s.parent!==null&&BO(s.parent,s.name,s)}function BO(s,t,i){const r=zO(i),o=zn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,Wf(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,Wf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/[\[\].#$\/\u0000-\u001F\u007F]/,qO=/[\[\].#$\u0000-\u001F\u007F]/,wf=10*1024*1024,T0=function(s){return typeof s=="string"&&s.length!==0&&!PO.test(s)},VO=function(s){return typeof s=="string"&&s.length!==0&&!qO.test(s)},GO=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),VO(s)},C0=function(s,t,i){const r=i instanceof Ie?new b1(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+ji(r));if(typeof t=="function")throw new Error(s+"contains a function "+ji(r)+" with contents = "+t.toString());if(bv(t))throw new Error(s+"contains "+t.toString()+" "+ji(r));if(typeof t=="string"&&t.length>wf/3&&Lo(t)>wf)throw new Error(s+"contains a string greater than "+wf+" utf8 bytes "+ji(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(jt(t,(h,p)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!T0(h)))throw new Error(s+" contains an invalid key ("+h+") "+ji(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);T1(r,h),C0(s,p,r),C1(r)}),o&&c)throw new Error(s+' contains ".value" child '+ji(r)+" in addition to actual children.")}},jO=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!T0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!GO(i))throw new Error(lC(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function KO(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],c=o.getPath();i!==null&&!Kv(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function ns(s,t,i){KO(s,i),FO(s,r=>Wt(r,t)||Wt(t,r))}function FO(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const c=o.path;t(c)?(XO(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function XO(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();gr&&ut("event: "+i.toString()),zr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="repo_interrupt",WO=25;class ZO{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=No(),this.transactionQueueTree_=new Hh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $O(s,t,i){if(s.stats_=wh(s.repoInfo_),s.forceRestClient_||FA())s.server_=new Oo(s.repoInfo_,(r,o,c,h)=>{iy(s,r,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>sy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new In(s.repoInfo_,t,(r,o,c,h)=>{iy(s,r,o,c,h)},r=>{sy(s,r)},r=>{eN(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=$A(s.repoInfo_,()=>new Z1(s.stats_,s.server_)),s.infoData_=new K1,s.infoSyncTree_=new ty({startListening:(r,o,c,h)=>{let p=[];const d=s.infoData_.getNode(r._path);return d.isEmpty()||(p=Po(s.infoSyncTree_,r._path,d),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Ph(s,"connected",!1),s.serverSyncTree_=new ty({startListening:(r,o,c,h)=>(s.server_.listen(r,c,o,(p,d)=>{const m=h(p,d);ns(s.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function JO(s){const i=s.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function w0(s){return MO({timestamp:JO(s)})}function iy(s,t,i,r,o){s.dataUpdateCount++;const c=new Ie(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(r){const d=_o(i,m=>ct(m));h=IO(s.serverSyncTree_,c,d,o)}else{const d=ct(i);h=DO(s.serverSyncTree_,c,d,o)}else if(r){const d=_o(i,m=>ct(m));h=NO(s.serverSyncTree_,c,d)}else{const d=ct(i);h=Po(s.serverSyncTree_,c,d)}let p=c;h.length>0&&(p=Vh(s,c)),ns(s.eventQueue_,p,h)}function sy(s,t){Ph(s,"connected",t),t===!1&&nN(s)}function eN(s,t){jt(t,(i,r)=>{Ph(s,i,r)})}function Ph(s,t,i){const r=new Ie("/.info/"+t),o=ct(i);s.infoData_.updateSnapshot(r,o);const c=Po(s.infoSyncTree_,r,o);ns(s.eventQueue_,r,c)}function tN(s){return s.nextWriteId_++}function nN(s){R0(s,"onDisconnectEvents");const t=w0(s),i=No();Gf(s.onDisconnect_,Ce(),(o,c)=>{const h=LO(o,c,s.serverSyncTree_,t);Jv(i,o,h)});let r=[];Gf(i,Ce(),(o,c)=>{r=r.concat(Po(s.serverSyncTree_,o,c));const h=rN(s,o);Vh(s,h)}),s.onDisconnect_=No(),ns(s.eventQueue_,Ce(),r)}function iN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(QO)}function R0(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ut(i,...t)}function A0(s,t,i){return p0(s.serverSyncTree_,t,i)||ge.EMPTY_NODE}function qh(s,t=s.transactionQueueTree_){if(t||Go(s,t),la(t)){const i=N0(s,t);q(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&sN(s,Br(t),i)}else S0(t)&&Vo(t,i=>{qh(s,i)})}function sN(s,t,i){const r=i.map(m=>m.currentWriteId),o=A0(s,t,r);let c=o;const h=o.hash();for(let m=0;m<i.length;m++){const y=i[m];q(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Vt(t,y.path);c=c.updateChild(v,y.currentOutputSnapshotRaw)}const p=c.val(!0),d=t;s.server_.put(d.toString(),p,m=>{R0(s,"transaction put response",{path:d.toString(),status:m});let y=[];if(m==="ok"){const v=[];for(let T=0;T<i.length;T++)i[T].status=2,y=y.concat(js(s.serverSyncTree_,i[T].currentWriteId)),i[T].onComplete&&v.push(()=>i[T].onComplete(null,!0,i[T].currentOutputSnapshotResolved)),i[T].unwatcher();Go(s,Bh(s.transactionQueueTree_,t)),qh(s,s.transactionQueueTree_),ns(s.eventQueue_,t,y);for(let T=0;T<v.length;T++)zr(v[T])}else{if(m==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{It("transaction at "+d.toString()+" failed: "+m);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=m}Vh(s,t)}},h)}function Vh(s,t){const i=O0(s,t),r=Br(i),o=N0(s,i);return aN(s,o,r),r}function aN(s,t,i){if(t.length===0)return;const r=[];let o=[];const h=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const d=t[p],m=Vt(i,d.path);let y=!1,v;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,v=d.abortReason,o=o.concat(js(s.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=WO)y=!0,v="maxretry",o=o.concat(js(s.serverSyncTree_,d.currentWriteId,!0));else{const T=A0(s,d.path,h);d.currentInputSnapshot=T;const D=t[p].update(T.val());if(D!==void 0){C0("transaction failed: Data returned ",D,d.path);let N=ct(D);typeof D=="object"&&D!=null&&zn(D,".priority")||(N=N.updatePriority(T.getPriority()));const H=d.currentWriteId,z=w0(s),K=UO(N,T,z);d.currentOutputSnapshotRaw=N,d.currentOutputSnapshotResolved=K,d.currentWriteId=tN(s),h.splice(h.indexOf(H),1),o=o.concat(OO(s.serverSyncTree_,d.path,K,d.currentWriteId,d.applyLocally)),o=o.concat(js(s.serverSyncTree_,H,!0))}else y=!0,v="nodata",o=o.concat(js(s.serverSyncTree_,d.currentWriteId,!0))}ns(s.eventQueue_,i,o),o=[],y&&(t[p].status=2,function(T){setTimeout(T,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(v==="nodata"?r.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):r.push(()=>t[p].onComplete(new Error(v),!1,null))))}Go(s,s.transactionQueueTree_);for(let p=0;p<r.length;p++)zr(r[p]);qh(s,s.transactionQueueTree_)}function O0(s,t){let i,r=s.transactionQueueTree_;for(i=fe(t);i!==null&&la(r)===void 0;)r=Bh(r,i),t=De(t),i=fe(t);return r}function N0(s,t){const i=[];return D0(s,t,i),i.sort((r,o)=>r.order-o.order),i}function D0(s,t,i){const r=la(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Vo(t,o=>{D0(s,o,i)})}function Go(s,t){const i=la(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,E0(t,i.length>0?i:void 0)}Vo(t,r=>{Go(s,r)})}function rN(s,t){const i=Br(O0(s,t)),r=Bh(s.transactionQueueTree_,t);return HO(r,o=>{Rf(s,o)}),Rf(s,r),b0(r,o=>{Rf(s,o)}),i}function Rf(s,t){const i=la(t);if(i){const r=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(q(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(js(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?E0(t,void 0):i.length=c+1,ns(s.eventQueue_,Br(t),o);for(let h=0;h<r.length;h++)zr(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function oN(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):It(`Invalid query segment '${i}' in query '${s}'`)}return t}const ay=function(s,t){const i=uN(s),r=i.namespace;i.domain==="firebase.com"&&Ln(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||BA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new xv(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new Ie(i.pathString)}},uN=function(s){let t="",i="",r="",o="",c="",h=!0,p="https",d=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(p=s.substring(0,m-1),s=s.substring(m+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),t=s.substring(0,Math.min(y,v)),y<v&&(o=lN(s.substring(y,v)));const T=oN(s.substring(Math.min(s.length,v)));m=t.indexOf(":"),m>=0?(h=p==="https"||p==="wss",d=parseInt(t.substring(m+1),10)):m=t.length;const D=t.slice(0,m);if(D.toLowerCase()==="localhost")i="localhost";else if(D.split(".").length<=2)i=D;else{const N=t.indexOf(".");r=t.substring(0,N).toLowerCase(),i=t.substring(N+1),c=r}"ns"in T&&(c=T.ns)}return{host:t,port:d,domain:i,subdomain:r,secure:h,scheme:p,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return ue(this._path)?null:Gv(this._path)}get ref(){return new oa(this._repo,this._path)}get _queryIdentifier(){const t=j_(this._queryParams),i=Th(t);return i==="{}"?"default":i}get _queryObject(){return j_(this._queryParams)}isEqual(t){if(t=Hn(t),!(t instanceof Gh))return!1;const i=this._repo===t._repo,r=Kv(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+S1(this._path)}}class oa extends Gh{constructor(t,i){super(t,i,new Nh,!1)}get parent(){const t=Yv(this._path);return t===null?null:new oa(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}RO(oa);AO(oa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FIREBASE_DATABASE_EMULATOR_HOST",Zf={};let fN=!1;function hN(s,t,i,r){s.repoInfo_=new xv(t,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function dN(s,t,i,r,o){let c=r||s.options.databaseURL;c===void 0&&(s.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=ay(c,o),p=h.repoInfo,d;typeof process<"u"&&w_&&(d=w_[cN]),d?(c=`http://${d}?ns=${p.namespace}`,h=ay(c,o),p=h.repoInfo):h.repoInfo.secure;const m=new QA(s.name,s.options,t);jO("Invalid Firebase Database URL",h),ue(h.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");const y=mN(p,s,m,new XA(s,i));return new gN(y,s)}function pN(s,t){const i=Zf[t];(!i||i[s.key]!==s)&&Ln(`Database ${t}(${s.repoInfo_}) has already been deleted.`),iN(s),delete i[s.key]}function mN(s,t,i,r){let o=Zf[t.name];o||(o={},Zf[t.name]=o);let c=o[s.toURLString()];return c&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new ZO(s,fN,i,r),o[s.toURLString()]=c,c}class gN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($O(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oa(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ln("Cannot call "+t+" on a deleted database.")}}function _N(s=zy(),t){const i=fh(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=jT("database");r&&yN(i,...r)}return i}function yN(s,t,i,r={}){s=Hn(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Fi(r,c.repoInfo_.emulatorOptions))return;Ln("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new ho(ho.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:YT(r.mockUserToken,s.app.options.projectId);h=new ho(p)}hN(c,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(s){kA(sa),Zs(new Xi("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return dN(r,o,c,i)},"PUBLIC").setMultipleInstances(!0)),gi(R_,A_,s),gi(R_,A_,"esm2017")}In.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};In.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};vN();var EN={apiKey:"AIzaSyBvBMSzqJuOOsSIEhyM-sVI-vinaIu2GC8",authDomain:"midterm-project-ab3aa.firebaseapp.com",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com",projectId:"midterm-project-ab3aa",storageBucket:"midterm-project-ab3aa.firebasestorage.app",messagingSenderId:"13475203739",appId:"1:13475203739:web:f722da780a822b88ff543e",measurementId:"G-LB3317B8W5",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com"};const I0=Uy(EN),Af=IA(I0);_N(I0);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),ry=s=>{const t=bN(s);return t.charAt(0).toUpperCase()+t.slice(1)},M0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),TN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=k.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:h,...p},d)=>k.createElement("svg",{ref:d,...CN,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:M0("lucide",o),...!c&&!TN(p)&&{"aria-hidden":"true"},...p},[...h.map(([m,y])=>k.createElement(m,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=(s,t)=>{const i=k.forwardRef(({className:r,...o},c)=>k.createElement(wN,{ref:c,iconNode:t,className:M0(`lucide-${SN(ry(s))}`,`lucide-${s}`,r),...o}));return i.displayName=ry(s),i};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AN=k0("eye-off",RN);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NN=k0("eye",ON),DN=()=>{const[s,t]=k.useState(!1),[i,r]=k.useState(""),[o,c]=k.useState(""),[h,p]=k.useState(!1),[d,m]=k.useState(""),y=eh(),v=async D=>{D.preventDefault(),m("");try{s?await _R(Af,i,o):await yR(Af,i,o),y("/chat")}catch(N){m(N.message)}},T=async()=>{const D=new wn;try{await PR(Af,D),y("/chat")}catch(N){m(N.message)}};return oe.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden"},oe.createElement("div",{className:"absolute inset-0 bg-[url('/image/ginza-night.jpg')] bg-cover bg-center opacity-20 pointer-events-none z-0"}),oe.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl"},oe.createElement("div",{className:"flex justify-center space-x-4"},oe.createElement("button",{onClick:()=>t(!1),className:`px-4 py-1 rounded-full border ${s?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`},"Login"),oe.createElement("button",{onClick:()=>t(!0),className:`px-4 py-1 rounded-full border ${s?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`},"Sign Up")),oe.createElement("form",{onSubmit:v,className:"space-y-4"},oe.createElement("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:i,onChange:D=>r(D.target.value),required:!0}),oe.createElement("div",{className:"relative"},oe.createElement("input",{type:h?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:D=>c(D.target.value),required:!0}),oe.createElement("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":h?"Hide password":"Show password"},h?oe.createElement(AN,{size:20}):oe.createElement(NN,{size:20}))),d&&oe.createElement("p",{className:"text-red-400 text-sm text-center"},d),oe.createElement("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]"},s?"Sign Up":"Login")),oe.createElement("button",{onClick:T,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition"},oe.createElement("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"),oe.createElement("p",{className:"text-center text-sm text-white/80"},s?"Already have an account?":"Don't have an account?"," ",oe.createElement("button",{onClick:()=>t(!s),className:"text-[#bfa382] hover:text-white font-semibold transition"},s?"Login":"Sign up"))))};function IN(){return oe.createElement(CT,null,oe.createElement(eT,null,oe.createElement(ao,{path:"/",element:oe.createElement(xT,null)}),oe.createElement(ao,{path:"/login",element:oe.createElement(DN,null)}),oe.createElement(ao,{path:"/chat",element:oe.createElement("div",null,"Chatroom Page (coming soon!)")})))}cb.createRoot(document.getElementById("root")).render(oe.createElement(oe.StrictMode,null,oe.createElement(IN,null)));
