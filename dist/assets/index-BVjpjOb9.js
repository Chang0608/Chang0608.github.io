(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function tS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hd={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function S1(){if(f0)return he;f0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function D(w,q,Q){this.props=w,this.context=q,this.refs=N,this.updater=Q||b}D.prototype.isReactComponent={},D.prototype.setState=function(w,q){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function x(){}x.prototype=D.prototype;function z(w,q,Q){this.props=w,this.context=q,this.refs=N,this.updater=Q||b}var L=z.prototype=new x;L.constructor=z,S(L,D.prototype),L.isPureReactComponent=!0;var W=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Z(w,q,Q,H,ne,Te){return Q=Te.ref,{$$typeof:t,type:w,key:q,ref:Q!==void 0?Q:null,props:Te}}function $(w,q){return Z(w.type,q,void 0,void 0,void 0,w.props)}function re(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function Se(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Q){return q[Q]})}var Ge=/\/+/g;function ze(w,q){return typeof w=="object"&&w!==null&&w.key!=null?Se(""+w.key):q.toString(36)}function vn(){}function Gt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(vn,vn):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function et(w,q,Q,H,ne){var Te=typeof w;(Te==="undefined"||Te==="boolean")&&(w=null);var ce=!1;if(w===null)ce=!0;else switch(Te){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(w.$$typeof){case t:case e:ce=!0;break;case g:return ce=w._init,et(ce(w._payload),q,Q,H,ne)}}if(ce)return ne=ne(w),ce=H===""?"."+ze(w,0):H,W(ne)?(Q="",ce!=null&&(Q=ce.replace(Ge,"$&/")+"/"),et(ne,q,Q,"",function(Mn){return Mn})):ne!=null&&(re(ne)&&(ne=$(ne,Q+(ne.key==null||w&&w.key===ne.key?"":(""+ne.key).replace(Ge,"$&/")+"/")+ce)),q.push(ne)),1;ce=0;var Nt=H===""?".":H+":";if(W(w))for(var Ue=0;Ue<w.length;Ue++)H=w[Ue],Te=Nt+ze(H,Ue),ce+=et(H,q,Q,Te,ne);else if(Ue=_(w),typeof Ue=="function")for(w=Ue.call(w),Ue=0;!(H=w.next()).done;)H=H.value,Te=Nt+ze(H,Ue++),ce+=et(H,q,Q,Te,ne);else if(Te==="object"){if(typeof w.then=="function")return et(Gt(w),q,Q,H,ne);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ce}function U(w,q,Q){if(w==null)return w;var H=[],ne=0;return et(w,H,"","",function(Te){return q.call(Q,Te,ne++)}),H}function Y(w){if(w._status===-1){var q=w._result;q=q(),q.then(function(Q){(w._status===0||w._status===-1)&&(w._status=1,w._result=Q)},function(Q){(w._status===0||w._status===-1)&&(w._status=2,w._result=Q)}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return w._result.default;throw w._result}var ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function we(){}return he.Children={map:U,forEach:function(w,q,Q){U(w,function(){q.apply(this,arguments)},Q)},count:function(w){var q=0;return U(w,function(){q++}),q},toArray:function(w){return U(w,function(q){return q})||[]},only:function(w){if(!re(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},he.Component=D,he.Fragment=i,he.Profiler=o,he.PureComponent=z,he.StrictMode=r,he.Suspense=d,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,he.__COMPILER_RUNTIME={__proto__:null,c:function(w){return P.H.useMemoCache(w)}},he.cache=function(w){return function(){return w.apply(null,arguments)}},he.cloneElement=function(w,q,Q){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var H=S({},w.props),ne=w.key,Te=void 0;if(q!=null)for(ce in q.ref!==void 0&&(Te=void 0),q.key!==void 0&&(ne=""+q.key),q)!X.call(q,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&q.ref===void 0||(H[ce]=q[ce]);var ce=arguments.length-2;if(ce===1)H.children=Q;else if(1<ce){for(var Nt=Array(ce),Ue=0;Ue<ce;Ue++)Nt[Ue]=arguments[Ue+2];H.children=Nt}return Z(w.type,ne,void 0,void 0,Te,H)},he.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},he.createElement=function(w,q,Q){var H,ne={},Te=null;if(q!=null)for(H in q.key!==void 0&&(Te=""+q.key),q)X.call(q,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(ne[H]=q[H]);var ce=arguments.length-2;if(ce===1)ne.children=Q;else if(1<ce){for(var Nt=Array(ce),Ue=0;Ue<ce;Ue++)Nt[Ue]=arguments[Ue+2];ne.children=Nt}if(w&&w.defaultProps)for(H in ce=w.defaultProps,ce)ne[H]===void 0&&(ne[H]=ce[H]);return Z(w,Te,void 0,void 0,null,ne)},he.createRef=function(){return{current:null}},he.forwardRef=function(w){return{$$typeof:h,render:w}},he.isValidElement=re,he.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:Y}},he.memo=function(w,q){return{$$typeof:p,type:w,compare:q===void 0?null:q}},he.startTransition=function(w){var q=P.T,Q={};P.T=Q;try{var H=w(),ne=P.S;ne!==null&&ne(Q,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(we,ee)}catch(Te){ee(Te)}finally{P.T=q}},he.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},he.use=function(w){return P.H.use(w)},he.useActionState=function(w,q,Q){return P.H.useActionState(w,q,Q)},he.useCallback=function(w,q){return P.H.useCallback(w,q)},he.useContext=function(w){return P.H.useContext(w)},he.useDebugValue=function(){},he.useDeferredValue=function(w,q){return P.H.useDeferredValue(w,q)},he.useEffect=function(w,q,Q){var H=P.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(w,q)},he.useId=function(){return P.H.useId()},he.useImperativeHandle=function(w,q,Q){return P.H.useImperativeHandle(w,q,Q)},he.useInsertionEffect=function(w,q){return P.H.useInsertionEffect(w,q)},he.useLayoutEffect=function(w,q){return P.H.useLayoutEffect(w,q)},he.useMemo=function(w,q){return P.H.useMemo(w,q)},he.useOptimistic=function(w,q){return P.H.useOptimistic(w,q)},he.useReducer=function(w,q,Q){return P.H.useReducer(w,q,Q)},he.useRef=function(w){return P.H.useRef(w)},he.useState=function(w){return P.H.useState(w)},he.useSyncExternalStore=function(w,q,Q){return P.H.useSyncExternalStore(w,q,Q)},he.useTransition=function(){return P.H.useTransition()},he.version="19.1.0",he}var h0;function Vm(){return h0||(h0=1,hd.exports=S1()),hd.exports}var C=Vm();const B=tS(C);var dd={exports:{}},yo={},md={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function T1(){return d0||(d0=1,function(t){function e(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var we=ee-1>>>1,w=U[we];if(0<o(w,Y))U[we]=Y,U[ee]=w,ee=we;else break e}}function i(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var we=0,w=U.length,q=w>>>1;we<q;){var Q=2*(we+1)-1,H=U[Q],ne=Q+1,Te=U[ne];if(0>o(H,ee))ne<w&&0>o(Te,H)?(U[we]=Te,U[ne]=ee,we=ne):(U[we]=H,U[Q]=ee,we=Q);else if(ne<w&&0>o(Te,ee))U[we]=Te,U[ne]=ee,we=ne;else break e}}return Y}function o(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],g=1,y=null,_=3,b=!1,S=!1,N=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function W(U){for(var Y=i(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=U)r(p),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=i(p)}}function P(U){if(N=!1,W(U),!S)if(i(d)!==null)S=!0,X||(X=!0,ze());else{var Y=i(p);Y!==null&&et(P,Y.startTime-U)}}var X=!1,Z=-1,$=5,re=-1;function Se(){return D?!0:!(t.unstable_now()-re<$)}function Ge(){if(D=!1,X){var U=t.unstable_now();re=U;var Y=!0;try{e:{S=!1,N&&(N=!1,z(Z),Z=-1),b=!0;var ee=_;try{t:{for(W(U),y=i(d);y!==null&&!(y.expirationTime>U&&Se());){var we=y.callback;if(typeof we=="function"){y.callback=null,_=y.priorityLevel;var w=we(y.expirationTime<=U);if(U=t.unstable_now(),typeof w=="function"){y.callback=w,W(U),Y=!0;break t}y===i(d)&&r(d),W(U)}else r(d);y=i(d)}if(y!==null)Y=!0;else{var q=i(p);q!==null&&et(P,q.startTime-U),Y=!1}}break e}finally{y=null,_=ee,b=!1}Y=void 0}}finally{Y?ze():X=!1}}}var ze;if(typeof L=="function")ze=function(){L(Ge)};else if(typeof MessageChannel<"u"){var vn=new MessageChannel,Gt=vn.port2;vn.port1.onmessage=Ge,ze=function(){Gt.postMessage(null)}}else ze=function(){x(Ge,0)};function et(U,Y){Z=x(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(U){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var ee=_;_=Y;try{return U()}finally{_=ee}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=_;_=U;try{return Y()}finally{_=ee}},t.unstable_scheduleCallback=function(U,Y,ee){var we=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,U={id:g++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:w,sortIndex:-1},ee>we?(U.sortIndex=ee,e(p,U),i(d)===null&&U===i(p)&&(N?(z(Z),Z=-1):N=!0,et(P,ee-we))):(U.sortIndex=w,e(d,U),S||b||(S=!0,X||(X=!0,ze()))),U},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(U){var Y=_;return function(){var ee=_;_=Y;try{return U.apply(this,arguments)}finally{_=ee}}}}(pd)),pd}var m0;function C1(){return m0||(m0=1,md.exports=T1()),md.exports}var gd={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function w1(){if(p0)return wt;p0=1;var t=Vm();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wt.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(d,p,null,g)},wt.flushSync=function(d){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=g,r.d.f()}},wt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},wt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},wt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},wt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wt.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},wt.requestFormReset=function(d){r.d.r(d)},wt.unstable_batchedUpdates=function(d,p){return d(p)},wt.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},wt.useFormStatus=function(){return c.H.useHostTransitionStatus()},wt.version="19.1.0",wt}var g0;function A1(){if(g0)return gd.exports;g0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gd.exports=w1(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function R1(){if(y0)return yo;y0=1;var t=C1(),e=Vm(),i=A1();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(u(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return h(f),n;if(m===l)return h(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,E=f.child;E;){if(E===a){v=!0,a=f,l=m;break}if(E===l){v=!0,l=f,a=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===a){v=!0,a=m,l=f;break}if(E===l){v=!0,l=m,a=f;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function ze(n){return n===null||typeof n!="object"?null:(n=Ge&&n[Ge]||n["@@iterator"],typeof n=="function"?n:null)}var vn=Symbol.for("react.client.reference");function Gt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===vn?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case X:return"SuspenseList";case re:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case L:return(n.displayName||"Context")+".Provider";case z:return(n._context.displayName||"Context")+".Consumer";case W:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z:return s=n.displayName||null,s!==null?s:Gt(n.type)||"Memo";case $:s=n._payload,n=n._init;try{return Gt(n(s))}catch{}}return null}var et=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},we=[],w=-1;function q(n){return{current:n}}function Q(n){0>w||(n.current=we[w],we[w]=null,w--)}function H(n,s){w++,we[w]=n.current,n.current=s}var ne=q(null),Te=q(null),ce=q(null),Nt=q(null);function Ue(n,s){switch(H(ce,s),H(Te,n),H(ne,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?B_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=B_(s),n=z_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(ne),H(ne,n)}function Mn(){Q(ne),Q(Te),Q(ce)}function ga(n){n.memoizedState!==null&&H(Nt,n);var s=ne.current,a=z_(s,n.type);s!==a&&(H(Te,n),H(ne,a))}function $s(n){Te.current===n&&(Q(ne),Q(Te)),Nt.current===n&&(Q(Nt),fo._currentValue=ee)}var ya=Object.prototype.hasOwnProperty,va=t.unstable_scheduleCallback,_a=t.unstable_cancelCallback,Zc=t.unstable_shouldYield,Jc=t.unstable_requestPaint,sn=t.unstable_now,G=t.unstable_getCurrentPriorityLevel,fe=t.unstable_ImmediatePriority,be=t.unstable_UserBlockingPriority,de=t.unstable_NormalPriority,Ye=t.unstable_LowPriority,tt=t.unstable_IdlePriority,Yt=t.log,Fn=t.unstable_setDisableYieldValue,Kt=null,ct=null;function On(n){if(typeof Yt=="function"&&Fn(n),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Kt,n)}catch{}}var Dt=Math.clz32?Math.clz32:lA,aA=Math.log,oA=Math.LN2;function lA(n){return n>>>=0,n===0?32:31-(aA(n)/oA|0)|0}var wl=256,Al=4194304;function fs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Rl(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?f=fs(l):(v&=E,v!==0?f=fs(v):a||(a=E&~n,a!==0&&(f=fs(a))))):(E=l&~m,E!==0?f=fs(E):v!==0?f=fs(v):a||(a=l&~n,a!==0&&(f=fs(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Ea(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function uA(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sg(){var n=wl;return wl<<=1,(wl&4194048)===0&&(wl=256),n}function Tg(){var n=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),n}function ef(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ba(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cA(n,s,a,l,f,m){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var E=n.entanglements,T=n.expirationTimes,O=n.hiddenUpdates;for(a=v&~a;0<a;){var V=31-Dt(a),F=1<<V;E[V]=0,T[V]=-1;var I=O[V];if(I!==null)for(O[V]=null,V=0;V<I.length;V++){var k=I[V];k!==null&&(k.lane&=-536870913)}a&=~F}l!==0&&Cg(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~s))}function Cg(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Dt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function wg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Dt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function tf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function nf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ag(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:r0(n.type))}function fA(n,s){var a=Y.p;try{return Y.p=n,s()}finally{Y.p=a}}var Si=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Si,kt="__reactProps$"+Si,Qs="__reactContainer$"+Si,sf="__reactEvents$"+Si,hA="__reactListeners$"+Si,dA="__reactHandles$"+Si,Rg="__reactResources$"+Si,Sa="__reactMarker$"+Si;function rf(n){delete n[Tt],delete n[kt],delete n[sf],delete n[hA],delete n[dA]}function Zs(n){var s=n[Tt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Qs]||a[Tt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=q_(n);n!==null;){if(a=n[Tt])return a;n=q_(n)}return s}n=a,a=n.parentNode}return null}function Js(n){if(n=n[Tt]||n[Qs]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Ta(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function er(n){var s=n[Rg];return s||(s=n[Rg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ft(n){n[Sa]=!0}var xg=new Set,Ng={};function hs(n,s){tr(n,s),tr(n+"Capture",s)}function tr(n,s){for(Ng[n]=s,n=0;n<s.length;n++)xg.add(s[n])}var mA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dg={},Mg={};function pA(n){return ya.call(Mg,n)?!0:ya.call(Dg,n)?!1:mA.test(n)?Mg[n]=!0:(Dg[n]=!0,!1)}function xl(n,s,a){if(pA(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Nl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function qn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var af,Og;function nr(n){if(af===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);af=s&&s[1]||"",Og=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+af+n+Og}var of=!1;function lf(n,s){if(!n||of)return"";of=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var I=k}Reflect.construct(n,[],F)}else{try{F.call()}catch(k){I=k}n.call(F.prototype)}}else{try{throw Error()}catch(k){I=k}(F=n())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&I&&typeof k.stack=="string")return[k.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var T=v.split(`
`),O=E.split(`
`);for(f=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(l===T.length||f===O.length)for(l=T.length-1,f=O.length-1;1<=l&&0<=f&&T[l]!==O[f];)f--;for(;1<=l&&0<=f;l--,f--)if(T[l]!==O[f]){if(l!==1||f!==1)do if(l--,f--,0>f||T[l]!==O[f]){var V=`
`+T[l].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=l&&0<=f);break}}}finally{of=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?nr(a):""}function gA(n){switch(n.tag){case 26:case 27:case 5:return nr(n.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return lf(n.type,!1);case 11:return lf(n.type.render,!1);case 1:return lf(n.type,!0);case 31:return nr("Activity");default:return""}}function Ig(n){try{var s="";do s+=gA(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function kg(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yA(n){var s=kg(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Dl(n){n._valueTracker||(n._valueTracker=yA(n))}function Lg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=kg(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ml(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var vA=/[\n"\\]/g;function an(n){return n.replace(vA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uf(n,s,a,l,f,m,v,E){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+rn(s)):n.value!==""+rn(s)&&(n.value=""+rn(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?cf(n,v,rn(s)):a!=null?cf(n,v,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+rn(E):n.removeAttribute("name")}function Pg(n,s,a,l,f,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,E||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=E?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function cf(n,s,a){s==="number"&&Ml(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ir(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ug(n,s,a){if(s!=null&&(s=""+rn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+rn(a):""}function Vg(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=rn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function sr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var _A=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bg(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||_A.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function zg(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Bg(n,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Bg(n,m,s[m])}function ff(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(n){return bA.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var hf=null;function df(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rr=null,ar=null;function Hg(n){var s=Js(n);if(s&&(n=s.stateNode)){var a=n[kt]||null;e:switch(n=s.stateNode,s.type){case"input":if(uf(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[kt]||null;if(!f)throw Error(r(90));uf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Lg(l)}break e;case"textarea":Ug(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ir(n,!!a.multiple,s,!1)}}}var mf=!1;function jg(n,s,a){if(mf)return n(s,a);mf=!0;try{var l=n(s);return l}finally{if(mf=!1,(rr!==null||ar!==null)&&(yu(),rr&&(s=rr,n=ar,ar=rr=null,Hg(s),n)))for(s=0;s<n.length;s++)Hg(n[s])}}function Ca(n,s){var a=n.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=!1;if(Gn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){pf=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{pf=!1}var Ti=null,gf=null,Il=null;function Fg(){if(Il)return Il;var n,s=gf,a=s.length,l,f="value"in Ti?Ti.value:Ti.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[m-l];l++);return Il=f.slice(n,1<l?1-l:void 0)}function kl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ll(){return!0}function qg(){return!1}function Lt(n){function s(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ll:qg,this.isPropagationStopped=qg,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),s}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Lt(ds),Aa=g({},ds,{view:0,detail:0}),SA=Lt(Aa),yf,vf,Ra,Ul=g({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ra&&(Ra&&n.type==="mousemove"?(yf=n.screenX-Ra.screenX,vf=n.screenY-Ra.screenY):vf=yf=0,Ra=n),yf)},movementY:function(n){return"movementY"in n?n.movementY:vf}}),Gg=Lt(Ul),TA=g({},Ul,{dataTransfer:0}),CA=Lt(TA),wA=g({},Aa,{relatedTarget:0}),_f=Lt(wA),AA=g({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),RA=Lt(AA),xA=g({},ds,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),NA=Lt(xA),DA=g({},ds,{data:0}),Yg=Lt(DA),MA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kA(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=IA[n])?!!s[n]:!1}function Ef(){return kA}var LA=g({},Aa,{key:function(n){if(n.key){var s=MA[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=kl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?OA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(n){return n.type==="keypress"?kl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?kl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),PA=Lt(LA),UA=g({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Lt(UA),VA=g({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),BA=Lt(VA),zA=g({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=Lt(zA),jA=g({},Ul,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),FA=Lt(jA),qA=g({},ds,{newState:0,oldState:0}),GA=Lt(qA),YA=[9,13,27,32],bf=Gn&&"CompositionEvent"in window,xa=null;Gn&&"documentMode"in document&&(xa=document.documentMode);var KA=Gn&&"TextEvent"in window&&!xa,Wg=Gn&&(!bf||xa&&8<xa&&11>=xa),Xg=" ",$g=!1;function Qg(n,s){switch(n){case"keyup":return YA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var or=!1;function WA(n,s){switch(n){case"compositionend":return Zg(s);case"keypress":return s.which!==32?null:($g=!0,Xg);case"textInput":return n=s.data,n===Xg&&$g?null:n;default:return null}}function XA(n,s){if(or)return n==="compositionend"||!bf&&Qg(n,s)?(n=Fg(),Il=gf=Ti=null,or=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wg&&s.locale!=="ko"?null:s.data;default:return null}}var $A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!$A[n.type]:s==="textarea"}function ey(n,s,a,l){rr?ar?ar.push(l):ar=[l]:rr=l,s=Tu(s,"onChange"),0<s.length&&(a=new Pl("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Na=null,Da=null;function QA(n){k_(n,0)}function Vl(n){var s=Ta(n);if(Lg(s))return n}function ty(n,s){if(n==="change")return s}var ny=!1;if(Gn){var Sf;if(Gn){var Tf="oninput"in document;if(!Tf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Tf=typeof iy.oninput=="function"}Sf=Tf}else Sf=!1;ny=Sf&&(!document.documentMode||9<document.documentMode)}function sy(){Na&&(Na.detachEvent("onpropertychange",ry),Da=Na=null)}function ry(n){if(n.propertyName==="value"&&Vl(Da)){var s=[];ey(s,Da,n,df(n)),jg(QA,s)}}function ZA(n,s,a){n==="focusin"?(sy(),Na=s,Da=a,Na.attachEvent("onpropertychange",ry)):n==="focusout"&&sy()}function JA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vl(Da)}function eR(n,s){if(n==="click")return Vl(s)}function tR(n,s){if(n==="input"||n==="change")return Vl(s)}function nR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Wt=typeof Object.is=="function"?Object.is:nR;function Ma(n,s){if(Wt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ya.call(s,f)||!Wt(n[f],s[f]))return!1}return!0}function ay(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oy(n,s){var a=ay(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ay(a)}}function ly(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ly(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function uy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ml(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ml(n.document)}return s}function Cf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var iR=Gn&&"documentMode"in document&&11>=document.documentMode,lr=null,wf=null,Oa=null,Af=!1;function cy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||lr==null||lr!==Ml(l)||(l=lr,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oa&&Ma(Oa,l)||(Oa=l,l=Tu(wf,"onSelect"),0<l.length&&(s=new Pl("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=lr)))}function ms(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var ur={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Rf={},fy={};Gn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function ps(n){if(Rf[n])return Rf[n];if(!ur[n])return n;var s=ur[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in fy)return Rf[n]=s[a];return n}var hy=ps("animationend"),dy=ps("animationiteration"),my=ps("animationstart"),sR=ps("transitionrun"),rR=ps("transitionstart"),aR=ps("transitioncancel"),py=ps("transitionend"),gy=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function _n(n,s){gy.set(n,s),hs(s,[n])}var yy=new WeakMap;function on(n,s){if(typeof n=="object"&&n!==null){var a=yy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Ig(s)},yy.set(n,s),s)}return{value:n,source:s,stack:Ig(s)}}var ln=[],cr=0,Nf=0;function Bl(){for(var n=cr,s=Nf=cr=0;s<n;){var a=ln[s];ln[s++]=null;var l=ln[s];ln[s++]=null;var f=ln[s];ln[s++]=null;var m=ln[s];if(ln[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&vy(a,f,m)}}function zl(n,s,a,l){ln[cr++]=n,ln[cr++]=s,ln[cr++]=a,ln[cr++]=l,Nf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Df(n,s,a,l){return zl(n,s,a,l),Hl(n)}function fr(n,s){return zl(n,null,null,s),Hl(n)}function vy(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Dt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Hl(n){if(50<io)throw io=0,Ph=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var hr={};function oR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(n,s,a,l){return new oR(n,s,a,l)}function Mf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yn(n,s){var a=n.alternate;return a===null?(a=Xt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function _y(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function jl(n,s,a,l,f,m){var v=0;if(l=n,typeof n=="function")Mf(n)&&(v=1);else if(typeof n=="string")v=u1(n,a,ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case re:return n=Xt(31,a,s,f),n.elementType=re,n.lanes=m,n;case S:return gs(a.children,f,m,s);case N:v=8,f|=24;break;case D:return n=Xt(12,a,s,f|2),n.elementType=D,n.lanes=m,n;case P:return n=Xt(13,a,s,f),n.elementType=P,n.lanes=m,n;case X:return n=Xt(19,a,s,f),n.elementType=X,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case L:v=10;break e;case z:v=9;break e;case W:v=11;break e;case Z:v=14;break e;case $:v=16,l=null;break e}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Xt(v,a,s,f),s.elementType=n,s.type=l,s.lanes=m,s}function gs(n,s,a,l){return n=Xt(7,n,l,s),n.lanes=a,n}function Of(n,s,a){return n=Xt(6,n,null,s),n.lanes=a,n}function If(n,s,a){return s=Xt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var dr=[],mr=0,Fl=null,ql=0,un=[],cn=0,ys=null,Kn=1,Wn="";function vs(n,s){dr[mr++]=ql,dr[mr++]=Fl,Fl=n,ql=s}function Ey(n,s,a){un[cn++]=Kn,un[cn++]=Wn,un[cn++]=ys,ys=n;var l=Kn;n=Wn;var f=32-Dt(l)-1;l&=~(1<<f),a+=1;var m=32-Dt(s)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Kn=1<<32-Dt(s)+f|a<<f|l,Wn=m+n}else Kn=1<<m|a<<f|l,Wn=n}function kf(n){n.return!==null&&(vs(n,1),Ey(n,1,0))}function Lf(n){for(;n===Fl;)Fl=dr[--mr],dr[mr]=null,ql=dr[--mr],dr[mr]=null;for(;n===ys;)ys=un[--cn],un[cn]=null,Wn=un[--cn],un[cn]=null,Kn=un[--cn],un[cn]=null}var Mt=null,$e=null,Re=!1,_s=null,In=!1,Pf=Error(r(519));function Es(n){var s=Error(r(418,""));throw La(on(s,n)),Pf}function by(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Tt]=n,s[kt]=l,a){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(a=0;a<ro.length;a++)_e(ro[a],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":_e("invalid",s),Pg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Dl(s);break;case"select":_e("invalid",s);break;case"textarea":_e("invalid",s),Vg(s,l.value,l.defaultValue,l.children),Dl(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||V_(s.textContent,a)?(l.popover!=null&&(_e("beforetoggle",s),_e("toggle",s)),l.onScroll!=null&&_e("scroll",s),l.onScrollEnd!=null&&_e("scrollend",s),l.onClick!=null&&(s.onclick=Cu),s=!0):s=!1,s||Es(n)}function Sy(n){for(Mt=n.return;Mt;)switch(Mt.tag){case 5:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Mt=Mt.return}}function Ia(n){if(n!==Mt)return!1;if(!Re)return Sy(n),Re=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Zh(n.type,n.memoizedProps)),a=!a),a&&$e&&Es(n),Sy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){$e=bn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}$e=null}}else s===27?(s=$e,Bi(n.type)?(n=nd,nd=null,$e=n):$e=s):$e=Mt?bn(n.stateNode.nextSibling):null;return!0}function ka(){$e=Mt=null,Re=!1}function Ty(){var n=_s;return n!==null&&(Vt===null?Vt=n:Vt.push.apply(Vt,n),_s=null),n}function La(n){_s===null?_s=[n]:_s.push(n)}var Uf=q(null),bs=null,Xn=null;function Ci(n,s,a){H(Uf,s._currentValue),s._currentValue=a}function $n(n){n._currentValue=Uf.current,Q(Uf)}function Vf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Bf(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var T=0;T<s.length;T++)if(E.context===s[T]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Vf(m.return,a,n),l||(v=null);break e}m=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Vf(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Pa(n,s,a,l){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=f.type;Wt(f.pendingProps.value,v.value)||(n!==null?n.push(E):n=[E])}}else if(f===Nt.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(fo):n=[fo])}f=f.return}n!==null&&Bf(s,n,a,l),s.flags|=262144}function Gl(n){for(n=n.firstContext;n!==null;){if(!Wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ss(n){bs=n,Xn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ct(n){return Cy(bs,n)}function Yl(n,s){return bs===null&&Ss(n),Cy(n,s)}function Cy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xn===null){if(n===null)throw Error(r(308));Xn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Xn=Xn.next=s;return a}var lR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},uR=t.unstable_scheduleCallback,cR=t.unstable_NormalPriority,ot={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new lR,data:new Map,refCount:0}}function Ua(n){n.refCount--,n.refCount===0&&uR(cR,function(){n.controller.abort()})}var Va=null,Hf=0,pr=0,gr=null;function fR(n,s){if(Va===null){var a=Va=[];Hf=0,pr=Fh(),gr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,s.then(wy,wy),s}function wy(){if(--Hf===0&&Va!==null){gr!==null&&(gr.status="fulfilled");var n=Va;Va=null,pr=0,gr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function hR(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ay=U.S;U.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&fR(n,s),Ay!==null&&Ay(n,s)};var Ts=q(null);function jf(){var n=Ts.current;return n!==null?n:Ve.pooledCache}function Kl(n,s){s===null?H(Ts,Ts.current):H(Ts,s.pool)}function Ry(){var n=jf();return n===null?null:{parent:ot._currentValue,pool:n}}var Ba=Error(r(460)),xy=Error(r(474)),Wl=Error(r(542)),Ff={then:function(){}};function Ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Xl(){}function Dy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Xl,Xl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Oy(n),n;default:if(typeof s.status=="string")s.then(Xl,Xl);else{if(n=Ve,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Oy(n),n}throw za=s,Ba}}var za=null;function My(){if(za===null)throw Error(r(459));var n=za;return za=null,n}function Oy(n){if(n===Ba||n===Wl)throw Error(r(483))}var wi=!1;function qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ai(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ri(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ne&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Hl(n),vy(n,null,a),s}return zl(n,l,s,a),Hl(n)}function Ha(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,wg(n,a)}}function Yf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Kf=!1;function ja(){if(Kf){var n=gr;if(n!==null)throw n}}function Fa(n,s,a,l){Kf=!1;var f=n.updateQueue;wi=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var T=E,O=T.next;T.next=null,v===null?m=O:v.next=O,v=T;var V=n.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==v&&(E===null?V.firstBaseUpdate=O:E.next=O,V.lastBaseUpdate=T))}if(m!==null){var F=f.baseState;v=0,V=O=T=null,E=m;do{var I=E.lane&-536870913,k=I!==E.lane;if(k?(Ce&I)===I:(l&I)===I){I!==0&&I===pr&&(Kf=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=n,ie=E;I=s;var Ie=a;switch(ie.tag){case 1:if(oe=ie.payload,typeof oe=="function"){F=oe.call(Ie,F,I);break e}F=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ie.payload,I=typeof oe=="function"?oe.call(Ie,F,I):oe,I==null)break e;F=g({},F,I);break e;case 2:wi=!0}}I=E.callback,I!==null&&(n.flags|=64,k&&(n.flags|=8192),k=f.callbacks,k===null?f.callbacks=[I]:k.push(I))}else k={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(O=V=k,T=F):V=V.next=k,v|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);V===null&&(T=F),f.baseState=T,f.firstBaseUpdate=O,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),Li|=v,n.lanes=v,n.memoizedState=F}}function Iy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function ky(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Iy(a[n],s)}var yr=q(null),$l=q(0);function Ly(n,s){n=ii,H($l,n),H(yr,s),ii=n|s.baseLanes}function Wf(){H($l,ii),H(yr,yr.current)}function Xf(){ii=$l.current,Q(yr),Q($l)}var xi=0,me=null,Me=null,rt=null,Ql=!1,vr=!1,Cs=!1,Zl=0,qa=0,_r=null,dR=0;function nt(){throw Error(r(321))}function $f(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Wt(n[a],s[a]))return!1;return!0}function Qf(n,s,a,l,f,m){return xi=m,me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=n===null||n.memoizedState===null?vv:_v,Cs=!1,m=a(l,f),Cs=!1,vr&&(m=Uy(s,a,l,f)),Py(n),m}function Py(n){U.H=su;var s=Me!==null&&Me.next!==null;if(xi=0,rt=Me=me=null,Ql=!1,qa=0,_r=null,s)throw Error(r(300));n===null||ht||(n=n.dependencies,n!==null&&Gl(n)&&(ht=!0))}function Uy(n,s,a,l){me=n;var f=0;do{if(vr&&(_r=null),qa=0,vr=!1,25<=f)throw Error(r(301));if(f+=1,rt=Me=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=ER,m=s(a,l)}while(vr);return m}function mR(){var n=U.H,s=n.useState()[0];return s=typeof s.then=="function"?Ga(s):s,n=n.useState()[0],(Me!==null?Me.memoizedState:null)!==n&&(me.flags|=1024),s}function Zf(){var n=Zl!==0;return Zl=0,n}function Jf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function eh(n){if(Ql){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ql=!1}xi=0,rt=Me=me=null,vr=!1,qa=Zl=0,_r=null}function Pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?me.memoizedState=rt=n:rt=rt.next=n,rt}function at(){if(Me===null){var n=me.alternate;n=n!==null?n.memoizedState:null}else n=Me.next;var s=rt===null?me.memoizedState:rt.next;if(s!==null)rt=s,Me=n;else{if(n===null)throw me.alternate===null?Error(r(467)):Error(r(310));Me=n,n={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},rt===null?me.memoizedState=rt=n:rt=rt.next=n}return rt}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ga(n){var s=qa;return qa+=1,_r===null&&(_r=[]),n=Dy(_r,n,s),s=me,(rt===null?s.memoizedState:rt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?vv:_v),n}function Jl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ga(n);if(n.$$typeof===L)return Ct(n)}throw Error(r(438,String(n)))}function nh(n){var s=null,a=me.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=th(),me.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=Se;return s.index++,a}function Qn(n,s){return typeof s=="function"?s(n):s}function eu(n){var s=at();return ih(s,Me,n)}function ih(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var E=v=null,T=null,O=s,V=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(Ce&F)===F:(xi&F)===F){var I=O.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===pr&&(V=!0);else if((xi&I)===I){O=O.next,I===pr&&(V=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=F,v=m):T=T.next=F,me.lanes|=I,Li|=I;F=O.action,Cs&&a(m,F),m=O.hasEagerState?O.eagerState:a(m,F)}else I={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=I,v=m):T=T.next=I,me.lanes|=F,Li|=F;O=O.next}while(O!==null&&O!==s);if(T===null?v=m:T.next=E,!Wt(m,n.memoizedState)&&(ht=!0,V&&(a=gr,a!==null)))throw a;n.memoizedState=m,n.baseState=v,n.baseQueue=T,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function sh(n){var s=at(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);Wt(m,s.memoizedState)||(ht=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Vy(n,s,a){var l=me,f=at(),m=Re;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Wt((Me||f).memoizedState,a);v&&(f.memoizedState=a,ht=!0),f=f.queue;var E=Hy.bind(null,l,f,n);if(Ya(2048,8,E,[n]),f.getSnapshot!==s||v||rt!==null&&rt.memoizedState.tag&1){if(l.flags|=2048,Er(9,tu(),zy.bind(null,l,f,a,s),null),Ve===null)throw Error(r(349));m||(xi&124)!==0||By(l,s,a)}return a}function By(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=me.updateQueue,s===null?(s=th(),me.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function zy(n,s,a,l){s.value=a,s.getSnapshot=l,jy(s)&&Fy(n)}function Hy(n,s,a){return a(function(){jy(s)&&Fy(n)})}function jy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Wt(n,a)}catch{return!0}}function Fy(n){var s=fr(n,2);s!==null&&en(s,n,2)}function rh(n){var s=Pt();if(typeof n=="function"){var a=n;if(n=a(),Cs){On(!0);try{a()}finally{On(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:n},s}function qy(n,s,a,l){return n.baseState=a,ih(n,Me,typeof l=="function"?l:Qn)}function pR(n,s,a,l,f){if(iu(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};U.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Gy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Gy(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var m=U.T,v={};U.T=v;try{var E=a(f,l),T=U.S;T!==null&&T(v,E),Yy(n,s,E)}catch(O){ah(n,s,O)}finally{U.T=m}}else try{m=a(f,l),Yy(n,s,m)}catch(O){ah(n,s,O)}}function Yy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(n,s,l)},function(l){return ah(n,s,l)}):Ky(n,s,a)}function Ky(n,s,a){s.status="fulfilled",s.value=a,Wy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Gy(n,a)))}function ah(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Wy(s),s=s.next;while(s!==l)}n.action=null}function Wy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Xy(n,s){return s}function $y(n,s){if(Re){var a=Ve.formState;if(a!==null){e:{var l=me;if(Re){if($e){t:{for(var f=$e,m=In;f.nodeType!==8;){if(!m){f=null;break t}if(f=bn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){$e=bn(f.nextSibling),l=f.data==="F!";break e}}Es(l)}l=!1}l&&(s=a[0])}}return a=Pt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:s},a.queue=l,a=pv.bind(null,me,l),l.dispatch=a,l=rh(!1),m=fh.bind(null,me,!1,l.queue),l=Pt(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=pR.bind(null,me,f,m,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Qy(n){var s=at();return Zy(s,Me,n)}function Zy(n,s,a){if(s=ih(n,s,Xy)[0],n=eu(Qn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Ga(s)}catch(v){throw v===Ba?Wl:v}else l=s;s=at();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(me.flags|=2048,Er(9,tu(),gR.bind(null,f,a),null)),[l,m,n]}function gR(n,s){n.action=s}function Jy(n){var s=at(),a=Me;if(a!==null)return Zy(s,a,n);at(),s=s.memoizedState,a=at();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Er(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=me.updateQueue,s===null&&(s=th(),me.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function tu(){return{destroy:void 0,resource:void 0}}function ev(){return at().memoizedState}function nu(n,s,a,l){var f=Pt();l=l===void 0?null:l,me.flags|=n,f.memoizedState=Er(1|s,tu(),a,l)}function Ya(n,s,a,l){var f=at();l=l===void 0?null:l;var m=f.memoizedState.inst;Me!==null&&l!==null&&$f(l,Me.memoizedState.deps)?f.memoizedState=Er(s,m,a,l):(me.flags|=n,f.memoizedState=Er(1|s,m,a,l))}function tv(n,s){nu(8390656,8,n,s)}function nv(n,s){Ya(2048,8,n,s)}function iv(n,s){return Ya(4,2,n,s)}function sv(n,s){return Ya(4,4,n,s)}function rv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function av(n,s,a){a=a!=null?a.concat([n]):null,Ya(4,4,rv.bind(null,s,n),a)}function oh(){}function ov(n,s){var a=at();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&$f(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function lv(n,s){var a=at();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&$f(s,l[1]))return l[0];if(l=n(),Cs){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,s],l}function lh(n,s,a){return a===void 0||(xi&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=f_(),me.lanes|=n,Li|=n,a)}function uv(n,s,a,l){return Wt(a,s)?a:yr.current!==null?(n=lh(n,a,l),Wt(n,s)||(ht=!0),n):(xi&42)===0?(ht=!0,n.memoizedState=a):(n=f_(),me.lanes|=n,Li|=n,s)}function cv(n,s,a,l,f){var m=Y.p;Y.p=m!==0&&8>m?m:8;var v=U.T,E={};U.T=E,fh(n,!1,s,a);try{var T=f(),O=U.S;if(O!==null&&O(E,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var V=hR(T,l);Ka(n,s,V,Jt(n))}else Ka(n,s,l,Jt(n))}catch(F){Ka(n,s,{then:function(){},status:"rejected",reason:F},Jt())}finally{Y.p=m,U.T=v}}function yR(){}function uh(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=fv(n).queue;cv(n,f,s,ee,a===null?yR:function(){return hv(n),a(l)})}function fv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:ee},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function hv(n){var s=fv(n).next.queue;Ka(n,s,{},Jt())}function ch(){return Ct(fo)}function dv(){return at().memoizedState}function mv(){return at().memoizedState}function vR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Jt();n=Ai(a);var l=Ri(s,n,a);l!==null&&(en(l,s,a),Ha(l,s,a)),s={cache:zf()},n.payload=s;return}s=s.return}}function _R(n,s,a){var l=Jt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},iu(n)?gv(s,a):(a=Df(n,s,a,l),a!==null&&(en(a,n,l),yv(a,s,l)))}function pv(n,s,a){var l=Jt();Ka(n,s,a,l)}function Ka(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(iu(n))gv(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,E=m(v,a);if(f.hasEagerState=!0,f.eagerState=E,Wt(E,v))return zl(n,s,f,0),Ve===null&&Bl(),!1}catch{}finally{}if(a=Df(n,s,f,l),a!==null)return en(a,n,l),yv(a,s,l),!0}return!1}function fh(n,s,a,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},iu(n)){if(s)throw Error(r(479))}else s=Df(n,a,l,2),s!==null&&en(s,n,2)}function iu(n){var s=n.alternate;return n===me||s!==null&&s===me}function gv(n,s){vr=Ql=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function yv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,wg(n,a)}}var su={readContext:Ct,use:Jl,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},vv={readContext:Ct,use:Jl,useCallback:function(n,s){return Pt().memoizedState=[n,s===void 0?null:s],n},useContext:Ct,useEffect:tv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,nu(4194308,4,rv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return nu(4194308,4,n,s)},useInsertionEffect:function(n,s){nu(4,2,n,s)},useMemo:function(n,s){var a=Pt();s=s===void 0?null:s;var l=n();if(Cs){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Pt();if(a!==void 0){var f=a(s);if(Cs){On(!0);try{a(s)}finally{On(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=_R.bind(null,me,n),[l.memoizedState,n]},useRef:function(n){var s=Pt();return n={current:n},s.memoizedState=n},useState:function(n){n=rh(n);var s=n.queue,a=pv.bind(null,me,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:oh,useDeferredValue:function(n,s){var a=Pt();return lh(a,n,s)},useTransition:function(){var n=rh(!1);return n=cv.bind(null,me,n.queue,!0,!1),Pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=me,f=Pt();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Ve===null)throw Error(r(349));(Ce&124)!==0||By(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,tv(Hy.bind(null,l,m,n),[n]),l.flags|=2048,Er(9,tu(),zy.bind(null,l,m,a,s),null),a},useId:function(){var n=Pt(),s=Ve.identifierPrefix;if(Re){var a=Wn,l=Kn;a=(l&~(1<<32-Dt(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Zl++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=dR++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:ch,useFormState:$y,useActionState:$y,useOptimistic:function(n){var s=Pt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=fh.bind(null,me,!0,a),a.dispatch=s,[n,s]},useMemoCache:nh,useCacheRefresh:function(){return Pt().memoizedState=vR.bind(null,me)}},_v={readContext:Ct,use:Jl,useCallback:ov,useContext:Ct,useEffect:nv,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:eu,useRef:ev,useState:function(){return eu(Qn)},useDebugValue:oh,useDeferredValue:function(n,s){var a=at();return uv(a,Me.memoizedState,n,s)},useTransition:function(){var n=eu(Qn)[0],s=at().memoizedState;return[typeof n=="boolean"?n:Ga(n),s]},useSyncExternalStore:Vy,useId:dv,useHostTransitionStatus:ch,useFormState:Qy,useActionState:Qy,useOptimistic:function(n,s){var a=at();return qy(a,Me,n,s)},useMemoCache:nh,useCacheRefresh:mv},ER={readContext:Ct,use:Jl,useCallback:ov,useContext:Ct,useEffect:nv,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:sh,useRef:ev,useState:function(){return sh(Qn)},useDebugValue:oh,useDeferredValue:function(n,s){var a=at();return Me===null?lh(a,n,s):uv(a,Me.memoizedState,n,s)},useTransition:function(){var n=sh(Qn)[0],s=at().memoizedState;return[typeof n=="boolean"?n:Ga(n),s]},useSyncExternalStore:Vy,useId:dv,useHostTransitionStatus:ch,useFormState:Jy,useActionState:Jy,useOptimistic:function(n,s){var a=at();return Me!==null?qy(a,Me,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:nh,useCacheRefresh:mv},br=null,Wa=0;function ru(n){var s=Wa;return Wa+=1,br===null&&(br=[]),Dy(br,n,s)}function Xa(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function au(n,s){throw s.$$typeof===y?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Ev(n){var s=n._init;return s(n._payload)}function bv(n){function s(R,A){if(n){var M=R.deletions;M===null?(R.deletions=[A],R.flags|=16):M.push(A)}}function a(R,A){if(!n)return null;for(;A!==null;)s(R,A),A=A.sibling;return null}function l(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function f(R,A){return R=Yn(R,A),R.index=0,R.sibling=null,R}function m(R,A,M){return R.index=M,n?(M=R.alternate,M!==null?(M=M.index,M<A?(R.flags|=67108866,A):M):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function v(R){return n&&R.alternate===null&&(R.flags|=67108866),R}function E(R,A,M,j){return A===null||A.tag!==6?(A=Of(M,R.mode,j),A.return=R,A):(A=f(A,M),A.return=R,A)}function T(R,A,M,j){var J=M.type;return J===S?V(R,A,M.props.children,j,M.key):A!==null&&(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Ev(J)===A.type)?(A=f(A,M.props),Xa(A,M),A.return=R,A):(A=jl(M.type,M.key,M.props,null,R.mode,j),Xa(A,M),A.return=R,A)}function O(R,A,M,j){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=If(M,R.mode,j),A.return=R,A):(A=f(A,M.children||[]),A.return=R,A)}function V(R,A,M,j,J){return A===null||A.tag!==7?(A=gs(M,R.mode,j,J),A.return=R,A):(A=f(A,M),A.return=R,A)}function F(R,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Of(""+A,R.mode,M),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return M=jl(A.type,A.key,A.props,null,R.mode,M),Xa(M,A),M.return=R,M;case b:return A=If(A,R.mode,M),A.return=R,A;case $:var j=A._init;return A=j(A._payload),F(R,A,M)}if(et(A)||ze(A))return A=gs(A,R.mode,M,null),A.return=R,A;if(typeof A.then=="function")return F(R,ru(A),M);if(A.$$typeof===L)return F(R,Yl(R,A),M);au(R,A)}return null}function I(R,A,M,j){var J=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return J!==null?null:E(R,A,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===J?T(R,A,M,j):null;case b:return M.key===J?O(R,A,M,j):null;case $:return J=M._init,M=J(M._payload),I(R,A,M,j)}if(et(M)||ze(M))return J!==null?null:V(R,A,M,j,null);if(typeof M.then=="function")return I(R,A,ru(M),j);if(M.$$typeof===L)return I(R,A,Yl(R,M),j);au(R,M)}return null}function k(R,A,M,j,J){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return R=R.get(M)||null,E(A,R,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return R=R.get(j.key===null?M:j.key)||null,T(A,R,j,J);case b:return R=R.get(j.key===null?M:j.key)||null,O(A,R,j,J);case $:var pe=j._init;return j=pe(j._payload),k(R,A,M,j,J)}if(et(j)||ze(j))return R=R.get(M)||null,V(A,R,j,J,null);if(typeof j.then=="function")return k(R,A,M,ru(j),J);if(j.$$typeof===L)return k(R,A,M,Yl(A,j),J);au(A,j)}return null}function oe(R,A,M,j){for(var J=null,pe=null,te=A,se=A=0,mt=null;te!==null&&se<M.length;se++){te.index>se?(mt=te,te=null):mt=te.sibling;var Ae=I(R,te,M[se],j);if(Ae===null){te===null&&(te=mt);break}n&&te&&Ae.alternate===null&&s(R,te),A=m(Ae,A,se),pe===null?J=Ae:pe.sibling=Ae,pe=Ae,te=mt}if(se===M.length)return a(R,te),Re&&vs(R,se),J;if(te===null){for(;se<M.length;se++)te=F(R,M[se],j),te!==null&&(A=m(te,A,se),pe===null?J=te:pe.sibling=te,pe=te);return Re&&vs(R,se),J}for(te=l(te);se<M.length;se++)mt=k(te,R,se,M[se],j),mt!==null&&(n&&mt.alternate!==null&&te.delete(mt.key===null?se:mt.key),A=m(mt,A,se),pe===null?J=mt:pe.sibling=mt,pe=mt);return n&&te.forEach(function(qi){return s(R,qi)}),Re&&vs(R,se),J}function ie(R,A,M,j){if(M==null)throw Error(r(151));for(var J=null,pe=null,te=A,se=A=0,mt=null,Ae=M.next();te!==null&&!Ae.done;se++,Ae=M.next()){te.index>se?(mt=te,te=null):mt=te.sibling;var qi=I(R,te,Ae.value,j);if(qi===null){te===null&&(te=mt);break}n&&te&&qi.alternate===null&&s(R,te),A=m(qi,A,se),pe===null?J=qi:pe.sibling=qi,pe=qi,te=mt}if(Ae.done)return a(R,te),Re&&vs(R,se),J;if(te===null){for(;!Ae.done;se++,Ae=M.next())Ae=F(R,Ae.value,j),Ae!==null&&(A=m(Ae,A,se),pe===null?J=Ae:pe.sibling=Ae,pe=Ae);return Re&&vs(R,se),J}for(te=l(te);!Ae.done;se++,Ae=M.next())Ae=k(te,R,se,Ae.value,j),Ae!==null&&(n&&Ae.alternate!==null&&te.delete(Ae.key===null?se:Ae.key),A=m(Ae,A,se),pe===null?J=Ae:pe.sibling=Ae,pe=Ae);return n&&te.forEach(function(b1){return s(R,b1)}),Re&&vs(R,se),J}function Ie(R,A,M,j){if(typeof M=="object"&&M!==null&&M.type===S&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var J=M.key;A!==null;){if(A.key===J){if(J=M.type,J===S){if(A.tag===7){a(R,A.sibling),j=f(A,M.props.children),j.return=R,R=j;break e}}else if(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Ev(J)===A.type){a(R,A.sibling),j=f(A,M.props),Xa(j,M),j.return=R,R=j;break e}a(R,A);break}else s(R,A);A=A.sibling}M.type===S?(j=gs(M.props.children,R.mode,j,M.key),j.return=R,R=j):(j=jl(M.type,M.key,M.props,null,R.mode,j),Xa(j,M),j.return=R,R=j)}return v(R);case b:e:{for(J=M.key;A!==null;){if(A.key===J)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(R,A.sibling),j=f(A,M.children||[]),j.return=R,R=j;break e}else{a(R,A);break}else s(R,A);A=A.sibling}j=If(M,R.mode,j),j.return=R,R=j}return v(R);case $:return J=M._init,M=J(M._payload),Ie(R,A,M,j)}if(et(M))return oe(R,A,M,j);if(ze(M)){if(J=ze(M),typeof J!="function")throw Error(r(150));return M=J.call(M),ie(R,A,M,j)}if(typeof M.then=="function")return Ie(R,A,ru(M),j);if(M.$$typeof===L)return Ie(R,A,Yl(R,M),j);au(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(R,A.sibling),j=f(A,M),j.return=R,R=j):(a(R,A),j=Of(M,R.mode,j),j.return=R,R=j),v(R)):a(R,A)}return function(R,A,M,j){try{Wa=0;var J=Ie(R,A,M,j);return br=null,J}catch(te){if(te===Ba||te===Wl)throw te;var pe=Xt(29,te,null,R.mode);return pe.lanes=j,pe.return=R,pe}finally{}}}var Sr=bv(!0),Sv=bv(!1),fn=q(null),kn=null;function Ni(n){var s=n.alternate;H(lt,lt.current&1),H(fn,n),kn===null&&(s===null||yr.current!==null||s.memoizedState!==null)&&(kn=n)}function Tv(n){if(n.tag===22){if(H(lt,lt.current),H(fn,n),kn===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(kn=n)}}else Di()}function Di(){H(lt,lt.current),H(fn,fn.current)}function Zn(n){Q(fn),kn===n&&(kn=null),Q(lt)}var lt=q(0);function ou(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||td(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function hh(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var dh={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Jt(),f=Ai(l);f.payload=s,a!=null&&(f.callback=a),s=Ri(n,f,l),s!==null&&(en(s,n,l),Ha(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Jt(),f=Ai(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ri(n,f,l),s!==null&&(en(s,n,l),Ha(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Jt(),l=Ai(a);l.tag=2,s!=null&&(l.callback=s),s=Ri(n,l,a),s!==null&&(en(s,n,a),Ha(s,n,a))}};function Cv(n,s,a,l,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,v):s.prototype&&s.prototype.isPureReactComponent?!Ma(a,l)||!Ma(f,m):!0}function wv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&dh.enqueueReplaceState(s,s.state,null)}function ws(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=g({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var lu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Av(n){lu(n)}function Rv(n){console.error(n)}function xv(n){lu(n)}function uu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Nv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mh(n,s,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){uu(n,s)},a}function Dv(n){return n=Ai(n),n.tag=3,n}function Mv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){Nv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Nv(s,a,l),typeof f!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function bR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Pa(s,a,f,!0),a=fn.current,a!==null){switch(a.tag){case 13:return kn===null?Vh():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ff?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),zh(n,l,f)),!1;case 22:return a.flags|=65536,l===Ff?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),zh(n,l,f)),!1}throw Error(r(435,a.tag))}return zh(n,l,f),Vh(),!1}if(Re)return s=fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Pf&&(n=Error(r(422),{cause:l}),La(on(n,a)))):(l!==Pf&&(s=Error(r(423),{cause:l}),La(on(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=on(l,a),f=mh(n.stateNode,l,f),Yf(n,f),Qe!==4&&(Qe=2)),!1;var m=Error(r(520),{cause:l});if(m=on(m,a),no===null?no=[m]:no.push(m),Qe!==4&&(Qe=2),s===null)return!0;l=on(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=mh(a.stateNode,l,n),Yf(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pi===null||!Pi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Dv(f),Mv(f,n,a,l),Yf(a,f),!1}a=a.return}while(a!==null);return!1}var Ov=Error(r(461)),ht=!1;function vt(n,s,a,l){s.child=n===null?Sv(s,null,a,l):Sr(s,n.child,a,l)}function Iv(n,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ss(s),l=Qf(n,s,a,v,m,f),E=Zf(),n!==null&&!ht?(Jf(n,s,f),Jn(n,s,f)):(Re&&E&&kf(s),s.flags|=1,vt(n,s,l,f),s.child)}function kv(n,s,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Mf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Lv(n,s,m,l,f)):(n=jl(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Sh(n,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(v,l)&&n.ref===s.ref)return Jn(n,s,f)}return s.flags|=1,n=Yn(m,l),n.ref=s.ref,n.return=s,s.child=n}function Lv(n,s,a,l,f){if(n!==null){var m=n.memoizedProps;if(Ma(m,l)&&n.ref===s.ref)if(ht=!1,s.pendingProps=l=m,Sh(n,f))(n.flags&131072)!==0&&(ht=!0);else return s.lanes=n.lanes,Jn(n,s,f)}return ph(n,s,a,l,f)}function Pv(n,s,a){var l=s.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=s.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Uv(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Kl(s,m!==null?m.cachePool:null),m!==null?Ly(s,m):Wf(),Tv(s);else return s.lanes=s.childLanes=536870912,Uv(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Kl(s,m.cachePool),Ly(s,m),Di(),s.memoizedState=null):(n!==null&&Kl(s,null),Wf(),Di());return vt(n,s,f,a),s.child}function Uv(n,s,a,l){var f=jf();return f=f===null?null:{parent:ot._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&Kl(s,null),Wf(),Tv(s),n!==null&&Pa(n,s,l,!0),null}function cu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function ph(n,s,a,l,f){return Ss(s),a=Qf(n,s,a,l,void 0,f),l=Zf(),n!==null&&!ht?(Jf(n,s,f),Jn(n,s,f)):(Re&&l&&kf(s),s.flags|=1,vt(n,s,a,f),s.child)}function Vv(n,s,a,l,f,m){return Ss(s),s.updateQueue=null,a=Uy(s,l,a,f),Py(n),l=Zf(),n!==null&&!ht?(Jf(n,s,m),Jn(n,s,m)):(Re&&l&&kf(s),s.flags|=1,vt(n,s,a,m),s.child)}function Bv(n,s,a,l,f){if(Ss(s),s.stateNode===null){var m=hr,v=a.contextType;typeof v=="object"&&v!==null&&(m=Ct(v)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},qf(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?Ct(v):hr,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hh(s,a,v,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&dh.enqueueReplaceState(m,m.state,null),Fa(s,l,m,f),ja(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var E=s.memoizedProps,T=ws(a,E);m.props=T;var O=m.context,V=a.contextType;v=hr,typeof V=="object"&&V!==null&&(v=Ct(V));var F=a.getDerivedStateFromProps;V=typeof F=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||O!==v)&&wv(s,m,l,v),wi=!1;var I=s.memoizedState;m.state=I,Fa(s,l,m,f),ja(),O=s.memoizedState,E||I!==O||wi?(typeof F=="function"&&(hh(s,a,F,l),O=s.memoizedState),(T=wi||Cv(s,a,T,l,I,O,v))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=O),m.props=l,m.state=O,m.context=v,l=T):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Gf(n,s),v=s.memoizedProps,V=ws(a,v),m.props=V,F=s.pendingProps,I=m.context,O=a.contextType,T=hr,typeof O=="object"&&O!==null&&(T=Ct(O)),E=a.getDerivedStateFromProps,(O=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==F||I!==T)&&wv(s,m,l,T),wi=!1,I=s.memoizedState,m.state=I,Fa(s,l,m,f),ja();var k=s.memoizedState;v!==F||I!==k||wi||n!==null&&n.dependencies!==null&&Gl(n.dependencies)?(typeof E=="function"&&(hh(s,a,E,l),k=s.memoizedState),(V=wi||Cv(s,a,V,l,I,k,T)||n!==null&&n.dependencies!==null&&Gl(n.dependencies))?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,k,T),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,k,T)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=k),m.props=l,m.state=k,m.context=T,l=V):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,cu(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=Sr(s,n.child,null,f),s.child=Sr(s,null,a,f)):vt(n,s,a,f),s.memoizedState=m.state,n=s.child):n=Jn(n,s,f),n}function zv(n,s,a,l){return ka(),s.flags|=256,vt(n,s,a,l),s.child}var gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(n){return{baseLanes:n,cachePool:Ry()}}function vh(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=hn),n}function Hv(n,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(lt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Re){if(f?Ni(s):Di(),Re){var E=$e,T;if(T=E){e:{for(T=E,E=In;T.nodeType!==8;){if(!E){E=null;break e}if(T=bn(T.nextSibling),T===null){E=null;break e}}E=T}E!==null?(s.memoizedState={dehydrated:E,treeContext:ys!==null?{id:Kn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},T=Xt(18,null,null,0),T.stateNode=E,T.return=s,s.child=T,Mt=s,$e=null,T=!0):T=!1}T||Es(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return td(E)?s.lanes=32:s.lanes=536870912,null;Zn(s)}return E=l.children,l=l.fallback,f?(Di(),f=s.mode,E=fu({mode:"hidden",children:E},f),l=gs(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,f=s.child,f.memoizedState=yh(a),f.childLanes=vh(n,v,a),s.memoizedState=gh,l):(Ni(s),_h(s,E))}if(T=n.memoizedState,T!==null&&(E=T.dehydrated,E!==null)){if(m)s.flags&256?(Ni(s),s.flags&=-257,s=Eh(n,s,a)):s.memoizedState!==null?(Di(),s.child=n.child,s.flags|=128,s=null):(Di(),f=l.fallback,E=s.mode,l=fu({mode:"visible",children:l.children},E),f=gs(f,E,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Sr(s,n.child,null,a),l=s.child,l.memoizedState=yh(a),l.childLanes=vh(n,v,a),s.memoizedState=gh,s=f);else if(Ni(s),td(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var O=v.dgst;v=O,l=Error(r(419)),l.stack="",l.digest=v,La({value:l,source:null,stack:null}),s=Eh(n,s,a)}else if(ht||Pa(n,s,a,!1),v=(a&n.childLanes)!==0,ht||v){if(v=Ve,v!==null&&(l=a&-a,l=(l&42)!==0?1:tf(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,fr(n,l),en(v,n,l),Ov;E.data==="$?"||Vh(),s=Eh(n,s,a)}else E.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=T.treeContext,$e=bn(E.nextSibling),Mt=s,Re=!0,_s=null,In=!1,n!==null&&(un[cn++]=Kn,un[cn++]=Wn,un[cn++]=ys,Kn=n.id,Wn=n.overflow,ys=s),s=_h(s,l.children),s.flags|=4096);return s}return f?(Di(),f=l.fallback,E=s.mode,T=n.child,O=T.sibling,l=Yn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,O!==null?f=Yn(O,f):(f=gs(f,E,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,E=n.child.memoizedState,E===null?E=yh(a):(T=E.cachePool,T!==null?(O=ot._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=Ry(),E={baseLanes:E.baseLanes|a,cachePool:T}),f.memoizedState=E,f.childLanes=vh(n,v,a),s.memoizedState=gh,l):(Ni(s),a=n.child,n=a.sibling,a=Yn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function _h(n,s){return s=fu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function fu(n,s){return n=Xt(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Eh(n,s,a){return Sr(s,n.child,null,a),n=_h(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function jv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Vf(n.return,s,a)}function bh(n,s,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Fv(n,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(vt(n,s,l.children,a),l=lt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jv(n,a,s);else if(n.tag===19)jv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(H(lt,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&ou(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),bh(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&ou(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}bh(s,!0,a,null,m);break;case"together":bh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Jn(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Li|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Pa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Yn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Yn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Sh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Gl(n)))}function SR(n,s,a){switch(s.tag){case 3:Ue(s,s.stateNode.containerInfo),Ci(s,ot,n.memoizedState.cache),ka();break;case 27:case 5:ga(s);break;case 4:Ue(s,s.stateNode.containerInfo);break;case 10:Ci(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ni(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Hv(n,s,a):(Ni(s),n=Jn(n,s,a),n!==null?n.sibling:null);Ni(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Pa(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Fv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),H(lt,lt.current),l)break;return null;case 22:case 23:return s.lanes=0,Pv(n,s,a);case 24:Ci(s,ot,n.memoizedState.cache)}return Jn(n,s,a)}function qv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ht=!0;else{if(!Sh(n,a)&&(s.flags&128)===0)return ht=!1,SR(n,s,a);ht=(n.flags&131072)!==0}else ht=!1,Re&&(s.flags&1048576)!==0&&Ey(s,ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Mf(l)?(n=ws(l,n),s.tag=1,s=Bv(null,s,l,n,a)):(s.tag=0,s=ph(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===W){s.tag=11,s=Iv(null,s,l,n,a);break e}else if(f===Z){s.tag=14,s=kv(null,s,l,n,a);break e}}throw s=Gt(l)||l,Error(r(306,s,""))}}return s;case 0:return ph(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ws(l,s.pendingProps),Bv(n,s,l,f,a);case 3:e:{if(Ue(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Gf(n,s),Fa(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ci(s,ot,l),l!==m.cache&&Bf(s,[ot],a,!0),ja(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=zv(n,s,l,a);break e}else if(l!==f){f=on(Error(r(424)),s),La(f),s=zv(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for($e=bn(n.firstChild),Mt=s,Re=!0,_s=null,In=!0,a=Sv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ka(),l===f){s=Jn(n,s,a);break e}vt(n,s,l,a)}s=s.child}return s;case 26:return cu(n,s),n===null?(a=W_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Re||(a=s.type,n=s.pendingProps,l=wu(ce.current).createElement(a),l[Tt]=s,l[kt]=n,Et(l,a,n),ft(l),s.stateNode=l):s.memoizedState=W_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ga(s),n===null&&Re&&(l=s.stateNode=G_(s.type,s.pendingProps,ce.current),Mt=s,In=!0,f=$e,Bi(s.type)?(nd=f,$e=bn(l.firstChild)):$e=f),vt(n,s,s.pendingProps.children,a),cu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Re&&((f=l=$e)&&(l=$R(l,s.type,s.pendingProps,In),l!==null?(s.stateNode=l,Mt=s,$e=bn(l.firstChild),In=!1,f=!0):f=!1),f||Es(s)),ga(s),f=s.type,m=s.pendingProps,v=n!==null?n.memoizedProps:null,l=m.children,Zh(f,m)?l=null:v!==null&&Zh(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Qf(n,s,mR,null,null,a),fo._currentValue=f),cu(n,s),vt(n,s,l,a),s.child;case 6:return n===null&&Re&&((n=a=$e)&&(a=QR(a,s.pendingProps,In),a!==null?(s.stateNode=a,Mt=s,$e=null,n=!0):n=!1),n||Es(s)),null;case 13:return Hv(n,s,a);case 4:return Ue(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Sr(s,null,l,a):vt(n,s,l,a),s.child;case 11:return Iv(n,s,s.type,s.pendingProps,a);case 7:return vt(n,s,s.pendingProps,a),s.child;case 8:return vt(n,s,s.pendingProps.children,a),s.child;case 12:return vt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ci(s,s.type,l.value),vt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ss(s),f=Ct(f),l=l(f),s.flags|=1,vt(n,s,l,a),s.child;case 14:return kv(n,s,s.type,s.pendingProps,a);case 15:return Lv(n,s,s.type,s.pendingProps,a);case 19:return Fv(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=fu(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Yn(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Pv(n,s,a);case 24:return Ss(s),l=Ct(ot),n===null?(f=jf(),f===null&&(f=Ve,m=zf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},qf(s),Ci(s,ot,f)):((n.lanes&a)!==0&&(Gf(n,s),Fa(s,null,null,a),ja()),f=n.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ci(s,ot,l)):(l=m.cache,Ci(s,ot,l),l!==f.cache&&Bf(s,[ot],a,!0))),vt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ei(n){n.flags|=4}function Gv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!J_(s)){if(s=fn.current,s!==null&&((Ce&4194048)===Ce?kn!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||s!==kn))throw za=Ff,xy;n.flags|=8192}}function hu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Tg():536870912,n.lanes|=s,Ar|=s)}function $a(n,s){if(!Re)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ke(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function TR(n,s,a){var l=s.pendingProps;switch(Lf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),$n(ot),Mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ia(s)?ei(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ty())),Ke(s),null;case 26:return a=s.memoizedState,n===null?(ei(s),a!==null?(Ke(s),Gv(s,a)):(Ke(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ei(s),Ke(s),Gv(s,a)):(Ke(s),s.flags&=-16777217):(n.memoizedProps!==l&&ei(s),Ke(s),s.flags&=-16777217),null;case 27:$s(s),a=ce.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ei(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}n=ne.current,Ia(s)?by(s):(n=G_(f,l,a),s.stateNode=n,ei(s))}return Ke(s),null;case 5:if($s(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ei(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ke(s),null}if(n=ne.current,Ia(s))by(s);else{switch(f=wu(ce.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Tt]=s,n[kt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Et(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ei(s)}}return Ke(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ei(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=ce.current,Ia(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Mt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Tt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(n.nodeValue,a)),n||Es(s)}else n=wu(n).createTextNode(l),n[Tt]=s,s.stateNode=n}return Ke(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ia(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Tt]=s}else ka(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),f=!1}else f=Ty(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Zn(s),s):(Zn(s),null)}if(Zn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),hu(s,s.updateQueue),Ke(s),null;case 4:return Mn(),n===null&&Kh(s.stateNode.containerInfo),Ke(s),null;case 10:return $n(s.type),Ke(s),null;case 19:if(Q(lt),f=s.memoizedState,f===null)return Ke(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)$a(f,!1);else{if(Qe!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=ou(n),m!==null){for(s.flags|=128,$a(f,!1),n=m.updateQueue,s.updateQueue=n,hu(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)_y(a,n),a=a.sibling;return H(lt,lt.current&1|2),s.child}n=n.sibling}f.tail!==null&&sn()>pu&&(s.flags|=128,l=!0,$a(f,!1),s.lanes=4194304)}else{if(!l)if(n=ou(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,hu(s,n),$a(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Re)return Ke(s),null}else 2*sn()-f.renderingStartTime>pu&&a!==536870912&&(s.flags|=128,l=!0,$a(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(n=f.last,n!==null?n.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=sn(),s.sibling=null,n=lt.current,H(lt,l?n&1|2:n&1),s):(Ke(s),null);case 22:case 23:return Zn(s),Xf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),a=s.updateQueue,a!==null&&hu(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&Q(Ts),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),$n(ot),Ke(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function CR(n,s){switch(Lf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return $n(ot),Mn(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return $s(s),null;case 13:if(Zn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ka()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Q(lt),null;case 4:return Mn(),null;case 10:return $n(s.type),null;case 22:case 23:return Zn(s),Xf(),n!==null&&Q(Ts),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return $n(ot),null;case 25:return null;default:return null}}function Yv(n,s){switch(Lf(s),s.tag){case 3:$n(ot),Mn();break;case 26:case 27:case 5:$s(s);break;case 4:Mn();break;case 13:Zn(s);break;case 19:Q(lt);break;case 10:$n(s.type);break;case 22:case 23:Zn(s),Xf(),n!==null&&Q(Ts);break;case 24:$n(ot)}}function Qa(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(E){Le(s,s.return,E)}}function Mi(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=s;var T=a,O=E;try{O()}catch(V){Le(f,T,V)}}}l=l.next}while(l!==m)}}catch(V){Le(s,s.return,V)}}function Kv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{ky(s,a)}catch(l){Le(n,n.return,l)}}}function Wv(n,s,a){a.props=ws(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Le(n,s,l)}}function Za(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Le(n,s,f)}}function Ln(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Le(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Le(n,s,f)}else a.current=null}function Xv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Le(n,n.return,f)}}function Th(n,s,a){try{var l=n.stateNode;GR(l,n.type,a,s),l[kt]=s}catch(f){Le(n,n.return,f)}}function $v(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Bi(n.type)||n.tag===4}function Ch(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$v(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Bi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Cu));else if(l!==4&&(l===27&&Bi(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(wh(n,s,a),n=n.sibling;n!==null;)wh(n,s,a),n=n.sibling}function du(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Bi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(du(n,s,a),n=n.sibling;n!==null;)du(n,s,a),n=n.sibling}function Qv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Et(s,l,a),s[Tt]=n,s[kt]=a}catch(m){Le(n,n.return,m)}}var ti=!1,it=!1,Ah=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,dt=null;function wR(n,s){if(n=n.containerInfo,$h=Mu,n=uy(n),Cf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,E=-1,T=-1,O=0,V=0,F=n,I=null;t:for(;;){for(var k;F!==a||f!==0&&F.nodeType!==3||(E=v+f),F!==m||l!==0&&F.nodeType!==3||(T=v+l),F.nodeType===3&&(v+=F.nodeValue.length),(k=F.firstChild)!==null;)I=F,F=k;for(;;){if(F===n)break t;if(I===a&&++O===f&&(E=v),I===m&&++V===l&&(T=v),(k=F.nextSibling)!==null)break;F=I,I=F.parentNode}F=k}a=E===-1||T===-1?null:{start:E,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qh={focusedElem:n,selectionRange:a},Mu=!1,dt=s;dt!==null;)if(s=dt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,dt=n;else for(;dt!==null;){switch(s=dt,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var oe=ws(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(oe,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ie){Le(a,a.return,ie)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)ed(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ed(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,dt=n;break}dt=s.return}}function Jv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(n,a),l&4&&Qa(5,a);break;case 1:if(Oi(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){Le(a,a.return,v)}else{var f=ws(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Le(a,a.return,v)}}l&64&&Kv(a),l&512&&Za(a,a.return);break;case 3:if(Oi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ky(n,s)}catch(v){Le(a,a.return,v)}}break;case 27:s===null&&l&4&&Qv(a);case 26:case 5:Oi(n,a),s===null&&l&4&&Xv(a),l&512&&Za(a,a.return);break;case 12:Oi(n,a);break;case 13:Oi(n,a),l&4&&n_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=kR.bind(null,a),ZR(n,a))));break;case 22:if(l=a.memoizedState!==null||ti,!l){s=s!==null&&s.memoizedState!==null||it,f=ti;var m=it;ti=l,(it=s)&&!m?Ii(n,a,(a.subtreeFlags&8772)!==0):Oi(n,a),ti=f,it=m}break;case 30:break;default:Oi(n,a)}}function e_(n){var s=n.alternate;s!==null&&(n.alternate=null,e_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&rf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Fe=null,Ut=!1;function ni(n,s,a){for(a=a.child;a!==null;)t_(n,s,a),a=a.sibling}function t_(n,s,a){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Kt,a)}catch{}switch(a.tag){case 26:it||Ln(a,s),ni(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||Ln(a,s);var l=Fe,f=Ut;Bi(a.type)&&(Fe=a.stateNode,Ut=!1),ni(n,s,a),oo(a.stateNode),Fe=l,Ut=f;break;case 5:it||Ln(a,s);case 6:if(l=Fe,f=Ut,Fe=null,ni(n,s,a),Fe=l,Ut=f,Fe!==null)if(Ut)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(a.stateNode)}catch(m){Le(a,s,m)}else try{Fe.removeChild(a.stateNode)}catch(m){Le(a,s,m)}break;case 18:Fe!==null&&(Ut?(n=Fe,F_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),go(n)):F_(Fe,a.stateNode));break;case 4:l=Fe,f=Ut,Fe=a.stateNode.containerInfo,Ut=!0,ni(n,s,a),Fe=l,Ut=f;break;case 0:case 11:case 14:case 15:it||Mi(2,a,s),it||Mi(4,a,s),ni(n,s,a);break;case 1:it||(Ln(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wv(a,s,l)),ni(n,s,a);break;case 21:ni(n,s,a);break;case 22:it=(l=it)||a.memoizedState!==null,ni(n,s,a),it=l;break;default:ni(n,s,a)}}function n_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{go(n)}catch(a){Le(s,s.return,a)}}function AR(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Zv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Zv),s;default:throw Error(r(435,n.tag))}}function Rh(n,s){var a=AR(n);s.forEach(function(l){var f=LR.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function $t(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Bi(E.type)){Fe=E.stateNode,Ut=!1;break e}break;case 5:Fe=E.stateNode,Ut=!1;break e;case 3:case 4:Fe=E.stateNode.containerInfo,Ut=!0;break e}E=E.return}if(Fe===null)throw Error(r(160));t_(m,v,f),Fe=null,Ut=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)i_(s,n),s=s.sibling}var En=null;function i_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$t(s,n),Qt(n),l&4&&(Mi(3,n,n.return),Qa(3,n),Mi(5,n,n.return));break;case 1:$t(s,n),Qt(n),l&512&&(it||a===null||Ln(a,a.return)),l&64&&ti&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=En;if($t(s,n),Qt(n),l&512&&(it||a===null||Ln(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Sa]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Et(m,l,a),m[Tt]=n,ft(m),l=m;break e;case"link":var v=Q_("link","href",f).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}m=f.createElement(l),Et(m,l,a),f.head.appendChild(m);break;case"meta":if(v=Q_("meta","content",f).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}m=f.createElement(l),Et(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Tt]=n,ft(m),l=m}n.stateNode=l}else Z_(f,n.type,n.stateNode);else n.stateNode=$_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Z_(f,n.type,n.stateNode):$_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Th(n,n.memoizedProps,a.memoizedProps)}break;case 27:$t(s,n),Qt(n),l&512&&(it||a===null||Ln(a,a.return)),a!==null&&l&4&&Th(n,n.memoizedProps,a.memoizedProps);break;case 5:if($t(s,n),Qt(n),l&512&&(it||a===null||Ln(a,a.return)),n.flags&32){f=n.stateNode;try{sr(f,"")}catch(k){Le(n,n.return,k)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Th(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Ah=!0);break;case 6:if($t(s,n),Qt(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(k){Le(n,n.return,k)}}break;case 3:if(xu=null,f=En,En=Au(s.containerInfo),$t(s,n),En=f,Qt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(k){Le(n,n.return,k)}Ah&&(Ah=!1,s_(n));break;case 4:l=En,En=Au(n.stateNode.containerInfo),$t(s,n),Qt(n),En=l;break;case 12:$t(s,n),Qt(n);break;case 13:$t(s,n),Qt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ih=sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Rh(n,l)));break;case 22:f=n.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,O=ti,V=it;if(ti=O||f,it=V||T,$t(s,n),it=V,ti=O,Qt(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||T||ti||it||As(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(m=T.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=T.stateNode;var F=T.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(k){Le(T,T.return,k)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(k){Le(T,T.return,k)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rh(n,a))));break;case 19:$t(s,n),Qt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Rh(n,l)));break;case 30:break;case 21:break;default:$t(s,n),Qt(n)}}function Qt(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if($v(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Ch(n);du(n,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(sr(v,""),a.flags&=-33);var E=Ch(n);du(n,E,v);break;case 3:case 4:var T=a.stateNode.containerInfo,O=Ch(n);wh(n,O,T);break;default:throw Error(r(161))}}catch(V){Le(n,n.return,V)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function s_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;s_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Oi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Jv(n,s.alternate,s),s=s.sibling}function As(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Mi(4,s,s.return),As(s);break;case 1:Ln(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Wv(s,s.return,a),As(s);break;case 27:oo(s.stateNode);case 26:case 5:Ln(s,s.return),As(s);break;case 22:s.memoizedState===null&&As(s);break;case 30:As(s);break;default:As(s)}n=n.sibling}}function Ii(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:Ii(f,m,a),Qa(4,m);break;case 1:if(Ii(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){Le(l,l.return,O)}if(l=m,f=l.updateQueue,f!==null){var E=l.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)Iy(T[f],E)}catch(O){Le(l,l.return,O)}}a&&v&64&&Kv(m),Za(m,m.return);break;case 27:Qv(m);case 26:case 5:Ii(f,m,a),a&&l===null&&v&4&&Xv(m),Za(m,m.return);break;case 12:Ii(f,m,a);break;case 13:Ii(f,m,a),a&&v&4&&n_(f,m);break;case 22:m.memoizedState===null&&Ii(f,m,a),Za(m,m.return);break;case 30:break;default:Ii(f,m,a)}s=s.sibling}}function xh(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ua(a))}function Nh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ua(n))}function Pn(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r_(n,s,a,l),s=s.sibling}function r_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Pn(n,s,a,l),f&2048&&Qa(9,s);break;case 1:Pn(n,s,a,l);break;case 3:Pn(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ua(n)));break;case 12:if(f&2048){Pn(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(T){Le(s,s.return,T)}}else Pn(n,s,a,l);break;case 13:Pn(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?Pn(n,s,a,l):Ja(n,s):m._visibility&2?Pn(n,s,a,l):(m._visibility|=2,Tr(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&xh(v,s);break;case 24:Pn(n,s,a,l),f&2048&&Nh(s.alternate,s);break;default:Pn(n,s,a,l)}}function Tr(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,v=s,E=a,T=l,O=v.flags;switch(v.tag){case 0:case 11:case 15:Tr(m,v,E,T,f),Qa(8,v);break;case 23:break;case 22:var V=v.stateNode;v.memoizedState!==null?V._visibility&2?Tr(m,v,E,T,f):Ja(m,v):(V._visibility|=2,Tr(m,v,E,T,f)),f&&O&2048&&xh(v.alternate,v);break;case 24:Tr(m,v,E,T,f),f&&O&2048&&Nh(v.alternate,v);break;default:Tr(m,v,E,T,f)}s=s.sibling}}function Ja(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ja(a,l),f&2048&&xh(l.alternate,l);break;case 24:Ja(a,l),f&2048&&Nh(l.alternate,l);break;default:Ja(a,l)}s=s.sibling}}var eo=8192;function Cr(n){if(n.subtreeFlags&eo)for(n=n.child;n!==null;)a_(n),n=n.sibling}function a_(n){switch(n.tag){case 26:Cr(n),n.flags&eo&&n.memoizedState!==null&&f1(En,n.memoizedState,n.memoizedProps);break;case 5:Cr(n);break;case 3:case 4:var s=En;En=Au(n.stateNode.containerInfo),Cr(n),En=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=eo,eo=16777216,Cr(n),eo=s):Cr(n));break;default:Cr(n)}}function o_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function to(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];dt=l,u_(l,n)}o_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)l_(n),n=n.sibling}function l_(n){switch(n.tag){case 0:case 11:case 15:to(n),n.flags&2048&&Mi(9,n,n.return);break;case 3:to(n);break;case 12:to(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,mu(n)):to(n);break;default:to(n)}}function mu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];dt=l,u_(l,n)}o_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Mi(8,s,s.return),mu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,mu(s));break;default:mu(s)}n=n.sibling}}function u_(n,s){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:Mi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ua(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,dt=l;else e:for(a=n;dt!==null;){l=dt;var f=l.sibling,m=l.return;if(e_(l),l===a){dt=null;break e}if(f!==null){f.return=m,dt=f;break e}dt=m}}}var RR={getCacheForType:function(n){var s=Ct(ot),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},xR=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ve=null,ve=null,Ce=0,De=0,Zt=null,ki=!1,wr=!1,Dh=!1,ii=0,Qe=0,Li=0,Rs=0,Mh=0,hn=0,Ar=0,no=null,Vt=null,Oh=!1,Ih=0,pu=1/0,gu=null,Pi=null,_t=0,Ui=null,Rr=null,xr=0,kh=0,Lh=null,c_=null,io=0,Ph=null;function Jt(){if((Ne&2)!==0&&Ce!==0)return Ce&-Ce;if(U.T!==null){var n=pr;return n!==0?n:Fh()}return Ag()}function f_(){hn===0&&(hn=(Ce&536870912)===0||Re?Sg():536870912);var n=fn.current;return n!==null&&(n.flags|=32),hn}function en(n,s,a){(n===Ve&&(De===2||De===9)||n.cancelPendingCommit!==null)&&(Nr(n,0),Vi(n,Ce,hn,!1)),ba(n,a),((Ne&2)===0||n!==Ve)&&(n===Ve&&((Ne&2)===0&&(Rs|=a),Qe===4&&Vi(n,Ce,hn,!1)),Un(n))}function h_(n,s,a){if((Ne&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||Ea(n,s),f=l?MR(n,s):Bh(n,s,!0),m=l;do{if(f===0){wr&&!l&&Vi(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!NR(a)){f=Bh(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var E=n;f=no;var T=E.current.memoizedState.isDehydrated;if(T&&(Nr(E,v).flags|=256),v=Bh(E,v,!1),v!==2){if(Dh&&!T){E.errorRecoveryDisabledLanes|=m,Rs|=m,f=4;break e}m=Vt,Vt=f,m!==null&&(Vt===null?Vt=m:Vt.push.apply(Vt,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){Nr(n,0),Vi(n,s,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Vi(l,s,hn,!ki);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Ih+300-sn(),10<f)){if(Vi(l,s,hn,!ki),Rl(l,0,!0)!==0)break e;l.timeoutHandle=H_(d_.bind(null,l,a,Vt,gu,Oh,s,hn,Rs,Ar,ki,m,2,-0,0),f);break e}d_(l,a,Vt,gu,Oh,s,hn,Rs,Ar,ki,m,0,-0,0)}}break}while(!0);Un(n)}function d_(n,s,a,l,f,m,v,E,T,O,V,F,I,k){if(n.timeoutHandle=-1,F=s.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(co={stylesheets:null,count:0,unsuspend:c1},a_(s),F=h1(),F!==null)){n.cancelPendingCommit=F(E_.bind(null,n,s,m,a,l,f,v,E,T,V,1,I,k)),Vi(n,m,v,!O);return}E_(n,s,m,a,l,f,v,E,T)}function NR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Wt(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(n,s,a,l){s&=~Mh,s&=~Rs,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var m=31-Dt(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Cg(n,a,s)}function yu(){return(Ne&6)===0?(so(0),!1):!0}function Uh(){if(ve!==null){if(De===0)var n=ve.return;else n=ve,Xn=bs=null,eh(n),br=null,Wa=0,n=ve;for(;n!==null;)Yv(n.alternate,n),n=n.return;ve=null}}function Nr(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,KR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Uh(),Ve=n,ve=a=Yn(n.current,null),Ce=s,De=0,Zt=null,ki=!1,wr=Ea(n,s),Dh=!1,Ar=hn=Mh=Rs=Li=Qe=0,Vt=no=null,Oh=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Dt(l),m=1<<f;s|=n[f],l&=~m}return ii=s,Bl(),a}function m_(n,s){me=null,U.H=su,s===Ba||s===Wl?(s=My(),De=3):s===xy?(s=My(),De=4):De=s===Ov?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zt=s,ve===null&&(Qe=1,uu(n,on(s,n.current)))}function p_(){var n=U.H;return U.H=su,n===null?su:n}function g_(){var n=U.A;return U.A=RR,n}function Vh(){Qe=4,ki||(Ce&4194048)!==Ce&&fn.current!==null||(wr=!0),(Li&134217727)===0&&(Rs&134217727)===0||Ve===null||Vi(Ve,Ce,hn,!1)}function Bh(n,s,a){var l=Ne;Ne|=2;var f=p_(),m=g_();(Ve!==n||Ce!==s)&&(gu=null,Nr(n,s)),s=!1;var v=Qe;e:do try{if(De!==0&&ve!==null){var E=ve,T=Zt;switch(De){case 8:Uh(),v=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(s=!0);var O=De;if(De=0,Zt=null,Dr(n,E,T,O),a&&wr){v=0;break e}break;default:O=De,De=0,Zt=null,Dr(n,E,T,O)}}DR(),v=Qe;break}catch(V){m_(n,V)}while(!0);return s&&n.shellSuspendCounter++,Xn=bs=null,Ne=l,U.H=f,U.A=m,ve===null&&(Ve=null,Ce=0,Bl()),v}function DR(){for(;ve!==null;)y_(ve)}function MR(n,s){var a=Ne;Ne|=2;var l=p_(),f=g_();Ve!==n||Ce!==s?(gu=null,pu=sn()+500,Nr(n,s)):wr=Ea(n,s);e:do try{if(De!==0&&ve!==null){s=ve;var m=Zt;t:switch(De){case 1:De=0,Zt=null,Dr(n,s,m,1);break;case 2:case 9:if(Ny(m)){De=0,Zt=null,v_(s);break}s=function(){De!==2&&De!==9||Ve!==n||(De=7),Un(n)},m.then(s,s);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Ny(m)?(De=0,Zt=null,v_(s)):(De=0,Zt=null,Dr(n,s,m,7));break;case 5:var v=null;switch(ve.tag){case 26:v=ve.memoizedState;case 5:case 27:var E=ve;if(!v||J_(v)){De=0,Zt=null;var T=E.sibling;if(T!==null)ve=T;else{var O=E.return;O!==null?(ve=O,vu(O)):ve=null}break t}}De=0,Zt=null,Dr(n,s,m,5);break;case 6:De=0,Zt=null,Dr(n,s,m,6);break;case 8:Uh(),Qe=6;break e;default:throw Error(r(462))}}OR();break}catch(V){m_(n,V)}while(!0);return Xn=bs=null,U.H=l,U.A=f,Ne=a,ve!==null?0:(Ve=null,Ce=0,Bl(),Qe)}function OR(){for(;ve!==null&&!Zc();)y_(ve)}function y_(n){var s=qv(n.alternate,n,ii);n.memoizedProps=n.pendingProps,s===null?vu(n):ve=s}function v_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Vv(a,s,s.pendingProps,s.type,void 0,Ce);break;case 11:s=Vv(a,s,s.pendingProps,s.type.render,s.ref,Ce);break;case 5:eh(s);default:Yv(a,s),s=ve=_y(s,ii),s=qv(a,s,ii)}n.memoizedProps=n.pendingProps,s===null?vu(n):ve=s}function Dr(n,s,a,l){Xn=bs=null,eh(s),br=null,Wa=0;var f=s.return;try{if(bR(n,f,s,a,Ce)){Qe=1,uu(n,on(a,n.current)),ve=null;return}}catch(m){if(f!==null)throw ve=f,m;Qe=1,uu(n,on(a,n.current)),ve=null;return}s.flags&32768?(Re||l===1?n=!0:wr||(Ce&536870912)!==0?n=!1:(ki=n=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(s,n)):vu(s)}function vu(n){var s=n;do{if((s.flags&32768)!==0){__(s,ki);return}n=s.return;var a=TR(s.alternate,s,ii);if(a!==null){ve=a;return}if(s=s.sibling,s!==null){ve=s;return}ve=s=n}while(s!==null);Qe===0&&(Qe=5)}function __(n,s){do{var a=CR(n.alternate,n);if(a!==null){a.flags&=32767,ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){ve=n;return}ve=n=a}while(n!==null);Qe=6,ve=null}function E_(n,s,a,l,f,m,v,E,T){n.cancelPendingCommit=null;do _u();while(_t!==0);if((Ne&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Nf,cA(n,a,m,v,E,T),n===Ve&&(ve=Ve=null,Ce=0),Rr=s,Ui=n,xr=a,kh=m,Lh=f,c_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,PR(de,function(){return w_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,f=Y.p,Y.p=2,v=Ne,Ne|=4;try{wR(n,s,a)}finally{Ne=v,Y.p=f,U.T=l}}_t=1,b_(),S_(),T_()}}function b_(){if(_t===1){_t=0;var n=Ui,s=Rr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=Y.p;Y.p=2;var f=Ne;Ne|=4;try{i_(s,n);var m=Qh,v=uy(n.containerInfo),E=m.focusedElem,T=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&ly(E.ownerDocument.documentElement,E)){if(T!==null&&Cf(E)){var O=T.start,V=T.end;if(V===void 0&&(V=O),"selectionStart"in E)E.selectionStart=O,E.selectionEnd=Math.min(V,E.value.length);else{var F=E.ownerDocument||document,I=F&&F.defaultView||window;if(I.getSelection){var k=I.getSelection(),oe=E.textContent.length,ie=Math.min(T.start,oe),Ie=T.end===void 0?ie:Math.min(T.end,oe);!k.extend&&ie>Ie&&(v=Ie,Ie=ie,ie=v);var R=oy(E,ie),A=oy(E,Ie);if(R&&A&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==A.node||k.focusOffset!==A.offset)){var M=F.createRange();M.setStart(R.node,R.offset),k.removeAllRanges(),ie>Ie?(k.addRange(M),k.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),k.addRange(M))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var j=F[E];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Mu=!!$h,Qh=$h=null}finally{Ne=f,Y.p=l,U.T=a}}n.current=s,_t=2}}function S_(){if(_t===2){_t=0;var n=Ui,s=Rr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=Y.p;Y.p=2;var f=Ne;Ne|=4;try{Jv(n,s.alternate,s)}finally{Ne=f,Y.p=l,U.T=a}}_t=3}}function T_(){if(_t===4||_t===3){_t=0,Jc();var n=Ui,s=Rr,a=xr,l=c_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_t=5:(_t=0,Rr=Ui=null,C_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Pi=null),nf(a),s=s.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Kt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=U.T,f=Y.p,Y.p=2,U.T=null;try{for(var m=n.onRecoverableError,v=0;v<l.length;v++){var E=l[v];m(E.value,{componentStack:E.stack})}}finally{U.T=s,Y.p=f}}(xr&3)!==0&&_u(),Un(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Ph?io++:(io=0,Ph=n):io=0,so(0)}}function C_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ua(s)))}function _u(n){return b_(),S_(),T_(),w_()}function w_(){if(_t!==5)return!1;var n=Ui,s=kh;kh=0;var a=nf(xr),l=U.T,f=Y.p;try{Y.p=32>a?32:a,U.T=null,a=Lh,Lh=null;var m=Ui,v=xr;if(_t=0,Rr=Ui=null,xr=0,(Ne&6)!==0)throw Error(r(331));var E=Ne;if(Ne|=4,l_(m.current),r_(m,m.current,v,a),Ne=E,so(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Kt,m)}catch{}return!0}finally{Y.p=f,U.T=l,C_(n,s)}}function A_(n,s,a){s=on(a,s),s=mh(n.stateNode,s,2),n=Ri(n,s,2),n!==null&&(ba(n,2),Un(n))}function Le(n,s,a){if(n.tag===3)A_(n,n,a);else for(;s!==null;){if(s.tag===3){A_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pi===null||!Pi.has(l))){n=on(a,n),a=Dv(2),l=Ri(s,a,2),l!==null&&(Mv(a,l,s,n),ba(l,2),Un(l));break}}s=s.return}}function zh(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new xR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Dh=!0,f.add(a),n=IR.bind(null,n,s,a),s.then(n,n))}function IR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ve===n&&(Ce&a)===a&&(Qe===4||Qe===3&&(Ce&62914560)===Ce&&300>sn()-Ih?(Ne&2)===0&&Nr(n,0):Mh|=a,Ar===Ce&&(Ar=0)),Un(n)}function R_(n,s){s===0&&(s=Tg()),n=fr(n,s),n!==null&&(ba(n,s),Un(n))}function kR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),R_(n,a)}function LR(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),R_(n,a)}function PR(n,s){return va(n,s)}var Eu=null,Mr=null,Hh=!1,bu=!1,jh=!1,xs=0;function Un(n){n!==Mr&&n.next===null&&(Mr===null?Eu=Mr=n:Mr=Mr.next=n),bu=!0,Hh||(Hh=!0,VR())}function so(n,s){if(!jh&&bu){jh=!0;do for(var a=!1,l=Eu;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Dt(42|n)+1)-1,m&=f&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,M_(l,m))}else m=Ce,m=Rl(l,l===Ve?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ea(l,m)||(a=!0,M_(l,m));l=l.next}while(a);jh=!1}}function UR(){x_()}function x_(){bu=Hh=!1;var n=0;xs!==0&&(YR()&&(n=xs),xs=0);for(var s=sn(),a=null,l=Eu;l!==null;){var f=l.next,m=N_(l,s);m===0?(l.next=null,a===null?Eu=f:a.next=f,f===null&&(Mr=a)):(a=l,(n!==0||(m&3)!==0)&&(bu=!0)),l=f}so(n)}function N_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-Dt(m),E=1<<v,T=f[v];T===-1?((E&a)===0||(E&l)!==0)&&(f[v]=uA(E,s)):T<=s&&(n.expiredLanes|=E),m&=~E}if(s=Ve,a=Ce,a=Rl(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(De===2||De===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ea(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&_a(l),nf(a)){case 2:case 8:a=be;break;case 32:a=de;break;case 268435456:a=tt;break;default:a=de}return l=D_.bind(null,n),a=va(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&_a(l),n.callbackPriority=2,n.callbackNode=null,2}function D_(n,s){if(_t!==0&&_t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(_u()&&n.callbackNode!==a)return null;var l=Ce;return l=Rl(n,n===Ve?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(h_(n,l,s),N_(n,sn()),n.callbackNode!=null&&n.callbackNode===a?D_.bind(null,n):null)}function M_(n,s){if(_u())return null;h_(n,s,!0)}function VR(){WR(function(){(Ne&6)!==0?va(fe,UR):x_()})}function Fh(){return xs===0&&(xs=Sg()),xs}function O_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ol(""+n)}function I_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function BR(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=O_((f[kt]||null).action),v=l.submitter;v&&(s=(s=v[kt]||null)?O_(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var E=new Pl("action","action",null,l,f);n.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xs!==0){var T=v?I_(f,v):new FormData(f);uh(a,{pending:!0,data:T,method:f.method,action:m},null,T)}}else typeof m=="function"&&(E.preventDefault(),T=v?I_(f,v):new FormData(f),uh(a,{pending:!0,data:T,method:f.method,action:m},m,T))},currentTarget:f}]})}}for(var qh=0;qh<xf.length;qh++){var Gh=xf[qh],zR=Gh.toLowerCase(),HR=Gh[0].toUpperCase()+Gh.slice(1);_n(zR,"on"+HR)}_n(hy,"onAnimationEnd"),_n(dy,"onAnimationIteration"),_n(my,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(sR,"onTransitionRun"),_n(rR,"onTransitionStart"),_n(aR,"onTransitionCancel"),_n(py,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function k_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var v=l.length-1;0<=v;v--){var E=l[v],T=E.instance,O=E.currentTarget;if(E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(V){lu(V)}f.currentTarget=null,m=T}else for(v=0;v<l.length;v++){if(E=l[v],T=E.instance,O=E.currentTarget,E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(V){lu(V)}f.currentTarget=null,m=T}}}}function _e(n,s){var a=s[sf];a===void 0&&(a=s[sf]=new Set);var l=n+"__bubble";a.has(l)||(L_(s,n,2,!1),a.add(l))}function Yh(n,s,a){var l=0;s&&(l|=4),L_(a,n,l,s)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Kh(n){if(!n[Su]){n[Su]=!0,xg.forEach(function(a){a!=="selectionchange"&&(jR.has(a)||Yh(a,!1,n),Yh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Su]||(s[Su]=!0,Yh("selectionchange",!1,s))}}function L_(n,s,a,l){switch(r0(s)){case 2:var f=p1;break;case 8:f=g1;break;default:f=od}a=f.bind(null,s,a,n),f=void 0,!pf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Wh(n,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Zs(E),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=m=v;continue e}E=E.parentNode}}l=l.return}jg(function(){var O=m,V=df(a),F=[];e:{var I=gy.get(n);if(I!==void 0){var k=Pl,oe=n;switch(n){case"keypress":if(kl(a)===0)break e;case"keydown":case"keyup":k=PA;break;case"focusin":oe="focus",k=_f;break;case"focusout":oe="blur",k=_f;break;case"beforeblur":case"afterblur":k=_f;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=BA;break;case hy:case dy:case my:k=RA;break;case py:k=HA;break;case"scroll":case"scrollend":k=SA;break;case"wheel":k=FA;break;case"copy":case"cut":case"paste":k=NA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Kg;break;case"toggle":case"beforetoggle":k=GA}var ie=(s&4)!==0,Ie=!ie&&(n==="scroll"||n==="scrollend"),R=ie?I!==null?I+"Capture":null:I;ie=[];for(var A=O,M;A!==null;){var j=A;if(M=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||M===null||R===null||(j=Ca(A,R),j!=null&&ie.push(ao(A,j,M))),Ie)break;A=A.return}0<ie.length&&(I=new k(I,oe,null,a,V),F.push({event:I,listeners:ie}))}}if((s&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",k=n==="mouseout"||n==="pointerout",I&&a!==hf&&(oe=a.relatedTarget||a.fromElement)&&(Zs(oe)||oe[Qs]))break e;if((k||I)&&(I=V.window===V?V:(I=V.ownerDocument)?I.defaultView||I.parentWindow:window,k?(oe=a.relatedTarget||a.toElement,k=O,oe=oe?Zs(oe):null,oe!==null&&(Ie=u(oe),ie=oe.tag,oe!==Ie||ie!==5&&ie!==27&&ie!==6)&&(oe=null)):(k=null,oe=O),k!==oe)){if(ie=Gg,j="onMouseLeave",R="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ie=Kg,j="onPointerLeave",R="onPointerEnter",A="pointer"),Ie=k==null?I:Ta(k),M=oe==null?I:Ta(oe),I=new ie(j,A+"leave",k,a,V),I.target=Ie,I.relatedTarget=M,j=null,Zs(V)===O&&(ie=new ie(R,A+"enter",oe,a,V),ie.target=M,ie.relatedTarget=Ie,j=ie),Ie=j,k&&oe)t:{for(ie=k,R=oe,A=0,M=ie;M;M=Or(M))A++;for(M=0,j=R;j;j=Or(j))M++;for(;0<A-M;)ie=Or(ie),A--;for(;0<M-A;)R=Or(R),M--;for(;A--;){if(ie===R||R!==null&&ie===R.alternate)break t;ie=Or(ie),R=Or(R)}ie=null}else ie=null;k!==null&&P_(F,I,k,ie,!1),oe!==null&&Ie!==null&&P_(F,Ie,oe,ie,!0)}}e:{if(I=O?Ta(O):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var J=ty;else if(Jg(I))if(ny)J=tR;else{J=JA;var pe=ZA}else k=I.nodeName,!k||k.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?O&&ff(O.elementType)&&(J=ty):J=eR;if(J&&(J=J(n,O))){ey(F,J,a,V);break e}pe&&pe(n,I,O),n==="focusout"&&O&&I.type==="number"&&O.memoizedProps.value!=null&&cf(I,"number",I.value)}switch(pe=O?Ta(O):window,n){case"focusin":(Jg(pe)||pe.contentEditable==="true")&&(lr=pe,wf=O,Oa=null);break;case"focusout":Oa=wf=lr=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,cy(F,a,V);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":cy(F,a,V)}var te;if(bf)e:{switch(n){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else or?Qg(n,a)&&(se="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(se="onCompositionStart");se&&(Wg&&a.locale!=="ko"&&(or||se!=="onCompositionStart"?se==="onCompositionEnd"&&or&&(te=Fg()):(Ti=V,gf="value"in Ti?Ti.value:Ti.textContent,or=!0)),pe=Tu(O,se),0<pe.length&&(se=new Yg(se,n,null,a,V),F.push({event:se,listeners:pe}),te?se.data=te:(te=Zg(a),te!==null&&(se.data=te)))),(te=KA?WA(n,a):XA(n,a))&&(se=Tu(O,"onBeforeInput"),0<se.length&&(pe=new Yg("onBeforeInput","beforeinput",null,a,V),F.push({event:pe,listeners:se}),pe.data=te)),BR(F,n,O,a,V)}k_(F,s)})}function ao(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Tu(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ca(n,a),f!=null&&l.unshift(ao(n,f,m)),f=Ca(n,s),f!=null&&l.push(ao(n,f,m))),n.tag===3)return l;n=n.return}return[]}function Or(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function P_(n,s,a,l,f){for(var m=s._reactName,v=[];a!==null&&a!==l;){var E=a,T=E.alternate,O=E.stateNode;if(E=E.tag,T!==null&&T===l)break;E!==5&&E!==26&&E!==27||O===null||(T=O,f?(O=Ca(a,m),O!=null&&v.unshift(ao(a,O,T))):f||(O=Ca(a,m),O!=null&&v.push(ao(a,O,T)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var FR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function U_(n){return(typeof n=="string"?n:""+n).replace(FR,`
`).replace(qR,"")}function V_(n,s){return s=U_(s),U_(n)===s}function Cu(){}function Oe(n,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||sr(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&sr(n,""+l);break;case"className":Nl(n,"class",l);break;case"tabIndex":Nl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nl(n,a,l);break;case"style":zg(n,l,m);break;case"data":if(s!=="object"){Nl(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ol(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Oe(n,s,"name",f.name,f,null),Oe(n,s,"formEncType",f.formEncType,f,null),Oe(n,s,"formMethod",f.formMethod,f,null),Oe(n,s,"formTarget",f.formTarget,f,null)):(Oe(n,s,"encType",f.encType,f,null),Oe(n,s,"method",f.method,f,null),Oe(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ol(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Cu);break;case"onScroll":l!=null&&_e("scroll",n);break;case"onScrollEnd":l!=null&&_e("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ol(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":_e("beforetoggle",n),_e("toggle",n),xl(n,"popover",l);break;case"xlinkActuate":qn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xl(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=EA.get(a)||a,xl(n,a,l))}}function Xh(n,s,a,l,f,m){switch(a){case"style":zg(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?sr(n,l):(typeof l=="number"||typeof l=="bigint")&&sr(n,""+l);break;case"onScroll":l!=null&&_e("scroll",n);break;case"onScrollEnd":l!=null&&_e("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ng.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=n[kt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):xl(n,a,l)}}}function Et(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",n),_e("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(n,s,m,v,a,null)}}f&&Oe(n,s,"srcSet",a.srcSet,a,null),l&&Oe(n,s,"src",a.src,a,null);return;case"input":_e("invalid",n);var E=m=v=f=null,T=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var V=a[l];if(V!=null)switch(l){case"name":f=V;break;case"type":v=V;break;case"checked":T=V;break;case"defaultChecked":O=V;break;case"value":m=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:Oe(n,s,l,V,a,null)}}Pg(n,m,E,T,O,v,f,!1),Dl(n);return;case"select":_e("invalid",n),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Oe(n,s,f,E,a,null)}s=m,a=v,n.multiple=!!l,s!=null?ir(n,!!l,s,!1):a!=null&&ir(n,!!l,a,!0);return;case"textarea":_e("invalid",n),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Oe(n,s,v,E,a,null)}Vg(n,l,f,m),Dl(n);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Oe(n,s,T,l,a,null)}return;case"dialog":_e("beforetoggle",n),_e("toggle",n),_e("cancel",n),_e("close",n);break;case"iframe":case"object":_e("load",n);break;case"video":case"audio":for(l=0;l<ro.length;l++)_e(ro[l],n);break;case"image":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"embed":case"source":case"link":_e("error",n),_e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(n,s,O,l,a,null)}return;default:if(ff(s)){for(V in a)a.hasOwnProperty(V)&&(l=a[V],l!==void 0&&Xh(n,s,V,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Oe(n,s,E,l,a,null))}function GR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,E=null,T=null,O=null,V=null;for(k in a){var F=a[k];if(a.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":T=F;default:l.hasOwnProperty(k)||Oe(n,s,k,null,l,F)}}for(var I in l){var k=l[I];if(F=a[I],l.hasOwnProperty(I)&&(k!=null||F!=null))switch(I){case"type":m=k;break;case"name":f=k;break;case"checked":O=k;break;case"defaultChecked":V=k;break;case"value":v=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:k!==F&&Oe(n,s,I,k,l,F)}}uf(n,v,E,T,O,V,m,f);return;case"select":k=v=E=I=null;for(m in a)if(T=a[m],a.hasOwnProperty(m)&&T!=null)switch(m){case"value":break;case"multiple":k=T;default:l.hasOwnProperty(m)||Oe(n,s,m,null,l,T)}for(f in l)if(m=l[f],T=a[f],l.hasOwnProperty(f)&&(m!=null||T!=null))switch(f){case"value":I=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==T&&Oe(n,s,f,m,l,T)}s=E,a=v,l=k,I!=null?ir(n,!!a,I,!1):!!l!=!!a&&(s!=null?ir(n,!!a,s,!0):ir(n,!!a,a?[]:"",!1));return;case"textarea":k=I=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Oe(n,s,E,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":I=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Oe(n,s,v,f,l,m)}Ug(n,I,k);return;case"option":for(var oe in a)if(I=a[oe],a.hasOwnProperty(oe)&&I!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":n.selected=!1;break;default:Oe(n,s,oe,null,l,I)}for(T in l)if(I=l[T],k=a[T],l.hasOwnProperty(T)&&I!==k&&(I!=null||k!=null))switch(T){case"selected":n.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Oe(n,s,T,I,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)I=a[ie],a.hasOwnProperty(ie)&&I!=null&&!l.hasOwnProperty(ie)&&Oe(n,s,ie,null,l,I);for(O in l)if(I=l[O],k=a[O],l.hasOwnProperty(O)&&I!==k&&(I!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:Oe(n,s,O,I,l,k)}return;default:if(ff(s)){for(var Ie in a)I=a[Ie],a.hasOwnProperty(Ie)&&I!==void 0&&!l.hasOwnProperty(Ie)&&Xh(n,s,Ie,void 0,l,I);for(V in l)I=l[V],k=a[V],!l.hasOwnProperty(V)||I===k||I===void 0&&k===void 0||Xh(n,s,V,I,l,k);return}}for(var R in a)I=a[R],a.hasOwnProperty(R)&&I!=null&&!l.hasOwnProperty(R)&&Oe(n,s,R,null,l,I);for(F in l)I=l[F],k=a[F],!l.hasOwnProperty(F)||I===k||I==null&&k==null||Oe(n,s,F,I,l,k)}var $h=null,Qh=null;function wu(n){return n.nodeType===9?n:n.ownerDocument}function B_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Zh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jh=null;function YR(){var n=window.event;return n&&n.type==="popstate"?n===Jh?!1:(Jh=n,!0):(Jh=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(n){return j_.resolve(null).then(n).catch(XR)}:H_;function XR(n){setTimeout(function(){throw n})}function Bi(n){return n==="head"}function F_(n,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&oo(v.documentElement),a&2&&oo(v.body),a&4)for(a=v.head,oo(a),v=a.firstChild;v;){var E=v.nextSibling,T=v.nodeName;v[Sa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(f===0){n.removeChild(m),go(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);go(s)}function ed(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ed(a),rf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function $R(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Sa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=bn(n.nextSibling),n===null)break}return null}function QR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=bn(n.nextSibling),n===null))return null;return n}function td(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ZR(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function bn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var nd=null;function q_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function G_(n,s,a){switch(s=wu(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function oo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);rf(n)}var dn=new Map,Y_=new Set;function Au(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var si=Y.d;Y.d={f:JR,r:e1,D:t1,C:n1,L:i1,m:s1,X:a1,S:r1,M:o1};function JR(){var n=si.f(),s=yu();return n||s}function e1(n){var s=Js(n);s!==null&&s.tag===5&&s.type==="form"?hv(s):si.r(n)}var Ir=typeof document>"u"?null:document;function K_(n,s,a){var l=Ir;if(l&&typeof s=="string"&&s){var f=an(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Y_.has(f)||(Y_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Et(s,"link",n),ft(s),l.head.appendChild(s)))}}function t1(n){si.D(n),K_("dns-prefetch",n,null)}function n1(n,s){si.C(n,s),K_("preconnect",n,s)}function i1(n,s,a){si.L(n,s,a);var l=Ir;if(l&&n&&s){var f='link[rel="preload"][as="'+an(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(n)+'"]';var m=f;switch(s){case"style":m=kr(n);break;case"script":m=Lr(n)}dn.has(m)||(n=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),dn.set(m,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(lo(m))||s==="script"&&l.querySelector(uo(m))||(s=l.createElement("link"),Et(s,"link",n),ft(s),l.head.appendChild(s)))}}function s1(n,s){si.m(n,s);var a=Ir;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Lr(n)}if(!dn.has(m)&&(n=g({rel:"modulepreload",href:n},s),dn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uo(m)))return}l=a.createElement("link"),Et(l,"link",n),ft(l),a.head.appendChild(l)}}}function r1(n,s,a){si.S(n,s,a);var l=Ir;if(l&&n){var f=er(l).hoistableStyles,m=kr(n);s=s||"default";var v=f.get(m);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(lo(m)))E.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":s},a),(a=dn.get(m))&&id(n,a);var T=v=l.createElement("link");ft(T),Et(T,"link",n),T._p=new Promise(function(O,V){T.onload=O,T.onerror=V}),T.addEventListener("load",function(){E.loading|=1}),T.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ru(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(m,v)}}}function a1(n,s){si.X(n,s);var a=Ir;if(a&&n){var l=er(a).hoistableScripts,f=Lr(n),m=l.get(f);m||(m=a.querySelector(uo(f)),m||(n=g({src:n,async:!0},s),(s=dn.get(f))&&sd(n,s),m=a.createElement("script"),ft(m),Et(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function o1(n,s){si.M(n,s);var a=Ir;if(a&&n){var l=er(a).hoistableScripts,f=Lr(n),m=l.get(f);m||(m=a.querySelector(uo(f)),m||(n=g({src:n,async:!0,type:"module"},s),(s=dn.get(f))&&sd(n,s),m=a.createElement("script"),ft(m),Et(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function W_(n,s,a,l){var f=(f=ce.current)?Au(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=kr(a.href),a=er(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=kr(a.href);var m=er(f).hoistableStyles,v=m.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=f.querySelector(lo(n)))&&!m._p&&(v.instance=m,v.state.loading=5),dn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dn.set(n,a),m||l1(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Lr(a),a=er(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function kr(n){return'href="'+an(n)+'"'}function lo(n){return'link[rel="stylesheet"]['+n+"]"}function X_(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function l1(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Et(s,"link",a),ft(s),n.head.appendChild(s))}function Lr(n){return'[src="'+an(n)+'"]'}function uo(n){return"script[async]"+n}function $_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return s.instance=l,ft(l),l;var f=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ft(l),Et(l,"style",f),Ru(l,a.precedence,n),s.instance=l;case"stylesheet":f=kr(a.href);var m=n.querySelector(lo(f));if(m)return s.state.loading|=4,s.instance=m,ft(m),m;l=X_(a),(f=dn.get(f))&&id(l,f),m=(n.ownerDocument||n).createElement("link"),ft(m);var v=m;return v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),Et(m,"link",l),s.state.loading|=4,Ru(m,a.precedence,n),s.instance=m;case"script":return m=Lr(a.src),(f=n.querySelector(uo(m)))?(s.instance=f,ft(f),f):(l=a,(f=dn.get(m))&&(l=g({},a),sd(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ft(f),Et(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ru(l,a.precedence,n));return s.instance}function Ru(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function id(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function sd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var xu=null;function Q_(n,s,a){if(xu===null){var l=new Map,f=xu=new Map;f.set(a,l)}else f=xu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Sa]||m[Tt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=n+v;var E=l.get(v);E?E.push(m):l.set(v,[m])}}return l}function Z_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function u1(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function J_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var co=null;function c1(){}function f1(n,s,a){if(co===null)throw Error(r(475));var l=co;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=kr(a.href),m=n.querySelector(lo(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Nu.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,ft(m);return}m=n.ownerDocument||n,a=X_(a),(f=dn.get(f))&&id(a,f),m=m.createElement("link"),ft(m);var v=m;v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),Et(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Nu.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function h1(){if(co===null)throw Error(r(475));var n=co;return n.stylesheets&&n.count===0&&rd(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&rd(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Du=null;function rd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Du=new Map,s.forEach(d1,n),Du=null,Nu.call(n))}function d1(n,s){if(!(s.state.loading&4)){var a=Du.get(n);if(a)var l=a.get(null);else{a=new Map,Du.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Nu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var fo={$$typeof:L,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function m1(n,s,a,l,f,m,v,E){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ef(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.hiddenUpdates=ef(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function e0(n,s,a,l,f,m,v,E,T,O,V,F){return n=new m1(n,s,a,v,E,T,O,F),s=1,m===!0&&(s|=24),m=Xt(3,null,null,s),n.current=m,m.stateNode=n,s=zf(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},qf(m),n}function t0(n){return n?(n=hr,n):hr}function n0(n,s,a,l,f,m){f=t0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ai(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ri(n,l,s),a!==null&&(en(a,n,s),Ha(a,n,s))}function i0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function ad(n,s){i0(n,s),(n=n.alternate)&&i0(n,s)}function s0(n){if(n.tag===13){var s=fr(n,67108864);s!==null&&en(s,n,67108864),ad(n,67108864)}}var Mu=!0;function p1(n,s,a,l){var f=U.T;U.T=null;var m=Y.p;try{Y.p=2,od(n,s,a,l)}finally{Y.p=m,U.T=f}}function g1(n,s,a,l){var f=U.T;U.T=null;var m=Y.p;try{Y.p=8,od(n,s,a,l)}finally{Y.p=m,U.T=f}}function od(n,s,a,l){if(Mu){var f=ld(l);if(f===null)Wh(n,s,l,Ou,a),a0(n,l);else if(v1(f,n,s,a,l))l.stopPropagation();else if(a0(n,l),s&4&&-1<y1.indexOf(n)){for(;f!==null;){var m=Js(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=fs(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var T=1<<31-Dt(v);E.entanglements[1]|=T,v&=~T}Un(m),(Ne&6)===0&&(pu=sn()+500,so(0))}}break;case 13:E=fr(m,2),E!==null&&en(E,m,2),yu(),ad(m,2)}if(m=ld(l),m===null&&Wh(n,s,l,Ou,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Wh(n,s,l,null,a)}}function ld(n){return n=df(n),ud(n)}var Ou=null;function ud(n){if(Ou=null,n=Zs(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ou=n,null}function r0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G()){case fe:return 2;case be:return 8;case de:case Ye:return 32;case tt:return 268435456;default:return 32}default:return 32}}var cd=!1,zi=null,Hi=null,ji=null,ho=new Map,mo=new Map,Fi=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(n,s){switch(n){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":ho.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(s.pointerId)}}function po(n,s,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Js(s),s!==null&&s0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function v1(n,s,a,l,f){switch(s){case"focusin":return zi=po(zi,n,s,a,l,f),!0;case"dragenter":return Hi=po(Hi,n,s,a,l,f),!0;case"mouseover":return ji=po(ji,n,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return ho.set(m,po(ho.get(m)||null,n,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,mo.set(m,po(mo.get(m)||null,n,s,a,l,f)),!0}return!1}function o0(n){var s=Zs(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,fA(n.priority,function(){if(a.tag===13){var l=Jt();l=tf(l);var f=fr(a,l);f!==null&&en(f,a,l),ad(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Iu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=ld(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);hf=l,a.target.dispatchEvent(l),hf=null}else return s=Js(a),s!==null&&s0(s),n.blockedOn=a,!1;s.shift()}return!0}function l0(n,s,a){Iu(n)&&a.delete(s)}function _1(){cd=!1,zi!==null&&Iu(zi)&&(zi=null),Hi!==null&&Iu(Hi)&&(Hi=null),ji!==null&&Iu(ji)&&(ji=null),ho.forEach(l0),mo.forEach(l0)}function ku(n,s){n.blockedOn===s&&(n.blockedOn=null,cd||(cd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_1)))}var Lu=null;function u0(n){Lu!==n&&(Lu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lu===n&&(Lu=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(ud(l||a)===null)continue;break}var m=Js(a);m!==null&&(n.splice(s,3),s-=3,uh(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function go(n){function s(T){return ku(T,n)}zi!==null&&ku(zi,n),Hi!==null&&ku(Hi,n),ji!==null&&ku(ji,n),ho.forEach(s),mo.forEach(s);for(var a=0;a<Fi.length;a++){var l=Fi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Fi.length&&(a=Fi[0],a.blockedOn===null);)o0(a),a.blockedOn===null&&Fi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[kt]||null;if(typeof m=="function")v||u0(a);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[kt]||null)E=v.formAction;else if(ud(f)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),u0(a)}}}function fd(n){this._internalRoot=n}Pu.prototype.render=fd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Jt();n0(a,l,n,s,null,null)},Pu.prototype.unmount=fd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n0(n.current,2,null,n,null,null),yu(),s[Qs]=null}};function Pu(n){this._internalRoot=n}Pu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ag();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Fi.length&&s!==0&&s<Fi[a].priority;a++);Fi.splice(a,0,n),a===0&&o0(n)}};var c0=e.version;if(c0!=="19.1.0")throw Error(r(527,c0,"19.1.0"));Y.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var E1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Kt=Uu.inject(E1),ct=Uu}catch{}}return yo.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Av,m=Rv,v=xv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=e0(n,1,!1,null,null,a,l,f,m,v,E,null),n[Qs]=s.current,Kh(n),new fd(s)},yo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",m=Av,v=Rv,E=xv,T=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),s=e0(n,1,!0,s,a??null,l,f,m,v,E,T,O),s.context=t0(null),a=s.current,l=Jt(),l=tf(l),f=Ai(l),f.callback=null,Ri(a,f,l),a=l,s.current.lanes=a,ba(s,a),Un(s),n[Qs]=s.current,Kh(n),new Pu(s)},yo.version="19.1.0",yo}var v0;function x1(){if(v0)return dd.exports;v0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dd.exports=R1(),dd.exports}var N1=x1();const D1=tS(N1);var vo={},_0;function M1(){if(_0)return vo;_0=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.parse=c,vo.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,b){const S=new u,N=_.length;if(N<2)return S;const D=(b==null?void 0:b.decode)||g;let x=0;do{const z=_.indexOf("=",x);if(z===-1)break;const L=_.indexOf(";",x),W=L===-1?N:L;if(z>W){x=_.lastIndexOf(";",z-1)+1;continue}const P=h(_,x,z),X=d(_,z,P),Z=_.slice(P,X);if(S[Z]===void 0){let $=h(_,z+1,W),re=d(_,W,$);const Se=D(_.slice($,re));S[Z]=Se}x=W+1}while(x<N);return S}function h(_,b,S){do{const N=_.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<S);return S}function d(_,b,S){for(;b>S;){const N=_.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return S}function p(_,b,S){const N=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=N(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let x=_+"="+D;if(!S)return x;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);x+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);x+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);x+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);x+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(x+="; HttpOnly"),S.secure&&(x+="; Secure"),S.partitioned&&(x+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return x}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return o.call(_)==="[object Date]"}return vo}M1();var E0="popstate";function O1(t={}){function e(r,o){let{pathname:u,search:c,hash:h}=r.location;return Wd("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Fo(o)}return k1(e,i,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I1(){return Math.random().toString(36).substring(2,10)}function b0(t,e){return{usr:t.state,key:t.key,idx:e}}function Wd(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:i,key:e&&e.key||r||I1()}}function Fo({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function na(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function k1(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let D=g(),x=D==null?null:D-p;p=D,d&&d({action:h,location:N.location,delta:x})}function _(D,x){h="PUSH";let z=Wd(N.location,D,x);p=g()+1;let L=b0(z,p),W=N.createHref(z);try{c.pushState(L,"",W)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(W)}u&&d&&d({action:h,location:N.location,delta:1})}function b(D,x){h="REPLACE";let z=Wd(N.location,D,x);p=g();let L=b0(z,p),W=N.createHref(z);c.replaceState(L,"",W),u&&d&&d({action:h,location:N.location,delta:0})}function S(D){let x=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof D=="string"?D:Fo(D);return z=z.replace(/ $/,"%20"),qe(x,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,x)}let N={get action(){return h},get location(){return t(o,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(E0,y),d=D,()=>{o.removeEventListener(E0,y),d=null}},createHref(D){return e(o,D)},createURL:S,encodeLocation(D){let x=S(D);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:b,go(D){return c.go(D)}};return N}function nS(t,e,i="/"){return L1(t,e,i,!1)}function L1(t,e,i,r){let o=typeof e=="string"?na(e):e,u=mi(o.pathname||"/",i);if(u==null)return null;let c=iS(t);P1(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=K1(u);h=G1(c[d],p,r)}return h}function iS(t,e=[],i=[],r=""){let o=(u,c,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(qe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=ci([r,d.relativePath]),g=i.concat(d);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),iS(u.children,e,g,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:F1(p,u.index),routesMeta:g})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,c);else for(let d of sS(u.path))o(u,c,d)}),e}function sS(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=sS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function P1(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:q1(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var U1=/^:[\w-]+$/,V1=3,B1=2,z1=1,H1=10,j1=-2,S0=t=>t==="*";function F1(t,e){let i=t.split("/"),r=i.length;return i.some(S0)&&(r+=j1),e&&(r+=B1),i.filter(o=>!S0(o)).reduce((o,u)=>o+(U1.test(u)?V1:u===""?z1:H1),r)}function q1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function G1(t,e,i=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),_=d.route;if(!y&&p&&i&&!r[r.length-1].route.index&&(y=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:ci([u,y.pathname]),pathnameBase:Q1(ci([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=ci([u,y.pathnameBase]))}return c}function ic(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=Y1(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=h[_]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const b=h[_];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:t}}function Y1(t,e=!1,i=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function K1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function W1(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?na(t):t;return{pathname:i?i.startsWith("/")?i:X1(i,e):e,search:Z1(r),hash:J1(o)}}function X1(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function yd(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $1(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Bm(t){let e=$1(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function zm(t,e,i,r=!1){let o;typeof t=="string"?o=na(t):(o={...t},qe(!o.pathname||!o.pathname.includes("?"),yd("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),yd("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),yd("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=i;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=W1(o,h),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ci=t=>t.join("/").replace(/\/\/+/g,"/"),Q1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ex(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rS=["POST","PUT","PATCH","DELETE"];new Set(rS);var tx=["GET",...rS];new Set(tx);var ia=C.createContext(null);ia.displayName="DataRouter";var Oc=C.createContext(null);Oc.displayName="DataRouterState";var aS=C.createContext({isTransitioning:!1});aS.displayName="ViewTransition";var nx=C.createContext(new Map);nx.displayName="Fetchers";var ix=C.createContext(null);ix.displayName="Await";var Dn=C.createContext(null);Dn.displayName="Navigation";var ul=C.createContext(null);ul.displayName="Location";var jn=C.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Hm=C.createContext(null);Hm.displayName="RouteError";function sx(t,{relative:e}={}){qe(sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=C.useContext(Dn),{hash:o,pathname:u,search:c}=cl(t,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:ci([i,u])),r.createHref({pathname:h,search:c,hash:o})}function sa(){return C.useContext(ul)!=null}function ss(){return qe(sa(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(ul).location}var oS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lS(t){C.useContext(Dn).static||C.useLayoutEffect(t)}function ra(){let{isDataRoute:t}=C.useContext(jn);return t?yx():rx()}function rx(){qe(sa(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(ia),{basename:e,navigator:i}=C.useContext(Dn),{matches:r}=C.useContext(jn),{pathname:o}=ss(),u=JSON.stringify(Bm(r)),c=C.useRef(!1);return lS(()=>{c.current=!0}),C.useCallback((d,p={})=>{if(Nn(c.current,oS),!c.current)return;if(typeof d=="number"){i.go(d);return}let g=zm(d,JSON.parse(u),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ci([e,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[e,i,u,o,t])}C.createContext(null);function cl(t,{relative:e}={}){let{matches:i}=C.useContext(jn),{pathname:r}=ss(),o=JSON.stringify(Bm(i));return C.useMemo(()=>zm(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function ax(t,e){return uS(t,e)}function uS(t,e,i,r){var z;qe(sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=C.useContext(Dn),{matches:c}=C.useContext(jn),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let L=y&&y.path||"";cS(p,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=ss(),b;if(e){let L=typeof e=="string"?na(e):e;qe(g==="/"||((z=L.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=_;let S=b.pathname||"/",N=S;if(g!=="/"){let L=g.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let D=!u&&i&&i.matches&&i.matches.length>0?i.matches:nS(t,{pathname:N});Nn(y||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Nn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=fx(D&&D.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:ci([g,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:ci([g,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,i,r);return e&&x?C.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function ox(){let t=gx(),e=ex(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),i?C.createElement("pre",{style:o},i):null,c)}var lx=C.createElement(ox,null),ux=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(jn.Provider,{value:this.props.routeContext},C.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cx({routeContext:t,match:e,children:i}){let r=C.useContext(ia);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(jn.Provider,{value:t},i)}function fx(t,e=[],i=null,r=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let o=t,u=i==null?void 0:i.errors;if(u!=null){let d=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);qe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(i)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=i,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let y,_=!1,b=null,S=null;i&&(y=u&&p.route.id?u[p.route.id]:void 0,b=p.route.errorElement||lx,c&&(h<0&&g===0?(cS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):h===g&&(_=!0,S=p.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,g+1)),D=()=>{let x;return y?x=b:_?x=S:p.route.Component?x=C.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,C.createElement(cx,{match:p,routeContext:{outlet:d,matches:N,isDataRoute:i!=null},children:x})};return i&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(ux,{location:i.location,revalidation:i.revalidation,component:b,error:y,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}function jm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hx(t){let e=C.useContext(ia);return qe(e,jm(t)),e}function dx(t){let e=C.useContext(Oc);return qe(e,jm(t)),e}function mx(t){let e=C.useContext(jn);return qe(e,jm(t)),e}function Fm(t){let e=mx(t),i=e.matches[e.matches.length-1];return qe(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function px(){return Fm("useRouteId")}function gx(){var r;let t=C.useContext(Hm),e=dx("useRouteError"),i=Fm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[i]}function yx(){let{router:t}=hx("useNavigate"),e=Fm("useNavigate"),i=C.useRef(!1);return lS(()=>{i.current=!0}),C.useCallback(async(o,u={})=>{Nn(i.current,oS),i.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var T0={};function cS(t,e,i){!e&&!T0[t]&&(T0[t]=!0,Nn(!1,i))}C.memo(vx);function vx({routes:t,future:e,state:i}){return uS(t,void 0,i,e)}function vd({to:t,replace:e,state:i,relative:r}){qe(sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(Dn);Nn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext(jn),{pathname:c}=ss(),h=ra(),d=zm(t,Bm(u),c,r==="path"),p=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(p),{replace:e,state:i,relative:r})},[h,p,r,e,i]),null}function Ro(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _x({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:u=!1}){qe(!sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof i=="string"&&(i=na(i));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:_="default"}=i,b=C.useMemo(()=>{let S=mi(d,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:_},navigationType:r}},[c,d,p,g,y,_,r]);return Nn(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(Dn.Provider,{value:h},C.createElement(ul.Provider,{children:e,value:b}))}function Ex({children:t,location:e}){return ax(Xd(t),e)}function Xd(t,e=[]){let i=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let u=[...e,o];if(r.type===C.Fragment){i.push.apply(i,Xd(r.props.children,u));return}qe(r.type===Ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Xd(r.props.children,u)),i.push(c)}),i}var Ku="get",Wu="application/x-www-form-urlencoded";function Ic(t){return t!=null&&typeof t.tagName=="string"}function bx(t){return Ic(t)&&t.tagName.toLowerCase()==="button"}function Sx(t){return Ic(t)&&t.tagName.toLowerCase()==="form"}function Tx(t){return Ic(t)&&t.tagName.toLowerCase()==="input"}function Cx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wx(t,e){return t.button===0&&(!e||e==="_self")&&!Cx(t)}var Vu=null;function Ax(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var Rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _d(t){return t!=null&&!Rx.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):t}function xx(t,e){let i,r,o,u,c;if(Sx(t)){let h=t.getAttribute("action");r=h?mi(h,e):null,i=t.getAttribute("method")||Ku,o=_d(t.getAttribute("enctype"))||Wu,u=new FormData(t)}else if(bx(t)||Tx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?mi(d,e):null,i=t.getAttribute("formmethod")||h.getAttribute("method")||Ku,o=_d(t.getAttribute("formenctype"))||_d(h.getAttribute("enctype"))||Wu,u=new FormData(h,t),!Ax()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else p&&u.append(p,y)}}else{if(Ic(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ku,r=null,o=Wu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:c}}function qm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Nx(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Mx(t,e,i){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await Nx(u,i);return c.links?c.links():[]}return[]}));return Lx(r.flat(1).filter(Dx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function C0(t,e,i,r,o,u){let c=(d,p)=>i[p]?d.route.id!==i[p].route.id:!0,h=(d,p)=>{var g;return i[p].pathname!==d.pathname||((g=i[p].route.path)==null?void 0:g.endsWith("*"))&&i[p].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):u==="data"?e.filter((d,p)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ox(t,e,{includeHydrateFallback:i}={}){return Ix(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ix(t){return[...new Set(t)]}function kx(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function Lx(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(kx(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}var Px=new Set([100,101,204,205]);function Ux(t,e){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname="_root.data":e&&mi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function fS(){let t=C.useContext(ia);return qm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Vx(){let t=C.useContext(Oc);return qm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gm=C.createContext(void 0);Gm.displayName="FrameworkContext";function hS(){let t=C.useContext(Gm);return qm(t,"You must render this element inside a <HydratedRouter> element"),t}function Bx(t,e){let i=C.useContext(Gm),[r,o]=C.useState(!1),[u,c]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=x=>{x.forEach(z=>{c(z.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),C.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let b=()=>{o(!0)},S=()=>{o(!1),c(!1)};return i?t!=="intent"?[u,_,{}]:[u,_,{onFocus:_o(h,b),onBlur:_o(d,S),onMouseEnter:_o(p,b),onMouseLeave:_o(g,S),onTouchStart:_o(y,b)}]:[!1,_,{}]}function _o(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function zx({page:t,...e}){let{router:i}=fS(),r=C.useMemo(()=>nS(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?C.createElement(jx,{page:t,matches:r,...e}):null}function Hx(t){let{manifest:e,routeModules:i}=hS(),[r,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return Mx(t,e,i).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,i]),r}function jx({page:t,matches:e,...i}){let r=ss(),{manifest:o,routeModules:u}=hS(),{basename:c}=fS(),{loaderData:h,matches:d}=Vx(),p=C.useMemo(()=>C0(t,e,d,o,r,"data"),[t,e,d,o,r]),g=C.useMemo(()=>C0(t,e,d,o,r,"assets"),[t,e,d,o,r]),y=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,N=!1;if(e.forEach(x=>{var L;let z=o.routes[x.route.id];!z||!z.hasLoader||(!p.some(W=>W.route.id===x.route.id)&&x.route.id in h&&((L=u[x.route.id])!=null&&L.shouldRevalidate)||z.hasClientLoader?N=!0:S.add(x.route.id))}),S.size===0)return[];let D=Ux(t,c);return N&&S.size>0&&D.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[D.pathname+D.search]},[c,h,r,o,p,e,t,u]),_=C.useMemo(()=>Ox(g,o),[g,o]),b=Hx(g);return C.createElement(C.Fragment,null,y.map(S=>C.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),_.map(S=>C.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),b.map(({key:S,link:N})=>C.createElement("link",{key:S,...N})))}function Fx(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dS&&(window.__reactRouterVersion="7.5.2")}catch{}function qx({basename:t,children:e,window:i}){let r=C.useRef();r.current==null&&(r.current=O1({window:i,v5Compat:!0}));let o=r.current,[u,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(d=>{C.startTransition(()=>c(d))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(_x,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pS=C.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,..._},b){let{basename:S}=C.useContext(Dn),N=typeof p=="string"&&mS.test(p),D,x=!1;if(typeof p=="string"&&N&&(D=p,dS))try{let re=new URL(window.location.href),Se=p.startsWith("//")?new URL(re.protocol+p):new URL(p),Ge=mi(Se.pathname,S);Se.origin===re.origin&&Ge!=null?p=Ge+Se.search+Se.hash:x=!0}catch{Nn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=sx(p,{relative:o}),[L,W,P]=Bx(r,_),X=Wx(p,{replace:c,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:y});function Z(re){e&&e(re),re.defaultPrevented||X(re)}let $=C.createElement("a",{..._,...P,href:D||z,onClick:x||u?e:Z,ref:Fx(b,W),target:d,"data-discover":!N&&i==="render"?"true":void 0});return L&&!N?C.createElement(C.Fragment,null,$,C.createElement(zx,{page:z})):$});pS.displayName="Link";var Gx=C.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:d,...p},g){let y=cl(c,{relative:p.relative}),_=ss(),b=C.useContext(Oc),{navigator:S,basename:N}=C.useContext(Dn),D=b!=null&&Jx(y)&&h===!0,x=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,z=_.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(z=z.toLowerCase(),L=L?L.toLowerCase():null,x=x.toLowerCase()),L&&N&&(L=mi(L,N)||L);const W=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=z===x||!o&&z.startsWith(x)&&z.charAt(W)==="/",X=L!=null&&(L===x||!o&&L.startsWith(x)&&L.charAt(x.length)==="/"),Z={isActive:P,isPending:X,isTransitioning:D},$=P?e:void 0,re;typeof r=="function"?re=r(Z):re=[r,P?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Se=typeof u=="function"?u(Z):u;return C.createElement(pS,{...p,"aria-current":$,className:re,ref:g,style:Se,to:c,viewTransition:h},typeof d=="function"?d(Z):d)});Gx.displayName="NavLink";var Yx=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:u,method:c=Ku,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,..._},b)=>{let S=Qx(),N=Zx(h,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",x=typeof h=="string"&&mS.test(h),z=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let W=L.nativeEvent.submitter,P=(W==null?void 0:W.getAttribute("formmethod"))||c;S(W||L.currentTarget,{fetcherKey:e,method:P,navigate:i,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:b,method:D,action:N,onSubmit:r?d:z,..._,"data-discover":!x&&t==="render"?"true":void 0})});Yx.displayName="Form";function Kx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gS(t){let e=C.useContext(ia);return qe(e,Kx(t)),e}function Wx(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let h=ra(),d=ss(),p=cl(t,{relative:u});return C.useCallback(g=>{if(wx(g,e)){g.preventDefault();let y=i!==void 0?i:Fo(d)===Fo(p);h(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[d,h,p,i,r,e,t,o,u,c])}var Xx=0,$x=()=>`__${String(++Xx)}__`;function Qx(){let{router:t}=gS("useSubmit"),{basename:e}=C.useContext(Dn),i=px();return C.useCallback(async(r,o={})=>{let{action:u,method:c,encType:h,formData:d,body:p}=xx(r,e);if(o.navigate===!1){let g=o.fetcherKey||$x();await t.fetch(g,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,i])}function Zx(t,{relative:e}={}){let{basename:i}=C.useContext(Dn),r=C.useContext(jn);qe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...cl(t||".",{relative:e})},c=ss();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ci([i,u.pathname])),Fo(u)}function Jx(t,e={}){let i=C.useContext(aS);qe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gS("useViewTransitionState"),o=cl(t,{relative:e.relative});if(!i.isTransitioning)return!1;let u=mi(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=mi(i.nextLocation.pathname,r)||i.nextLocation.pathname;return ic(o.pathname,c)!=null||ic(o.pathname,u)!=null}new TextEncoder;[...Px];const eN=()=>{};var w0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw aa(e)},aa=function(t){return new Error("Firebase Database ("+yS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},tN=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[i++],c=t[i++],h=t[i++],d=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const u=t[i++],c=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Ym={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|p>>6,b=p&63;d||(b=64,c||(_=64)),r.push(i[g],i[y],i[_],i[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=i[t.charAt(o++)],h=o<t.length?i[t.charAt(o)]:0;++o;const p=o<t.length?i[t.charAt(o)]:64;++o;const y=o<t.length?i[t.charAt(o)]:64;if(++o,u==null||h==null||p==null||y==null)throw new nN;const _=u<<2|h>>4;if(r.push(_),p!==64){const b=h<<4&240|p>>2;if(r.push(b),y!==64){const S=p<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(t){const e=vS(t);return Ym.encodeByteArray(e,!0)},sc=function(t){return _S(t).replace(/\./g,"")},rc=function(t){try{return Ym.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){return ES(void 0,t)}function ES(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!sN(i)||(t[i]=ES(t[i],e[i]));return t}function sN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=()=>rN().__FIREBASE_DEFAULTS__,oN=()=>{if(typeof process>"u"||typeof w0>"u")return;const t=w0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rc(t[1]);return e&&JSON.parse(e)},Km=()=>{try{return eN()||aN()||oN()||lN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bS=t=>{var e,i;return(i=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},uN=t=>{const e=bS(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},SS=()=>{var t;return(t=Km())===null||t===void 0?void 0:t.config},TS=t=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sc(JSON.stringify(i)),sc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function fN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dN(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mN(){return yS.NODE_ADMIN===!0}function pN(){try{return typeof indexedDB=="object"}catch{return!1}}function gN(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="FirebaseError";class rs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=yN,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?vN(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new rs(o,h,r)}}function vN(t,e){return t.replace(_N,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _N=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return JSON.parse(t)}function yt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=function(t){let e={},i={},r={},o="";try{const u=t.split(".");e=qo(rc(u[0])||""),i=qo(rc(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},EN=function(t){const e=wS(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},bN=function(t){const e=wS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $d(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ac(t,e,i){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(i,t[o],o,t));return r}function Hs(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(A0(u)&&A0(c)){if(!Hs(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){const e=[];for(const[i,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function No(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=h^u&(c^h),g=1518500249):(p=u^c^h,g=1859775393):y<60?(p=u&c|h&(u|c),g=2400959708):(p=u^c^h,g=3395469782);const _=(o<<5|o>>>27)+p+d+g+r[y]&4294967295;d=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<i;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<i;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function TN(t,e){const i=new CN(t,e);return i.subscribe.bind(i)}class CN{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");wN(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Ed),o.error===void 0&&(o.error=Ed),o.complete===void 0&&(o.complete=Ed);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wN(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function Ed(){}function Xm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Lc=function(t){let e=0;for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class js{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new kc;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NN(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xN(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xN(t){return t===Ds?void 0:t}function NN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RN(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const MN={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ON=ke.INFO,IN={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},kN=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=IN[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=ON,this._logHandler=kN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const LN=(t,e)=>e.some(i=>t instanceof i);let R0,x0;function PN(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UN(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,Qd=new WeakMap,RS=new WeakMap,bd=new WeakMap,Qm=new WeakMap;function VN(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{i($i(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&AS.set(i,t)}).catch(()=>{}),Qm.set(e,t),e}function BN(t){if(Qd.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});Qd.set(t,e)}let Zd={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RS.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $i(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zN(t){Zd=t(Zd)}function HN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(Sd(this),e,...i);return RS.set(r,e.sort?e.sort():[e]),$i(r)}:UN().includes(t)?function(...e){return t.apply(Sd(this),e),$i(AS.get(this))}:function(...e){return $i(t.apply(Sd(this),e))}}function jN(t){return typeof t=="function"?HN(t):(t instanceof IDBTransaction&&BN(t),LN(t,PN())?new Proxy(t,Zd):t)}function $i(t){if(t instanceof IDBRequest)return VN(t);if(bd.has(t))return bd.get(t);const e=jN(t);return e!==t&&(bd.set(t,e),Qm.set(e,t)),e}const Sd=t=>Qm.get(t);function FN(t,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=$i(c);return r&&c.addEventListener("upgradeneeded",d=>{r($i(c.result),d.oldVersion,d.newVersion,$i(c.transaction),d)}),i&&c.addEventListener("blocked",d=>i(d.oldVersion,d.newVersion,d)),h.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const qN=["get","getKey","getAll","getAllKeys","count"],GN=["put","add","delete","clear"],Td=new Map;function N0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Td.get(e))return Td.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=GN.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qN.includes(i)))return;const u=async function(c,...h){const d=this.transaction(c,o?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[i](...h),o&&d.done]))[0]};return Td.set(e,u),u}zN(t=>({...t,get:(e,i,r)=>N0(e,i)||t.get(e,i,r),has:(e,i)=>!!N0(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KN(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function KN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jd="@firebase/app",D0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new $m("@firebase/app"),WN="@firebase/app-compat",XN="@firebase/analytics-compat",$N="@firebase/analytics",QN="@firebase/app-check-compat",ZN="@firebase/app-check",JN="@firebase/auth",eD="@firebase/auth-compat",tD="@firebase/database",nD="@firebase/data-connect",iD="@firebase/database-compat",sD="@firebase/functions",rD="@firebase/functions-compat",aD="@firebase/installations",oD="@firebase/installations-compat",lD="@firebase/messaging",uD="@firebase/messaging-compat",cD="@firebase/performance",fD="@firebase/performance-compat",hD="@firebase/remote-config",dD="@firebase/remote-config-compat",mD="@firebase/storage",pD="@firebase/storage-compat",gD="@firebase/firestore",yD="@firebase/vertexai",vD="@firebase/firestore-compat",_D="firebase",ED="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",bD={[Jd]:"fire-core",[WN]:"fire-core-compat",[$N]:"fire-analytics",[XN]:"fire-analytics-compat",[ZN]:"fire-app-check",[QN]:"fire-app-check-compat",[JN]:"fire-auth",[eD]:"fire-auth-compat",[tD]:"fire-rtdb",[nD]:"fire-data-connect",[iD]:"fire-rtdb-compat",[sD]:"fire-fn",[rD]:"fire-fn-compat",[aD]:"fire-iid",[oD]:"fire-iid-compat",[lD]:"fire-fcm",[uD]:"fire-fcm-compat",[cD]:"fire-perf",[fD]:"fire-perf-compat",[hD]:"fire-rc",[dD]:"fire-rc-compat",[mD]:"fire-gcs",[pD]:"fire-gcs-compat",[gD]:"fire-fst",[vD]:"fire-fst-compat",[yD]:"fire-vertex","fire-js":"fire-js",[_D]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,SD=new Map,tm=new Map;function M0(t,e){try{t.container.addComponent(e)}catch(i){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function $r(t){const e=t.name;if(tm.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const i of oc.values())M0(i,t);for(const i of SD.values())M0(i,t);return!0}function Zm(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new fl("app","Firebase",TD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=ED;function xS(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(i||(i=SS()),!i)throw Qi.create("no-options");const u=oc.get(o);if(u){if(Hs(i,u.options)&&Hs(r,u.config))return u;throw Qi.create("duplicate-app",{appName:o})}const c=new DN(o);for(const d of tm.values())c.addComponent(d);const h=new CD(i,r,c);return oc.set(o,h),h}function NS(t=em){const e=oc.get(t);if(!e&&t===em&&SS())return xS();if(!e)throw Qi.create("no-app",{appName:t});return e}function Zi(t,e,i){var r;let o=(r=bD[t])!==null&&r!==void 0?r:t;i&&(o+=`-${i}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(h.join(" "));return}$r(new js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="firebase-heartbeat-database",AD=1,Go="firebase-heartbeat-store";let Cd=null;function DS(){return Cd||(Cd=FN(wD,AD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Go)}catch(i){console.warn(i)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),Cd}async function RD(t){try{const i=(await DS()).transaction(Go),r=await i.objectStore(Go).get(MS(t));return await i.done,r}catch(e){if(e instanceof rs)pi.warn(e.message);else{const i=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(i.message)}}}async function O0(t,e){try{const r=(await DS()).transaction(Go,"readwrite");await r.objectStore(Go).put(e,MS(t)),await r.done}catch(i){if(i instanceof rs)pi.warn(i.message);else{const r=Qi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});pi.warn(r.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=1024,ND=30;class DD{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OD(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=I0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ND){const c=ID(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=I0(),{heartbeatsToSend:r,unsentEntries:o}=MD(this._heartbeatsCache.heartbeats),u=sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return pi.warn(i),""}}}function I0(){return new Date().toISOString().substring(0,10)}function MD(t,e=xD){const i=[];let r=t.slice();for(const o of t){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),k0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),k0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class OD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pN()?gN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RD(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return O0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return O0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function k0(t){return sc(JSON.stringify({version:2,heartbeats:t})).length}function ID(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){$r(new js("platform-logger",e=>new YN(e),"PRIVATE")),$r(new js("heartbeat",e=>new DD(e),"PRIVATE")),Zi(Jd,D0,t),Zi(Jd,D0,"esm2017"),Zi("fire-js","")}kD("");function Jm(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function OS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LD=OS,IS=new fl("auth","Firebase",OS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new $m("@firebase/auth");function PD(t,...e){lc.logLevel<=ke.WARN&&lc.warn(`Auth (${la}): ${t}`,...e)}function Xu(t,...e){lc.logLevel<=ke.ERROR&&lc.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw tp(t,...e)}function Rn(t,...e){return tp(t,...e)}function ep(t,e,i){const r=Object.assign(Object.assign({},LD()),{[e]:i});return new fl("auth","Firebase",r).create(e,{appName:t.name})}function fi(t){return ep(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UD(t,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&yn(t,"argument-error"),ep(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tp(t,...e){if(typeof t!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(i,...r)}return IS.create(t,...e)}function ae(t,e,...i){if(!t)throw tp(e,...i)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function gi(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VD(){return L0()==="http:"||L0()==="https:"}function L0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VD()||hN()||"connection"in navigator)?navigator.onLine:!0}function zD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,i){this.shortDelay=e,this.longDelay=i,gi(i>e,"Short delay should be less than long delay!"),this.isMobile=Wm()||CS()}get(){return BD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e){gi(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FD=new hl(3e4,6e4);function as(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,i,r,o={}){return LS(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const h=oa(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},u);return fN()||(p.referrerPolicy="no-referrer"),kS.fetch()(await PS(t,t.config.apiHost,i,h),p)})}async function LS(t,e,i){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HD),e);try{const o=new GD(t),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Bu(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Bu(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Bu(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ep(t,g,p);yn(t,g)}}catch(o){if(o instanceof rs)throw o;yn(t,"network-request-failed",{message:String(o)})}}async function dl(t,e,i,r,o={}){const u=await os(t,e,i,r,o);return"mfaPendingCredential"in u&&yn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function PS(t,e,i,r){const o=`${e}${i}?${r}`,u=t,c=u.config.emulator?np(t.config,o):`${t.config.apiScheme}://${o}`;return jD.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function qD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),FD.get())})}}function Bu(t,e,i){const r={appName:t.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Rn(t,e,r);return o.customData._tokenResponse=i,o}function P0(t){return t!==void 0&&t.enterprise!==void 0}class YD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return qD(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KD(t,e){return os(t,"GET","/v2/recaptchaConfig",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function uc(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XD(t,e=!1){const i=qt(t),r=await i.getIdToken(e),o=ip(r);ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Oo(wd(o.auth_time)),issuedAtTime:Oo(wd(o.iat)),expirationTime:Oo(wd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wd(t){return Number(t)*1e3}function ip(t){const[e,i,r]=t.split(".");if(e===void 0||i===void 0||r===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=rc(i);return o?JSON.parse(o):(Xu("Failed to decode base64 JWT payload"),null)}catch(o){return Xu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function U0(t){const e=ip(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof rs&&$D(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $D({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){var e;const i=t.auth,r=await t.getIdToken(),o=await Yo(t,uc(i,{idToken:r}));ae(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?US(u.providerUserInfo):[],h=JD(t.providerData,c),d=t.isAnonymous,p=!(t.email&&u.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new im(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function ZD(t){const e=qt(t);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JD(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function US(t){return t.map(e=>{var{providerId:i}=e,r=Jm(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){const i=await LS(t,{},async()=>{const r=oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await PS(t,o,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tM(t,e){return os(t,"POST","/v2/accounts:revokeToken",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const i=U0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await eM(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,c=new Fr;return r&&(ae(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(ae(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fr,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor(e){var{uid:i,auth:r,stsTokenManager:o}=e,u=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new im(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Yo(this,this.stsTokenManager.getToken(this.auth,e));return ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return XD(this,e)}reload(){return ZD(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Cn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await Yo(this,WD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,o,u,c,h,d,p,g;const y=(r=i.displayName)!==null&&r!==void 0?r:void 0,_=(o=i.email)!==null&&o!==void 0?o:void 0,b=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,S=(c=i.photoURL)!==null&&c!==void 0?c:void 0,N=(h=i.tenantId)!==null&&h!==void 0?h:void 0,D=(d=i._redirectEventId)!==null&&d!==void 0?d:void 0,x=(p=i.createdAt)!==null&&p!==void 0?p:void 0,z=(g=i.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:W,isAnonymous:P,providerData:X,stsTokenManager:Z}=i;ae(L&&Z,e,"internal-error");const $=Fr.fromJSON(this.name,Z);ae(typeof L=="string",e,"internal-error"),Gi(y,e.name),Gi(_,e.name),ae(typeof W=="boolean",e,"internal-error"),ae(typeof P=="boolean",e,"internal-error"),Gi(b,e.name),Gi(S,e.name),Gi(N,e.name),Gi(D,e.name),Gi(x,e.name),Gi(z,e.name);const re=new Cn({uid:L,auth:e,email:_,emailVerified:W,displayName:y,isAnonymous:P,photoURL:S,phoneNumber:b,tenantId:N,stsTokenManager:$,createdAt:x,lastLoginAt:z});return X&&Array.isArray(X)&&(re.providerData=X.map(Se=>Object.assign({},Se))),D&&(re._redirectEventId=D),re}static async _fromIdTokenResponse(e,i,r=!1){const o=new Fr;o.updateFromServerResponse(i);const u=new Cn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await cc(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?US(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new Fr;h.updateFromIdToken(r);const d=new Cn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;function li(t){gi(t instanceof Function,"Expected a class definition");let e=V0.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}VS.type="NONE";const B0=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,i){return`firebase:${t}:${e}:${i}`}class qr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=$u(this.userKey,o.apiKey,u),this.fullPersistenceKey=$u("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uc(this.auth,{idToken:e}).catch(()=>{});return i?Cn._fromGetAccountInfoResponse(this.auth,i,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new qr(li(B0),e,r);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||li(B0);const c=$u(r,e.config.apiKey,e.name);let h=null;for(const p of i)try{const g=await p._get(c);if(g){let y;if(typeof g=="string"){const _=await uc(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Cn._fromGetAccountInfoResponse(e,_,g)}else y=Cn._fromJSON(e,g);p!==u&&(h=y),u=p;break}}catch{}const d=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new qr(u,e,r):(u=d[0],h&&await u._set(c,h.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new qr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qS(e))return"Blackberry";if(GS(e))return"Webos";if(zS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(FS(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BS(t=It()){return/firefox\//i.test(t)}function zS(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(t=It()){return/crios\//i.test(t)}function jS(t=It()){return/iemobile/i.test(t)}function FS(t=It()){return/android/i.test(t)}function qS(t=It()){return/blackberry/i.test(t)}function GS(t=It()){return/webos/i.test(t)}function sp(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nM(t=It()){var e;return sp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iM(){return dN()&&document.documentMode===10}function YS(t=It()){return sp(t)||FS(t)||GS(t)||qS(t)||/windows phone/i.test(t)||jS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e=[]){let i;switch(t){case"Browser":i=z0(It());break;case"Worker":i=`${z0(It())}-${t}`;break;default:i=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((c,h)=>{try{const d=e(u);c(d)}catch(d){h(d)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e={}){return os(t,"GET","/v2/passwordPolicy",as(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=6;class oM{constructor(e){var i,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=c.minPasswordLength)!==null&&i!==void 0?i:aM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,o,u,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(i=d.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new sM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=li(i)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await qr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uc(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(nn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(fi(this));const i=e?qt(e):null;return i&&ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rM(this),i=new oM(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await tM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&li(e)||this._popupRedirectResolver;ae(i,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[li(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof i=="function"){const d=e.addObserver(i,r,o);return()=>{c=!0,d()}}else{const d=e.addObserver(i);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&PD(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function ls(t){return qt(t)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=TN(i=>this.observer=i)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uM(t){Pc=t}function WS(t){return Pc.loadJS(t)}function cM(){return Pc.recaptchaEnterpriseScript}function fM(){return Pc.gapiScript}function hM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dM{constructor(){this.enterprise=new mM}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class mM{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const pM="recaptcha-enterprise",XS="NO_RECAPTCHA";class gM{constructor(e){this.type=pM,this.auth=ls(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,h)=>{KD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new YD(d);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function o(u,c,h){const d=window.grecaptcha;P0(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(XS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dM().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(h=>{if(!i&&P0(window.grecaptcha))o(h,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cM();d.length!==0&&(d+=h),WS(d).then(()=>{o(h,u,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function j0(t,e,i,r=!1,o=!1){const u=new gM(t);let c;if(o)c=XS;else try{c=await u.verify(i)}catch{c=await u.verify(i,!0)}const h=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sm(t,e,i,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await j0(t,e,i,i==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await j0(t,e,i,i==="getOobCode");return r(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e){const i=Zm(t,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Hs(u,e??{}))return o;yn(o,"already-initialized")}return i.initialize({options:e})}function vM(t,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _M(t,e,i){const r=ls(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=$S(e),{host:c,port:h}=EM(e),d=h===null?"":`:${h}`,p={url:`${u}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Hs(p,r.config.emulator)&&Hs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,bM()}function $S(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EM(t){const e=$S(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:F0(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:F0(c)}}}function F0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bM(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,i){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function SM(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){return dl(t,"POST","/v1/accounts:signInWithPassword",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return dl(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}async function wM(t,e){return dl(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends rp{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Ko(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Ko(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,i,"signInWithPassword",TM);case"emailLink":return CM(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,r,"signUpPassword",SM);case"emailLink":return wM(e,{idToken:i,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gr(t,e){return dl(t,"POST","/v1/accounts:signInWithIdp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="http://localhost";class Fs extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):yn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=i,u=Jm(i,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Fs(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const i=this.buildRequest();return Gr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Gr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Gr(e,i)}buildRequest(){const e={requestUri:AM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=oa(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xM(t){const e=xo(No(t)).link,i=e?xo(No(e)).deep_link_id:null,r=xo(No(t)).deep_link_id;return(r?xo(No(r)).link:null)||r||i||e||t}class ap{constructor(e){var i,r,o,u,c,h;const d=xo(No(e)),p=(i=d.apiKey)!==null&&i!==void 0?i:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=RM((o=d.mode)!==null&&o!==void 0?o:null);ae(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const i=xM(e);try{return new ap(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,i){return Ko._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=ap.parseLink(i);return ae(r,"argument-error"),Ko._fromEmailAndCode(e,r.code,r.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends ml{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ai.credential(i,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends ml{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends ml{constructor(){super("twitter.com")}static credential(e,i){return Fs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Xi.credential(i,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e){return dl(t,"POST","/v1/accounts:signUp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await Cn._fromIdTokenResponse(e,r,o),c=q0(r);return new qs({user:u,providerId:c,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=q0(r);return new qs({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function q0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends rs{constructor(e,i,r,o){var u;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new fc(e,i,r,o)}}function QS(t,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fc._fromErrorAndOperation(t,u,e,r):u})}async function DM(t,e,i=!1){const r=await Yo(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e,i=!1){const{auth:r}=t;if(nn(r.app))return Promise.reject(fi(r));const o="reauthenticate";try{const u=await Yo(t,QS(r,o,e,t),i);ae(u.idToken,r,"internal-error");const c=ip(u.idToken);ae(c,r,"internal-error");const{sub:h}=c;return ae(t.uid===h,r,"user-mismatch"),qs._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(t,e,i=!1){if(nn(t.app))return Promise.reject(fi(t));const r="signIn",o=await QS(t,r,e),u=await qs._fromIdTokenResponse(t,r,o);return i||await t._updateCurrentUser(u.user),u}async function OM(t,e){return ZS(ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(t){const e=ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IM(t,e,i){if(nn(t.app))return Promise.reject(fi(t));const r=ls(t),c=await sm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&JS(t),d}),h=await qs._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function kM(t,e,i){return nn(t.app)?Promise.reject(fi(t)):OM(qt(t),ua.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JS(t),r})}function LM(t,e,i,r){return qt(t).onIdTokenChanged(e,i,r)}function PM(t,e,i){return qt(t).beforeAuthStateChanged(e,i)}function UM(t,e,i,r){return qt(t).onAuthStateChanged(e,i,r)}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=1e3,BM=10;class tT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);iM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BM):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}tT.type="LOCAL";const zM=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}nT.type="SESSION";const iT=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Uc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async p=>p(i.origin,u)),d=await HM(h);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((h,d)=>{const p=lp("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function FM(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function qM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YM(){return sT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebaseLocalStorageDb",KM=1,dc="firebaseLocalStorage",aT="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vc(t,e){return t.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function WM(){const t=indexedDB.deleteDatabase(rT);return new pl(t).toPromise()}function rm(){const t=indexedDB.open(rT,KM);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dc,{keyPath:aT})}catch(o){i(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dc)?e(r):(r.close(),await WM(),e(await rm()))})})}async function G0(t,e,i){const r=Vc(t,!0).put({[aT]:e,value:i});return new pl(r).toPromise()}async function XM(t,e){const i=Vc(t,!1).get(e),r=await new pl(i).toPromise();return r===void 0?null:r.value}function Y0(t,e){const i=Vc(t,!0).delete(e);return new pl(i).toPromise()}const $M=800,QM=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>QM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uc._getInstance(YM()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await qM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await G0(e,hc,"1"),await Y0(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>G0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>XM(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vc(o,!1).getAll();return new pl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const ZM=oT;new hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e){return e?li(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Gr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Gr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function JM(t){return ZS(t.auth,new up(t),t.bypassAuthState)}function eO(t){const{auth:e,user:i}=t;return ae(i,e,"internal-error"),MM(i,new up(t),t.bypassAuthState)}async function tO(t){const{auth:e,user:i}=t;return ae(i,e,"internal-error"),DM(i,new up(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JM;case"linkViaPopup":case"linkViaRedirect":return tO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:yn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new hl(2e3,1e4);async function iO(t,e,i){if(nn(t.app))return Promise.reject(Rn(t,"operation-not-supported-in-this-environment"));const r=ls(t);UD(t,e,op);const o=lT(r,i);return new ks(r,"signInViaPopup",e,o).executeNotNull()}class ks extends uT{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nO.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="pendingRedirect",Qu=new Map;class rO extends uT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Qu.get(this.auth._key());if(!e){try{const r=await aO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aO(t,e){const i=uO(e),r=lO(t);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function oO(t,e){Qu.set(t._key(),e)}function lO(t){return li(t._redirectPersistence)}function uO(t){return $u(sO,t.config.apiKey,t.name)}async function cO(t,e,i=!1){if(nn(t.app))return Promise.reject(fi(t));const r=ls(t),o=lT(r,e),c=await new rO(r,o,i).execute();return c&&!i&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=10*60*1e3;class hO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dO(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!cT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Rn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fO&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mO(t);for(const i of e)try{if(vO(i))return}catch{}yn(t,"unauthorized-domain")}function vO(t){const e=nm(),{protocol:i,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===r}if(!gO.test(i))return!1;if(pO.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new hl(3e4,6e4);function W0(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function EO(t){return new Promise((e,i)=>{var r,o,u;function c(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),i(Rn(t,"network-request-failed"))},timeout:_O.get()})}if(!((o=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Vn().gapi)===null||u===void 0)&&u.load)c();else{const h=hM("iframefcb");return Vn()[h]=()=>{gapi.load?c():i(Rn(t,"network-request-failed"))},WS(`${fM()}?onload=${h}`).catch(d=>i(d))}}).catch(e=>{throw Zu=null,e})}let Zu=null;function bO(t){return Zu=Zu||EO(t),Zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new hl(5e3,15e3),TO="__/auth/iframe",CO="emulator/auth/iframe",wO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RO(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?np(e,CO):`https://${t.config.authDomain}/${TO}`,r={apiKey:e.apiKey,appName:t.name,v:la},o=AO.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${oa(r).slice(1)}`}async function xO(t){const e=await bO(t),i=Vn().gapi;return ae(i,t,"internal-error"),e.open({where:document.body,url:RO(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Rn(t,"network-request-failed"),h=Vn().setTimeout(()=>{u(c)},SO.get());function d(){Vn().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,MO=600,OO="_blank",IO="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kO(t,e,i,r=DO,o=MO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},NO),{width:r.toString(),height:o.toString(),top:u,left:c}),p=It().toLowerCase();i&&(h=HS(p)?OO:i),BS(p)&&(e=e||IO,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[b,S])=>`${_}${b}=${S},`,"");if(nM(p)&&h!=="_self")return LO(e||"",h),new X0(null);const y=window.open(e||"",h,g);ae(y,t,"popup-blocked");try{y.focus()}catch{}return new X0(y)}function LO(t,e){const i=document.createElement("a");i.href=t,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__/auth/handler",UO="emulator/auth/handler",VO=encodeURIComponent("fac");async function $0(t,e,i,r,o,u){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:r,v:la,eventId:o};if(e instanceof op){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",$d(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof ml){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${VO}=${encodeURIComponent(d)}`:"";return`${BO(t)}?${oa(h).slice(1)}${p}`}function BO({config:t}){return t.emulator?np(t,UO):`https://${t.authDomain}/${PO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class zO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=cO,this._overrideRedirectResult=oO}async _openPopup(e,i,r,o){var u;gi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await $0(e,i,r,nm(),o);return kO(e,c,lp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await $0(e,i,r,nm(),o);return FM(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(gi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await xO(e),r=new hO(e);return i.register("authEvent",o=>(ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Ad,{type:Ad},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Ad];c!==void 0&&i(!!c),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=yO(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return YS()||zS()||sp()}}const HO=zO;var Q0="@firebase/auth",Z0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(t){$r(new js("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;ae(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KS(t)},p=new lM(r,o,u,d);return vM(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),$r(new js("auth-internal",e=>{const i=ls(e.getProvider("auth").getImmediate());return(r=>new jO(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(Q0,Z0,FO(t)),Zi(Q0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=5*60,YO=TS("authIdTokenMaxAge")||GO;let J0=null;const KO=t=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>YO)return;const o=i==null?void 0:i.token;J0!==o&&(J0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WO(t=NS()){const e=Zm(t,"auth");if(e.isInitialized())return e.getImmediate();const i=yM(t,{popupRedirectResolver:HO,persistence:[ZM,zM,iT]}),r=TS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=KO(u.toString());PM(i,c,()=>c(i.currentUser)),LM(i,h=>c(h))}}const o=bS("auth");return o&&_M(i,`http://${o}`),i}function XO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uM({loadJS(t){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Rn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",XO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");var $O="firebase",QO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi($O,QO,"app");var eE={};const tE="@firebase/database",nE="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fT="";function ZO(t){fT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:qo(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return bi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new JO(e)}}catch{}return new eI},Ls=hT("localStorage"),tI=hT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new $m("@firebase/database"),nI=function(){let t=1;return function(){return t++}}(),dT=function(t){const e=AN(t),i=new SN;i.update(e);const r=i.digest();return Ym.encodeByteArray(r)},gl=function(...t){let e="";for(let i=0;i<t.length;i++){const r=t[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=gl.apply(null,r):typeof r=="object"?e+=yt(r):e+=r,e+=" "}return e};let Io=null,iE=!0;const iI=function(t,e){K(!0,"Can't turn on custom loggers persistently."),Yr.logLevel=ke.VERBOSE,Io=Yr.log.bind(Yr)},Rt=function(...t){if(iE===!0&&(iE=!1,Io===null&&tI.get("logging_enabled")===!0&&iI()),Io){const e=gl.apply(null,t);Io(e)}},yl=function(t){return function(...e){Rt(t,...e)}},am=function(...t){const e="FIREBASE INTERNAL ERROR: "+gl(...t);Yr.error(e)},yi=function(...t){const e=`FIREBASE FATAL ERROR: ${gl(...t)}`;throw Yr.error(e),new Error(e)},jt=function(...t){const e="FIREBASE WARNING: "+gl(...t);Yr.warn(e)},sI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rI=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Qr="[MIN_NAME]",Gs="[MAX_NAME]",ca=function(t,e){if(t===e)return 0;if(t===Qr||e===Gs)return-1;if(e===Qr||t===Gs)return 1;{const i=sE(t),r=sE(e);return i!==null?r!==null?i-r===0?t.length-e.length:i-r:-1:r!==null?1:t<e?-1:1}},aI=function(t,e){return t===e?0:t<e?-1:1},Eo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+yt(e))},cp=function(t){if(typeof t!="object"||t===null)return yt(t);const e=[];for(const r in t)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=yt(e[r]),i+=":",i+=cp(t[e[r]]);return i+="}",i},pT=function(t,e){const i=t.length;if(i<=e)return[t];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(t.substring(o,i)):r.push(t.substring(o,o+e));return r};function Ft(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const gT=function(t){K(!mT(t),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,u,c,h,d;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,c=Math.round(t/Math.pow(2,1-r-i))));const p=[];for(d=i;d;d-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},oI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uI(t,e){let i="Unknown Error";t==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?i="Client doesn't have permission to access the desired data.":t==="unavailable"&&(i="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+i);return r.code=t.toUpperCase(),r}const cI=new RegExp("^-?(0*)\\d{1,10}$"),fI=-2147483648,hI=2147483647,sE=function(t){if(cI.test(t)){const e=Number(t);if(e>=fI&&e<=hI)return e}return null},fa=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw jt("Exception was thrown by user callback.",i),e},Math.floor(0))}},dI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ko=function(t,e){const i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,nn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(e)}}class Ju{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ju.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="5",yT="v",vT="s",_T="r",ET="f",bT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ST="ls",TT="p",om="ac",CT="websocket",wT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,i,r,o,u=!1,c="",h=!1,d=!1,p=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function gI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function RT(t,e,i){K(typeof e=="string","typeof type must == string"),K(typeof i=="object","typeof params must == object");let r;if(e===CT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===wT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gI(t)&&(i.ns=t.namespace);const o=[];return Ft(i,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.counters_={}}incrementCounter(e,i=1){bi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return iN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd={},xd={};function hp(t){const e=t.toString();return Rd[e]||(Rd[e]=new yI),Rd[e]}function vI(t,e){const i=t.toString();return xd[i]||(xd[i]=e()),xd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&fa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="start",EI="close",bI="pLPCommand",SI="pRTLPCB",xT="id",NT="pw",DT="ser",TI="cb",CI="seg",wI="ts",AI="d",RI="dframe",MT=1870,OT=30,xI=MT-OT,NI=25e3,DI=3e4;class Ur{constructor(e,i,r,o,u,c,h){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yl(e),this.stats_=hp(i),this.urlFn=d=>(this.appCheckToken&&(d[om]=this.appCheckToken),RT(i,wT,d))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new _I(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DI)),rI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dp((...u)=>{const[c,h,d,p,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===rE)this.id=h,this.password=d;else if(c===EI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[rE]="t",r[DT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[TI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yT]=fp,this.transportSessionId&&(r[vT]=this.transportSessionId),this.lastSessionId&&(r[ST]=this.lastSessionId),this.applicationId&&(r[TT]=this.applicationId),this.appCheckToken&&(r[om]=this.appCheckToken),typeof location<"u"&&location.hostname&&bT.test(location.hostname)&&(r[_T]=ET);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ur.forceAllow_=!0}static forceDisallow(){Ur.forceDisallow_=!0}static isAvailable(){return Ur.forceAllow_?!0:!Ur.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oI()&&!lI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=yt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=_S(i),o=pT(r,xI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[RI]="t",r[xT]=e,r[NT]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=yt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class dp{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nI(),window[bI+this.uniqueCallbackIdentifier]=e,window[SI+this.uniqueCallbackIdentifier]=i,this.myIFrame=dp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Rt("frame writing exception"),h.stack&&Rt(h.stack),Rt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xT]=this.myID,e[NT]=this.myPW,e[DT]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OT+r.length<=MT;){const c=this.pendingSegs.shift();r=r+"&"+CI+o+"="+c.seg+"&"+wI+o+"="+c.ts+"&"+AI+o+"="+c.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(NI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=16384,OI=45e3;let mc=null;typeof MozWebSocket<"u"?mc=MozWebSocket:typeof WebSocket<"u"&&(mc=WebSocket);class Tn{constructor(e,i,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yl(this.connId),this.stats_=hp(i),this.connURL=Tn.connectionURL_(i,c,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const c={};return c[yT]=fp,typeof location<"u"&&location.hostname&&bT.test(location.hostname)&&(c[_T]=ET),i&&(c[vT]=i),r&&(c[ST]=r),o&&(c[om]=o),u&&(c[TT]=u),RT(e,CT,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ls.set("previous_websocket_failure",!0);try{let r;mN(),this.mySock=new mc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&mc!==null&&!Tn.forceDisallow_}static previouslyFailed(){return Ls.isInMemoryStorage||Ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=qo(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=yt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=pT(i,MI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OI))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tn.responsesRequiredToBeHealthy=2;Tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static get ALL_TRANSPORTS(){return[Ur,Tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Tn&&Tn.isAvailable();let r=i&&!Tn.previouslyFailed();if(e.webSocketOnly&&(i||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tn];else{const o=this.transports_=[];for(const u of Wo.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Wo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=6e4,kI=5e3,LI=10*1024,PI=100*1024,Nd="t",aE="d",UI="s",oE="r",VI="e",lE="o",uE="a",cE="n",fE="p",BI="h";class zI{constructor(e,i,r,o,u,c,h,d,p,g){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yl("c:"+this.id+":"),this.transportManager_=new Wo(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ko(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>PI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nd in e){const i=e[Nd];i===uE?this.upgradeIfSecondaryHealthy_():i===oE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===lE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Eo("t",e),r=Eo("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Eo("t",e),r=Eo("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Eo(Nd,e);if(aE in e){const r=e[aE];if(i===BI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===cE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===UI?this.onConnectionShutdown_(r):i===oE?this.onReset_(r):i===VI?am("Server Error: "+r):i===lE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):am("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),fp!==r&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),ko(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(II))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ko(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){K(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends kT{static getInstance(){return new pc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=32,dE=768;class Pe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function xe(){return new Pe("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function es(t){return t.pieces_.length-t.pieceNum_}function Be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pe(t.pieces_,e)}function LT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function HI(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function PT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function UT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new Pe(e,0)}function ut(t,e){const i=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);if(e instanceof Pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Pe(i,0)}function Ee(t){return t.pieceNum_>=t.pieces_.length}function Bt(t,e){const i=ge(t),r=ge(e);if(i===null)return e;if(i===r)return Bt(Be(t),Be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mp(t,e){if(es(t)!==es(e))return!1;for(let i=t.pieceNum_,r=e.pieceNum_;i<=t.pieces_.length;i++,r++)if(t.pieces_[i]!==e.pieces_[r])return!1;return!0}function wn(t,e){let i=t.pieceNum_,r=e.pieceNum_;if(es(t)>es(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class jI{constructor(e,i){this.errorPrefix_=i,this.parts_=PT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lc(this.parts_[r]);VT(this)}}function FI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lc(e),VT(t)}function qI(t){const e=t.parts_.pop();t.byteLength_-=Lc(e),t.parts_.length>0&&(t.byteLength_-=1)}function VT(t){if(t.byteLength_>dE)throw new Error(t.errorPrefix_+"has a key path longer than "+dE+" bytes ("+t.byteLength_+").");if(t.parts_.length>hE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hE+") or object contains a cycle "+Ms(t))}function Ms(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends kT{static getInstance(){return new pp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=1e3,GI=60*5*1e3,mE=30*1e3,YI=1.3,KI=3e4,WI="server_kill",pE=3;class hi extends IT{constructor(e,i,r,o,u,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=hi.nextPersistentConnectionId_++,this.log_=yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bo,this.maxReconnectDelay_=GI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&pc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(yt(u)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new kc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const d=h.d,p=h.s;hi.warnOnListenWarnings_(d,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&bi(e,"w")){const r=Xr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=EN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const c={p:i,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):am("Unrecognized action received from server: "+yt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KI&&(this.reconnectDelay_=bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+hi.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,r())},p=function(y){K(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new zI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,b=>{jt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(WI)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&jt(y),d())}}}interrupt(e){Rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$d(this.interruptReasons_)&&(this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>cp(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Pe(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Rt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=pE&&(this.reconnectDelay_=mE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Rt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=pE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+fT.replace(/\./g,"-")]=1,Wm()?e["framework.cordova"]=1:CS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pc.getInstance().currentlyOnline();return $d(this.interruptReasons_)&&e}}hi.nextPersistentConnectionId_=0;hi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ye(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new ye(Qr,e),o=new ye(Qr,i);return this.compare(r,o)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;class BT extends Bc{static get __EMPTY_NODE(){return zu}static set __EMPTY_NODE(e){zu=e}compare(e,i){return ca(e.name,i.name)}isDefinedOn(e){throw aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Gs,zu)}makePost(e,i){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,zu)}toString(){return".key"}}const Kr=new BT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?r(e.key,i):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??gt.RED,this.left=o??zt.EMPTY_NODE,this.right=u??zt.EMPTY_NODE}copy(e,i,r,o,u){return new gt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return zt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gt.RED=!0;gt.BLACK=!1;class XI{copy(e,i,r,o,u){return this}insert(e,i,r){return new gt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class zt{constructor(e,i=zt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new zt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,gt.BLACK,null,null))}remove(e){return new zt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gt.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Hu(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Hu(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Hu(this.root_,null,this.comparator_,!0,e)}}zt.EMPTY_NODE=new XI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e){return ca(t.name,e.name)}function gp(t,e){return ca(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm;function QI(t){lm=t}const zT=function(t){return typeof t=="number"?"number:"+gT(t):"string:"+t},HT=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bi(e,".sv"),"Priority must be a string or number.")}else K(t===lm||t.isEmpty(),"priority of unexpected type.");K(t===lm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gE;class pt{static set __childrenNodeConstructor(e){gE=e}static get __childrenNodeConstructor(){return gE}constructor(e,i=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ee(e)?this:ge(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=ge(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||es(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zT(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=gT(this.value_):e+=this.value_,this.lazyHash_=dT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=pt.VALUE_TYPE_ORDER.indexOf(i),u=pt.VALUE_TYPE_ORDER.indexOf(r);return K(o>=0,"Unknown leaf type: "+i),K(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jT,FT;function ZI(t){jT=t}function JI(t){FT=t}class ek extends Bc{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?ca(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Gs,new pt("[PRIORITY-POST]",FT))}makePost(e,i){const r=jT(e);return new ye(i,new pt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Je=new ek;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=Math.log(2);class nk{constructor(e){const i=u=>parseInt(Math.log(u)/tk,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gc=function(t,e,i,r){t.sort(e);const o=function(d,p){const g=p-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=i?i(y):y,new gt(_,y.node,gt.BLACK,null,null);{const b=parseInt(g/2,10)+d,S=o(d,b),N=o(b+1,p);return y=t[b],_=i?i(y):y,new gt(_,y.node,gt.BLACK,S,N)}},u=function(d){let p=null,g=null,y=t.length;const _=function(S,N){const D=y-S,x=y;y-=S;const z=o(D+1,x),L=t[D],W=i?i(L):L;b(new gt(W,L.node,N,null,z))},b=function(S){p?(p.left=S,p=S):(g=S,p=S)};for(let S=0;S<d.count;++S){const N=d.nextBitIsOne(),D=Math.pow(2,d.count-(S+1));N?_(D,gt.BLACK):(_(D,gt.BLACK),_(D,gt.RED))}return g},c=new nk(t.length),h=u(c);return new zt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd;const Pr={};class ui{static get Default(){return K(Pr&&Je,"ChildrenNode.ts has not been loaded"),Dd=Dd||new ui({".priority":Pr},{".priority":Je}),Dd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Xr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof zt?i:null}hasIndex(e){return bi(this.indexSet_,e.toString())}addIndex(e,i){K(e!==Kr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(ye.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=gc(r,e.getCompare()):h=Pr;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new ui(g,p)}addToIndexes(e,i){const r=ac(this.indexes_,(o,u)=>{const c=Xr(this.indexSet_,u);if(K(c,"Missing index implementation for "+u),o===Pr)if(c.isDefinedOn(e.node)){const h=[],d=i.getIterator(ye.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),gc(h,c.getCompare())}else return Pr;else{const h=i.get(e.name);let d=o;return h&&(d=d.remove(new ye(e.name,h))),d.insert(e,e.node)}});return new ui(r,this.indexSet_)}removeFromIndexes(e,i){const r=ac(this.indexes_,o=>{if(o===Pr)return o;{const u=i.get(e.name);return u?o.remove(new ye(e.name,u)):o}});return new ui(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So;class ue{static get EMPTY_NODE(){return So||(So=new ue(new zt(gp),null,ui.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&HT(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||So}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?So:i}}getChild(e){const i=ge(e);return i===null?this:this.getImmediateChild(i).getChild(Be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(K(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new ye(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?So:this.priorityNode_;return new ue(o,c,u)}}updateChild(e,i){const r=ge(e);if(r===null)return i;{K(ge(e)!==".priority"||es(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Be(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Je,(c,h)=>{i[c]=h.val(e),r++,u&&ue.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in i)c[h]=i[h];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zT(this.getPriority().val())+":"),this.forEachChild(Je,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":dT(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ye(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ye(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ye(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vl?-1:0}withIndex(e){if(e===Kr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Kr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Je),o=i.getIterator(Je);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Kr?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ik extends ue{constructor(){super(new zt(gp),ue.EMPTY_NODE,ui.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const vl=new ik;Object.defineProperties(ye,{MIN:{value:new ye(Qr,ue.EMPTY_NODE)},MAX:{value:new ye(Gs,vl)}});BT.__EMPTY_NODE=ue.EMPTY_NODE;pt.__childrenNodeConstructor=ue;QI(vl);JI(vl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=!0;function St(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new pt(i,St(e))}if(!(t instanceof Array)&&sk){const i=[];let r=!1;if(Ft(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=St(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),i.push(new ye(c,d)))}}),i.length===0)return ue.EMPTY_NODE;const u=gc(i,$I,c=>c.name,gp);if(r){const c=gc(i,Je.getCompare());return new ue(u,St(e),new ui({".priority":c},{".priority":Je}))}else return new ue(u,St(e),ui.Default)}else{let i=ue.EMPTY_NODE;return Ft(t,(r,o)=>{if(bi(t,r)&&r.substring(0,1)!=="."){const u=St(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(St(e))}}ZI(St);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Bc{constructor(e){super(),this.indexPath_=e,K(!Ee(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?ca(e.name,i.name):u}makePost(e,i){const r=St(e),o=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(i,o)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,vl);return new ye(Gs,e)}toString(){return PT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends Bc{compare(e,i){const r=e.node.compareTo(i.node);return r===0?ca(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,i){const r=St(e);return new ye(i,r)}toString(){return".value"}}const ok=new ak;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){return{type:"value",snapshotNode:t}}function Zr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Xo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $o(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function lk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.index_=e}updateChild(e,i,r,o,u,c){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(i)?c.trackChildChange(Xo(i,h)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Zr(i,r)):c.trackChildChange($o(i,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Je,(o,u)=>{i.hasChild(o)||r.trackChildChange(Xo(o,u))}),i.isLeafNode()||i.forEachChild(Je,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange($o(o,u,c))}else r.trackChildChange(Zr(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.indexedFilter_=new yp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qo.getStartPost_(e),this.endPost_=Qo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,u,c){return this.matches(new ye(i,r))||(r=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,u,c)}updateFullNode(e,i,r){i.isLeafNode()&&(i=ue.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ue.EMPTY_NODE);const u=this;return i.forEachChild(Je,(c,h)=>{u.matches(new ye(c,h))||(o=o.updateImmediateChild(c,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,u,c){return this.rangedFilter_.matches(new ye(i,r))||(r=ue.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,u,c):this.fullLimitUpdateChild_(e,i,r,u,c)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ue.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ue.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,b)=>y(b,_)}else c=this.index_.getCompare();const h=e;K(h.numChildren()===this.limit_,"");const d=new ye(i,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(i)){const y=h.getImmediateChild(i);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===i||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:c(_,d);if(g&&!r.isEmpty()&&b>=0)return u!=null&&u.trackChildChange($o(i,r,y)),h.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(Xo(i,y));const N=h.updateImmediateChild(i,ue.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(Zr(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return r.isEmpty()?e:g&&c(p,d)>=0?(u!=null&&(u.trackChildChange(Xo(p.name,p.node)),u.trackChildChange(Zr(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(p.name,ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qr}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Je}copy(){const e=new vp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ck(t){return t.loadsAllData()?new yp(t.getIndex()):t.hasLimit()?new uk(t):new Qo(t)}function yE(t){const e={};if(t.isDefault())return e;let i;if(t.index_===Je?i="$priority":t.index_===ok?i="$value":t.index_===Kr?i="$key":(K(t.index_ instanceof rk,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=yt(i),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=yt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+yt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=yt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+yt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==Je&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends IT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=yl("p:rest:"),this.listens_={}}listen(e,i,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=yc.getListenId_(e,r),h={};this.listens_[c]=h;const d=yE(e._queryParams);this.restRequest_(u+".json",d,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(u,y,!1,r),Xr(this.listens_,c)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,i){const r=yc.getListenId_(e,i);delete this.listens_[r]}get(e){const i=yE(e._queryParams),r=e._path.toString(),o=new kc;return this.restRequest_(r+".json",i,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+oa(i);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=qo(h.responseText)}catch{jt("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&jt("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(){return{value:null,children:new Map}}function GT(t,e,i){if(Ee(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const r=ge(e);t.children.has(r)||t.children.set(r,vc());const o=t.children.get(r);e=Be(e),GT(o,e,i)}}function um(t,e,i){t.value!==null?i(e,t.value):hk(t,(r,o)=>{const u=new Pe(e.toString()+"/"+r);um(o,u,i)})}function hk(t,e){t.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Ft(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=10*1e3,mk=30*1e3,pk=5*60*1e3;class gk{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new dk(e);const r=_E+(mk-_E)*Math.random();ko(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Ft(e,(o,u)=>{u>0&&bi(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),ko(this.reportStats_.bind(this),Math.floor(Math.random()*2*pk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(An||(An={}));function YT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _p(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ep(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=An.ACK_USER_WRITE,this.source=YT()}operationForChild(e){if(Ee(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Pe(e));return new _c(xe(),i,this.revert)}}else return K(ge(this.path)===e,"operationForChild called for unrelated child."),new _c(Be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.source=e,this.path=i,this.type=An.LISTEN_COMPLETE}operationForChild(e){return Ee(this.path)?new Zo(this.source,xe()):new Zo(this.source,Be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=An.OVERWRITE}operationForChild(e){return Ee(this.path)?new Ys(this.source,xe(),this.snap.getImmediateChild(e)):new Ys(this.source,Be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=An.MERGE}operationForChild(e){if(Ee(this.path)){const i=this.children.subtree(new Pe(e));return i.isEmpty()?null:i.value?new Ys(this.source,xe(),i.value):new Jo(this.source,xe(),i)}else return K(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jo(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;const i=ge(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vk(t,e,i,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(lk(c.childName,c.snapshotNode))}),To(t,o,"child_removed",e,r,i),To(t,o,"child_added",e,r,i),To(t,o,"child_moved",u,r,i),To(t,o,"child_changed",e,r,i),To(t,o,"value",e,r,i),o}function To(t,e,i,r,o,u){const c=r.filter(h=>h.type===i);c.sort((h,d)=>Ek(t,h,d)),c.forEach(h=>{const d=_k(t,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function _k(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ek(t,e,i){if(e.childName==null||i.childName==null)throw aa("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),o=new ye(i.childName,i.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t,e){return{eventCache:t,serverCache:e}}function Lo(t,e,i,r){return zc(new Ks(e,i,r),t.serverCache)}function KT(t,e,i,r){return zc(t.eventCache,new Ks(e,i,r))}function cm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ws(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;const bk=()=>(Md||(Md=new zt(aI)),Md);class je{static fromObject(e){let i=new je(null);return Ft(e,(r,o)=>{i=i.set(new Pe(r),o)}),i}constructor(e,i=bk()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:xe(),value:this.value};if(Ee(e))return null;{const r=ge(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Be(e),i);return u!=null?{path:ut(new Pe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ee(e))return this;{const i=ge(e),r=this.children.get(i);return r!==null?r.subtree(Be(e)):new je(null)}}set(e,i){if(Ee(e))return new je(i,this.children);{const r=ge(e),u=(this.children.get(r)||new je(null)).set(Be(e),i),c=this.children.insert(r,u);return new je(this.value,c)}}remove(e){if(Ee(e))return this.children.isEmpty()?new je(null):new je(null,this.children);{const i=ge(e),r=this.children.get(i);if(r){const o=r.remove(Be(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new je(null):new je(this.value,u)}else return this}}get(e){if(Ee(e))return this.value;{const i=ge(e),r=this.children.get(i);return r?r.get(Be(e)):null}}setTree(e,i){if(Ee(e))return i;{const r=ge(e),u=(this.children.get(r)||new je(null)).setTree(Be(e),i);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new je(this.value,c)}}fold(e){return this.fold_(xe(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(ut(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,xe(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(Ee(e))return null;{const u=ge(e),c=this.children.get(u);return c?c.findOnPath_(Be(e),ut(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,xe(),i)}foreachOnPath_(e,i,r){if(Ee(e))return this;{this.value&&r(i,this.value);const o=ge(e),u=this.children.get(o);return u?u.foreachOnPath_(Be(e),ut(i,o),r):new je(null)}}foreach(e){this.foreach_(xe(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(ut(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.writeTree_=e}static empty(){return new xn(new je(null))}}function Po(t,e,i){if(Ee(e))return new xn(new je(i));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Bt(o,e);return u=u.updateChild(c,i),new xn(t.writeTree_.set(o,u))}else{const o=new je(i),u=t.writeTree_.setTree(e,o);return new xn(u)}}}function EE(t,e,i){let r=t;return Ft(i,(o,u)=>{r=Po(r,ut(e,o),u)}),r}function bE(t,e){if(Ee(e))return xn.empty();{const i=t.writeTree_.setTree(e,new je(null));return new xn(i)}}function fm(t,e){return Xs(t,e)!=null}function Xs(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(Bt(i.path,e)):null}function SE(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Je,(r,o)=>{e.push(new ye(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ye(r,o.value))}),e}function Ji(t,e){if(Ee(e))return t;{const i=Xs(t,e);return i!=null?new xn(new je(i)):new xn(t.writeTree_.subtree(e))}}function hm(t){return t.writeTree_.isEmpty()}function Jr(t,e){return WT(xe(),t.writeTree_,e)}function WT(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(K(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=WT(ut(t,o),u,i)}),!i.getChild(t).isEmpty()&&r!==null&&(i=i.updateChild(ut(t,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e){return ZT(e,t)}function Sk(t,e,i,r,o){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(t.visibleWrites=Po(t.visibleWrites,e,i)),t.lastWriteId=r}function Tk(t,e){for(let i=0;i<t.allWrites.length;i++){const r=t.allWrites[i];if(r.writeId===e)return r}return null}function Ck(t,e){const i=t.allWrites.findIndex(h=>h.writeId===e);K(i>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[i];t.allWrites.splice(i,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=i&&wk(h,r.path)?o=!1:wn(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return Ak(t),!0;if(r.snap)t.visibleWrites=bE(t.visibleWrites,r.path);else{const h=r.children;Ft(h,d=>{t.visibleWrites=bE(t.visibleWrites,ut(r.path,d))})}return!0}else return!1}function wk(t,e){if(t.snap)return wn(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&wn(ut(t.path,i),e))return!0;return!1}function Ak(t){t.visibleWrites=XT(t.allWrites,Rk,xe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Rk(t){return t.visible}function XT(t,e,i){let r=xn.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)wn(i,c)?(h=Bt(i,c),r=Po(r,h,u.snap)):wn(c,i)&&(h=Bt(c,i),r=Po(r,xe(),u.snap.getChild(h)));else if(u.children){if(wn(i,c))h=Bt(i,c),r=EE(r,h,u.children);else if(wn(c,i))if(h=Bt(c,i),Ee(h))r=EE(r,xe(),u.children);else{const d=Xr(u.children,ge(h));if(d){const p=d.getChild(Be(h));r=Po(r,xe(),p)}}}else throw aa("WriteRecord should have .snap or .children")}}return r}function $T(t,e,i,r,o){if(!r&&!o){const u=Xs(t.visibleWrites,e);if(u!=null)return u;{const c=Ji(t.visibleWrites,e);if(hm(c))return i;if(i==null&&!fm(c,xe()))return null;{const h=i||ue.EMPTY_NODE;return Jr(c,h)}}}else{const u=Ji(t.visibleWrites,e);if(!o&&hm(u))return i;if(!o&&i==null&&!fm(u,xe()))return null;{const c=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(wn(p.path,e)||wn(e,p.path))},h=XT(t.allWrites,c,e),d=i||ue.EMPTY_NODE;return Jr(h,d)}}}function xk(t,e,i){let r=ue.EMPTY_NODE;const o=Xs(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Je,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(i){const u=Ji(t.visibleWrites,e);return i.forEachChild(Je,(c,h)=>{const d=Jr(Ji(u,new Pe(c)),h);r=r.updateImmediateChild(c,d)}),SE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=Ji(t.visibleWrites,e);return SE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Nk(t,e,i,r,o){K(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=ut(e,i);if(fm(t.visibleWrites,u))return null;{const c=Ji(t.visibleWrites,u);return hm(c)?o.getChild(i):Jr(c,o.getChild(i))}}function Dk(t,e,i,r){const o=ut(e,i),u=Xs(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const c=Ji(t.visibleWrites,o);return Jr(c,r.getNode().getImmediateChild(i))}else return null}function Mk(t,e){return Xs(t.visibleWrites,e)}function Ok(t,e,i,r,o,u,c){let h;const d=Ji(t.visibleWrites,e),p=Xs(d,xe());if(p!=null)h=p;else if(i!=null)h=Jr(d,i);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let b=_.getNext();for(;b&&g.length<o;)y(b,r)!==0&&g.push(b),b=_.getNext();return g}else return[]}function Ik(){return{visibleWrites:xn.empty(),allWrites:[],lastWriteId:-1}}function Ec(t,e,i,r){return $T(t.writeTree,t.treePath,e,i,r)}function Sp(t,e){return xk(t.writeTree,t.treePath,e)}function TE(t,e,i,r){return Nk(t.writeTree,t.treePath,e,i,r)}function bc(t,e){return Mk(t.writeTree,ut(t.treePath,e))}function kk(t,e,i,r,o,u){return Ok(t.writeTree,t.treePath,e,i,r,o,u)}function Tp(t,e,i){return Dk(t.writeTree,t.treePath,e,i)}function QT(t,e){return ZT(ut(t.treePath,e),t.writeTree)}function ZT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;K(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,$o(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Xo(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,Zr(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,$o(r,e.snapshotNode,o.oldSnap));else throw aa("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const JT=new Pk;class Cp{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tp(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ws(this.viewCache_),u=kk(this.writes_,o,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return{filter:t}}function Vk(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Bk(t,e,i,r,o){const u=new Lk;let c,h;if(i.type===An.OVERWRITE){const p=i;p.source.fromUser?c=dm(t,e,p.path,p.snap,r,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Ee(p.path),c=Sc(t,e,p.path,p.snap,r,o,h,u))}else if(i.type===An.MERGE){const p=i;p.source.fromUser?c=Hk(t,e,p.path,p.children,r,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=mm(t,e,p.path,p.children,r,o,h,u))}else if(i.type===An.ACK_USER_WRITE){const p=i;p.revert?c=qk(t,e,p.path,r,o,u):c=jk(t,e,p.path,p.affectedTree,r,o,u)}else if(i.type===An.LISTEN_COMPLETE)c=Fk(t,e,i.path,r,u);else throw aa("Unknown operation type: "+i.type);const d=u.getChanges();return zk(e,c,d),{viewCache:c,changes:d}}function zk(t,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=cm(t);(i.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(qT(cm(e)))}}function eC(t,e,i,r,o,u){const c=e.eventCache;if(bc(r,i)!=null)return e;{let h,d;if(Ee(i))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Ws(e),g=p instanceof ue?p:ue.EMPTY_NODE,y=Sp(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const p=Ec(r,Ws(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=ge(i);if(p===".priority"){K(es(i)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=TE(r,i,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=Be(i);let y;if(c.isCompleteForChild(p)){d=e.serverCache.getNode();const _=TE(r,i,c.getNode(),d);_!=null?y=c.getNode().getImmediateChild(p).updateChild(g,_):y=c.getNode().getImmediateChild(p)}else y=Tp(r,p,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),p,y,g,o,u):h=c.getNode()}}return Lo(e,h,c.isFullyInitialized()||Ee(i),t.filter.filtersNodes())}}function Sc(t,e,i,r,o,u,c,h){const d=e.serverCache;let p;const g=c?t.filter:t.filter.getIndexedFilter();if(Ee(i))p=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(i,r);p=g.updateFullNode(d.getNode(),b,null)}else{const b=ge(i);if(!d.isCompleteForPath(i)&&es(i)>1)return e;const S=Be(i),D=d.getNode().getImmediateChild(b).updateChild(S,r);b===".priority"?p=g.updatePriority(d.getNode(),D):p=g.updateChild(d.getNode(),b,D,S,JT,null)}const y=KT(e,p,d.isFullyInitialized()||Ee(i),g.filtersNodes()),_=new Cp(o,y,u);return eC(t,y,i,o,_,h)}function dm(t,e,i,r,o,u,c){const h=e.eventCache;let d,p;const g=new Cp(o,e,u);if(Ee(i))p=t.filter.updateFullNode(e.eventCache.getNode(),r,c),d=Lo(e,p,!0,t.filter.filtersNodes());else{const y=ge(i);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),d=Lo(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=Be(i),b=h.getNode().getImmediateChild(y);let S;if(Ee(_))S=r;else{const N=g.getCompleteChild(y);N!=null?LT(_)===".priority"&&N.getChild(UT(_)).isEmpty()?S=N:S=N.updateChild(_,r):S=ue.EMPTY_NODE}if(b.equals(S))d=e;else{const N=t.filter.updateChild(h.getNode(),y,S,_,g,c);d=Lo(e,N,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function CE(t,e){return t.eventCache.isCompleteForChild(e)}function Hk(t,e,i,r,o,u,c){let h=e;return r.foreach((d,p)=>{const g=ut(i,d);CE(e,ge(g))&&(h=dm(t,h,g,p,o,u,c))}),r.foreach((d,p)=>{const g=ut(i,d);CE(e,ge(g))||(h=dm(t,h,g,p,o,u,c))}),h}function wE(t,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function mm(t,e,i,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;Ee(i)?p=r:p=new je(null).setTree(i,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),S=wE(t,b,_);d=Sc(t,d,new Pe(y),S,o,u,c,h)}}),p.children.inorderTraversal((y,_)=>{const b=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!b){const S=e.serverCache.getNode().getImmediateChild(y),N=wE(t,S,_);d=Sc(t,d,new Pe(y),N,o,u,c,h)}}),d}function jk(t,e,i,r,o,u,c){if(bc(o,i)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(Ee(i)&&d.isFullyInitialized()||d.isCompleteForPath(i))return Sc(t,e,i,d.getNode().getChild(i),o,u,h,c);if(Ee(i)){let p=new je(null);return d.getNode().forEachChild(Kr,(g,y)=>{p=p.set(new Pe(g),y)}),mm(t,e,i,p,o,u,h,c)}else return e}else{let p=new je(null);return r.foreach((g,y)=>{const _=ut(i,g);d.isCompleteForPath(_)&&(p=p.set(g,d.getNode().getChild(_)))}),mm(t,e,i,p,o,u,h,c)}}function Fk(t,e,i,r,o){const u=e.serverCache,c=KT(e,u.getNode(),u.isFullyInitialized()||Ee(i),u.isFiltered());return eC(t,c,i,r,JT,o)}function qk(t,e,i,r,o,u){let c;if(bc(r,i)!=null)return e;{const h=new Cp(r,e,o),d=e.eventCache.getNode();let p;if(Ee(i)||ge(i)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Ec(r,Ws(e));else{const y=e.serverCache.getNode();K(y instanceof ue,"serverChildren would be complete if leaf node"),g=Sp(r,y)}g=g,p=t.filter.updateFullNode(d,g,u)}else{const g=ge(i);let y=Tp(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?p=t.filter.updateChild(d,g,y,Be(i),h,u):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,ue.EMPTY_NODE,Be(i),h,u):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Ec(r,Ws(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,u)))}return c=e.serverCache.isFullyInitialized()||bc(r,xe())!=null,Lo(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new yp(r.getIndex()),u=ck(r);this.processor_=Uk(u);const c=i.serverCache,h=i.eventCache,d=o.updateFullNode(ue.EMPTY_NODE,c.getNode(),null),p=u.updateFullNode(ue.EMPTY_NODE,h.getNode(),null),g=new Ks(d,c.isFullyInitialized(),o.filtersNodes()),y=new Ks(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=zc(y,g),this.eventGenerator_=new yk(this.query_)}get query(){return this.query_}}function Yk(t){return t.viewCache_.serverCache.getNode()}function Kk(t,e){const i=Ws(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!Ee(e)&&!i.getImmediateChild(ge(e)).isEmpty())?i.getChild(e):null}function AE(t){return t.eventRegistrations_.length===0}function Wk(t,e){t.eventRegistrations_.push(e)}function RE(t,e,i){const r=[];if(i){K(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(i,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function xE(t,e,i,r){e.type===An.MERGE&&e.source.queryId!==null&&(K(Ws(t.viewCache_),"We should always have a full cache before handling merges"),K(cm(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=Bk(t.processor_,o,e,i,r);return Vk(t.processor_,u.viewCache),K(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,tC(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Xk(t,e){const i=t.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Je,(u,c)=>{r.push(Zr(u,c))}),i.isFullyInitialized()&&r.push(qT(i.getNode())),tC(t,r,i.getNode(),e)}function tC(t,e,i,r){const o=r?[r]:t.eventRegistrations_;return vk(t.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;class $k{constructor(){this.views=new Map}}function Qk(t){K(!Tc,"__referenceConstructor has already been defined"),Tc=t}function Zk(){return K(Tc,"Reference.ts has not been loaded"),Tc}function Jk(t){return t.views.size===0}function wp(t,e,i,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return K(u!=null,"SyncTree gave us an op for an invalid query."),xE(u,e,i,r)}else{let u=[];for(const c of t.views.values())u=u.concat(xE(c,e,i,r));return u}}function eL(t,e,i,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=Ec(i,o?r:null),d=!1;h?d=!0:r instanceof ue?(h=Sp(i,r),d=!1):(h=ue.EMPTY_NODE,d=!1);const p=zc(new Ks(h,d,!1),new Ks(r,o,!1));return new Gk(e,p)}return c}function tL(t,e,i,r,o,u){const c=eL(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),Wk(c,i),Xk(c,i)}function nL(t,e,i,r){const o=e._queryIdentifier,u=[];let c=[];const h=ts(t);if(o==="default")for(const[d,p]of t.views.entries())c=c.concat(RE(p,i,r)),AE(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||u.push(p.query));else{const d=t.views.get(o);d&&(c=c.concat(RE(d,i,r)),AE(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||u.push(d.query)))}return h&&!ts(t)&&u.push(new(Zk())(e._repo,e._path)),{removed:u,events:c}}function nC(t){const e=[];for(const i of t.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Wr(t,e){let i=null;for(const r of t.views.values())i=i||Kk(r,e);return i}function iC(t,e){if(e._queryParams.loadsAllData())return Hc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function sC(t,e){return iC(t,e)!=null}function ts(t){return Hc(t)!=null}function Hc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;function iL(t){K(!Cc,"__referenceConstructor has already been defined"),Cc=t}function sL(){return K(Cc,"Reference.ts has not been loaded"),Cc}let rL=1;class NE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new je(null),this.pendingWriteTree_=Ik(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rC(t,e,i,r,o){return Sk(t.pendingWriteTree_,e,i,r,o),o?_l(t,new Ys(YT(),e,i)):[]}function Ps(t,e,i=!1){const r=Tk(t.pendingWriteTree_,e);if(Ck(t.pendingWriteTree_,e)){let u=new je(null);return r.snap!=null?u=u.set(xe(),!0):Ft(r.children,c=>{u=u.set(new Pe(c),!0)}),_l(t,new _c(r.path,u,i))}else return[]}function jc(t,e,i){return _l(t,new Ys(_p(),e,i))}function aL(t,e,i){const r=je.fromObject(i);return _l(t,new Jo(_p(),e,r))}function oL(t,e){return _l(t,new Zo(_p(),e))}function lL(t,e,i){const r=Rp(t,i);if(r){const o=xp(r),u=o.path,c=o.queryId,h=Bt(u,e),d=new Zo(Ep(c),h);return Np(t,u,d)}else return[]}function pm(t,e,i,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||sC(c,e))){const d=nL(c,e,i,r);Jk(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const p=d.removed;if(h=d.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,b)=>ts(b));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const b=fL(_);for(let S=0;S<b.length;++S){const N=b[S],D=N.query,x=lC(t,N);t.listenProvider_.startListening(Uo(D),wc(t,D),x.hashFn,x.onComplete)}}}!y&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(Uo(e),null):p.forEach(_=>{const b=t.queryToTagMap.get(Fc(_));t.listenProvider_.stopListening(Uo(_),b)}))}hL(t,p)}return h}function uL(t,e,i,r){const o=Rp(t,r);if(o!=null){const u=xp(o),c=u.path,h=u.queryId,d=Bt(c,e),p=new Ys(Ep(h),d,i);return Np(t,c,p)}else return[]}function cL(t,e,i,r){const o=Rp(t,r);if(o){const u=xp(o),c=u.path,h=u.queryId,d=Bt(c,e),p=je.fromObject(i),g=new Jo(Ep(h),d,p);return Np(t,c,g)}else return[]}function DE(t,e,i,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(_,b)=>{const S=Bt(_,o);u=u||Wr(b,S),c=c||ts(b)});let h=t.syncPointTree_.get(o);h?(c=c||ts(h),u=u||Wr(h,xe())):(h=new $k,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;u!=null?d=!0:(d=!1,u=ue.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,S)=>{const N=Wr(S,xe());N&&(u=u.updateImmediateChild(b,N))}));const p=sC(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=Fc(e);K(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=dL();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}const g=bp(t.pendingWriteTree_,o);let y=tL(h,e,i,g,u,d);if(!p&&!c&&!r){const _=iC(h,e);y=y.concat(mL(t,e,_))}return y}function Ap(t,e,i){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=Bt(c,e),p=Wr(h,d);if(p)return p});return $T(o,e,u,i,!0)}function _l(t,e){return aC(e,t.syncPointTree_,null,bp(t.pendingWriteTree_,xe()))}function aC(t,e,i,r){if(Ee(t.path))return oC(t,e,i,r);{const o=e.get(xe());i==null&&o!=null&&(i=Wr(o,xe()));let u=[];const c=ge(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const p=i?i.getImmediateChild(c):null,g=QT(r,c);u=u.concat(aC(h,d,p,g))}return o&&(u=u.concat(wp(o,t,r,i))),u}}function oC(t,e,i,r){const o=e.get(xe());i==null&&o!=null&&(i=Wr(o,xe()));let u=[];return e.children.inorderTraversal((c,h)=>{const d=i?i.getImmediateChild(c):null,p=QT(r,c),g=t.operationForChild(c);g&&(u=u.concat(oC(g,h,d,p)))}),o&&(u=u.concat(wp(o,t,r,i))),u}function lC(t,e){const i=e.query,r=wc(t,i);return{hashFn:()=>(Yk(e)||ue.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?lL(t,i._path,r):oL(t,i._path);{const u=uI(o,i);return pm(t,i,null,u)}}}}function wc(t,e){const i=Fc(e);return t.queryToTagMap.get(i)}function Fc(t){return t._path.toString()+"$"+t._queryIdentifier}function Rp(t,e){return t.tagToQueryMap.get(e)}function xp(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pe(t.substr(0,e))}}function Np(t,e,i){const r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");const o=bp(t.pendingWriteTree_,e);return wp(r,i,o,null)}function fL(t){return t.fold((e,i,r)=>{if(i&&ts(i))return[Hc(i)];{let o=[];return i&&(o=nC(i)),Ft(r,(u,c)=>{o=o.concat(c)}),o}})}function Uo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(sL())(t._repo,t._path):t}function hL(t,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=Fc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function dL(){return rL++}function mL(t,e,i){const r=e._path,o=wc(t,e),u=lC(t,i),c=t.listenProvider_.startListening(Uo(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)K(!ts(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((p,g,y)=>{if(!Ee(p)&&g&&ts(g))return[Hc(g).query];{let _=[];return g&&(_=_.concat(nC(g).map(b=>b.query))),Ft(y,(b,S)=>{_=_.concat(S)}),_}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(Uo(g),wc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Dp(i)}node(){return this.node_}}class Mp{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ut(this.path_,e);return new Mp(this.syncTree_,i)}node(){return Ap(this.syncTree_,this.path_)}}const pL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ME=function(t,e,i){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gL(t[".sv"],e,i);if(typeof t[".sv"]=="object")return yL(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gL=function(t,e,i){switch(t){case"timestamp":return i.timestamp;default:K(!1,"Unexpected server value: "+t)}},yL=function(t,e,i){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const o=e.node();if(K(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},vL=function(t,e,i,r){return Op(e,new Mp(i,t),r)},uC=function(t,e,i){return Op(t,new Dp(e),i)};function Op(t,e,i){const r=t.getPriority().val(),o=ME(r,e.getImmediateChild(".priority"),i);let u;if(t.isLeafNode()){const c=t,h=ME(c.getValue(),e,i);return h!==c.getValue()||o!==c.getPriority().val()?new pt(h,St(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new pt(o))),c.forEachChild(Je,(h,d)=>{const p=Op(d,e.getImmediateChild(h),i);p!==d&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function kp(t,e){let i=e instanceof Pe?e:new Pe(e),r=t,o=ge(i);for(;o!==null;){const u=Xr(r.node.children,o)||{children:{},childCount:0};r=new Ip(o,r,u),i=Be(i),o=ge(i)}return r}function ha(t){return t.node.value}function cC(t,e){t.node.value=e,gm(t)}function fC(t){return t.node.childCount>0}function _L(t){return ha(t)===void 0&&!fC(t)}function qc(t,e){Ft(t.node.children,(i,r)=>{e(new Ip(i,t,r))})}function hC(t,e,i,r){i&&e(t),qc(t,o=>{hC(o,e,!0)})}function EL(t,e,i){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function El(t){return new Pe(t.parent===null?t.name:El(t.parent)+"/"+t.name)}function gm(t){t.parent!==null&&bL(t.parent,t.name,t)}function bL(t,e,i){const r=_L(i),o=bi(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,gm(t)):!r&&!o&&(t.node.children[e]=i.node,t.node.childCount++,gm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/[\[\].#$\/\u0000-\u001F\u007F]/,TL=/[\[\].#$\u0000-\u001F\u007F]/,Od=10*1024*1024,dC=function(t){return typeof t=="string"&&t.length!==0&&!SL.test(t)},mC=function(t){return typeof t=="string"&&t.length!==0&&!TL.test(t)},CL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mC(t)},pC=function(t,e,i,r){r&&e===void 0||Lp(Xm(t,"value"),e,i)},Lp=function(t,e,i){const r=i instanceof Pe?new jI(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+Ms(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ms(r)+" with contents = "+e.toString());if(mT(e))throw new Error(t+"contains "+e.toString()+" "+Ms(r));if(typeof e=="string"&&e.length>Od/3&&Lc(e)>Od)throw new Error(t+"contains a string greater than "+Od+" utf8 bytes "+Ms(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Ft(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!dC(c)))throw new Error(t+" contains an invalid key ("+c+") "+Ms(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FI(r,c),Lp(t,h,r),qI(r)}),o&&u)throw new Error(t+' contains ".value" child '+Ms(r)+" in addition to actual children.")}},gC=function(t,e,i,r){if(!mC(i))throw new Error(Xm(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wL=function(t,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),gC(t,e,i)},yC=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},AL=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!CL(i))throw new Error(Xm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pp(t,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();i!==null&&!mp(u,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&t.eventLists_.push(i)}function vC(t,e,i){Pp(t,i),_C(t,r=>mp(r,e))}function vi(t,e,i){Pp(t,i),_C(t,r=>wn(r,e)||wn(e,r))}function _C(t,e){t.recursionDepth_++;let i=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(xL(t.eventLists_[r]),t.eventLists_[r]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function xL(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const r=i.getEventRunner();Io&&Rt("event: "+i.toString()),fa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="repo_interrupt",DL=25;class ML{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vc(),this.transactionQueueTree_=new Ip,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OL(t,e,i){if(t.stats_=hp(t.repoInfo_),t.forceRestClient_||dI())t.server_=new yc(t.repoInfo_,(r,o,u,c)=>{OE(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>IE(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new hi(t.repoInfo_,e,(r,o,u,c)=>{OE(t,r,o,u,c)},r=>{IE(t,r)},r=>{IL(t,r)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=vI(t.repoInfo_,()=>new gk(t.stats_,t.server_)),t.infoData_=new fk,t.infoSyncTree_=new NE({startListening:(r,o,u,c)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=jc(t.infoSyncTree_,r._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Vp(t,"connected",!1),t.serverSyncTree_=new NE({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,d)=>{const p=c(h,d);vi(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function EC(t){const i=t.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Up(t){return pL({timestamp:EC(t)})}function OE(t,e,i,r,o){t.dataUpdateCount++;const u=new Pe(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let c=[];if(o)if(r){const d=ac(i,p=>St(p));c=cL(t.serverSyncTree_,u,d,o)}else{const d=St(i);c=uL(t.serverSyncTree_,u,d,o)}else if(r){const d=ac(i,p=>St(p));c=aL(t.serverSyncTree_,u,d)}else{const d=St(i);c=jc(t.serverSyncTree_,u,d)}let h=u;c.length>0&&(h=Gc(t,u)),vi(t.eventQueue_,h,c)}function IE(t,e){Vp(t,"connected",e),e===!1&&LL(t)}function IL(t,e){Ft(e,(i,r)=>{Vp(t,i,r)})}function Vp(t,e,i){const r=new Pe("/.info/"+e),o=St(i);t.infoData_.updateSnapshot(r,o);const u=jc(t.infoSyncTree_,r,o);vi(t.eventQueue_,r,u)}function bC(t){return t.nextWriteId_++}function kL(t,e,i,r,o){Bp(t,"set",{path:e.toString(),value:i,priority:r});const u=Up(t),c=St(i,r),h=Ap(t.serverSyncTree_,e),d=uC(c,h,u),p=bC(t),g=rC(t.serverSyncTree_,e,d,p,!0);Pp(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,b)=>{const S=_==="ok";S||jt("set at "+e+" failed: "+_);const N=Ps(t.serverSyncTree_,p,!S);vi(t.eventQueue_,e,N),VL(t,o,_,b)});const y=AC(t,e);Gc(t,y),vi(t.eventQueue_,y,[])}function LL(t){Bp(t,"onDisconnectEvents");const e=Up(t),i=vc();um(t.onDisconnect_,xe(),(o,u)=>{const c=vL(o,u,t.serverSyncTree_,e);GT(i,o,c)});let r=[];um(i,xe(),(o,u)=>{r=r.concat(jc(t.serverSyncTree_,o,u));const c=AC(t,o);Gc(t,c)}),t.onDisconnect_=vc(),vi(t.eventQueue_,xe(),r)}function PL(t,e,i){let r;ge(e._path)===".info"?r=DE(t.infoSyncTree_,e,i):r=DE(t.serverSyncTree_,e,i),vC(t.eventQueue_,e._path,r)}function kE(t,e,i){let r;ge(e._path)===".info"?r=pm(t.infoSyncTree_,e,i):r=pm(t.serverSyncTree_,e,i),vC(t.eventQueue_,e._path,r)}function UL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(NL)}function Bp(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),Rt(i,...e)}function VL(t,e,i,r){e&&fa(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function SC(t,e,i){return Ap(t.serverSyncTree_,e,i)||ue.EMPTY_NODE}function zp(t,e=t.transactionQueueTree_){if(e||Yc(t,e),ha(e)){const i=CC(t,e);K(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&BL(t,El(e),i)}else fC(e)&&qc(e,i=>{zp(t,i)})}function BL(t,e,i){const r=i.map(p=>p.currentWriteId),o=SC(t,e,r);let u=o;const c=o.hash();for(let p=0;p<i.length;p++){const g=i[p];K(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Bt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),d=e;t.server_.put(d.toString(),h,p=>{Bp(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let _=0;_<i.length;_++)i[_].status=2,g=g.concat(Ps(t.serverSyncTree_,i[_].currentWriteId)),i[_].onComplete&&y.push(()=>i[_].onComplete(null,!0,i[_].currentOutputSnapshotResolved)),i[_].unwatcher();Yc(t,kp(t.transactionQueueTree_,e)),zp(t,t.transactionQueueTree_),vi(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)fa(y[_])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{jt("transaction at "+d.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}Gc(t,e)}},c)}function Gc(t,e){const i=TC(t,e),r=El(i),o=CC(t,i);return zL(t,o,r),r}function zL(t,e,i){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=Bt(i,d.path);let g=!1,y;if(K(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,o=o.concat(Ps(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=DL)g=!0,y="maxretry",o=o.concat(Ps(t.serverSyncTree_,d.currentWriteId,!0));else{const _=SC(t,d.path,c);d.currentInputSnapshot=_;const b=e[h].update(_.val());if(b!==void 0){Lp("transaction failed: Data returned ",b,d.path);let S=St(b);typeof b=="object"&&b!=null&&bi(b,".priority")||(S=S.updatePriority(_.getPriority()));const D=d.currentWriteId,x=Up(t),z=uC(S,_,x);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=z,d.currentWriteId=bC(t),c.splice(c.indexOf(D),1),o=o.concat(rC(t.serverSyncTree_,d.path,z,d.currentWriteId,d.applyLocally)),o=o.concat(Ps(t.serverSyncTree_,D,!0))}else g=!0,y="nodata",o=o.concat(Ps(t.serverSyncTree_,d.currentWriteId,!0))}vi(t.eventQueue_,i,o),o=[],g&&(e[h].status=2,function(_){setTimeout(_,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Yc(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)fa(r[h]);zp(t,t.transactionQueueTree_)}function TC(t,e){let i,r=t.transactionQueueTree_;for(i=ge(e);i!==null&&ha(r)===void 0;)r=kp(r,i),e=Be(e),i=ge(e);return r}function CC(t,e){const i=[];return wC(t,e,i),i.sort((r,o)=>r.order-o.order),i}function wC(t,e,i){const r=ha(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);qc(e,o=>{wC(t,o,i)})}function Yc(t,e){const i=ha(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,cC(e,i.length>0?i:void 0)}qc(e,r=>{Yc(t,r)})}function AC(t,e){const i=El(TC(t,e)),r=kp(t.transactionQueueTree_,e);return EL(r,o=>{Id(t,o)}),Id(t,r),hC(r,o=>{Id(t,o)}),i}function Id(t,e){const i=ha(e);if(i){const r=[];let o=[],u=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(K(u===c-1,"All SENT items should be at beginning of queue."),u=c,i[c].status=3,i[c].abortReason="set"):(K(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),o=o.concat(Ps(t.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&r.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?cC(e,void 0):i.length=u+1,vi(t.eventQueue_,El(e),o);for(let c=0;c<r.length;c++)fa(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){let e="";const i=t.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function jL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jt(`Invalid query segment '${i}' in query '${t}'`)}return e}const LE=function(t,e){const i=FL(t),r=i.namespace;i.domain==="firebase.com"&&yi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||sI();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new AT(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new Pe(i.pathString)}},FL=function(t){let e="",i="",r="",o="",u="",c=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=HL(t.substring(g,y)));const _=jL(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const b=e.slice(0,p);if(b.toLowerCase()==="localhost")i="localhost";else if(b.split(".").length<=2)i=b;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),i=e.substring(S+1),u=r}"ns"in _&&(u=_.ns)}return{host:e,port:d,domain:i,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qL=function(){let t=0;const e=[];return function(i){const r=i===t;t=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=PE.charAt(i%64),i=Math.floor(i/64);K(i===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=PE.charAt(e[o]);return K(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yt(this.snapshot.exportVal())}}class YL{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return Ee(this._path)?null:LT(this._path)}get ref(){return new us(this._repo,this._path)}get _queryIdentifier(){const e=vE(this._queryParams),i=cp(e);return i==="{}"?"default":i}get _queryObject(){return vE(this._queryParams)}isEqual(e){if(e=qt(e),!(e instanceof Hp))return!1;const i=this._repo===e._repo,r=mp(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+HI(this._path)}}class us extends Hp{constructor(e,i){super(e,i,new vp,!1)}get parent(){const e=UT(this._path);return e===null?null:new us(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ac{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Pe(e),r=el(this.ref,e);return new Ac(this._node.getChild(i),r,Je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Ac(o,el(this.ref,r),Je)))}hasChild(e){const i=new Pe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function He(t,e){return t=qt(t),t._checkNotDeleted("ref"),e!==void 0?el(t._root,e):t._root}function el(t,e){return t=qt(t),ge(t._path)===null?wL("child","path",e):gC("child","path",e),new us(t._repo,ut(t._path,e))}function ju(t,e){t=qt(t),yC("push",t._path),pC("push",e,t._path,!0);const i=EC(t._repo),r=qL(i),o=el(t,r),u=el(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function ri(t,e){t=qt(t),yC("set",t._path),pC("set",e,t._path,!1);const i=new kc;return kL(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}class jp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new GL("value",this,new Ac(e.snapshotNode,new us(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new YL(this,e,i):null}matches(e){return e instanceof jp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function WL(t,e,i,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const d=i,p=(g,y)=>{kE(t._repo,t,h),d(g,y)};p.userCallback=i.userCallback,p.context=i.context,i=p}const c=new KL(i,u||void 0),h=new jp(c);return PL(t._repo,t,h),()=>kE(t._repo,t,h)}function Is(t,e,i,r){return WL(t,"value",e,i,r)}Qk(us);iL(us);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="FIREBASE_DATABASE_EMULATOR_HOST",ym={};let $L=!1;function QL(t,e,i,r){t.repoInfo_=new AT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(t.authTokenProvider_=r)}function ZL(t,e,i,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=LE(u,o),h=c.repoInfo,d;typeof process<"u"&&eE&&(d=eE[XL]),d?(u=`http://${d}?ns=${h.namespace}`,c=LE(u,o),h=c.repoInfo):c.repoInfo.secure;const p=new pI(t.name,t.options,e);AL("Invalid Firebase Database URL",c),Ee(c.path)||yi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=eP(h,t,p,new mI(t,i));return new tP(g,t)}function JL(t,e){const i=ym[e];(!i||i[t.key]!==t)&&yi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),UL(t),delete i[t.key]}function eP(t,e,i,r){let o=ym[e.name];o||(o={},ym[e.name]=o);let u=o[t.toURLString()];return u&&yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new ML(t,$L,i,r),o[t.toURLString()]=u,u}class tP{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new us(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(JL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yi("Cannot call "+e+" on a deleted database.")}}function tn(t=NS(),e){const i=Zm(t,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=uN("database");r&&nP(i,...r)}return i}function nP(t,e,i,r={}){t=qt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Hs(r,u.repoInfo_.emulatorOptions))return;yi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&yi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Ju(Ju.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:cN(r.mockUserToken,t.app.options.projectId);c=new Ju(h)}QL(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){ZO(la),$r(new js("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return ZL(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Zi(tE,nE,t),Zi(tE,nE,"esm2017")}hi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};iP();var sP={apiKey:"AIzaSyBvBMSzqJuOOsSIEhyM-sVI-vinaIu2GC8",authDomain:"midterm-project-ab3aa.firebaseapp.com",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com",projectId:"midterm-project-ab3aa",storageBucket:"midterm-project-ab3aa.firebasestorage.app",messagingSenderId:"13475203739",appId:"1:13475203739:web:f722da780a822b88ff543e",measurementId:"G-LB3317B8W5",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com"};const RC=xS(sP),Bs=WO(RC);tn(RC);var kd={exports:{}},Co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function rP(){if(UE)return Co;UE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var VE;function aP(){return VE||(VE=1,kd.exports=rP()),kd.exports}var di=aP();const Fp=C.createContext({});function qp(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gp=typeof window<"u",xC=Gp?C.useLayoutEffect:C.useEffect,Kc=C.createContext(null),Yp=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class oP extends C.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lP({children:t,isPresent:e,anchorX:i}){const r=C.useId(),o=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(Yp);return C.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:y}=u.current;if(e||!o.current||!h||!d)return;const _=i==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const b=document.createElement("style");return c&&(b.nonce=c),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),di.jsx(oP,{isPresent:e,childRef:o,sizeRef:u,children:C.cloneElement(t,{ref:o})})}const uP=({children:t,initial:e,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h})=>{const d=qp(cP),p=C.useId();let g=!0,y=C.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:i,custom:o,onExitComplete:_=>{d.set(_,!0);for(const b of d.values())if(!b)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[i,d,r]);return u&&g&&(y={...y}),C.useMemo(()=>{d.forEach((_,b)=>d.set(b,!1))},[i]),C.useEffect(()=>{!i&&!d.size&&r&&r()},[i]),c==="popLayout"&&(t=di.jsx(lP,{isPresent:i,anchorX:h,children:t})),di.jsx(Kc.Provider,{value:y,children:t})};function cP(){return new Map}function NC(t=!0){const e=C.useContext(Kc);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,u=C.useId();C.useEffect(()=>{if(t)return o(u)},[t]);const c=C.useCallback(()=>t&&r&&r(u),[u,r,t]);return!i&&r?[!1,c]:[!0]}const Fu=t=>t.key||"";function BE(t){const e=[];return C.Children.forEach(t,i=>{C.isValidElement(i)&&e.push(i)}),e}const fP=({children:t,custom:e,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left"})=>{const[d,p]=NC(c),g=C.useMemo(()=>BE(t),[t]),y=c&&!d?[]:g.map(Fu),_=C.useRef(!0),b=C.useRef(g),S=qp(()=>new Map),[N,D]=C.useState(g),[x,z]=C.useState(g);xC(()=>{_.current=!1,b.current=g;for(let P=0;P<x.length;P++){const X=Fu(x[P]);y.includes(X)?S.delete(X):S.get(X)!==!0&&S.set(X,!1)}},[x,y.length,y.join("-")]);const L=[];if(g!==N){let P=[...g];for(let X=0;X<x.length;X++){const Z=x[X],$=Fu(Z);y.includes($)||(P.splice(X,0,Z),L.push(Z))}return u==="wait"&&L.length&&(P=L),z(BE(P)),D(g),null}const{forceRender:W}=C.useContext(Fp);return di.jsx(di.Fragment,{children:x.map(P=>{const X=Fu(P),Z=c&&!d?!1:g===x||y.includes(X),$=()=>{if(S.has(X))S.set(X,!0);else return;let re=!0;S.forEach(Se=>{Se||(re=!1)}),re&&(W==null||W(),z(b.current),c&&(p==null||p()),r&&r())};return di.jsx(uP,{isPresent:Z,initial:!_.current||i?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:Z?void 0:$,anchorX:h,children:P},X)})})};function Kp(t,e){t.indexOf(e)===-1&&t.push(e)}function Wp(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const _i=(t,e,i)=>i>e?e:i<t?t:i;let Xp=()=>{};const Ei={},DC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),MC=t=>/^0[^.\s]+$/u.test(t);function $p(t){let e;return()=>(e===void 0&&(e=t()),e)}const gn=t=>t,hP=(t,e)=>i=>e(t(i)),bl=(...t)=>t.reduce(hP),tl=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class Qp{constructor(){this.subscriptions=[]}add(e){return Kp(this.subscriptions,e),()=>Wp(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bn=t=>t*1e3,zn=t=>t/1e3;function OC(t,e){return e?t*(1e3/e):0}const IC=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,dP=1e-7,mP=12;function pP(t,e,i,r,o){let u,c,h=0;do c=e+(i-e)/2,u=IC(c,r,o)-t,u>0?i=c:e=c;while(Math.abs(u)>dP&&++h<mP);return c}function Sl(t,e,i,r){if(t===e&&i===r)return gn;const o=u=>pP(u,0,1,t,i);return u=>u===0||u===1?u:IC(o(u),e,r)}const kC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LC=t=>e=>1-t(1-e),PC=Sl(.33,1.53,.69,.99),Zp=LC(PC),UC=kC(Zp),VC=t=>(t*=2)<1?.5*Zp(t):.5*(2-Math.pow(2,-10*(t-1))),Jp=t=>1-Math.sin(Math.acos(t)),BC=LC(Jp),zC=kC(Jp),gP=Sl(.42,0,1,1),yP=Sl(0,0,.58,1),HC=Sl(.42,0,.58,1),vP=t=>Array.isArray(t)&&typeof t[0]!="number",jC=t=>Array.isArray(t)&&typeof t[0]=="number",_P={linear:gn,easeIn:gP,easeInOut:HC,easeOut:yP,circIn:Jp,circInOut:zC,circOut:BC,backIn:Zp,backInOut:UC,backOut:PC,anticipate:VC},EP=t=>typeof t=="string",zE=t=>{if(jC(t)){Xp(t.length===4);const[e,i,r,o]=t;return Sl(e,i,r,o)}else if(EP(t))return _P[t];return t},qu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],HE={value:null};function bP(t,e){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(y){c.has(y)&&(g.schedule(y),t()),d++,y(h)}const g={schedule:(y,_=!1,b=!1)=>{const N=b&&o?i:r;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),e&&HE.value&&HE.value.frameloop[e].push(d),d=0,i.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const SP=40;function FC(t,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=qu.reduce((L,W)=>(L[W]=bP(u,e?W:void 0),L),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:b,postRender:S}=c,N=()=>{const L=Ei.useManualTiming?o.timestamp:performance.now();i=!1,Ei.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(L-o.timestamp,SP),1)),o.timestamp=L,o.isProcessing=!0,h.process(o),d.process(o),p.process(o),g.process(o),y.process(o),_.process(o),b.process(o),S.process(o),o.isProcessing=!1,i&&e&&(r=!1,t(N))},D=()=>{i=!0,r=!0,o.isProcessing||t(N)};return{schedule:qu.reduce((L,W)=>{const P=c[W];return L[W]=(X,Z=!1,$=!1)=>(i||D(),P.schedule(X,Z,$)),L},{}),cancel:L=>{for(let W=0;W<qu.length;W++)c[qu[W]].cancel(L)},state:o,steps:c}}const{schedule:Xe,cancel:ns,state:bt,steps:Ld}=FC(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0);let ec;function TP(){ec=void 0}const Ht={now:()=>(ec===void 0&&Ht.set(bt.isProcessing||Ei.useManualTiming?bt.timestamp:performance.now()),ec),set:t=>{ec=t,queueMicrotask(TP)}},qC=t=>e=>typeof e=="string"&&e.startsWith(t),eg=qC("--"),CP=qC("var(--"),tg=t=>CP(t)?wP.test(t.split("/*")[0].trim()):!1,wP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,da={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nl={...da,transform:t=>_i(0,1,t)},Gu={...da,default:1},Vo=t=>Math.round(t*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AP(t){return t==null}const RP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ig=(t,e)=>i=>!!(typeof i=="string"&&RP.test(i)&&i.startsWith(t)||e&&!AP(i)&&Object.prototype.hasOwnProperty.call(i,e)),GC=(t,e,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(ng);return{[t]:parseFloat(o),[e]:parseFloat(u),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},xP=t=>_i(0,255,t),Pd={...da,transform:t=>Math.round(xP(t))},Us={test:ig("rgb","red"),parse:GC("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+Pd.transform(t)+", "+Pd.transform(e)+", "+Pd.transform(i)+", "+Vo(nl.transform(r))+")"};function NP(t){let e="",i="",r="",o="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const vm={test:ig("#"),parse:NP,transform:Us.transform},Tl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yi=Tl("deg"),Hn=Tl("%"),le=Tl("px"),DP=Tl("vh"),MP=Tl("vw"),jE={...Hn,parse:t=>Hn.parse(t)/100,transform:t=>Hn.transform(t*100)},Vr={test:ig("hsl","hue"),parse:GC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hn.transform(Vo(e))+", "+Hn.transform(Vo(i))+", "+Vo(nl.transform(r))+")"},At={test:t=>Us.test(t)||vm.test(t)||Vr.test(t),parse:t=>Us.test(t)?Us.parse(t):Vr.test(t)?Vr.parse(t):vm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Us.transform(t):Vr.transform(t)},OP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IP(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ng))==null?void 0:e.length)||0)+(((i=t.match(OP))==null?void 0:i.length)||0)>0}const YC="number",KC="color",kP="var",LP="var(",FE="${}",PP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function il(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(PP,d=>(At.test(d)?(r.color.push(u),o.push(KC),i.push(At.parse(d))):d.startsWith(LP)?(r.var.push(u),o.push(kP),i.push(d)):(r.number.push(u),o.push(YC),i.push(parseFloat(d))),++u,FE)).split(FE);return{values:i,split:h,indexes:r,types:o}}function WC(t){return il(t).values}function XC(t){const{split:e,types:i}=il(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=i[c];h===YC?u+=Vo(o[c]):h===KC?u+=At.transform(o[c]):u+=o[c]}return u}}const UP=t=>typeof t=="number"?0:t;function VP(t){const e=WC(t);return XC(t)(e.map(UP))}const is={test:IP,parse:WC,createTransformer:XC,getAnimatableNone:VP};function Ud(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function BP({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let o=0,u=0,c=0;if(!e)o=u=c=i;else{const h=i<.5?i*(1+e):i+e-i*e,d=2*i-h;o=Ud(d,h,t+1/3),u=Ud(d,h,t),c=Ud(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Rc(t,e){return i=>i>0?e:t}const We=(t,e,i)=>t+(e-t)*i,Vd=(t,e,i)=>{const r=t*t,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},zP=[vm,Us,Vr],HP=t=>zP.find(e=>e.test(t));function qE(t){const e=HP(t);if(!e)return!1;let i=e.parse(t);return e===Vr&&(i=BP(i)),i}const GE=(t,e)=>{const i=qE(t),r=qE(e);if(!i||!r)return Rc(t,e);const o={...i};return u=>(o.red=Vd(i.red,r.red,u),o.green=Vd(i.green,r.green,u),o.blue=Vd(i.blue,r.blue,u),o.alpha=We(i.alpha,r.alpha,u),Us.transform(o))},_m=new Set(["none","hidden"]);function jP(t,e){return _m.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function FP(t,e){return i=>We(t,e,i)}function sg(t){return typeof t=="number"?FP:typeof t=="string"?tg(t)?Rc:At.test(t)?GE:YP:Array.isArray(t)?$C:typeof t=="object"?At.test(t)?GE:qP:Rc}function $C(t,e){const i=[...t],r=i.length,o=t.map((u,c)=>sg(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function qP(t,e){const i={...t,...e},r={};for(const o in i)t[o]!==void 0&&e[o]!==void 0&&(r[o]=sg(t[o])(t[o],e[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function GP(t,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;i[o]=h,r[u]++}return i}const YP=(t,e)=>{const i=is.createTransformer(e),r=il(t),o=il(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?_m.has(t)&&!o.values.length||_m.has(e)&&!r.values.length?jP(t,e):bl($C(GP(r,o),o.values),i):Rc(t,e)};function QC(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?We(t,e,i):sg(t)(t,e)}const KP=t=>{const e=({timestamp:i})=>t(i);return{start:()=>Xe.update(e,!0),stop:()=>ns(e),now:()=>bt.isProcessing?bt.timestamp:Ht.now()}},ZC=(t,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},xc=2e4;function rg(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<xc;)e+=i,r=t.next(e);return e>=xc?1/0:e}function WP(t,e=100,i){const r=i({...t,keyframes:[0,e]}),o=Math.min(rg(r),xc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:zn(o)}}const XP=5;function JC(t,e,i){const r=Math.max(e-XP,0);return OC(i-t(r),e-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},YE=.001;function $P({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:i=Ze.velocity,mass:r=Ze.mass}){let o,u,c=1-e;c=_i(Ze.minDamping,Ze.maxDamping,c),t=_i(Ze.minDuration,Ze.maxDuration,zn(t)),c<1?(o=p=>{const g=p*c,y=g*t,_=g-i,b=Em(p,c),S=Math.exp(-y);return YE-_/b*S},u=p=>{const y=p*c*t,_=y*i+i,b=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-y),N=Em(Math.pow(p,2),c);return(-o(p)+YE>0?-1:1)*((_-b)*S)/N}):(o=p=>{const g=Math.exp(-p*t),y=(p-i)*t+1;return-.001+g*y},u=p=>{const g=Math.exp(-p*t),y=(i-p)*(t*t);return g*y});const h=5/t,d=ZP(o,u,h);if(t=Bn(t),isNaN(d))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const QP=12;function ZP(t,e,i){let r=i;for(let o=1;o<QP;o++)r=r-t(r)/e(r);return r}function Em(t,e){return t*Math.sqrt(1-e*e)}const JP=["duration","bounce"],e2=["stiffness","damping","mass"];function KE(t,e){return e.some(i=>t[i]!==void 0)}function t2(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!KE(t,e2)&&KE(t,JP))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*_i(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ze.mass,stiffness:o,damping:u}}else{const i=$P(t);e={...e,...i,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function Nc(t=Ze.visualDuration,e=Ze.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:u},{stiffness:d,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:b}=t2({...i,velocity:-zn(i.velocity||0)}),S=_||0,N=p/(2*Math.sqrt(d*g)),D=c-u,x=zn(Math.sqrt(d/g)),z=Math.abs(D)<5;r||(r=z?Ze.restSpeed.granular:Ze.restSpeed.default),o||(o=z?Ze.restDelta.granular:Ze.restDelta.default);let L;if(N<1){const P=Em(x,N);L=X=>{const Z=Math.exp(-N*x*X);return c-Z*((S+N*x*D)/P*Math.sin(P*X)+D*Math.cos(P*X))}}else if(N===1)L=P=>c-Math.exp(-x*P)*(D+(S+x*D)*P);else{const P=x*Math.sqrt(N*N-1);L=X=>{const Z=Math.exp(-N*x*X),$=Math.min(P*X,300);return c-Z*((S+N*x*D)*Math.sinh($)+P*D*Math.cosh($))/P}}const W={calculatedDuration:b&&y||null,next:P=>{const X=L(P);if(b)h.done=P>=y;else{let Z=P===0?S:0;N<1&&(Z=P===0?Bn(S):JC(L,P,X));const $=Math.abs(Z)<=r,re=Math.abs(c-X)<=o;h.done=$&&re}return h.value=h.done?c:X,h},toString:()=>{const P=Math.min(rg(W),xc),X=ZC(Z=>W.next(P*Z).value,P,30);return P+"ms "+X},toTransition:()=>{}};return W}Nc.applyToOptions=t=>{const e=WP(t,100,Nc);return t.ease=e.ease,t.duration=Bn(e.duration),t.type="keyframes",t};function bm({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},b=$=>h!==void 0&&$<h||d!==void 0&&$>d,S=$=>h===void 0?d:d===void 0||Math.abs(h-$)<Math.abs(d-$)?h:d;let N=i*e;const D=y+N,x=c===void 0?D:c(D);x!==D&&(N=x-y);const z=$=>-N*Math.exp(-$/r),L=$=>x+z($),W=$=>{const re=z($),Se=L($);_.done=Math.abs(re)<=p,_.value=_.done?x:Se};let P,X;const Z=$=>{b(_.value)&&(P=$,X=Nc({keyframes:[_.value,S(_.value)],velocity:JC(L,$,_.value),damping:o,stiffness:u,restDelta:p,restSpeed:g}))};return Z(0),{calculatedDuration:null,next:$=>{let re=!1;return!X&&P===void 0&&(re=!0,W($),Z($)),P!==void 0&&$>=P?X.next($-P):(!re&&W($),_)}}}function n2(t,e,i){const r=[],o=i||Ei.mix||QC,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||gn:e;h=bl(d,h)}r.push(h)}return r}function i2(t,e,{clamp:i=!0,ease:r,mixer:o}={}){const u=t.length;if(Xp(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=n2(e,r,o),d=h.length,p=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=tl(t[y],t[y+1],g);return h[y](_)};return i?g=>p(_i(t[0],t[u-1],g)):p}function s2(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const o=tl(0,e,r);t.push(We(i,1,o))}}function r2(t){const e=[0];return s2(e,t.length-1),e}function a2(t,e){return t.map(i=>i*e)}function o2(t,e){return t.map(()=>e||HC).splice(0,t.length-1)}function Bo({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=vP(r)?r.map(zE):zE(r),u={done:!1,value:e[0]},c=a2(i&&i.length===e.length?i:r2(e),t),h=i2(c,e,{ease:Array.isArray(o)?o:o2(e,o)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}const l2=t=>t!==null;function ag(t,{repeat:e,repeatType:i="loop"},r,o=1){const u=t.filter(l2),h=o<0||e&&i!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const u2={decay:bm,inertia:bm,tween:Bo,keyframes:Bo,spring:Nc};function ew(t){typeof t.type=="string"&&(t.type=u2[t.type])}class og{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const c2=t=>t/100;class tw extends og{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;if(i&&i.updatedAt!==Ht.now()&&this.tick(Ht.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ew(e);const{type:i=Bo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const d=i||Bo;d!==Bo&&typeof h[0]!="number"&&(this.mixKeyframes=bl(c2,QC(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=rg(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:b,type:S,onUpdate:N,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const x=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?x<0:x>o;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,W=r;if(y){const $=Math.min(this.currentTime,o)/h;let re=Math.floor($),Se=$%1;!Se&&$>=1&&(Se=1),Se===1&&re--,re=Math.min(re,y+1),!!(re%2)&&(_==="reverse"?(Se=1-Se,b&&(Se-=b/h)):_==="mirror"&&(W=c)),L=_i(0,1,Se)*h}const P=z?{done:!1,value:g[0]}:W.next(L);u&&(P.value=u(P.value));let{done:X}=P;!z&&d!==null&&(X=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&S!==bm&&(P.value=ag(g,this.options,D,this.speed)),N&&N(P.value),Z&&this.finish(),P}then(e,i){return this.finished.then(e,i)}get duration(){return zn(this.calculatedDuration)}get time(){return zn(this.currentTime)}set time(e){e=Bn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ht.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=zn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KP,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),i&&i();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function f2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vs=t=>t*180/Math.PI,Sm=t=>{const e=Vs(Math.atan2(t[1],t[0]));return Tm(e)},h2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Sm,rotateZ:Sm,skewX:t=>Vs(Math.atan(t[1])),skewY:t=>Vs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tm=t=>(t=t%360,t<0&&(t+=360),t),WE=Sm,XE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$E=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XE,scaleY:$E,scale:t=>(XE(t)+$E(t))/2,rotateX:t=>Tm(Vs(Math.atan2(t[6],t[5]))),rotateY:t=>Tm(Vs(Math.atan2(-t[2],t[0]))),rotateZ:WE,rotate:WE,skewX:t=>Vs(Math.atan(t[4])),skewY:t=>Vs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function QE(t){return t.includes("scale")?1:0}function Cm(t,e){if(!t||t==="none")return QE(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=d2,o=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=h2,o=h}if(!o)return QE(e);const u=r[e],c=o[1].split(",").map(p2);return typeof u=="function"?u(c):c[u]}const m2=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return Cm(i,e)};function p2(t){return parseFloat(t.trim())}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pa=new Set(ma),ZE=t=>t===da||t===le,g2=new Set(["x","y","z"]),y2=ma.filter(t=>!g2.has(t));function v2(t){const e=[];return y2.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const ea={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cm(e,"x"),y:(t,{transform:e})=>Cm(e,"y")};ea.translateX=ea.x;ea.translateY=ea.y;const zs=new Set;let wm=!1,Am=!1,Rm=!1;function nw(){if(Am){const t=Array.from(zs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=v2(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var h;(h=r.getValue(u))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Am=!1,wm=!1,zs.forEach(t=>t.complete(Rm)),zs.clear()}function iw(){zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Am=!0)})}function _2(){Rm=!0,iw(),nw(),Rm=!1}class lg{constructor(e,i,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zs.add(this),wm||(wm=!0,Xe.read(iw),Xe.resolveKeyframes(nw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&i){const h=r.readValue(i,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}f2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const E2=t=>t.startsWith("--");function b2(t,e,i){E2(e)?t.style.setProperty(e,i):t.style[e]=i}const S2=$p(()=>window.ScrollTimeline!==void 0),T2={};function C2(t,e){const i=$p(t);return()=>T2[e]??i()}const sw=C2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Do=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,JE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Do([0,.65,.55,1]),circOut:Do([.55,0,1,.45]),backIn:Do([.31,.01,.66,-.59]),backOut:Do([.33,1.53,.69,.99])};function rw(t,e){if(t)return typeof t=="function"?sw()?ZC(t,e):"ease-out":jC(t)?Do(t):Array.isArray(t)?t.map(i=>rw(i,e)||JE.easeOut):JE[t]}function w2(t,e,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:d}={},p=void 0){const g={[e]:i};d&&(g.offset=d);const y=rw(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function aw(t){return typeof t=="function"&&"applyToOptions"in t}function A2({type:t,...e}){return aw(t)&&sw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class R2 extends og{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,Xp(typeof e.type!="string");const p=A2(e);this.animation=w2(i,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=ag(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):b2(i,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return zn(Number(e))}get time(){return zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&S2()?(this.animation.timeline=e,gn):i(this)}}const ow={anticipate:VC,backInOut:UC,circInOut:zC};function x2(t){return t in ow}function N2(t){typeof t.ease=="string"&&x2(t.ease)&&(t.ease=ow[t.ease])}const eb=10;class D2 extends R2{constructor(e){N2(e),ew(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const h=new tw({...c,autoplay:!1}),d=Bn(this.finishedTime??this.time);i.setWithVelocity(h.sample(d-eb).value,h.sample(d).value,eb),h.stop()}}const tb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(is.test(t)||t==="0")&&!t.startsWith("url("));function M2(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function O2(t,e,i,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=tb(o,e),h=tb(u,e);return!c||!h?!1:M2(t)||(i==="spring"||aw(i))&&r}const I2=new Set(["opacity","clipPath","filter","transform"]),k2=$p(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L2(t){const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return k2()&&i&&I2.has(i)&&(i!=="transform"||!d)&&!h&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const P2=40;class U2 extends og{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:d,motionValue:p,element:g,...y}){var S;super(),this.stop=()=>{var N,D;this._animation?(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)):(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Ht.now();const _={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:d,motionValue:p,element:g,...y},b=(g==null?void 0:g.KeyframeResolver)||lg;this.keyframeResolver=new b(h,(N,D,x)=>this.onKeyframesResolved(N,D,_,!x),d,p,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Ht.now(),O2(e,u,c,h)||((Ei.instantAnimations||!d)&&(g==null||g(ag(e,r,i))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>P2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},b=!p&&L2(_)?new D2({..._,element:_.motionValue.owner.current}):new tw(_);b.finished.then(()=>this.notifyFinished()).catch(gn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||_2(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const V2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B2(t){const e=V2.exec(t);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function lw(t,e,i=1){const[r,o]=B2(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return DC(c)?parseFloat(c):c}return tg(o)?lw(o,e,i+1):o}function ug(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const uw=new Set(["width","height","top","left","right","bottom",...ma]),z2={test:t=>t==="auto",parse:t=>t},cw=t=>e=>e.test(t),fw=[da,le,Hn,Yi,MP,DP,z2],nb=t=>fw.find(cw(t));function H2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MC(t):!0}const j2=new Set(["brightness","contrast","saturate","opacity"]);function F2(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(ng)||[];if(!r)return t;const o=i.replace(r,"");let u=j2.has(e)?1:0;return r!==i&&(u*=100),e+"("+u+o+")"}const q2=/\b([a-z-]*)\(.*?\)/gu,xm={...is,getAnimatableNone:t=>{const e=t.match(q2);return e?e.map(F2).join(" "):t}},ib={...da,transform:Math.round},G2={rotate:Yi,rotateX:Yi,rotateY:Yi,rotateZ:Yi,scale:Gu,scaleX:Gu,scaleY:Gu,scaleZ:Gu,skew:Yi,skewX:Yi,skewY:Yi,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:nl,originX:jE,originY:jE,originZ:le},cg={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...G2,zIndex:ib,fillOpacity:nl,strokeOpacity:nl,numOctaves:ib},Y2={...cg,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:xm,WebkitFilter:xm},hw=t=>Y2[t];function dw(t,e){let i=hw(t);return i!==xm&&(i=is),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const K2=new Set(["auto","none","0"]);function W2(t,e,i){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!K2.has(u)&&il(u).values.length&&(o=t[r]),r++}if(o&&i)for(const u of e)t[u]=dw(i,o)}class X2 extends lg{constructor(e,i,r,o,u){super(e,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),tg(p))){const g=lw(p,i.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!uw.has(r)||e.length!==2)return;const[o,u]=e,c=nb(o),h=nb(u);if(c!==h)if(ZE(c)&&ZE(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||H2(e[o]))&&r.push(o);r.length&&W2(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ea[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ea[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function $2(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(i==null?void 0:i[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:fg}=FC(queueMicrotask,!1),Sn={x:!1,y:!1};function mw(){return Sn.x||Sn.y}function Q2(t){return t==="x"||t==="y"?Sn[t]?null:(Sn[t]=!0,()=>{Sn[t]=!1}):Sn.x||Sn.y?null:(Sn.x=Sn.y=!0,()=>{Sn.x=Sn.y=!1})}function pw(t,e){const i=$2(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function sb(t){return!(t.pointerType==="touch"||mw())}function Z2(t,e,i={}){const[r,o,u]=pw(t,i),c=h=>{if(!sb(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=y=>{sb(y)&&(p(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),u}const gw=(t,e)=>e?t===e?!0:gw(t,e.parentElement):!1,hg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,J2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eU(t){return J2.has(t.tagName)||t.tabIndex!==-1}const Mo=new WeakSet;function rb(t){return e=>{e.key==="Enter"&&t(e)}}function Bd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tU=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=rb(()=>{if(Mo.has(i))return;Bd(i,"down");const o=rb(()=>{Bd(i,"up")}),u=()=>Bd(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",u,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function ab(t){return hg(t)&&!mw()}function nU(t,e,i={}){const[r,o,u]=pw(t,i),c=h=>{const d=h.currentTarget;if(!ab(h)||Mo.has(d))return;Mo.add(d);const p=e(d,h),g=(b,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!ab(b)||!Mo.has(d))&&(Mo.delete(d),typeof p=="function"&&p(b,{success:S}))},y=b=>{g(b,d===window||d===document||i.useGlobalTarget||gw(d,b.target))},_=b=>{g(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h instanceof HTMLElement&&(h.addEventListener("focus",p=>tU(p,o)),!eU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}const ob=30,iU=t=>!isNaN(parseFloat(t));class sU{constructor(e,i={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,h;const u=Ht.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=Ht.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Qp);const r=this.events[e].add(i);return e==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e,i=!0){!i||!this.passiveEffect?this.updateAndNotify(e,i):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ob)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,ob);return OC(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sl(t,e){return new sU(t,e)}const rU=[...fw,At,is],aU=t=>rU.find(cw(t)),yw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vw=C.createContext({strict:!1}),lb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ta={};for(const t in lb)ta[t]={isEnabled:e=>lb[t].some(i=>!!e[i])};function oU(t){for(const e in t)ta[e]={...ta[e],...t[e]}}const lU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lU.has(t)}let _w=t=>!Dc(t);function uU(t){t&&(_w=e=>e.startsWith("on")?!Dc(e):t(e))}try{uU(require("@emotion/is-prop-valid").default)}catch{}function cU(t,e,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(_w(o)||i===!0&&Dc(o)||!e&&!Dc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function fU(t){if(typeof Proxy>"u")return t;const e=new Map,i=(...r)=>t(...r);return new Proxy(i,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Wc=C.createContext({});function Xc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rl(t){return typeof t=="string"||Array.isArray(t)}const dg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mg=["initial",...dg];function $c(t){return Xc(t.animate)||mg.some(e=>rl(t[e]))}function Ew(t){return!!($c(t)||t.variants)}function hU(t,e){if($c(t)){const{initial:i,animate:r}=t;return{initial:i===!1||rl(i)?i:void 0,animate:rl(r)?r:void 0}}return t.inherit!==!1?e:{}}function dU(t){const{initial:e,animate:i}=hU(t,C.useContext(Wc));return C.useMemo(()=>({initial:e,animate:i}),[ub(e),ub(i)])}function ub(t){return Array.isArray(t)?t.join(" "):t}const mU=Symbol.for("motionComponentSymbol");function Br(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pU(t,e,i){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),i&&(typeof i=="function"?i(r):Br(i)&&(i.current=r))},[e])}const pg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gU="framerAppearId",bw="data-"+pg(gU),Sw=C.createContext({});function yU(t,e,i,r,o){var N,D;const{visualElement:u}=C.useContext(Wc),c=C.useContext(vw),h=C.useContext(Kc),d=C.useContext(Yp).reducedMotion,p=C.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:u,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,y=C.useContext(Sw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&vU(p.current,i,o,y);const _=C.useRef(!1);C.useInsertionEffect(()=>{g&&_.current&&g.update(i,h)});const b=i[bw],S=C.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,b)));return xC(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),fg.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),C.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,b)}),S.current=!1))}),g}function vU(t,e,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:Tw(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&Br(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function Tw(t){if(t)return t.options.allowProjection!==!1?t.projection:Tw(t.parent)}function _U({preloadedFeatures:t,createVisualElement:e,useRender:i,useVisualState:r,Component:o}){t&&oU(t);function u(h,d){let p;const g={...C.useContext(Yp),...h,layoutId:EU(h)},{isStatic:y}=g,_=dU(h),b=r(h,y);if(!y&&Gp){bU();const S=SU(g);p=S.MeasureLayout,_.visualElement=yU(o,b,g,e,S.ProjectionNode)}return di.jsxs(Wc.Provider,{value:_,children:[p&&_.visualElement?di.jsx(p,{visualElement:_.visualElement,...g}):null,i(o,h,pU(b,_.visualElement,d),b,y,_.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=C.forwardRef(u);return c[mU]=o,c}function EU({layoutId:t}){const e=C.useContext(Fp).id;return e&&t!==void 0?e+"-"+t:t}function bU(t,e){C.useContext(vw).strict}function SU(t){const{drag:e,layout:i}=ta;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const al={};function TU(t){for(const e in t)al[e]=t[e],eg(e)&&(al[e].isCSSVariable=!0)}function Cw(t,{layout:e,layoutId:i}){return pa.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!al[t]||t==="opacity")}const xt=t=>!!(t&&t.getVelocity),CU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wU=ma.length;function AU(t,e,i){let r="",o=!0;for(let u=0;u<wU;u++){const c=ma[u],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||i){const p=yw(h,cg[c]);if(!d){o=!1;const g=CU[c]||c;r+=`${g}(${p}) `}i&&(e[c]=p)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function gg(t,e,i){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const d in e){const p=e[d];if(pa.has(d)){c=!0;continue}else if(eg(d)){o[d]=p;continue}else{const g=yw(p,cg[d]);d.startsWith("origin")?(h=!0,u[d]=g):r[d]=g}}if(e.transform||(c||i?r.transform=AU(e,t.transform,i):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=u;r.transformOrigin=`${d} ${p} ${g}`}}const yg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ww(t,e,i){for(const r in e)!xt(e[r])&&!Cw(r,i)&&(t[r]=e[r])}function RU({transformTemplate:t},e){return C.useMemo(()=>{const i=yg();return gg(i,e,t),Object.assign({},i.vars,i.style)},[e])}function xU(t,e){const i=t.style||{},r={};return ww(r,i,t),Object.assign(r,RU(t,e)),r}function NU(t,e){const i={},r=xU(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const DU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vg(t){return typeof t!="string"||t.includes("-")?!1:!!(DU.indexOf(t)>-1||/[A-Z]/u.test(t))}const MU={offset:"stroke-dashoffset",array:"stroke-dasharray"},OU={offset:"strokeDashoffset",array:"strokeDasharray"};function IU(t,e,i=1,r=0,o=!0){t.pathLength=1;const u=o?MU:OU;t[u.offset]=le.transform(-r);const c=le.transform(e),h=le.transform(i);t[u.array]=`${c} ${h}`}function Aw(t,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},d,p){if(gg(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),i!==void 0&&(g.y=i),r!==void 0&&(g.scale=r),o!==void 0&&IU(g,o,u,c,!1)}const Rw=()=>({...yg(),attrs:{}}),xw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kU(t,e,i,r){const o=C.useMemo(()=>{const u=Rw();return Aw(u,e,xw(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};ww(u,t.style,t),o.style={...u,...o.style}}return o}function LU(t=!1){return(i,r,o,{latestValues:u},c)=>{const d=(vg(i)?kU:NU)(r,u,c,i),p=cU(r,typeof i=="string",t),g=i!==C.Fragment?{...p,...d,ref:o}:{},{children:y}=r,_=C.useMemo(()=>xt(y)?y.get():y,[y]);return C.createElement(i,{...g,children:_})}}function cb(t){const e=[{},{}];return t==null||t.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function _g(t,e,i,r){if(typeof e=="function"){const[o,u]=cb(r);e=e(i!==void 0?i:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=cb(r);e=e(i!==void 0?i:t.custom,o,u)}return e}function tc(t){return xt(t)?t.get():t}function PU({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,o){return{latestValues:UU(i,r,o,t),renderState:e()}}const Nw=t=>(e,i)=>{const r=C.useContext(Wc),o=C.useContext(Kc),u=()=>PU(t,e,r,o);return i?u():qp(u)};function UU(t,e,i,r){const o={},u=r(t,{});for(const _ in u)o[_]=tc(u[_]);let{initial:c,animate:h}=t;const d=$c(t),p=Ew(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!Xc(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const S=_g(t,_[b]);if(S){const{transitionEnd:N,transition:D,...x}=S;for(const z in x){let L=x[z];if(Array.isArray(L)){const W=g?L.length-1:0;L=L[W]}L!==null&&(o[z]=L)}for(const z in N)o[z]=N[z]}}}return o}function Eg(t,e,i){var u;const{style:r}=t,o={};for(const c in r)(xt(r[c])||e.style&&xt(e.style[c])||Cw(c,t)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const VU={useVisualState:Nw({scrapeMotionValuesFromProps:Eg,createRenderState:yg})};function Dw(t,e,i){const r=Eg(t,e,i);for(const o in t)if(xt(t[o])||xt(e[o])){const u=ma.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const BU={useVisualState:Nw({scrapeMotionValuesFromProps:Dw,createRenderState:Rw})};function zU(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...vg(r)?BU:VU,preloadedFeatures:t,useRender:LU(o),createVisualElement:e,Component:r};return _U(c)}}function ol(t,e,i){const r=t.getProps();return _g(r,e,i!==void 0?i:r.custom,t)}const Nm=t=>Array.isArray(t);function HU(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,sl(i))}function jU(t){return Nm(t)?t[t.length-1]||0:t}function FU(t,e){const i=ol(t,e);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const h=jU(u[c]);HU(t,c,h)}}function qU(t){return!!(xt(t)&&t.add)}function Dm(t,e){const i=t.getValue("willChange");if(qU(i))return i.add(e);if(!i&&Ei.WillChange){const r=new Ei.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Mw(t){return t.props[bw]}const GU=t=>t!==null;function YU(t,{repeat:e,repeatType:i="loop"},r){const o=t.filter(GU),u=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[u]}const KU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XU={type:"keyframes",duration:.8},$U={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QU=(t,{keyframes:e})=>e.length>2?XU:pa.has(t)?t.startsWith("scale")?WU(e[1]):KU:$U;function ZU({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const bg=(t,e,i,r={},o,u)=>c=>{const h=ug(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Bn(d);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};ZU(h)||Object.assign(g,QU(t,g)),g.duration&&(g.duration=Bn(g.duration)),g.repeatDelay&&(g.repeatDelay=Bn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(Ei.instantAnimations||Ei.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=YU(g.keyframes,h);if(_!==void 0){Xe.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new U2(g)};function JU({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function Ow(t,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(u=r);const d=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||p&&JU(p,g))continue;const b={delay:i,...ug(u||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===S&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const x=Mw(t);if(x){const z=window.MotionHandoffAnimation(x,g,Xe);z!==null&&(b.startTime=z,N=!0)}}Dm(t,g),y.start(bg(g,y,_,t.shouldReduceMotion&&uw.has(g)?{type:!1}:b,t,N));const D=y.animation;D&&d.push(D)}return c&&Promise.all(d).then(()=>{Xe.update(()=>{c&&FU(t,c)})}),d}function Mm(t,e,i={}){var d;const r=ol(t,e,i.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(Ow(t,r,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return e3(t,e,g+p,y,_,i)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function e3(t,e,i=0,r=0,o=1,u){const c=[],h=(t.variantChildren.size-1)*r,d=o===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(t3).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(Mm(p,e,{...u,delay:i+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function t3(t,e){return t.sortNodePosition(e)}function n3(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Mm(t,u,i));r=Promise.all(o)}else if(typeof e=="string")r=Mm(t,e,i);else{const o=typeof e=="function"?ol(t,e,i.custom):e;r=Promise.all(Ow(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Iw(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const i3=mg.length;function kw(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?kw(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<i3;i++){const r=mg[i],o=t.props[r];(rl(o)||o===!1)&&(e[r]=o)}return e}const s3=[...dg].reverse(),r3=dg.length;function a3(t){return e=>Promise.all(e.map(({animation:i,options:r})=>n3(t,i,r)))}function o3(t){let e=a3(t),i=fb(),r=!0;const o=d=>(p,g)=>{var _;const y=ol(t,g,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:S,...N}=y;p={...p,...N,...S}}return p};function u(d){e=d(t)}function c(d){const{props:p}=t,g=kw(t.parent)||{},y=[],_=new Set;let b={},S=1/0;for(let D=0;D<r3;D++){const x=s3[D],z=i[x],L=p[x]!==void 0?p[x]:g[x],W=rl(L),P=x===d?z.isActive:null;P===!1&&(S=D);let X=L===g[x]&&L!==p[x]&&W;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),z.protectedKeys={...b},!z.isActive&&P===null||!L&&!z.prevProp||Xc(L)||typeof L=="boolean")continue;const Z=l3(z.prevProp,L);let $=Z||x===d&&z.isActive&&!X&&W||D>S&&W,re=!1;const Se=Array.isArray(L)?L:[L];let Ge=Se.reduce(o(x),{});P===!1&&(Ge={});const{prevResolvedValues:ze={}}=z,vn={...ze,...Ge},Gt=Y=>{$=!0,_.has(Y)&&(re=!0,_.delete(Y)),z.needsAnimating[Y]=!0;const ee=t.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in vn){const ee=Ge[Y],we=ze[Y];if(b.hasOwnProperty(Y))continue;let w=!1;Nm(ee)&&Nm(we)?w=!Iw(ee,we):w=ee!==we,w?ee!=null?Gt(Y):_.add(Y):ee!==void 0&&_.has(Y)?Gt(Y):z.protectedKeys[Y]=!0}z.prevProp=L,z.prevResolvedValues=Ge,z.isActive&&(b={...b,...Ge}),r&&t.blockInitialAnimation&&($=!1),$&&(!(X&&Z)||re)&&y.push(...Se.map(Y=>({animation:Y,options:{type:x}})))}if(_.size){const D={};if(typeof p.initial!="boolean"){const x=ol(t,Array.isArray(p.initial)?p.initial[0]:p.initial);x&&x.transition&&(D.transition=x.transition)}_.forEach(x=>{const z=t.getBaseTarget(x),L=t.getValue(x);L&&(L.liveStyle=!0),D[x]=z??null}),y.push({animation:D})}let N=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function h(d,p){var y;if(i[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(d,p)}),i[d].isActive=p;const g=c(d);for(const _ in i)i[_].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>i,reset:()=>{i=fb(),r=!0}}}function l3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Iw(e,t):!1}function Ns(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fb(){return{animate:Ns(!0),whileInView:Ns(),whileHover:Ns(),whileTap:Ns(),whileDrag:Ns(),whileFocus:Ns(),exit:Ns()}}class cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u3 extends cs{constructor(e){super(e),e.animationState||(e.animationState=o3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let c3=0;class f3 extends cs{constructor(){super(...arguments),this.id=c3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const h3={animation:{Feature:u3},exit:{Feature:f3}};function ll(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}function Cl(t){return{point:{x:t.pageX,y:t.pageY}}}const d3=t=>e=>hg(e)&&t(e,Cl(e));function zo(t,e,i,r){return ll(t,e,d3(i),r)}function Lw({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function m3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p3(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const Pw=1e-4,g3=1-Pw,y3=1+Pw,Uw=.01,v3=0-Uw,_3=0+Uw;function Ot(t){return t.max-t.min}function E3(t,e,i){return Math.abs(t-e)<=i}function hb(t,e,i,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=Ot(i)/Ot(e),t.translate=We(i.min,i.max,t.origin)-t.originPoint,(t.scale>=g3&&t.scale<=y3||isNaN(t.scale))&&(t.scale=1),(t.translate>=v3&&t.translate<=_3||isNaN(t.translate))&&(t.translate=0)}function Ho(t,e,i,r){hb(t.x,e.x,i.x,r?r.originX:void 0),hb(t.y,e.y,i.y,r?r.originY:void 0)}function db(t,e,i){t.min=i.min+e.min,t.max=t.min+Ot(e)}function b3(t,e,i){db(t.x,e.x,i.x),db(t.y,e.y,i.y)}function mb(t,e,i){t.min=e.min-i.min,t.max=t.min+Ot(e)}function jo(t,e,i){mb(t.x,e.x,i.x),mb(t.y,e.y,i.y)}const pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),zr=()=>({x:pb(),y:pb()}),gb=()=>({min:0,max:0}),st=()=>({x:gb(),y:gb()});function pn(t){return[t("x"),t("y")]}function zd(t){return t===void 0||t===1}function Om({scale:t,scaleX:e,scaleY:i}){return!zd(t)||!zd(e)||!zd(i)}function Os(t){return Om(t)||Vw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Vw(t){return yb(t.x)||yb(t.y)}function yb(t){return t&&t!=="0%"}function Mc(t,e,i){const r=t-i,o=e*r;return i+o}function vb(t,e,i,r,o){return o!==void 0&&(t=Mc(t,o,r)),Mc(t,i,r)+e}function Im(t,e=0,i=1,r,o){t.min=vb(t.min,e,i,r,o),t.max=vb(t.max,e,i,r,o)}function Bw(t,{x:e,y:i}){Im(t.x,e.translate,e.scale,e.originPoint),Im(t.y,i.translate,i.scale,i.originPoint)}const _b=.999999999999,Eb=1.0000000000001;function S3(t,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=i[h],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Bw(t,c)),r&&Os(u.latestValues)&&jr(t,u.latestValues))}e.x<Eb&&e.x>_b&&(e.x=1),e.y<Eb&&e.y>_b&&(e.y=1)}function Hr(t,e){t.min=t.min+e,t.max=t.max+e}function bb(t,e,i,r,o=.5){const u=We(t.min,t.max,o);Im(t,e,i,u,r)}function jr(t,e){bb(t.x,e.x,e.scaleX,e.scale,e.originX),bb(t.y,e.y,e.scaleY,e.scale,e.originY)}function zw(t,e){return Lw(p3(t.getBoundingClientRect(),e))}function T3(t,e,i){const r=zw(t,i),{scroll:o}=e;return o&&(Hr(r.x,o.offset.x),Hr(r.y,o.offset.y)),r}const Hw=({current:t})=>t?t.ownerDocument.defaultView:null,Sb=(t,e)=>Math.abs(t-e);function C3(t,e){const i=Sb(t.x,e.x),r=Sb(t.y,e.y);return Math.sqrt(i**2+r**2)}class jw{constructor(e,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=jd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=C3(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:S}=y,{timestamp:N}=bt;this.history.push({...S,timestamp:N});const{onStart:D,onMove:x}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Hd(_,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=jd(y.type==="pointercancel"?this.lastMoveEventInfo:Hd(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,D),S&&S(y,D)},!hg(e))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const c=Cl(e),h=Hd(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=bt;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=i;g&&g(e,jd(h,this.history)),this.removeListeners=bl(zo(this.contextWindow,"pointermove",this.handlePointerMove),zo(this.contextWindow,"pointerup",this.handlePointerUp),zo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ns(this.updatePoint)}}function Hd(t,e){return e?{point:e(t.point)}:t}function Tb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jd({point:t},e){return{point:t,delta:Tb(t,Fw(e)),offset:Tb(t,w3(e)),velocity:A3(e,.1)}}function w3(t){return t[0]}function Fw(t){return t[t.length-1]}function A3(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=Fw(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>Bn(e)));)i--;if(!r)return{x:0,y:0};const u=zn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function R3(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?We(i,t,r.max):Math.min(t,i)),t}function Cb(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function x3(t,{top:e,left:i,bottom:r,right:o}){return{x:Cb(t.x,i,o),y:Cb(t.y,e,r)}}function wb(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function N3(t,e){return{x:wb(t.x,e.x),y:wb(t.y,e.y)}}function D3(t,e){let i=.5;const r=Ot(t),o=Ot(e);return o>r?i=tl(e.min,e.max-r,t.min):r>o&&(i=tl(t.min,t.max-o,e.min)),_i(0,1,i)}function M3(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const km=.35;function O3(t=km){return t===!1?t=0:t===!0&&(t=km),{x:Ab(t,"left","right"),y:Ab(t,"top","bottom")}}function Ab(t,e,i){return{min:Rb(t,e),max:Rb(t,i)}}function Rb(t,e){return typeof t=="number"?t:t[e]||0}const I3=new WeakMap;class k3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=e}start(e,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Cl(g).point)},u=(g,y)=>{const{drag:_,dragPropagation:b,onDragStart:S}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Q2(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pn(D=>{let x=this.getAxisMotionValue(D).get()||0;if(Hn.test(x)){const{projection:z}=this.visualElement;if(z&&z.layout){const L=z.layout.layoutBox[D];L&&(x=Ot(L)*(parseFloat(x)/100))}}this.originPoint[D]=x}),S&&Xe.postRender(()=>S(g,y)),Dm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:S,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=y;if(b&&this.currentDirection===null){this.currentDirection=L3(D),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),N&&N(g,y)},h=(g,y)=>this.stop(g,y),d=()=>pn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new jw(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Hw(this.visualElement)})}stop(e,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Xe.postRender(()=>u(e,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!Yu(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=R3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&Br(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=x3(r.layoutBox,e):this.constraints=!1,this.elastic=O3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=M3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Br(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=T3(r,o.root,this.visualElement.getTransformPagePoint());let c=N3(o.layout.layoutBox,u);if(i){const h=i(m3(c));this.hasMutatedConstraints=!!h,h&&(c=Lw(h))}return c}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=pn(g=>{if(!Yu(g,i,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(h)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return Dm(this.visualElement,e),r.start(bg(e,r,0,i,this.visualElement,!1))}stopAnimation(){pn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pn(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pn(i=>{const{drag:r}=this.getProps();if(!Yu(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[i];u.set(e[i]-We(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Br(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();o[c]=D3({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pn(c=>{if(!Yu(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(We(d,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;I3.set(this.visualElement,this);const e=this.visualElement.current,i=zo(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Br(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xe.read(r);const c=ll(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(pn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),i(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=km,dragMomentum:h=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Yu(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function L3(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class P3 extends cs{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new k3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xb=t=>(e,i)=>{t&&Xe.postRender(()=>t(e,i))};class U3 extends cs{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new jw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:xb(e),onStart:xb(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Xe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=zo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const i=Nb(t,e.target.x),r=Nb(t,e.target.y);return`${i}% ${r}%`}},V3={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,o=is.parse(t);if(o.length>5)return r;const u=is.createTransformer(t),c=typeof o[0]!="number"?1:0,h=i.x.scale*e.x,d=i.y.scale*e.y;o[0+c]/=h,o[1+c]/=d;const p=We(h,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}};class B3 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;TU(z3),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),nc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==i||i===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Xe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qw(t){const[e,i]=NC(),r=C.useContext(Fp);return di.jsx(B3,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(Sw),isPresent:e,safeToRemove:i})}const z3={borderRadius:{...wo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wo,borderTopRightRadius:wo,borderBottomLeftRadius:wo,borderBottomRightRadius:wo,boxShadow:V3};function H3(t,e,i){const r=xt(t)?t:sl(t);return r.start(bg("",r,e,i)),r.animation}function j3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const F3=(t,e)=>t.depth-e.depth;class q3{constructor(){this.children=[],this.isDirty=!1}add(e){Kp(this.children,e),this.isDirty=!0}remove(e){Wp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F3),this.isDirty=!1,this.children.forEach(e)}}function G3(t,e){const i=Ht.now(),r=({timestamp:o})=>{const u=o-i;u>=e&&(ns(r),t(u-e))};return Xe.setup(r,!0),()=>ns(r)}const Gw=["TopLeft","TopRight","BottomLeft","BottomRight"],Y3=Gw.length,Db=t=>typeof t=="string"?parseFloat(t):t,Mb=t=>typeof t=="number"||le.test(t);function K3(t,e,i,r,o,u){o?(t.opacity=We(0,i.opacity??1,W3(r)),t.opacityExit=We(e.opacity??1,0,X3(r))):u&&(t.opacity=We(e.opacity??1,i.opacity??1,r));for(let c=0;c<Y3;c++){const h=`border${Gw[c]}Radius`;let d=Ob(e,h),p=Ob(i,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Mb(d)===Mb(p)?(t[h]=Math.max(We(Db(d),Db(p),r),0),(Hn.test(p)||Hn.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||i.rotate)&&(t.rotate=We(e.rotate||0,i.rotate||0,r))}function Ob(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const W3=Yw(0,.5,BC),X3=Yw(.5,.95,gn);function Yw(t,e,i){return r=>r<t?0:r>e?1:i(tl(t,e,r))}function Ib(t,e){t.min=e.min,t.max=e.max}function mn(t,e){Ib(t.x,e.x),Ib(t.y,e.y)}function kb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lb(t,e,i,r,o){return t-=e,t=Mc(t,1/i,r),o!==void 0&&(t=Mc(t,1/o,r)),t}function $3(t,e=0,i=1,r=.5,o,u=t,c=t){if(Hn.test(e)&&(e=parseFloat(e),e=We(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=We(u.min,u.max,r);t===u&&(h-=e),t.min=Lb(t.min,e,i,h,o),t.max=Lb(t.max,e,i,h,o)}function Pb(t,e,[i,r,o],u,c){$3(t,e[i],e[r],e[o],e.scale,u,c)}const Q3=["x","scaleX","originX"],Z3=["y","scaleY","originY"];function Ub(t,e,i,r){Pb(t.x,e,Q3,i?i.x:void 0,r?r.x:void 0),Pb(t.y,e,Z3,i?i.y:void 0,r?r.y:void 0)}function Vb(t){return t.translate===0&&t.scale===1}function Kw(t){return Vb(t.x)&&Vb(t.y)}function Bb(t,e){return t.min===e.min&&t.max===e.max}function J3(t,e){return Bb(t.x,e.x)&&Bb(t.y,e.y)}function zb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ww(t,e){return zb(t.x,e.x)&&zb(t.y,e.y)}function Hb(t){return Ot(t.x)/Ot(t.y)}function jb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eV{constructor(){this.members=[]}add(e){Kp(this.members,e),e.scheduleRender()}remove(e){if(Wp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tV(t,e,i){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:b,skewY:S}=i;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Fd=["","X","Y","Z"],nV={visibility:"hidden"},Fb=1e3;let iV=0;function qd(t,e,i,r){const{latestValues:o}=e;o[t]&&(i[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Xw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=Mw(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",Xe,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Xw(r)}function $w({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=iV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aV),this.nodes.forEach(fV),this.nodes.forEach(hV),this.nodes.forEach(oV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new q3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qp),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=j3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=G3(_,250),nc.hasAnimatedSinceResize&&(nc.hasAnimatedSinceResize=!1,this.nodes.forEach(Gb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||yV,{onLayoutAnimationStart:D,onLayoutAnimationComplete:x}=g.getProps(),z=!this.targetLayout||!Ww(this.targetLayout,S),L=!_&&b;if(this.options.layoutRoot||this.resumeFrom||L||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,L);const W={...ug(N,"layout"),onPlay:D,onComplete:x};(g.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||Gb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qb);return}this.isUpdating||this.nodes.forEach(uV),this.isUpdating=!1,this.nodes.forEach(cV),this.nodes.forEach(sV),this.nodes.forEach(rV),this.clearAllSnapshots();const h=Ht.now();bt.delta=_i(0,1e3/60,h-bt.timestamp),bt.timestamp=h,bt.isProcessing=!0,Ld.update.process(bt),Ld.preRender.process(bt),Ld.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lV),this.sharedNodes.forEach(mV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Kw(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(h||Os(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),vV(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return st();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(_V))){const{scroll:g}=this.root;g&&(Hr(h.x,g.offset.x),Hr(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=st();if(mn(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&mn(h,c),Hr(h.x,y.offset.x),Hr(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=st();mn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&jr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Os(g.latestValues)&&jr(d,g.latestValues)}return Os(this.latestValues)&&jr(d,this.latestValues),d}removeTransform(c){const h=st();mn(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Os(p.latestValues))continue;Om(p.latestValues)&&p.updateSnapshot();const g=st(),y=p.measurePageBox();mn(g,y),Ub(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Os(this.latestValues)&&Ub(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),jo(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),Bw(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),jo(this.relativeTargetOrigin,this.target,b.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Om(this.parent.latestValues)||Vw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;mn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;S3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=st());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kb(this.prevProjectionDelta.x,this.projectionDelta.x),kb(this.prevProjectionDelta.y,this.projectionDelta.y)),Ho(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!jb(this.projectionDelta.x,this.prevProjectionDelta.x)||!jb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zr(),this.projectionDelta=zr(),this.projectionDeltaWithTransform=zr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=zr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=st(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,N=b!==S,D=this.getStack(),x=!D||D.members.length<=1,z=!!(N&&!x&&this.options.crossfade===!0&&!this.path.some(gV));this.animationProgress=0;let L;this.mixTargetDelta=W=>{const P=W/1e3;Yb(y.x,c.x,P),Yb(y.y,c.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jo(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pV(this.relativeTarget,this.relativeTargetOrigin,_,P),L&&J3(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=st()),mn(L,this.relativeTarget)),N&&(this.animationValues=g,K3(g,p,this.latestValues,P,z,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{nc.hasAnimatedSinceResize=!0,this.currentAnimation=H3(0,Fb,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&Qw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||st();const y=Ot(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const _=Ot(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}mn(h,d),jr(h,g),Ho(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new eV),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&qd("z",c,p,this.animationValues);for(let g=0;g<Fd.length;g++)qd(`rotate${Fd[g]}`,c,p,this.animationValues),qd(`skew${Fd[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nV;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=tc(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=tc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Os(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=tV(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:y,y:_}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in al){if(g[b]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:D}=al[b],x=h.transform==="none"?g[b]:S(g[b],p);if(N){const z=N.length;for(let L=0;L<z;L++)h[N[L]]=x}else D?this.options.visualElement.renderState.vars[b]=x:h[b]=x}return this.options.layoutId&&(h.pointerEvents=p===this?tc(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(qb),this.root.sharedNodes.clear()}}}function sV(t){t.updateLayout()}function rV(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?pn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=Ot(_);_.min=r[y].min,_.max=_.min+b}):Qw(u,e.layoutBox,r)&&pn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=Ot(r[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const h=zr();Ho(h,r,e.layoutBox);const d=zr();c?Ho(d,t.applyTransform(o,!0),e.measuredBox):Ho(d,r,e.layoutBox);const p=!Kw(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const S=st();jo(S,e.layoutBox,_.layoutBox);const N=st();jo(N,r,b.layoutBox),Ww(S,N)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lV(t){t.clearSnapshot()}function qb(t){t.clearMeasurements()}function uV(t){t.isLayoutDirty=!1}function cV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fV(t){t.resolveTargetDelta()}function hV(t){t.calcProjection()}function dV(t){t.resetSkewAndRotation()}function mV(t){t.removeLeadSnapshot()}function Yb(t,e,i){t.translate=We(e.translate,0,i),t.scale=We(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Kb(t,e,i,r){t.min=We(e.min,i.min,r),t.max=We(e.max,i.max,r)}function pV(t,e,i,r){Kb(t.x,e.x,i.x,r),Kb(t.y,e.y,i.y,r)}function gV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yV={duration:.45,ease:[.4,0,.1,1]},Wb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Xb=Wb("applewebkit/")&&!Wb("chrome/")?Math.round:gn;function $b(t){t.min=Xb(t.min),t.max=Xb(t.max)}function vV(t){$b(t.x),$b(t.y)}function Qw(t,e,i){return t==="position"||t==="preserve-aspect"&&!E3(Hb(e),Hb(i),.2)}function _V(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const EV=$w({attachResizeListener:(t,e)=>ll(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gd={current:void 0},Zw=$w({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gd.current){const t=new EV({});t.mount(window),t.setOptions({layoutScroll:!0}),Gd.current=t}return Gd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bV={pan:{Feature:U3},drag:{Feature:P3,ProjectionNode:Zw,MeasureLayout:qw}};function Qb(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&Xe.postRender(()=>u(e,Cl(e)))}class SV extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=Z2(e,(i,r)=>(Qb(this.node,r,"Start"),o=>Qb(this.node,o,"End"))))}unmount(){}}class TV extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bl(ll(this.node.current,"focus",()=>this.onFocus()),ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zb(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&Xe.postRender(()=>u(e,Cl(e)))}class CV extends cs{mount(){const{current:e}=this.node;e&&(this.unmount=nU(e,(i,r)=>(Zb(this.node,r,"Start"),(o,{success:u})=>Zb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lm=new WeakMap,Yd=new WeakMap,wV=t=>{const e=Lm.get(t.target);e&&e(t)},AV=t=>{t.forEach(wV)};function RV({root:t,...e}){const i=t||document;Yd.has(i)||Yd.set(i,{});const r=Yd.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(AV,{root:t,...e})),r[o]}function xV(t,e,i){const r=RV(e);return Lm.set(t,i),r.observe(t),()=>{Lm.delete(t),r.unobserve(t)}}const NV={some:0,all:1};class DV extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=e,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:NV[o]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(d)};return xV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(MV(e,i))&&this.startObserver()}unmount(){}}function MV({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const OV={inView:{Feature:DV},tap:{Feature:CV},focus:{Feature:TV},hover:{Feature:SV}},IV={layout:{ProjectionNode:Zw,MeasureLayout:qw}},Pm={current:null},Jw={current:!1};function kV(){if(Jw.current=!0,!!Gp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pm.current=t.matches;t.addListener(e),e()}else Pm.current=!1}const LV=new WeakMap;function PV(t,e,i){for(const r in e){const o=e[r],u=i[r];if(xt(o))t.addValue(r,o);else if(xt(u))t.addValue(r,sl(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,sl(c!==void 0?c:o,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const Jb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UV{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Ht.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Xe.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=$c(i),this.isVariantNode=Ew(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in y){const b=y[_];d[_]!==void 0&&xt(b)&&b.set(d[_],!1)}}mount(e){this.current=e,LV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),Jw.current||kV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ns(this.notifyUpdate),ns(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pa.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ta){const i=ta[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<Jb.length;r++){const o=Jb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=PV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=sl(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DC(r)||MC(r))?r=parseFloat(r):!aU(r)&&is.test(i)&&(r=dw(e,i)),this.setBaseTarget(e,xt(r)?r.get():r)),xt(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=_g(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!xt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Qp),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}}class eA extends UV{constructor(){super(...arguments),this.KeyframeResolver=X2}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function tA(t,{style:e,vars:i},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in i)t.style.setProperty(u,i[u])}function VV(t){return window.getComputedStyle(t)}class BV extends eA{constructor(){super(...arguments),this.type="html",this.renderInstance=tA}readValueFromInstance(e,i){if(pa.has(i))return m2(e,i);{const r=VV(e),o=(eg(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:i}){return zw(e,i)}build(e,i,r){gg(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return Eg(e,i,r)}}const nA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zV(t,e,i,r){tA(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(nA.has(o)?o:pg(o),e.attrs[o])}class HV extends eA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(pa.has(i)){const r=hw(i);return r&&r.default||0}return i=nA.has(i)?i:pg(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return Dw(e,i,r)}build(e,i,r){Aw(e,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,i,r,o){zV(e,i,r,o)}mount(e){this.isSVGTag=xw(e.tagName),super.mount(e)}}const jV=(t,e)=>vg(t)?new HV(e):new BV(e,{allowProjection:t!==C.Fragment}),FV=zU({...h3,...OV,...bV,...IV},jV),qV=fU(FV),Um=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],GV=6e4,iA=C.createContext({currentIndex:0}),YV=({children:t})=>{const[e,i]=C.useState(0);return C.useEffect(()=>{const r=setInterval(()=>{i(o=>(o+1)%Um.length)},GV);return()=>clearInterval(r)},[]),B.createElement(iA.Provider,{value:{currentIndex:e}},t)},Qc=()=>{const{currentIndex:t}=C.useContext(iA);return{backgroundElement:B.createElement(fP,{mode:"wait"},B.createElement(qV.div,{key:t,className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Um[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}})),currentIndex:t,imageUrl:Um[t]}},KV=()=>{const t=ra(),{backgroundElement:e}=Qc();return B.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white"},e,B.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md p-10 rounded-2xl max-w-md text-center shadow-xl"},B.createElement("h1",{className:"text-4xl font-extrabold text-white mb-4 tracking-wider"},"夜のチャット"),B.createElement("p",{className:"text-gray-300 text-sm mb-2"},"夜裡的話語，從這裡開始。"),B.createElement("p",{className:"text-gray-400 text-sm mb-8"},"Speak freely, in a place that listens."),B.createElement("button",{onClick:()=>t("/login"),className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transform transition-all duration-300"},"はじめる")))};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),eS=t=>{const e=XV(t);return e.charAt(0).toUpperCase()+e.slice(1)},sA=(...t)=>t.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),$V=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},d)=>C.createElement("svg",{ref:d,...QV,width:e,height:e,stroke:t,strokeWidth:r?Number(i)*24/Number(e):i,className:sA("lucide",o),...!u&&!$V(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,g])=>C.createElement(p,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=(t,e)=>{const i=C.forwardRef(({className:r,...o},u)=>C.createElement(ZV,{ref:u,iconNode:e,className:sA(`lucide-${WV(eS(t))}`,`lucide-${t}`,r),...o}));return i.displayName=eS(t),i};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],e4=rA("eye-off",JV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n4=rA("eye",t4),i4=()=>{const[t,e]=C.useState(!1),[i,r]=C.useState(""),[o,u]=C.useState(""),[c,h]=C.useState(!1),[d,p]=C.useState(""),[g,y]=C.useState(!1),_=ra(),{backgroundElement:b}=Qc();C.useRef(null),C.useRef(null),C.useEffect(()=>{r(""),u(""),p("")},[t]);const S=async D=>{D.preventDefault(),p(""),y(!0);try{t?(await IM(Bs,i,o),_("/profile")):(await kM(Bs,i,o),_("/chat"))}catch(x){p(x.message)}finally{y(!1)}},N=async()=>{const D=new ai;try{const z=(await iO(Bs,D)).user,L=tn(),W=He(L,`users/${z.uid}`);Is(W,P=>{P.exists()||ri(W,{nickname:z.displayName||"匿名使用者",avatarUrl:z.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),_("/chat")}catch(x){p(x.message)}};return B.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden"},b,B.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl"},B.createElement("div",{className:"flex justify-center space-x-4"},B.createElement("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`},"Login"),B.createElement("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`},"Sign Up")),B.createElement("form",{onSubmit:S,className:"space-y-4"},B.createElement("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:i,onChange:D=>r(D.target.value),required:!0}),B.createElement("div",{className:"relative"},B.createElement("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:D=>u(D.target.value),required:!0}),B.createElement("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password"},c?B.createElement(e4,{size:20}):B.createElement(n4,{size:20}))),d&&B.createElement("p",{className:"text-red-400 text-sm text-center"},d),B.createElement("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]"},t?"Sign Up":"Login")),B.createElement("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition"},B.createElement("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"),B.createElement("p",{className:"text-center text-sm text-white/80"},t?"Already have an account?":"Don't have an account?"," ",B.createElement("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition"},t?"Login":"Sign up"))))};function s4(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const r4="dhtqetylj",a4="Chatroom_Avatars",Ao=(t,e)=>[t,e].sort().join("_"),o4=()=>{const[t,e]=C.useState(""),[i,r]=C.useState([]),[o,u]=C.useState(""),[c,h]=C.useState([]),[d,p]=C.useState([]),[g,y]=C.useState("public"),[_,b]=C.useState(""),[S,N]=C.useState(""),[D,x]=C.useState(""),[z,L]=C.useState("#bfa382"),[W,P]=C.useState(!1),[X,Z]=C.useState(!1),[$,re]=C.useState(""),[Se,Ge]=C.useState([]),ze=ra(),{backgroundElement:vn}=Qc(),Gt=C.useRef(null),[et,U]=C.useState([]),[Y,ee]=C.useState(!1),[we,w]=C.useState([]),[q,Q]=C.useState(""),H=Bs.currentUser;C.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),C.useEffect(()=>{const G=setTimeout(()=>{var fe;(fe=Gt.current)==null||fe.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(G)},[i]),C.useEffect(()=>{if(!H){ze("/login");return}const G=tn(),fe=He(G,`users/${H.uid}`);Is(fe,Ye=>{const tt=Ye.val();tt&&(N(tt.nickname||""),x(tt.avatarUrl||""),L(tt.themeColor||"#bfa382"))});const be=He(G,"users");Is(be,Ye=>{const tt=Ye.val();if(tt){const Yt=Object.entries(tt).filter(([Fn])=>Fn!==H.uid).map(([Fn,Kt])=>({uid:Fn,nickname:Kt.nickname,avatarUrl:Kt.avatarUrl}));h(Yt)}});const de=He(G,"groups");Is(de,Ye=>{const tt=Ye.val();if(tt){const Yt=Object.entries(tt).map(([Fn,Kt])=>({id:Fn,name:Kt.name,members:Kt.members}));p(Yt)}})},[ze]),C.useEffect(()=>{const G=tn();if(!H)return;let fe;if(g==="public")fe=He(G,"messages/public");else if(_)fe=He(G,`messages/groups/${_}`);else{const be=Ao(H.uid,g);fe=He(G,`messages/private/${be}`)}Is(fe,be=>{const de=be.val();if(de){const Ye=Object.entries(de).map(([tt,Yt])=>({id:tt,...Yt}));r(Ye)}else r([])})},[g,_]),C.useEffect(()=>{if(!H)return;const G=tn(),fe=He(G,`users/${H.uid}/friends`);Is(fe,be=>{const de=be.val();U(de?Object.keys(de):[])})},[H]);const ne=async()=>{if(!o.trim())return;const G=tn();if(!H)return;const fe=Date.now(),be={text:s4(o),sender:H.uid,nickname:S,avatarUrl:D,timestamp:fe};let de;if(g==="public")de=He(G,"messages/public");else if(_)de=He(G,`messages/groups/${_}`);else{const tt=Ao(H.uid,g);de=He(G,`messages/private/${tt}`)}const Ye=ju(de);await ri(Ye,be),u(""),Notification.permission==="granted"&&H&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:D||"/image/default-avatar.jpg"})},Te=async G=>{const be=`https://g.tenor.com/v1/search?q=${G}&key=LIVDSRZULELA&limit=20`,Ye=await(await fetch(be)).json();w(Ye.results||[])},ce=G=>{const fe=document.getElementById(`msg-${G}`);fe&&(fe.classList.add("animate-shatter"),setTimeout(()=>{Nt(G)},500))},Nt=async G=>{if(!H)return;const fe=tn();let be;if(g==="public")be=He(fe,`messages/public/${G}`);else if(_)be=He(fe,`messages/groups/${_}/${G}`);else{const de=Ao(H.uid,g);be=He(fe,`messages/private/${de}/${G}`)}await ri(be,null)},Ue=async G=>{if(!H)return;const fe=tn(),be=Date.now(),de={text:"",gifUrl:G,sender:H.uid,nickname:S,avatarUrl:D,timestamp:be};let Ye;if(g==="public")Ye=He(fe,"messages/public");else if(_)Ye=He(fe,`messages/groups/${_}`);else{const Yt=Ao(H.uid,g);Ye=He(fe,`messages/private/${Yt}`)}const tt=ju(Ye);await ri(tt,de),ee(!1)},Mn=async G=>{var de;const fe=(de=G.target.files)==null?void 0:de[0];if(!fe||!H)return;const be=new FormData;be.append("file",fe),be.append("upload_preset",a4),be.append("folder","chat-images");try{const tt=await(await fetch(`https://api.cloudinary.com/v1_1/${r4}/image/upload`,{method:"POST",body:be})).json(),Yt=tn(),Fn=Date.now(),Kt={text:"",imageUrl:tt.secure_url,sender:H.uid,nickname:S,avatarUrl:D,timestamp:Fn};let ct;if(g==="public")ct=He(Yt,"messages/public");else if(_)ct=He(Yt,`messages/groups/${_}`);else{const Dt=Ao(H.uid,g);ct=He(Yt,`messages/private/${Dt}`)}const On=ju(ct);await ri(On,Kt)}catch(Ye){console.error("上傳圖片失敗:",Ye)}},ga=async G=>{if(!H)return;const fe=tn(),be=He(fe,`users/${H.uid}/friends/${G}`),de=He(fe,`users/${G}/friends/${H.uid}`);await ri(be,!0),await ri(de,!0)},$s=()=>{y("public"),b(""),P(!1)},ya=G=>{y(G),b(""),P(!1)},va=G=>{y(""),b(G),P(!1)},_a=()=>{ze("/profile"),P(!1)},Zc=async()=>{await Bs.signOut(),ze("")},Jc=async()=>{if(!$.trim()||Se.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const G=tn();if(!H)return;const fe=He(G,"groups"),be=ju(fe),de={};Se.forEach(Ye=>de[Ye]=!0),de[H.uid]=!0,await ri(be,{name:$,members:de}),Z(!1),re(""),Ge([])},sn=G=>new Date(G).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return B.createElement(B.Fragment,null,vn,Y&&B.createElement("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4"},B.createElement("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md"},B.createElement("h2",{className:"text-xl font-bold text-center mb-2"},"搜尋 GIF ✨"),B.createElement("input",{type:"text",value:q,onChange:G=>Q(G.target.value),placeholder:"輸入關鍵字...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),B.createElement("div",{className:"flex justify-end"},B.createElement("button",{onClick:()=>Te(q),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition"},"搜尋")),B.createElement("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto"},we.map(G=>B.createElement("img",{key:G.id,src:G.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>Ue(G.media[0].tinygif.url)}))),B.createElement("div",{className:"flex justify-center pt-4"},B.createElement("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-white"},"關閉")))),X&&B.createElement("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50"},B.createElement("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4"},B.createElement("h2",{className:"text-xl font-bold"},"創建新群組"),B.createElement("input",{type:"text",value:$,onChange:G=>re(G.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),B.createElement("div",{className:"max-h-40 overflow-y-auto space-y-2"},c.filter(G=>et.includes(G.uid)).length===0?B.createElement("div",{className:"text-gray-400 text-center py-4"},"尚未加任何好友，無法建立群組喔 🌸"):c.filter(G=>et.includes(G.uid)).map(G=>B.createElement("div",{key:G.uid,className:"flex items-center space-x-2"},B.createElement("input",{type:"checkbox",value:G.uid,onChange:fe=>{fe.target.checked?Ge(be=>[...be,G.uid]):Ge(be=>be.filter(de=>de!==G.uid))}}),B.createElement("span",null,G.nickname)))),B.createElement("div",{className:"flex justify-end space-x-2 pt-2"},B.createElement("button",{onClick:()=>Z(!1),className:"px-4 py-2 rounded-lg bg-gray-600"},"Cancel"),B.createElement("button",{onClick:Jc,className:"px-4 py-2 rounded-lg bg-green-600"},"Create")))),B.createElement("div",{className:"flex h-screen overflow-hidden relative"},B.createElement("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${W?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`},B.createElement("button",{onClick:$s,className:"text-lg font-bold hover:underline",style:{color:z}},"🌎 Public Chat"),B.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"All Users"),B.createElement("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto"},c&&c.map(G=>B.createElement("div",{key:G.uid,className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition"},B.createElement("button",{onClick:()=>ya(G.uid),className:"flex items-center space-x-2"},B.createElement("img",{src:G.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),B.createElement("span",null,G.nickname)),!et.includes(G.uid)&&B.createElement("button",{onClick:()=>ga(G.uid),className:"text-green-400 hover:text-green-300 text-lg"},"➕")))),B.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"Groups"),B.createElement("div",{className:"flex flex-col space-y-2"},d.filter(G=>G.members[H?H.uid:0]).map(G=>B.createElement("button",{key:G.id,onClick:()=>va(G.id),className:"hover:bg-white/10 p-2 rounded transition"},"🧑‍🤝‍🧑 ",G.name))),B.createElement("button",{onClick:()=>Z(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition"},"➕ Create Group"),B.createElement("div",{className:"flex space-x-4 pt-4 border-t border-white/20"},B.createElement("button",{onClick:()=>ze("/"),className:"text-sm hover:underline",style:{color:z}},"🏠"),B.createElement("button",{onClick:_a,className:"text-sm hover:underline",style:{color:z}},"Profile"),B.createElement("button",{onClick:Zc,className:"text-sm text-red-400 hover:underline"},"Logout"))),B.createElement("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner"},B.createElement("div",{className:"flex-1 overflow-y-auto p-4 space-y-4"},B.createElement("div",{className:"p-4"},B.createElement("input",{type:"text",placeholder:"搜尋訊息 🔍",value:t,onChange:G=>e(G.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})),i.filter(G=>{var de;if(!t.trim())return!0;const fe=t.toLowerCase();return(de=G.text)==null?void 0:de.toLowerCase().includes(fe)}).length===0?B.createElement("div",{className:"text-center text-gray-400 mt-10"},"沒有找到相關訊息喔 🌸"):i.filter(G=>{var de;if(!t.trim())return!0;const fe=t.toLowerCase();return(de=G.text)==null?void 0:de.toLowerCase().includes(fe)}).map(G=>B.createElement("div",{id:`msg-${G.id}`,className:`flex ${G.sender===(H==null?void 0:H.uid)?"justify-end":"justify-start"} fade-in`},B.createElement("div",{className:"flex items-end space-x-2"},G.sender!==(H==null?void 0:H.uid)&&B.createElement("img",{src:G.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),B.createElement("div",{className:"flex flex-col items-start max-w-xs"},G.sender===(H==null?void 0:H.uid)&&B.createElement("button",{onClick:()=>ce(G.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"收回訊息"},"↩️"),B.createElement("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:G.sender===(H==null?void 0:H.uid)?z:"#d1d5db",color:G.sender===(H==null?void 0:H.uid)?"white":"black"}},G.text&&B.createElement("span",null,G.text),G.imageUrl&&B.createElement("img",{src:G.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(G.imageUrl,"_blank")}),G.gifUrl&&B.createElement("img",{src:G.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(G.gifUrl,"_blank")})),B.createElement("span",{className:"text-xs text-gray-400 mt-1 ml-2"},sn(G.timestamp))),G.sender===(H==null?void 0:H.uid)&&B.createElement("img",{src:G.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})))),B.createElement("div",{ref:Gt})),B.createElement("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2"},B.createElement("input",{type:"text",value:o,onChange:G=>u(G.target.value),onKeyDown:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),ne())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),B.createElement("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:Mn}),B.createElement("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:z}},"🖼️"),B.createElement("button",{onClick:()=>ee(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:z}},"🔎"),B.createElement("button",{onClick:ne,style:{backgroundColor:z},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition"},"Send")))))},Kd=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],l4=()=>{const[t,e]=C.useState(""),[i,r]=C.useState(null),[o,u]=C.useState(""),[c,h]=C.useState(Kd[2].color),[d,p]=C.useState(""),[g,y]=C.useState(!0),_=ra(),b="dhtqetylj",S="Chatroom_Avatars",N=Bs.currentUser,D=C.useRef(null),{backgroundElement:x}=Qc();C.useEffect(()=>{if(!N){_("/login");return}const P=tn(),X=He(P,`users/${N.uid}`);Is(X,Z=>{const $=Z.val();$&&(e($.nickname||""),p($.statusMessage||""),u($.avatarUrl||""),h($.themeColor||Kd[2].color)),y(!1)})},[N,_]);async function z(P){const X=new FormData;return X.append("file",P),X.append("upload_preset",S),X.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${b}/image/upload`,{method:"POST",body:X})).json()).secure_url}const L=async()=>{if(!N)return;const P=tn(),X=He(P,`users/${N.uid}`);let Z=o;i&&(Z=await z(i)),await ri(X,{nickname:t,statusMessage:d,themeColor:c,avatarUrl:Z}),_("/chat")},W=P=>{var Z;const X=(Z=P.target.files)==null?void 0:Z[0];X&&(r(X),u(URL.createObjectURL(X)))};return g?B.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading Profile..."):B.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4"},x,B.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center"},B.createElement("h1",{className:"text-2xl font-bold mb-4 text-center text-white"},"Update Your Profile"),B.createElement("div",{className:"relative"},B.createElement("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var P;return(P=D.current)==null?void 0:P.click()}}),B.createElement("input",{type:"file",accept:"image/*",ref:D,onChange:W,className:"hidden"})),B.createElement("input",{type:"text",value:t,onChange:P=>e(P.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),B.createElement("input",{type:"text",value:d,onChange:P=>p(P.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),B.createElement("div",{className:"flex space-x-3 justify-center"},Kd.map(P=>B.createElement("button",{key:P.color,type:"button",onClick:()=>h(P.color),style:{backgroundColor:P.color},className:`w-8 h-8 rounded-full border-2 ${c===P.color?"border-white":"border-transparent"} transition-all`}))),B.createElement("button",{onClick:L,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c}},"Save")))};function u4(){const[t,e]=C.useState(null),[i,r]=C.useState(!0);return C.useEffect(()=>{const o=UM(Bs,u=>{e(u),r(!1)});return()=>o()},[]),i?B.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading..."):B.createElement(qx,null,B.createElement(Ex,null,B.createElement(Ro,{path:"/",element:B.createElement(KV,null)}),B.createElement(Ro,{path:"/login",element:t?B.createElement(vd,{to:"/chat"}):B.createElement(i4,null)}),B.createElement(Ro,{path:"/chat",element:t?B.createElement(o4,null):B.createElement(vd,{to:"/login"})}),B.createElement(Ro,{path:"/profile",element:t?B.createElement(l4,null):B.createElement(vd,{to:"/login"})})))}D1.createRoot(document.getElementById("root")).render(B.createElement(B.StrictMode,null,B.createElement(YV,null,B.createElement(u4,null))));
