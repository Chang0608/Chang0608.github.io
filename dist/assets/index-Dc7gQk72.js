(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bd={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function C1(){if(T0)return de;T0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function D(w,F,Q){this.props=w,this.context=F,this.refs=N,this.updater=Q||b}D.prototype.isReactComponent={},D.prototype.setState=function(w,F){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,F,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function x(){}x.prototype=D.prototype;function z(w,F,Q){this.props=w,this.context=F,this.refs=N,this.updater=Q||b}var L=z.prototype=new x;L.constructor=z,S(L,D.prototype),L.isPureReactComponent=!0;var K=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function Z(w,F,Q,X,ie,Ce){return Q=Ce.ref,{$$typeof:t,type:w,key:F,ref:Q!==void 0?Q:null,props:Ce}}function $(w,F){return Z(w.type,F,void 0,void 0,void 0,w.props)}function ae(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function Te(w){var F={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Q){return F[Q]})}var We=/\/+/g;function qe(w,F){return typeof w=="object"&&w!==null&&w.key!=null?Te(""+w.key):F.toString(36)}function yn(){}function Gt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(yn,yn):(w.status="pending",w.then(function(F){w.status==="pending"&&(w.status="fulfilled",w.value=F)},function(F){w.status==="pending"&&(w.status="rejected",w.reason=F)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Xe(w,F,Q,X,ie){var Ce=typeof w;(Ce==="undefined"||Ce==="boolean")&&(w=null);var le=!1;if(w===null)le=!0;else switch(Ce){case"bigint":case"string":case"number":le=!0;break;case"object":switch(w.$$typeof){case t:case e:le=!0;break;case g:return le=w._init,Xe(le(w._payload),F,Q,X,ie)}}if(le)return ie=ie(w),le=X===""?"."+qe(w,0):X,K(ie)?(Q="",le!=null&&(Q=le.replace(We,"$&/")+"/"),Xe(ie,F,Q,"",function(Dn){return Dn})):ie!=null&&(ae(ie)&&(ie=$(ie,Q+(ie.key==null||w&&w.key===ie.key?"":(""+ie.key).replace(We,"$&/")+"/")+le)),F.push(ie)),1;le=0;var te=X===""?".":X+":";if(K(w))for(var Ve=0;Ve<w.length;Ve++)X=w[Ve],Ce=te+qe(X,Ve),le+=Xe(X,F,Q,Ce,ie);else if(Ve=_(w),typeof Ve=="function")for(w=Ve.call(w),Ve=0;!(X=w.next()).done;)X=X.value,Ce=te+qe(X,Ve++),le+=Xe(X,F,Q,Ce,ie);else if(Ce==="object"){if(typeof w.then=="function")return Xe(Gt(w),F,Q,X,ie);throw F=String(w),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return le}function V(w,F,Q){if(w==null)return w;var X=[],ie=0;return Xe(w,X,"","",function(Ce){return F.call(Q,Ce,ie++)}),X}function G(w){if(w._status===-1){var F=w._result;F=F(),F.then(function(Q){(w._status===0||w._status===-1)&&(w._status=1,w._result=Q)},function(Q){(w._status===0||w._status===-1)&&(w._status=2,w._result=Q)}),w._status===-1&&(w._status=0,w._result=F)}if(w._status===1)return w._result.default;throw w._result}var ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ae(){}return de.Children={map:V,forEach:function(w,F,Q){V(w,function(){F.apply(this,arguments)},Q)},count:function(w){var F=0;return V(w,function(){F++}),F},toArray:function(w){return V(w,function(F){return F})||[]},only:function(w){if(!ae(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},de.Component=D,de.Fragment=n,de.Profiler=o,de.PureComponent=z,de.StrictMode=r,de.Suspense=d,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,de.__COMPILER_RUNTIME={__proto__:null,c:function(w){return P.H.useMemoCache(w)}},de.cache=function(w){return function(){return w.apply(null,arguments)}},de.cloneElement=function(w,F,Q){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=S({},w.props),ie=w.key,Ce=void 0;if(F!=null)for(le in F.ref!==void 0&&(Ce=void 0),F.key!==void 0&&(ie=""+F.key),F)!W.call(F,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&F.ref===void 0||(X[le]=F[le]);var le=arguments.length-2;if(le===1)X.children=Q;else if(1<le){for(var te=Array(le),Ve=0;Ve<le;Ve++)te[Ve]=arguments[Ve+2];X.children=te}return Z(w.type,ie,void 0,void 0,Ce,X)},de.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},de.createElement=function(w,F,Q){var X,ie={},Ce=null;if(F!=null)for(X in F.key!==void 0&&(Ce=""+F.key),F)W.call(F,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ie[X]=F[X]);var le=arguments.length-2;if(le===1)ie.children=Q;else if(1<le){for(var te=Array(le),Ve=0;Ve<le;Ve++)te[Ve]=arguments[Ve+2];ie.children=te}if(w&&w.defaultProps)for(X in le=w.defaultProps,le)ie[X]===void 0&&(ie[X]=le[X]);return Z(w,Ce,void 0,void 0,null,ie)},de.createRef=function(){return{current:null}},de.forwardRef=function(w){return{$$typeof:h,render:w}},de.isValidElement=ae,de.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:G}},de.memo=function(w,F){return{$$typeof:p,type:w,compare:F===void 0?null:F}},de.startTransition=function(w){var F=P.T,Q={};P.T=Q;try{var X=w(),ie=P.S;ie!==null&&ie(Q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ae,ee)}catch(Ce){ee(Ce)}finally{P.T=F}},de.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},de.use=function(w){return P.H.use(w)},de.useActionState=function(w,F,Q){return P.H.useActionState(w,F,Q)},de.useCallback=function(w,F){return P.H.useCallback(w,F)},de.useContext=function(w){return P.H.useContext(w)},de.useDebugValue=function(){},de.useDeferredValue=function(w,F){return P.H.useDeferredValue(w,F)},de.useEffect=function(w,F,Q){var X=P.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(w,F)},de.useId=function(){return P.H.useId()},de.useImperativeHandle=function(w,F,Q){return P.H.useImperativeHandle(w,F,Q)},de.useInsertionEffect=function(w,F){return P.H.useInsertionEffect(w,F)},de.useLayoutEffect=function(w,F){return P.H.useLayoutEffect(w,F)},de.useMemo=function(w,F){return P.H.useMemo(w,F)},de.useOptimistic=function(w,F){return P.H.useOptimistic(w,F)},de.useReducer=function(w,F,Q){return P.H.useReducer(w,F,Q)},de.useRef=function(w){return P.H.useRef(w)},de.useState=function(w){return P.H.useState(w)},de.useSyncExternalStore=function(w,F,Q){return P.H.useSyncExternalStore(w,F,Q)},de.useTransition=function(){return P.H.useTransition()},de.version="19.1.0",de}var C0;function Xm(){return C0||(C0=1,bd.exports=C1()),bd.exports}var C=Xm();const U=hS(C);var Sd={exports:{}},Eo={},Td={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function w1(){return w0||(w0=1,function(t){function e(V,G){var ee=V.length;V.push(G);e:for(;0<ee;){var Ae=ee-1>>>1,w=V[Ae];if(0<o(w,G))V[Ae]=G,V[ee]=w,ee=Ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],ee=V.pop();if(ee!==G){V[0]=ee;e:for(var Ae=0,w=V.length,F=w>>>1;Ae<F;){var Q=2*(Ae+1)-1,X=V[Q],ie=Q+1,Ce=V[ie];if(0>o(X,ee))ie<w&&0>o(Ce,X)?(V[Ae]=Ce,V[ie]=ee,Ae=ie):(V[Ae]=X,V[Q]=ee,Ae=Q);else if(ie<w&&0>o(Ce,ee))V[Ae]=Ce,V[ie]=ee,Ae=ie;else break e}}return G}function o(V,G){var ee=V.sortIndex-G.sortIndex;return ee!==0?ee:V.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],g=1,y=null,_=3,b=!1,S=!1,N=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function K(V){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=V)r(p),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(p)}}function P(V){if(N=!1,K(V),!S)if(n(d)!==null)S=!0,W||(W=!0,qe());else{var G=n(p);G!==null&&Xe(P,G.startTime-V)}}var W=!1,Z=-1,$=5,ae=-1;function Te(){return D?!0:!(t.unstable_now()-ae<$)}function We(){if(D=!1,W){var V=t.unstable_now();ae=V;var G=!0;try{e:{S=!1,N&&(N=!1,z(Z),Z=-1),b=!0;var ee=_;try{t:{for(K(V),y=n(d);y!==null&&!(y.expirationTime>V&&Te());){var Ae=y.callback;if(typeof Ae=="function"){y.callback=null,_=y.priorityLevel;var w=Ae(y.expirationTime<=V);if(V=t.unstable_now(),typeof w=="function"){y.callback=w,K(V),G=!0;break t}y===n(d)&&r(d),K(V)}else r(d);y=n(d)}if(y!==null)G=!0;else{var F=n(p);F!==null&&Xe(P,F.startTime-V),G=!1}}break e}finally{y=null,_=ee,b=!1}G=void 0}}finally{G?qe():W=!1}}}var qe;if(typeof L=="function")qe=function(){L(We)};else if(typeof MessageChannel<"u"){var yn=new MessageChannel,Gt=yn.port2;yn.port1.onmessage=We,qe=function(){Gt.postMessage(null)}}else qe=function(){x(We,0)};function Xe(V,G){Z=x(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var ee=_;_=G;try{return V()}finally{_=ee}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=_;_=V;try{return G()}finally{_=ee}},t.unstable_scheduleCallback=function(V,G,ee){var Ae=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ae+ee:Ae):ee=Ae,V){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,V={id:g++,callback:G,priorityLevel:V,startTime:ee,expirationTime:w,sortIndex:-1},ee>Ae?(V.sortIndex=ee,e(p,V),n(d)===null&&V===n(p)&&(N?(z(Z),Z=-1):N=!0,Xe(P,ee-Ae))):(V.sortIndex=w,e(d,V),S||b||(S=!0,W||(W=!0,qe()))),V},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(V){var G=_;return function(){var ee=_;_=G;try{return V.apply(this,arguments)}finally{_=ee}}}}(Cd)),Cd}var A0;function A1(){return A0||(A0=1,Td.exports=w1()),Td.exports}var wd={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function R1(){if(R0)return Nt;R0=1;var t=Xm();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(d,p,null,g)},Nt.flushSync=function(d){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=g,r.d.f()}},Nt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Nt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Nt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Nt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Nt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Nt.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Nt.requestFormReset=function(d){r.d.r(d)},Nt.unstable_batchedUpdates=function(d,p){return d(p)},Nt.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},Nt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Nt.version="19.1.0",Nt}var x0;function x1(){if(x0)return wd.exports;x0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wd.exports=R1(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function N1(){if(N0)return Eo;N0=1;var t=A1(),e=Xm(),n=x1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(u(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return h(f),i;if(m===l)return h(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,E=f.child;E;){if(E===a){v=!0,a=f,l=m;break}if(E===l){v=!0,l=f,a=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===a){v=!0,a=m,l=f;break}if(E===l){v=!0,l=m,a=f;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function qe(i){return i===null||typeof i!="object"?null:(i=We&&i[We]||i["@@iterator"],typeof i=="function"?i:null)}var yn=Symbol.for("react.client.reference");function Gt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===yn?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case W:return"SuspenseList";case ae:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case L:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case K:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return s=i.displayName||null,s!==null?s:Gt(i.type)||"Memo";case $:s=i._payload,i=i._init;try{return Gt(i(s))}catch{}}return null}var Xe=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ae=[],w=-1;function F(i){return{current:i}}function Q(i){0>w||(i.current=Ae[w],Ae[w]=null,w--)}function X(i,s){w++,Ae[w]=i.current,i.current=s}var ie=F(null),Ce=F(null),le=F(null),te=F(null);function Ve(i,s){switch(X(le,s),X(Ce,i),X(ie,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Q_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Q_(s),i=Z_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(ie),X(ie,i)}function Dn(){Q(ie),Q(Ce),Q(le)}function Ea(i){i.memoizedState!==null&&X(te,i);var s=ie.current,a=Z_(s,i.type);s!==a&&(X(Ce,i),X(ie,a))}function Ws(i){Ce.current===i&&(Q(ie),Q(Ce)),te.current===i&&(Q(te),po._currentValue=ee)}var ba=Object.prototype.hasOwnProperty,Sa=t.unstable_scheduleCallback,Xs=t.unstable_cancelCallback,af=t.unstable_shouldYield,of=t.unstable_requestPaint,tn=t.unstable_now,lf=t.unstable_getCurrentPriorityLevel,xl=t.unstable_ImmediatePriority,Nl=t.unstable_UserBlockingPriority,$s=t.unstable_NormalPriority,q=t.unstable_LowPriority,he=t.unstable_IdlePriority,ve=t.log,Se=t.unstable_setDisableYieldValue,Be=null,Re=null;function lt(i){if(typeof ve=="function"&&Se(i),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Be,i)}catch{}}var st=Math.clz32?Math.clz32:uf,Mn=Math.log,Qs=Math.LN2;function uf(i){return i>>>=0,i===0?32:31-(Mn(i)/Qs|0)|0}var Zs=256,Dl=4194304;function us(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ml(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?f=us(l):(v&=E,v!==0?f=us(v):a||(a=E&~i,a!==0&&(f=us(a))))):(E=l&~m,E!==0?f=us(E):v!==0?f=us(v):a||(a=l&~i,a!==0&&(f=us(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Ta(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function fA(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kg(){var i=Zs;return Zs<<=1,(Zs&4194048)===0&&(Zs=256),i}function Lg(){var i=Dl;return Dl<<=1,(Dl&62914560)===0&&(Dl=4194304),i}function cf(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ca(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hA(i,s,a,l,f,m){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var E=i.entanglements,T=i.expirationTimes,O=i.hiddenUpdates;for(a=v&~a;0<a;){var B=31-st(a),j=1<<B;E[B]=0,T[B]=-1;var I=O[B];if(I!==null)for(O[B]=null,B=0;B<I.length;B++){var k=I[B];k!==null&&(k.lane&=-536870913)}a&=~j}l!==0&&Pg(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(v&~s))}function Pg(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-st(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function Ug(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-st(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function ff(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function hf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vg(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:y0(i.type))}function dA(i,s){var a=G.p;try{return G.p=i,s()}finally{G.p=a}}var vi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+vi,Pt="__reactProps$"+vi,Js="__reactContainer$"+vi,df="__reactEvents$"+vi,mA="__reactListeners$"+vi,pA="__reactHandles$"+vi,Bg="__reactResources$"+vi,wa="__reactMarker$"+vi;function mf(i){delete i[Rt],delete i[Pt],delete i[df],delete i[mA],delete i[pA]}function er(i){var s=i[Rt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Js]||a[Rt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=n0(i);i!==null;){if(a=i[Rt])return a;i=n0(i)}return s}i=a,a=i.parentNode}return null}function tr(i){if(i=i[Rt]||i[Js]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Aa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function nr(i){var s=i[Bg];return s||(s=i[Bg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(i){i[wa]=!0}var zg=new Set,Hg={};function cs(i,s){ir(i,s),ir(i+"Capture",s)}function ir(i,s){for(Hg[i]=s,i=0;i<s.length;i++)zg.add(s[i])}var gA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jg={},Fg={};function yA(i){return ba.call(Fg,i)?!0:ba.call(jg,i)?!1:gA.test(i)?Fg[i]=!0:(jg[i]=!0,!1)}function Ol(i,s,a){if(yA(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Il(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Fn(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var pf,qg;function sr(i){if(pf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);pf=s&&s[1]||"",qg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pf+i+qg}var gf=!1;function yf(i,s){if(!i||gf)return"";gf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(k){var I=k}Reflect.construct(i,[],j)}else{try{j.call()}catch(k){I=k}i.call(j.prototype)}}else{try{throw Error()}catch(k){I=k}(j=i())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(k){if(k&&I&&typeof k.stack=="string")return[k.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var T=v.split(`
`),O=E.split(`
`);for(f=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(l===T.length||f===O.length)for(l=T.length-1,f=O.length-1;1<=l&&0<=f&&T[l]!==O[f];)f--;for(;1<=l&&0<=f;l--,f--)if(T[l]!==O[f]){if(l!==1||f!==1)do if(l--,f--,0>f||T[l]!==O[f]){var B=`
`+T[l].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=l&&0<=f);break}}}finally{gf=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?sr(a):""}function vA(i){switch(i.tag){case 26:case 27:case 5:return sr(i.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return yf(i.type,!1);case 11:return yf(i.type.render,!1);case 1:return yf(i.type,!0);case 31:return sr("Activity");default:return""}}function Gg(i){try{var s="";do s+=vA(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _A(i){var s=Yg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function kl(i){i._valueTracker||(i._valueTracker=_A(i))}function Kg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Yg(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Ll(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var EA=/[\n"\\]/g;function sn(i){return i.replace(EA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vf(i,s,a,l,f,m,v,E){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+nn(s)):i.value!==""+nn(s)&&(i.value=""+nn(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?_f(i,v,nn(s)):a!=null?_f(i,v,nn(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+nn(E):i.removeAttribute("name")}function Wg(i,s,a,l,f,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,E||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=E?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function _f(i,s,a){s==="number"&&Ll(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function rr(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Xg(i,s,a){if(s!=null&&(s=""+nn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+nn(a):""}function $g(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function ar(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var bA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qg(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||bA.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Zg(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Qg(i,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Qg(i,m,s[m])}function Ef(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(i){return TA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var bf=null;function Sf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var or=null,lr=null;function Jg(i){var s=tr(i);if(s&&(i=s.stateNode)){var a=i[Pt]||null;e:switch(i=s.stateNode,s.type){case"input":if(vf(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Pt]||null;if(!f)throw Error(r(90));vf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Kg(l)}break e;case"textarea":Xg(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&rr(i,!!a.multiple,s,!1)}}}var Tf=!1;function ey(i,s,a){if(Tf)return i(s,a);Tf=!0;try{var l=i(s);return l}finally{if(Tf=!1,(or!==null||lr!==null)&&(bu(),or&&(s=or,i=lr,lr=or=null,Jg(s),i)))for(s=0;s<i.length;s++)Jg(i[s])}}function Ra(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=!1;if(qn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Cf=!1}var _i=null,wf=null,Ul=null;function ty(){if(Ul)return Ul;var i,s=wf,a=s.length,l,f="value"in _i?_i.value:_i.textContent,m=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&s[a-l]===f[m-l];l++);return Ul=f.slice(i,1<l?1-l:void 0)}function Vl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Bl(){return!0}function ny(){return!1}function Ut(i){function s(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(a=i[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Bl:ny,this.isPropagationStopped=ny,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Ut(fs),Na=g({},fs,{view:0,detail:0}),CA=Ut(Na),Af,Rf,Da,Hl=g({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Da&&(Da&&i.type==="mousemove"?(Af=i.screenX-Da.screenX,Rf=i.screenY-Da.screenY):Rf=Af=0,Da=i),Af)},movementY:function(i){return"movementY"in i?i.movementY:Rf}}),iy=Ut(Hl),wA=g({},Hl,{dataTransfer:0}),AA=Ut(wA),RA=g({},Na,{relatedTarget:0}),xf=Ut(RA),xA=g({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),NA=Ut(xA),DA=g({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),MA=Ut(DA),OA=g({},fs,{data:0}),sy=Ut(OA),IA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=LA[i])?!!s[i]:!1}function Nf(){return PA}var UA=g({},Na,{key:function(i){if(i.key){var s=IA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Vl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(i){return i.type==="keypress"?Vl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),VA=Ut(UA),BA=g({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=Ut(BA),zA=g({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),HA=Ut(zA),jA=g({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=Ut(jA),qA=g({},Hl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GA=Ut(qA),YA=g({},fs,{newState:0,oldState:0}),KA=Ut(YA),WA=[9,13,27,32],Df=qn&&"CompositionEvent"in window,Ma=null;qn&&"documentMode"in document&&(Ma=document.documentMode);var XA=qn&&"TextEvent"in window&&!Ma,ay=qn&&(!Df||Ma&&8<Ma&&11>=Ma),oy=" ",ly=!1;function uy(i,s){switch(i){case"keyup":return WA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ur=!1;function $A(i,s){switch(i){case"compositionend":return cy(s);case"keypress":return s.which!==32?null:(ly=!0,oy);case"textInput":return i=s.data,i===oy&&ly?null:i;default:return null}}function QA(i,s){if(ur)return i==="compositionend"||!Df&&uy(i,s)?(i=ty(),Ul=wf=_i=null,ur=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ay&&s.locale!=="ko"?null:s.data;default:return null}}var ZA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ZA[i.type]:s==="textarea"}function hy(i,s,a,l){or?lr?lr.push(l):lr=[l]:or=l,s=Ru(s,"onChange"),0<s.length&&(a=new zl("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Oa=null,Ia=null;function JA(i){Y_(i,0)}function jl(i){var s=Aa(i);if(Kg(s))return i}function dy(i,s){if(i==="change")return s}var my=!1;if(qn){var Mf;if(qn){var Of="oninput"in document;if(!Of){var py=document.createElement("div");py.setAttribute("oninput","return;"),Of=typeof py.oninput=="function"}Mf=Of}else Mf=!1;my=Mf&&(!document.documentMode||9<document.documentMode)}function gy(){Oa&&(Oa.detachEvent("onpropertychange",yy),Ia=Oa=null)}function yy(i){if(i.propertyName==="value"&&jl(Ia)){var s=[];hy(s,Ia,i,Sf(i)),ey(JA,s)}}function eR(i,s,a){i==="focusin"?(gy(),Oa=s,Ia=a,Oa.attachEvent("onpropertychange",yy)):i==="focusout"&&gy()}function tR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jl(Ia)}function nR(i,s){if(i==="click")return jl(s)}function iR(i,s){if(i==="input"||i==="change")return jl(s)}function sR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Yt=typeof Object.is=="function"?Object.is:sR;function ka(i,s){if(Yt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ba.call(s,f)||!Yt(i[f],s[f]))return!1}return!0}function vy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _y(i,s){var a=vy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vy(a)}}function Ey(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ey(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function by(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ll(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ll(i.document)}return s}function If(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var rR=qn&&"documentMode"in document&&11>=document.documentMode,cr=null,kf=null,La=null,Lf=!1;function Sy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||cr==null||cr!==Ll(l)||(l=cr,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),La&&ka(La,l)||(La=l,l=Ru(kf,"onSelect"),0<l.length&&(s=new zl("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=cr)))}function hs(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var fr={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Pf={},Ty={};qn&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ds(i){if(Pf[i])return Pf[i];if(!fr[i])return i;var s=fr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ty)return Pf[i]=s[a];return i}var Cy=ds("animationend"),wy=ds("animationiteration"),Ay=ds("animationstart"),aR=ds("transitionrun"),oR=ds("transitionstart"),lR=ds("transitioncancel"),Ry=ds("transitionend"),xy=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function vn(i,s){xy.set(i,s),cs(s,[i])}var Ny=new WeakMap;function rn(i,s){if(typeof i=="object"&&i!==null){var a=Ny.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Gg(s)},Ny.set(i,s),s)}return{value:i,source:s,stack:Gg(s)}}var an=[],hr=0,Vf=0;function Fl(){for(var i=hr,s=Vf=hr=0;s<i;){var a=an[s];an[s++]=null;var l=an[s];an[s++]=null;var f=an[s];an[s++]=null;var m=an[s];if(an[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&Dy(a,f,m)}}function ql(i,s,a,l){an[hr++]=i,an[hr++]=s,an[hr++]=a,an[hr++]=l,Vf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Bf(i,s,a,l){return ql(i,s,a,l),Gl(i)}function dr(i,s){return ql(i,null,null,s),Gl(i)}function Dy(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&s!==null&&(f=31-st(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Gl(i){if(50<ao)throw ao=0,Gh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var mr={};function uR(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(i,s,a,l){return new uR(i,s,a,l)}function zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gn(i,s){var a=i.alternate;return a===null?(a=Kt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function My(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Yl(i,s,a,l,f,m){var v=0;if(l=i,typeof i=="function")zf(i)&&(v=1);else if(typeof i=="string")v=f1(i,a,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ae:return i=Kt(31,a,s,f),i.elementType=ae,i.lanes=m,i;case S:return ms(a.children,f,m,s);case N:v=8,f|=24;break;case D:return i=Kt(12,a,s,f|2),i.elementType=D,i.lanes=m,i;case P:return i=Kt(13,a,s,f),i.elementType=P,i.lanes=m,i;case W:return i=Kt(19,a,s,f),i.elementType=W,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:case L:v=10;break e;case z:v=9;break e;case K:v=11;break e;case Z:v=14;break e;case $:v=16,l=null;break e}v=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Kt(v,a,s,f),s.elementType=i,s.type=l,s.lanes=m,s}function ms(i,s,a,l){return i=Kt(7,i,l,s),i.lanes=a,i}function Hf(i,s,a){return i=Kt(6,i,null,s),i.lanes=a,i}function jf(i,s,a){return s=Kt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var pr=[],gr=0,Kl=null,Wl=0,on=[],ln=0,ps=null,Yn=1,Kn="";function gs(i,s){pr[gr++]=Wl,pr[gr++]=Kl,Kl=i,Wl=s}function Oy(i,s,a){on[ln++]=Yn,on[ln++]=Kn,on[ln++]=ps,ps=i;var l=Yn;i=Kn;var f=32-st(l)-1;l&=~(1<<f),a+=1;var m=32-st(s)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Yn=1<<32-st(s)+f|a<<f|l,Kn=m+i}else Yn=1<<m|a<<f|l,Kn=i}function Ff(i){i.return!==null&&(gs(i,1),Oy(i,1,0))}function qf(i){for(;i===Kl;)Kl=pr[--gr],pr[gr]=null,Wl=pr[--gr],pr[gr]=null;for(;i===ps;)ps=on[--ln],on[ln]=null,Kn=on[--ln],on[ln]=null,Yn=on[--ln],on[ln]=null}var Ot=null,Je=null,Ne=!1,ys=null,On=!1,Gf=Error(r(519));function vs(i){var s=Error(r(418,""));throw Va(rn(s,i)),Gf}function Iy(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Rt]=i,s[Pt]=l,a){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(a=0;a<lo.length;a++)Ee(lo[a],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":Ee("invalid",s),Wg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),kl(s);break;case"select":Ee("invalid",s);break;case"textarea":Ee("invalid",s),$g(s,l.value,l.defaultValue,l.children),kl(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||$_(s.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",s),Ee("toggle",s)),l.onScroll!=null&&Ee("scroll",s),l.onScrollEnd!=null&&Ee("scrollend",s),l.onClick!=null&&(s.onclick=xu),s=!0):s=!1,s||vs(i)}function ky(i){for(Ot=i.return;Ot;)switch(Ot.tag){case 5:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Ot=Ot.return}}function Pa(i){if(i!==Ot)return!1;if(!Ne)return ky(i),Ne=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||od(i.type,i.memoizedProps)),a=!a),a&&Je&&vs(i),ky(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){Je=En(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}Je=null}}else s===27?(s=Je,Li(i.type)?(i=fd,fd=null,Je=i):Je=s):Je=Ot?En(i.stateNode.nextSibling):null;return!0}function Ua(){Je=Ot=null,Ne=!1}function Ly(){var i=ys;return i!==null&&(zt===null?zt=i:zt.push.apply(zt,i),ys=null),i}function Va(i){ys===null?ys=[i]:ys.push(i)}var Yf=F(null),_s=null,Wn=null;function Ei(i,s,a){X(Yf,s._currentValue),s._currentValue=a}function Xn(i){i._currentValue=Yf.current,Q(Yf)}function Kf(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Wf(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var T=0;T<s.length;T++)if(E.context===s[T]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Kf(m.return,a,i),l||(v=null);break e}m=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Kf(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ba(i,s,a,l){i=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=f.type;Yt(f.pendingProps.value,v.value)||(i!==null?i.push(E):i=[E])}}else if(f===te.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(po):i=[po])}f=f.return}i!==null&&Wf(s,i,a,l),s.flags|=262144}function Xl(i){for(i=i.firstContext;i!==null;){if(!Yt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Es(i){_s=i,Wn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xt(i){return Py(_s,i)}function $l(i,s){return _s===null&&Es(i),Py(i,s)}function Py(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Wn===null){if(i===null)throw Error(r(308));Wn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wn=Wn.next=s;return a}var cR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},fR=t.unstable_scheduleCallback,hR=t.unstable_NormalPriority,ft={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new cR,data:new Map,refCount:0}}function za(i){i.refCount--,i.refCount===0&&fR(hR,function(){i.controller.abort()})}var Ha=null,$f=0,yr=0,vr=null;function dR(i,s){if(Ha===null){var a=Ha=[];$f=0,yr=Zh(),vr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,s.then(Uy,Uy),s}function Uy(){if(--$f===0&&Ha!==null){vr!==null&&(vr.status="fulfilled");var i=Ha;Ha=null,yr=0,vr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function mR(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Vy=V.S;V.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&dR(i,s),Vy!==null&&Vy(i,s)};var bs=F(null);function Qf(){var i=bs.current;return i!==null?i:He.pooledCache}function Ql(i,s){s===null?X(bs,bs.current):X(bs,s.pool)}function By(){var i=Qf();return i===null?null:{parent:ft._currentValue,pool:i}}var ja=Error(r(460)),zy=Error(r(474)),Zl=Error(r(542)),Zf={then:function(){}};function Hy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jl(){}function jy(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Jl,Jl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qy(i),i;default:if(typeof s.status=="string")s.then(Jl,Jl);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qy(i),i}throw Fa=s,ja}}var Fa=null;function Fy(){if(Fa===null)throw Error(r(459));var i=Fa;return Fa=null,i}function qy(i){if(i===ja||i===Zl)throw Error(r(483))}var bi=!1;function Jf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Si(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ti(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Gl(i),Dy(i,null,a),s}return ql(i,l,s,a),Gl(i)}function qa(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Ug(i,a)}}function th(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var nh=!1;function Ga(){if(nh){var i=vr;if(i!==null)throw i}}function Ya(i,s,a,l){nh=!1;var f=i.updateQueue;bi=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var T=E,O=T.next;T.next=null,v===null?m=O:v.next=O,v=T;var B=i.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==v&&(E===null?B.firstBaseUpdate=O:E.next=O,B.lastBaseUpdate=T))}if(m!==null){var j=f.baseState;v=0,B=O=T=null,E=m;do{var I=E.lane&-536870913,k=I!==E.lane;if(k?(we&I)===I:(l&I)===I){I!==0&&I===yr&&(nh=!0),B!==null&&(B=B.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=i,se=E;I=s;var Le=a;switch(se.tag){case 1:if(ue=se.payload,typeof ue=="function"){j=ue.call(Le,j,I);break e}j=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=se.payload,I=typeof ue=="function"?ue.call(Le,j,I):ue,I==null)break e;j=g({},j,I);break e;case 2:bi=!0}}I=E.callback,I!==null&&(i.flags|=64,k&&(i.flags|=8192),k=f.callbacks,k===null?f.callbacks=[I]:k.push(I))}else k={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(O=B=k,T=j):B=B.next=k,v|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);B===null&&(T=j),f.baseState=T,f.firstBaseUpdate=O,f.lastBaseUpdate=B,m===null&&(f.shared.lanes=0),Mi|=v,i.lanes=v,i.memoizedState=j}}function Gy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Yy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Gy(a[i],s)}var _r=F(null),eu=F(0);function Ky(i,s){i=ni,X(eu,i),X(_r,s),ni=i|s.baseLanes}function ih(){X(eu,ni),X(_r,_r.current)}function sh(){ni=eu.current,Q(_r),Q(eu)}var Ci=0,me=null,Ie=null,ut=null,tu=!1,Er=!1,Ss=!1,nu=0,Ka=0,br=null,pR=0;function rt(){throw Error(r(321))}function rh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Yt(i[a],s[a]))return!1;return!0}function ah(i,s,a,l,f,m){return Ci=m,me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=i===null||i.memoizedState===null?Dv:Mv,Ss=!1,m=a(l,f),Ss=!1,Er&&(m=Xy(s,a,l,f)),Wy(i),m}function Wy(i){V.H=lu;var s=Ie!==null&&Ie.next!==null;if(Ci=0,ut=Ie=me=null,tu=!1,Ka=0,br=null,s)throw Error(r(300));i===null||mt||(i=i.dependencies,i!==null&&Xl(i)&&(mt=!0))}function Xy(i,s,a,l){me=i;var f=0;do{if(Er&&(br=null),Ka=0,Er=!1,25<=f)throw Error(r(301));if(f+=1,ut=Ie=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}V.H=SR,m=s(a,l)}while(Er);return m}function gR(){var i=V.H,s=i.useState()[0];return s=typeof s.then=="function"?Wa(s):s,i=i.useState()[0],(Ie!==null?Ie.memoizedState:null)!==i&&(me.flags|=1024),s}function oh(){var i=nu!==0;return nu=0,i}function lh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function uh(i){if(tu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}tu=!1}Ci=0,ut=Ie=me=null,Er=!1,Ka=nu=0,br=null}function Vt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?me.memoizedState=ut=i:ut=ut.next=i,ut}function ct(){if(Ie===null){var i=me.alternate;i=i!==null?i.memoizedState:null}else i=Ie.next;var s=ut===null?me.memoizedState:ut.next;if(s!==null)ut=s,Ie=i;else{if(i===null)throw me.alternate===null?Error(r(467)):Error(r(310));Ie=i,i={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ut===null?me.memoizedState=ut=i:ut=ut.next=i}return ut}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(i){var s=Ka;return Ka+=1,br===null&&(br=[]),i=jy(br,i,s),s=me,(ut===null?s.memoizedState:ut.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?Dv:Mv),i}function iu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wa(i);if(i.$$typeof===L)return xt(i)}throw Error(r(438,String(i)))}function fh(i){var s=null,a=me.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ch(),me.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=Te;return s.index++,a}function $n(i,s){return typeof s=="function"?s(i):s}function su(i){var s=ct();return hh(s,Ie,i)}function hh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{s=f.next;var E=v=null,T=null,O=s,B=!1;do{var j=O.lane&-536870913;if(j!==O.lane?(we&j)===j:(Ci&j)===j){var I=O.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),j===yr&&(B=!0);else if((Ci&I)===I){O=O.next,I===yr&&(B=!0);continue}else j={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=j,v=m):T=T.next=j,me.lanes|=I,Mi|=I;j=O.action,Ss&&a(m,j),m=O.hasEagerState?O.eagerState:a(m,j)}else I={lane:j,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=I,v=m):T=T.next=I,me.lanes|=j,Mi|=j;O=O.next}while(O!==null&&O!==s);if(T===null?v=m:T.next=E,!Yt(m,i.memoizedState)&&(mt=!0,B&&(a=vr,a!==null)))throw a;i.memoizedState=m,i.baseState=v,i.baseQueue=T,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function dh(i){var s=ct(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=i(m,v.action),v=v.next;while(v!==f);Yt(m,s.memoizedState)||(mt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function $y(i,s,a){var l=me,f=ct(),m=Ne;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Yt((Ie||f).memoizedState,a);v&&(f.memoizedState=a,mt=!0),f=f.queue;var E=Jy.bind(null,l,f,i);if(Xa(2048,8,E,[i]),f.getSnapshot!==s||v||ut!==null&&ut.memoizedState.tag&1){if(l.flags|=2048,Sr(9,ru(),Zy.bind(null,l,f,a,s),null),He===null)throw Error(r(349));m||(Ci&124)!==0||Qy(l,s,a)}return a}function Qy(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=me.updateQueue,s===null?(s=ch(),me.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Zy(i,s,a,l){s.value=a,s.getSnapshot=l,ev(s)&&tv(i)}function Jy(i,s,a){return a(function(){ev(s)&&tv(i)})}function ev(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Yt(i,a)}catch{return!0}}function tv(i){var s=dr(i,2);s!==null&&Zt(s,i,2)}function mh(i){var s=Vt();if(typeof i=="function"){var a=i;if(i=a(),Ss){lt(!0);try{a()}finally{lt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:i},s}function nv(i,s,a,l){return i.baseState=a,hh(i,Ie,typeof l=="function"?l:$n)}function yR(i,s,a,l,f){if(ou(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};V.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,iv(s,m)):(m.next=a.next,s.pending=a.next=m)}}function iv(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var m=V.T,v={};V.T=v;try{var E=a(f,l),T=V.S;T!==null&&T(v,E),sv(i,s,E)}catch(O){ph(i,s,O)}finally{V.T=m}}else try{m=a(f,l),sv(i,s,m)}catch(O){ph(i,s,O)}}function sv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rv(i,s,l)},function(l){return ph(i,s,l)}):rv(i,s,a)}function rv(i,s,a){s.status="fulfilled",s.value=a,av(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,iv(i,a)))}function ph(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,av(s),s=s.next;while(s!==l)}i.action=null}function av(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function ov(i,s){return s}function lv(i,s){if(Ne){var a=He.formState;if(a!==null){e:{var l=me;if(Ne){if(Je){t:{for(var f=Je,m=On;f.nodeType!==8;){if(!m){f=null;break t}if(f=En(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Je=En(f.nextSibling),l=f.data==="F!";break e}}vs(l)}l=!1}l&&(s=a[0])}}return a=Vt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:s},a.queue=l,a=Rv.bind(null,me,l),l.dispatch=a,l=mh(!1),m=Eh.bind(null,me,!1,l.queue),l=Vt(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=yR.bind(null,me,f,m,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function uv(i){var s=ct();return cv(s,Ie,i)}function cv(i,s,a){if(s=hh(i,s,ov)[0],i=su($n)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Wa(s)}catch(v){throw v===ja?Zl:v}else l=s;s=ct();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(me.flags|=2048,Sr(9,ru(),vR.bind(null,f,a),null)),[l,m,i]}function vR(i,s){i.action=s}function fv(i){var s=ct(),a=Ie;if(a!==null)return cv(s,a,i);ct(),s=s.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Sr(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=me.updateQueue,s===null&&(s=ch(),me.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function ru(){return{destroy:void 0,resource:void 0}}function hv(){return ct().memoizedState}function au(i,s,a,l){var f=Vt();l=l===void 0?null:l,me.flags|=i,f.memoizedState=Sr(1|s,ru(),a,l)}function Xa(i,s,a,l){var f=ct();l=l===void 0?null:l;var m=f.memoizedState.inst;Ie!==null&&l!==null&&rh(l,Ie.memoizedState.deps)?f.memoizedState=Sr(s,m,a,l):(me.flags|=i,f.memoizedState=Sr(1|s,m,a,l))}function dv(i,s){au(8390656,8,i,s)}function mv(i,s){Xa(2048,8,i,s)}function pv(i,s){return Xa(4,2,i,s)}function gv(i,s){return Xa(4,4,i,s)}function yv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function vv(i,s,a){a=a!=null?a.concat([i]):null,Xa(4,4,yv.bind(null,s,i),a)}function gh(){}function _v(i,s){var a=ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&rh(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Ev(i,s){var a=ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&rh(s,l[1]))return l[0];if(l=i(),Ss){lt(!0);try{i()}finally{lt(!1)}}return a.memoizedState=[l,s],l}function yh(i,s,a){return a===void 0||(Ci&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=T_(),me.lanes|=i,Mi|=i,a)}function bv(i,s,a,l){return Yt(a,s)?a:_r.current!==null?(i=yh(i,a,l),Yt(i,s)||(mt=!0),i):(Ci&42)===0?(mt=!0,i.memoizedState=a):(i=T_(),me.lanes|=i,Mi|=i,s)}function Sv(i,s,a,l,f){var m=G.p;G.p=m!==0&&8>m?m:8;var v=V.T,E={};V.T=E,Eh(i,!1,s,a);try{var T=f(),O=V.S;if(O!==null&&O(E,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=mR(T,l);$a(i,s,B,Qt(i))}else $a(i,s,l,Qt(i))}catch(j){$a(i,s,{then:function(){},status:"rejected",reason:j},Qt())}finally{G.p=m,V.T=v}}function _R(){}function vh(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=Tv(i).queue;Sv(i,f,s,ee,a===null?_R:function(){return Cv(i),a(l)})}function Tv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:ee},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Cv(i){var s=Tv(i).next.queue;$a(i,s,{},Qt())}function _h(){return xt(po)}function wv(){return ct().memoizedState}function Av(){return ct().memoizedState}function ER(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Qt();i=Si(a);var l=Ti(s,i,a);l!==null&&(Zt(l,s,a),qa(l,s,a)),s={cache:Xf()},i.payload=s;return}s=s.return}}function bR(i,s,a){var l=Qt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ou(i)?xv(s,a):(a=Bf(i,s,a,l),a!==null&&(Zt(a,i,l),Nv(a,s,l)))}function Rv(i,s,a){var l=Qt();$a(i,s,a,l)}function $a(i,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ou(i))xv(s,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,E=m(v,a);if(f.hasEagerState=!0,f.eagerState=E,Yt(E,v))return ql(i,s,f,0),He===null&&Fl(),!1}catch{}finally{}if(a=Bf(i,s,f,l),a!==null)return Zt(a,i,l),Nv(a,s,l),!0}return!1}function Eh(i,s,a,l){if(l={lane:2,revertLane:Zh(),action:l,hasEagerState:!1,eagerState:null,next:null},ou(i)){if(s)throw Error(r(479))}else s=Bf(i,a,l,2),s!==null&&Zt(s,i,2)}function ou(i){var s=i.alternate;return i===me||s!==null&&s===me}function xv(i,s){Er=tu=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Nv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Ug(i,a)}}var lu={readContext:xt,use:iu,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},Dv={readContext:xt,use:iu,useCallback:function(i,s){return Vt().memoizedState=[i,s===void 0?null:s],i},useContext:xt,useEffect:dv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,au(4194308,4,yv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return au(4194308,4,i,s)},useInsertionEffect:function(i,s){au(4,2,i,s)},useMemo:function(i,s){var a=Vt();s=s===void 0?null:s;var l=i();if(Ss){lt(!0);try{i()}finally{lt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=Vt();if(a!==void 0){var f=a(s);if(Ss){lt(!0);try{a(s)}finally{lt(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=bR.bind(null,me,i),[l.memoizedState,i]},useRef:function(i){var s=Vt();return i={current:i},s.memoizedState=i},useState:function(i){i=mh(i);var s=i.queue,a=Rv.bind(null,me,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:gh,useDeferredValue:function(i,s){var a=Vt();return yh(a,i,s)},useTransition:function(){var i=mh(!1);return i=Sv.bind(null,me,i.queue,!0,!1),Vt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=me,f=Vt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),He===null)throw Error(r(349));(we&124)!==0||Qy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,dv(Jy.bind(null,l,m,i),[i]),l.flags|=2048,Sr(9,ru(),Zy.bind(null,l,m,a,s),null),a},useId:function(){var i=Vt(),s=He.identifierPrefix;if(Ne){var a=Kn,l=Yn;a=(l&~(1<<32-st(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=nu++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=pR++,s="«"+s+"r"+a.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:_h,useFormState:lv,useActionState:lv,useOptimistic:function(i){var s=Vt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Eh.bind(null,me,!0,a),a.dispatch=s,[i,s]},useMemoCache:fh,useCacheRefresh:function(){return Vt().memoizedState=ER.bind(null,me)}},Mv={readContext:xt,use:iu,useCallback:_v,useContext:xt,useEffect:mv,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:Ev,useReducer:su,useRef:hv,useState:function(){return su($n)},useDebugValue:gh,useDeferredValue:function(i,s){var a=ct();return bv(a,Ie.memoizedState,i,s)},useTransition:function(){var i=su($n)[0],s=ct().memoizedState;return[typeof i=="boolean"?i:Wa(i),s]},useSyncExternalStore:$y,useId:wv,useHostTransitionStatus:_h,useFormState:uv,useActionState:uv,useOptimistic:function(i,s){var a=ct();return nv(a,Ie,i,s)},useMemoCache:fh,useCacheRefresh:Av},SR={readContext:xt,use:iu,useCallback:_v,useContext:xt,useEffect:mv,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:Ev,useReducer:dh,useRef:hv,useState:function(){return dh($n)},useDebugValue:gh,useDeferredValue:function(i,s){var a=ct();return Ie===null?yh(a,i,s):bv(a,Ie.memoizedState,i,s)},useTransition:function(){var i=dh($n)[0],s=ct().memoizedState;return[typeof i=="boolean"?i:Wa(i),s]},useSyncExternalStore:$y,useId:wv,useHostTransitionStatus:_h,useFormState:fv,useActionState:fv,useOptimistic:function(i,s){var a=ct();return Ie!==null?nv(a,Ie,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:fh,useCacheRefresh:Av},Tr=null,Qa=0;function uu(i){var s=Qa;return Qa+=1,Tr===null&&(Tr=[]),jy(Tr,i,s)}function Za(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function cu(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ov(i){var s=i._init;return s(i._payload)}function Iv(i){function s(R,A){if(i){var M=R.deletions;M===null?(R.deletions=[A],R.flags|=16):M.push(A)}}function a(R,A){if(!i)return null;for(;A!==null;)s(R,A),A=A.sibling;return null}function l(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function f(R,A){return R=Gn(R,A),R.index=0,R.sibling=null,R}function m(R,A,M){return R.index=M,i?(M=R.alternate,M!==null?(M=M.index,M<A?(R.flags|=67108866,A):M):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function v(R){return i&&R.alternate===null&&(R.flags|=67108866),R}function E(R,A,M,H){return A===null||A.tag!==6?(A=Hf(M,R.mode,H),A.return=R,A):(A=f(A,M),A.return=R,A)}function T(R,A,M,H){var J=M.type;return J===S?B(R,A,M.props.children,H,M.key):A!==null&&(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Ov(J)===A.type)?(A=f(A,M.props),Za(A,M),A.return=R,A):(A=Yl(M.type,M.key,M.props,null,R.mode,H),Za(A,M),A.return=R,A)}function O(R,A,M,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=jf(M,R.mode,H),A.return=R,A):(A=f(A,M.children||[]),A.return=R,A)}function B(R,A,M,H,J){return A===null||A.tag!==7?(A=ms(M,R.mode,H,J),A.return=R,A):(A=f(A,M),A.return=R,A)}function j(R,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Hf(""+A,R.mode,M),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return M=Yl(A.type,A.key,A.props,null,R.mode,M),Za(M,A),M.return=R,M;case b:return A=jf(A,R.mode,M),A.return=R,A;case $:var H=A._init;return A=H(A._payload),j(R,A,M)}if(Xe(A)||qe(A))return A=ms(A,R.mode,M,null),A.return=R,A;if(typeof A.then=="function")return j(R,uu(A),M);if(A.$$typeof===L)return j(R,$l(R,A),M);cu(R,A)}return null}function I(R,A,M,H){var J=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return J!==null?null:E(R,A,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===J?T(R,A,M,H):null;case b:return M.key===J?O(R,A,M,H):null;case $:return J=M._init,M=J(M._payload),I(R,A,M,H)}if(Xe(M)||qe(M))return J!==null?null:B(R,A,M,H,null);if(typeof M.then=="function")return I(R,A,uu(M),H);if(M.$$typeof===L)return I(R,A,$l(R,M),H);cu(R,M)}return null}function k(R,A,M,H,J){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return R=R.get(M)||null,E(A,R,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return R=R.get(H.key===null?M:H.key)||null,T(A,R,H,J);case b:return R=R.get(H.key===null?M:H.key)||null,O(A,R,H,J);case $:var pe=H._init;return H=pe(H._payload),k(R,A,M,H,J)}if(Xe(H)||qe(H))return R=R.get(M)||null,B(A,R,H,J,null);if(typeof H.then=="function")return k(R,A,M,uu(H),J);if(H.$$typeof===L)return k(R,A,M,$l(A,H),J);cu(A,H)}return null}function ue(R,A,M,H){for(var J=null,pe=null,ne=A,re=A=0,gt=null;ne!==null&&re<M.length;re++){ne.index>re?(gt=ne,ne=null):gt=ne.sibling;var xe=I(R,ne,M[re],H);if(xe===null){ne===null&&(ne=gt);break}i&&ne&&xe.alternate===null&&s(R,ne),A=m(xe,A,re),pe===null?J=xe:pe.sibling=xe,pe=xe,ne=gt}if(re===M.length)return a(R,ne),Ne&&gs(R,re),J;if(ne===null){for(;re<M.length;re++)ne=j(R,M[re],H),ne!==null&&(A=m(ne,A,re),pe===null?J=ne:pe.sibling=ne,pe=ne);return Ne&&gs(R,re),J}for(ne=l(ne);re<M.length;re++)gt=k(ne,R,re,M[re],H),gt!==null&&(i&&gt.alternate!==null&&ne.delete(gt.key===null?re:gt.key),A=m(gt,A,re),pe===null?J=gt:pe.sibling=gt,pe=gt);return i&&ne.forEach(function(zi){return s(R,zi)}),Ne&&gs(R,re),J}function se(R,A,M,H){if(M==null)throw Error(r(151));for(var J=null,pe=null,ne=A,re=A=0,gt=null,xe=M.next();ne!==null&&!xe.done;re++,xe=M.next()){ne.index>re?(gt=ne,ne=null):gt=ne.sibling;var zi=I(R,ne,xe.value,H);if(zi===null){ne===null&&(ne=gt);break}i&&ne&&zi.alternate===null&&s(R,ne),A=m(zi,A,re),pe===null?J=zi:pe.sibling=zi,pe=zi,ne=gt}if(xe.done)return a(R,ne),Ne&&gs(R,re),J;if(ne===null){for(;!xe.done;re++,xe=M.next())xe=j(R,xe.value,H),xe!==null&&(A=m(xe,A,re),pe===null?J=xe:pe.sibling=xe,pe=xe);return Ne&&gs(R,re),J}for(ne=l(ne);!xe.done;re++,xe=M.next())xe=k(ne,R,re,xe.value,H),xe!==null&&(i&&xe.alternate!==null&&ne.delete(xe.key===null?re:xe.key),A=m(xe,A,re),pe===null?J=xe:pe.sibling=xe,pe=xe);return i&&ne.forEach(function(T1){return s(R,T1)}),Ne&&gs(R,re),J}function Le(R,A,M,H){if(typeof M=="object"&&M!==null&&M.type===S&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var J=M.key;A!==null;){if(A.key===J){if(J=M.type,J===S){if(A.tag===7){a(R,A.sibling),H=f(A,M.props.children),H.return=R,R=H;break e}}else if(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Ov(J)===A.type){a(R,A.sibling),H=f(A,M.props),Za(H,M),H.return=R,R=H;break e}a(R,A);break}else s(R,A);A=A.sibling}M.type===S?(H=ms(M.props.children,R.mode,H,M.key),H.return=R,R=H):(H=Yl(M.type,M.key,M.props,null,R.mode,H),Za(H,M),H.return=R,R=H)}return v(R);case b:e:{for(J=M.key;A!==null;){if(A.key===J)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(R,A.sibling),H=f(A,M.children||[]),H.return=R,R=H;break e}else{a(R,A);break}else s(R,A);A=A.sibling}H=jf(M,R.mode,H),H.return=R,R=H}return v(R);case $:return J=M._init,M=J(M._payload),Le(R,A,M,H)}if(Xe(M))return ue(R,A,M,H);if(qe(M)){if(J=qe(M),typeof J!="function")throw Error(r(150));return M=J.call(M),se(R,A,M,H)}if(typeof M.then=="function")return Le(R,A,uu(M),H);if(M.$$typeof===L)return Le(R,A,$l(R,M),H);cu(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(R,A.sibling),H=f(A,M),H.return=R,R=H):(a(R,A),H=Hf(M,R.mode,H),H.return=R,R=H),v(R)):a(R,A)}return function(R,A,M,H){try{Qa=0;var J=Le(R,A,M,H);return Tr=null,J}catch(ne){if(ne===ja||ne===Zl)throw ne;var pe=Kt(29,ne,null,R.mode);return pe.lanes=H,pe.return=R,pe}finally{}}}var Cr=Iv(!0),kv=Iv(!1),un=F(null),In=null;function wi(i){var s=i.alternate;X(ht,ht.current&1),X(un,i),In===null&&(s===null||_r.current!==null||s.memoizedState!==null)&&(In=i)}function Lv(i){if(i.tag===22){if(X(ht,ht.current),X(un,i),In===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(In=i)}}else Ai()}function Ai(){X(ht,ht.current),X(un,un.current)}function Qn(i){Q(un),In===i&&(In=null),Q(ht)}var ht=F(0);function fu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function bh(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Sh={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Qt(),f=Si(l);f.payload=s,a!=null&&(f.callback=a),s=Ti(i,f,l),s!==null&&(Zt(s,i,l),qa(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Qt(),f=Si(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ti(i,f,l),s!==null&&(Zt(s,i,l),qa(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Qt(),l=Si(a);l.tag=2,s!=null&&(l.callback=s),s=Ti(i,l,a),s!==null&&(Zt(s,i,a),qa(s,i,a))}};function Pv(i,s,a,l,f,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,v):s.prototype&&s.prototype.isPureReactComponent?!ka(a,l)||!ka(f,m):!0}function Uv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Sh.enqueueReplaceState(s,s.state,null)}function Ts(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=g({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var hu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Vv(i){hu(i)}function Bv(i){console.error(i)}function zv(i){hu(i)}function du(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Hv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Th(i,s,a){return a=Si(a),a.tag=3,a.payload={element:null},a.callback=function(){du(i,s)},a}function jv(i){return i=Si(i),i.tag=3,i}function Fv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){Hv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Hv(s,a,l),typeof f!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function TR(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ba(s,a,f,!0),a=un.current,a!==null){switch(a.tag){case 13:return In===null?Kh():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Zf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Xh(i,l,f)),!1;case 22:return a.flags|=65536,l===Zf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Xh(i,l,f)),!1}throw Error(r(435,a.tag))}return Xh(i,l,f),Kh(),!1}if(Ne)return s=un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Gf&&(i=Error(r(422),{cause:l}),Va(rn(i,a)))):(l!==Gf&&(s=Error(r(423),{cause:l}),Va(rn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=rn(l,a),f=Th(i.stateNode,l,f),th(i,f),et!==4&&(et=2)),!1;var m=Error(r(520),{cause:l});if(m=rn(m,a),ro===null?ro=[m]:ro.push(m),et!==4&&(et=2),s===null)return!0;l=rn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Th(a.stateNode,l,i),th(a,i),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Oi===null||!Oi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=jv(f),Fv(f,i,a,l),th(a,f),!1}a=a.return}while(a!==null);return!1}var qv=Error(r(461)),mt=!1;function bt(i,s,a,l){s.child=i===null?kv(s,null,a,l):Cr(s,i.child,a,l)}function Gv(i,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Es(s),l=ah(i,s,a,v,m,f),E=oh(),i!==null&&!mt?(lh(i,s,f),Zn(i,s,f)):(Ne&&E&&Ff(s),s.flags|=1,bt(i,s,l,f),s.child)}function Yv(i,s,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!zf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Kv(i,s,m,l,f)):(i=Yl(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Mh(i,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ka,a(v,l)&&i.ref===s.ref)return Zn(i,s,f)}return s.flags|=1,i=Gn(m,l),i.ref=s.ref,i.return=s,s.child=i}function Kv(i,s,a,l,f){if(i!==null){var m=i.memoizedProps;if(ka(m,l)&&i.ref===s.ref)if(mt=!1,s.pendingProps=l=m,Mh(i,f))(i.flags&131072)!==0&&(mt=!0);else return s.lanes=i.lanes,Zn(i,s,f)}return Ch(i,s,a,l,f)}function Wv(i,s,a){var l=s.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(f=s.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Xv(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ql(s,m!==null?m.cachePool:null),m!==null?Ky(s,m):ih(),Lv(s);else return s.lanes=s.childLanes=536870912,Xv(i,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Ql(s,m.cachePool),Ky(s,m),Ai(),s.memoizedState=null):(i!==null&&Ql(s,null),ih(),Ai());return bt(i,s,f,a),s.child}function Xv(i,s,a,l){var f=Qf();return f=f===null?null:{parent:ft._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},i!==null&&Ql(s,null),ih(),Lv(s),i!==null&&Ba(i,s,l,!0),null}function mu(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Ch(i,s,a,l,f){return Es(s),a=ah(i,s,a,l,void 0,f),l=oh(),i!==null&&!mt?(lh(i,s,f),Zn(i,s,f)):(Ne&&l&&Ff(s),s.flags|=1,bt(i,s,a,f),s.child)}function $v(i,s,a,l,f,m){return Es(s),s.updateQueue=null,a=Xy(s,l,a,f),Wy(i),l=oh(),i!==null&&!mt?(lh(i,s,m),Zn(i,s,m)):(Ne&&l&&Ff(s),s.flags|=1,bt(i,s,a,m),s.child)}function Qv(i,s,a,l,f){if(Es(s),s.stateNode===null){var m=mr,v=a.contextType;typeof v=="object"&&v!==null&&(m=xt(v)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Jf(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?xt(v):mr,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(bh(s,a,v,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Sh.enqueueReplaceState(m,m.state,null),Ya(s,l,m,f),Ga(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){m=s.stateNode;var E=s.memoizedProps,T=Ts(a,E);m.props=T;var O=m.context,B=a.contextType;v=mr,typeof B=="object"&&B!==null&&(v=xt(B));var j=a.getDerivedStateFromProps;B=typeof j=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,B||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||O!==v)&&Uv(s,m,l,v),bi=!1;var I=s.memoizedState;m.state=I,Ya(s,l,m,f),Ga(),O=s.memoizedState,E||I!==O||bi?(typeof j=="function"&&(bh(s,a,j,l),O=s.memoizedState),(T=bi||Pv(s,a,T,l,I,O,v))?(B||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=O),m.props=l,m.state=O,m.context=v,l=T):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,eh(i,s),v=s.memoizedProps,B=Ts(a,v),m.props=B,j=s.pendingProps,I=m.context,O=a.contextType,T=mr,typeof O=="object"&&O!==null&&(T=xt(O)),E=a.getDerivedStateFromProps,(O=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==j||I!==T)&&Uv(s,m,l,T),bi=!1,I=s.memoizedState,m.state=I,Ya(s,l,m,f),Ga();var k=s.memoizedState;v!==j||I!==k||bi||i!==null&&i.dependencies!==null&&Xl(i.dependencies)?(typeof E=="function"&&(bh(s,a,E,l),k=s.memoizedState),(B=bi||Pv(s,a,B,l,I,k,T)||i!==null&&i.dependencies!==null&&Xl(i.dependencies))?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,k,T),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,k,T)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=k),m.props=l,m.state=k,m.context=T,l=B):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),l=!1)}return m=l,mu(i,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&l?(s.child=Cr(s,i.child,null,f),s.child=Cr(s,null,a,f)):bt(i,s,a,f),s.memoizedState=m.state,i=s.child):i=Zn(i,s,f),i}function Zv(i,s,a,l){return Ua(),s.flags|=256,bt(i,s,a,l),s.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(i){return{baseLanes:i,cachePool:By()}}function Rh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=cn),i}function Jv(i,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=i!==null&&i.memoizedState===null?!1:(ht.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ne){if(f?wi(s):Ai(),Ne){var E=Je,T;if(T=E){e:{for(T=E,E=On;T.nodeType!==8;){if(!E){E=null;break e}if(T=En(T.nextSibling),T===null){E=null;break e}}E=T}E!==null?(s.memoizedState={dehydrated:E,treeContext:ps!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},T=Kt(18,null,null,0),T.stateNode=E,T.return=s,s.child=T,Ot=s,Je=null,T=!0):T=!1}T||vs(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return cd(E)?s.lanes=32:s.lanes=536870912,null;Qn(s)}return E=l.children,l=l.fallback,f?(Ai(),f=s.mode,E=pu({mode:"hidden",children:E},f),l=ms(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,f=s.child,f.memoizedState=Ah(a),f.childLanes=Rh(i,v,a),s.memoizedState=wh,l):(wi(s),xh(s,E))}if(T=i.memoizedState,T!==null&&(E=T.dehydrated,E!==null)){if(m)s.flags&256?(wi(s),s.flags&=-257,s=Nh(i,s,a)):s.memoizedState!==null?(Ai(),s.child=i.child,s.flags|=128,s=null):(Ai(),f=l.fallback,E=s.mode,l=pu({mode:"visible",children:l.children},E),f=ms(f,E,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Cr(s,i.child,null,a),l=s.child,l.memoizedState=Ah(a),l.childLanes=Rh(i,v,a),s.memoizedState=wh,s=f);else if(wi(s),cd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var O=v.dgst;v=O,l=Error(r(419)),l.stack="",l.digest=v,Va({value:l,source:null,stack:null}),s=Nh(i,s,a)}else if(mt||Ba(i,s,a,!1),v=(a&i.childLanes)!==0,mt||v){if(v=He,v!==null&&(l=a&-a,l=(l&42)!==0?1:ff(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,dr(i,l),Zt(v,i,l),qv;E.data==="$?"||Kh(),s=Nh(i,s,a)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=T.treeContext,Je=En(E.nextSibling),Ot=s,Ne=!0,ys=null,On=!1,i!==null&&(on[ln++]=Yn,on[ln++]=Kn,on[ln++]=ps,Yn=i.id,Kn=i.overflow,ps=s),s=xh(s,l.children),s.flags|=4096);return s}return f?(Ai(),f=l.fallback,E=s.mode,T=i.child,O=T.sibling,l=Gn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,O!==null?f=Gn(O,f):(f=ms(f,E,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,E=i.child.memoizedState,E===null?E=Ah(a):(T=E.cachePool,T!==null?(O=ft._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=By(),E={baseLanes:E.baseLanes|a,cachePool:T}),f.memoizedState=E,f.childLanes=Rh(i,v,a),s.memoizedState=wh,l):(wi(s),a=i.child,i=a.sibling,a=Gn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function xh(i,s){return s=pu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function pu(i,s){return i=Kt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Nh(i,s,a){return Cr(s,i.child,null,a),i=xh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function e_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Kf(i.return,s,a)}function Dh(i,s,a,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function t_(i,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(bt(i,s,l.children,a),l=ht.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e_(i,a,s);else if(i.tag===19)e_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(X(ht,l),f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&fu(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Dh(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&fu(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Dh(s,!0,a,null,m);break;case"together":Dh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zn(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Mi|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ba(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Gn(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Gn(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Mh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Xl(i)))}function CR(i,s,a){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),Ei(s,ft,i.memoizedState.cache),Ua();break;case 27:case 5:Ea(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:Ei(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(wi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Jv(i,s,a):(wi(s),i=Zn(i,s,a),i!==null?i.sibling:null);wi(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ba(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return t_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(ht,ht.current),l)break;return null;case 22:case 23:return s.lanes=0,Wv(i,s,a);case 24:Ei(s,ft,i.memoizedState.cache)}return Zn(i,s,a)}function n_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)mt=!0;else{if(!Mh(i,a)&&(s.flags&128)===0)return mt=!1,CR(i,s,a);mt=(i.flags&131072)!==0}else mt=!1,Ne&&(s.flags&1048576)!==0&&Oy(s,Wl,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")zf(l)?(i=Ts(l,i),s.tag=1,s=Qv(null,s,l,i,a)):(s.tag=0,s=Ch(null,s,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===K){s.tag=11,s=Gv(null,s,l,i,a);break e}else if(f===Z){s.tag=14,s=Yv(null,s,l,i,a);break e}}throw s=Gt(l)||l,Error(r(306,s,""))}}return s;case 0:return Ch(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Ts(l,s.pendingProps),Qv(i,s,l,f,a);case 3:e:{if(Ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,eh(i,s),Ya(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ei(s,ft,l),l!==m.cache&&Wf(s,[ft],a,!0),Ga(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Zv(i,s,l,a);break e}else if(l!==f){f=rn(Error(r(424)),s),Va(f),s=Zv(i,s,l,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Je=En(i.firstChild),Ot=s,Ne=!0,ys=null,On=!0,a=kv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ua(),l===f){s=Zn(i,s,a);break e}bt(i,s,l,a)}s=s.child}return s;case 26:return mu(i,s),i===null?(a=a0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ne||(a=s.type,i=s.pendingProps,l=Nu(le.current).createElement(a),l[Rt]=s,l[Pt]=i,Tt(l,a,i),dt(l),s.stateNode=l):s.memoizedState=a0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ea(s),i===null&&Ne&&(l=s.stateNode=i0(s.type,s.pendingProps,le.current),Ot=s,On=!0,f=Je,Li(s.type)?(fd=f,Je=En(l.firstChild)):Je=f),bt(i,s,s.pendingProps.children,a),mu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ne&&((f=l=Je)&&(l=ZR(l,s.type,s.pendingProps,On),l!==null?(s.stateNode=l,Ot=s,Je=En(l.firstChild),On=!1,f=!0):f=!1),f||vs(s)),Ea(s),f=s.type,m=s.pendingProps,v=i!==null?i.memoizedProps:null,l=m.children,od(f,m)?l=null:v!==null&&od(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=ah(i,s,gR,null,null,a),po._currentValue=f),mu(i,s),bt(i,s,l,a),s.child;case 6:return i===null&&Ne&&((i=a=Je)&&(a=JR(a,s.pendingProps,On),a!==null?(s.stateNode=a,Ot=s,Je=null,i=!0):i=!1),i||vs(s)),null;case 13:return Jv(i,s,a);case 4:return Ve(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Cr(s,null,l,a):bt(i,s,l,a),s.child;case 11:return Gv(i,s,s.type,s.pendingProps,a);case 7:return bt(i,s,s.pendingProps,a),s.child;case 8:return bt(i,s,s.pendingProps.children,a),s.child;case 12:return bt(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ei(s,s.type,l.value),bt(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Es(s),f=xt(f),l=l(f),s.flags|=1,bt(i,s,l,a),s.child;case 14:return Yv(i,s,s.type,s.pendingProps,a);case 15:return Kv(i,s,s.type,s.pendingProps,a);case 19:return t_(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=pu(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Gn(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Wv(i,s,a);case 24:return Es(s),l=xt(ft),i===null?(f=Qf(),f===null&&(f=He,m=Xf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Jf(s),Ei(s,ft,f)):((i.lanes&a)!==0&&(eh(i,s),Ya(s,null,null,a),Ga()),f=i.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ei(s,ft,l)):(l=m.cache,Ei(s,ft,l),l!==f.cache&&Wf(s,[ft],a,!0))),bt(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Jn(i){i.flags|=4}function i_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!f0(s)){if(s=un.current,s!==null&&((we&4194048)===we?In!==null:(we&62914560)!==we&&(we&536870912)===0||s!==In))throw Fa=Zf,zy;i.flags|=8192}}function gu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Lg():536870912,i.lanes|=s,xr|=s)}function Ja(i,s){if(!Ne)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function $e(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function wR(i,s,a){var l=s.pendingProps;switch(qf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(s),null;case 1:return $e(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Xn(ft),Dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Pa(s)?Jn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ly())),$e(s),null;case 26:return a=s.memoizedState,i===null?(Jn(s),a!==null?($e(s),i_(s,a)):($e(s),s.flags&=-16777217)):a?a!==i.memoizedState?(Jn(s),$e(s),i_(s,a)):($e(s),s.flags&=-16777217):(i.memoizedProps!==l&&Jn(s),$e(s),s.flags&=-16777217),null;case 27:Ws(s),a=le.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Jn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return $e(s),null}i=ie.current,Pa(s)?Iy(s):(i=i0(f,l,a),s.stateNode=i,Jn(s))}return $e(s),null;case 5:if(Ws(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Jn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return $e(s),null}if(i=ie.current,Pa(s))Iy(s);else{switch(f=Nu(le.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[Rt]=s,i[Pt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;e:switch(Tt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Jn(s)}}return $e(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&Jn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=le.current,Pa(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ot,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Rt]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$_(i.nodeValue,a)),i||vs(s)}else i=Nu(i).createTextNode(l),i[Rt]=s,s.stateNode=i}return $e(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Pa(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$e(s),f=!1}else f=Ly(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Qn(s),s):(Qn(s),null)}if(Qn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),gu(s,s.updateQueue),$e(s),null;case 4:return Dn(),i===null&&nd(s.stateNode.containerInfo),$e(s),null;case 10:return Xn(s.type),$e(s),null;case 19:if(Q(ht),f=s.memoizedState,f===null)return $e(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)Ja(f,!1);else{if(et!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=fu(i),m!==null){for(s.flags|=128,Ja(f,!1),i=m.updateQueue,s.updateQueue=i,gu(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)My(a,i),a=a.sibling;return X(ht,ht.current&1|2),s.child}i=i.sibling}f.tail!==null&&tn()>_u&&(s.flags|=128,l=!0,Ja(f,!1),s.lanes=4194304)}else{if(!l)if(i=fu(m),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,gu(s,i),Ja(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ne)return $e(s),null}else 2*tn()-f.renderingStartTime>_u&&a!==536870912&&(s.flags|=128,l=!0,Ja(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(i=f.last,i!==null?i.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=tn(),s.sibling=null,i=ht.current,X(ht,l?i&1|2:i&1),s):($e(s),null);case 22:case 23:return Qn(s),sh(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&($e(s),s.subtreeFlags&6&&(s.flags|=8192)):$e(s),a=s.updateQueue,a!==null&&gu(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&Q(bs),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Xn(ft),$e(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function AR(i,s){switch(qf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Xn(ft),Dn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ws(s),null;case 13:if(Qn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ua()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Q(ht),null;case 4:return Dn(),null;case 10:return Xn(s.type),null;case 22:case 23:return Qn(s),sh(),i!==null&&Q(bs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Xn(ft),null;case 25:return null;default:return null}}function s_(i,s){switch(qf(s),s.tag){case 3:Xn(ft),Dn();break;case 26:case 27:case 5:Ws(s);break;case 4:Dn();break;case 13:Qn(s);break;case 19:Q(ht);break;case 10:Xn(s.type);break;case 22:case 23:Qn(s),sh(),i!==null&&Q(bs);break;case 24:Xn(ft)}}function eo(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(E){ze(s,s.return,E)}}function Ri(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=s;var T=a,O=E;try{O()}catch(B){ze(f,T,B)}}}l=l.next}while(l!==m)}}catch(B){ze(s,s.return,B)}}function r_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Yy(s,a)}catch(l){ze(i,i.return,l)}}}function a_(i,s,a){a.props=Ts(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){ze(i,s,l)}}function to(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){ze(i,s,f)}}function kn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ze(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ze(i,s,f)}else a.current=null}function o_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ze(i,i.return,f)}}function Oh(i,s,a){try{var l=i.stateNode;KR(l,i.type,a,s),l[Pt]=s}catch(f){ze(i,i.return,f)}}function l_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Li(i.type)||i.tag===4}function Ih(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Li(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=xu));else if(l!==4&&(l===27&&Li(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(kh(i,s,a),i=i.sibling;i!==null;)kh(i,s,a),i=i.sibling}function yu(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Li(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(yu(i,s,a),i=i.sibling;i!==null;)yu(i,s,a),i=i.sibling}function u_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Tt(s,l,a),s[Rt]=i,s[Pt]=a}catch(m){ze(i,i.return,m)}}var ei=!1,at=!1,Lh=!1,c_=typeof WeakSet=="function"?WeakSet:Set,pt=null;function RR(i,s){if(i=i.containerInfo,rd=Lu,i=by(i),If(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,E=-1,T=-1,O=0,B=0,j=i,I=null;t:for(;;){for(var k;j!==a||f!==0&&j.nodeType!==3||(E=v+f),j!==m||l!==0&&j.nodeType!==3||(T=v+l),j.nodeType===3&&(v+=j.nodeValue.length),(k=j.firstChild)!==null;)I=j,j=k;for(;;){if(j===i)break t;if(I===a&&++O===f&&(E=v),I===m&&++B===l&&(T=v),(k=j.nextSibling)!==null)break;j=I,I=j.parentNode}j=k}a=E===-1||T===-1?null:{start:E,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:i,selectionRange:a},Lu=!1,pt=s;pt!==null;)if(s=pt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,pt=i;else for(;pt!==null;){switch(s=pt,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ue=Ts(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(ue,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(se){ze(a,a.return,se)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)ud(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ud(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,pt=i;break}pt=s.return}}function f_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(i,a),l&4&&eo(5,a);break;case 1:if(xi(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){ze(a,a.return,v)}else{var f=Ts(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){ze(a,a.return,v)}}l&64&&r_(a),l&512&&to(a,a.return);break;case 3:if(xi(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Yy(i,s)}catch(v){ze(a,a.return,v)}}break;case 27:s===null&&l&4&&u_(a);case 26:case 5:xi(i,a),s===null&&l&4&&o_(a),l&512&&to(a,a.return);break;case 12:xi(i,a);break;case 13:xi(i,a),l&4&&m_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=PR.bind(null,a),e1(i,a))));break;case 22:if(l=a.memoizedState!==null||ei,!l){s=s!==null&&s.memoizedState!==null||at,f=ei;var m=at;ei=l,(at=s)&&!m?Ni(i,a,(a.subtreeFlags&8772)!==0):xi(i,a),ei=f,at=m}break;case 30:break;default:xi(i,a)}}function h_(i){var s=i.alternate;s!==null&&(i.alternate=null,h_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&mf(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ye=null,Bt=!1;function ti(i,s,a){for(a=a.child;a!==null;)d_(i,s,a),a=a.sibling}function d_(i,s,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Be,a)}catch{}switch(a.tag){case 26:at||kn(a,s),ti(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||kn(a,s);var l=Ye,f=Bt;Li(a.type)&&(Ye=a.stateNode,Bt=!1),ti(i,s,a),co(a.stateNode),Ye=l,Bt=f;break;case 5:at||kn(a,s);case 6:if(l=Ye,f=Bt,Ye=null,ti(i,s,a),Ye=l,Bt=f,Ye!==null)if(Bt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(m){ze(a,s,m)}else try{Ye.removeChild(a.stateNode)}catch(m){ze(a,s,m)}break;case 18:Ye!==null&&(Bt?(i=Ye,t0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),_o(i)):t0(Ye,a.stateNode));break;case 4:l=Ye,f=Bt,Ye=a.stateNode.containerInfo,Bt=!0,ti(i,s,a),Ye=l,Bt=f;break;case 0:case 11:case 14:case 15:at||Ri(2,a,s),at||Ri(4,a,s),ti(i,s,a);break;case 1:at||(kn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a_(a,s,l)),ti(i,s,a);break;case 21:ti(i,s,a);break;case 22:at=(l=at)||a.memoizedState!==null,ti(i,s,a),at=l;break;default:ti(i,s,a)}}function m_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_o(i)}catch(a){ze(s,s.return,a)}}function xR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new c_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new c_),s;default:throw Error(r(435,i.tag))}}function Ph(i,s){var a=xR(i);s.forEach(function(l){var f=UR.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function Wt(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Li(E.type)){Ye=E.stateNode,Bt=!1;break e}break;case 5:Ye=E.stateNode,Bt=!1;break e;case 3:case 4:Ye=E.stateNode.containerInfo,Bt=!0;break e}E=E.return}if(Ye===null)throw Error(r(160));d_(m,v,f),Ye=null,Bt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)p_(s,i),s=s.sibling}var _n=null;function p_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wt(s,i),Xt(i),l&4&&(Ri(3,i,i.return),eo(3,i),Ri(5,i,i.return));break;case 1:Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),l&64&&ei&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_n;if(Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[wa]||m[Rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Tt(m,l,a),m[Rt]=i,dt(m),l=m;break e;case"link":var v=u0("link","href",f).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}m=f.createElement(l),Tt(m,l,a),f.head.appendChild(m);break;case"meta":if(v=u0("meta","content",f).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}m=f.createElement(l),Tt(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Rt]=i,dt(m),l=m}i.stateNode=l}else c0(f,i.type,i.stateNode);else i.stateNode=l0(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?c0(f,i.type,i.stateNode):l0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Oh(i,i.memoizedProps,a.memoizedProps)}break;case 27:Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),a!==null&&l&4&&Oh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),i.flags&32){f=i.stateNode;try{ar(f,"")}catch(k){ze(i,i.return,k)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Oh(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Lh=!0);break;case 6:if(Wt(s,i),Xt(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(k){ze(i,i.return,k)}}break;case 3:if(Ou=null,f=_n,_n=Du(s.containerInfo),Wt(s,i),_n=f,Xt(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(s.containerInfo)}catch(k){ze(i,i.return,k)}Lh&&(Lh=!1,g_(i));break;case 4:l=_n,_n=Du(i.stateNode.containerInfo),Wt(s,i),Xt(i),_n=l;break;case 12:Wt(s,i),Xt(i);break;case 13:Wt(s,i),Xt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jh=tn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ph(i,l)));break;case 22:f=i.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,O=ei,B=at;if(ei=O||f,at=B||T,Wt(s,i),at=B,ei=O,Xt(i),l&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||T||ei||at||Cs(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(m=T.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=T.stateNode;var j=T.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(k){ze(T,T.return,k)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(k){ze(T,T.return,k)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ph(i,a))));break;case 19:Wt(s,i),Xt(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Ph(i,l)));break;case 30:break;case 21:break;default:Wt(s,i),Xt(i)}}function Xt(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(l_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Ih(i);yu(i,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(ar(v,""),a.flags&=-33);var E=Ih(i);yu(i,E,v);break;case 3:case 4:var T=a.stateNode.containerInfo,O=Ih(i);kh(i,O,T);break;default:throw Error(r(161))}}catch(B){ze(i,i.return,B)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function g_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;g_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function xi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)f_(i,s.alternate,s),s=s.sibling}function Cs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ri(4,s,s.return),Cs(s);break;case 1:kn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&a_(s,s.return,a),Cs(s);break;case 27:co(s.stateNode);case 26:case 5:kn(s,s.return),Cs(s);break;case 22:s.memoizedState===null&&Cs(s);break;case 30:Cs(s);break;default:Cs(s)}i=i.sibling}}function Ni(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:Ni(f,m,a),eo(4,m);break;case 1:if(Ni(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){ze(l,l.return,O)}if(l=m,f=l.updateQueue,f!==null){var E=l.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)Gy(T[f],E)}catch(O){ze(l,l.return,O)}}a&&v&64&&r_(m),to(m,m.return);break;case 27:u_(m);case 26:case 5:Ni(f,m,a),a&&l===null&&v&4&&o_(m),to(m,m.return);break;case 12:Ni(f,m,a);break;case 13:Ni(f,m,a),a&&v&4&&m_(f,m);break;case 22:m.memoizedState===null&&Ni(f,m,a),to(m,m.return);break;case 30:break;default:Ni(f,m,a)}s=s.sibling}}function Uh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&za(a))}function Vh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&za(i))}function Ln(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)y_(i,s,a,l),s=s.sibling}function y_(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(i,s,a,l),f&2048&&eo(9,s);break;case 1:Ln(i,s,a,l);break;case 3:Ln(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&za(i)));break;case 12:if(f&2048){Ln(i,s,a,l),i=s.stateNode;try{var m=s.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){ze(s,s.return,T)}}else Ln(i,s,a,l);break;case 13:Ln(i,s,a,l);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?Ln(i,s,a,l):no(i,s):m._visibility&2?Ln(i,s,a,l):(m._visibility|=2,wr(i,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Uh(v,s);break;case 24:Ln(i,s,a,l),f&2048&&Vh(s.alternate,s);break;default:Ln(i,s,a,l)}}function wr(i,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,v=s,E=a,T=l,O=v.flags;switch(v.tag){case 0:case 11:case 15:wr(m,v,E,T,f),eo(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?wr(m,v,E,T,f):no(m,v):(B._visibility|=2,wr(m,v,E,T,f)),f&&O&2048&&Uh(v.alternate,v);break;case 24:wr(m,v,E,T,f),f&&O&2048&&Vh(v.alternate,v);break;default:wr(m,v,E,T,f)}s=s.sibling}}function no(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:no(a,l),f&2048&&Uh(l.alternate,l);break;case 24:no(a,l),f&2048&&Vh(l.alternate,l);break;default:no(a,l)}s=s.sibling}}var io=8192;function Ar(i){if(i.subtreeFlags&io)for(i=i.child;i!==null;)v_(i),i=i.sibling}function v_(i){switch(i.tag){case 26:Ar(i),i.flags&io&&i.memoizedState!==null&&d1(_n,i.memoizedState,i.memoizedProps);break;case 5:Ar(i);break;case 3:case 4:var s=_n;_n=Du(i.stateNode.containerInfo),Ar(i),_n=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=io,io=16777216,Ar(i),io=s):Ar(i));break;default:Ar(i)}}function __(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function so(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];pt=l,b_(l,i)}__(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(i),i=i.sibling}function E_(i){switch(i.tag){case 0:case 11:case 15:so(i),i.flags&2048&&Ri(9,i,i.return);break;case 3:so(i);break;case 12:so(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,vu(i)):so(i);break;default:so(i)}}function vu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];pt=l,b_(l,i)}__(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ri(8,s,s.return),vu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,vu(s));break;default:vu(s)}i=i.sibling}}function b_(i,s){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:Ri(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:za(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,pt=l;else e:for(a=i;pt!==null;){l=pt;var f=l.sibling,m=l.return;if(h_(l),l===a){pt=null;break e}if(f!==null){f.return=m,pt=f;break e}pt=m}}}var NR={getCacheForType:function(i){var s=xt(ft),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},DR=typeof WeakMap=="function"?WeakMap:Map,Me=0,He=null,_e=null,we=0,Oe=0,$t=null,Di=!1,Rr=!1,Bh=!1,ni=0,et=0,Mi=0,ws=0,zh=0,cn=0,xr=0,ro=null,zt=null,Hh=!1,jh=0,_u=1/0,Eu=null,Oi=null,St=0,Ii=null,Nr=null,Dr=0,Fh=0,qh=null,S_=null,ao=0,Gh=null;function Qt(){if((Me&2)!==0&&we!==0)return we&-we;if(V.T!==null){var i=yr;return i!==0?i:Zh()}return Vg()}function T_(){cn===0&&(cn=(we&536870912)===0||Ne?kg():536870912);var i=un.current;return i!==null&&(i.flags|=32),cn}function Zt(i,s,a){(i===He&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)&&(Mr(i,0),ki(i,we,cn,!1)),Ca(i,a),((Me&2)===0||i!==He)&&(i===He&&((Me&2)===0&&(ws|=a),et===4&&ki(i,we,cn,!1)),Pn(i))}function C_(i,s,a){if((Me&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Ta(i,s),f=l?IR(i,s):Wh(i,s,!0),m=l;do{if(f===0){Rr&&!l&&ki(i,s,0,!1);break}else{if(a=i.current.alternate,m&&!MR(a)){f=Wh(i,s,!1),m=!1;continue}if(f===2){if(m=s,i.errorRecoveryDisabledLanes&m)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var E=i;f=ro;var T=E.current.memoizedState.isDehydrated;if(T&&(Mr(E,v).flags|=256),v=Wh(E,v,!1),v!==2){if(Bh&&!T){E.errorRecoveryDisabledLanes|=m,ws|=m,f=4;break e}m=zt,zt=f,m!==null&&(zt===null?zt=m:zt.push.apply(zt,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){Mr(i,0),ki(i,s,0,!0);break}e:{switch(l=i,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ki(l,s,cn,!Di);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=jh+300-tn(),10<f)){if(ki(l,s,cn,!Di),Ml(l,0,!0)!==0)break e;l.timeoutHandle=J_(w_.bind(null,l,a,zt,Eu,Hh,s,cn,ws,xr,Di,m,2,-0,0),f);break e}w_(l,a,zt,Eu,Hh,s,cn,ws,xr,Di,m,0,-0,0)}}break}while(!0);Pn(i)}function w_(i,s,a,l,f,m,v,E,T,O,B,j,I,k){if(i.timeoutHandle=-1,j=s.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(mo={stylesheets:null,count:0,unsuspend:h1},v_(s),j=m1(),j!==null)){i.cancelPendingCommit=j(O_.bind(null,i,s,m,a,l,f,v,E,T,B,1,I,k)),ki(i,m,v,!O);return}O_(i,s,m,a,l,f,v,E,T)}function MR(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Yt(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(i,s,a,l){s&=~zh,s&=~ws,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var m=31-st(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Pg(i,a,s)}function bu(){return(Me&6)===0?(oo(0),!1):!0}function Yh(){if(_e!==null){if(Oe===0)var i=_e.return;else i=_e,Wn=_s=null,uh(i),Tr=null,Qa=0,i=_e;for(;i!==null;)s_(i.alternate,i),i=i.return;_e=null}}function Mr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,XR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Yh(),He=i,_e=a=Gn(i.current,null),we=s,Oe=0,$t=null,Di=!1,Rr=Ta(i,s),Bh=!1,xr=cn=zh=ws=Mi=et=0,zt=ro=null,Hh=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-st(l),m=1<<f;s|=i[f],l&=~m}return ni=s,Fl(),a}function A_(i,s){me=null,V.H=lu,s===ja||s===Zl?(s=Fy(),Oe=3):s===zy?(s=Fy(),Oe=4):Oe=s===qv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$t=s,_e===null&&(et=1,du(i,rn(s,i.current)))}function R_(){var i=V.H;return V.H=lu,i===null?lu:i}function x_(){var i=V.A;return V.A=NR,i}function Kh(){et=4,Di||(we&4194048)!==we&&un.current!==null||(Rr=!0),(Mi&134217727)===0&&(ws&134217727)===0||He===null||ki(He,we,cn,!1)}function Wh(i,s,a){var l=Me;Me|=2;var f=R_(),m=x_();(He!==i||we!==s)&&(Eu=null,Mr(i,s)),s=!1;var v=et;e:do try{if(Oe!==0&&_e!==null){var E=_e,T=$t;switch(Oe){case 8:Yh(),v=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(s=!0);var O=Oe;if(Oe=0,$t=null,Or(i,E,T,O),a&&Rr){v=0;break e}break;default:O=Oe,Oe=0,$t=null,Or(i,E,T,O)}}OR(),v=et;break}catch(B){A_(i,B)}while(!0);return s&&i.shellSuspendCounter++,Wn=_s=null,Me=l,V.H=f,V.A=m,_e===null&&(He=null,we=0,Fl()),v}function OR(){for(;_e!==null;)N_(_e)}function IR(i,s){var a=Me;Me|=2;var l=R_(),f=x_();He!==i||we!==s?(Eu=null,_u=tn()+500,Mr(i,s)):Rr=Ta(i,s);e:do try{if(Oe!==0&&_e!==null){s=_e;var m=$t;t:switch(Oe){case 1:Oe=0,$t=null,Or(i,s,m,1);break;case 2:case 9:if(Hy(m)){Oe=0,$t=null,D_(s);break}s=function(){Oe!==2&&Oe!==9||He!==i||(Oe=7),Pn(i)},m.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Hy(m)?(Oe=0,$t=null,D_(s)):(Oe=0,$t=null,Or(i,s,m,7));break;case 5:var v=null;switch(_e.tag){case 26:v=_e.memoizedState;case 5:case 27:var E=_e;if(!v||f0(v)){Oe=0,$t=null;var T=E.sibling;if(T!==null)_e=T;else{var O=E.return;O!==null?(_e=O,Su(O)):_e=null}break t}}Oe=0,$t=null,Or(i,s,m,5);break;case 6:Oe=0,$t=null,Or(i,s,m,6);break;case 8:Yh(),et=6;break e;default:throw Error(r(462))}}kR();break}catch(B){A_(i,B)}while(!0);return Wn=_s=null,V.H=l,V.A=f,Me=a,_e!==null?0:(He=null,we=0,Fl(),et)}function kR(){for(;_e!==null&&!af();)N_(_e)}function N_(i){var s=n_(i.alternate,i,ni);i.memoizedProps=i.pendingProps,s===null?Su(i):_e=s}function D_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=$v(a,s,s.pendingProps,s.type,void 0,we);break;case 11:s=$v(a,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:uh(s);default:s_(a,s),s=_e=My(s,ni),s=n_(a,s,ni)}i.memoizedProps=i.pendingProps,s===null?Su(i):_e=s}function Or(i,s,a,l){Wn=_s=null,uh(s),Tr=null,Qa=0;var f=s.return;try{if(TR(i,f,s,a,we)){et=1,du(i,rn(a,i.current)),_e=null;return}}catch(m){if(f!==null)throw _e=f,m;et=1,du(i,rn(a,i.current)),_e=null;return}s.flags&32768?(Ne||l===1?i=!0:Rr||(we&536870912)!==0?i=!1:(Di=i=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),M_(s,i)):Su(s)}function Su(i){var s=i;do{if((s.flags&32768)!==0){M_(s,Di);return}i=s.return;var a=wR(s.alternate,s,ni);if(a!==null){_e=a;return}if(s=s.sibling,s!==null){_e=s;return}_e=s=i}while(s!==null);et===0&&(et=5)}function M_(i,s){do{var a=AR(i.alternate,i);if(a!==null){a.flags&=32767,_e=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){_e=i;return}_e=i=a}while(i!==null);et=6,_e=null}function O_(i,s,a,l,f,m,v,E,T){i.cancelPendingCommit=null;do Tu();while(St!==0);if((Me&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Vf,hA(i,a,m,v,E,T),i===He&&(_e=He=null,we=0),Nr=s,Ii=i,Dr=a,Fh=m,qh=f,S_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VR($s,function(){return U_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,f=G.p,G.p=2,v=Me,Me|=4;try{RR(i,s,a)}finally{Me=v,G.p=f,V.T=l}}St=1,I_(),k_(),L_()}}function I_(){if(St===1){St=0;var i=Ii,s=Nr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var l=G.p;G.p=2;var f=Me;Me|=4;try{p_(s,i);var m=ad,v=by(i.containerInfo),E=m.focusedElem,T=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&Ey(E.ownerDocument.documentElement,E)){if(T!==null&&If(E)){var O=T.start,B=T.end;if(B===void 0&&(B=O),"selectionStart"in E)E.selectionStart=O,E.selectionEnd=Math.min(B,E.value.length);else{var j=E.ownerDocument||document,I=j&&j.defaultView||window;if(I.getSelection){var k=I.getSelection(),ue=E.textContent.length,se=Math.min(T.start,ue),Le=T.end===void 0?se:Math.min(T.end,ue);!k.extend&&se>Le&&(v=Le,Le=se,se=v);var R=_y(E,se),A=_y(E,Le);if(R&&A&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==A.node||k.focusOffset!==A.offset)){var M=j.createRange();M.setStart(R.node,R.offset),k.removeAllRanges(),se>Le?(k.addRange(M),k.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),k.addRange(M))}}}}for(j=[],k=E;k=k.parentNode;)k.nodeType===1&&j.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<j.length;E++){var H=j[E];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Lu=!!rd,ad=rd=null}finally{Me=f,G.p=l,V.T=a}}i.current=s,St=2}}function k_(){if(St===2){St=0;var i=Ii,s=Nr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var l=G.p;G.p=2;var f=Me;Me|=4;try{f_(i,s.alternate,s)}finally{Me=f,G.p=l,V.T=a}}St=3}}function L_(){if(St===4||St===3){St=0,of();var i=Ii,s=Nr,a=Dr,l=S_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?St=5:(St=0,Nr=Ii=null,P_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Oi=null),hf(a),s=s.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Be,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=V.T,f=G.p,G.p=2,V.T=null;try{for(var m=i.onRecoverableError,v=0;v<l.length;v++){var E=l[v];m(E.value,{componentStack:E.stack})}}finally{V.T=s,G.p=f}}(Dr&3)!==0&&Tu(),Pn(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===Gh?ao++:(ao=0,Gh=i):ao=0,oo(0)}}function P_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,za(s)))}function Tu(i){return I_(),k_(),L_(),U_()}function U_(){if(St!==5)return!1;var i=Ii,s=Fh;Fh=0;var a=hf(Dr),l=V.T,f=G.p;try{G.p=32>a?32:a,V.T=null,a=qh,qh=null;var m=Ii,v=Dr;if(St=0,Nr=Ii=null,Dr=0,(Me&6)!==0)throw Error(r(331));var E=Me;if(Me|=4,E_(m.current),y_(m,m.current,v,a),Me=E,oo(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Be,m)}catch{}return!0}finally{G.p=f,V.T=l,P_(i,s)}}function V_(i,s,a){s=rn(a,s),s=Th(i.stateNode,s,2),i=Ti(i,s,2),i!==null&&(Ca(i,2),Pn(i))}function ze(i,s,a){if(i.tag===3)V_(i,i,a);else for(;s!==null;){if(s.tag===3){V_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){i=rn(a,i),a=jv(2),l=Ti(s,a,2),l!==null&&(Fv(a,l,s,i),Ca(l,2),Pn(l));break}}s=s.return}}function Xh(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new DR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Bh=!0,f.add(a),i=LR.bind(null,i,s,a),s.then(i,i))}function LR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,He===i&&(we&a)===a&&(et===4||et===3&&(we&62914560)===we&&300>tn()-jh?(Me&2)===0&&Mr(i,0):zh|=a,xr===we&&(xr=0)),Pn(i)}function B_(i,s){s===0&&(s=Lg()),i=dr(i,s),i!==null&&(Ca(i,s),Pn(i))}function PR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),B_(i,a)}function UR(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),B_(i,a)}function VR(i,s){return Sa(i,s)}var Cu=null,Ir=null,$h=!1,wu=!1,Qh=!1,As=0;function Pn(i){i!==Ir&&i.next===null&&(Ir===null?Cu=Ir=i:Ir=Ir.next=i),wu=!0,$h||($h=!0,zR())}function oo(i,s){if(!Qh&&wu){Qh=!0;do for(var a=!1,l=Cu;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-st(42|i)+1)-1,m&=f&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,F_(l,m))}else m=we,m=Ml(l,l===He?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ta(l,m)||(a=!0,F_(l,m));l=l.next}while(a);Qh=!1}}function BR(){z_()}function z_(){wu=$h=!1;var i=0;As!==0&&(WR()&&(i=As),As=0);for(var s=tn(),a=null,l=Cu;l!==null;){var f=l.next,m=H_(l,s);m===0?(l.next=null,a===null?Cu=f:a.next=f,f===null&&(Ir=a)):(a=l,(i!==0||(m&3)!==0)&&(wu=!0)),l=f}oo(i)}function H_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var v=31-st(m),E=1<<v,T=f[v];T===-1?((E&a)===0||(E&l)!==0)&&(f[v]=fA(E,s)):T<=s&&(i.expiredLanes|=E),m&=~E}if(s=He,a=we,a=Ml(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Xs(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ta(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Xs(l),hf(a)){case 2:case 8:a=Nl;break;case 32:a=$s;break;case 268435456:a=he;break;default:a=$s}return l=j_.bind(null,i),a=Sa(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Xs(l),i.callbackPriority=2,i.callbackNode=null,2}function j_(i,s){if(St!==0&&St!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Tu()&&i.callbackNode!==a)return null;var l=we;return l=Ml(i,i===He?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(C_(i,l,s),H_(i,tn()),i.callbackNode!=null&&i.callbackNode===a?j_.bind(null,i):null)}function F_(i,s){if(Tu())return null;C_(i,s,!0)}function zR(){$R(function(){(Me&6)!==0?Sa(xl,BR):z_()})}function Zh(){return As===0&&(As=kg()),As}function q_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pl(""+i)}function G_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function HR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=q_((f[Pt]||null).action),v=l.submitter;v&&(s=(s=v[Pt]||null)?q_(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var E=new zl("action","action",null,l,f);i.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var T=v?G_(f,v):new FormData(f);vh(a,{pending:!0,data:T,method:f.method,action:m},null,T)}}else typeof m=="function"&&(E.preventDefault(),T=v?G_(f,v):new FormData(f),vh(a,{pending:!0,data:T,method:f.method,action:m},m,T))},currentTarget:f}]})}}for(var Jh=0;Jh<Uf.length;Jh++){var ed=Uf[Jh],jR=ed.toLowerCase(),FR=ed[0].toUpperCase()+ed.slice(1);vn(jR,"on"+FR)}vn(Cy,"onAnimationEnd"),vn(wy,"onAnimationIteration"),vn(Ay,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(aR,"onTransitionRun"),vn(oR,"onTransitionStart"),vn(lR,"onTransitionCancel"),vn(Ry,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function Y_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var v=l.length-1;0<=v;v--){var E=l[v],T=E.instance,O=E.currentTarget;if(E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(B){hu(B)}f.currentTarget=null,m=T}else for(v=0;v<l.length;v++){if(E=l[v],T=E.instance,O=E.currentTarget,E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(B){hu(B)}f.currentTarget=null,m=T}}}}function Ee(i,s){var a=s[df];a===void 0&&(a=s[df]=new Set);var l=i+"__bubble";a.has(l)||(K_(s,i,2,!1),a.add(l))}function td(i,s,a){var l=0;s&&(l|=4),K_(a,i,l,s)}var Au="_reactListening"+Math.random().toString(36).slice(2);function nd(i){if(!i[Au]){i[Au]=!0,zg.forEach(function(a){a!=="selectionchange"&&(qR.has(a)||td(a,!1,i),td(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Au]||(s[Au]=!0,td("selectionchange",!1,s))}}function K_(i,s,a,l){switch(y0(s)){case 2:var f=y1;break;case 8:f=v1;break;default:f=gd}a=f.bind(null,s,a,i),f=void 0,!Cf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function id(i,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=er(E),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=m=v;continue e}E=E.parentNode}}l=l.return}ey(function(){var O=m,B=Sf(a),j=[];e:{var I=xy.get(i);if(I!==void 0){var k=zl,ue=i;switch(i){case"keypress":if(Vl(a)===0)break e;case"keydown":case"keyup":k=VA;break;case"focusin":ue="focus",k=xf;break;case"focusout":ue="blur",k=xf;break;case"beforeblur":case"afterblur":k=xf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=AA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=HA;break;case Cy:case wy:case Ay:k=NA;break;case Ry:k=FA;break;case"scroll":case"scrollend":k=CA;break;case"wheel":k=GA;break;case"copy":case"cut":case"paste":k=MA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=ry;break;case"toggle":case"beforetoggle":k=KA}var se=(s&4)!==0,Le=!se&&(i==="scroll"||i==="scrollend"),R=se?I!==null?I+"Capture":null:I;se=[];for(var A=O,M;A!==null;){var H=A;if(M=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||M===null||R===null||(H=Ra(A,R),H!=null&&se.push(uo(A,H,M))),Le)break;A=A.return}0<se.length&&(I=new k(I,ue,null,a,B),j.push({event:I,listeners:se}))}}if((s&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",k=i==="mouseout"||i==="pointerout",I&&a!==bf&&(ue=a.relatedTarget||a.fromElement)&&(er(ue)||ue[Js]))break e;if((k||I)&&(I=B.window===B?B:(I=B.ownerDocument)?I.defaultView||I.parentWindow:window,k?(ue=a.relatedTarget||a.toElement,k=O,ue=ue?er(ue):null,ue!==null&&(Le=u(ue),se=ue.tag,ue!==Le||se!==5&&se!==27&&se!==6)&&(ue=null)):(k=null,ue=O),k!==ue)){if(se=iy,H="onMouseLeave",R="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(se=ry,H="onPointerLeave",R="onPointerEnter",A="pointer"),Le=k==null?I:Aa(k),M=ue==null?I:Aa(ue),I=new se(H,A+"leave",k,a,B),I.target=Le,I.relatedTarget=M,H=null,er(B)===O&&(se=new se(R,A+"enter",ue,a,B),se.target=M,se.relatedTarget=Le,H=se),Le=H,k&&ue)t:{for(se=k,R=ue,A=0,M=se;M;M=kr(M))A++;for(M=0,H=R;H;H=kr(H))M++;for(;0<A-M;)se=kr(se),A--;for(;0<M-A;)R=kr(R),M--;for(;A--;){if(se===R||R!==null&&se===R.alternate)break t;se=kr(se),R=kr(R)}se=null}else se=null;k!==null&&W_(j,I,k,se,!1),ue!==null&&Le!==null&&W_(j,Le,ue,se,!0)}}e:{if(I=O?Aa(O):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var J=dy;else if(fy(I))if(my)J=iR;else{J=tR;var pe=eR}else k=I.nodeName,!k||k.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?O&&Ef(O.elementType)&&(J=dy):J=nR;if(J&&(J=J(i,O))){hy(j,J,a,B);break e}pe&&pe(i,I,O),i==="focusout"&&O&&I.type==="number"&&O.memoizedProps.value!=null&&_f(I,"number",I.value)}switch(pe=O?Aa(O):window,i){case"focusin":(fy(pe)||pe.contentEditable==="true")&&(cr=pe,kf=O,La=null);break;case"focusout":La=kf=cr=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Sy(j,a,B);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":Sy(j,a,B)}var ne;if(Df)e:{switch(i){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else ur?uy(i,a)&&(re="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(ay&&a.locale!=="ko"&&(ur||re!=="onCompositionStart"?re==="onCompositionEnd"&&ur&&(ne=ty()):(_i=B,wf="value"in _i?_i.value:_i.textContent,ur=!0)),pe=Ru(O,re),0<pe.length&&(re=new sy(re,i,null,a,B),j.push({event:re,listeners:pe}),ne?re.data=ne:(ne=cy(a),ne!==null&&(re.data=ne)))),(ne=XA?$A(i,a):QA(i,a))&&(re=Ru(O,"onBeforeInput"),0<re.length&&(pe=new sy("onBeforeInput","beforeinput",null,a,B),j.push({event:pe,listeners:re}),pe.data=ne)),HR(j,i,O,a,B)}Y_(j,s)})}function uo(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Ru(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ra(i,a),f!=null&&l.unshift(uo(i,f,m)),f=Ra(i,s),f!=null&&l.push(uo(i,f,m))),i.tag===3)return l;i=i.return}return[]}function kr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function W_(i,s,a,l,f){for(var m=s._reactName,v=[];a!==null&&a!==l;){var E=a,T=E.alternate,O=E.stateNode;if(E=E.tag,T!==null&&T===l)break;E!==5&&E!==26&&E!==27||O===null||(T=O,f?(O=Ra(a,m),O!=null&&v.unshift(uo(a,O,T))):f||(O=Ra(a,m),O!=null&&v.push(uo(a,O,T)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var GR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function X_(i){return(typeof i=="string"?i:""+i).replace(GR,`
`).replace(YR,"")}function $_(i,s){return s=X_(s),X_(i)===s}function xu(){}function ke(i,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||ar(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&ar(i,""+l);break;case"className":Il(i,"class",l);break;case"tabIndex":Il(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(i,a,l);break;case"style":Zg(i,l,m);break;case"data":if(s!=="object"){Il(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Pl(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&ke(i,s,"name",f.name,f,null),ke(i,s,"formEncType",f.formEncType,f,null),ke(i,s,"formMethod",f.formMethod,f,null),ke(i,s,"formTarget",f.formTarget,f,null)):(ke(i,s,"encType",f.encType,f,null),ke(i,s,"method",f.method,f,null),ke(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Pl(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=xu);break;case"onScroll":l!=null&&Ee("scroll",i);break;case"onScrollEnd":l!=null&&Ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Pl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Ee("beforetoggle",i),Ee("toggle",i),Ol(i,"popover",l);break;case"xlinkActuate":Fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ol(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=SA.get(a)||a,Ol(i,a,l))}}function sd(i,s,a,l,f,m){switch(a){case"style":Zg(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?ar(i,l):(typeof l=="number"||typeof l=="bigint")&&ar(i,""+l);break;case"onScroll":l!=null&&Ee("scroll",i);break;case"onScrollEnd":l!=null&&Ee("scrollend",i);break;case"onClick":l!=null&&(i.onclick=xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=i[Pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ol(i,a,l)}}}function Tt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",i),Ee("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ke(i,s,m,v,a,null)}}f&&ke(i,s,"srcSet",a.srcSet,a,null),l&&ke(i,s,"src",a.src,a,null);return;case"input":Ee("invalid",i);var E=m=v=f=null,T=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var B=a[l];if(B!=null)switch(l){case"name":f=B;break;case"type":v=B;break;case"checked":T=B;break;case"defaultChecked":O=B;break;case"value":m=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:ke(i,s,l,B,a,null)}}Wg(i,m,E,T,O,v,f,!1),kl(i);return;case"select":Ee("invalid",i),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:ke(i,s,f,E,a,null)}s=m,a=v,i.multiple=!!l,s!=null?rr(i,!!l,s,!1):a!=null&&rr(i,!!l,a,!0);return;case"textarea":Ee("invalid",i),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ke(i,s,v,E,a,null)}$g(i,l,f,m),kl(i);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ke(i,s,T,l,a,null)}return;case"dialog":Ee("beforetoggle",i),Ee("toggle",i),Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":Ee("load",i);break;case"video":case"audio":for(l=0;l<lo.length;l++)Ee(lo[l],i);break;case"image":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"embed":case"source":case"link":Ee("error",i),Ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ke(i,s,O,l,a,null)}return;default:if(Ef(s)){for(B in a)a.hasOwnProperty(B)&&(l=a[B],l!==void 0&&sd(i,s,B,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ke(i,s,E,l,a,null))}function KR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,E=null,T=null,O=null,B=null;for(k in a){var j=a[k];if(a.hasOwnProperty(k)&&j!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":T=j;default:l.hasOwnProperty(k)||ke(i,s,k,null,l,j)}}for(var I in l){var k=l[I];if(j=a[I],l.hasOwnProperty(I)&&(k!=null||j!=null))switch(I){case"type":m=k;break;case"name":f=k;break;case"checked":O=k;break;case"defaultChecked":B=k;break;case"value":v=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:k!==j&&ke(i,s,I,k,l,j)}}vf(i,v,E,T,O,B,m,f);return;case"select":k=v=E=I=null;for(m in a)if(T=a[m],a.hasOwnProperty(m)&&T!=null)switch(m){case"value":break;case"multiple":k=T;default:l.hasOwnProperty(m)||ke(i,s,m,null,l,T)}for(f in l)if(m=l[f],T=a[f],l.hasOwnProperty(f)&&(m!=null||T!=null))switch(f){case"value":I=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==T&&ke(i,s,f,m,l,T)}s=E,a=v,l=k,I!=null?rr(i,!!a,I,!1):!!l!=!!a&&(s!=null?rr(i,!!a,s,!0):rr(i,!!a,a?[]:"",!1));return;case"textarea":k=I=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ke(i,s,E,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":I=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ke(i,s,v,f,l,m)}Xg(i,I,k);return;case"option":for(var ue in a)if(I=a[ue],a.hasOwnProperty(ue)&&I!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":i.selected=!1;break;default:ke(i,s,ue,null,l,I)}for(T in l)if(I=l[T],k=a[T],l.hasOwnProperty(T)&&I!==k&&(I!=null||k!=null))switch(T){case"selected":i.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ke(i,s,T,I,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)I=a[se],a.hasOwnProperty(se)&&I!=null&&!l.hasOwnProperty(se)&&ke(i,s,se,null,l,I);for(O in l)if(I=l[O],k=a[O],l.hasOwnProperty(O)&&I!==k&&(I!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:ke(i,s,O,I,l,k)}return;default:if(Ef(s)){for(var Le in a)I=a[Le],a.hasOwnProperty(Le)&&I!==void 0&&!l.hasOwnProperty(Le)&&sd(i,s,Le,void 0,l,I);for(B in l)I=l[B],k=a[B],!l.hasOwnProperty(B)||I===k||I===void 0&&k===void 0||sd(i,s,B,I,l,k);return}}for(var R in a)I=a[R],a.hasOwnProperty(R)&&I!=null&&!l.hasOwnProperty(R)&&ke(i,s,R,null,l,I);for(j in l)I=l[j],k=a[j],!l.hasOwnProperty(j)||I===k||I==null&&k==null||ke(i,s,j,I,l,k)}var rd=null,ad=null;function Nu(i){return i.nodeType===9?i:i.ownerDocument}function Q_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function od(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ld=null;function WR(){var i=window.event;return i&&i.type==="popstate"?i===ld?!1:(ld=i,!0):(ld=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,XR=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(i){return e0.resolve(null).then(i).catch(QR)}:J_;function QR(i){setTimeout(function(){throw i})}function Li(i){return i==="head"}function t0(i,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var v=i.ownerDocument;if(a&1&&co(v.documentElement),a&2&&co(v.body),a&4)for(a=v.head,co(a),v=a.firstChild;v;){var E=v.nextSibling,T=v.nodeName;v[wa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(f===0){i.removeChild(m),_o(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);_o(s)}function ud(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),mf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function ZR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[wa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=En(i.nextSibling),i===null)break}return null}function JR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=En(i.nextSibling),i===null))return null;return i}function cd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function e1(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function En(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var fd=null;function n0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function i0(i,s,a){switch(s=Nu(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function co(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);mf(i)}var fn=new Map,s0=new Set;function Du(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ii=G.d;G.d={f:t1,r:n1,D:i1,C:s1,L:r1,m:a1,X:l1,S:o1,M:u1};function t1(){var i=ii.f(),s=bu();return i||s}function n1(i){var s=tr(i);s!==null&&s.tag===5&&s.type==="form"?Cv(s):ii.r(i)}var Lr=typeof document>"u"?null:document;function r0(i,s,a){var l=Lr;if(l&&typeof s=="string"&&s){var f=sn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),s0.has(f)||(s0.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Tt(s,"link",i),dt(s),l.head.appendChild(s)))}}function i1(i){ii.D(i),r0("dns-prefetch",i,null)}function s1(i,s){ii.C(i,s),r0("preconnect",i,s)}function r1(i,s,a){ii.L(i,s,a);var l=Lr;if(l&&i&&s){var f='link[rel="preload"][as="'+sn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(i)+'"]';var m=f;switch(s){case"style":m=Pr(i);break;case"script":m=Ur(i)}fn.has(m)||(i=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),fn.set(m,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(fo(m))||s==="script"&&l.querySelector(ho(m))||(s=l.createElement("link"),Tt(s,"link",i),dt(s),l.head.appendChild(s)))}}function a1(i,s){ii.m(i,s);var a=Lr;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ur(i)}if(!fn.has(m)&&(i=g({rel:"modulepreload",href:i},s),fn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ho(m)))return}l=a.createElement("link"),Tt(l,"link",i),dt(l),a.head.appendChild(l)}}}function o1(i,s,a){ii.S(i,s,a);var l=Lr;if(l&&i){var f=nr(l).hoistableStyles,m=Pr(i);s=s||"default";var v=f.get(m);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(fo(m)))E.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},a),(a=fn.get(m))&&hd(i,a);var T=v=l.createElement("link");dt(T),Tt(T,"link",i),T._p=new Promise(function(O,B){T.onload=O,T.onerror=B}),T.addEventListener("load",function(){E.loading|=1}),T.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mu(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(m,v)}}}function l1(i,s){ii.X(i,s);var a=Lr;if(a&&i){var l=nr(a).hoistableScripts,f=Ur(i),m=l.get(f);m||(m=a.querySelector(ho(f)),m||(i=g({src:i,async:!0},s),(s=fn.get(f))&&dd(i,s),m=a.createElement("script"),dt(m),Tt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function u1(i,s){ii.M(i,s);var a=Lr;if(a&&i){var l=nr(a).hoistableScripts,f=Ur(i),m=l.get(f);m||(m=a.querySelector(ho(f)),m||(i=g({src:i,async:!0,type:"module"},s),(s=fn.get(f))&&dd(i,s),m=a.createElement("script"),dt(m),Tt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function a0(i,s,a,l){var f=(f=le.current)?Du(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Pr(a.href),a=nr(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Pr(a.href);var m=nr(f).hoistableStyles,v=m.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,v),(m=f.querySelector(fo(i)))&&!m._p&&(v.instance=m,v.state.loading=5),fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fn.set(i,a),m||c1(f,i,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ur(a),a=nr(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Pr(i){return'href="'+sn(i)+'"'}function fo(i){return'link[rel="stylesheet"]['+i+"]"}function o0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function c1(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Tt(s,"link",a),dt(s),i.head.appendChild(s))}function Ur(i){return'[src="'+sn(i)+'"]'}function ho(i){return"script[async]"+i}function l0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return s.instance=l,dt(l),l;var f=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),dt(l),Tt(l,"style",f),Mu(l,a.precedence,i),s.instance=l;case"stylesheet":f=Pr(a.href);var m=i.querySelector(fo(f));if(m)return s.state.loading|=4,s.instance=m,dt(m),m;l=o0(a),(f=fn.get(f))&&hd(l,f),m=(i.ownerDocument||i).createElement("link"),dt(m);var v=m;return v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),Tt(m,"link",l),s.state.loading|=4,Mu(m,a.precedence,i),s.instance=m;case"script":return m=Ur(a.src),(f=i.querySelector(ho(m)))?(s.instance=f,dt(f),f):(l=a,(f=fn.get(m))&&(l=g({},a),dd(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),dt(f),Tt(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Mu(l,a.precedence,i));return s.instance}function Mu(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function hd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ou=null;function u0(i,s,a){if(Ou===null){var l=new Map,f=Ou=new Map;f.set(a,l)}else f=Ou,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[wa]||m[Rt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=i+v;var E=l.get(v);E?E.push(m):l.set(v,[m])}}return l}function c0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function f1(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var mo=null;function h1(){}function d1(i,s,a){if(mo===null)throw Error(r(475));var l=mo;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Pr(a.href),m=i.querySelector(fo(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Iu.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=m,dt(m);return}m=i.ownerDocument||i,a=o0(a),(f=fn.get(f))&&hd(a,f),m=m.createElement("link"),dt(m);var v=m;v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),Tt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Iu.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function m1(){if(mo===null)throw Error(r(475));var i=mo;return i.stylesheets&&i.count===0&&md(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&md(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ku=null;function md(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ku=new Map,s.forEach(p1,i),ku=null,Iu.call(i))}function p1(i,s){if(!(s.state.loading&4)){var a=ku.get(i);if(a)var l=a.get(null);else{a=new Map,ku.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Iu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var po={$$typeof:L,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function g1(i,s,a,l,f,m,v,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.hiddenUpdates=cf(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function h0(i,s,a,l,f,m,v,E,T,O,B,j){return i=new g1(i,s,a,v,E,T,O,j),s=1,m===!0&&(s|=24),m=Kt(3,null,null,s),i.current=m,m.stateNode=i,s=Xf(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Jf(m),i}function d0(i){return i?(i=mr,i):mr}function m0(i,s,a,l,f,m){f=d0(f),l.context===null?l.context=f:l.pendingContext=f,l=Si(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ti(i,l,s),a!==null&&(Zt(a,i,s),qa(a,i,s))}function p0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function pd(i,s){p0(i,s),(i=i.alternate)&&p0(i,s)}function g0(i){if(i.tag===13){var s=dr(i,67108864);s!==null&&Zt(s,i,67108864),pd(i,67108864)}}var Lu=!0;function y1(i,s,a,l){var f=V.T;V.T=null;var m=G.p;try{G.p=2,gd(i,s,a,l)}finally{G.p=m,V.T=f}}function v1(i,s,a,l){var f=V.T;V.T=null;var m=G.p;try{G.p=8,gd(i,s,a,l)}finally{G.p=m,V.T=f}}function gd(i,s,a,l){if(Lu){var f=yd(l);if(f===null)id(i,s,l,Pu,a),v0(i,l);else if(E1(f,i,s,a,l))l.stopPropagation();else if(v0(i,l),s&4&&-1<_1.indexOf(i)){for(;f!==null;){var m=tr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=us(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var T=1<<31-st(v);E.entanglements[1]|=T,v&=~T}Pn(m),(Me&6)===0&&(_u=tn()+500,oo(0))}}break;case 13:E=dr(m,2),E!==null&&Zt(E,m,2),bu(),pd(m,2)}if(m=yd(l),m===null&&id(i,s,l,Pu,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else id(i,s,l,null,a)}}function yd(i){return i=Sf(i),vd(i)}var Pu=null;function vd(i){if(Pu=null,i=er(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Pu=i,null}function y0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lf()){case xl:return 2;case Nl:return 8;case $s:case q:return 32;case he:return 268435456;default:return 32}default:return 32}}var _d=!1,Pi=null,Ui=null,Vi=null,go=new Map,yo=new Map,Bi=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(i,s){switch(i){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":go.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(s.pointerId)}}function vo(i,s,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=tr(s),s!==null&&g0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function E1(i,s,a,l,f){switch(s){case"focusin":return Pi=vo(Pi,i,s,a,l,f),!0;case"dragenter":return Ui=vo(Ui,i,s,a,l,f),!0;case"mouseover":return Vi=vo(Vi,i,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return go.set(m,vo(go.get(m)||null,i,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,yo.set(m,vo(yo.get(m)||null,i,s,a,l,f)),!0}return!1}function _0(i){var s=er(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,dA(i.priority,function(){if(a.tag===13){var l=Qt();l=ff(l);var f=dr(a,l);f!==null&&Zt(f,a,l),pd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=yd(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);bf=l,a.target.dispatchEvent(l),bf=null}else return s=tr(a),s!==null&&g0(s),i.blockedOn=a,!1;s.shift()}return!0}function E0(i,s,a){Uu(i)&&a.delete(s)}function b1(){_d=!1,Pi!==null&&Uu(Pi)&&(Pi=null),Ui!==null&&Uu(Ui)&&(Ui=null),Vi!==null&&Uu(Vi)&&(Vi=null),go.forEach(E0),yo.forEach(E0)}function Vu(i,s){i.blockedOn===s&&(i.blockedOn=null,_d||(_d=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,b1)))}var Bu=null;function b0(i){Bu!==i&&(Bu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bu===i&&(Bu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(vd(l||a)===null)continue;break}var m=tr(a);m!==null&&(i.splice(s,3),s-=3,vh(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function _o(i){function s(T){return Vu(T,i)}Pi!==null&&Vu(Pi,i),Ui!==null&&Vu(Ui,i),Vi!==null&&Vu(Vi,i),go.forEach(s),yo.forEach(s);for(var a=0;a<Bi.length;a++){var l=Bi[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)_0(a),a.blockedOn===null&&Bi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Pt]||null;if(typeof m=="function")v||b0(a);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Pt]||null)E=v.formAction;else if(vd(f)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),b0(a)}}}function Ed(i){this._internalRoot=i}zu.prototype.render=Ed.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Qt();m0(a,l,i,s,null,null)},zu.prototype.unmount=Ed.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;m0(i.current,2,null,i,null,null),bu(),s[Js]=null}};function zu(i){this._internalRoot=i}zu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Vg();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Bi.length&&s!==0&&s<Bi[a].priority;a++);Bi.splice(a,0,i),a===0&&_0(i)}};var S0=e.version;if(S0!=="19.1.0")throw Error(r(527,S0,"19.1.0"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var S1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Be=Hu.inject(S1),Re=Hu}catch{}}return Eo.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=Vv,m=Bv,v=zv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=h0(i,1,!1,null,null,a,l,f,m,v,E,null),i[Js]=s.current,nd(i),new Ed(s)},Eo.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",m=Vv,v=Bv,E=zv,T=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),s=h0(i,1,!0,s,a??null,l,f,m,v,E,T,O),s.context=d0(null),a=s.current,l=Qt(),l=ff(l),f=Si(l),f.callback=null,Ti(a,f,l),a=l,s.current.lanes=a,Ca(s,a),Pn(s),i[Js]=s.current,nd(i),new zu(s)},Eo.version="19.1.0",Eo}var D0;function D1(){if(D0)return Sd.exports;D0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sd.exports=N1(),Sd.exports}var M1=D1();const O1=hS(M1);var bo={},M0;function I1(){if(M0)return bo;M0=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.parse=c,bo.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,b){const S=new u,N=_.length;if(N<2)return S;const D=(b==null?void 0:b.decode)||g;let x=0;do{const z=_.indexOf("=",x);if(z===-1)break;const L=_.indexOf(";",x),K=L===-1?N:L;if(z>K){x=_.lastIndexOf(";",z-1)+1;continue}const P=h(_,x,z),W=d(_,z,P),Z=_.slice(P,W);if(S[Z]===void 0){let $=h(_,z+1,K),ae=d(_,K,$);const Te=D(_.slice($,ae));S[Z]=Te}x=K+1}while(x<N);return S}function h(_,b,S){do{const N=_.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<S);return S}function d(_,b,S){for(;b>S;){const N=_.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return S}function p(_,b,S){const N=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=N(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let x=_+"="+D;if(!S)return x;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);x+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);x+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);x+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);x+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(x+="; HttpOnly"),S.secure&&(x+="; Secure"),S.partitioned&&(x+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return x}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return o.call(_)==="[object Date]"}return bo}I1();var O0="popstate";function k1(t={}){function e(r,o){let{pathname:u,search:c,hash:h}=r.location;return im("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Yo(o)}return P1(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substring(2,10)}function I0(t,e){return{usr:t.state,key:t.key,idx:e}}function im(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||r||L1()}}function Yo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function P1(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let D=g(),x=D==null?null:D-p;p=D,d&&d({action:h,location:N.location,delta:x})}function _(D,x){h="PUSH";let z=im(N.location,D,x);p=g()+1;let L=I0(z,p),K=N.createHref(z);try{c.pushState(L,"",K)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(K)}u&&d&&d({action:h,location:N.location,delta:1})}function b(D,x){h="REPLACE";let z=im(N.location,D,x);p=g();let L=I0(z,p),K=N.createHref(z);c.replaceState(L,"",K),u&&d&&d({action:h,location:N.location,delta:0})}function S(D){let x=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof D=="string"?D:Yo(D);return z=z.replace(/ $/,"%20"),Ke(x,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,x)}let N={get action(){return h},get location(){return t(o,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(O0,y),d=D,()=>{o.removeEventListener(O0,y),d=null}},createHref(D){return e(o,D)},createURL:S,encodeLocation(D){let x=S(D);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:b,go(D){return c.go(D)}};return N}function dS(t,e,n="/"){return U1(t,e,n,!1)}function U1(t,e,n,r){let o=typeof e=="string"?aa(e):e,u=hi(o.pathname||"/",n);if(u==null)return null;let c=mS(t);V1(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=X1(u);h=K1(c[d],p,r)}return h}function mS(t,e=[],n=[],r=""){let o=(u,c,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(Ke(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=li([r,d.relativePath]),g=n.concat(d);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),mS(u.children,e,g,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:G1(p,u.index),routesMeta:g})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,c);else for(let d of pS(u.path))o(u,c,d)}),e}function pS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=pS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function V1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var B1=/^:[\w-]+$/,z1=3,H1=2,j1=1,F1=10,q1=-2,k0=t=>t==="*";function G1(t,e){let n=t.split("/"),r=n.length;return n.some(k0)&&(r+=q1),e&&(r+=H1),n.filter(o=>!k0(o)).reduce((o,u)=>o+(B1.test(u)?z1:u===""?j1:F1),r)}function Y1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function K1(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=oc({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),_=d.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=oc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:li([u,y.pathname]),pathnameBase:J1(li([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=li([u,y.pathnameBase]))}return c}function oc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=h[_]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const b=h[_];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:t}}function W1(t,e=!1,n=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function X1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $1(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?aa(t):t;return{pathname:n?n.startsWith("/")?n:Q1(n,e):e,search:ex(r),hash:tx(o)}}function Q1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $m(t){let e=Z1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Qm(t,e,n,r=!1){let o;typeof t=="string"?o=aa(t):(o={...t},Ke(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=$1(o,h),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var li=t=>t.join("/").replace(/\/\/+/g,"/"),J1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ex=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gS=["POST","PUT","PATCH","DELETE"];new Set(gS);var ix=["GET",...gS];new Set(ix);var oa=C.createContext(null);oa.displayName="DataRouter";var Pc=C.createContext(null);Pc.displayName="DataRouterState";var yS=C.createContext({isTransitioning:!1});yS.displayName="ViewTransition";var sx=C.createContext(new Map);sx.displayName="Fetchers";var rx=C.createContext(null);rx.displayName="Await";var Nn=C.createContext(null);Nn.displayName="Navigation";var hl=C.createContext(null);hl.displayName="Location";var Hn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var Zm=C.createContext(null);Zm.displayName="RouteError";function ax(t,{relative:e}={}){Ke(la(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Nn),{hash:o,pathname:u,search:c}=dl(t,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:li([n,u])),r.createHref({pathname:h,search:c,hash:o})}function la(){return C.useContext(hl)!=null}function ns(){return Ke(la(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(hl).location}var vS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _S(t){C.useContext(Nn).static||C.useLayoutEffect(t)}function ua(){let{isDataRoute:t}=C.useContext(Hn);return t?_x():ox()}function ox(){Ke(la(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(oa),{basename:e,navigator:n}=C.useContext(Nn),{matches:r}=C.useContext(Hn),{pathname:o}=ns(),u=JSON.stringify($m(r)),c=C.useRef(!1);return _S(()=>{c.current=!0}),C.useCallback((d,p={})=>{if(Rn(c.current,vS),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Qm(d,JSON.parse(u),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:li([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,u,o,t])}C.createContext(null);function dl(t,{relative:e}={}){let{matches:n}=C.useContext(Hn),{pathname:r}=ns(),o=JSON.stringify($m(n));return C.useMemo(()=>Qm(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function lx(t,e){return ES(t,e)}function ES(t,e,n,r){var z;Ke(la(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=C.useContext(Nn),{matches:c}=C.useContext(Hn),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let L=y&&y.path||"";bS(p,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=ns(),b;if(e){let L=typeof e=="string"?aa(e):e;Ke(g==="/"||((z=L.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=_;let S=b.pathname||"/",N=S;if(g!=="/"){let L=g.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let D=!u&&n&&n.matches&&n.matches.length>0?n.matches:dS(t,{pathname:N});Rn(y||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Rn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=dx(D&&D.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:li([g,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:li([g,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,r);return e&&x?C.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function ux(){let t=vx(),e=nx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,c)}var cx=C.createElement(ux,null),fx=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Hn.Provider,{value:this.props.routeContext},C.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hx({routeContext:t,match:e,children:n}){let r=C.useContext(oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Hn.Provider,{value:t},n)}function dx(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let d=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let y,_=!1,b=null,S=null;n&&(y=u&&p.route.id?u[p.route.id]:void 0,b=p.route.errorElement||cx,c&&(h<0&&g===0?(bS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):h===g&&(_=!0,S=p.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,g+1)),D=()=>{let x;return y?x=b:_?x=S:p.route.Component?x=C.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,C.createElement(hx,{match:p,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(fx,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}function Jm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(t){let e=C.useContext(oa);return Ke(e,Jm(t)),e}function px(t){let e=C.useContext(Pc);return Ke(e,Jm(t)),e}function gx(t){let e=C.useContext(Hn);return Ke(e,Jm(t)),e}function ep(t){let e=gx(t),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yx(){return ep("useRouteId")}function vx(){var r;let t=C.useContext(Zm),e=px("useRouteError"),n=ep("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function _x(){let{router:t}=mx("useNavigate"),e=ep("useNavigate"),n=C.useRef(!1);return _S(()=>{n.current=!0}),C.useCallback(async(o,u={})=>{Rn(n.current,vS),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var L0={};function bS(t,e,n){!e&&!L0[t]&&(L0[t]=!0,Rn(!1,n))}C.memo(Ex);function Ex({routes:t,future:e,state:n}){return ES(t,void 0,n,e)}function Rd({to:t,replace:e,state:n,relative:r}){Ke(la(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(Nn);Rn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext(Hn),{pathname:c}=ns(),h=ua(),d=Qm(t,$m(u),c,r==="path"),p=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function Do(t){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bx({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Ke(!la(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=aa(n));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:_="default"}=n,b=C.useMemo(()=>{let S=hi(d,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:_},navigationType:r}},[c,d,p,g,y,_,r]);return Rn(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(Nn.Provider,{value:h},C.createElement(hl.Provider,{children:e,value:b}))}function Sx({children:t,location:e}){return lx(sm(t),e)}function sm(t,e=[]){let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let u=[...e,o];if(r.type===C.Fragment){n.push.apply(n,sm(r.props.children,u));return}Ke(r.type===Do,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=sm(r.props.children,u)),n.push(c)}),n}var Qu="get",Zu="application/x-www-form-urlencoded";function Uc(t){return t!=null&&typeof t.tagName=="string"}function Tx(t){return Uc(t)&&t.tagName.toLowerCase()==="button"}function Cx(t){return Uc(t)&&t.tagName.toLowerCase()==="form"}function wx(t){return Uc(t)&&t.tagName.toLowerCase()==="input"}function Ax(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rx(t,e){return t.button===0&&(!e||e==="_self")&&!Ax(t)}var ju=null;function xx(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var Nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(t){return t!=null&&!Nx.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):t}function Dx(t,e){let n,r,o,u,c;if(Cx(t)){let h=t.getAttribute("action");r=h?hi(h,e):null,n=t.getAttribute("method")||Qu,o=xd(t.getAttribute("enctype"))||Zu,u=new FormData(t)}else if(Tx(t)||wx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?hi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Qu,o=xd(t.getAttribute("formenctype"))||xd(h.getAttribute("enctype"))||Zu,u=new FormData(h,t),!xx()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else p&&u.append(p,y)}}else{if(Uc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qu,r=null,o=Zu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}function tp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Mx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ox(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ix(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await Mx(u,n);return c.links?c.links():[]}return[]}));return Ux(r.flat(1).filter(Ox).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function P0(t,e,n,r,o,u){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):u==="data"?e.filter((d,p)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function kx(t,e,{includeHydrateFallback:n}={}){return Lx(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Lx(t){return[...new Set(t)]}function Px(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Ux(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(Px(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}var Vx=new Set([100,101,204,205]);function Bx(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&hi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function SS(){let t=C.useContext(oa);return tp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zx(){let t=C.useContext(Pc);return tp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var np=C.createContext(void 0);np.displayName="FrameworkContext";function TS(){let t=C.useContext(np);return tp(t,"You must render this element inside a <HydratedRouter> element"),t}function Hx(t,e){let n=C.useContext(np),[r,o]=C.useState(!1),[u,c]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=x=>{x.forEach(z=>{c(z.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),C.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let b=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,_,{}]:[u,_,{onFocus:So(h,b),onBlur:So(d,S),onMouseEnter:So(p,b),onMouseLeave:So(g,S),onTouchStart:So(y,b)}]:[!1,_,{}]}function So(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jx({page:t,...e}){let{router:n}=SS(),r=C.useMemo(()=>dS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(qx,{page:t,matches:r,...e}):null}function Fx(t){let{manifest:e,routeModules:n}=TS(),[r,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return Ix(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function qx({page:t,matches:e,...n}){let r=ns(),{manifest:o,routeModules:u}=TS(),{basename:c}=SS(),{loaderData:h,matches:d}=zx(),p=C.useMemo(()=>P0(t,e,d,o,r,"data"),[t,e,d,o,r]),g=C.useMemo(()=>P0(t,e,d,o,r,"assets"),[t,e,d,o,r]),y=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,N=!1;if(e.forEach(x=>{var L;let z=o.routes[x.route.id];!z||!z.hasLoader||(!p.some(K=>K.route.id===x.route.id)&&x.route.id in h&&((L=u[x.route.id])!=null&&L.shouldRevalidate)||z.hasClientLoader?N=!0:S.add(x.route.id))}),S.size===0)return[];let D=Bx(t,c);return N&&S.size>0&&D.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[D.pathname+D.search]},[c,h,r,o,p,e,t,u]),_=C.useMemo(()=>kx(g,o),[g,o]),b=Fx(g);return C.createElement(C.Fragment,null,y.map(S=>C.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>C.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:N})=>C.createElement("link",{key:S,...N})))}function Gx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CS&&(window.__reactRouterVersion="7.5.2")}catch{}function Yx({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=k1({window:n,v5Compat:!0}));let o=r.current,[u,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(d=>{C.startTransition(()=>c(d))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(bx,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AS=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,..._},b){let{basename:S}=C.useContext(Nn),N=typeof p=="string"&&wS.test(p),D,x=!1;if(typeof p=="string"&&N&&(D=p,CS))try{let ae=new URL(window.location.href),Te=p.startsWith("//")?new URL(ae.protocol+p):new URL(p),We=hi(Te.pathname,S);Te.origin===ae.origin&&We!=null?p=We+Te.search+Te.hash:x=!0}catch{Rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=ax(p,{relative:o}),[L,K,P]=Hx(r,_),W=$x(p,{replace:c,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:y});function Z(ae){e&&e(ae),ae.defaultPrevented||W(ae)}let $=C.createElement("a",{..._,...P,href:D||z,onClick:x||u?e:Z,ref:Gx(b,K),target:d,"data-discover":!N&&n==="render"?"true":void 0});return L&&!N?C.createElement(C.Fragment,null,$,C.createElement(jx,{page:z})):$});AS.displayName="Link";var Kx=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:d,...p},g){let y=dl(c,{relative:p.relative}),_=ns(),b=C.useContext(Pc),{navigator:S,basename:N}=C.useContext(Nn),D=b!=null&&tN(y)&&h===!0,x=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,z=_.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(z=z.toLowerCase(),L=L?L.toLowerCase():null,x=x.toLowerCase()),L&&N&&(L=hi(L,N)||L);const K=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=z===x||!o&&z.startsWith(x)&&z.charAt(K)==="/",W=L!=null&&(L===x||!o&&L.startsWith(x)&&L.charAt(x.length)==="/"),Z={isActive:P,isPending:W,isTransitioning:D},$=P?e:void 0,ae;typeof r=="function"?ae=r(Z):ae=[r,P?"active":null,W?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Te=typeof u=="function"?u(Z):u;return C.createElement(AS,{...p,"aria-current":$,className:ae,ref:g,style:Te,to:c,viewTransition:h},typeof d=="function"?d(Z):d)});Kx.displayName="NavLink";var Wx=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=Qu,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,..._},b)=>{let S=Jx(),N=eN(h,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",x=typeof h=="string"&&wS.test(h),z=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let K=L.nativeEvent.submitter,P=(K==null?void 0:K.getAttribute("formmethod"))||c;S(K||L.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:b,method:D,action:N,onSubmit:r?d:z,..._,"data-discover":!x&&t==="render"?"true":void 0})});Wx.displayName="Form";function Xx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RS(t){let e=C.useContext(oa);return Ke(e,Xx(t)),e}function $x(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let h=ua(),d=ns(),p=dl(t,{relative:u});return C.useCallback(g=>{if(Rx(g,e)){g.preventDefault();let y=n!==void 0?n:Yo(d)===Yo(p);h(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[d,h,p,n,r,e,t,o,u,c])}var Qx=0,Zx=()=>`__${String(++Qx)}__`;function Jx(){let{router:t}=RS("useSubmit"),{basename:e}=C.useContext(Nn),n=yx();return C.useCallback(async(r,o={})=>{let{action:u,method:c,encType:h,formData:d,body:p}=Dx(r,e);if(o.navigate===!1){let g=o.fetcherKey||Zx();await t.fetch(g,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function eN(t,{relative:e}={}){let{basename:n}=C.useContext(Nn),r=C.useContext(Hn);Ke(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...dl(t||".",{relative:e})},c=ns();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:li([n,u.pathname])),Yo(u)}function tN(t,e={}){let n=C.useContext(yS);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RS("useViewTransitionState"),o=dl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return oc(o.pathname,c)!=null||oc(o.pathname,u)!=null}new TextEncoder;[...Vx];const nN=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw ca(e)},ca=function(t){return new Error("Firebase Database ("+xS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},iN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],h=t[n++],d=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},ip={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|p>>6,b=p&63;d||(b=64,c||(_=64)),r.push(n[g],n[y],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||h==null||p==null||y==null)throw new sN;const _=u<<2|h>>4;if(r.push(_),p!==64){const b=h<<4&240|p>>2;if(r.push(b),y!==64){const S=p<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(t){const e=NS(t);return ip.encodeByteArray(e,!0)},lc=function(t){return DS(t).replace(/\./g,"")},uc=function(t){try{return ip.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){return MS(void 0,t)}function MS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!aN(n)||(t[n]=MS(t[n],e[n]));return t}function aN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=()=>oN().__FIREBASE_DEFAULTS__,uN=()=>{if(typeof process>"u"||typeof U0>"u")return;const t=U0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uc(t[1]);return e&&JSON.parse(e)},sp=()=>{try{return nN()||lN()||uN()||cN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>{var e,n;return(n=(e=sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fN=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IS=()=>{var t;return(t=sp())===null||t===void 0?void 0:t.config},kS=t=>{var e;return(e=sp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lc(JSON.stringify(n)),lc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function dN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gN(){return xS.NODE_ADMIN===!0}function yN(){try{return typeof indexedDB=="object"}catch{return!1}}function vN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="FirebaseError";class is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_N,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?EN(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new is(o,h,r)}}function EN(t,e){return t.replace(bN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const bN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){return JSON.parse(t)}function Et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=function(t){let e={},n={},r={},o="";try{const u=t.split(".");e=Ko(uc(u[0])||""),n=Ko(uc(u[1])||""),o=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},SN=function(t){const e=PS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TN=function(t){const e=PS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cc(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function Vs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(V0(u)&&V0(c)){if(!Vs(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function V0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=h^u&(c^h),g=1518500249):(p=u^c^h,g=1859775393):y<60?(p=u&c|h&(u|c),g=2400959708):(p=u^c^h,g=3395469782);const _=(o<<5|o>>>27)+p+d+g+r[y]&4294967295;d=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<n;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function wN(t,e){const n=new AN(t,e);return n.subscribe.bind(n)}class AN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Nd),o.error===void 0&&(o.error=Nd),o.complete===void 0&&(o.complete=Nd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nd(){}function Vc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Bc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ml;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MN(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DN(t){return t===xs?void 0:t}function MN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const IN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},kN=Pe.INFO,LN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},PN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=LN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ap{constructor(e){this.name=e,this._logLevel=kN,this._logHandler=PN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const UN=(t,e)=>e.some(n=>t instanceof n);let B0,z0;function VN(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BN(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,am=new WeakMap,VS=new WeakMap,Dd=new WeakMap,op=new WeakMap;function zN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(Wi(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&US.set(n,t)}).catch(()=>{}),op.set(e,t),e}function HN(t){if(am.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});am.set(t,e)}let om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jN(t){om=t(om)}function FN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Md(this),e,...n);return VS.set(r,e.sort?e.sort():[e]),Wi(r)}:BN().includes(t)?function(...e){return t.apply(Md(this),e),Wi(US.get(this))}:function(...e){return Wi(t.apply(Md(this),e))}}function qN(t){return typeof t=="function"?FN(t):(t instanceof IDBTransaction&&HN(t),UN(t,VN())?new Proxy(t,om):t)}function Wi(t){if(t instanceof IDBRequest)return zN(t);if(Dd.has(t))return Dd.get(t);const e=qN(t);return e!==t&&(Dd.set(t,e),op.set(e,t)),e}const Md=t=>op.get(t);function GN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=Wi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Wi(c.result),d.oldVersion,d.newVersion,Wi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const YN=["get","getKey","getAll","getAllKeys","count"],KN=["put","add","delete","clear"],Od=new Map;function H0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=KN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||YN.includes(n)))return;const u=async function(c,...h){const d=this.transaction(c,o?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&d.done]))[0]};return Od.set(e,u),u}jN(t=>({...t,get:(e,n,r)=>H0(e,n)||t.get(e,n,r),has:(e,n)=>!!H0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lm="@firebase/app",j0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new ap("@firebase/app"),$N="@firebase/app-compat",QN="@firebase/analytics-compat",ZN="@firebase/analytics",JN="@firebase/app-check-compat",eD="@firebase/app-check",tD="@firebase/auth",nD="@firebase/auth-compat",iD="@firebase/database",sD="@firebase/data-connect",rD="@firebase/database-compat",aD="@firebase/functions",oD="@firebase/functions-compat",lD="@firebase/installations",uD="@firebase/installations-compat",cD="@firebase/messaging",fD="@firebase/messaging-compat",hD="@firebase/performance",dD="@firebase/performance-compat",mD="@firebase/remote-config",pD="@firebase/remote-config-compat",gD="@firebase/storage",yD="@firebase/storage-compat",vD="@firebase/firestore",_D="@firebase/vertexai",ED="@firebase/firestore-compat",bD="firebase",SD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",TD={[lm]:"fire-core",[$N]:"fire-core-compat",[ZN]:"fire-analytics",[QN]:"fire-analytics-compat",[eD]:"fire-app-check",[JN]:"fire-app-check-compat",[tD]:"fire-auth",[nD]:"fire-auth-compat",[iD]:"fire-rtdb",[sD]:"fire-data-connect",[rD]:"fire-rtdb-compat",[aD]:"fire-fn",[oD]:"fire-fn-compat",[lD]:"fire-iid",[uD]:"fire-iid-compat",[cD]:"fire-fcm",[fD]:"fire-fcm-compat",[hD]:"fire-perf",[dD]:"fire-perf-compat",[mD]:"fire-rc",[pD]:"fire-rc-compat",[gD]:"fire-gcs",[yD]:"fire-gcs-compat",[vD]:"fire-fst",[ED]:"fire-fst-compat",[_D]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,CD=new Map,cm=new Map;function F0(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zr(t){const e=t.name;if(cm.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(const n of fc.values())F0(n,t);for(const n of CD.values())F0(n,t);return!0}function lp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new pl("app","Firebase",wD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=SD;function BS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:um,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(n||(n=IS()),!n)throw Xi.create("no-options");const u=fc.get(o);if(u){if(Vs(n,u.options)&&Vs(r,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const c=new ON(o);for(const d of cm.values())c.addComponent(d);const h=new AD(n,r,c);return fc.set(o,h),h}function zS(t=um){const e=fc.get(t);if(!e&&t===um&&IS())return BS();if(!e)throw Xi.create("no-app",{appName:t});return e}function $i(t,e,n){var r;let o=(r=TD[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(h.join(" "));return}Zr(new Bs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-heartbeat-database",xD=1,Wo="firebase-heartbeat-store";let Id=null;function HS(){return Id||(Id=GN(RD,xD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Id}async function ND(t){try{const n=(await HS()).transaction(Wo),r=await n.objectStore(Wo).get(jS(t));return await n.done,r}catch(e){if(e instanceof is)di.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function q0(t,e){try{const r=(await HS()).transaction(Wo,"readwrite");await r.objectStore(Wo).put(e,jS(t)),await r.done}catch(n){if(n instanceof is)di.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function jS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=1024,MD=30;class OD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=G0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>MD){const c=LD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G0(),{heartbeatsToSend:r,unsentEntries:o}=ID(this._heartbeatsCache.heartbeats),u=lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return di.warn(n),""}}}function G0(){return new Date().toISOString().substring(0,10)}function ID(t,e=DD){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Y0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yN()?vN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ND(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return lc(JSON.stringify({version:2,heartbeats:t})).length}function LD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){Zr(new Bs("platform-logger",e=>new WN(e),"PRIVATE")),Zr(new Bs("heartbeat",e=>new OD(e),"PRIVATE")),$i(lm,j0,t),$i(lm,j0,"esm2017"),$i("fire-js","")}PD("");function up(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function FS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UD=FS,qS=new pl("auth","Firebase",FS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new ap("@firebase/auth");function VD(t,...e){hc.logLevel<=Pe.WARN&&hc.warn(`Auth (${ha}): ${t}`,...e)}function Ju(t,...e){hc.logLevel<=Pe.ERROR&&hc.error(`Auth (${ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw fp(t,...e)}function wn(t,...e){return fp(t,...e)}function cp(t,e,n){const r=Object.assign(Object.assign({},UD()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return cp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(t,"argument-error"),cp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qS.create(t,...e)}function oe(t,e,...n){if(!t)throw fp(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function mi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zD(){return K0()==="http:"||K0()==="https:"}function K0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zD()||mN()||"connection"in navigator)?navigator.onLine:!0}function jD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=rp()||LS()}get(){return HD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GD=new gl(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rs(t,e,n,r,o={}){return YS(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const h=fa(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},u);return dN()||(p.referrerPolicy="no-referrer"),GS.fetch()(await KS(t,t.config.apiHost,n,h),p)})}async function YS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FD),e);try{const o=new KD(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Fu(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Fu(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw cp(t,g,p);gn(t,g)}}catch(o){if(o instanceof is)throw o;gn(t,"network-request-failed",{message:String(o)})}}async function yl(t,e,n,r,o={}){const u=await rs(t,e,n,r,o);return"mfaPendingCredential"in u&&gn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function KS(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?hp(t.config,o):`${t.config.apiScheme}://${o}`;return qD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function YD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),GD.get())})}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=wn(t,e,r);return o.customData._tokenResponse=n,o}function W0(t){return t!==void 0&&t.enterprise!==void 0}class WD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XD(t,e){return rs(t,"GET","/v2/recaptchaConfig",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function dc(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QD(t,e=!1){const n=qt(t),r=await n.getIdToken(e),o=dp(r);oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Lo(kd(o.auth_time)),issuedAtTime:Lo(kd(o.iat)),expirationTime:Lo(kd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kd(t){return Number(t)*1e3}function dp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const o=uc(n);return o?JSON.parse(o):(Ju("Failed to decode base64 JWT payload"),null)}catch(o){return Ju("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function X0(t){const e=dp(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof is&&ZD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Xo(t,dc(n,{idToken:r}));oe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?WS(u.providerUserInfo):[],h=tM(t.providerData,c),d=t.isAnonymous,p=!(t.email&&u.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new hm(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function eM(t){const e=qt(t);await mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tM(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function WS(t){return t.map(e=>{var{providerId:n}=e,r=up(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){const n=await YS(t,{},async()=>{const r=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await KS(t,o,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",GS.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iM(t,e){return rs(t,"POST","/v2/accounts:revokeToken",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=X0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await nM(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Gr;return r&&(oe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(oe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(oe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gr,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QD(this,e)}reload(){return eM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await Xo(this,$D(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,c,h,d,p,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,S=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,x=(p=n.createdAt)!==null&&p!==void 0?p:void 0,z=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:K,isAnonymous:P,providerData:W,stsTokenManager:Z}=n;oe(L&&Z,e,"internal-error");const $=Gr.fromJSON(this.name,Z);oe(typeof L=="string",e,"internal-error"),Hi(y,e.name),Hi(_,e.name),oe(typeof K=="boolean",e,"internal-error"),oe(typeof P=="boolean",e,"internal-error"),Hi(b,e.name),Hi(S,e.name),Hi(N,e.name),Hi(D,e.name),Hi(x,e.name),Hi(z,e.name);const ae=new Tn({uid:L,auth:e,email:_,emailVerified:K,displayName:y,isAnonymous:P,photoURL:S,phoneNumber:b,tenantId:N,stsTokenManager:$,createdAt:x,lastLoginAt:z});return W&&Array.isArray(W)&&(ae.providerData=W.map(Te=>Object.assign({},Te))),D&&(ae._redirectEventId=D),ae}static async _fromIdTokenResponse(e,n,r=!1){const o=new Gr;o.updateFromServerResponse(n);const u=new Tn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await mc(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new Gr;h.updateFromIdToken(r);const d=new Tn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function ai(t){mi(t instanceof Function,"Expected a class definition");let e=$0.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XS.type="NONE";const Q0=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){return`firebase:${t}:${e}:${n}`}class Yr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ec(this.userKey,o.apiKey,u),this.fullPersistenceKey=ec("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dc(this.auth,{idToken:e}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yr(ai(Q0),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ai(Q0);const c=ec(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(c);if(g){let y;if(typeof g=="string"){const _=await dc(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Tn._fromGetAccountInfoResponse(e,_,g)}else y=Tn._fromJSON(e,g);p!==u&&(h=y),u=p;break}}catch{}const d=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new Yr(u,e,r):(u=d[0],h&&await u._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new Yr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tT(e))return"Blackberry";if(nT(e))return"Webos";if(QS(e))return"Safari";if((e.includes("chrome/")||ZS(e))&&!e.includes("edge/"))return"Chrome";if(eT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $S(t=Lt()){return/firefox\//i.test(t)}function QS(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZS(t=Lt()){return/crios\//i.test(t)}function JS(t=Lt()){return/iemobile/i.test(t)}function eT(t=Lt()){return/android/i.test(t)}function tT(t=Lt()){return/blackberry/i.test(t)}function nT(t=Lt()){return/webos/i.test(t)}function mp(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sM(t=Lt()){var e;return mp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rM(){return pN()&&document.documentMode===10}function iT(t=Lt()){return mp(t)||eT(t)||nT(t)||tT(t)||/windows phone/i.test(t)||JS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e=[]){let n;switch(t){case"Browser":n=Z0(Lt());break;case"Worker":n=`${Z0(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,h)=>{try{const d=e(u);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return rs(t,"GET","/v2/passwordPolicy",ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=6;class uM{constructor(e){var n,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:lM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J0(this),this.idTokenSubscription=new J0(this),this.beforeStateQueue=new aM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Yr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dc(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(en(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(ui(this));const n=e?qt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oM(this),n=new uM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Yr.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,o);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function as(t){return qt(t)}class J0{constructor(e){this.auth=e,this.observer=null,this.addObserver=wN(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fM(t){zc=t}function rT(t){return zc.loadJS(t)}function hM(){return zc.recaptchaEnterpriseScript}function dM(){return zc.gapiScript}function mM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pM{constructor(){this.enterprise=new gM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yM="recaptcha-enterprise",aT="NO_RECAPTCHA";class vM{constructor(e){this.type=yM,this.auth=as(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,h)=>{XD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new WD(d);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function o(u,c,h){const d=window.grecaptcha;W0(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(aT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pM().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(h=>{if(!n&&W0(window.grecaptcha))o(h,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=hM();d.length!==0&&(d+=h),rT(d).then(()=>{o(h,u,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function eE(t,e,n,r=!1,o=!1){const u=new vM(t);let c;if(o)c=aT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function dm(t,e,n,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await eE(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await eE(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){const n=lp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Vs(u,e??{}))return o;gn(o,"already-initialized")}return n.initialize({options:e})}function EM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bM(t,e,n){const r=as(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=oT(e),{host:c,port:h}=SM(e),d=h===null?"":`:${h}`,p={url:`${u}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Vs(p,r.config.emulator)&&Vs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,TM()}function oT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SM(t){const e=oT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:tE(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:tE(c)}}}function tE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function CM(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return yl(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){return yl(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function RM(t,e){return yl(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends pp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $o(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $o(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,n,"signInWithPassword",wM);case"emailLink":return AM(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,r,"signUpPassword",CM);case"emailLink":return RM(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(t,e){return yl(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class zs extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=up(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new zs(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Kr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kr(e,n)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DM(t){const e=Mo(Oo(t)).link,n=e?Mo(Oo(e)).deep_link_id:null,r=Mo(Oo(t)).deep_link_id;return(r?Mo(Oo(r)).link:null)||r||n||e||t}class gp{constructor(e){var n,r,o,u,c,h;const d=Mo(Oo(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=NM((o=d.mode)!==null&&o!==void 0?o:null);oe(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=DM(e);try{return new gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.providerId=da.PROVIDER_ID}static credential(e,n){return $o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gp.parseLink(n);return oe(r,"argument-error"),$o._fromEmailAndCode(e,r.code,r.tenantId)}}da.PROVIDER_ID="password";da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends vl{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends vl{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends vl{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return yl(t,"POST","/v1/accounts:signUp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Tn._fromIdTokenResponse(e,r,o),c=nE(r);return new Hs({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=nE(r);return new Hs({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function nE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends is{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new pc(e,n,r,o)}}function lT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?pc._fromErrorAndOperation(t,u,e,r):u})}async function OM(t,e,n=!1){const r=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e,n=!1){const{auth:r}=t;if(en(r.app))return Promise.reject(ui(r));const o="reauthenticate";try{const u=await Xo(t,lT(r,o,e,t),n);oe(u.idToken,r,"internal-error");const c=dp(u.idToken);oe(c,r,"internal-error");const{sub:h}=c;return oe(t.uid===h,r,"user-mismatch"),Hs._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(t,e,n=!1){if(en(t.app))return Promise.reject(ui(t));const r="signIn",o=await lT(t,r,e),u=await Hs._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function kM(t,e){return uT(as(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t){const e=as(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LM(t,e,n){if(en(t.app))return Promise.reject(ui(t));const r=as(t),c=await dm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&cT(t),d}),h=await Hs._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function PM(t,e,n){return en(t.app)?Promise.reject(ui(t)):kM(qt(t),da.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cT(t),r})}function UM(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function VM(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function BM(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}const gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=1e3,HM=10;class hT extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);rM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HM):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hT.type="LOCAL";const jM=hT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dT.type="SESSION";const mT=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Hc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async p=>p(n.origin,u)),d=await FM(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((h,d)=>{const p=vp("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function GM(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function YM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WM(){return pT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firebaseLocalStorageDb",XM=1,yc="firebaseLocalStorage",yT="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jc(t,e){return t.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function $M(){const t=indexedDB.deleteDatabase(gT);return new _l(t).toPromise()}function mm(){const t=indexedDB.open(gT,XM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yc,{keyPath:yT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yc)?e(r):(r.close(),await $M(),e(await mm()))})})}async function iE(t,e,n){const r=jc(t,!0).put({[yT]:e,value:n});return new _l(r).toPromise()}async function QM(t,e){const n=jc(t,!1).get(e),r=await new _l(n).toPromise();return r===void 0?null:r.value}function sE(t,e){const n=jc(t,!0).delete(e);return new _l(n).toPromise()}const ZM=800,JM=3;class vT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(WM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YM(),!this.activeServiceWorker)return;this.sender=new qM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await iE(e,gc,"1"),await sE(e,gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jc(o,!1).getAll();return new _l(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vT.type="LOCAL";const eO=vT;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){return e?ai(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tO(t){return uT(t.auth,new _p(t),t.bypassAuthState)}function nO(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),IM(n,new _p(t),t.bypassAuthState)}async function iO(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),OM(n,new _p(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return iO;case"reauthViaPopup":case"reauthViaRedirect":return nO;default:gn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new gl(2e3,1e4);async function rO(t,e,n){if(en(t.app))return Promise.reject(wn(t,"operation-not-supported-in-this-environment"));const r=as(t);BD(t,e,yp);const o=_T(r,n);return new Os(r,"signInViaPopup",e,o).executeNotNull()}class Os extends ET{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sO.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",tc=new Map;class oO extends ET{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const r=await lO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lO(t,e){const n=fO(e),r=cO(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function uO(t,e){tc.set(t._key(),e)}function cO(t){return ai(t._redirectPersistence)}function fO(t){return ec(aO,t.config.apiKey,t.name)}async function hO(t,e,n=!1){if(en(t.app))return Promise.reject(ui(t));const r=as(t),o=_T(r,e),c=await new oO(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=10*60*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dO&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function _O(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gO(t);for(const n of e)try{if(EO(n))return}catch{}gn(t,"unauthorized-domain")}function EO(t){const e=fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!vO.test(n))return!1;if(yO.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new gl(3e4,6e4);function aE(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SO(t){return new Promise((e,n)=>{var r,o,u;function c(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(wn(t,"network-request-failed"))},timeout:bO.get()})}if(!((o=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Un().gapi)===null||u===void 0)&&u.load)c();else{const h=mM("iframefcb");return Un()[h]=()=>{gapi.load?c():n(wn(t,"network-request-failed"))},rT(`${dM()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw nc=null,e})}let nc=null;function TO(t){return nc=nc||SO(t),nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new gl(5e3,15e3),wO="__/auth/iframe",AO="emulator/auth/iframe",RO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hp(e,AO):`https://${t.config.authDomain}/${wO}`,r={apiKey:e.apiKey,appName:t.name,v:ha},o=xO.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${fa(r).slice(1)}`}async function DO(t){const e=await TO(t),n=Un().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:NO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=wn(t,"network-request-failed"),h=Un().setTimeout(()=>{u(c)},CO.get());function d(){Un().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OO=500,IO=600,kO="_blank",LO="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PO(t,e,n,r=OO,o=IO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},MO),{width:r.toString(),height:o.toString(),top:u,left:c}),p=Lt().toLowerCase();n&&(h=ZS(p)?kO:n),$S(p)&&(e=e||LO,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[b,S])=>`${_}${b}=${S},`,"");if(sM(p)&&h!=="_self")return UO(e||"",h),new oE(null);const y=window.open(e||"",h,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new oE(y)}function UO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__/auth/handler",BO="emulator/auth/handler",zO=encodeURIComponent("fac");async function lE(t,e,n,r,o,u){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ha,eventId:o};if(e instanceof yp){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",rm(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof vl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${zO}=${encodeURIComponent(d)}`:"";return`${HO(t)}?${fa(h).slice(1)}${p}`}function HO({config:t}){return t.emulator?hp(t,BO):`https://${t.authDomain}/${VO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="webStorageSupport";class jO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=hO,this._overrideRedirectResult=uO}async _openPopup(e,n,r,o){var u;mi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await lE(e,n,r,fm(),o);return PO(e,c,vp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await lE(e,n,r,fm(),o);return GM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DO(e),r=new mO(e);return n.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ld,{type:Ld},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Ld];c!==void 0&&n(!!c),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_O(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iT()||QS()||mp()}}const FO=jO;var uE="@firebase/auth",cE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YO(t){Zr(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;oe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(t)},p=new cM(r,o,u,d);return EM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zr(new Bs("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(r=>new qO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(uE,cE,GO(t)),$i(uE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=5*60,WO=kS("authIdTokenMaxAge")||KO;let fE=null;const XO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WO)return;const o=n==null?void 0:n.token;fE!==o&&(fE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $O(t=zS()){const e=lp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_M(t,{popupRedirectResolver:FO,persistence:[eO,jM,mT]}),r=kS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=XO(u.toString());VM(n,c,()=>c(n.currentUser)),UM(n,h=>c(h))}}const o=OS("auth");return o&&bM(n,`http://${o}`),n}function QO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=wn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",QO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YO("Browser");var ZO="firebase",JO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(ZO,JO,"app");var hE={};const dE="@firebase/database",mE="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ST="";function eI(t){ST=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ko(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tI(e)}}catch{}return new nI},Is=TT("localStorage"),iI=TT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new ap("@firebase/database"),sI=function(){let t=1;return function(){return t++}}(),CT=function(t){const e=xN(t),n=new CN;n.update(e);const r=n.digest();return ip.encodeByteArray(r)},El=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=El.apply(null,r):typeof r=="object"?e+=Et(r):e+=r,e+=" "}return e};let Po=null,pE=!0;const rI=function(t,e){Y(!0,"Can't turn on custom loggers persistently."),Wr.logLevel=Pe.VERBOSE,Po=Wr.log.bind(Wr)},wt=function(...t){if(pE===!0&&(pE=!1,Po===null&&iI.get("logging_enabled")===!0&&rI()),Po){const e=El.apply(null,t);Po(e)}},bl=function(t){return function(...e){wt(t,...e)}},pm=function(...t){const e="FIREBASE INTERNAL ERROR: "+El(...t);Wr.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${El(...t)}`;throw Wr.error(e),new Error(e)},kt=function(...t){const e="FIREBASE WARNING: "+El(...t);Wr.warn(e)},aI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ep=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},oI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jr="[MIN_NAME]",js="[MAX_NAME]",Ys=function(t,e){if(t===e)return 0;if(t===Jr||e===js)return-1;if(e===Jr||t===js)return 1;{const n=gE(t),r=gE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lI=function(t,e){return t===e?0:t<e?-1:1},To=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Et(e))},bp=function(t){if(typeof t!="object"||t===null)return Et(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Et(e[r]),n+=":",n+=bp(t[e[r]]);return n+="}",n},wT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function At(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const AT=function(t){Y(!Ep(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,u,c,h,d;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(d=n;d;d-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},uI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const hI=new RegExp("^-?(0*)\\d{1,10}$"),dI=-2147483648,mI=2147483647,gE=function(t){if(hI.test(t)){const e=Number(t);if(e>=dI&&e<=mI)return e}return null},ma=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},pI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,en(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(wt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(e)}}class ic{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ic.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="5",RT="v",xT="s",NT="r",DT="f",MT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,OT="ls",IT="p",gm="ac",kT="websocket",LT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,o,u=!1,c="",h=!1,d=!1,p=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Is.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function UT(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let r;if(e===kT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vI(t)&&(n.ns=t.namespace);const o=[];return At(n,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.counters_={}}incrementCounter(e,n=1){jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return rN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={},Ud={};function Tp(t){const e=t.toString();return Pd[e]||(Pd[e]=new _I),Pd[e]}function EI(t,e){const n=t.toString();return Ud[n]||(Ud[n]=e()),Ud[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&ma(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="start",SI="close",TI="pLPCommand",CI="pRTLPCB",VT="id",BT="pw",zT="ser",wI="cb",AI="seg",RI="ts",xI="d",NI="dframe",HT=1870,jT=30,DI=HT-jT,MI=25e3,OI=3e4;class Br{constructor(e,n,r,o,u,c,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bl(e),this.stats_=Tp(n),this.urlFn=d=>(this.appCheckToken&&(d[gm]=this.appCheckToken),UT(n,LT,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(OI)),oI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cp((...u)=>{const[c,h,d,p,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===yE)this.id=h,this.password=d;else if(c===SI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[yE]="t",r[zT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[wI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RT]=Sp,this.transportSessionId&&(r[xT]=this.transportSessionId),this.lastSessionId&&(r[OT]=this.lastSessionId),this.applicationId&&(r[IT]=this.applicationId),this.appCheckToken&&(r[gm]=this.appCheckToken),typeof location<"u"&&location.hostname&&MT.test(location.hostname)&&(r[NT]=DT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Br.forceAllow_=!0}static forceDisallow(){Br.forceDisallow_=!0}static isAvailable(){return Br.forceAllow_?!0:!Br.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uI()&&!cI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=DS(n),o=wT(r,DI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[NI]="t",r[VT]=e,r[BT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cp{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sI(),window[TI+this.uniqueCallbackIdentifier]=e,window[CI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){wt("frame writing exception"),h.stack&&wt(h.stack),wt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||wt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VT]=this.myID,e[BT]=this.myPW,e[zT]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jT+r.length<=HT;){const c=this.pendingSegs.shift();r=r+"&"+AI+o+"="+c.seg+"&"+RI+o+"="+c.ts+"&"+xI+o+"="+c.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(MI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{wt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=16384,kI=45e3;let vc=null;typeof MozWebSocket<"u"?vc=MozWebSocket:typeof WebSocket<"u"&&(vc=WebSocket);class Sn{constructor(e,n,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bl(this.connId),this.stats_=Tp(n),this.connURL=Sn.connectionURL_(n,c,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,u){const c={};return c[RT]=Sp,typeof location<"u"&&location.hostname&&MT.test(location.hostname)&&(c[NT]=DT),n&&(c[xT]=n),r&&(c[OT]=r),o&&(c[gm]=o),u&&(c[IT]=u),UT(e,kT,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Is.set("previous_websocket_failure",!0);try{let r;gN(),this.mySock=new vc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&vc!==null&&!Sn.forceDisallow_}static previouslyFailed(){return Is.isInMemoryStorage||Is.get("previous_websocket_failure")===!0}markConnectionHealthy(){Is.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ko(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wT(n,II);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Sn.responsesRequiredToBeHealthy=2;Sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static get ALL_TRANSPORTS(){return[Br,Sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Sn&&Sn.isAvailable();let r=n&&!Sn.previouslyFailed();if(e.webSocketOnly&&(n||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Sn];else{const o=this.transports_=[];for(const u of Qo.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Qo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=6e4,PI=5e3,UI=10*1024,VI=100*1024,Vd="t",vE="d",BI="s",_E="r",zI="e",EE="o",bE="a",SE="n",TE="p",HI="h";class jI{constructor(e,n,r,o,u,c,h,d,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bl("c:"+this.id+":"),this.transportManager_=new Qo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vd in e){const n=e[Vd];n===bE?this.upgradeIfSecondaryHealthy_():n===_E?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===EE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=To("t",e),r=To("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:TE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:bE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:SE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=To("t",e),r=To("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=To(Vd,e);if(vE in e){const r=e[vE];if(n===HI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===SE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===BI?this.onConnectionShutdown_(r):n===_E?this.onReset_(r):n===zI?pm("Server Error: "+r):n===EE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sp!==r&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:TE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends qT{static getInstance(){return new _c}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=32,wE=768;class Ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function De(){return new Ue("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zi(t){return t.pieces_.length-t.pieceNum_}function Fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ue(t.pieces_,e)}function wp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function FI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function GT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ue(e,0)}function nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Ue(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function Ht(t,e){const n=ge(t),r=ge(e);if(n===null)return e;if(n===r)return Ht(Fe(t),Fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qI(t,e){const n=Zo(t,0),r=Zo(e,0);for(let o=0;o<n.length&&o<r.length;o++){const u=Ys(n[o],r[o]);if(u!==0)return u}return n.length===r.length?0:n.length<r.length?-1:1}function Ap(t,e){if(Zi(t)!==Zi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function mn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zi(t)>Zi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class GI{constructor(e,n){this.errorPrefix_=n,this.parts_=Zo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Bc(this.parts_[r]);YT(this)}}function YI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Bc(e),YT(t)}function KI(t){const e=t.parts_.pop();t.byteLength_-=Bc(e),t.parts_.length>0&&(t.byteLength_-=1)}function YT(t){if(t.byteLength_>wE)throw new Error(t.errorPrefix_+"has a key path longer than "+wE+" bytes ("+t.byteLength_+").");if(t.parts_.length>CE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+CE+") or object contains a cycle "+Ns(t))}function Ns(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends qT{static getInstance(){return new Rp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=1e3,WI=60*5*1e3,AE=30*1e3,XI=1.3,$I=3e4,QI="server_kill",RE=3;class ci extends FT{constructor(e,n,r,o,u,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=ci.nextPersistentConnectionId_++,this.log_=bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Co,this.maxReconnectDelay_=WI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_c.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(Et(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new ml,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const d=h.d,p=h.s;ci.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jn(e,"w")){const r=Qr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=AE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=SN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,u){this.initConnection_();const c={p:n,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pm("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$I&&(this.reconnectDelay_=Co),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ci.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,r())},p=function(y){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?wt("getToken() completed but was canceled"):(wt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new jI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{kt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(QI)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&kt(y),d())}}}interrupt(e){wt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){wt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],rm(this.interruptReasons_)&&(this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>bp(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Ue(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){wt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RE&&(this.reconnectDelay_=AE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){wt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ST.replace(/\./g,"-")]=1,rp()?e["framework.cordova"]=1:LS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_c.getInstance().currentlyOnline();return rm(this.interruptReasons_)&&e}}ci.nextPersistentConnectionId_=0;ci.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye(Jr,e),o=new ye(Jr,n);return this.compare(r,o)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;class KT extends Fc{static get __EMPTY_NODE(){return qu}static set __EMPTY_NODE(e){qu=e}compare(e,n){return Ys(e.name,n.name)}isDefinedOn(e){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(js,qu)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,qu)}toString(){return".key"}}const Xr=new KT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??vt.RED,this.left=o??jt.EMPTY_NODE,this.right=u??jt.EMPTY_NODE}copy(e,n,r,o,u){return new vt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return jt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class ZI{copy(e,n,r,o,u){return this}insert(e,n,r){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Gu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Gu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Gu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Gu(this.root_,null,this.comparator_,!0,e)}}jt.EMPTY_NODE=new ZI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){return Ys(t.name,e.name)}function xp(t,e){return Ys(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym;function ek(t){ym=t}const WT=function(t){return typeof t=="number"?"number:"+AT(t):"string:"+t},XT=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jn(e,".sv"),"Priority must be a string or number.")}else Y(t===ym||t.isEmpty(),"priority of unexpected type.");Y(t===ym||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xE;class yt{static set __childrenNodeConstructor(e){xE=e}static get __childrenNodeConstructor(){return xE}constructor(e,n=yt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),XT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new yt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:ge(e)===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:yt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ge(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||Zi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,yt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+WT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=AT(this.value_):e+=this.value_,this.lazyHash_=CT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===yt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof yt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=yt.VALUE_TYPE_ORDER.indexOf(n),u=yt.VALUE_TYPE_ORDER.indexOf(r);return Y(o>=0,"Unknown leaf type: "+n),Y(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}yt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $T,QT;function tk(t){$T=t}function nk(t){QT=t}class ik extends Fc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),u=r.compareTo(o);return u===0?Ys(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(js,new yt("[PRIORITY-POST]",QT))}makePost(e,n){const r=$T(e);return new ye(n,new yt("[PRIORITY-POST]",r))}toString(){return".priority"}}const it=new ik;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=Math.log(2);class rk{constructor(e){const n=u=>parseInt(Math.log(u)/sk,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ec=function(t,e,n,r){t.sort(e);const o=function(d,p){const g=p-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=n?n(y):y,new vt(_,y.node,vt.BLACK,null,null);{const b=parseInt(g/2,10)+d,S=o(d,b),N=o(b+1,p);return y=t[b],_=n?n(y):y,new vt(_,y.node,vt.BLACK,S,N)}},u=function(d){let p=null,g=null,y=t.length;const _=function(S,N){const D=y-S,x=y;y-=S;const z=o(D+1,x),L=t[D],K=n?n(L):L;b(new vt(K,L.node,N,null,z))},b=function(S){p?(p.left=S,p=S):(g=S,p=S)};for(let S=0;S<d.count;++S){const N=d.nextBitIsOne(),D=Math.pow(2,d.count-(S+1));N?_(D,vt.BLACK):(_(D,vt.BLACK),_(D,vt.RED))}return g},c=new rk(t.length),h=u(c);return new jt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd;const Vr={};class oi{static get Default(){return Y(Vr&&it,"ChildrenNode.ts has not been loaded"),Bd=Bd||new oi({".priority":Vr},{".priority":it}),Bd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Qr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return jn(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==Xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=n.getIterator(ye.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=Ec(r,e.getCompare()):h=Vr;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new oi(g,p)}addToIndexes(e,n){const r=cc(this.indexes_,(o,u)=>{const c=Qr(this.indexSet_,u);if(Y(c,"Missing index implementation for "+u),o===Vr)if(c.isDefinedOn(e.node)){const h=[],d=n.getIterator(ye.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),Ec(h,c.getCompare())}else return Vr;else{const h=n.get(e.name);let d=o;return h&&(d=d.remove(new ye(e.name,h))),d.insert(e,e.node)}});return new oi(r,this.indexSet_)}removeFromIndexes(e,n){const r=cc(this.indexes_,o=>{if(o===Vr)return o;{const u=n.get(e.name);return u?o.remove(new ye(e.name,u)):o}});return new oi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo;class fe{static get EMPTY_NODE(){return wo||(wo=new fe(new jt(xp),null,oi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&XT(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wo}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wo:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(Fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?wo:this.priorityNode_;return new fe(o,c,u)}}updateChild(e,n){const r=ge(e);if(r===null)return n;{Y(ge(e)!==".priority"||Zi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Fe(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,u=!0;if(this.forEachChild(it,(c,h)=>{n[c]=h.val(e),r++,u&&fe.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+WT(this.getPriority().val())+":"),this.forEachChild(it,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":CT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ye(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sl?-1:0}withIndex(e){if(e===Xr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Xr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(it),o=n.getIterator(it);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Xr?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ak extends fe{constructor(){super(new jt(xp),fe.EMPTY_NODE,oi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const Sl=new ak;Object.defineProperties(ye,{MIN:{value:new ye(Jr,fe.EMPTY_NODE)},MAX:{value:new ye(js,Sl)}});KT.__EMPTY_NODE=fe.EMPTY_NODE;yt.__childrenNodeConstructor=fe;ek(Sl);nk(Sl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=!0;function _t(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new yt(n,_t(e))}if(!(t instanceof Array)&&ok){const n=[];let r=!1;if(At(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=_t(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ye(c,d)))}}),n.length===0)return fe.EMPTY_NODE;const u=Ec(n,JI,c=>c.name,xp);if(r){const c=Ec(n,it.getCompare());return new fe(u,_t(e),new oi({".priority":c},{".priority":it}))}else return new fe(u,_t(e),oi.Default)}else{let n=fe.EMPTY_NODE;return At(t,(r,o)=>{if(jn(t,r)&&r.substring(0,1)!=="."){const u=_t(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(_t(e))}}tk(_t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk extends Fc{constructor(e){super(),this.indexPath_=e,Y(!be(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),u=r.compareTo(o);return u===0?Ys(e.name,n.name):u}makePost(e,n){const r=_t(e),o=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,o)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,Sl);return new ye(js,e)}toString(){return Zo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk extends Fc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ys(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=_t(e);return new ye(n,r)}toString(){return".value"}}const ck=new uk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){return{type:"value",snapshotNode:t}}function ea(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function el(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this.index_=e}updateChild(e,n,r,o,u,c){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(Jo(n,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(ea(n,r)):c.trackChildChange(el(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(it,(o,u)=>{n.hasChild(o)||r.trackChildChange(Jo(o,u))}),n.isLeafNode()||n.forEachChild(it,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(el(o,u,c))}else r.trackChildChange(ea(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.indexedFilter_=new Np(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tl.getStartPost_(e),this.endPost_=tl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,u,c){return this.matches(new ye(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,u,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(fe.EMPTY_NODE);const u=this;return n.forEachChild(it,(c,h)=>{u.matches(new ye(c,h))||(o=o.updateImmediateChild(c,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new tl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,u,c){return this.rangedFilter_.matches(new ye(n,r))||(r=fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,u,c):this.fullLimitUpdateChild_(e,n,r,u,c)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=fe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(fe.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,b)=>y(b,_)}else c=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const d=new ye(n,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(n)){const y=h.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===n||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:c(_,d);if(g&&!r.isEmpty()&&b>=0)return u!=null&&u.trackChildChange(el(n,r,y)),h.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(Jo(n,y));const N=h.updateImmediateChild(n,fe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(ea(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return r.isEmpty()?e:g&&c(p,d)>=0?(u!=null&&(u.trackChildChange(Jo(p.name,p.node)),u.trackChildChange(ea(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(p.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jr}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:js}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===it}copy(){const e=new Dp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dk(t){return t.loadsAllData()?new Np(t.getIndex()):t.hasLimit()?new hk(t):new tl(t)}function NE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===it?n="$priority":t.index_===ck?n="$value":t.index_===Xr?n="$key":(Y(t.index_ instanceof lk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Et(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Et(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Et(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Et(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function DE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==it&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends FT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=bl("p:rest:"),this.listens_={}}listen(e,n,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=bc.getListenId_(e,r),h={};this.listens_[c]=h;const d=NE(e._queryParams);this.restRequest_(u+".json",d,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(u,y,!1,r),Qr(this.listens_,c)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,n){const r=bc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=NE(e._queryParams),r=e._path.toString(),o=new ml;return this.restRequest_(r+".json",n,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fa(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Ko(h.responseText)}catch{kt("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&kt("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(){return{value:null,children:new Map}}function JT(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ge(e);t.children.has(r)||t.children.set(r,Sc());const o=t.children.get(r);e=Fe(e),JT(o,e,n)}}function vm(t,e,n){t.value!==null?n(e,t.value):pk(t,(r,o)=>{const u=new Ue(e.toString()+"/"+r);vm(o,u,n)})}function pk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&At(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=10*1e3,yk=30*1e3,vk=5*60*1e3;class _k{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gk(e);const r=ME+(yk-ME)*Math.random();Uo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;At(e,(o,u)=>{u>0&&jn(this.statsToReport_,o)&&(n[o]=u,r=!0)}),r&&this.server_.reportStats(n),Uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*vk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cn||(Cn={}));function Mp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Op(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ip(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cn.ACK_USER_WRITE,this.source=Mp()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ue(e));return new Tc(De(),n,this.revert)}}else return Y(ge(this.path)===e,"operationForChild called for unrelated child."),new Tc(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.source=e,this.path=n,this.type=Cn.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new nl(this.source,De()):new nl(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cn.OVERWRITE}operationForChild(e){return be(this.path)?new Fs(this.source,De(),this.snap.getImmediateChild(e)):new Fs(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cn.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new Ue(e));return n.isEmpty()?null:n.value?new Fs(this.source,De(),n.value):new ta(this.source,De(),n)}else return Y(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ta(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bk(t,e,n,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(fk(c.childName,c.snapshotNode))}),Ao(t,o,"child_removed",e,r,n),Ao(t,o,"child_added",e,r,n),Ao(t,o,"child_moved",u,r,n),Ao(t,o,"child_changed",e,r,n),Ao(t,o,"value",e,r,n),o}function Ao(t,e,n,r,o,u){const c=r.filter(h=>h.type===n);c.sort((h,d)=>Tk(t,h,d)),c.forEach(h=>{const d=Sk(t,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function Sk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Tk(t,e,n){if(e.childName==null||n.childName==null)throw ca("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),o=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e){return{eventCache:t,serverCache:e}}function Vo(t,e,n,r){return qc(new qs(e,n,r),t.serverCache)}function eC(t,e,n,r){return qc(t.eventCache,new qs(e,n,r))}function _m(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;const Ck=()=>(zd||(zd=new jt(lI)),zd);class je{static fromObject(e){let n=new je(null);return At(e,(r,o)=>{n=n.set(new Ue(r),o)}),n}constructor(e,n=Ck()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:De(),value:this.value};if(be(e))return null;{const r=ge(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Fe(e),n);return u!=null?{path:nt(new Ue(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=ge(e),r=this.children.get(n);return r!==null?r.subtree(Fe(e)):new je(null)}}set(e,n){if(be(e))return new je(n,this.children);{const r=ge(e),u=(this.children.get(r)||new je(null)).set(Fe(e),n),c=this.children.insert(r,u);return new je(this.value,c)}}remove(e){if(be(e))return this.children.isEmpty()?new je(null):new je(null,this.children);{const n=ge(e),r=this.children.get(n);if(r){const o=r.remove(Fe(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new je(null):new je(this.value,u)}else return this}}get(e){if(be(e))return this.value;{const n=ge(e),r=this.children.get(n);return r?r.get(Fe(e)):null}}setTree(e,n){if(be(e))return n;{const r=ge(e),u=(this.children.get(r)||new je(null)).setTree(Fe(e),n);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new je(this.value,c)}}fold(e){return this.fold_(De(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(nt(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,De(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(be(e))return null;{const u=ge(e),c=this.children.get(u);return c?c.findOnPath_(Fe(e),nt(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,De(),n)}foreachOnPath_(e,n,r){if(be(e))return this;{this.value&&r(n,this.value);const o=ge(e),u=this.children.get(o);return u?u.foreachOnPath_(Fe(e),nt(n,o),r):new je(null)}}foreach(e){this.foreach_(De(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.writeTree_=e}static empty(){return new An(new je(null))}}function Bo(t,e,n){if(be(e))return new An(new je(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Ht(o,e);return u=u.updateChild(c,n),new An(t.writeTree_.set(o,u))}else{const o=new je(n),u=t.writeTree_.setTree(e,o);return new An(u)}}}function Em(t,e,n){let r=t;return At(n,(o,u)=>{r=Bo(r,nt(e,o),u)}),r}function OE(t,e){if(be(e))return An.empty();{const n=t.writeTree_.setTree(e,new je(null));return new An(n)}}function bm(t,e){return Ks(t,e)!=null}function Ks(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ht(n.path,e)):null}function IE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(it,(r,o)=>{e.push(new ye(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ye(r,o.value))}),e}function Qi(t,e){if(be(e))return t;{const n=Ks(t,e);return n!=null?new An(new je(n)):new An(t.writeTree_.subtree(e))}}function Sm(t){return t.writeTree_.isEmpty()}function na(t,e){return tC(De(),t.writeTree_,e)}function tC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=tC(nt(t,o),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e){return rC(e,t)}function wk(t,e,n,r,o){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Bo(t.visibleWrites,e,n)),t.lastWriteId=r}function Ak(t,e,n,r){Y(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Em(t.visibleWrites,e,n),t.lastWriteId=r}function Rk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function xk(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&Nk(h,r.path)?o=!1:mn(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return Dk(t),!0;if(r.snap)t.visibleWrites=OE(t.visibleWrites,r.path);else{const h=r.children;At(h,d=>{t.visibleWrites=OE(t.visibleWrites,nt(r.path,d))})}return!0}else return!1}function Nk(t,e){if(t.snap)return mn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&mn(nt(t.path,n),e))return!0;return!1}function Dk(t){t.visibleWrites=nC(t.allWrites,Mk,De()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Mk(t){return t.visible}function nC(t,e,n){let r=An.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)mn(n,c)?(h=Ht(n,c),r=Bo(r,h,u.snap)):mn(c,n)&&(h=Ht(c,n),r=Bo(r,De(),u.snap.getChild(h)));else if(u.children){if(mn(n,c))h=Ht(n,c),r=Em(r,h,u.children);else if(mn(c,n))if(h=Ht(c,n),be(h))r=Em(r,De(),u.children);else{const d=Qr(u.children,ge(h));if(d){const p=d.getChild(Fe(h));r=Bo(r,De(),p)}}}else throw ca("WriteRecord should have .snap or .children")}}return r}function iC(t,e,n,r,o){if(!r&&!o){const u=Ks(t.visibleWrites,e);if(u!=null)return u;{const c=Qi(t.visibleWrites,e);if(Sm(c))return n;if(n==null&&!bm(c,De()))return null;{const h=n||fe.EMPTY_NODE;return na(c,h)}}}else{const u=Qi(t.visibleWrites,e);if(!o&&Sm(u))return n;if(!o&&n==null&&!bm(u,De()))return null;{const c=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(mn(p.path,e)||mn(e,p.path))},h=nC(t.allWrites,c,e),d=n||fe.EMPTY_NODE;return na(h,d)}}}function Ok(t,e,n){let r=fe.EMPTY_NODE;const o=Ks(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(it,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(n){const u=Qi(t.visibleWrites,e);return n.forEachChild(it,(c,h)=>{const d=na(Qi(u,new Ue(c)),h);r=r.updateImmediateChild(c,d)}),IE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=Qi(t.visibleWrites,e);return IE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Ik(t,e,n,r,o){Y(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=nt(e,n);if(bm(t.visibleWrites,u))return null;{const c=Qi(t.visibleWrites,u);return Sm(c)?o.getChild(n):na(c,o.getChild(n))}}function kk(t,e,n,r){const o=nt(e,n),u=Ks(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(n)){const c=Qi(t.visibleWrites,o);return na(c,r.getNode().getImmediateChild(n))}else return null}function Lk(t,e){return Ks(t.visibleWrites,e)}function Pk(t,e,n,r,o,u,c){let h;const d=Qi(t.visibleWrites,e),p=Ks(d,De());if(p!=null)h=p;else if(n!=null)h=na(d,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let b=_.getNext();for(;b&&g.length<o;)y(b,r)!==0&&g.push(b),b=_.getNext();return g}else return[]}function Uk(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function Cc(t,e,n,r){return iC(t.writeTree,t.treePath,e,n,r)}function Lp(t,e){return Ok(t.writeTree,t.treePath,e)}function kE(t,e,n,r){return Ik(t.writeTree,t.treePath,e,n,r)}function wc(t,e){return Lk(t.writeTree,nt(t.treePath,e))}function Vk(t,e,n,r,o,u){return Pk(t.writeTree,t.treePath,e,n,r,o,u)}function Pp(t,e,n){return kk(t.writeTree,t.treePath,e,n)}function sC(t,e){return rC(nt(t.treePath,e),t.writeTree)}function rC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,el(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,Jo(r,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,ea(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,el(r,e.snapshotNode,o.oldSnap));else throw ca("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const aC=new zk;class Up{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gs(this.viewCache_),u=Vk(this.writes_,o,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){return{filter:t}}function jk(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Fk(t,e,n,r,o){const u=new Bk;let c,h;if(n.type===Cn.OVERWRITE){const p=n;p.source.fromUser?c=Tm(t,e,p.path,p.snap,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!be(p.path),c=Ac(t,e,p.path,p.snap,r,o,h,u))}else if(n.type===Cn.MERGE){const p=n;p.source.fromUser?c=Gk(t,e,p.path,p.children,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=Cm(t,e,p.path,p.children,r,o,h,u))}else if(n.type===Cn.ACK_USER_WRITE){const p=n;p.revert?c=Wk(t,e,p.path,r,o,u):c=Yk(t,e,p.path,p.affectedTree,r,o,u)}else if(n.type===Cn.LISTEN_COMPLETE)c=Kk(t,e,n.path,r,u);else throw ca("Unknown operation type: "+n.type);const d=u.getChanges();return qk(e,c,d),{viewCache:c,changes:d}}function qk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=_m(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(ZT(_m(e)))}}function oC(t,e,n,r,o,u){const c=e.eventCache;if(wc(r,n)!=null)return e;{let h,d;if(be(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Gs(e),g=p instanceof fe?p:fe.EMPTY_NODE,y=Lp(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const p=Cc(r,Gs(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=ge(n);if(p===".priority"){Y(Zi(n)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=kE(r,n,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=Fe(n);let y;if(c.isCompleteForChild(p)){d=e.serverCache.getNode();const _=kE(r,n,c.getNode(),d);_!=null?y=c.getNode().getImmediateChild(p).updateChild(g,_):y=c.getNode().getImmediateChild(p)}else y=Pp(r,p,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),p,y,g,o,u):h=c.getNode()}}return Vo(e,h,c.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function Ac(t,e,n,r,o,u,c,h){const d=e.serverCache;let p;const g=c?t.filter:t.filter.getIndexedFilter();if(be(n))p=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(n,r);p=g.updateFullNode(d.getNode(),b,null)}else{const b=ge(n);if(!d.isCompleteForPath(n)&&Zi(n)>1)return e;const S=Fe(n),D=d.getNode().getImmediateChild(b).updateChild(S,r);b===".priority"?p=g.updatePriority(d.getNode(),D):p=g.updateChild(d.getNode(),b,D,S,aC,null)}const y=eC(e,p,d.isFullyInitialized()||be(n),g.filtersNodes()),_=new Up(o,y,u);return oC(t,y,n,o,_,h)}function Tm(t,e,n,r,o,u,c){const h=e.eventCache;let d,p;const g=new Up(o,e,u);if(be(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,c),d=Vo(e,p,!0,t.filter.filtersNodes());else{const y=ge(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),d=Vo(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=Fe(n),b=h.getNode().getImmediateChild(y);let S;if(be(_))S=r;else{const N=g.getCompleteChild(y);N!=null?wp(_)===".priority"&&N.getChild(GT(_)).isEmpty()?S=N:S=N.updateChild(_,r):S=fe.EMPTY_NODE}if(b.equals(S))d=e;else{const N=t.filter.updateChild(h.getNode(),y,S,_,g,c);d=Vo(e,N,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function LE(t,e){return t.eventCache.isCompleteForChild(e)}function Gk(t,e,n,r,o,u,c){let h=e;return r.foreach((d,p)=>{const g=nt(n,d);LE(e,ge(g))&&(h=Tm(t,h,g,p,o,u,c))}),r.foreach((d,p)=>{const g=nt(n,d);LE(e,ge(g))||(h=Tm(t,h,g,p,o,u,c))}),h}function PE(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Cm(t,e,n,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;be(n)?p=r:p=new je(null).setTree(n,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),S=PE(t,b,_);d=Ac(t,d,new Ue(y),S,o,u,c,h)}}),p.children.inorderTraversal((y,_)=>{const b=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!b){const S=e.serverCache.getNode().getImmediateChild(y),N=PE(t,S,_);d=Ac(t,d,new Ue(y),N,o,u,c,h)}}),d}function Yk(t,e,n,r,o,u,c){if(wc(o,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(be(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Ac(t,e,n,d.getNode().getChild(n),o,u,h,c);if(be(n)){let p=new je(null);return d.getNode().forEachChild(Xr,(g,y)=>{p=p.set(new Ue(g),y)}),Cm(t,e,n,p,o,u,h,c)}else return e}else{let p=new je(null);return r.foreach((g,y)=>{const _=nt(n,g);d.isCompleteForPath(_)&&(p=p.set(g,d.getNode().getChild(_)))}),Cm(t,e,n,p,o,u,h,c)}}function Kk(t,e,n,r,o){const u=e.serverCache,c=eC(e,u.getNode(),u.isFullyInitialized()||be(n),u.isFiltered());return oC(t,c,n,r,aC,o)}function Wk(t,e,n,r,o,u){let c;if(wc(r,n)!=null)return e;{const h=new Up(r,e,o),d=e.eventCache.getNode();let p;if(be(n)||ge(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Cc(r,Gs(e));else{const y=e.serverCache.getNode();Y(y instanceof fe,"serverChildren would be complete if leaf node"),g=Lp(r,y)}g=g,p=t.filter.updateFullNode(d,g,u)}else{const g=ge(n);let y=Pp(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?p=t.filter.updateChild(d,g,y,Fe(n),h,u):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,fe.EMPTY_NODE,Fe(n),h,u):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Cc(r,Gs(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,u)))}return c=e.serverCache.isFullyInitialized()||wc(r,De())!=null,Vo(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Np(r.getIndex()),u=dk(r);this.processor_=Hk(u);const c=n.serverCache,h=n.eventCache,d=o.updateFullNode(fe.EMPTY_NODE,c.getNode(),null),p=u.updateFullNode(fe.EMPTY_NODE,h.getNode(),null),g=new qs(d,c.isFullyInitialized(),o.filtersNodes()),y=new qs(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=qc(y,g),this.eventGenerator_=new Ek(this.query_)}get query(){return this.query_}}function $k(t){return t.viewCache_.serverCache.getNode()}function Qk(t,e){const n=Gs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function UE(t){return t.eventRegistrations_.length===0}function Zk(t,e){t.eventRegistrations_.push(e)}function VE(t,e,n){const r=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function BE(t,e,n,r){e.type===Cn.MERGE&&e.source.queryId!==null&&(Y(Gs(t.viewCache_),"We should always have a full cache before handling merges"),Y(_m(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=Fk(t.processor_,o,e,n,r);return jk(t.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,lC(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Jk(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(it,(u,c)=>{r.push(ea(u,c))}),n.isFullyInitialized()&&r.push(ZT(n.getNode())),lC(t,r,n.getNode(),e)}function lC(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return bk(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;class eL{constructor(){this.views=new Map}}function tL(t){Y(!Rc,"__referenceConstructor has already been defined"),Rc=t}function nL(){return Y(Rc,"Reference.ts has not been loaded"),Rc}function iL(t){return t.views.size===0}function Vp(t,e,n,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return Y(u!=null,"SyncTree gave us an op for an invalid query."),BE(u,e,n,r)}else{let u=[];for(const c of t.views.values())u=u.concat(BE(c,e,n,r));return u}}function sL(t,e,n,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=Cc(n,o?r:null),d=!1;h?d=!0:r instanceof fe?(h=Lp(n,r),d=!1):(h=fe.EMPTY_NODE,d=!1);const p=qc(new qs(h,d,!1),new qs(r,o,!1));return new Xk(e,p)}return c}function rL(t,e,n,r,o,u){const c=sL(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),Zk(c,n),Jk(c,n)}function aL(t,e,n,r){const o=e._queryIdentifier,u=[];let c=[];const h=Ji(t);if(o==="default")for(const[d,p]of t.views.entries())c=c.concat(VE(p,n,r)),UE(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||u.push(p.query));else{const d=t.views.get(o);d&&(c=c.concat(VE(d,n,r)),UE(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||u.push(d.query)))}return h&&!Ji(t)&&u.push(new(nL())(e._repo,e._path)),{removed:u,events:c}}function uC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $r(t,e){let n=null;for(const r of t.views.values())n=n||Qk(r,e);return n}function cC(t,e){if(e._queryParams.loadsAllData())return Gc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function fC(t,e){return cC(t,e)!=null}function Ji(t){return Gc(t)!=null}function Gc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;function oL(t){Y(!xc,"__referenceConstructor has already been defined"),xc=t}function lL(){return Y(xc,"Reference.ts has not been loaded"),xc}let uL=1;class zE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new je(null),this.pendingWriteTree_=Uk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hC(t,e,n,r,o){return wk(t.pendingWriteTree_,e,n,r,o),o?pa(t,new Fs(Mp(),e,n)):[]}function cL(t,e,n,r){Ak(t.pendingWriteTree_,e,n,r);const o=je.fromObject(n);return pa(t,new ta(Mp(),e,o))}function Ki(t,e,n=!1){const r=Rk(t.pendingWriteTree_,e);if(xk(t.pendingWriteTree_,e)){let u=new je(null);return r.snap!=null?u=u.set(De(),!0):At(r.children,c=>{u=u.set(new Ue(c),!0)}),pa(t,new Tc(r.path,u,n))}else return[]}function Yc(t,e,n){return pa(t,new Fs(Op(),e,n))}function fL(t,e,n){const r=je.fromObject(n);return pa(t,new ta(Op(),e,r))}function hL(t,e){return pa(t,new nl(Op(),e))}function dL(t,e,n){const r=zp(t,n);if(r){const o=Hp(r),u=o.path,c=o.queryId,h=Ht(u,e),d=new nl(Ip(c),h);return jp(t,u,d)}else return[]}function wm(t,e,n,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||fC(c,e))){const d=aL(c,e,n,r);iL(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const p=d.removed;if(h=d.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,b)=>Ji(b));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const b=gL(_);for(let S=0;S<b.length;++S){const N=b[S],D=N.query,x=pC(t,N);t.listenProvider_.startListening(zo(D),Nc(t,D),x.hashFn,x.onComplete)}}}!y&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(zo(e),null):p.forEach(_=>{const b=t.queryToTagMap.get(Kc(_));t.listenProvider_.stopListening(zo(_),b)}))}yL(t,p)}return h}function mL(t,e,n,r){const o=zp(t,r);if(o!=null){const u=Hp(o),c=u.path,h=u.queryId,d=Ht(c,e),p=new Fs(Ip(h),d,n);return jp(t,c,p)}else return[]}function pL(t,e,n,r){const o=zp(t,r);if(o){const u=Hp(o),c=u.path,h=u.queryId,d=Ht(c,e),p=je.fromObject(n),g=new ta(Ip(h),d,p);return jp(t,c,g)}else return[]}function HE(t,e,n,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(_,b)=>{const S=Ht(_,o);u=u||$r(b,S),c=c||Ji(b)});let h=t.syncPointTree_.get(o);h?(c=c||Ji(h),u=u||$r(h,De())):(h=new eL,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;u!=null?d=!0:(d=!1,u=fe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,S)=>{const N=$r(S,De());N&&(u=u.updateImmediateChild(b,N))}));const p=fC(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=Kc(e);Y(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=vL();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}const g=kp(t.pendingWriteTree_,o);let y=rL(h,e,n,g,u,d);if(!p&&!c&&!r){const _=cC(h,e);y=y.concat(_L(t,e,_))}return y}function Bp(t,e,n){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=Ht(c,e),p=$r(h,d);if(p)return p});return iC(o,e,u,n,!0)}function pa(t,e){return dC(e,t.syncPointTree_,null,kp(t.pendingWriteTree_,De()))}function dC(t,e,n,r){if(be(t.path))return mC(t,e,n,r);{const o=e.get(De());n==null&&o!=null&&(n=$r(o,De()));let u=[];const c=ge(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const p=n?n.getImmediateChild(c):null,g=sC(r,c);u=u.concat(dC(h,d,p,g))}return o&&(u=u.concat(Vp(o,t,r,n))),u}}function mC(t,e,n,r){const o=e.get(De());n==null&&o!=null&&(n=$r(o,De()));let u=[];return e.children.inorderTraversal((c,h)=>{const d=n?n.getImmediateChild(c):null,p=sC(r,c),g=t.operationForChild(c);g&&(u=u.concat(mC(g,h,d,p)))}),o&&(u=u.concat(Vp(o,t,r,n))),u}function pC(t,e){const n=e.query,r=Nc(t,n);return{hashFn:()=>($k(e)||fe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?dL(t,n._path,r):hL(t,n._path);{const u=fI(o,n);return wm(t,n,null,u)}}}}function Nc(t,e){const n=Kc(e);return t.queryToTagMap.get(n)}function Kc(t){return t._path.toString()+"$"+t._queryIdentifier}function zp(t,e){return t.tagToQueryMap.get(e)}function Hp(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ue(t.substr(0,e))}}function jp(t,e,n){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const o=kp(t.pendingWriteTree_,e);return Vp(r,n,o,null)}function gL(t){return t.fold((e,n,r)=>{if(n&&Ji(n))return[Gc(n)];{let o=[];return n&&(o=uC(n)),At(r,(u,c)=>{o=o.concat(c)}),o}})}function zo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lL())(t._repo,t._path):t}function yL(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=Kc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function vL(){return uL++}function _L(t,e,n){const r=e._path,o=Nc(t,e),u=pC(t,n),c=t.listenProvider_.startListening(zo(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)Y(!Ji(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((p,g,y)=>{if(!be(p)&&g&&Ji(g))return[Gc(g).query];{let _=[];return g&&(_=_.concat(uC(g).map(b=>b.query))),At(y,(b,S)=>{_=_.concat(S)}),_}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(zo(g),Nc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Fp(n)}node(){return this.node_}}class qp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new qp(this.syncTree_,n)}node(){return Bp(this.syncTree_,this.path_)}}const EL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},jE=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return SL(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},SL=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const o=e.node();if(Y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},gC=function(t,e,n,r){return Gp(e,new qp(n,t),r)},yC=function(t,e,n){return Gp(t,new Fp(e),n)};function Gp(t,e,n){const r=t.getPriority().val(),o=jE(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,h=jE(c.getValue(),e,n);return h!==c.getValue()||o!==c.getPriority().val()?new yt(h,_t(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new yt(o))),c.forEachChild(it,(h,d)=>{const p=Gp(d,e.getImmediateChild(h),n);p!==d&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Kp(t,e){let n=e instanceof Ue?e:new Ue(e),r=t,o=ge(n);for(;o!==null;){const u=Qr(r.node.children,o)||{children:{},childCount:0};r=new Yp(o,r,u),n=Fe(n),o=ge(n)}return r}function ga(t){return t.node.value}function vC(t,e){t.node.value=e,Am(t)}function _C(t){return t.node.childCount>0}function TL(t){return ga(t)===void 0&&!_C(t)}function Wc(t,e){At(t.node.children,(n,r)=>{e(new Yp(n,t,r))})}function EC(t,e,n,r){n&&e(t),Wc(t,o=>{EC(o,e,!0)})}function CL(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Tl(t){return new Ue(t.parent===null?t.name:Tl(t.parent)+"/"+t.name)}function Am(t){t.parent!==null&&wL(t.parent,t.name,t)}function wL(t,e,n){const r=TL(n),o=jn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Am(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Am(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=/[\[\].#$\/\u0000-\u001F\u007F]/,RL=/[\[\].#$\u0000-\u001F\u007F]/,Hd=10*1024*1024,Wp=function(t){return typeof t=="string"&&t.length!==0&&!AL.test(t)},bC=function(t){return typeof t=="string"&&t.length!==0&&!RL.test(t)},xL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bC(t)},NL=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ep(t)||t&&typeof t=="object"&&jn(t,".sv")},SC=function(t,e,n,r){r&&e===void 0||Xc(Vc(t,"value"),e,n)},Xc=function(t,e,n){const r=n instanceof Ue?new GI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ns(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ns(r)+" with contents = "+e.toString());if(Ep(e))throw new Error(t+"contains "+e.toString()+" "+Ns(r));if(typeof e=="string"&&e.length>Hd/3&&Bc(e)>Hd)throw new Error(t+"contains a string greater than "+Hd+" utf8 bytes "+Ns(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(At(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Wp(c)))throw new Error(t+" contains an invalid key ("+c+") "+Ns(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YI(r,c),Xc(t,h,r),KI(r)}),o&&u)throw new Error(t+' contains ".value" child '+Ns(r)+" in addition to actual children.")}},DL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const u=Zo(r);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Wp(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(qI);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&mn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},ML=function(t,e,n,r){const o=Vc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];At(e,(c,h)=>{const d=new Ue(c);if(Xc(o,h,nt(n,d)),wp(d)===".priority"&&!NL(h))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(d)}),DL(o,u)},TC=function(t,e,n,r){if(!bC(n))throw new Error(Vc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),TC(t,e,n)},CC=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},IL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Wp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xL(n))throw new Error(Vc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $c(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();n!==null&&!Ap(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&t.eventLists_.push(n)}function wC(t,e,n){$c(t,n),AC(t,r=>Ap(r,e))}function xn(t,e,n){$c(t,n),AC(t,r=>mn(r,e)||mn(e,r))}function AC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(LL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function LL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Po&&wt("event: "+n.toString()),ma(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="repo_interrupt",UL=25;class VL{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sc(),this.transactionQueueTree_=new Yp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BL(t,e,n){if(t.stats_=Tp(t.repoInfo_),t.forceRestClient_||pI())t.server_=new bc(t.repoInfo_,(r,o,u,c)=>{FE(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ci(t.repoInfo_,e,(r,o,u,c)=>{FE(t,r,o,u,c)},r=>{qE(t,r)},r=>{zL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=EI(t.repoInfo_,()=>new _k(t.stats_,t.server_)),t.infoData_=new mk,t.infoSyncTree_=new zE({startListening:(r,o,u,c)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=Yc(t.infoSyncTree_,r._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Xp(t,"connected",!1),t.serverSyncTree_=new zE({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,d)=>{const p=c(h,d);xn(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function RC(t){const n=t.infoData_.getNode(new Ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qc(t){return EL({timestamp:RC(t)})}function FE(t,e,n,r,o){t.dataUpdateCount++;const u=new Ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(r){const d=cc(n,p=>_t(p));c=pL(t.serverSyncTree_,u,d,o)}else{const d=_t(n);c=mL(t.serverSyncTree_,u,d,o)}else if(r){const d=cc(n,p=>_t(p));c=fL(t.serverSyncTree_,u,d)}else{const d=_t(n);c=Yc(t.serverSyncTree_,u,d)}let h=u;c.length>0&&(h=ia(t,u)),xn(t.eventQueue_,h,c)}function qE(t,e){Xp(t,"connected",e),e===!1&&FL(t)}function zL(t,e){At(e,(n,r)=>{Xp(t,n,r)})}function Xp(t,e,n){const r=new Ue("/.info/"+e),o=_t(n);t.infoData_.updateSnapshot(r,o);const u=Yc(t.infoSyncTree_,r,o);xn(t.eventQueue_,r,u)}function $p(t){return t.nextWriteId_++}function HL(t,e,n,r,o){Zc(t,"set",{path:e.toString(),value:n,priority:r});const u=Qc(t),c=_t(n,r),h=Bp(t.serverSyncTree_,e),d=yC(c,h,u),p=$p(t),g=hC(t.serverSyncTree_,e,d,p,!0);$c(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,b)=>{const S=_==="ok";S||kt("set at "+e+" failed: "+_);const N=Ki(t.serverSyncTree_,p,!S);xn(t.eventQueue_,e,N),Rm(t,o,_,b)});const y=Zp(t,e);ia(t,y),xn(t.eventQueue_,y,[])}function jL(t,e,n,r){Zc(t,"update",{path:e.toString(),value:n});let o=!0;const u=Qc(t),c={};if(At(n,(h,d)=>{o=!1,c[h]=gC(nt(e,h),_t(d),t.serverSyncTree_,u)}),o)wt("update() called with empty data.  Don't do anything."),Rm(t,r,"ok",void 0);else{const h=$p(t),d=cL(t.serverSyncTree_,e,c,h);$c(t.eventQueue_,d),t.server_.merge(e.toString(),n,(p,g)=>{const y=p==="ok";y||kt("update at "+e+" failed: "+p);const _=Ki(t.serverSyncTree_,h,!y),b=_.length>0?ia(t,e):e;xn(t.eventQueue_,b,_),Rm(t,r,p,g)}),At(n,p=>{const g=Zp(t,nt(e,p));ia(t,g)}),xn(t.eventQueue_,e,[])}}function FL(t){Zc(t,"onDisconnectEvents");const e=Qc(t),n=Sc();vm(t.onDisconnect_,De(),(o,u)=>{const c=gC(o,u,t.serverSyncTree_,e);JT(n,o,c)});let r=[];vm(n,De(),(o,u)=>{r=r.concat(Yc(t.serverSyncTree_,o,u));const c=Zp(t,o);ia(t,c)}),t.onDisconnect_=Sc(),xn(t.eventQueue_,De(),r)}function qL(t,e,n){let r;ge(e._path)===".info"?r=HE(t.infoSyncTree_,e,n):r=HE(t.serverSyncTree_,e,n),wC(t.eventQueue_,e._path,r)}function GE(t,e,n){let r;ge(e._path)===".info"?r=wm(t.infoSyncTree_,e,n):r=wm(t.serverSyncTree_,e,n),wC(t.eventQueue_,e._path,r)}function GL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(PL)}function Zc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),wt(n,...e)}function Rm(t,e,n,r){e&&ma(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function xC(t,e,n){return Bp(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function Qp(t,e=t.transactionQueueTree_){if(e||Jc(t,e),ga(e)){const n=DC(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&YL(t,Tl(e),n)}else _C(e)&&Wc(e,n=>{Qp(t,n)})}function YL(t,e,n){const r=n.map(p=>p.currentWriteId),o=xC(t,e,r);let u=o;const c=o.hash();for(let p=0;p<n.length;p++){const g=n[p];Y(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Ht(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),d=e;t.server_.put(d.toString(),h,p=>{Zc(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(Ki(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Jc(t,Kp(t.transactionQueueTree_,e)),Qp(t,t.transactionQueueTree_),xn(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)ma(y[_])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{kt("transaction at "+d.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}ia(t,e)}},c)}function ia(t,e){const n=NC(t,e),r=Tl(n),o=DC(t,n);return KL(t,o,r),r}function KL(t,e,n){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=Ht(n,d.path);let g=!1,y;if(Y(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,o=o.concat(Ki(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=UL)g=!0,y="maxretry",o=o.concat(Ki(t.serverSyncTree_,d.currentWriteId,!0));else{const _=xC(t,d.path,c);d.currentInputSnapshot=_;const b=e[h].update(_.val());if(b!==void 0){Xc("transaction failed: Data returned ",b,d.path);let S=_t(b);typeof b=="object"&&b!=null&&jn(b,".priority")||(S=S.updatePriority(_.getPriority()));const D=d.currentWriteId,x=Qc(t),z=yC(S,_,x);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=z,d.currentWriteId=$p(t),c.splice(c.indexOf(D),1),o=o.concat(hC(t.serverSyncTree_,d.path,z,d.currentWriteId,d.applyLocally)),o=o.concat(Ki(t.serverSyncTree_,D,!0))}else g=!0,y="nodata",o=o.concat(Ki(t.serverSyncTree_,d.currentWriteId,!0))}xn(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,function(_){setTimeout(_,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Jc(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)ma(r[h]);Qp(t,t.transactionQueueTree_)}function NC(t,e){let n,r=t.transactionQueueTree_;for(n=ge(e);n!==null&&ga(r)===void 0;)r=Kp(r,n),e=Fe(e),n=ge(e);return r}function DC(t,e){const n=[];return MC(t,e,n),n.sort((r,o)=>r.order-o.order),n}function MC(t,e,n){const r=ga(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Wc(e,o=>{MC(t,o,n)})}function Jc(t,e){const n=ga(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,vC(e,n.length>0?n:void 0)}Wc(e,r=>{Jc(t,r)})}function Zp(t,e){const n=Tl(NC(t,e)),r=Kp(t.transactionQueueTree_,e);return CL(r,o=>{jd(t,o)}),jd(t,r),EC(r,o=>{jd(t,o)}),n}function jd(t,e){const n=ga(e);if(n){const r=[];let o=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(Y(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(Y(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(Ki(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?vC(e,void 0):n.length=u+1,xn(t.eventQueue_,Tl(e),o);for(let c=0;c<r.length;c++)ma(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function XL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const YE=function(t,e){const n=$L(t),r=n.namespace;n.domain==="firebase.com"&&pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||aI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new PT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new Ue(n.pathString)}},$L=function(t){let e="",n="",r="",o="",u="",c=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=WL(t.substring(g,y)));const _=XL(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const b=e.slice(0,p);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),u=r}"ns"in _&&(u=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QL=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=KE.charAt(n%64),n=Math.floor(n/64);Y(n===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=KE.charAt(e[o]);return Y(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class JL{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return be(this._path)?null:wp(this._path)}get ref(){return new os(this._repo,this._path)}get _queryIdentifier(){const e=DE(this._queryParams),n=bp(e);return n==="{}"?"default":n}get _queryObject(){return DE(this._queryParams)}isEqual(e){if(e=qt(e),!(e instanceof Jp))return!1;const n=this._repo===e._repo,r=Ap(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+FI(this._path)}}class os extends Jp{constructor(e,n){super(e,n,new Dp,!1)}get parent(){const e=GT(this._path);return e===null?null:new os(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Dc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ue(e),r=il(this.ref,e);return new Dc(this._node.getChild(n),r,it)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Dc(o,il(this.ref,r),it)))}hasChild(e){const n=new Ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ge(t,e){return t=qt(t),t._checkNotDeleted("ref"),e!==void 0?il(t._root,e):t._root}function il(t,e){return t=qt(t),ge(t._path)===null?OL("child","path",e):TC("child","path",e),new os(t._repo,nt(t._path,e))}function Yu(t,e){t=qt(t),CC("push",t._path),SC("push",e,t._path,!0);const n=RC(t._repo),r=QL(n),o=il(t,r),u=il(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function ji(t,e){t=qt(t),CC("set",t._path),SC("set",e,t._path,!1);const n=new ml;return HL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function tP(t,e){ML("update",e,t._path);const n=new ml;return jL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class eg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new ZL("value",this,new Dc(e.snapshotNode,new os(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new JL(this,e,n):null}matches(e){return e instanceof eg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function nP(t,e,n,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const d=n,p=(g,y)=>{GE(t._repo,t,h),d(g,y)};p.userCallback=n.userCallback,p.context=n.context,n=p}const c=new eP(n,u||void 0),h=new eg(c);return qL(t._repo,t,h),()=>GE(t._repo,t,h)}function Ms(t,e,n,r){return nP(t,"value",e,n,r)}tL(os);oL(os);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="FIREBASE_DATABASE_EMULATOR_HOST",xm={};let sP=!1;function rP(t,e,n,r){t.repoInfo_=new PT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function aP(t,e,n,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=YE(u,o),h=c.repoInfo,d;typeof process<"u"&&hE&&(d=hE[iP]),d?(u=`http://${d}?ns=${h.namespace}`,c=YE(u,o),h=c.repoInfo):c.repoInfo.secure;const p=new yI(t.name,t.options,e);IL("Invalid Firebase Database URL",c),be(c.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=lP(h,t,p,new gI(t,n));return new uP(g,t)}function oP(t,e){const n=xm[e];(!n||n[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),GL(t),delete n[t.key]}function lP(t,e,n,r){let o=xm[e.name];o||(o={},xm[e.name]=o);let u=o[t.toURLString()];return u&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new VL(t,sP,n,r),o[t.toURLString()]=u,u}class uP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new os(this._repo,De())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function Jt(t=zS(),e){const n=lp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=fN("database");r&&cP(n,...r)}return n}function cP(t,e,n,r={}){t=qt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Vs(r,u.repoInfo_.emulatorOptions))return;pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new ic(ic.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:hN(r.mockUserToken,t.app.options.projectId);c=new ic(h)}rP(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){eI(ha),Zr(new Bs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return aP(r,o,u,n)},"PUBLIC").setMultipleInstances(!0)),$i(dE,mE,t),$i(dE,mE,"esm2017")}ci.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ci.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fP();var hP={apiKey:"AIzaSyBvBMSzqJuOOsSIEhyM-sVI-vinaIu2GC8",authDomain:"midterm-project-ab3aa.firebaseapp.com",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com",projectId:"midterm-project-ab3aa",storageBucket:"midterm-project-ab3aa.firebasestorage.app",messagingSenderId:"13475203739",appId:"1:13475203739:web:f722da780a822b88ff543e",measurementId:"G-LB3317B8W5",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com"};const OC=BS(hP),Ps=$O(OC);Jt(OC);var Fd={exports:{}},Ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function dP(){if(WE)return Ro;WE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Ro.Fragment=e,Ro.jsx=n,Ro.jsxs=n,Ro}var XE;function mP(){return XE||(XE=1,Fd.exports=dP()),Fd.exports}var fi=mP();const tg=C.createContext({});function ng(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ig=typeof window<"u",IC=ig?C.useLayoutEffect:C.useEffect,ef=C.createContext(null),sg=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class pP extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gP({children:t,isPresent:e,anchorX:n}){const r=C.useId(),o=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(sg);return C.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:y}=u.current;if(e||!o.current||!h||!d)return;const _=n==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const b=document.createElement("style");return c&&(b.nonce=c),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),fi.jsx(pP,{isPresent:e,childRef:o,sizeRef:u,children:C.cloneElement(t,{ref:o})})}const yP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h})=>{const d=ng(vP),p=C.useId();let g=!0,y=C.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:o,onExitComplete:_=>{d.set(_,!0);for(const b of d.values())if(!b)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[n,d,r]);return u&&g&&(y={...y}),C.useMemo(()=>{d.forEach((_,b)=>d.set(b,!1))},[n]),C.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(t=fi.jsx(gP,{isPresent:n,anchorX:h,children:t})),fi.jsx(ef.Provider,{value:y,children:t})};function vP(){return new Map}function kC(t=!0){const e=C.useContext(ef);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=C.useId();C.useEffect(()=>{if(t)return o(u)},[t]);const c=C.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,c]:[!0]}const Ku=t=>t.key||"";function $E(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const _P=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left"})=>{const[d,p]=kC(c),g=C.useMemo(()=>$E(t),[t]),y=c&&!d?[]:g.map(Ku),_=C.useRef(!0),b=C.useRef(g),S=ng(()=>new Map),[N,D]=C.useState(g),[x,z]=C.useState(g);IC(()=>{_.current=!1,b.current=g;for(let P=0;P<x.length;P++){const W=Ku(x[P]);y.includes(W)?S.delete(W):S.get(W)!==!0&&S.set(W,!1)}},[x,y.length,y.join("-")]);const L=[];if(g!==N){let P=[...g];for(let W=0;W<x.length;W++){const Z=x[W],$=Ku(Z);y.includes($)||(P.splice(W,0,Z),L.push(Z))}return u==="wait"&&L.length&&(P=L),z($E(P)),D(g),null}const{forceRender:K}=C.useContext(tg);return fi.jsx(fi.Fragment,{children:x.map(P=>{const W=Ku(P),Z=c&&!d?!1:g===x||y.includes(W),$=()=>{if(S.has(W))S.set(W,!0);else return;let ae=!0;S.forEach(Te=>{Te||(ae=!1)}),ae&&(K==null||K(),z(b.current),c&&(p==null||p()),r&&r())};return fi.jsx(yP,{isPresent:Z,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:Z?void 0:$,anchorX:h,children:P},W)})})};function rg(t,e){t.indexOf(e)===-1&&t.push(e)}function ag(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gi=(t,e,n)=>n>e?e:n<t?t:n;let og=()=>{};const yi={},LC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),PC=t=>/^0[^.\s]+$/u.test(t);function lg(t){let e;return()=>(e===void 0&&(e=t()),e)}const pn=t=>t,EP=(t,e)=>n=>e(t(n)),Cl=(...t)=>t.reduce(EP),sl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ug{constructor(){this.subscriptions=[]}add(e){return rg(this.subscriptions,e),()=>ag(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vn=t=>t*1e3,Bn=t=>t/1e3;function UC(t,e){return e?t*(1e3/e):0}const VC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bP=1e-7,SP=12;function TP(t,e,n,r,o){let u,c,h=0;do c=e+(n-e)/2,u=VC(c,r,o)-t,u>0?n=c:e=c;while(Math.abs(u)>bP&&++h<SP);return c}function wl(t,e,n,r){if(t===e&&n===r)return pn;const o=u=>TP(u,0,1,t,n);return u=>u===0||u===1?u:VC(o(u),e,r)}const BC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zC=t=>e=>1-t(1-e),HC=wl(.33,1.53,.69,.99),cg=zC(HC),jC=BC(cg),FC=t=>(t*=2)<1?.5*cg(t):.5*(2-Math.pow(2,-10*(t-1))),fg=t=>1-Math.sin(Math.acos(t)),qC=zC(fg),GC=BC(fg),CP=wl(.42,0,1,1),wP=wl(0,0,.58,1),YC=wl(.42,0,.58,1),AP=t=>Array.isArray(t)&&typeof t[0]!="number",KC=t=>Array.isArray(t)&&typeof t[0]=="number",RP={linear:pn,easeIn:CP,easeInOut:YC,easeOut:wP,circIn:fg,circInOut:GC,circOut:qC,backIn:cg,backInOut:jC,backOut:HC,anticipate:FC},xP=t=>typeof t=="string",QE=t=>{if(KC(t)){og(t.length===4);const[e,n,r,o]=t;return wl(e,n,r,o)}else if(xP(t))return RP[t];return t},Wu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ZE={value:null};function NP(t,e){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(y){c.has(y)&&(g.schedule(y),t()),d++,y(h)}const g={schedule:(y,_=!1,b=!1)=>{const N=b&&o?n:r;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(p),e&&ZE.value&&ZE.value.frameloop[e].push(d),d=0,n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const DP=40;function WC(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Wu.reduce((L,K)=>(L[K]=NP(u,e?K:void 0),L),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:b,postRender:S}=c,N=()=>{const L=yi.useManualTiming?o.timestamp:performance.now();n=!1,yi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(L-o.timestamp,DP),1)),o.timestamp=L,o.isProcessing=!0,h.process(o),d.process(o),p.process(o),g.process(o),y.process(o),_.process(o),b.process(o),S.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(N))},D=()=>{n=!0,r=!0,o.isProcessing||t(N)};return{schedule:Wu.reduce((L,K)=>{const P=c[K];return L[K]=(W,Z=!1,$=!1)=>(n||D(),P.schedule(W,Z,$)),L},{}),cancel:L=>{for(let K=0;K<Wu.length;K++)c[Wu[K]].cancel(L)},state:o,steps:c}}const{schedule:Ze,cancel:es,state:Ct,steps:qd}=WC(typeof requestAnimationFrame<"u"?requestAnimationFrame:pn,!0);let sc;function MP(){sc=void 0}const Ft={now:()=>(sc===void 0&&Ft.set(Ct.isProcessing||yi.useManualTiming?Ct.timestamp:performance.now()),sc),set:t=>{sc=t,queueMicrotask(MP)}},XC=t=>e=>typeof e=="string"&&e.startsWith(t),hg=XC("--"),OP=XC("var(--"),dg=t=>OP(t)?IP.test(t.split("/*")[0].trim()):!1,IP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...ya,transform:t=>gi(0,1,t)},Xu={...ya,default:1},Ho=t=>Math.round(t*1e5)/1e5,mg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kP(t){return t==null}const LP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pg=(t,e)=>n=>!!(typeof n=="string"&&LP.test(n)&&n.startsWith(t)||e&&!kP(n)&&Object.prototype.hasOwnProperty.call(n,e)),$C=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(mg);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},PP=t=>gi(0,255,t),Gd={...ya,transform:t=>Math.round(PP(t))},ks={test:pg("rgb","red"),parse:$C("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gd.transform(t)+", "+Gd.transform(e)+", "+Gd.transform(n)+", "+Ho(rl.transform(r))+")"};function UP(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Nm={test:pg("#"),parse:UP,transform:ks.transform},Al=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fi=Al("deg"),zn=Al("%"),ce=Al("px"),VP=Al("vh"),BP=Al("vw"),JE={...zn,parse:t=>zn.parse(t)/100,transform:t=>zn.transform(t*100)},zr={test:pg("hsl","hue"),parse:$C("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zn.transform(Ho(e))+", "+zn.transform(Ho(n))+", "+Ho(rl.transform(r))+")"},Dt={test:t=>ks.test(t)||Nm.test(t)||zr.test(t),parse:t=>ks.test(t)?ks.parse(t):zr.test(t)?zr.parse(t):Nm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ks.transform(t):zr.transform(t)},zP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mg))==null?void 0:e.length)||0)+(((n=t.match(zP))==null?void 0:n.length)||0)>0}const QC="number",ZC="color",jP="var",FP="var(",eb="${}",qP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function al(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(qP,d=>(Dt.test(d)?(r.color.push(u),o.push(ZC),n.push(Dt.parse(d))):d.startsWith(FP)?(r.var.push(u),o.push(jP),n.push(d)):(r.number.push(u),o.push(QC),n.push(parseFloat(d))),++u,eb)).split(eb);return{values:n,split:h,indexes:r,types:o}}function JC(t){return al(t).values}function ew(t){const{split:e,types:n}=al(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=n[c];h===QC?u+=Ho(o[c]):h===ZC?u+=Dt.transform(o[c]):u+=o[c]}return u}}const GP=t=>typeof t=="number"?0:t;function YP(t){const e=JC(t);return ew(t)(e.map(GP))}const ts={test:HP,parse:JC,createTransformer:ew,getAnimatableNone:YP};function Yd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,c=0;if(!e)o=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;o=Yd(d,h,t+1/3),u=Yd(d,h,t),c=Yd(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Mc(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,Kd=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},WP=[Nm,ks,zr],XP=t=>WP.find(e=>e.test(t));function tb(t){const e=XP(t);if(!e)return!1;let n=e.parse(t);return e===zr&&(n=KP(n)),n}const nb=(t,e)=>{const n=tb(t),r=tb(e);if(!n||!r)return Mc(t,e);const o={...n};return u=>(o.red=Kd(n.red,r.red,u),o.green=Kd(n.green,r.green,u),o.blue=Kd(n.blue,r.blue,u),o.alpha=Qe(n.alpha,r.alpha,u),ks.transform(o))},Dm=new Set(["none","hidden"]);function $P(t,e){return Dm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QP(t,e){return n=>Qe(t,e,n)}function gg(t){return typeof t=="number"?QP:typeof t=="string"?dg(t)?Mc:Dt.test(t)?nb:e2:Array.isArray(t)?tw:typeof t=="object"?Dt.test(t)?nb:ZP:Mc}function tw(t,e){const n=[...t],r=n.length,o=t.map((u,c)=>gg(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function ZP(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=gg(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function JP(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;n[o]=h,r[u]++}return n}const e2=(t,e)=>{const n=ts.createTransformer(e),r=al(t),o=al(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Dm.has(t)&&!o.values.length||Dm.has(e)&&!r.values.length?$P(t,e):Cl(tw(JP(r,o),o.values),n):Mc(t,e)};function nw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):gg(t)(t,e)}const t2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ze.update(e,!0),stop:()=>es(e),now:()=>Ct.isProcessing?Ct.timestamp:Ft.now()}},iw=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Oc=2e4;function yg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Oc;)e+=n,r=t.next(e);return e>=Oc?1/0:e}function n2(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(yg(r),Oc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Bn(o)}}const i2=5;function sw(t,e,n){const r=Math.max(e-i2,0);return UC(n-t(r),e-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ib=.001;function s2({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let o,u,c=1-e;c=gi(tt.minDamping,tt.maxDamping,c),t=gi(tt.minDuration,tt.maxDuration,Bn(t)),c<1?(o=p=>{const g=p*c,y=g*t,_=g-n,b=Mm(p,c),S=Math.exp(-y);return ib-_/b*S},u=p=>{const y=p*c*t,_=y*n+n,b=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-y),N=Mm(Math.pow(p,2),c);return(-o(p)+ib>0?-1:1)*((_-b)*S)/N}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-.001+g*y},u=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const h=5/t,d=a2(o,u,h);if(t=Vn(t),isNaN(d))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const r2=12;function a2(t,e,n){let r=n;for(let o=1;o<r2;o++)r=r-t(r)/e(r);return r}function Mm(t,e){return t*Math.sqrt(1-e*e)}const o2=["duration","bounce"],l2=["stiffness","damping","mass"];function sb(t,e){return e.some(n=>t[n]!==void 0)}function u2(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!sb(t,l2)&&sb(t,o2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*gi(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:tt.mass,stiffness:o,damping:u}}else{const n=s2(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function Ic(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:d,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:b}=u2({...n,velocity:-Bn(n.velocity||0)}),S=_||0,N=p/(2*Math.sqrt(d*g)),D=c-u,x=Bn(Math.sqrt(d/g)),z=Math.abs(D)<5;r||(r=z?tt.restSpeed.granular:tt.restSpeed.default),o||(o=z?tt.restDelta.granular:tt.restDelta.default);let L;if(N<1){const P=Mm(x,N);L=W=>{const Z=Math.exp(-N*x*W);return c-Z*((S+N*x*D)/P*Math.sin(P*W)+D*Math.cos(P*W))}}else if(N===1)L=P=>c-Math.exp(-x*P)*(D+(S+x*D)*P);else{const P=x*Math.sqrt(N*N-1);L=W=>{const Z=Math.exp(-N*x*W),$=Math.min(P*W,300);return c-Z*((S+N*x*D)*Math.sinh($)+P*D*Math.cosh($))/P}}const K={calculatedDuration:b&&y||null,next:P=>{const W=L(P);if(b)h.done=P>=y;else{let Z=P===0?S:0;N<1&&(Z=P===0?Vn(S):sw(L,P,W));const $=Math.abs(Z)<=r,ae=Math.abs(c-W)<=o;h.done=$&&ae}return h.value=h.done?c:W,h},toString:()=>{const P=Math.min(yg(K),Oc),W=iw(Z=>K.next(P*Z).value,P,30);return P+"ms "+W},toTransition:()=>{}};return K}Ic.applyToOptions=t=>{const e=n2(t,100,Ic);return t.ease=e.ease,t.duration=Vn(e.duration),t.type="keyframes",t};function Om({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},b=$=>h!==void 0&&$<h||d!==void 0&&$>d,S=$=>h===void 0?d:d===void 0||Math.abs(h-$)<Math.abs(d-$)?h:d;let N=n*e;const D=y+N,x=c===void 0?D:c(D);x!==D&&(N=x-y);const z=$=>-N*Math.exp(-$/r),L=$=>x+z($),K=$=>{const ae=z($),Te=L($);_.done=Math.abs(ae)<=p,_.value=_.done?x:Te};let P,W;const Z=$=>{b(_.value)&&(P=$,W=Ic({keyframes:[_.value,S(_.value)],velocity:sw(L,$,_.value),damping:o,stiffness:u,restDelta:p,restSpeed:g}))};return Z(0),{calculatedDuration:null,next:$=>{let ae=!1;return!W&&P===void 0&&(ae=!0,K($),Z($)),P!==void 0&&$>=P?W.next($-P):(!ae&&K($),_)}}}function c2(t,e,n){const r=[],o=n||yi.mix||nw,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||pn:e;h=Cl(d,h)}r.push(h)}return r}function f2(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(og(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=c2(e,r,o),d=h.length,p=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=sl(t[y],t[y+1],g);return h[y](_)};return n?g=>p(gi(t[0],t[u-1],g)):p}function h2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=sl(0,e,r);t.push(Qe(n,1,o))}}function d2(t){const e=[0];return h2(e,t.length-1),e}function m2(t,e){return t.map(n=>n*e)}function p2(t,e){return t.map(()=>e||YC).splice(0,t.length-1)}function jo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=AP(r)?r.map(QE):QE(r),u={done:!1,value:e[0]},c=m2(n&&n.length===e.length?n:d2(e),t),h=f2(c,e,{ease:Array.isArray(o)?o:p2(e,o)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}const g2=t=>t!==null;function vg(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(g2),h=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const y2={decay:Om,inertia:Om,tween:jo,keyframes:jo,spring:Ic};function rw(t){typeof t.type=="string"&&(t.type=y2[t.type])}class _g{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v2=t=>t/100;class aw extends _g{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rw(e);const{type:n=jo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const d=n||jo;d!==jo&&typeof h[0]!="number"&&(this.mixKeyframes=Cl(v2,nw(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=yg(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:b,type:S,onUpdate:N,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?x<0:x>o;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,K=r;if(y){const $=Math.min(this.currentTime,o)/h;let ae=Math.floor($),Te=$%1;!Te&&$>=1&&(Te=1),Te===1&&ae--,ae=Math.min(ae,y+1),!!(ae%2)&&(_==="reverse"?(Te=1-Te,b&&(Te-=b/h)):_==="mirror"&&(K=c)),L=gi(0,1,Te)*h}const P=z?{done:!1,value:g[0]}:K.next(L);u&&(P.value=u(P.value));let{done:W}=P;!z&&d!==null&&(W=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return Z&&S!==Om&&(P.value=vg(g,this.options,D,this.speed)),N&&N(P.value),Z&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Bn(this.calculatedDuration)}get time(){return Bn(this.currentTime)}set time(e){e=Vn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=t2,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function _2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ls=t=>t*180/Math.PI,Im=t=>{const e=Ls(Math.atan2(t[1],t[0]));return km(e)},E2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Im,rotateZ:Im,skewX:t=>Ls(Math.atan(t[1])),skewY:t=>Ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},km=t=>(t=t%360,t<0&&(t+=360),t),rb=Im,ab=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ob=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),b2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ab,scaleY:ob,scale:t=>(ab(t)+ob(t))/2,rotateX:t=>km(Ls(Math.atan2(t[6],t[5]))),rotateY:t=>km(Ls(Math.atan2(-t[2],t[0]))),rotateZ:rb,rotate:rb,skewX:t=>Ls(Math.atan(t[4])),skewY:t=>Ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function lb(t){return t.includes("scale")?1:0}function Lm(t,e){if(!t||t==="none")return lb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=b2,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=E2,o=h}if(!o)return lb(e);const u=r[e],c=o[1].split(",").map(T2);return typeof u=="function"?u(c):c[u]}const S2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Lm(n,e)};function T2(t){return parseFloat(t.trim())}const va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(va),ub=t=>t===ya||t===ce,C2=new Set(["x","y","z"]),w2=va.filter(t=>!C2.has(t));function A2(t){const e=[];return w2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Lm(e,"x"),y:(t,{transform:e})=>Lm(e,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const Us=new Set;let Pm=!1,Um=!1,Vm=!1;function ow(){if(Um){const t=Array.from(Us).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=A2(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{var h;(h=r.getValue(u))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Um=!1,Pm=!1,Us.forEach(t=>t.complete(Vm)),Us.clear()}function lw(){Us.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Um=!0)})}function R2(){Vm=!0,lw(),ow(),Vm=!1}class Eg{constructor(e,n,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Us.add(this),Pm||(Pm=!0,Ze.read(lw),Ze.resolveKeyframes(ow))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}_2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Us.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Us.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x2=t=>t.startsWith("--");function N2(t,e,n){x2(e)?t.style.setProperty(e,n):t.style[e]=n}const D2=lg(()=>window.ScrollTimeline!==void 0),M2={};function O2(t,e){const n=lg(t);return()=>M2[e]??n()}const uw=O2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Io=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Io([0,.65,.55,1]),circOut:Io([.55,0,1,.45]),backIn:Io([.31,.01,.66,-.59]),backOut:Io([.33,1.53,.69,.99])};function cw(t,e){if(t)return typeof t=="function"?uw()?iw(t,e):"ease-out":KC(t)?Io(t):Array.isArray(t)?t.map(n=>cw(n,e)||cb.easeOut):cb[t]}function I2(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const y=cw(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function fw(t){return typeof t=="function"&&"applyToOptions"in t}function k2({type:t,...e}){return fw(t)&&uw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class L2 extends _g{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,og(typeof e.type!="string");const p=k2(e);this.animation=I2(n,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=vg(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):N2(n,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bn(Number(e))}get time(){return Bn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&D2()?(this.animation.timeline=e,pn):n(this)}}const hw={anticipate:FC,backInOut:jC,circInOut:GC};function P2(t){return t in hw}function U2(t){typeof t.ease=="string"&&P2(t.ease)&&(t.ease=hw[t.ease])}const fb=10;class V2 extends L2{constructor(e){U2(e),rw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new aw({...c,autoplay:!1}),d=Vn(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-fb).value,h.sample(d).value,fb),h.stop()}}const hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ts.test(t)||t==="0")&&!t.startsWith("url("));function B2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z2(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=hb(o,e),h=hb(u,e);return!c||!h?!1:B2(t)||(n==="spring"||fw(n))&&r}const H2=new Set(["opacity","clipPath","filter","transform"]),j2=lg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F2(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return j2()&&n&&H2.has(n)&&(n!=="transform"||!d)&&!h&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const q2=40;class G2 extends _g{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:d,motionValue:p,element:g,...y}){var S;super(),this.stop=()=>{var N,D;this._animation?(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)):(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Ft.now();const _={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:d,motionValue:p,element:g,...y},b=(g==null?void 0:g.KeyframeResolver)||Eg;this.keyframeResolver=new b(h,(N,D,x)=>this.onKeyframesResolved(N,D,_,!x),d,p,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Ft.now(),z2(e,u,c,h)||((yi.instantAnimations||!d)&&(g==null||g(vg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>q2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!p&&F2(_)?new V2({..._,element:_.motionValue.owner.current}):new aw(_);b.finished.then(()=>this.notifyFinished()).catch(pn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||R2(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const Y2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K2(t){const e=Y2.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function dw(t,e,n=1){const[r,o]=K2(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return LC(c)?parseFloat(c):c}return dg(o)?dw(o,e,n+1):o}function bg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mw=new Set(["width","height","top","left","right","bottom",...va]),W2={test:t=>t==="auto",parse:t=>t},pw=t=>e=>e.test(t),gw=[ya,ce,zn,Fi,BP,VP,W2],db=t=>gw.find(pw(t));function X2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PC(t):!0}const $2=new Set(["brightness","contrast","saturate","opacity"]);function Q2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mg)||[];if(!r)return t;const o=n.replace(r,"");let u=$2.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const Z2=/\b([a-z-]*)\(.*?\)/gu,Bm={...ts,getAnimatableNone:t=>{const e=t.match(Z2);return e?e.map(Q2).join(" "):t}},mb={...ya,transform:Math.round},J2={rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:Xu,scaleX:Xu,scaleY:Xu,scaleZ:Xu,skew:Fi,skewX:Fi,skewY:Fi,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:rl,originX:JE,originY:JE,originZ:ce},Sg={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...J2,zIndex:mb,fillOpacity:rl,strokeOpacity:rl,numOctaves:mb},eU={...Sg,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Bm,WebkitFilter:Bm},yw=t=>eU[t];function vw(t,e){let n=yw(t);return n!==Bm&&(n=ts),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tU=new Set(["auto","none","0"]);function nU(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!tU.has(u)&&al(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=vw(n,o)}class iU extends Eg{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),dg(p))){const g=dw(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mw.has(r)||e.length!==2)return;const[o,u]=e,c=db(o),h=db(u);if(c!==h)if(ub(c)&&ub(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||X2(e[o]))&&r.push(o);r.length&&nU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function sU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:Tg}=WC(queueMicrotask,!1),bn={x:!1,y:!1};function _w(){return bn.x||bn.y}function rU(t){return t==="x"||t==="y"?bn[t]?null:(bn[t]=!0,()=>{bn[t]=!1}):bn.x||bn.y?null:(bn.x=bn.y=!0,()=>{bn.x=bn.y=!1})}function Ew(t,e){const n=sU(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function pb(t){return!(t.pointerType==="touch"||_w())}function aU(t,e,n={}){const[r,o,u]=Ew(t,n),c=h=>{if(!pb(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=y=>{pb(y)&&(p(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),u}const bw=(t,e)=>e?t===e?!0:bw(t,e.parentElement):!1,Cg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lU(t){return oU.has(t.tagName)||t.tabIndex!==-1}const ko=new WeakSet;function gb(t){return e=>{e.key==="Enter"&&t(e)}}function Wd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gb(()=>{if(ko.has(n))return;Wd(n,"down");const o=gb(()=>{Wd(n,"up")}),u=()=>Wd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yb(t){return Cg(t)&&!_w()}function cU(t,e,n={}){const[r,o,u]=Ew(t,n),c=h=>{const d=h.currentTarget;if(!yb(h)||ko.has(d))return;ko.add(d);const p=e(d,h),g=(b,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!yb(b)||!ko.has(d))&&(ko.delete(d),typeof p=="function"&&p(b,{success:S}))},y=b=>{g(b,d===window||d===document||n.useGlobalTarget||bw(d,b.target))},_=b=>{g(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h instanceof HTMLElement&&(h.addEventListener("focus",p=>uU(p,o)),!lU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}const vb=30,fU=t=>!isNaN(parseFloat(t));class hU{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,h;const u=Ft.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ug);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vb);return UC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new hU(t,e)}const dU=[...gw,Dt,ts],mU=t=>dU.find(pw(t)),Sw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Tw=C.createContext({strict:!1}),_b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ra={};for(const t in _b)ra[t]={isEnabled:e=>_b[t].some(n=>!!e[n])};function pU(t){for(const e in t)ra[e]={...ra[e],...t[e]}}const gU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gU.has(t)}let Cw=t=>!kc(t);function yU(t){t&&(Cw=e=>e.startsWith("on")?!kc(e):t(e))}try{yU(require("@emotion/is-prop-valid").default)}catch{}function vU(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Cw(o)||n===!0&&kc(o)||!e&&!kc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function _U(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const tf=C.createContext({});function nf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ll(t){return typeof t=="string"||Array.isArray(t)}const wg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ag=["initial",...wg];function sf(t){return nf(t.animate)||Ag.some(e=>ll(t[e]))}function ww(t){return!!(sf(t)||t.variants)}function EU(t,e){if(sf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ll(n)?n:void 0,animate:ll(r)?r:void 0}}return t.inherit!==!1?e:{}}function bU(t){const{initial:e,animate:n}=EU(t,C.useContext(tf));return C.useMemo(()=>({initial:e,animate:n}),[Eb(e),Eb(n)])}function Eb(t){return Array.isArray(t)?t.join(" "):t}const SU=Symbol.for("motionComponentSymbol");function Hr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TU(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Hr(n)&&(n.current=r))},[e])}const Rg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CU="framerAppearId",Aw="data-"+Rg(CU),Rw=C.createContext({});function wU(t,e,n,r,o){var N,D;const{visualElement:u}=C.useContext(tf),c=C.useContext(Tw),h=C.useContext(ef),d=C.useContext(sg).reducedMotion,p=C.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,y=C.useContext(Rw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&AU(p.current,n,o,y);const _=C.useRef(!1);C.useInsertionEffect(()=>{g&&_.current&&g.update(n,h)});const b=n[Aw],S=C.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,b)));return IC(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Tg.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),C.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,b)}),S.current=!1))}),g}function AU(t,e,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xw(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&Hr(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function xw(t){if(t)return t.options.allowProjection!==!1?t.projection:xw(t.parent)}function RU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&pU(t);function u(h,d){let p;const g={...C.useContext(sg),...h,layoutId:xU(h)},{isStatic:y}=g,_=bU(h),b=r(h,y);if(!y&&ig){NU();const S=DU(g);p=S.MeasureLayout,_.visualElement=wU(o,b,g,e,S.ProjectionNode)}return fi.jsxs(tf.Provider,{value:_,children:[p&&_.visualElement?fi.jsx(p,{visualElement:_.visualElement,...g}):null,n(o,h,TU(b,_.visualElement,d),b,y,_.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=C.forwardRef(u);return c[SU]=o,c}function xU({layoutId:t}){const e=C.useContext(tg).id;return e&&t!==void 0?e+"-"+t:t}function NU(t,e){C.useContext(Tw).strict}function DU(t){const{drag:e,layout:n}=ra;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ul={};function MU(t){for(const e in t)ul[e]=t[e],hg(e)&&(ul[e].isCSSVariable=!0)}function Nw(t,{layout:e,layoutId:n}){return _a.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ul[t]||t==="opacity")}const Mt=t=>!!(t&&t.getVelocity),OU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IU=va.length;function kU(t,e,n){let r="",o=!0;for(let u=0;u<IU;u++){const c=va[u],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=Sw(h,Sg[c]);if(!d){o=!1;const g=OU[c]||c;r+=`${g}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function xg(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const d in e){const p=e[d];if(_a.has(d)){c=!0;continue}else if(hg(d)){o[d]=p;continue}else{const g=Sw(p,Sg[d]);d.startsWith("origin")?(h=!0,u[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=kU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=u;r.transformOrigin=`${d} ${p} ${g}`}}const Ng=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dw(t,e,n){for(const r in e)!Mt(e[r])&&!Nw(r,n)&&(t[r]=e[r])}function LU({transformTemplate:t},e){return C.useMemo(()=>{const n=Ng();return xg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function PU(t,e){const n=t.style||{},r={};return Dw(r,n,t),Object.assign(r,LU(t,e)),r}function UU(t,e){const n={},r=PU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const VU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dg(t){return typeof t!="string"||t.includes("-")?!1:!!(VU.indexOf(t)>-1||/[A-Z]/u.test(t))}const BU={offset:"stroke-dashoffset",array:"stroke-dasharray"},zU={offset:"strokeDashoffset",array:"strokeDasharray"};function HU(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?BU:zU;t[u.offset]=ce.transform(-r);const c=ce.transform(e),h=ce.transform(n);t[u.array]=`${c} ${h}`}function Mw(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},d,p){if(xg(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&HU(g,o,u,c,!1)}const Ow=()=>({...Ng(),attrs:{}}),Iw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jU(t,e,n,r){const o=C.useMemo(()=>{const u=Ow();return Mw(u,e,Iw(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};Dw(u,t.style,t),o.style={...u,...o.style}}return o}function FU(t=!1){return(n,r,o,{latestValues:u},c)=>{const d=(Dg(n)?jU:UU)(r,u,c,n),p=vU(r,typeof n=="string",t),g=n!==C.Fragment?{...p,...d,ref:o}:{},{children:y}=r,_=C.useMemo(()=>Mt(y)?y.get():y,[y]);return C.createElement(n,{...g,children:_})}}function bb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Mg(t,e,n,r){if(typeof e=="function"){const[o,u]=bb(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=bb(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function rc(t){return Mt(t)?t.get():t}function qU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:GU(n,r,o,t),renderState:e()}}const kw=t=>(e,n)=>{const r=C.useContext(tf),o=C.useContext(ef),u=()=>qU(t,e,r,o);return n?u():ng(u)};function GU(t,e,n,r){const o={},u=r(t,{});for(const _ in u)o[_]=rc(u[_]);let{initial:c,animate:h}=t;const d=sf(t),p=ww(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!nf(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const S=Mg(t,_[b]);if(S){const{transitionEnd:N,transition:D,...x}=S;for(const z in x){let L=x[z];if(Array.isArray(L)){const K=g?L.length-1:0;L=L[K]}L!==null&&(o[z]=L)}for(const z in N)o[z]=N[z]}}}return o}function Og(t,e,n){var u;const{style:r}=t,o={};for(const c in r)(Mt(r[c])||e.style&&Mt(e.style[c])||Nw(c,t)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const YU={useVisualState:kw({scrapeMotionValuesFromProps:Og,createRenderState:Ng})};function Lw(t,e,n){const r=Og(t,e,n);for(const o in t)if(Mt(t[o])||Mt(e[o])){const u=va.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const KU={useVisualState:kw({scrapeMotionValuesFromProps:Lw,createRenderState:Ow})};function WU(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Dg(r)?KU:YU,preloadedFeatures:t,useRender:FU(o),createVisualElement:e,Component:r};return RU(c)}}function cl(t,e,n){const r=t.getProps();return Mg(r,e,n!==void 0?n:r.custom,t)}const zm=t=>Array.isArray(t);function XU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function $U(t){return zm(t)?t[t.length-1]||0:t}function QU(t,e){const n=cl(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const h=$U(u[c]);XU(t,c,h)}}function ZU(t){return!!(Mt(t)&&t.add)}function Hm(t,e){const n=t.getValue("willChange");if(ZU(n))return n.add(e);if(!n&&yi.WillChange){const r=new yi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Pw(t){return t.props[Aw]}const JU=t=>t!==null;function e3(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(JU),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const t3={type:"spring",stiffness:500,damping:25,restSpeed:10},n3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i3={type:"keyframes",duration:.8},s3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r3=(t,{keyframes:e})=>e.length>2?i3:_a.has(t)?t.startsWith("scale")?n3(e[1]):t3:s3;function a3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Ig=(t,e,n,r={},o,u)=>c=>{const h=bg(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Vn(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};a3(h)||Object.assign(g,r3(t,g)),g.duration&&(g.duration=Vn(g.duration)),g.repeatDelay&&(g.repeatDelay=Vn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(yi.instantAnimations||yi.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=e3(g.keyframes,h);if(_!==void 0){Ze.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new G2(g)};function o3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Uw(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(u=r);const d=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||p&&o3(p,g))continue;const b={delay:n,...bg(u||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===S&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const x=Pw(t);if(x){const z=window.MotionHandoffAnimation(x,g,Ze);z!==null&&(b.startTime=z,N=!0)}}Hm(t,g),y.start(Ig(g,y,_,t.shouldReduceMotion&&mw.has(g)?{type:!1}:b,t,N));const D=y.animation;D&&d.push(D)}return c&&Promise.all(d).then(()=>{Ze.update(()=>{c&&QU(t,c)})}),d}function jm(t,e,n={}){var d;const r=cl(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(Uw(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return l3(t,e,g+p,y,_,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function l3(t,e,n=0,r=0,o=1,u){const c=[],h=(t.variantChildren.size-1)*r,d=o===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(u3).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(jm(p,e,{...u,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function u3(t,e){return t.sortNodePosition(e)}function c3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>jm(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=jm(t,e,n);else{const o=typeof e=="function"?cl(t,e,n.custom):e;r=Promise.all(Uw(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Vw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const f3=Ag.length;function Bw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Bw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<f3;n++){const r=Ag[n],o=t.props[r];(ll(o)||o===!1)&&(e[r]=o)}return e}const h3=[...wg].reverse(),d3=wg.length;function m3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>c3(t,n,r)))}function p3(t){let e=m3(t),n=Sb(),r=!0;const o=d=>(p,g)=>{var _;const y=cl(t,g,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:S,...N}=y;p={...p,...N,...S}}return p};function u(d){e=d(t)}function c(d){const{props:p}=t,g=Bw(t.parent)||{},y=[],_=new Set;let b={},S=1/0;for(let D=0;D<d3;D++){const x=h3[D],z=n[x],L=p[x]!==void 0?p[x]:g[x],K=ll(L),P=x===d?z.isActive:null;P===!1&&(S=D);let W=L===g[x]&&L!==p[x]&&K;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),z.protectedKeys={...b},!z.isActive&&P===null||!L&&!z.prevProp||nf(L)||typeof L=="boolean")continue;const Z=g3(z.prevProp,L);let $=Z||x===d&&z.isActive&&!W&&K||D>S&&K,ae=!1;const Te=Array.isArray(L)?L:[L];let We=Te.reduce(o(x),{});P===!1&&(We={});const{prevResolvedValues:qe={}}=z,yn={...qe,...We},Gt=G=>{$=!0,_.has(G)&&(ae=!0,_.delete(G)),z.needsAnimating[G]=!0;const ee=t.getValue(G);ee&&(ee.liveStyle=!1)};for(const G in yn){const ee=We[G],Ae=qe[G];if(b.hasOwnProperty(G))continue;let w=!1;zm(ee)&&zm(Ae)?w=!Vw(ee,Ae):w=ee!==Ae,w?ee!=null?Gt(G):_.add(G):ee!==void 0&&_.has(G)?Gt(G):z.protectedKeys[G]=!0}z.prevProp=L,z.prevResolvedValues=We,z.isActive&&(b={...b,...We}),r&&t.blockInitialAnimation&&($=!1),$&&(!(W&&Z)||ae)&&y.push(...Te.map(G=>({animation:G,options:{type:x}})))}if(_.size){const D={};if(typeof p.initial!="boolean"){const x=cl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);x&&x.transition&&(D.transition=x.transition)}_.forEach(x=>{const z=t.getBaseTarget(x),L=t.getValue(x);L&&(L.liveStyle=!0),D[x]=z??null}),y.push({animation:D})}let N=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function h(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(d,p)}),n[d].isActive=p;const g=c(d);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Sb(),r=!0}}}function g3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vw(e,t):!1}function Rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sb(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class ls{constructor(e){this.isMounted=!1,this.node=e}update(){}}class y3 extends ls{constructor(e){super(e),e.animationState||(e.animationState=p3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let v3=0;class _3 extends ls{constructor(){super(...arguments),this.id=v3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const E3={animation:{Feature:y3},exit:{Feature:_3}};function fl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Rl(t){return{point:{x:t.pageX,y:t.pageY}}}const b3=t=>e=>Cg(e)&&t(e,Rl(e));function Fo(t,e,n,r){return fl(t,e,b3(n),r)}function zw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function S3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Hw=1e-4,C3=1-Hw,w3=1+Hw,jw=.01,A3=0-jw,R3=0+jw;function It(t){return t.max-t.min}function x3(t,e,n){return Math.abs(t-e)<=n}function Tb(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=It(n)/It(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C3&&t.scale<=w3||isNaN(t.scale))&&(t.scale=1),(t.translate>=A3&&t.translate<=R3||isNaN(t.translate))&&(t.translate=0)}function qo(t,e,n,r){Tb(t.x,e.x,n.x,r?r.originX:void 0),Tb(t.y,e.y,n.y,r?r.originY:void 0)}function Cb(t,e,n){t.min=n.min+e.min,t.max=t.min+It(e)}function N3(t,e,n){Cb(t.x,e.x,n.x),Cb(t.y,e.y,n.y)}function wb(t,e,n){t.min=e.min-n.min,t.max=t.min+It(e)}function Go(t,e,n){wb(t.x,e.x,n.x),wb(t.y,e.y,n.y)}const Ab=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:Ab(),y:Ab()}),Rb=()=>({min:0,max:0}),ot=()=>({x:Rb(),y:Rb()});function dn(t){return[t("x"),t("y")]}function Xd(t){return t===void 0||t===1}function Fm({scale:t,scaleX:e,scaleY:n}){return!Xd(t)||!Xd(e)||!Xd(n)}function Ds(t){return Fm(t)||Fw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fw(t){return xb(t.x)||xb(t.y)}function xb(t){return t&&t!=="0%"}function Lc(t,e,n){const r=t-n,o=e*r;return n+o}function Nb(t,e,n,r,o){return o!==void 0&&(t=Lc(t,o,r)),Lc(t,n,r)+e}function qm(t,e=0,n=1,r,o){t.min=Nb(t.min,e,n,r,o),t.max=Nb(t.max,e,n,r,o)}function qw(t,{x:e,y:n}){qm(t.x,e.translate,e.scale,e.originPoint),qm(t.y,n.translate,n.scale,n.originPoint)}const Db=.999999999999,Mb=1.0000000000001;function D3(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=n[h],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,qw(t,c)),r&&Ds(u.latestValues)&&qr(t,u.latestValues))}e.x<Mb&&e.x>Db&&(e.x=1),e.y<Mb&&e.y>Db&&(e.y=1)}function Fr(t,e){t.min=t.min+e,t.max=t.max+e}function Ob(t,e,n,r,o=.5){const u=Qe(t.min,t.max,o);qm(t,e,n,u,r)}function qr(t,e){Ob(t.x,e.x,e.scaleX,e.scale,e.originX),Ob(t.y,e.y,e.scaleY,e.scale,e.originY)}function Gw(t,e){return zw(T3(t.getBoundingClientRect(),e))}function M3(t,e,n){const r=Gw(t,n),{scroll:o}=e;return o&&(Fr(r.x,o.offset.x),Fr(r.y,o.offset.y)),r}const Yw=({current:t})=>t?t.ownerDocument.defaultView:null,Ib=(t,e)=>Math.abs(t-e);function O3(t,e){const n=Ib(t.x,e.x),r=Ib(t.y,e.y);return Math.sqrt(n**2+r**2)}class Kw{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Qd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=O3(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:S}=y,{timestamp:N}=Ct;this.history.push({...S,timestamp:N});const{onStart:D,onMove:x}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=$d(_,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Qd(y.type==="pointercancel"?this.lastMoveEventInfo:$d(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,D),S&&S(y,D)},!Cg(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Rl(e),h=$d(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=Ct;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Qd(h,this.history)),this.removeListeners=Cl(Fo(this.contextWindow,"pointermove",this.handlePointerMove),Fo(this.contextWindow,"pointerup",this.handlePointerUp),Fo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function $d(t,e){return e?{point:e(t.point)}:t}function kb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qd({point:t},e){return{point:t,delta:kb(t,Ww(e)),offset:kb(t,I3(e)),velocity:k3(e,.1)}}function I3(t){return t[0]}function Ww(t){return t[t.length-1]}function k3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Ww(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Vn(e)));)n--;if(!r)return{x:0,y:0};const u=Bn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function L3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function Lb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function P3(t,{top:e,left:n,bottom:r,right:o}){return{x:Lb(t.x,n,o),y:Lb(t.y,e,r)}}function Pb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function U3(t,e){return{x:Pb(t.x,e.x),y:Pb(t.y,e.y)}}function V3(t,e){let n=.5;const r=It(t),o=It(e);return o>r?n=sl(e.min,e.max-r,t.min):r>o&&(n=sl(t.min,t.max-o,e.min)),gi(0,1,n)}function B3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gm=.35;function z3(t=Gm){return t===!1?t=0:t===!0&&(t=Gm),{x:Ub(t,"left","right"),y:Ub(t,"top","bottom")}}function Ub(t,e,n){return{min:Vb(t,e),max:Vb(t,n)}}function Vb(t,e){return typeof t=="number"?t:t[e]||0}const H3=new WeakMap;class j3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rl(g).point)},u=(g,y)=>{const{drag:_,dragPropagation:b,onDragStart:S}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rU(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(D=>{let x=this.getAxisMotionValue(D).get()||0;if(zn.test(x)){const{projection:z}=this.visualElement;if(z&&z.layout){const L=z.layout.layoutBox[D];L&&(x=It(L)*(parseFloat(x)/100))}}this.originPoint[D]=x}),S&&Ze.postRender(()=>S(g,y)),Hm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:S,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=y;if(b&&this.currentDirection===null){this.currentDirection=F3(D),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),N&&N(g,y)},h=(g,y)=>this.stop(g,y),d=()=>dn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Kw(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Yw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Ze.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!$u(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=L3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&Hr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=P3(r.layoutBox,e):this.constraints=!1,this.elastic=z3(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&dn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=B3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=M3(r,o.root,this.visualElement.getTransformPagePoint());let c=U3(o.layout.layoutBox,u);if(n){const h=n(S3(c));this.hasMutatedConstraints=!!h,h&&(c=zw(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=dn(g=>{if(!$u(g,n,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Hm(this.visualElement,e),r.start(Ig(e,r,0,n,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:r}=this.getProps();if(!$u(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];u.set(e[n]-Qe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};dn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();o[c]=V3({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dn(c=>{if(!$u(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(Qe(d,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;H3.set(this.visualElement,this);const e=this.visualElement.current,n=Fo(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Hr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ze.read(r);const c=fl(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(dn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Gm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function $u(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class q3 extends ls{constructor(e){super(e),this.removeGroupControls=pn,this.removeListeners=pn,this.controls=new j3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bb=t=>(e,n)=>{t&&Ze.postRender(()=>t(e,n))};class G3 extends ls{constructor(){super(...arguments),this.removePointerDownListener=pn}onPointerDown(e){this.session=new Kw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Bb(e),onStart:Bb(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ze.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Fo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=zb(t,e.target.x),r=zb(t,e.target.y);return`${n}% ${r}%`}},Y3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ts.parse(t);if(o.length>5)return r;const u=ts.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=d;const p=Qe(h,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}};class K3 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;MU(W3),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Ze.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xw(t){const[e,n]=kC(),r=C.useContext(tg);return fi.jsx(K3,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(Rw),isPresent:e,safeToRemove:n})}const W3={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:Y3};function X3(t,e,n){const r=Mt(t)?t:ol(t);return r.start(Ig("",r,e,n)),r.animation}function $3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Q3=(t,e)=>t.depth-e.depth;class Z3{constructor(){this.children=[],this.isDirty=!1}add(e){rg(this.children,e),this.isDirty=!0}remove(e){ag(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q3),this.isDirty=!1,this.children.forEach(e)}}function J3(t,e){const n=Ft.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(es(r),t(u-e))};return Ze.setup(r,!0),()=>es(r)}const $w=["TopLeft","TopRight","BottomLeft","BottomRight"],eV=$w.length,Hb=t=>typeof t=="string"?parseFloat(t):t,jb=t=>typeof t=="number"||ce.test(t);function tV(t,e,n,r,o,u){o?(t.opacity=Qe(0,n.opacity??1,nV(r)),t.opacityExit=Qe(e.opacity??1,0,iV(r))):u&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let c=0;c<eV;c++){const h=`border${$w[c]}Radius`;let d=Fb(e,h),p=Fb(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||jb(d)===jb(p)?(t[h]=Math.max(Qe(Hb(d),Hb(p),r),0),(zn.test(p)||zn.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function Fb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nV=Qw(0,.5,qC),iV=Qw(.5,.95,pn);function Qw(t,e,n){return r=>r<t?0:r>e?1:n(sl(t,e,r))}function qb(t,e){t.min=e.min,t.max=e.max}function hn(t,e){qb(t.x,e.x),qb(t.y,e.y)}function Gb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yb(t,e,n,r,o){return t-=e,t=Lc(t,1/n,r),o!==void 0&&(t=Lc(t,1/o,r)),t}function sV(t,e=0,n=1,r=.5,o,u=t,c=t){if(zn.test(e)&&(e=parseFloat(e),e=Qe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Qe(u.min,u.max,r);t===u&&(h-=e),t.min=Yb(t.min,e,n,h,o),t.max=Yb(t.max,e,n,h,o)}function Kb(t,e,[n,r,o],u,c){sV(t,e[n],e[r],e[o],e.scale,u,c)}const rV=["x","scaleX","originX"],aV=["y","scaleY","originY"];function Wb(t,e,n,r){Kb(t.x,e,rV,n?n.x:void 0,r?r.x:void 0),Kb(t.y,e,aV,n?n.y:void 0,r?r.y:void 0)}function Xb(t){return t.translate===0&&t.scale===1}function Zw(t){return Xb(t.x)&&Xb(t.y)}function $b(t,e){return t.min===e.min&&t.max===e.max}function oV(t,e){return $b(t.x,e.x)&&$b(t.y,e.y)}function Qb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Jw(t,e){return Qb(t.x,e.x)&&Qb(t.y,e.y)}function Zb(t){return It(t.x)/It(t.y)}function Jb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lV{constructor(){this.members=[]}add(e){rg(this.members,e),e.scheduleRender()}remove(e){if(ag(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uV(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:b,skewY:S}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Zd=["","X","Y","Z"],cV={visibility:"hidden"},eS=1e3;let fV=0;function Jd(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function eA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Pw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&eA(r)}function tA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=fV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mV),this.nodes.forEach(_V),this.nodes.forEach(EV),this.nodes.forEach(pV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ug),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=J3(_,250),ac.hasAnimatedSinceResize&&(ac.hasAnimatedSinceResize=!1,this.nodes.forEach(nS))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||wV,{onLayoutAnimationStart:D,onLayoutAnimationComplete:x}=g.getProps(),z=!this.targetLayout||!Jw(this.targetLayout,S),L=!_&&b;if(this.options.layoutRoot||this.resumeFrom||L||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,L);const K={...bg(N,"layout"),onPlay:D,onComplete:x};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else _||nS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tS);return}this.isUpdating||this.nodes.forEach(yV),this.isUpdating=!1,this.nodes.forEach(vV),this.nodes.forEach(hV),this.nodes.forEach(dV),this.clearAllSnapshots();const h=Ft.now();Ct.delta=gi(0,1e3/60,h-Ct.timestamp),Ct.timestamp=h,Ct.isProcessing=!0,qd.update.process(Ct),qd.preRender.process(Ct),qd.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gV),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!It(this.snapshot.measuredBox.x)&&!It(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Zw(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(h||Ds(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),AV(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return ot();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(RV))){const{scroll:g}=this.root;g&&(Fr(h.x,g.offset.x),Fr(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=ot();if(hn(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&hn(h,c),Fr(h.x,y.offset.x),Fr(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=ot();hn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&qr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ds(g.latestValues)&&qr(d,g.latestValues)}return Ds(this.latestValues)&&qr(d,this.latestValues),d}removeTransform(c){const h=ot();hn(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ds(p.latestValues))continue;Fm(p.latestValues)&&p.updateSnapshot();const g=ot(),y=p.measurePageBox();hn(g,y),Wb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ds(this.latestValues)&&Wb(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),Go(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ot(),this.targetWithTransforms=ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),qw(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),Go(this.relativeTargetOrigin,this.target,b.target),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fm(this.parent.latestValues)||Fw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;hn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;D3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ot());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gb(this.prevProjectionDelta.x,this.projectionDelta.x),Gb(this.prevProjectionDelta.y,this.projectionDelta.y)),qo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!Jb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=ot(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,N=b!==S,D=this.getStack(),x=!D||D.members.length<=1,z=!!(N&&!x&&this.options.crossfade===!0&&!this.path.some(CV));this.animationProgress=0;let L;this.mixTargetDelta=K=>{const P=K/1e3;iS(y.x,c.x,P),iS(y.y,c.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Go(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TV(this.relativeTarget,this.relativeTargetOrigin,_,P),L&&oV(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=ot()),hn(L,this.relativeTarget)),N&&(this.animationValues=g,tV(g,p,this.latestValues,P,z,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{ac.hasAnimatedSinceResize=!0,this.currentAnimation=X3(0,eS,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&nA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||ot();const y=It(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const _=It(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}hn(h,d),qr(h,g),qo(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lV),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Jd("z",c,p,this.animationValues);for(let g=0;g<Zd.length;g++)Jd(`rotate${Zd[g]}`,c,p,this.animationValues),Jd(`skew${Zd[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return cV;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=rc(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=rc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=uV(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:y,y:_}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in ul){if(g[b]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:D}=ul[b],x=h.transform==="none"?g[b]:S(g[b],p);if(N){const z=N.length;for(let L=0;L<z;L++)h[N[L]]=x}else D?this.options.visualElement.renderState.vars[b]=x:h[b]=x}return this.options.layoutId&&(h.pointerEvents=p===this?rc(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(tS),this.root.sharedNodes.clear()}}}function hV(t){t.updateLayout()}function dV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?dn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=It(_);_.min=r[y].min,_.max=_.min+b}):nA(u,e.layoutBox,r)&&dn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=It(r[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const h=jr();qo(h,r,e.layoutBox);const d=jr();c?qo(d,t.applyTransform(o,!0),e.measuredBox):qo(d,r,e.layoutBox);const p=!Zw(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const S=ot();Go(S,e.layoutBox,_.layoutBox);const N=ot();Go(N,r,b.layoutBox),Jw(S,N)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function mV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gV(t){t.clearSnapshot()}function tS(t){t.clearMeasurements()}function yV(t){t.isLayoutDirty=!1}function vV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _V(t){t.resolveTargetDelta()}function EV(t){t.calcProjection()}function bV(t){t.resetSkewAndRotation()}function SV(t){t.removeLeadSnapshot()}function iS(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sS(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function TV(t,e,n,r){sS(t.x,e.x,n.x,r),sS(t.y,e.y,n.y,r)}function CV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wV={duration:.45,ease:[.4,0,.1,1]},rS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aS=rS("applewebkit/")&&!rS("chrome/")?Math.round:pn;function oS(t){t.min=aS(t.min),t.max=aS(t.max)}function AV(t){oS(t.x),oS(t.y)}function nA(t,e,n){return t==="position"||t==="preserve-aspect"&&!x3(Zb(e),Zb(n),.2)}function RV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xV=tA({attachResizeListener:(t,e)=>fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),em={current:void 0},iA=tA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!em.current){const t=new xV({});t.mount(window),t.setOptions({layoutScroll:!0}),em.current=t}return em.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NV={pan:{Feature:G3},drag:{Feature:q3,ProjectionNode:iA,MeasureLayout:Xw}};function lS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&Ze.postRender(()=>u(e,Rl(e)))}class DV extends ls{mount(){const{current:e}=this.node;e&&(this.unmount=aU(e,(n,r)=>(lS(this.node,r,"Start"),o=>lS(this.node,o,"End"))))}unmount(){}}class MV extends ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cl(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&Ze.postRender(()=>u(e,Rl(e)))}class OV extends ls{mount(){const{current:e}=this.node;e&&(this.unmount=cU(e,(n,r)=>(uS(this.node,r,"Start"),(o,{success:u})=>uS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ym=new WeakMap,tm=new WeakMap,IV=t=>{const e=Ym.get(t.target);e&&e(t)},kV=t=>{t.forEach(IV)};function LV({root:t,...e}){const n=t||document;tm.has(n)||tm.set(n,{});const r=tm.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(kV,{root:t,...e})),r[o]}function PV(t,e,n){const r=LV(e);return Ym.set(t,n),r.observe(t),()=>{Ym.delete(t),r.unobserve(t)}}const UV={some:0,all:1};class VV extends ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UV[o]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(d)};return PV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BV(e,n))&&this.startObserver()}unmount(){}}function BV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zV={inView:{Feature:VV},tap:{Feature:OV},focus:{Feature:MV},hover:{Feature:DV}},HV={layout:{ProjectionNode:iA,MeasureLayout:Xw}},Km={current:null},sA={current:!1};function jV(){if(sA.current=!0,!!ig)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Km.current=t.matches;t.addListener(e),e()}else Km.current=!1}const FV=new WeakMap;function qV(t,e,n){for(const r in e){const o=e[r],u=n[r];if(Mt(o))t.addValue(r,o);else if(Mt(u))t.addValue(r,ol(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,ol(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Eg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Ft.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ze.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=sf(n),this.isVariantNode=ww(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const b=y[_];d[_]!==void 0&&Mt(b)&&b.set(d[_],!1)}}mount(e){this.current=e,FV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sA.current||jV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_a.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ra){const n=ra[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cS.length;r++){const o=cS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=qV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ol(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(LC(r)||PC(r))?r=parseFloat(r):!mU(r)&&ts.test(n)&&(r=vw(e,n)),this.setBaseTarget(e,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Mg(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Mt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ug),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rA extends GV{constructor(){super(...arguments),this.KeyframeResolver=iU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function aA(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in n)t.style.setProperty(u,n[u])}function YV(t){return window.getComputedStyle(t)}class KV extends rA{constructor(){super(...arguments),this.type="html",this.renderInstance=aA}readValueFromInstance(e,n){if(_a.has(n))return S2(e,n);{const r=YV(e),o=(hg(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Gw(e,n)}build(e,n,r){xg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Og(e,n,r)}}const oA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WV(t,e,n,r){aA(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(oA.has(o)?o:Rg(o),e.attrs[o])}class XV extends rA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_a.has(n)){const r=yw(n);return r&&r.default||0}return n=oA.has(n)?n:Rg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Lw(e,n,r)}build(e,n,r){Mw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){WV(e,n,r,o)}mount(e){this.isSVGTag=Iw(e.tagName),super.mount(e)}}const $V=(t,e)=>Dg(t)?new XV(e):new KV(e,{allowProjection:t!==C.Fragment}),QV=WU({...E3,...zV,...NV,...HV},$V),ZV=_U(QV),Wm=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],JV=6e4,lA=C.createContext({currentIndex:0}),e4=({children:t})=>{const[e,n]=C.useState(0);return C.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%Wm.length)},JV);return()=>clearInterval(r)},[]),U.createElement(lA.Provider,{value:{currentIndex:e}},t)},rf=()=>{const{currentIndex:t}=C.useContext(lA);return{backgroundElement:U.createElement(_P,{mode:"wait"},U.createElement(ZV.div,{key:t,className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Wm[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}})),currentIndex:t,imageUrl:Wm[t]}},t4=()=>{const t=ua(),{backgroundElement:e}=rf();return U.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white"},e,U.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md p-10 rounded-2xl max-w-md text-center shadow-xl"},U.createElement("h1",{className:"text-4xl font-extrabold text-white mb-4 tracking-wider"},"夜のチャット"),U.createElement("p",{className:"text-gray-300 text-sm mb-2"},"夜裡的話語，從這裡開始。"),U.createElement("p",{className:"text-gray-400 text-sm mb-8"},"Speak freely, in a place that listens."),U.createElement("button",{onClick:()=>t("/login"),className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transform transition-all duration-300"},"はじめる")))};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fS=t=>{const e=i4(t);return e.charAt(0).toUpperCase()+e.slice(1)},uA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),s4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},d)=>C.createElement("svg",{ref:d,...r4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:uA("lucide",o),...!u&&!s4(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,g])=>C.createElement(p,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=(t,e)=>{const n=C.forwardRef(({className:r,...o},u)=>C.createElement(a4,{ref:u,iconNode:e,className:uA(`lucide-${n4(fS(t))}`,`lucide-${t}`,r),...o}));return n.displayName=fS(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],l4=cA("eye-off",o4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c4=cA("eye",u4),f4=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(""),[o,u]=C.useState(""),[c,h]=C.useState(!1),[d,p]=C.useState(""),[g,y]=C.useState(!1),_=ua(),{backgroundElement:b}=rf();C.useRef(null),C.useRef(null),C.useEffect(()=>{r(""),u(""),p("")},[t]);const S=async D=>{D.preventDefault(),p(""),y(!0);try{t?(await LM(Ps,n,o),_("/profile")):(await PM(Ps,n,o),_("/chat"))}catch(x){p(x.message)}finally{y(!1)}},N=async()=>{const D=new si;try{const z=(await rO(Ps,D)).user,L=Jt(),K=Ge(L,`users/${z.uid}`);Ms(K,P=>{P.exists()||ji(K,{nickname:z.displayName||"匿名使用者",avatarUrl:z.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),_("/chat")}catch(x){p(x.message)}};return U.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden"},b,U.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl"},U.createElement("div",{className:"flex justify-center space-x-4"},U.createElement("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`},"Login"),U.createElement("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`},"Sign Up")),U.createElement("form",{onSubmit:S,className:"space-y-4"},U.createElement("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:D=>r(D.target.value),required:!0}),U.createElement("div",{className:"relative"},U.createElement("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:D=>u(D.target.value),required:!0}),U.createElement("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password"},c?U.createElement(l4,{size:20}):U.createElement(c4,{size:20}))),d&&U.createElement("p",{className:"text-red-400 text-sm text-center"},d),U.createElement("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]"},t?"Sign Up":"Login")),U.createElement("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition"},U.createElement("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"),U.createElement("p",{className:"text-center text-sm text-white/80"},t?"Already have an account?":"Don't have an account?"," ",U.createElement("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition"},t?"Login":"Sign up"))))},h4=({user:t,isFriend:e,onClose:n,onStartChat:r,onAddFriend:o})=>U.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center z-50 p-4"},U.createElement("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-xs flex flex-col items-center"},U.createElement("img",{src:t.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-24 h-24 rounded-full object-cover"}),U.createElement("h2",{className:"text-xl font-bold text-white"},t.nickname),t.statusMessage&&U.createElement("p",{className:"text-sm italic text-gray-400 text-center px-2"},t.statusMessage),e?U.createElement("button",{onClick:r,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 hover:brightness-110 transition"},"開始聊天"):U.createElement("button",{onClick:o,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transition-all duration-200"},"➕ 加好友"),U.createElement("button",{onClick:n,className:"text-gray-400 hover:text-white mt-4"},"關閉")));function d4(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const m4="dhtqetylj",p4="Chatroom_Avatars",No=(t,e)=>[t,e].sort().join("_"),g4=()=>{const[t,e]=C.useState(""),[n,r]=C.useState([]),[o,u]=C.useState(""),[c,h]=C.useState([]),[d,p]=C.useState([]),[g,y]=C.useState("public"),[_,b]=C.useState(""),[S,N]=C.useState(""),[D,x]=C.useState(""),[z,L]=C.useState("#bfa382"),[K,P]=C.useState(!1),[W,Z]=C.useState(!1),[$,ae]=C.useState(""),[Te,We]=C.useState([]),qe=ua(),{backgroundElement:yn}=rf(),Gt=C.useRef(null),[Xe,V]=C.useState([]),[G,ee]=C.useState(!1),[Ae,w]=C.useState([]),[F,Q]=C.useState(""),[X,ie]=C.useState(null),[Ce,le]=C.useState(!1),te=Ps.currentUser;C.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),C.useEffect(()=>{const q=setTimeout(()=>{var he;(he=Gt.current)==null||he.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(q)},[n]),C.useEffect(()=>{if(!te){qe("/login");return}const q=Jt(),he=Ge(q,`users/${te.uid}`);Ms(he,Be=>{const Re=Be.val();Re&&(N(Re.nickname||""),x(Re.avatarUrl||""),L(Re.themeColor||"#bfa382"))});const ve=Ge(q,"users");Ms(ve,Be=>{const Re=Be.val();if(Re){const lt=Object.entries(Re).filter(([st])=>st!==te.uid).map(([st,Mn])=>({uid:st,nickname:Mn.nickname,avatarUrl:Mn.avatarUrl,statusMessage:Mn.statusMessage||""}));h(lt)}});const Se=Ge(q,"groups");Ms(Se,Be=>{const Re=Be.val();if(Re){const lt=Object.entries(Re).map(([st,Mn])=>({id:st,name:Mn.name,members:Mn.members}));p(lt)}})},[te,qe]),C.useEffect(()=>{const q=Jt();if(!te)return;let he;if(g==="public")he=Ge(q,"messages/public");else if(_)he=Ge(q,`messages/groups/${_}`);else{const ve=No(te.uid,g);he=Ge(q,`messages/private/${ve}`)}Ms(he,ve=>{const Se=ve.val();if(Se){const Be=Object.entries(Se).map(([Re,lt])=>({id:Re,...lt}));r(Be)}else r([])})},[g,_]),C.useEffect(()=>{if(!te)return;const q=Jt(),he=Ge(q,`users/${te.uid}/friends`);Ms(he,ve=>{const Se=ve.val();V(Se?Object.keys(Se):[])})},[te]);const Ve=async()=>{if(!o.trim())return;const q=Jt();if(!te)return;if(g!=="public"&&_===""&&!Xe.includes(g)){alert("你必須先加對方為好友才能私訊喔 🌸");return}const he=Date.now(),ve={text:d4(o),sender:te.uid,nickname:S,avatarUrl:D,timestamp:he};let Se;if(g==="public")Se=Ge(q,"messages/public");else if(_)Se=Ge(q,`messages/groups/${_}`);else{const Re=No(te.uid,g);Se=Ge(q,`messages/private/${Re}`)}const Be=Yu(Se);await ji(Be,ve),u(""),Notification.permission==="granted"&&te&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:D||"/image/default-avatar.jpg"})},Dn=async q=>{const ve=`https://g.tenor.com/v1/search?q=${q}&key=LIVDSRZULELA&limit=20`,Be=await(await fetch(ve)).json();w(Be.results||[])},Ea=q=>{const he=document.getElementById(`msg-${q}`);he&&(he.classList.add("animate-shatter"),setTimeout(()=>{Ws(q)},500))},Ws=async q=>{if(!te)return;const he=Jt();let ve;if(g==="public")ve=Ge(he,`messages/public/${q}`);else if(_)ve=Ge(he,`messages/groups/${_}/${q}`);else{const Se=No(te.uid,g);ve=Ge(he,`messages/private/${Se}/${q}`)}await ji(ve,null)},ba=async q=>{if(!te)return;const he=Jt(),ve=Date.now(),Se={text:"",gifUrl:q,sender:te.uid,nickname:S,avatarUrl:D,timestamp:ve};let Be;if(g==="public")Be=Ge(he,"messages/public");else if(_)Be=Ge(he,`messages/groups/${_}`);else{const lt=No(te.uid,g);Be=Ge(he,`messages/private/${lt}`)}const Re=Yu(Be);await ji(Re,Se),ee(!1)},Sa=async q=>{var Se;const he=(Se=q.target.files)==null?void 0:Se[0];if(!he||!te)return;const ve=new FormData;ve.append("file",he),ve.append("upload_preset",p4),ve.append("folder","chat-images");try{const Re=await(await fetch(`https://api.cloudinary.com/v1_1/${m4}/image/upload`,{method:"POST",body:ve})).json(),lt=Jt(),st=Date.now(),Mn={text:"",imageUrl:Re.secure_url,sender:te.uid,nickname:S,avatarUrl:D,timestamp:st};let Qs;if(g==="public")Qs=Ge(lt,"messages/public");else if(_)Qs=Ge(lt,`messages/groups/${_}`);else{const Zs=No(te.uid,g);Qs=Ge(lt,`messages/private/${Zs}`)}const uf=Yu(Qs);await ji(uf,Mn)}catch(Be){console.error("上傳圖片失敗:",Be)}},Xs=async q=>{if(!te)return;const he=Jt(),ve=Ge(he,`users/${te.uid}/friends/${q}`),Se=Ge(he,`users/${q}/friends/${te.uid}`);await ji(ve,!0),await ji(Se,!0)},af=()=>{y("public"),b(""),P(!1)},of=q=>{y(q),b(""),P(!1)},tn=q=>{y(""),b(q),P(!1)},lf=()=>{qe("/profile"),P(!1)},xl=async()=>{await Ps.signOut(),qe("")},Nl=async()=>{if(!$.trim()||Te.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const q=Jt();if(!te)return;const he=Ge(q,"groups"),ve=Yu(he),Se={};Te.forEach(Be=>Se[Be]=!0),Se[te.uid]=!0,await ji(ve,{name:$,members:Se}),Z(!1),ae(""),We([])},$s=q=>new Date(q).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return U.createElement(U.Fragment,null,yn,G&&U.createElement("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4"},U.createElement("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md"},U.createElement("h2",{className:"text-xl font-bold text-center mb-2"},"搜尋 GIF ✨"),U.createElement("input",{type:"text",value:F,onChange:q=>Q(q.target.value),placeholder:"輸入關鍵字...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),U.createElement("div",{className:"flex justify-end"},U.createElement("button",{onClick:()=>Dn(F),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition"},"搜尋")),U.createElement("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto"},Ae.map(q=>U.createElement("img",{key:q.id,src:q.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>ba(q.media[0].tinygif.url)}))),U.createElement("div",{className:"flex justify-center pt-4"},U.createElement("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-white"},"關閉")))),Ce&&X&&U.createElement(h4,{user:X,isFriend:Xe.includes(X.uid),onStartChat:()=>{y(X.uid),b(""),le(!1)},onAddFriend:()=>Xs(X.uid),onClose:()=>le(!1)}),W&&U.createElement("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50"},U.createElement("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4"},U.createElement("h2",{className:"text-xl font-bold"},"創建新群組"),U.createElement("input",{type:"text",value:$,onChange:q=>ae(q.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),U.createElement("div",{className:"max-h-40 overflow-y-auto space-y-2"},c.filter(q=>Xe.includes(q.uid)).length===0?U.createElement("div",{className:"text-gray-400 text-center py-4"},"尚未加任何好友，無法建立群組喔 🌸"):c.filter(q=>Xe.includes(q.uid)).map(q=>U.createElement("div",{key:q.uid,className:"flex items-center space-x-2"},U.createElement("input",{type:"checkbox",value:q.uid,onChange:he=>{he.target.checked?We(ve=>[...ve,q.uid]):We(ve=>ve.filter(Se=>Se!==q.uid))}}),U.createElement("span",null,q.nickname)))),U.createElement("div",{className:"flex justify-end space-x-2 pt-2"},U.createElement("button",{onClick:()=>Z(!1),className:"px-4 py-2 rounded-lg bg-gray-600"},"Cancel"),U.createElement("button",{onClick:Nl,className:"px-4 py-2 rounded-lg bg-green-600"},"Create")))),U.createElement("div",{className:"flex h-screen overflow-hidden relative"},U.createElement("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${K?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`},U.createElement("button",{onClick:af,className:"text-lg font-bold hover:underline",style:{color:z}},"🌎 Public Chat"),U.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"All Users"),U.createElement("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto"},c&&c.map(q=>U.createElement("div",{key:q.uid,className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition"},U.createElement("button",{onClick:()=>of(q.uid),className:"flex items-center space-x-2"},U.createElement("img",{src:q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),U.createElement("span",null,q.nickname)),!Xe.includes(q.uid)&&U.createElement("button",{onClick:()=>Xs(q.uid),className:"text-green-400 hover:text-green-300 text-lg"},"➕")))),U.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"Groups"),U.createElement("div",{className:"flex flex-col space-y-2"},d.filter(q=>q.members[te?te.uid:0]).map(q=>U.createElement("button",{key:q.id,onClick:()=>tn(q.id),className:"hover:bg-white/10 p-2 rounded transition"},"🧑‍🤝‍🧑 ",q.name))),U.createElement("button",{onClick:()=>Z(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition"},"➕ Create Group"),U.createElement("div",{className:"flex space-x-4 pt-4 border-t border-white/20"},U.createElement("button",{onClick:()=>qe("/"),className:"text-sm hover:underline",style:{color:z}},"🏠"),U.createElement("button",{onClick:lf,className:"text-sm hover:underline",style:{color:z}},"Profile"),U.createElement("button",{onClick:xl,className:"text-sm text-red-400 hover:underline"},"Logout"))),U.createElement("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner"},U.createElement("div",{className:"flex-1 overflow-y-auto p-4 space-y-4"},U.createElement("div",{className:"p-4"},U.createElement("input",{type:"text",placeholder:"搜尋訊息 🔍",value:t,onChange:q=>e(q.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})),n.filter(q=>{var Se;if(!t.trim())return!0;const he=t.toLowerCase();return(Se=q.text)==null?void 0:Se.toLowerCase().includes(he)}).length===0?U.createElement("div",{className:"text-center text-gray-400 mt-10"},"沒有找到相關訊息喔 🌸"):n.filter(q=>{var Se;if(!t.trim())return!0;const he=t.toLowerCase();return(Se=q.text)==null?void 0:Se.toLowerCase().includes(he)}).map(q=>U.createElement("div",{id:`msg-${q.id}`,className:`flex ${q.sender===(te==null?void 0:te.uid)?"justify-end":"justify-start"} fade-in`},U.createElement("div",{className:"flex items-end space-x-2"},q.sender!==(te==null?void 0:te.uid)&&U.createElement("img",{src:q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onClick:()=>{const he=c.find(ve=>ve.uid===q.sender);he&&(ie(he),le(!0))}}),U.createElement("div",{className:"flex flex-col items-start max-w-xs"},q.sender===(te==null?void 0:te.uid)&&U.createElement("button",{onClick:()=>Ea(q.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"收回訊息"},"↩️"),U.createElement("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:q.sender===(te==null?void 0:te.uid)?z:"#d1d5db",color:q.sender===(te==null?void 0:te.uid)?"white":"black"}},q.text&&U.createElement("span",null,q.text),q.imageUrl&&U.createElement("img",{src:q.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(q.imageUrl,"_blank")}),q.gifUrl&&U.createElement("img",{src:q.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(q.gifUrl,"_blank")})),U.createElement("span",{className:"text-xs text-gray-400 mt-1 ml-2"},$s(q.timestamp))),q.sender===(te==null?void 0:te.uid)&&U.createElement("img",{src:q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})))),U.createElement("div",{ref:Gt})),U.createElement("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2"},U.createElement("input",{type:"text",value:o,onChange:q=>u(q.target.value),onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),Ve())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),U.createElement("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:Sa}),U.createElement("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:z}},"🖼️"),U.createElement("button",{onClick:()=>ee(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:z}},"🔎"),U.createElement("button",{onClick:Ve,style:{backgroundColor:z},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition"},"Send")))))},nm=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],y4=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(null),[o,u]=C.useState(""),[c,h]=C.useState(nm[2].color),[d,p]=C.useState(""),[g,y]=C.useState(!0),_=ua(),b="dhtqetylj",S="Chatroom_Avatars",N=Ps.currentUser,D=C.useRef(null),{backgroundElement:x}=rf();C.useEffect(()=>{if(!N){_("/login");return}const P=Jt(),W=Ge(P,`users/${N.uid}`);Ms(W,Z=>{const $=Z.val();$&&(e($.nickname||""),p($.statusMessage||""),u($.avatarUrl||""),h($.themeColor||nm[2].color)),y(!1)})},[N,_]);async function z(P){const W=new FormData;return W.append("file",P),W.append("upload_preset",S),W.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${b}/image/upload`,{method:"POST",body:W})).json()).secure_url}const L=async()=>{if(!N)return;const P=Jt(),W=Ge(P,`users/${N.uid}`);let Z=o;n&&(Z=await z(n)),await tP(W,{nickname:t,statusMessage:d,themeColor:c,avatarUrl:Z}),_("/chat")},K=P=>{var Z;const W=(Z=P.target.files)==null?void 0:Z[0];W&&(r(W),u(URL.createObjectURL(W)))};return g?U.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading Profile..."):U.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4"},x,U.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center"},U.createElement("h1",{className:"text-2xl font-bold mb-4 text-center text-white"},"Update Your Profile"),U.createElement("div",{className:"relative"},U.createElement("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var P;return(P=D.current)==null?void 0:P.click()}}),U.createElement("input",{type:"file",accept:"image/*",ref:D,onChange:K,className:"hidden"})),U.createElement("input",{type:"text",value:t,onChange:P=>e(P.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),U.createElement("input",{type:"text",value:d,onChange:P=>p(P.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),U.createElement("div",{className:"flex space-x-3 justify-center"},nm.map(P=>U.createElement("button",{key:P.color,type:"button",onClick:()=>h(P.color),style:{backgroundColor:P.color},className:`w-8 h-8 rounded-full border-2 ${c===P.color?"border-white":"border-transparent"} transition-all`}))),U.createElement("button",{onClick:L,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c}},"Save")))};function v4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const o=BM(Ps,u=>{e(u),r(!1)});return()=>o()},[]),n?U.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading..."):U.createElement(Yx,null,U.createElement(Sx,null,U.createElement(Do,{path:"/",element:U.createElement(t4,null)}),U.createElement(Do,{path:"/login",element:t?U.createElement(Rd,{to:"/chat"}):U.createElement(f4,null)}),U.createElement(Do,{path:"/chat",element:t?U.createElement(g4,null):U.createElement(Rd,{to:"/login"})}),U.createElement(Do,{path:"/profile",element:t?U.createElement(y4,null):U.createElement(Rd,{to:"/login"})})))}O1.createRoot(document.getElementById("root")).render(U.createElement(U.StrictMode,null,U.createElement(e4,null,U.createElement(v4,null))));
