(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function $b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var id={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function S1(){if(o0)return he;o0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function N(w,q,$){this.props=w,this.context=q,this.refs=D,this.updater=$||b}N.prototype.isReactComponent={},N.prototype.setState=function(w,q){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},N.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function x(){}x.prototype=N.prototype;function H(w,q,$){this.props=w,this.context=q,this.refs=D,this.updater=$||b}var k=H.prototype=new x;k.constructor=H,S(k,N.prototype),k.isPureReactComponent=!0;var W=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function Z(w,q,$,Q,ie,Se){return $=Se.ref,{$$typeof:t,type:w,key:q,ref:$!==void 0?$:null,props:Se}}function X(w,q){return Z(w.type,q,void 0,void 0,void 0,w.props)}function re(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function me(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return q[$]})}var Qe=/\/+/g;function Ge(w,q){return typeof w=="object"&&w!==null&&w.key!=null?me(""+w.key):q.toString(36)}function zt(){}function Ht(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(zt,zt):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ne(w,q,$,Q,ie){var Se=typeof w;(Se==="undefined"||Se==="boolean")&&(w=null);var B=!1;if(w===null)B=!0;else switch(Se){case"bigint":case"string":case"number":B=!0;break;case"object":switch(w.$$typeof){case t:case e:B=!0;break;case g:return B=w._init,ne(B(w._payload),q,$,Q,ie)}}if(B)return ie=ie(w),B=Q===""?"."+Ge(w,0):Q,W(ie)?($="",B!=null&&($=B.replace(Qe,"$&/")+"/"),ne(ie,q,$,"",function(we){return we})):ie!=null&&(re(ie)&&(ie=X(ie,$+(ie.key==null||w&&w.key===ie.key?"":(""+ie.key).replace(Qe,"$&/")+"/")+B)),q.push(ie)),1;B=0;var pe=Q===""?".":Q+":";if(W(w))for(var fe=0;fe<w.length;fe++)Q=w[fe],Se=pe+Ge(Q,fe),B+=ne(Q,q,$,Se,ie);else if(fe=_(w),typeof fe=="function")for(w=fe.call(w),fe=0;!(Q=w.next()).done;)Q=Q.value,Se=pe+Ge(Q,fe++),B+=ne(Q,q,$,Se,ie);else if(Se==="object"){if(typeof w.then=="function")return ne(Ht(w),q,$,Q,ie);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return B}function U(w,q,$){if(w==null)return w;var Q=[],ie=0;return ne(w,Q,"","",function(Se){return q.call($,Se,ie++)}),Q}function G(w){if(w._status===-1){var q=w._result;q=q(),q.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return w._result.default;throw w._result}var ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ce(){}return he.Children={map:U,forEach:function(w,q,$){U(w,function(){q.apply(this,arguments)},$)},count:function(w){var q=0;return U(w,function(){q++}),q},toArray:function(w){return U(w,function(q){return q})||[]},only:function(w){if(!re(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},he.Component=N,he.Fragment=i,he.Profiler=o,he.PureComponent=H,he.StrictMode=r,he.Suspense=d,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,he.__COMPILER_RUNTIME={__proto__:null,c:function(w){return P.H.useMemoCache(w)}},he.cache=function(w){return function(){return w.apply(null,arguments)}},he.cloneElement=function(w,q,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Q=S({},w.props),ie=w.key,Se=void 0;if(q!=null)for(B in q.ref!==void 0&&(Se=void 0),q.key!==void 0&&(ie=""+q.key),q)!K.call(q,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&q.ref===void 0||(Q[B]=q[B]);var B=arguments.length-2;if(B===1)Q.children=$;else if(1<B){for(var pe=Array(B),fe=0;fe<B;fe++)pe[fe]=arguments[fe+2];Q.children=pe}return Z(w.type,ie,void 0,void 0,Se,Q)},he.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},he.createElement=function(w,q,$){var Q,ie={},Se=null;if(q!=null)for(Q in q.key!==void 0&&(Se=""+q.key),q)K.call(q,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=q[Q]);var B=arguments.length-2;if(B===1)ie.children=$;else if(1<B){for(var pe=Array(B),fe=0;fe<B;fe++)pe[fe]=arguments[fe+2];ie.children=pe}if(w&&w.defaultProps)for(Q in B=w.defaultProps,B)ie[Q]===void 0&&(ie[Q]=B[Q]);return Z(w,Se,void 0,void 0,null,ie)},he.createRef=function(){return{current:null}},he.forwardRef=function(w){return{$$typeof:h,render:w}},he.isValidElement=re,he.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:G}},he.memo=function(w,q){return{$$typeof:p,type:w,compare:q===void 0?null:q}},he.startTransition=function(w){var q=P.T,$={};P.T=$;try{var Q=w(),ie=P.S;ie!==null&&ie($,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ce,ee)}catch(Se){ee(Se)}finally{P.T=q}},he.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},he.use=function(w){return P.H.use(w)},he.useActionState=function(w,q,$){return P.H.useActionState(w,q,$)},he.useCallback=function(w,q){return P.H.useCallback(w,q)},he.useContext=function(w){return P.H.useContext(w)},he.useDebugValue=function(){},he.useDeferredValue=function(w,q){return P.H.useDeferredValue(w,q)},he.useEffect=function(w,q,$){var Q=P.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(w,q)},he.useId=function(){return P.H.useId()},he.useImperativeHandle=function(w,q,$){return P.H.useImperativeHandle(w,q,$)},he.useInsertionEffect=function(w,q){return P.H.useInsertionEffect(w,q)},he.useLayoutEffect=function(w,q){return P.H.useLayoutEffect(w,q)},he.useMemo=function(w,q){return P.H.useMemo(w,q)},he.useOptimistic=function(w,q){return P.H.useOptimistic(w,q)},he.useReducer=function(w,q,$){return P.H.useReducer(w,q,$)},he.useRef=function(w){return P.H.useRef(w)},he.useState=function(w){return P.H.useState(w)},he.useSyncExternalStore=function(w,q,$){return P.H.useSyncExternalStore(w,q,$)},he.useTransition=function(){return P.H.useTransition()},he.version="19.1.0",he}var l0;function Mm(){return l0||(l0=1,id.exports=S1()),id.exports}var C=Mm();const F=$b(C);var sd={exports:{}},uo={},rd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function T1(){return u0||(u0=1,function(t){function e(U,G){var ee=U.length;U.push(G);e:for(;0<ee;){var Ce=ee-1>>>1,w=U[Ce];if(0<o(w,G))U[Ce]=G,U[ee]=w,ee=Ce;else break e}}function i(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],ee=U.pop();if(ee!==G){U[0]=ee;e:for(var Ce=0,w=U.length,q=w>>>1;Ce<q;){var $=2*(Ce+1)-1,Q=U[$],ie=$+1,Se=U[ie];if(0>o(Q,ee))ie<w&&0>o(Se,Q)?(U[Ce]=Se,U[ie]=ee,Ce=ie):(U[Ce]=Q,U[$]=ee,Ce=$);else if(ie<w&&0>o(Se,ee))U[Ce]=Se,U[ie]=ee,Ce=ie;else break e}}return G}function o(U,G){var ee=U.sortIndex-G.sortIndex;return ee!==0?ee:U.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],g=1,y=null,_=3,b=!1,S=!1,D=!1,N=!1,x=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function W(U){for(var G=i(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=U)r(p),G.sortIndex=G.expirationTime,e(d,G);else break;G=i(p)}}function P(U){if(D=!1,W(U),!S)if(i(d)!==null)S=!0,K||(K=!0,Ge());else{var G=i(p);G!==null&&ne(P,G.startTime-U)}}var K=!1,Z=-1,X=5,re=-1;function me(){return N?!0:!(t.unstable_now()-re<X)}function Qe(){if(N=!1,K){var U=t.unstable_now();re=U;var G=!0;try{e:{S=!1,D&&(D=!1,H(Z),Z=-1),b=!0;var ee=_;try{t:{for(W(U),y=i(d);y!==null&&!(y.expirationTime>U&&me());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,_=y.priorityLevel;var w=Ce(y.expirationTime<=U);if(U=t.unstable_now(),typeof w=="function"){y.callback=w,W(U),G=!0;break t}y===i(d)&&r(d),W(U)}else r(d);y=i(d)}if(y!==null)G=!0;else{var q=i(p);q!==null&&ne(P,q.startTime-U),G=!1}}break e}finally{y=null,_=ee,b=!1}G=void 0}}finally{G?Ge():K=!1}}}var Ge;if(typeof k=="function")Ge=function(){k(Qe)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,Ht=zt.port2;zt.port1.onmessage=Qe,Ge=function(){Ht.postMessage(null)}}else Ge=function(){x(Qe,0)};function ne(U,G){Z=x(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(U){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var ee=_;_=G;try{return U()}finally{_=ee}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=_;_=U;try{return G()}finally{_=ee}},t.unstable_scheduleCallback=function(U,G,ee){var Ce=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ce+ee:Ce):ee=Ce,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,U={id:g++,callback:G,priorityLevel:U,startTime:ee,expirationTime:w,sortIndex:-1},ee>Ce?(U.sortIndex=ee,e(p,U),i(d)===null&&U===i(p)&&(D?(H(Z),Z=-1):D=!0,ne(P,ee-Ce))):(U.sortIndex=w,e(d,U),S||b||(S=!0,K||(K=!0,Ge()))),U},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(U){var G=_;return function(){var ee=_;_=G;try{return U.apply(this,arguments)}finally{_=ee}}}}(ad)),ad}var c0;function C1(){return c0||(c0=1,rd.exports=T1()),rd.exports}var od={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function w1(){if(f0)return St;f0=1;var t=Mm();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,St.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(d,p,null,g)},St.flushSync=function(d){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=g,r.d.f()}},St.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},St.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},St.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},St.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},St.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},St.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},St.requestFormReset=function(d){r.d.r(d)},St.unstable_batchedUpdates=function(d,p){return d(p)},St.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},St.useFormStatus=function(){return c.H.useHostTransitionStatus()},St.version="19.1.0",St}var h0;function A1(){if(h0)return od.exports;h0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),od.exports=w1(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function R1(){if(d0)return uo;d0=1;var t=C1(),e=Mm(),i=A1();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(u(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return h(f),n;if(m===l)return h(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,E=f.child;E;){if(E===a){v=!0,a=f,l=m;break}if(E===l){v=!0,l=f,a=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===a){v=!0,a=m,l=f;break}if(E===l){v=!0,l=m,a=f;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Qe=Symbol.iterator;function Ge(n){return n===null||typeof n!="object"?null:(n=Qe&&n[Qe]||n["@@iterator"],typeof n=="function"?n:null)}var zt=Symbol.for("react.client.reference");function Ht(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===zt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case N:return"Profiler";case D:return"StrictMode";case P:return"Suspense";case K:return"SuspenseList";case re:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case k:return(n.displayName||"Context")+".Provider";case H:return(n._context.displayName||"Context")+".Consumer";case W:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z:return s=n.displayName||null,s!==null?s:Ht(n.type)||"Memo";case X:s=n._payload,n=n._init;try{return Ht(n(s))}catch{}}return null}var ne=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ce=[],w=-1;function q(n){return{current:n}}function $(n){0>w||(n.current=Ce[w],Ce[w]=null,w--)}function Q(n,s){w++,Ce[w]=n.current,n.current=s}var ie=q(null),Se=q(null),B=q(null),pe=q(null);function fe(n,s){switch(Q(B,s),Q(Se,n),Q(ie,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?L_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=L_(s),n=P_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(ie),Q(ie,n)}function we(){$(ie),$(Se),$(B)}function ot(n){n.memoizedState!==null&&Q(pe,n);var s=ie.current,a=P_(s,n.type);s!==a&&(Q(Se,n),Q(ie,a))}function $e(n){Se.current===n&&($(ie),$(Se)),pe.current===n&&($(pe),so._currentValue=ee)}var jt=Object.prototype.hasOwnProperty,mn=t.unstable_scheduleCallback,pn=t.unstable_cancelCallback,Ys=t.unstable_shouldYield,qc=t.unstable_requestPaint,Jt=t.unstable_now,nA=t.unstable_getCurrentPriorityLevel,pg=t.unstable_ImmediatePriority,gg=t.unstable_UserBlockingPriority,yl=t.unstable_NormalPriority,iA=t.unstable_LowPriority,yg=t.unstable_IdlePriority,sA=t.log,rA=t.unstable_setDisableYieldValue,ha=null,Ft=null;function gi(n){if(typeof sA=="function"&&rA(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ha,n)}catch{}}var qt=Math.clz32?Math.clz32:lA,aA=Math.log,oA=Math.LN2;function lA(n){return n>>>=0,n===0?32:31-(aA(n)/oA|0)|0}var vl=256,_l=4194304;function as(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function El(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?f=as(l):(v&=E,v!==0?f=as(v):a||(a=E&~n,a!==0&&(f=as(a))))):(E=l&~m,E!==0?f=as(E):v!==0?f=as(v):a||(a=l&~n,a!==0&&(f=as(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function da(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function uA(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(){var n=vl;return vl<<=1,(vl&4194048)===0&&(vl=256),n}function _g(){var n=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),n}function Gc(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ma(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cA(n,s,a,l,f,m){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var E=n.entanglements,T=n.expirationTimes,O=n.hiddenUpdates;for(a=v&~a;0<a;){var V=31-qt(a),j=1<<V;E[V]=0,T[V]=-1;var I=O[V];if(I!==null)for(O[V]=null,V=0;V<I.length;V++){var L=I[V];L!==null&&(L.lane&=-536870913)}a&=~j}l!==0&&Eg(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~s))}function Eg(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-qt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function bg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-qt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Yc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Kc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sg(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:t0(n.type))}function fA(n,s){var a=G.p;try{return G.p=n,s()}finally{G.p=a}}var yi=Math.random().toString(36).slice(2),Et="__reactFiber$"+yi,Dt="__reactProps$"+yi,Ks="__reactContainer$"+yi,Wc="__reactEvents$"+yi,hA="__reactListeners$"+yi,dA="__reactHandles$"+yi,Tg="__reactResources$"+yi,pa="__reactMarker$"+yi;function Xc(n){delete n[Et],delete n[Dt],delete n[Wc],delete n[hA],delete n[dA]}function Ws(n){var s=n[Et];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ks]||a[Et]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=z_(n);n!==null;){if(a=n[Et])return a;n=z_(n)}return s}n=a,a=n.parentNode}return null}function Xs(n){if(n=n[Et]||n[Ks]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ga(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Qs(n){var s=n[Tg];return s||(s=n[Tg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function lt(n){n[pa]=!0}var Cg=new Set,wg={};function os(n,s){$s(n,s),$s(n+"Capture",s)}function $s(n,s){for(wg[n]=s,n=0;n<s.length;n++)Cg.add(s[n])}var mA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ag={},Rg={};function pA(n){return jt.call(Rg,n)?!0:jt.call(Ag,n)?!1:mA.test(n)?Rg[n]=!0:(Ag[n]=!0,!1)}function bl(n,s,a){if(pA(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Sl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Bn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Qc,xg;function Zs(n){if(Qc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Qc=s&&s[1]||"",xg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qc+n+xg}var $c=!1;function Zc(n,s){if(!n||$c)return"";$c=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(L){var I=L}Reflect.construct(n,[],j)}else{try{j.call()}catch(L){I=L}n.call(j.prototype)}}else{try{throw Error()}catch(L){I=L}(j=n())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var T=v.split(`
`),O=E.split(`
`);for(f=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(l===T.length||f===O.length)for(l=T.length-1,f=O.length-1;1<=l&&0<=f&&T[l]!==O[f];)f--;for(;1<=l&&0<=f;l--,f--)if(T[l]!==O[f]){if(l!==1||f!==1)do if(l--,f--,0>f||T[l]!==O[f]){var V=`
`+T[l].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=l&&0<=f);break}}}finally{$c=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Zs(a):""}function gA(n){switch(n.tag){case 26:case 27:case 5:return Zs(n.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 15:return Zc(n.type,!1);case 11:return Zc(n.type.render,!1);case 1:return Zc(n.type,!0);case 31:return Zs("Activity");default:return""}}function Dg(n){try{var s="";do s+=gA(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ng(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yA(n){var s=Ng(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Tl(n){n._valueTracker||(n._valueTracker=yA(n))}function Mg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Ng(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Cl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var vA=/[\n"\\]/g;function tn(n){return n.replace(vA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Jc(n,s,a,l,f,m,v,E){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+en(s)):n.value!==""+en(s)&&(n.value=""+en(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?ef(n,v,en(s)):a!=null?ef(n,v,en(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+en(E):n.removeAttribute("name")}function Og(n,s,a,l,f,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+en(a):"",s=s!=null?""+en(s):a,E||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=E?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function ef(n,s,a){s==="number"&&Cl(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Js(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+en(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ig(n,s,a){if(s!=null&&(s=""+en(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+en(a):""}function kg(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=en(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function er(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var _A=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lg(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||_A.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Pg(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Lg(n,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Lg(n,m,s[m])}function tf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(n){return bA.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var nf=null;function sf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var tr=null,nr=null;function Ug(n){var s=Xs(n);if(s&&(n=s.stateNode)){var a=n[Dt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Jc(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Dt]||null;if(!f)throw Error(r(90));Jc(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Mg(l)}break e;case"textarea":Ig(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Js(n,!!a.multiple,s,!1)}}}var rf=!1;function Vg(n,s,a){if(rf)return n(s,a);rf=!0;try{var l=n(s);return l}finally{if(rf=!1,(tr!==null||nr!==null)&&(cu(),tr&&(s=tr,n=nr,nr=tr=null,Ug(s),n)))for(s=0;s<n.length;s++)Ug(n[s])}}function ya(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=!1;if(zn)try{var va={};Object.defineProperty(va,"passive",{get:function(){af=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{af=!1}var vi=null,of=null,Al=null;function Bg(){if(Al)return Al;var n,s=of,a=s.length,l,f="value"in vi?vi.value:vi.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[m-l];l++);return Al=f.slice(n,1<l?1-l:void 0)}function Rl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function xl(){return!0}function zg(){return!1}function Nt(n){function s(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xl:zg,this.isPropagationStopped=zg,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),s}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Nt(ls),_a=g({},ls,{view:0,detail:0}),SA=Nt(_a),lf,uf,Ea,Nl=g({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ea&&(Ea&&n.type==="mousemove"?(lf=n.screenX-Ea.screenX,uf=n.screenY-Ea.screenY):uf=lf=0,Ea=n),lf)},movementY:function(n){return"movementY"in n?n.movementY:uf}}),Hg=Nt(Nl),TA=g({},Nl,{dataTransfer:0}),CA=Nt(TA),wA=g({},_a,{relatedTarget:0}),cf=Nt(wA),AA=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),RA=Nt(AA),xA=g({},ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),DA=Nt(xA),NA=g({},ls,{data:0}),jg=Nt(NA),MA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kA(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=IA[n])?!!s[n]:!1}function ff(){return kA}var LA=g({},_a,{key:function(n){if(n.key){var s=MA[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Rl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?OA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(n){return n.type==="keypress"?Rl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Rl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),PA=Nt(LA),UA=g({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fg=Nt(UA),VA=g({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),BA=Nt(VA),zA=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=Nt(zA),jA=g({},Nl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),FA=Nt(jA),qA=g({},ls,{newState:0,oldState:0}),GA=Nt(qA),YA=[9,13,27,32],hf=zn&&"CompositionEvent"in window,ba=null;zn&&"documentMode"in document&&(ba=document.documentMode);var KA=zn&&"TextEvent"in window&&!ba,qg=zn&&(!hf||ba&&8<ba&&11>=ba),Gg=" ",Yg=!1;function Kg(n,s){switch(n){case"keyup":return YA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ir=!1;function WA(n,s){switch(n){case"compositionend":return Wg(s);case"keypress":return s.which!==32?null:(Yg=!0,Gg);case"textInput":return n=s.data,n===Gg&&Yg?null:n;default:return null}}function XA(n,s){if(ir)return n==="compositionend"||!hf&&Kg(n,s)?(n=Bg(),Al=of=vi=null,ir=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qg&&s.locale!=="ko"?null:s.data;default:return null}}var QA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!QA[n.type]:s==="textarea"}function Qg(n,s,a,l){tr?nr?nr.push(l):nr=[l]:tr=l,s=gu(s,"onChange"),0<s.length&&(a=new Dl("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Sa=null,Ta=null;function $A(n){N_(n,0)}function Ml(n){var s=ga(n);if(Mg(s))return n}function $g(n,s){if(n==="change")return s}var Zg=!1;if(zn){var df;if(zn){var mf="oninput"in document;if(!mf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),mf=typeof Jg.oninput=="function"}df=mf}else df=!1;Zg=df&&(!document.documentMode||9<document.documentMode)}function ey(){Sa&&(Sa.detachEvent("onpropertychange",ty),Ta=Sa=null)}function ty(n){if(n.propertyName==="value"&&Ml(Ta)){var s=[];Qg(s,Ta,n,sf(n)),Vg($A,s)}}function ZA(n,s,a){n==="focusin"?(ey(),Sa=s,Ta=a,Sa.attachEvent("onpropertychange",ty)):n==="focusout"&&ey()}function JA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ml(Ta)}function eR(n,s){if(n==="click")return Ml(s)}function tR(n,s){if(n==="input"||n==="change")return Ml(s)}function nR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Gt=typeof Object.is=="function"?Object.is:nR;function Ca(n,s){if(Gt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!jt.call(s,f)||!Gt(n[f],s[f]))return!1}return!0}function ny(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iy(n,s){var a=ny(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ny(a)}}function sy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?sy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ry(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Cl(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Cl(n.document)}return s}function pf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var iR=zn&&"documentMode"in document&&11>=document.documentMode,sr=null,gf=null,wa=null,yf=!1;function ay(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||sr==null||sr!==Cl(l)||(l=sr,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wa&&Ca(wa,l)||(wa=l,l=gu(gf,"onSelect"),0<l.length&&(s=new Dl("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=sr)))}function us(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var rr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},vf={},oy={};zn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function cs(n){if(vf[n])return vf[n];if(!rr[n])return n;var s=rr[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in oy)return vf[n]=s[a];return n}var ly=cs("animationend"),uy=cs("animationiteration"),cy=cs("animationstart"),sR=cs("transitionrun"),rR=cs("transitionstart"),aR=cs("transitioncancel"),fy=cs("transitionend"),hy=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function gn(n,s){hy.set(n,s),os(s,[n])}var dy=new WeakMap;function nn(n,s){if(typeof n=="object"&&n!==null){var a=dy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Dg(s)},dy.set(n,s),s)}return{value:n,source:s,stack:Dg(s)}}var sn=[],ar=0,Ef=0;function Ol(){for(var n=ar,s=Ef=ar=0;s<n;){var a=sn[s];sn[s++]=null;var l=sn[s];sn[s++]=null;var f=sn[s];sn[s++]=null;var m=sn[s];if(sn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&my(a,f,m)}}function Il(n,s,a,l){sn[ar++]=n,sn[ar++]=s,sn[ar++]=a,sn[ar++]=l,Ef|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function bf(n,s,a,l){return Il(n,s,a,l),kl(n)}function or(n,s){return Il(n,null,null,s),kl(n)}function my(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-qt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function kl(n){if(50<Qa)throw Qa=0,Rh=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var lr={};function oR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(n,s,a,l){return new oR(n,s,a,l)}function Sf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hn(n,s){var a=n.alternate;return a===null?(a=Yt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function py(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ll(n,s,a,l,f,m){var v=0;if(l=n,typeof n=="function")Sf(n)&&(v=1);else if(typeof n=="string")v=u1(n,a,ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case re:return n=Yt(31,a,s,f),n.elementType=re,n.lanes=m,n;case S:return fs(a.children,f,m,s);case D:v=8,f|=24;break;case N:return n=Yt(12,a,s,f|2),n.elementType=N,n.lanes=m,n;case P:return n=Yt(13,a,s,f),n.elementType=P,n.lanes=m,n;case K:return n=Yt(19,a,s,f),n.elementType=K,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case k:v=10;break e;case H:v=9;break e;case W:v=11;break e;case Z:v=14;break e;case X:v=16,l=null;break e}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Yt(v,a,s,f),s.elementType=n,s.type=l,s.lanes=m,s}function fs(n,s,a,l){return n=Yt(7,n,l,s),n.lanes=a,n}function Tf(n,s,a){return n=Yt(6,n,null,s),n.lanes=a,n}function Cf(n,s,a){return s=Yt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ur=[],cr=0,Pl=null,Ul=0,rn=[],an=0,hs=null,jn=1,Fn="";function ds(n,s){ur[cr++]=Ul,ur[cr++]=Pl,Pl=n,Ul=s}function gy(n,s,a){rn[an++]=jn,rn[an++]=Fn,rn[an++]=hs,hs=n;var l=jn;n=Fn;var f=32-qt(l)-1;l&=~(1<<f),a+=1;var m=32-qt(s)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,jn=1<<32-qt(s)+f|a<<f|l,Fn=m+n}else jn=1<<m|a<<f|l,Fn=n}function wf(n){n.return!==null&&(ds(n,1),gy(n,1,0))}function Af(n){for(;n===Pl;)Pl=ur[--cr],ur[cr]=null,Ul=ur[--cr],ur[cr]=null;for(;n===hs;)hs=rn[--an],rn[an]=null,Fn=rn[--an],rn[an]=null,jn=rn[--an],rn[an]=null}var At=null,Ye=null,Re=!1,ms=null,Dn=!1,Rf=Error(r(519));function ps(n){var s=Error(r(418,""));throw xa(nn(s,n)),Rf}function yy(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Et]=n,s[Dt]=l,a){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(a=0;a<Za.length;a++)Ee(Za[a],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":Ee("invalid",s),Og(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Tl(s);break;case"select":Ee("invalid",s);break;case"textarea":Ee("invalid",s),kg(s,l.value,l.defaultValue,l.children),Tl(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||k_(s.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",s),Ee("toggle",s)),l.onScroll!=null&&Ee("scroll",s),l.onScrollEnd!=null&&Ee("scrollend",s),l.onClick!=null&&(s.onclick=yu),s=!0):s=!1,s||ps(n)}function vy(n){for(At=n.return;At;)switch(At.tag){case 5:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:At=At.return}}function Aa(n){if(n!==At)return!1;if(!Re)return vy(n),Re=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Fh(n.type,n.memoizedProps)),a=!a),a&&Ye&&ps(n),vy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){Ye=vn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}Ye=null}}else s===27?(s=Ye,ki(n.type)?(n=Kh,Kh=null,Ye=n):Ye=s):Ye=At?vn(n.stateNode.nextSibling):null;return!0}function Ra(){Ye=At=null,Re=!1}function _y(){var n=ms;return n!==null&&(It===null?It=n:It.push.apply(It,n),ms=null),n}function xa(n){ms===null?ms=[n]:ms.push(n)}var xf=q(null),gs=null,qn=null;function _i(n,s,a){Q(xf,s._currentValue),s._currentValue=a}function Gn(n){n._currentValue=xf.current,$(xf)}function Df(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Nf(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var T=0;T<s.length;T++)if(E.context===s[T]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Df(m.return,a,n),l||(v=null);break e}m=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Df(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Da(n,s,a,l){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=f.type;Gt(f.pendingProps.value,v.value)||(n!==null?n.push(E):n=[E])}}else if(f===pe.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(so):n=[so])}f=f.return}n!==null&&Nf(s,n,a,l),s.flags|=262144}function Vl(n){for(n=n.firstContext;n!==null;){if(!Gt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ys(n){gs=n,qn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function bt(n){return Ey(gs,n)}function Bl(n,s){return gs===null&&ys(n),Ey(n,s)}function Ey(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},qn===null){if(n===null)throw Error(r(308));qn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else qn=qn.next=s;return a}var lR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},uR=t.unstable_scheduleCallback,cR=t.unstable_NormalPriority,it={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new lR,data:new Map,refCount:0}}function Na(n){n.refCount--,n.refCount===0&&uR(cR,function(){n.controller.abort()})}var Ma=null,Of=0,fr=0,hr=null;function fR(n,s){if(Ma===null){var a=Ma=[];Of=0,fr=kh(),hr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,s.then(by,by),s}function by(){if(--Of===0&&Ma!==null){hr!==null&&(hr.status="fulfilled");var n=Ma;Ma=null,fr=0,hr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function hR(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Sy=U.S;U.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&fR(n,s),Sy!==null&&Sy(n,s)};var vs=q(null);function If(){var n=vs.current;return n!==null?n:Ue.pooledCache}function zl(n,s){s===null?Q(vs,vs.current):Q(vs,s.pool)}function Ty(){var n=If();return n===null?null:{parent:it._currentValue,pool:n}}var Oa=Error(r(460)),Cy=Error(r(474)),Hl=Error(r(542)),kf={then:function(){}};function wy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function jl(){}function Ay(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(jl,jl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,xy(n),n;default:if(typeof s.status=="string")s.then(jl,jl);else{if(n=Ue,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,xy(n),n}throw Ia=s,Oa}}var Ia=null;function Ry(){if(Ia===null)throw Error(r(459));var n=Ia;return Ia=null,n}function xy(n){if(n===Oa||n===Hl)throw Error(r(483))}var Ei=!1;function Lf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Si(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(De&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=kl(n),my(n,null,a),s}return Il(n,l,s,a),kl(n)}function ka(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,bg(n,a)}}function Uf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Vf=!1;function La(){if(Vf){var n=hr;if(n!==null)throw n}}function Pa(n,s,a,l){Vf=!1;var f=n.updateQueue;Ei=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var T=E,O=T.next;T.next=null,v===null?m=O:v.next=O,v=T;var V=n.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==v&&(E===null?V.firstBaseUpdate=O:E.next=O,V.lastBaseUpdate=T))}if(m!==null){var j=f.baseState;v=0,V=O=T=null,E=m;do{var I=E.lane&-536870913,L=I!==E.lane;if(L?(Te&I)===I:(l&I)===I){I!==0&&I===fr&&(Vf=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=n,se=E;I=s;var Ie=a;switch(se.tag){case 1:if(le=se.payload,typeof le=="function"){j=le.call(Ie,j,I);break e}j=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=se.payload,I=typeof le=="function"?le.call(Ie,j,I):le,I==null)break e;j=g({},j,I);break e;case 2:Ei=!0}}I=E.callback,I!==null&&(n.flags|=64,L&&(n.flags|=8192),L=f.callbacks,L===null?f.callbacks=[I]:L.push(I))}else L={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(O=V=L,T=j):V=V.next=L,v|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;L=E,E=L.next,L.next=null,f.lastBaseUpdate=L,f.shared.pending=null}}while(!0);V===null&&(T=j),f.baseState=T,f.firstBaseUpdate=O,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),Ni|=v,n.lanes=v,n.memoizedState=j}}function Dy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ny(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Dy(a[n],s)}var dr=q(null),Fl=q(0);function My(n,s){n=Zn,Q(Fl,n),Q(dr,s),Zn=n|s.baseLanes}function Bf(){Q(Fl,Zn),Q(dr,dr.current)}function zf(){Zn=Fl.current,$(dr),$(Fl)}var Ti=0,de=null,Me=null,tt=null,ql=!1,mr=!1,_s=!1,Gl=0,Ua=0,pr=null,dR=0;function Ze(){throw Error(r(321))}function Hf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Gt(n[a],s[a]))return!1;return!0}function jf(n,s,a,l,f,m){return Ti=m,de=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=n===null||n.memoizedState===null?mv:pv,_s=!1,m=a(l,f),_s=!1,mr&&(m=Iy(s,a,l,f)),Oy(n),m}function Oy(n){U.H=$l;var s=Me!==null&&Me.next!==null;if(Ti=0,tt=Me=de=null,ql=!1,Ua=0,pr=null,s)throw Error(r(300));n===null||ut||(n=n.dependencies,n!==null&&Vl(n)&&(ut=!0))}function Iy(n,s,a,l){de=n;var f=0;do{if(mr&&(pr=null),Ua=0,mr=!1,25<=f)throw Error(r(301));if(f+=1,tt=Me=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=ER,m=s(a,l)}while(mr);return m}function mR(){var n=U.H,s=n.useState()[0];return s=typeof s.then=="function"?Va(s):s,n=n.useState()[0],(Me!==null?Me.memoizedState:null)!==n&&(de.flags|=1024),s}function Ff(){var n=Gl!==0;return Gl=0,n}function qf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Gf(n){if(ql){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ql=!1}Ti=0,tt=Me=de=null,mr=!1,Ua=Gl=0,pr=null}function Mt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?de.memoizedState=tt=n:tt=tt.next=n,tt}function nt(){if(Me===null){var n=de.alternate;n=n!==null?n.memoizedState:null}else n=Me.next;var s=tt===null?de.memoizedState:tt.next;if(s!==null)tt=s,Me=n;else{if(n===null)throw de.alternate===null?Error(r(467)):Error(r(310));Me=n,n={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},tt===null?de.memoizedState=tt=n:tt=tt.next=n}return tt}function Yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(n){var s=Ua;return Ua+=1,pr===null&&(pr=[]),n=Ay(pr,n,s),s=de,(tt===null?s.memoizedState:tt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?mv:pv),n}function Yl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Va(n);if(n.$$typeof===k)return bt(n)}throw Error(r(438,String(n)))}function Kf(n){var s=null,a=de.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=de.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Yf(),de.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=me;return s.index++,a}function Yn(n,s){return typeof s=="function"?s(n):s}function Kl(n){var s=nt();return Wf(s,Me,n)}function Wf(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var E=v=null,T=null,O=s,V=!1;do{var j=O.lane&-536870913;if(j!==O.lane?(Te&j)===j:(Ti&j)===j){var I=O.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),j===fr&&(V=!0);else if((Ti&I)===I){O=O.next,I===fr&&(V=!0);continue}else j={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=j,v=m):T=T.next=j,de.lanes|=I,Ni|=I;j=O.action,_s&&a(m,j),m=O.hasEagerState?O.eagerState:a(m,j)}else I={lane:j,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(E=T=I,v=m):T=T.next=I,de.lanes|=j,Ni|=j;O=O.next}while(O!==null&&O!==s);if(T===null?v=m:T.next=E,!Gt(m,n.memoizedState)&&(ut=!0,V&&(a=hr,a!==null)))throw a;n.memoizedState=m,n.baseState=v,n.baseQueue=T,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Xf(n){var s=nt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);Gt(m,s.memoizedState)||(ut=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function ky(n,s,a){var l=de,f=nt(),m=Re;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Gt((Me||f).memoizedState,a);v&&(f.memoizedState=a,ut=!0),f=f.queue;var E=Uy.bind(null,l,f,n);if(Ba(2048,8,E,[n]),f.getSnapshot!==s||v||tt!==null&&tt.memoizedState.tag&1){if(l.flags|=2048,gr(9,Wl(),Py.bind(null,l,f,a,s),null),Ue===null)throw Error(r(349));m||(Ti&124)!==0||Ly(l,s,a)}return a}function Ly(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=de.updateQueue,s===null?(s=Yf(),de.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Py(n,s,a,l){s.value=a,s.getSnapshot=l,Vy(s)&&By(n)}function Uy(n,s,a){return a(function(){Vy(s)&&By(n)})}function Vy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Gt(n,a)}catch{return!0}}function By(n){var s=or(n,2);s!==null&&$t(s,n,2)}function Qf(n){var s=Mt();if(typeof n=="function"){var a=n;if(n=a(),_s){gi(!0);try{a()}finally{gi(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:n},s}function zy(n,s,a,l){return n.baseState=a,Wf(n,Me,typeof l=="function"?l:Yn)}function pR(n,s,a,l,f){if(Ql(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};U.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Hy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Hy(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var m=U.T,v={};U.T=v;try{var E=a(f,l),T=U.S;T!==null&&T(v,E),jy(n,s,E)}catch(O){$f(n,s,O)}finally{U.T=m}}else try{m=a(f,l),jy(n,s,m)}catch(O){$f(n,s,O)}}function jy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fy(n,s,l)},function(l){return $f(n,s,l)}):Fy(n,s,a)}function Fy(n,s,a){s.status="fulfilled",s.value=a,qy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Hy(n,a)))}function $f(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,qy(s),s=s.next;while(s!==l)}n.action=null}function qy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Gy(n,s){return s}function Yy(n,s){if(Re){var a=Ue.formState;if(a!==null){e:{var l=de;if(Re){if(Ye){t:{for(var f=Ye,m=Dn;f.nodeType!==8;){if(!m){f=null;break t}if(f=vn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ye=vn(f.nextSibling),l=f.data==="F!";break e}}ps(l)}l=!1}l&&(s=a[0])}}return a=Mt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:s},a.queue=l,a=fv.bind(null,de,l),l.dispatch=a,l=Qf(!1),m=nh.bind(null,de,!1,l.queue),l=Mt(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=pR.bind(null,de,f,m,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Ky(n){var s=nt();return Wy(s,Me,n)}function Wy(n,s,a){if(s=Wf(n,s,Gy)[0],n=Kl(Yn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Va(s)}catch(v){throw v===Oa?Hl:v}else l=s;s=nt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(de.flags|=2048,gr(9,Wl(),gR.bind(null,f,a),null)),[l,m,n]}function gR(n,s){n.action=s}function Xy(n){var s=nt(),a=Me;if(a!==null)return Wy(s,a,n);nt(),s=s.memoizedState,a=nt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function gr(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=de.updateQueue,s===null&&(s=Yf(),de.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Wl(){return{destroy:void 0,resource:void 0}}function Qy(){return nt().memoizedState}function Xl(n,s,a,l){var f=Mt();l=l===void 0?null:l,de.flags|=n,f.memoizedState=gr(1|s,Wl(),a,l)}function Ba(n,s,a,l){var f=nt();l=l===void 0?null:l;var m=f.memoizedState.inst;Me!==null&&l!==null&&Hf(l,Me.memoizedState.deps)?f.memoizedState=gr(s,m,a,l):(de.flags|=n,f.memoizedState=gr(1|s,m,a,l))}function $y(n,s){Xl(8390656,8,n,s)}function Zy(n,s){Ba(2048,8,n,s)}function Jy(n,s){return Ba(4,2,n,s)}function ev(n,s){return Ba(4,4,n,s)}function tv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function nv(n,s,a){a=a!=null?a.concat([n]):null,Ba(4,4,tv.bind(null,s,n),a)}function Zf(){}function iv(n,s){var a=nt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Hf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function sv(n,s){var a=nt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Hf(s,l[1]))return l[0];if(l=n(),_s){gi(!0);try{n()}finally{gi(!1)}}return a.memoizedState=[l,s],l}function Jf(n,s,a){return a===void 0||(Ti&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=o_(),de.lanes|=n,Ni|=n,a)}function rv(n,s,a,l){return Gt(a,s)?a:dr.current!==null?(n=Jf(n,a,l),Gt(n,s)||(ut=!0),n):(Ti&42)===0?(ut=!0,n.memoizedState=a):(n=o_(),de.lanes|=n,Ni|=n,s)}function av(n,s,a,l,f){var m=G.p;G.p=m!==0&&8>m?m:8;var v=U.T,E={};U.T=E,nh(n,!1,s,a);try{var T=f(),O=U.S;if(O!==null&&O(E,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var V=hR(T,l);za(n,s,V,Qt(n))}else za(n,s,l,Qt(n))}catch(j){za(n,s,{then:function(){},status:"rejected",reason:j},Qt())}finally{G.p=m,U.T=v}}function yR(){}function eh(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=ov(n).queue;av(n,f,s,ee,a===null?yR:function(){return lv(n),a(l)})}function ov(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:ee},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function lv(n){var s=ov(n).next.queue;za(n,s,{},Qt())}function th(){return bt(so)}function uv(){return nt().memoizedState}function cv(){return nt().memoizedState}function vR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Qt();n=bi(a);var l=Si(s,n,a);l!==null&&($t(l,s,a),ka(l,s,a)),s={cache:Mf()},n.payload=s;return}s=s.return}}function _R(n,s,a){var l=Qt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ql(n)?hv(s,a):(a=bf(n,s,a,l),a!==null&&($t(a,n,l),dv(a,s,l)))}function fv(n,s,a){var l=Qt();za(n,s,a,l)}function za(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ql(n))hv(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,E=m(v,a);if(f.hasEagerState=!0,f.eagerState=E,Gt(E,v))return Il(n,s,f,0),Ue===null&&Ol(),!1}catch{}finally{}if(a=bf(n,s,f,l),a!==null)return $t(a,n,l),dv(a,s,l),!0}return!1}function nh(n,s,a,l){if(l={lane:2,revertLane:kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ql(n)){if(s)throw Error(r(479))}else s=bf(n,a,l,2),s!==null&&$t(s,n,2)}function Ql(n){var s=n.alternate;return n===de||s!==null&&s===de}function hv(n,s){mr=ql=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function dv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,bg(n,a)}}var $l={readContext:bt,use:Yl,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},mv={readContext:bt,use:Yl,useCallback:function(n,s){return Mt().memoizedState=[n,s===void 0?null:s],n},useContext:bt,useEffect:$y,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Xl(4194308,4,tv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Xl(4194308,4,n,s)},useInsertionEffect:function(n,s){Xl(4,2,n,s)},useMemo:function(n,s){var a=Mt();s=s===void 0?null:s;var l=n();if(_s){gi(!0);try{n()}finally{gi(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Mt();if(a!==void 0){var f=a(s);if(_s){gi(!0);try{a(s)}finally{gi(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=_R.bind(null,de,n),[l.memoizedState,n]},useRef:function(n){var s=Mt();return n={current:n},s.memoizedState=n},useState:function(n){n=Qf(n);var s=n.queue,a=fv.bind(null,de,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(n,s){var a=Mt();return Jf(a,n,s)},useTransition:function(){var n=Qf(!1);return n=av.bind(null,de,n.queue,!0,!1),Mt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=de,f=Mt();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Ue===null)throw Error(r(349));(Te&124)!==0||Ly(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,$y(Uy.bind(null,l,m,n),[n]),l.flags|=2048,gr(9,Wl(),Py.bind(null,l,m,a,s),null),a},useId:function(){var n=Mt(),s=Ue.identifierPrefix;if(Re){var a=Fn,l=jn;a=(l&~(1<<32-qt(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Gl++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=dR++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:th,useFormState:Yy,useActionState:Yy,useOptimistic:function(n){var s=Mt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=nh.bind(null,de,!0,a),a.dispatch=s,[n,s]},useMemoCache:Kf,useCacheRefresh:function(){return Mt().memoizedState=vR.bind(null,de)}},pv={readContext:bt,use:Yl,useCallback:iv,useContext:bt,useEffect:Zy,useImperativeHandle:nv,useInsertionEffect:Jy,useLayoutEffect:ev,useMemo:sv,useReducer:Kl,useRef:Qy,useState:function(){return Kl(Yn)},useDebugValue:Zf,useDeferredValue:function(n,s){var a=nt();return rv(a,Me.memoizedState,n,s)},useTransition:function(){var n=Kl(Yn)[0],s=nt().memoizedState;return[typeof n=="boolean"?n:Va(n),s]},useSyncExternalStore:ky,useId:uv,useHostTransitionStatus:th,useFormState:Ky,useActionState:Ky,useOptimistic:function(n,s){var a=nt();return zy(a,Me,n,s)},useMemoCache:Kf,useCacheRefresh:cv},ER={readContext:bt,use:Yl,useCallback:iv,useContext:bt,useEffect:Zy,useImperativeHandle:nv,useInsertionEffect:Jy,useLayoutEffect:ev,useMemo:sv,useReducer:Xf,useRef:Qy,useState:function(){return Xf(Yn)},useDebugValue:Zf,useDeferredValue:function(n,s){var a=nt();return Me===null?Jf(a,n,s):rv(a,Me.memoizedState,n,s)},useTransition:function(){var n=Xf(Yn)[0],s=nt().memoizedState;return[typeof n=="boolean"?n:Va(n),s]},useSyncExternalStore:ky,useId:uv,useHostTransitionStatus:th,useFormState:Xy,useActionState:Xy,useOptimistic:function(n,s){var a=nt();return Me!==null?zy(a,Me,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:cv},yr=null,Ha=0;function Zl(n){var s=Ha;return Ha+=1,yr===null&&(yr=[]),Ay(yr,n,s)}function ja(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Jl(n,s){throw s.$$typeof===y?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function gv(n){var s=n._init;return s(n._payload)}function yv(n){function s(R,A){if(n){var M=R.deletions;M===null?(R.deletions=[A],R.flags|=16):M.push(A)}}function a(R,A){if(!n)return null;for(;A!==null;)s(R,A),A=A.sibling;return null}function l(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function f(R,A){return R=Hn(R,A),R.index=0,R.sibling=null,R}function m(R,A,M){return R.index=M,n?(M=R.alternate,M!==null?(M=M.index,M<A?(R.flags|=67108866,A):M):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function v(R){return n&&R.alternate===null&&(R.flags|=67108866),R}function E(R,A,M,z){return A===null||A.tag!==6?(A=Tf(M,R.mode,z),A.return=R,A):(A=f(A,M),A.return=R,A)}function T(R,A,M,z){var J=M.type;return J===S?V(R,A,M.props.children,z,M.key):A!==null&&(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===X&&gv(J)===A.type)?(A=f(A,M.props),ja(A,M),A.return=R,A):(A=Ll(M.type,M.key,M.props,null,R.mode,z),ja(A,M),A.return=R,A)}function O(R,A,M,z){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=Cf(M,R.mode,z),A.return=R,A):(A=f(A,M.children||[]),A.return=R,A)}function V(R,A,M,z,J){return A===null||A.tag!==7?(A=fs(M,R.mode,z,J),A.return=R,A):(A=f(A,M),A.return=R,A)}function j(R,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Tf(""+A,R.mode,M),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return M=Ll(A.type,A.key,A.props,null,R.mode,M),ja(M,A),M.return=R,M;case b:return A=Cf(A,R.mode,M),A.return=R,A;case X:var z=A._init;return A=z(A._payload),j(R,A,M)}if(ne(A)||Ge(A))return A=fs(A,R.mode,M,null),A.return=R,A;if(typeof A.then=="function")return j(R,Zl(A),M);if(A.$$typeof===k)return j(R,Bl(R,A),M);Jl(R,A)}return null}function I(R,A,M,z){var J=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return J!==null?null:E(R,A,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===J?T(R,A,M,z):null;case b:return M.key===J?O(R,A,M,z):null;case X:return J=M._init,M=J(M._payload),I(R,A,M,z)}if(ne(M)||Ge(M))return J!==null?null:V(R,A,M,z,null);if(typeof M.then=="function")return I(R,A,Zl(M),z);if(M.$$typeof===k)return I(R,A,Bl(R,M),z);Jl(R,M)}return null}function L(R,A,M,z,J){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return R=R.get(M)||null,E(A,R,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return R=R.get(z.key===null?M:z.key)||null,T(A,R,z,J);case b:return R=R.get(z.key===null?M:z.key)||null,O(A,R,z,J);case X:var ge=z._init;return z=ge(z._payload),L(R,A,M,z,J)}if(ne(z)||Ge(z))return R=R.get(M)||null,V(A,R,z,J,null);if(typeof z.then=="function")return L(R,A,M,Zl(z),J);if(z.$$typeof===k)return L(R,A,M,Bl(A,z),J);Jl(A,z)}return null}function le(R,A,M,z){for(var J=null,ge=null,te=A,ae=A=0,ft=null;te!==null&&ae<M.length;ae++){te.index>ae?(ft=te,te=null):ft=te.sibling;var Ae=I(R,te,M[ae],z);if(Ae===null){te===null&&(te=ft);break}n&&te&&Ae.alternate===null&&s(R,te),A=m(Ae,A,ae),ge===null?J=Ae:ge.sibling=Ae,ge=Ae,te=ft}if(ae===M.length)return a(R,te),Re&&ds(R,ae),J;if(te===null){for(;ae<M.length;ae++)te=j(R,M[ae],z),te!==null&&(A=m(te,A,ae),ge===null?J=te:ge.sibling=te,ge=te);return Re&&ds(R,ae),J}for(te=l(te);ae<M.length;ae++)ft=L(te,R,ae,M[ae],z),ft!==null&&(n&&ft.alternate!==null&&te.delete(ft.key===null?ae:ft.key),A=m(ft,A,ae),ge===null?J=ft:ge.sibling=ft,ge=ft);return n&&te.forEach(function(Bi){return s(R,Bi)}),Re&&ds(R,ae),J}function se(R,A,M,z){if(M==null)throw Error(r(151));for(var J=null,ge=null,te=A,ae=A=0,ft=null,Ae=M.next();te!==null&&!Ae.done;ae++,Ae=M.next()){te.index>ae?(ft=te,te=null):ft=te.sibling;var Bi=I(R,te,Ae.value,z);if(Bi===null){te===null&&(te=ft);break}n&&te&&Bi.alternate===null&&s(R,te),A=m(Bi,A,ae),ge===null?J=Bi:ge.sibling=Bi,ge=Bi,te=ft}if(Ae.done)return a(R,te),Re&&ds(R,ae),J;if(te===null){for(;!Ae.done;ae++,Ae=M.next())Ae=j(R,Ae.value,z),Ae!==null&&(A=m(Ae,A,ae),ge===null?J=Ae:ge.sibling=Ae,ge=Ae);return Re&&ds(R,ae),J}for(te=l(te);!Ae.done;ae++,Ae=M.next())Ae=L(te,R,ae,Ae.value,z),Ae!==null&&(n&&Ae.alternate!==null&&te.delete(Ae.key===null?ae:Ae.key),A=m(Ae,A,ae),ge===null?J=Ae:ge.sibling=Ae,ge=Ae);return n&&te.forEach(function(b1){return s(R,b1)}),Re&&ds(R,ae),J}function Ie(R,A,M,z){if(typeof M=="object"&&M!==null&&M.type===S&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var J=M.key;A!==null;){if(A.key===J){if(J=M.type,J===S){if(A.tag===7){a(R,A.sibling),z=f(A,M.props.children),z.return=R,R=z;break e}}else if(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===X&&gv(J)===A.type){a(R,A.sibling),z=f(A,M.props),ja(z,M),z.return=R,R=z;break e}a(R,A);break}else s(R,A);A=A.sibling}M.type===S?(z=fs(M.props.children,R.mode,z,M.key),z.return=R,R=z):(z=Ll(M.type,M.key,M.props,null,R.mode,z),ja(z,M),z.return=R,R=z)}return v(R);case b:e:{for(J=M.key;A!==null;){if(A.key===J)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(R,A.sibling),z=f(A,M.children||[]),z.return=R,R=z;break e}else{a(R,A);break}else s(R,A);A=A.sibling}z=Cf(M,R.mode,z),z.return=R,R=z}return v(R);case X:return J=M._init,M=J(M._payload),Ie(R,A,M,z)}if(ne(M))return le(R,A,M,z);if(Ge(M)){if(J=Ge(M),typeof J!="function")throw Error(r(150));return M=J.call(M),se(R,A,M,z)}if(typeof M.then=="function")return Ie(R,A,Zl(M),z);if(M.$$typeof===k)return Ie(R,A,Bl(R,M),z);Jl(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(R,A.sibling),z=f(A,M),z.return=R,R=z):(a(R,A),z=Tf(M,R.mode,z),z.return=R,R=z),v(R)):a(R,A)}return function(R,A,M,z){try{Ha=0;var J=Ie(R,A,M,z);return yr=null,J}catch(te){if(te===Oa||te===Hl)throw te;var ge=Yt(29,te,null,R.mode);return ge.lanes=z,ge.return=R,ge}finally{}}}var vr=yv(!0),vv=yv(!1),on=q(null),Nn=null;function Ci(n){var s=n.alternate;Q(st,st.current&1),Q(on,n),Nn===null&&(s===null||dr.current!==null||s.memoizedState!==null)&&(Nn=n)}function _v(n){if(n.tag===22){if(Q(st,st.current),Q(on,n),Nn===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Nn=n)}}else wi()}function wi(){Q(st,st.current),Q(on,on.current)}function Kn(n){$(on),Nn===n&&(Nn=null),$(st)}var st=q(0);function eu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Yh(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ih(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var sh={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Qt(),f=bi(l);f.payload=s,a!=null&&(f.callback=a),s=Si(n,f,l),s!==null&&($t(s,n,l),ka(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Qt(),f=bi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Si(n,f,l),s!==null&&($t(s,n,l),ka(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Qt(),l=bi(a);l.tag=2,s!=null&&(l.callback=s),s=Si(n,l,a),s!==null&&($t(s,n,a),ka(s,n,a))}};function Ev(n,s,a,l,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,v):s.prototype&&s.prototype.isPureReactComponent?!Ca(a,l)||!Ca(f,m):!0}function bv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&sh.enqueueReplaceState(s,s.state,null)}function Es(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=g({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var tu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Sv(n){tu(n)}function Tv(n){console.error(n)}function Cv(n){tu(n)}function nu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function wv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rh(n,s,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){nu(n,s)},a}function Av(n){return n=bi(n),n.tag=3,n}function Rv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){wv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){wv(s,a,l),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function bR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Da(s,a,f,!0),a=on.current,a!==null){switch(a.tag){case 13:return Nn===null?Dh():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===kf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Mh(n,l,f)),!1;case 22:return a.flags|=65536,l===kf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Mh(n,l,f)),!1}throw Error(r(435,a.tag))}return Mh(n,l,f),Dh(),!1}if(Re)return s=on.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Rf&&(n=Error(r(422),{cause:l}),xa(nn(n,a)))):(l!==Rf&&(s=Error(r(423),{cause:l}),xa(nn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=nn(l,a),f=rh(n.stateNode,l,f),Uf(n,f),Ke!==4&&(Ke=2)),!1;var m=Error(r(520),{cause:l});if(m=nn(m,a),Xa===null?Xa=[m]:Xa.push(m),Ke!==4&&(Ke=2),s===null)return!0;l=nn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=rh(a.stateNode,l,n),Uf(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Av(f),Rv(f,n,a,l),Uf(a,f),!1}a=a.return}while(a!==null);return!1}var xv=Error(r(461)),ut=!1;function pt(n,s,a,l){s.child=n===null?vv(s,null,a,l):vr(s,n.child,a,l)}function Dv(n,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ys(s),l=jf(n,s,a,v,m,f),E=Ff(),n!==null&&!ut?(qf(n,s,f),Wn(n,s,f)):(Re&&E&&wf(s),s.flags|=1,pt(n,s,l,f),s.child)}function Nv(n,s,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Sf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Mv(n,s,m,l,f)):(n=Ll(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!dh(n,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ca,a(v,l)&&n.ref===s.ref)return Wn(n,s,f)}return s.flags|=1,n=Hn(m,l),n.ref=s.ref,n.return=s,s.child=n}function Mv(n,s,a,l,f){if(n!==null){var m=n.memoizedProps;if(Ca(m,l)&&n.ref===s.ref)if(ut=!1,s.pendingProps=l=m,dh(n,f))(n.flags&131072)!==0&&(ut=!0);else return s.lanes=n.lanes,Wn(n,s,f)}return ah(n,s,a,l,f)}function Ov(n,s,a){var l=s.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=s.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Iv(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&zl(s,m!==null?m.cachePool:null),m!==null?My(s,m):Bf(),_v(s);else return s.lanes=s.childLanes=536870912,Iv(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(zl(s,m.cachePool),My(s,m),wi(),s.memoizedState=null):(n!==null&&zl(s,null),Bf(),wi());return pt(n,s,f,a),s.child}function Iv(n,s,a,l){var f=If();return f=f===null?null:{parent:it._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&zl(s,null),Bf(),_v(s),n!==null&&Da(n,s,l,!0),null}function iu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function ah(n,s,a,l,f){return ys(s),a=jf(n,s,a,l,void 0,f),l=Ff(),n!==null&&!ut?(qf(n,s,f),Wn(n,s,f)):(Re&&l&&wf(s),s.flags|=1,pt(n,s,a,f),s.child)}function kv(n,s,a,l,f,m){return ys(s),s.updateQueue=null,a=Iy(s,l,a,f),Oy(n),l=Ff(),n!==null&&!ut?(qf(n,s,m),Wn(n,s,m)):(Re&&l&&wf(s),s.flags|=1,pt(n,s,a,m),s.child)}function Lv(n,s,a,l,f){if(ys(s),s.stateNode===null){var m=lr,v=a.contextType;typeof v=="object"&&v!==null&&(m=bt(v)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Lf(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?bt(v):lr,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ih(s,a,v,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&sh.enqueueReplaceState(m,m.state,null),Pa(s,l,m,f),La(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var E=s.memoizedProps,T=Es(a,E);m.props=T;var O=m.context,V=a.contextType;v=lr,typeof V=="object"&&V!==null&&(v=bt(V));var j=a.getDerivedStateFromProps;V=typeof j=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||O!==v)&&bv(s,m,l,v),Ei=!1;var I=s.memoizedState;m.state=I,Pa(s,l,m,f),La(),O=s.memoizedState,E||I!==O||Ei?(typeof j=="function"&&(ih(s,a,j,l),O=s.memoizedState),(T=Ei||Ev(s,a,T,l,I,O,v))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=O),m.props=l,m.state=O,m.context=v,l=T):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Pf(n,s),v=s.memoizedProps,V=Es(a,v),m.props=V,j=s.pendingProps,I=m.context,O=a.contextType,T=lr,typeof O=="object"&&O!==null&&(T=bt(O)),E=a.getDerivedStateFromProps,(O=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==j||I!==T)&&bv(s,m,l,T),Ei=!1,I=s.memoizedState,m.state=I,Pa(s,l,m,f),La();var L=s.memoizedState;v!==j||I!==L||Ei||n!==null&&n.dependencies!==null&&Vl(n.dependencies)?(typeof E=="function"&&(ih(s,a,E,l),L=s.memoizedState),(V=Ei||Ev(s,a,V,l,I,L,T)||n!==null&&n.dependencies!==null&&Vl(n.dependencies))?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,L,T),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,L,T)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=L),m.props=l,m.state=L,m.context=T,l=V):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,iu(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=vr(s,n.child,null,f),s.child=vr(s,null,a,f)):pt(n,s,a,f),s.memoizedState=m.state,n=s.child):n=Wn(n,s,f),n}function Pv(n,s,a,l){return Ra(),s.flags|=256,pt(n,s,a,l),s.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lh(n){return{baseLanes:n,cachePool:Ty()}}function uh(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=ln),n}function Uv(n,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(st.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Re){if(f?Ci(s):wi(),Re){var E=Ye,T;if(T=E){e:{for(T=E,E=Dn;T.nodeType!==8;){if(!E){E=null;break e}if(T=vn(T.nextSibling),T===null){E=null;break e}}E=T}E!==null?(s.memoizedState={dehydrated:E,treeContext:hs!==null?{id:jn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},T=Yt(18,null,null,0),T.stateNode=E,T.return=s,s.child=T,At=s,Ye=null,T=!0):T=!1}T||ps(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Yh(E)?s.lanes=32:s.lanes=536870912,null;Kn(s)}return E=l.children,l=l.fallback,f?(wi(),f=s.mode,E=su({mode:"hidden",children:E},f),l=fs(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,f=s.child,f.memoizedState=lh(a),f.childLanes=uh(n,v,a),s.memoizedState=oh,l):(Ci(s),ch(s,E))}if(T=n.memoizedState,T!==null&&(E=T.dehydrated,E!==null)){if(m)s.flags&256?(Ci(s),s.flags&=-257,s=fh(n,s,a)):s.memoizedState!==null?(wi(),s.child=n.child,s.flags|=128,s=null):(wi(),f=l.fallback,E=s.mode,l=su({mode:"visible",children:l.children},E),f=fs(f,E,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,vr(s,n.child,null,a),l=s.child,l.memoizedState=lh(a),l.childLanes=uh(n,v,a),s.memoizedState=oh,s=f);else if(Ci(s),Yh(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var O=v.dgst;v=O,l=Error(r(419)),l.stack="",l.digest=v,xa({value:l,source:null,stack:null}),s=fh(n,s,a)}else if(ut||Da(n,s,a,!1),v=(a&n.childLanes)!==0,ut||v){if(v=Ue,v!==null&&(l=a&-a,l=(l&42)!==0?1:Yc(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,or(n,l),$t(v,n,l),xv;E.data==="$?"||Dh(),s=fh(n,s,a)}else E.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=T.treeContext,Ye=vn(E.nextSibling),At=s,Re=!0,ms=null,Dn=!1,n!==null&&(rn[an++]=jn,rn[an++]=Fn,rn[an++]=hs,jn=n.id,Fn=n.overflow,hs=s),s=ch(s,l.children),s.flags|=4096);return s}return f?(wi(),f=l.fallback,E=s.mode,T=n.child,O=T.sibling,l=Hn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,O!==null?f=Hn(O,f):(f=fs(f,E,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,E=n.child.memoizedState,E===null?E=lh(a):(T=E.cachePool,T!==null?(O=it._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=Ty(),E={baseLanes:E.baseLanes|a,cachePool:T}),f.memoizedState=E,f.childLanes=uh(n,v,a),s.memoizedState=oh,l):(Ci(s),a=n.child,n=a.sibling,a=Hn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function ch(n,s){return s=su({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function su(n,s){return n=Yt(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function fh(n,s,a){return vr(s,n.child,null,a),n=ch(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Vv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Df(n.return,s,a)}function hh(n,s,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Bv(n,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(pt(n,s,l.children,a),l=st.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vv(n,a,s);else if(n.tag===19)Vv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Q(st,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&eu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),hh(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&eu(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}hh(s,!0,a,null,m);break;case"together":hh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wn(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ni|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Da(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Hn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Hn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function dh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Vl(n)))}function SR(n,s,a){switch(s.tag){case 3:fe(s,s.stateNode.containerInfo),_i(s,it,n.memoizedState.cache),Ra();break;case 27:case 5:ot(s);break;case 4:fe(s,s.stateNode.containerInfo);break;case 10:_i(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Uv(n,s,a):(Ci(s),n=Wn(n,s,a),n!==null?n.sibling:null);Ci(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Da(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Bv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(st,st.current),l)break;return null;case 22:case 23:return s.lanes=0,Ov(n,s,a);case 24:_i(s,it,n.memoizedState.cache)}return Wn(n,s,a)}function zv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ut=!0;else{if(!dh(n,a)&&(s.flags&128)===0)return ut=!1,SR(n,s,a);ut=(n.flags&131072)!==0}else ut=!1,Re&&(s.flags&1048576)!==0&&gy(s,Ul,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Sf(l)?(n=Es(l,n),s.tag=1,s=Lv(null,s,l,n,a)):(s.tag=0,s=ah(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===W){s.tag=11,s=Dv(null,s,l,n,a);break e}else if(f===Z){s.tag=14,s=Nv(null,s,l,n,a);break e}}throw s=Ht(l)||l,Error(r(306,s,""))}}return s;case 0:return ah(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Es(l,s.pendingProps),Lv(n,s,l,f,a);case 3:e:{if(fe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Pf(n,s),Pa(s,l,null,a);var v=s.memoizedState;if(l=v.cache,_i(s,it,l),l!==m.cache&&Nf(s,[it],a,!0),La(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Pv(n,s,l,a);break e}else if(l!==f){f=nn(Error(r(424)),s),xa(f),s=Pv(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ye=vn(n.firstChild),At=s,Re=!0,ms=null,Dn=!0,a=vv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ra(),l===f){s=Wn(n,s,a);break e}pt(n,s,l,a)}s=s.child}return s;case 26:return iu(n,s),n===null?(a=q_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Re||(a=s.type,n=s.pendingProps,l=vu(B.current).createElement(a),l[Et]=s,l[Dt]=n,yt(l,a,n),lt(l),s.stateNode=l):s.memoizedState=q_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ot(s),n===null&&Re&&(l=s.stateNode=H_(s.type,s.pendingProps,B.current),At=s,Dn=!0,f=Ye,ki(s.type)?(Kh=f,Ye=vn(l.firstChild)):Ye=f),pt(n,s,s.pendingProps.children,a),iu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Re&&((f=l=Ye)&&(l=QR(l,s.type,s.pendingProps,Dn),l!==null?(s.stateNode=l,At=s,Ye=vn(l.firstChild),Dn=!1,f=!0):f=!1),f||ps(s)),ot(s),f=s.type,m=s.pendingProps,v=n!==null?n.memoizedProps:null,l=m.children,Fh(f,m)?l=null:v!==null&&Fh(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=jf(n,s,mR,null,null,a),so._currentValue=f),iu(n,s),pt(n,s,l,a),s.child;case 6:return n===null&&Re&&((n=a=Ye)&&(a=$R(a,s.pendingProps,Dn),a!==null?(s.stateNode=a,At=s,Ye=null,n=!0):n=!1),n||ps(s)),null;case 13:return Uv(n,s,a);case 4:return fe(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=vr(s,null,l,a):pt(n,s,l,a),s.child;case 11:return Dv(n,s,s.type,s.pendingProps,a);case 7:return pt(n,s,s.pendingProps,a),s.child;case 8:return pt(n,s,s.pendingProps.children,a),s.child;case 12:return pt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,_i(s,s.type,l.value),pt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,ys(s),f=bt(f),l=l(f),s.flags|=1,pt(n,s,l,a),s.child;case 14:return Nv(n,s,s.type,s.pendingProps,a);case 15:return Mv(n,s,s.type,s.pendingProps,a);case 19:return Bv(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=su(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Hn(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Ov(n,s,a);case 24:return ys(s),l=bt(it),n===null?(f=If(),f===null&&(f=Ue,m=Mf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Lf(s),_i(s,it,f)):((n.lanes&a)!==0&&(Pf(n,s),Pa(s,null,null,a),La()),f=n.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),_i(s,it,l)):(l=m.cache,_i(s,it,l),l!==f.cache&&Nf(s,[it],a,!0))),pt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Xn(n){n.flags|=4}function Hv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!X_(s)){if(s=on.current,s!==null&&((Te&4194048)===Te?Nn!==null:(Te&62914560)!==Te&&(Te&536870912)===0||s!==Nn))throw Ia=kf,Cy;n.flags|=8192}}function ru(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?_g():536870912,n.lanes|=s,Sr|=s)}function Fa(n,s){if(!Re)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function je(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function TR(n,s,a){var l=s.pendingProps;switch(Af(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(s),null;case 1:return je(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Gn(it),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Aa(s)?Xn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_y())),je(s),null;case 26:return a=s.memoizedState,n===null?(Xn(s),a!==null?(je(s),Hv(s,a)):(je(s),s.flags&=-16777217)):a?a!==n.memoizedState?(Xn(s),je(s),Hv(s,a)):(je(s),s.flags&=-16777217):(n.memoizedProps!==l&&Xn(s),je(s),s.flags&=-16777217),null;case 27:$e(s),a=B.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Xn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return je(s),null}n=ie.current,Aa(s)?yy(s):(n=H_(f,l,a),s.stateNode=n,Xn(s))}return je(s),null;case 5:if($e(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Xn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return je(s),null}if(n=ie.current,Aa(s))yy(s);else{switch(f=vu(B.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Et]=s,n[Dt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(yt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Xn(s)}}return je(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Xn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=B.current,Aa(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=At,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Et]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||k_(n.nodeValue,a)),n||ps(s)}else n=vu(n).createTextNode(l),n[Et]=s,s.stateNode=n}return je(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Aa(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Et]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;je(s),f=!1}else f=_y(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Kn(s),s):(Kn(s),null)}if(Kn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),ru(s,s.updateQueue),je(s),null;case 4:return we(),n===null&&Vh(s.stateNode.containerInfo),je(s),null;case 10:return Gn(s.type),je(s),null;case 19:if($(st),f=s.memoizedState,f===null)return je(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)Fa(f,!1);else{if(Ke!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=eu(n),m!==null){for(s.flags|=128,Fa(f,!1),n=m.updateQueue,s.updateQueue=n,ru(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)py(a,n),a=a.sibling;return Q(st,st.current&1|2),s.child}n=n.sibling}f.tail!==null&&Jt()>lu&&(s.flags|=128,l=!0,Fa(f,!1),s.lanes=4194304)}else{if(!l)if(n=eu(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,ru(s,n),Fa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Re)return je(s),null}else 2*Jt()-f.renderingStartTime>lu&&a!==536870912&&(s.flags|=128,l=!0,Fa(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(n=f.last,n!==null?n.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Jt(),s.sibling=null,n=st.current,Q(st,l?n&1|2:n&1),s):(je(s),null);case 22:case 23:return Kn(s),zf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(je(s),s.subtreeFlags&6&&(s.flags|=8192)):je(s),a=s.updateQueue,a!==null&&ru(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&$(vs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Gn(it),je(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function CR(n,s){switch(Af(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Gn(it),we(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return $e(s),null;case 13:if(Kn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $(st),null;case 4:return we(),null;case 10:return Gn(s.type),null;case 22:case 23:return Kn(s),zf(),n!==null&&$(vs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Gn(it),null;case 25:return null;default:return null}}function jv(n,s){switch(Af(s),s.tag){case 3:Gn(it),we();break;case 26:case 27:case 5:$e(s);break;case 4:we();break;case 13:Kn(s);break;case 19:$(st);break;case 10:Gn(s.type);break;case 22:case 23:Kn(s),zf(),n!==null&&$(vs);break;case 24:Gn(it)}}function qa(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(E){Le(s,s.return,E)}}function Ai(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=s;var T=a,O=E;try{O()}catch(V){Le(f,T,V)}}}l=l.next}while(l!==m)}}catch(V){Le(s,s.return,V)}}function Fv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Ny(s,a)}catch(l){Le(n,n.return,l)}}}function qv(n,s,a){a.props=Es(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Le(n,s,l)}}function Ga(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Le(n,s,f)}}function Mn(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Le(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Le(n,s,f)}else a.current=null}function Gv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Le(n,n.return,f)}}function mh(n,s,a){try{var l=n.stateNode;GR(l,n.type,a,s),l[Dt]=s}catch(f){Le(n,n.return,f)}}function Yv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ki(n.type)||n.tag===4}function ph(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Yv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=yu));else if(l!==4&&(l===27&&ki(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(gh(n,s,a),n=n.sibling;n!==null;)gh(n,s,a),n=n.sibling}function au(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&ki(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(au(n,s,a),n=n.sibling;n!==null;)au(n,s,a),n=n.sibling}function Kv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);yt(s,l,a),s[Et]=n,s[Dt]=a}catch(m){Le(n,n.return,m)}}var Qn=!1,Je=!1,yh=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,ct=null;function wR(n,s){if(n=n.containerInfo,Hh=Cu,n=ry(n),pf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,E=-1,T=-1,O=0,V=0,j=n,I=null;t:for(;;){for(var L;j!==a||f!==0&&j.nodeType!==3||(E=v+f),j!==m||l!==0&&j.nodeType!==3||(T=v+l),j.nodeType===3&&(v+=j.nodeValue.length),(L=j.firstChild)!==null;)I=j,j=L;for(;;){if(j===n)break t;if(I===a&&++O===f&&(E=v),I===m&&++V===l&&(T=v),(L=j.nextSibling)!==null)break;j=I,I=j.parentNode}j=L}a=E===-1||T===-1?null:{start:E,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(jh={focusedElem:n,selectionRange:a},Cu=!1,ct=s;ct!==null;)if(s=ct,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,ct=n;else for(;ct!==null;){switch(s=ct,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var le=Es(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(le,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(se){Le(a,a.return,se)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Gh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,ct=n;break}ct=s.return}}function Xv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(n,a),l&4&&qa(5,a);break;case 1:if(Ri(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){Le(a,a.return,v)}else{var f=Es(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Le(a,a.return,v)}}l&64&&Fv(a),l&512&&Ga(a,a.return);break;case 3:if(Ri(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ny(n,s)}catch(v){Le(a,a.return,v)}}break;case 27:s===null&&l&4&&Kv(a);case 26:case 5:Ri(n,a),s===null&&l&4&&Gv(a),l&512&&Ga(a,a.return);break;case 12:Ri(n,a);break;case 13:Ri(n,a),l&4&&Zv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=kR.bind(null,a),ZR(n,a))));break;case 22:if(l=a.memoizedState!==null||Qn,!l){s=s!==null&&s.memoizedState!==null||Je,f=Qn;var m=Je;Qn=l,(Je=s)&&!m?xi(n,a,(a.subtreeFlags&8772)!==0):Ri(n,a),Qn=f,Je=m}break;case 30:break;default:Ri(n,a)}}function Qv(n){var s=n.alternate;s!==null&&(n.alternate=null,Qv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Xc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ze=null,Ot=!1;function $n(n,s,a){for(a=a.child;a!==null;)$v(n,s,a),a=a.sibling}function $v(n,s,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ha,a)}catch{}switch(a.tag){case 26:Je||Mn(a,s),$n(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||Mn(a,s);var l=ze,f=Ot;ki(a.type)&&(ze=a.stateNode,Ot=!1),$n(n,s,a),eo(a.stateNode),ze=l,Ot=f;break;case 5:Je||Mn(a,s);case 6:if(l=ze,f=Ot,ze=null,$n(n,s,a),ze=l,Ot=f,ze!==null)if(Ot)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(m){Le(a,s,m)}else try{ze.removeChild(a.stateNode)}catch(m){Le(a,s,m)}break;case 18:ze!==null&&(Ot?(n=ze,B_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),lo(n)):B_(ze,a.stateNode));break;case 4:l=ze,f=Ot,ze=a.stateNode.containerInfo,Ot=!0,$n(n,s,a),ze=l,Ot=f;break;case 0:case 11:case 14:case 15:Je||Ai(2,a,s),Je||Ai(4,a,s),$n(n,s,a);break;case 1:Je||(Mn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qv(a,s,l)),$n(n,s,a);break;case 21:$n(n,s,a);break;case 22:Je=(l=Je)||a.memoizedState!==null,$n(n,s,a),Je=l;break;default:$n(n,s,a)}}function Zv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{lo(n)}catch(a){Le(s,s.return,a)}}function AR(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Wv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Wv),s;default:throw Error(r(435,n.tag))}}function vh(n,s){var a=AR(n);s.forEach(function(l){var f=LR.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Kt(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(ki(E.type)){ze=E.stateNode,Ot=!1;break e}break;case 5:ze=E.stateNode,Ot=!1;break e;case 3:case 4:ze=E.stateNode.containerInfo,Ot=!0;break e}E=E.return}if(ze===null)throw Error(r(160));$v(m,v,f),ze=null,Ot=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Jv(s,n),s=s.sibling}var yn=null;function Jv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kt(s,n),Wt(n),l&4&&(Ai(3,n,n.return),qa(3,n),Ai(5,n,n.return));break;case 1:Kt(s,n),Wt(n),l&512&&(Je||a===null||Mn(a,a.return)),l&64&&Qn&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=yn;if(Kt(s,n),Wt(n),l&512&&(Je||a===null||Mn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[pa]||m[Et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),yt(m,l,a),m[Et]=n,lt(m),l=m;break e;case"link":var v=K_("link","href",f).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}m=f.createElement(l),yt(m,l,a),f.head.appendChild(m);break;case"meta":if(v=K_("meta","content",f).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}m=f.createElement(l),yt(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Et]=n,lt(m),l=m}n.stateNode=l}else W_(f,n.type,n.stateNode);else n.stateNode=Y_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?W_(f,n.type,n.stateNode):Y_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&mh(n,n.memoizedProps,a.memoizedProps)}break;case 27:Kt(s,n),Wt(n),l&512&&(Je||a===null||Mn(a,a.return)),a!==null&&l&4&&mh(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Kt(s,n),Wt(n),l&512&&(Je||a===null||Mn(a,a.return)),n.flags&32){f=n.stateNode;try{er(f,"")}catch(L){Le(n,n.return,L)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,mh(n,f,a!==null?a.memoizedProps:f)),l&1024&&(yh=!0);break;case 6:if(Kt(s,n),Wt(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(L){Le(n,n.return,L)}}break;case 3:if(bu=null,f=yn,yn=_u(s.containerInfo),Kt(s,n),yn=f,Wt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(s.containerInfo)}catch(L){Le(n,n.return,L)}yh&&(yh=!1,e_(n));break;case 4:l=yn,yn=_u(n.stateNode.containerInfo),Kt(s,n),Wt(n),yn=l;break;case 12:Kt(s,n),Wt(n);break;case 13:Kt(s,n),Wt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ch=Jt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,vh(n,l)));break;case 22:f=n.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,O=Qn,V=Je;if(Qn=O||f,Je=V||T,Kt(s,n),Je=V,Qn=O,Wt(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||T||Qn||Je||bs(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(m=T.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=T.stateNode;var j=T.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(L){Le(T,T.return,L)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(L){Le(T,T.return,L)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vh(n,a))));break;case 19:Kt(s,n),Wt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,vh(n,l)));break;case 30:break;case 21:break;default:Kt(s,n),Wt(n)}}function Wt(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Yv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=ph(n);au(n,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(er(v,""),a.flags&=-33);var E=ph(n);au(n,E,v);break;case 3:case 4:var T=a.stateNode.containerInfo,O=ph(n);gh(n,O,T);break;default:throw Error(r(161))}}catch(V){Le(n,n.return,V)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function e_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;e_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ri(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Xv(n,s.alternate,s),s=s.sibling}function bs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Ai(4,s,s.return),bs(s);break;case 1:Mn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&qv(s,s.return,a),bs(s);break;case 27:eo(s.stateNode);case 26:case 5:Mn(s,s.return),bs(s);break;case 22:s.memoizedState===null&&bs(s);break;case 30:bs(s);break;default:bs(s)}n=n.sibling}}function xi(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:xi(f,m,a),qa(4,m);break;case 1:if(xi(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){Le(l,l.return,O)}if(l=m,f=l.updateQueue,f!==null){var E=l.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)Dy(T[f],E)}catch(O){Le(l,l.return,O)}}a&&v&64&&Fv(m),Ga(m,m.return);break;case 27:Kv(m);case 26:case 5:xi(f,m,a),a&&l===null&&v&4&&Gv(m),Ga(m,m.return);break;case 12:xi(f,m,a);break;case 13:xi(f,m,a),a&&v&4&&Zv(f,m);break;case 22:m.memoizedState===null&&xi(f,m,a),Ga(m,m.return);break;case 30:break;default:xi(f,m,a)}s=s.sibling}}function _h(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Na(a))}function Eh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Na(n))}function On(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)t_(n,s,a,l),s=s.sibling}function t_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:On(n,s,a,l),f&2048&&qa(9,s);break;case 1:On(n,s,a,l);break;case 3:On(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Na(n)));break;case 12:if(f&2048){On(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(T){Le(s,s.return,T)}}else On(n,s,a,l);break;case 13:On(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?On(n,s,a,l):Ya(n,s):m._visibility&2?On(n,s,a,l):(m._visibility|=2,_r(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&_h(v,s);break;case 24:On(n,s,a,l),f&2048&&Eh(s.alternate,s);break;default:On(n,s,a,l)}}function _r(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,v=s,E=a,T=l,O=v.flags;switch(v.tag){case 0:case 11:case 15:_r(m,v,E,T,f),qa(8,v);break;case 23:break;case 22:var V=v.stateNode;v.memoizedState!==null?V._visibility&2?_r(m,v,E,T,f):Ya(m,v):(V._visibility|=2,_r(m,v,E,T,f)),f&&O&2048&&_h(v.alternate,v);break;case 24:_r(m,v,E,T,f),f&&O&2048&&Eh(v.alternate,v);break;default:_r(m,v,E,T,f)}s=s.sibling}}function Ya(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ya(a,l),f&2048&&_h(l.alternate,l);break;case 24:Ya(a,l),f&2048&&Eh(l.alternate,l);break;default:Ya(a,l)}s=s.sibling}}var Ka=8192;function Er(n){if(n.subtreeFlags&Ka)for(n=n.child;n!==null;)n_(n),n=n.sibling}function n_(n){switch(n.tag){case 26:Er(n),n.flags&Ka&&n.memoizedState!==null&&f1(yn,n.memoizedState,n.memoizedProps);break;case 5:Er(n);break;case 3:case 4:var s=yn;yn=_u(n.stateNode.containerInfo),Er(n),yn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ka,Ka=16777216,Er(n),Ka=s):Er(n));break;default:Er(n)}}function i_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Wa(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ct=l,r_(l,n)}i_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)s_(n),n=n.sibling}function s_(n){switch(n.tag){case 0:case 11:case 15:Wa(n),n.flags&2048&&Ai(9,n,n.return);break;case 3:Wa(n);break;case 12:Wa(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ou(n)):Wa(n);break;default:Wa(n)}}function ou(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ct=l,r_(l,n)}i_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Ai(8,s,s.return),ou(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ou(s));break;default:ou(s)}n=n.sibling}}function r_(n,s){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:Ai(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Na(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ct=l;else e:for(a=n;ct!==null;){l=ct;var f=l.sibling,m=l.return;if(Qv(l),l===a){ct=null;break e}if(f!==null){f.return=m,ct=f;break e}ct=m}}}var RR={getCacheForType:function(n){var s=bt(it),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},xR=typeof WeakMap=="function"?WeakMap:Map,De=0,Ue=null,_e=null,Te=0,Ne=0,Xt=null,Di=!1,br=!1,bh=!1,Zn=0,Ke=0,Ni=0,Ss=0,Sh=0,ln=0,Sr=0,Xa=null,It=null,Th=!1,Ch=0,lu=1/0,uu=null,Mi=null,gt=0,Oi=null,Tr=null,Cr=0,wh=0,Ah=null,a_=null,Qa=0,Rh=null;function Qt(){if((De&2)!==0&&Te!==0)return Te&-Te;if(U.T!==null){var n=fr;return n!==0?n:kh()}return Sg()}function o_(){ln===0&&(ln=(Te&536870912)===0||Re?vg():536870912);var n=on.current;return n!==null&&(n.flags|=32),ln}function $t(n,s,a){(n===Ue&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)&&(wr(n,0),Ii(n,Te,ln,!1)),ma(n,a),((De&2)===0||n!==Ue)&&(n===Ue&&((De&2)===0&&(Ss|=a),Ke===4&&Ii(n,Te,ln,!1)),In(n))}function l_(n,s,a){if((De&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||da(n,s),f=l?MR(n,s):Nh(n,s,!0),m=l;do{if(f===0){br&&!l&&Ii(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!DR(a)){f=Nh(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var E=n;f=Xa;var T=E.current.memoizedState.isDehydrated;if(T&&(wr(E,v).flags|=256),v=Nh(E,v,!1),v!==2){if(bh&&!T){E.errorRecoveryDisabledLanes|=m,Ss|=m,f=4;break e}m=It,It=f,m!==null&&(It===null?It=m:It.push.apply(It,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){wr(n,0),Ii(n,s,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ii(l,s,ln,!Di);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Ch+300-Jt(),10<f)){if(Ii(l,s,ln,!Di),El(l,0,!0)!==0)break e;l.timeoutHandle=U_(u_.bind(null,l,a,It,uu,Th,s,ln,Ss,Sr,Di,m,2,-0,0),f);break e}u_(l,a,It,uu,Th,s,ln,Ss,Sr,Di,m,0,-0,0)}}break}while(!0);In(n)}function u_(n,s,a,l,f,m,v,E,T,O,V,j,I,L){if(n.timeoutHandle=-1,j=s.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(io={stylesheets:null,count:0,unsuspend:c1},n_(s),j=h1(),j!==null)){n.cancelPendingCommit=j(g_.bind(null,n,s,m,a,l,f,v,E,T,V,1,I,L)),Ii(n,m,v,!O);return}g_(n,s,m,a,l,f,v,E,T)}function DR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Gt(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(n,s,a,l){s&=~Sh,s&=~Ss,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var m=31-qt(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Eg(n,a,s)}function cu(){return(De&6)===0?($a(0),!1):!0}function xh(){if(_e!==null){if(Ne===0)var n=_e.return;else n=_e,qn=gs=null,Gf(n),yr=null,Ha=0,n=_e;for(;n!==null;)jv(n.alternate,n),n=n.return;_e=null}}function wr(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,KR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),xh(),Ue=n,_e=a=Hn(n.current,null),Te=s,Ne=0,Xt=null,Di=!1,br=da(n,s),bh=!1,Sr=ln=Sh=Ss=Ni=Ke=0,It=Xa=null,Th=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-qt(l),m=1<<f;s|=n[f],l&=~m}return Zn=s,Ol(),a}function c_(n,s){de=null,U.H=$l,s===Oa||s===Hl?(s=Ry(),Ne=3):s===Cy?(s=Ry(),Ne=4):Ne=s===xv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xt=s,_e===null&&(Ke=1,nu(n,nn(s,n.current)))}function f_(){var n=U.H;return U.H=$l,n===null?$l:n}function h_(){var n=U.A;return U.A=RR,n}function Dh(){Ke=4,Di||(Te&4194048)!==Te&&on.current!==null||(br=!0),(Ni&134217727)===0&&(Ss&134217727)===0||Ue===null||Ii(Ue,Te,ln,!1)}function Nh(n,s,a){var l=De;De|=2;var f=f_(),m=h_();(Ue!==n||Te!==s)&&(uu=null,wr(n,s)),s=!1;var v=Ke;e:do try{if(Ne!==0&&_e!==null){var E=_e,T=Xt;switch(Ne){case 8:xh(),v=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(s=!0);var O=Ne;if(Ne=0,Xt=null,Ar(n,E,T,O),a&&br){v=0;break e}break;default:O=Ne,Ne=0,Xt=null,Ar(n,E,T,O)}}NR(),v=Ke;break}catch(V){c_(n,V)}while(!0);return s&&n.shellSuspendCounter++,qn=gs=null,De=l,U.H=f,U.A=m,_e===null&&(Ue=null,Te=0,Ol()),v}function NR(){for(;_e!==null;)d_(_e)}function MR(n,s){var a=De;De|=2;var l=f_(),f=h_();Ue!==n||Te!==s?(uu=null,lu=Jt()+500,wr(n,s)):br=da(n,s);e:do try{if(Ne!==0&&_e!==null){s=_e;var m=Xt;t:switch(Ne){case 1:Ne=0,Xt=null,Ar(n,s,m,1);break;case 2:case 9:if(wy(m)){Ne=0,Xt=null,m_(s);break}s=function(){Ne!==2&&Ne!==9||Ue!==n||(Ne=7),In(n)},m.then(s,s);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:wy(m)?(Ne=0,Xt=null,m_(s)):(Ne=0,Xt=null,Ar(n,s,m,7));break;case 5:var v=null;switch(_e.tag){case 26:v=_e.memoizedState;case 5:case 27:var E=_e;if(!v||X_(v)){Ne=0,Xt=null;var T=E.sibling;if(T!==null)_e=T;else{var O=E.return;O!==null?(_e=O,fu(O)):_e=null}break t}}Ne=0,Xt=null,Ar(n,s,m,5);break;case 6:Ne=0,Xt=null,Ar(n,s,m,6);break;case 8:xh(),Ke=6;break e;default:throw Error(r(462))}}OR();break}catch(V){c_(n,V)}while(!0);return qn=gs=null,U.H=l,U.A=f,De=a,_e!==null?0:(Ue=null,Te=0,Ol(),Ke)}function OR(){for(;_e!==null&&!Ys();)d_(_e)}function d_(n){var s=zv(n.alternate,n,Zn);n.memoizedProps=n.pendingProps,s===null?fu(n):_e=s}function m_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=kv(a,s,s.pendingProps,s.type,void 0,Te);break;case 11:s=kv(a,s,s.pendingProps,s.type.render,s.ref,Te);break;case 5:Gf(s);default:jv(a,s),s=_e=py(s,Zn),s=zv(a,s,Zn)}n.memoizedProps=n.pendingProps,s===null?fu(n):_e=s}function Ar(n,s,a,l){qn=gs=null,Gf(s),yr=null,Ha=0;var f=s.return;try{if(bR(n,f,s,a,Te)){Ke=1,nu(n,nn(a,n.current)),_e=null;return}}catch(m){if(f!==null)throw _e=f,m;Ke=1,nu(n,nn(a,n.current)),_e=null;return}s.flags&32768?(Re||l===1?n=!0:br||(Te&536870912)!==0?n=!1:(Di=n=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),p_(s,n)):fu(s)}function fu(n){var s=n;do{if((s.flags&32768)!==0){p_(s,Di);return}n=s.return;var a=TR(s.alternate,s,Zn);if(a!==null){_e=a;return}if(s=s.sibling,s!==null){_e=s;return}_e=s=n}while(s!==null);Ke===0&&(Ke=5)}function p_(n,s){do{var a=CR(n.alternate,n);if(a!==null){a.flags&=32767,_e=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){_e=n;return}_e=n=a}while(n!==null);Ke=6,_e=null}function g_(n,s,a,l,f,m,v,E,T){n.cancelPendingCommit=null;do hu();while(gt!==0);if((De&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Ef,cA(n,a,m,v,E,T),n===Ue&&(_e=Ue=null,Te=0),Tr=s,Oi=n,Cr=a,wh=m,Ah=f,a_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,PR(yl,function(){return b_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,f=G.p,G.p=2,v=De,De|=4;try{wR(n,s,a)}finally{De=v,G.p=f,U.T=l}}gt=1,y_(),v_(),__()}}function y_(){if(gt===1){gt=0;var n=Oi,s=Tr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=G.p;G.p=2;var f=De;De|=4;try{Jv(s,n);var m=jh,v=ry(n.containerInfo),E=m.focusedElem,T=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&sy(E.ownerDocument.documentElement,E)){if(T!==null&&pf(E)){var O=T.start,V=T.end;if(V===void 0&&(V=O),"selectionStart"in E)E.selectionStart=O,E.selectionEnd=Math.min(V,E.value.length);else{var j=E.ownerDocument||document,I=j&&j.defaultView||window;if(I.getSelection){var L=I.getSelection(),le=E.textContent.length,se=Math.min(T.start,le),Ie=T.end===void 0?se:Math.min(T.end,le);!L.extend&&se>Ie&&(v=Ie,Ie=se,se=v);var R=iy(E,se),A=iy(E,Ie);if(R&&A&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var M=j.createRange();M.setStart(R.node,R.offset),L.removeAllRanges(),se>Ie?(L.addRange(M),L.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),L.addRange(M))}}}}for(j=[],L=E;L=L.parentNode;)L.nodeType===1&&j.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<j.length;E++){var z=j[E];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Cu=!!Hh,jh=Hh=null}finally{De=f,G.p=l,U.T=a}}n.current=s,gt=2}}function v_(){if(gt===2){gt=0;var n=Oi,s=Tr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=G.p;G.p=2;var f=De;De|=4;try{Xv(n,s.alternate,s)}finally{De=f,G.p=l,U.T=a}}gt=3}}function __(){if(gt===4||gt===3){gt=0,qc();var n=Oi,s=Tr,a=Cr,l=a_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,Tr=Oi=null,E_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Mi=null),Kc(a),s=s.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ha,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=U.T,f=G.p,G.p=2,U.T=null;try{for(var m=n.onRecoverableError,v=0;v<l.length;v++){var E=l[v];m(E.value,{componentStack:E.stack})}}finally{U.T=s,G.p=f}}(Cr&3)!==0&&hu(),In(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Rh?Qa++:(Qa=0,Rh=n):Qa=0,$a(0)}}function E_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Na(s)))}function hu(n){return y_(),v_(),__(),b_()}function b_(){if(gt!==5)return!1;var n=Oi,s=wh;wh=0;var a=Kc(Cr),l=U.T,f=G.p;try{G.p=32>a?32:a,U.T=null,a=Ah,Ah=null;var m=Oi,v=Cr;if(gt=0,Tr=Oi=null,Cr=0,(De&6)!==0)throw Error(r(331));var E=De;if(De|=4,s_(m.current),t_(m,m.current,v,a),De=E,$a(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ha,m)}catch{}return!0}finally{G.p=f,U.T=l,E_(n,s)}}function S_(n,s,a){s=nn(a,s),s=rh(n.stateNode,s,2),n=Si(n,s,2),n!==null&&(ma(n,2),In(n))}function Le(n,s,a){if(n.tag===3)S_(n,n,a);else for(;s!==null;){if(s.tag===3){S_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){n=nn(a,n),a=Av(2),l=Si(s,a,2),l!==null&&(Rv(a,l,s,n),ma(l,2),In(l));break}}s=s.return}}function Mh(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new xR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(bh=!0,f.add(a),n=IR.bind(null,n,s,a),s.then(n,n))}function IR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ue===n&&(Te&a)===a&&(Ke===4||Ke===3&&(Te&62914560)===Te&&300>Jt()-Ch?(De&2)===0&&wr(n,0):Sh|=a,Sr===Te&&(Sr=0)),In(n)}function T_(n,s){s===0&&(s=_g()),n=or(n,s),n!==null&&(ma(n,s),In(n))}function kR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),T_(n,a)}function LR(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),T_(n,a)}function PR(n,s){return mn(n,s)}var du=null,Rr=null,Oh=!1,mu=!1,Ih=!1,Ts=0;function In(n){n!==Rr&&n.next===null&&(Rr===null?du=Rr=n:Rr=Rr.next=n),mu=!0,Oh||(Oh=!0,VR())}function $a(n,s){if(!Ih&&mu){Ih=!0;do for(var a=!1,l=du;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-qt(42|n)+1)-1,m&=f&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,R_(l,m))}else m=Te,m=El(l,l===Ue?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||da(l,m)||(a=!0,R_(l,m));l=l.next}while(a);Ih=!1}}function UR(){C_()}function C_(){mu=Oh=!1;var n=0;Ts!==0&&(YR()&&(n=Ts),Ts=0);for(var s=Jt(),a=null,l=du;l!==null;){var f=l.next,m=w_(l,s);m===0?(l.next=null,a===null?du=f:a.next=f,f===null&&(Rr=a)):(a=l,(n!==0||(m&3)!==0)&&(mu=!0)),l=f}$a(n)}function w_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-qt(m),E=1<<v,T=f[v];T===-1?((E&a)===0||(E&l)!==0)&&(f[v]=uA(E,s)):T<=s&&(n.expiredLanes|=E),m&=~E}if(s=Ue,a=Te,a=El(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&pn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||da(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&pn(l),Kc(a)){case 2:case 8:a=gg;break;case 32:a=yl;break;case 268435456:a=yg;break;default:a=yl}return l=A_.bind(null,n),a=mn(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&pn(l),n.callbackPriority=2,n.callbackNode=null,2}function A_(n,s){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(hu()&&n.callbackNode!==a)return null;var l=Te;return l=El(n,n===Ue?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(l_(n,l,s),w_(n,Jt()),n.callbackNode!=null&&n.callbackNode===a?A_.bind(null,n):null)}function R_(n,s){if(hu())return null;l_(n,s,!0)}function VR(){WR(function(){(De&6)!==0?mn(pg,UR):C_()})}function kh(){return Ts===0&&(Ts=vg()),Ts}function x_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wl(""+n)}function D_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function BR(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=x_((f[Dt]||null).action),v=l.submitter;v&&(s=(s=v[Dt]||null)?x_(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var E=new Dl("action","action",null,l,f);n.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ts!==0){var T=v?D_(f,v):new FormData(f);eh(a,{pending:!0,data:T,method:f.method,action:m},null,T)}}else typeof m=="function"&&(E.preventDefault(),T=v?D_(f,v):new FormData(f),eh(a,{pending:!0,data:T,method:f.method,action:m},m,T))},currentTarget:f}]})}}for(var Lh=0;Lh<_f.length;Lh++){var Ph=_f[Lh],zR=Ph.toLowerCase(),HR=Ph[0].toUpperCase()+Ph.slice(1);gn(zR,"on"+HR)}gn(ly,"onAnimationEnd"),gn(uy,"onAnimationIteration"),gn(cy,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(sR,"onTransitionRun"),gn(rR,"onTransitionStart"),gn(aR,"onTransitionCancel"),gn(fy,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Za));function N_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var v=l.length-1;0<=v;v--){var E=l[v],T=E.instance,O=E.currentTarget;if(E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(V){tu(V)}f.currentTarget=null,m=T}else for(v=0;v<l.length;v++){if(E=l[v],T=E.instance,O=E.currentTarget,E=E.listener,T!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=O;try{m(f)}catch(V){tu(V)}f.currentTarget=null,m=T}}}}function Ee(n,s){var a=s[Wc];a===void 0&&(a=s[Wc]=new Set);var l=n+"__bubble";a.has(l)||(M_(s,n,2,!1),a.add(l))}function Uh(n,s,a){var l=0;s&&(l|=4),M_(a,n,l,s)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Vh(n){if(!n[pu]){n[pu]=!0,Cg.forEach(function(a){a!=="selectionchange"&&(jR.has(a)||Uh(a,!1,n),Uh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[pu]||(s[pu]=!0,Uh("selectionchange",!1,s))}}function M_(n,s,a,l){switch(t0(s)){case 2:var f=p1;break;case 8:f=g1;break;default:f=Zh}a=f.bind(null,s,a,n),f=void 0,!af||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Bh(n,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Ws(E),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=m=v;continue e}E=E.parentNode}}l=l.return}Vg(function(){var O=m,V=sf(a),j=[];e:{var I=hy.get(n);if(I!==void 0){var L=Dl,le=n;switch(n){case"keypress":if(Rl(a)===0)break e;case"keydown":case"keyup":L=PA;break;case"focusin":le="focus",L=cf;break;case"focusout":le="blur",L=cf;break;case"beforeblur":case"afterblur":L=cf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=BA;break;case ly:case uy:case cy:L=RA;break;case fy:L=HA;break;case"scroll":case"scrollend":L=SA;break;case"wheel":L=FA;break;case"copy":case"cut":case"paste":L=DA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Fg;break;case"toggle":case"beforetoggle":L=GA}var se=(s&4)!==0,Ie=!se&&(n==="scroll"||n==="scrollend"),R=se?I!==null?I+"Capture":null:I;se=[];for(var A=O,M;A!==null;){var z=A;if(M=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||M===null||R===null||(z=ya(A,R),z!=null&&se.push(Ja(A,z,M))),Ie)break;A=A.return}0<se.length&&(I=new L(I,le,null,a,V),j.push({event:I,listeners:se}))}}if((s&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",I&&a!==nf&&(le=a.relatedTarget||a.fromElement)&&(Ws(le)||le[Ks]))break e;if((L||I)&&(I=V.window===V?V:(I=V.ownerDocument)?I.defaultView||I.parentWindow:window,L?(le=a.relatedTarget||a.toElement,L=O,le=le?Ws(le):null,le!==null&&(Ie=u(le),se=le.tag,le!==Ie||se!==5&&se!==27&&se!==6)&&(le=null)):(L=null,le=O),L!==le)){if(se=Hg,z="onMouseLeave",R="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(se=Fg,z="onPointerLeave",R="onPointerEnter",A="pointer"),Ie=L==null?I:ga(L),M=le==null?I:ga(le),I=new se(z,A+"leave",L,a,V),I.target=Ie,I.relatedTarget=M,z=null,Ws(V)===O&&(se=new se(R,A+"enter",le,a,V),se.target=M,se.relatedTarget=Ie,z=se),Ie=z,L&&le)t:{for(se=L,R=le,A=0,M=se;M;M=xr(M))A++;for(M=0,z=R;z;z=xr(z))M++;for(;0<A-M;)se=xr(se),A--;for(;0<M-A;)R=xr(R),M--;for(;A--;){if(se===R||R!==null&&se===R.alternate)break t;se=xr(se),R=xr(R)}se=null}else se=null;L!==null&&O_(j,I,L,se,!1),le!==null&&Ie!==null&&O_(j,Ie,le,se,!0)}}e:{if(I=O?ga(O):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var J=$g;else if(Xg(I))if(Zg)J=tR;else{J=JA;var ge=ZA}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?O&&tf(O.elementType)&&(J=$g):J=eR;if(J&&(J=J(n,O))){Qg(j,J,a,V);break e}ge&&ge(n,I,O),n==="focusout"&&O&&I.type==="number"&&O.memoizedProps.value!=null&&ef(I,"number",I.value)}switch(ge=O?ga(O):window,n){case"focusin":(Xg(ge)||ge.contentEditable==="true")&&(sr=ge,gf=O,wa=null);break;case"focusout":wa=gf=sr=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,ay(j,a,V);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":ay(j,a,V)}var te;if(hf)e:{switch(n){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else ir?Kg(n,a)&&(ae="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(qg&&a.locale!=="ko"&&(ir||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ir&&(te=Bg()):(vi=V,of="value"in vi?vi.value:vi.textContent,ir=!0)),ge=gu(O,ae),0<ge.length&&(ae=new jg(ae,n,null,a,V),j.push({event:ae,listeners:ge}),te?ae.data=te:(te=Wg(a),te!==null&&(ae.data=te)))),(te=KA?WA(n,a):XA(n,a))&&(ae=gu(O,"onBeforeInput"),0<ae.length&&(ge=new jg("onBeforeInput","beforeinput",null,a,V),j.push({event:ge,listeners:ae}),ge.data=te)),BR(j,n,O,a,V)}N_(j,s)})}function Ja(n,s,a){return{instance:n,listener:s,currentTarget:a}}function gu(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ya(n,a),f!=null&&l.unshift(Ja(n,f,m)),f=ya(n,s),f!=null&&l.push(Ja(n,f,m))),n.tag===3)return l;n=n.return}return[]}function xr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function O_(n,s,a,l,f){for(var m=s._reactName,v=[];a!==null&&a!==l;){var E=a,T=E.alternate,O=E.stateNode;if(E=E.tag,T!==null&&T===l)break;E!==5&&E!==26&&E!==27||O===null||(T=O,f?(O=ya(a,m),O!=null&&v.unshift(Ja(a,O,T))):f||(O=ya(a,m),O!=null&&v.push(Ja(a,O,T)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var FR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function I_(n){return(typeof n=="string"?n:""+n).replace(FR,`
`).replace(qR,"")}function k_(n,s){return s=I_(s),I_(n)===s}function yu(){}function Oe(n,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||er(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&er(n,""+l);break;case"className":Sl(n,"class",l);break;case"tabIndex":Sl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(n,a,l);break;case"style":Pg(n,l,m);break;case"data":if(s!=="object"){Sl(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wl(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Oe(n,s,"name",f.name,f,null),Oe(n,s,"formEncType",f.formEncType,f,null),Oe(n,s,"formMethod",f.formMethod,f,null),Oe(n,s,"formTarget",f.formTarget,f,null)):(Oe(n,s,"encType",f.encType,f,null),Oe(n,s,"method",f.method,f,null),Oe(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wl(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=yu);break;case"onScroll":l!=null&&Ee("scroll",n);break;case"onScrollEnd":l!=null&&Ee("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=wl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ee("beforetoggle",n),Ee("toggle",n),bl(n,"popover",l);break;case"xlinkActuate":Bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bl(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=EA.get(a)||a,bl(n,a,l))}}function zh(n,s,a,l,f,m){switch(a){case"style":Pg(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?er(n,l):(typeof l=="number"||typeof l=="bigint")&&er(n,""+l);break;case"onScroll":l!=null&&Ee("scroll",n);break;case"onScrollEnd":l!=null&&Ee("scrollend",n);break;case"onClick":l!=null&&(n.onclick=yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=n[Dt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):bl(n,a,l)}}}function yt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",n),Ee("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(n,s,m,v,a,null)}}f&&Oe(n,s,"srcSet",a.srcSet,a,null),l&&Oe(n,s,"src",a.src,a,null);return;case"input":Ee("invalid",n);var E=m=v=f=null,T=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var V=a[l];if(V!=null)switch(l){case"name":f=V;break;case"type":v=V;break;case"checked":T=V;break;case"defaultChecked":O=V;break;case"value":m=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:Oe(n,s,l,V,a,null)}}Og(n,m,E,T,O,v,f,!1),Tl(n);return;case"select":Ee("invalid",n),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Oe(n,s,f,E,a,null)}s=m,a=v,n.multiple=!!l,s!=null?Js(n,!!l,s,!1):a!=null&&Js(n,!!l,a,!0);return;case"textarea":Ee("invalid",n),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Oe(n,s,v,E,a,null)}kg(n,l,f,m),Tl(n);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Oe(n,s,T,l,a,null)}return;case"dialog":Ee("beforetoggle",n),Ee("toggle",n),Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":Ee("load",n);break;case"video":case"audio":for(l=0;l<Za.length;l++)Ee(Za[l],n);break;case"image":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"embed":case"source":case"link":Ee("error",n),Ee("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(n,s,O,l,a,null)}return;default:if(tf(s)){for(V in a)a.hasOwnProperty(V)&&(l=a[V],l!==void 0&&zh(n,s,V,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Oe(n,s,E,l,a,null))}function GR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,E=null,T=null,O=null,V=null;for(L in a){var j=a[L];if(a.hasOwnProperty(L)&&j!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":T=j;default:l.hasOwnProperty(L)||Oe(n,s,L,null,l,j)}}for(var I in l){var L=l[I];if(j=a[I],l.hasOwnProperty(I)&&(L!=null||j!=null))switch(I){case"type":m=L;break;case"name":f=L;break;case"checked":O=L;break;case"defaultChecked":V=L;break;case"value":v=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,s));break;default:L!==j&&Oe(n,s,I,L,l,j)}}Jc(n,v,E,T,O,V,m,f);return;case"select":L=v=E=I=null;for(m in a)if(T=a[m],a.hasOwnProperty(m)&&T!=null)switch(m){case"value":break;case"multiple":L=T;default:l.hasOwnProperty(m)||Oe(n,s,m,null,l,T)}for(f in l)if(m=l[f],T=a[f],l.hasOwnProperty(f)&&(m!=null||T!=null))switch(f){case"value":I=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==T&&Oe(n,s,f,m,l,T)}s=E,a=v,l=L,I!=null?Js(n,!!a,I,!1):!!l!=!!a&&(s!=null?Js(n,!!a,s,!0):Js(n,!!a,a?[]:"",!1));return;case"textarea":L=I=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Oe(n,s,E,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":I=f;break;case"defaultValue":L=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Oe(n,s,v,f,l,m)}Ig(n,I,L);return;case"option":for(var le in a)if(I=a[le],a.hasOwnProperty(le)&&I!=null&&!l.hasOwnProperty(le))switch(le){case"selected":n.selected=!1;break;default:Oe(n,s,le,null,l,I)}for(T in l)if(I=l[T],L=a[T],l.hasOwnProperty(T)&&I!==L&&(I!=null||L!=null))switch(T){case"selected":n.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Oe(n,s,T,I,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)I=a[se],a.hasOwnProperty(se)&&I!=null&&!l.hasOwnProperty(se)&&Oe(n,s,se,null,l,I);for(O in l)if(I=l[O],L=a[O],l.hasOwnProperty(O)&&I!==L&&(I!=null||L!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:Oe(n,s,O,I,l,L)}return;default:if(tf(s)){for(var Ie in a)I=a[Ie],a.hasOwnProperty(Ie)&&I!==void 0&&!l.hasOwnProperty(Ie)&&zh(n,s,Ie,void 0,l,I);for(V in l)I=l[V],L=a[V],!l.hasOwnProperty(V)||I===L||I===void 0&&L===void 0||zh(n,s,V,I,l,L);return}}for(var R in a)I=a[R],a.hasOwnProperty(R)&&I!=null&&!l.hasOwnProperty(R)&&Oe(n,s,R,null,l,I);for(j in l)I=l[j],L=a[j],!l.hasOwnProperty(j)||I===L||I==null&&L==null||Oe(n,s,j,I,l,L)}var Hh=null,jh=null;function vu(n){return n.nodeType===9?n:n.ownerDocument}function L_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Fh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qh=null;function YR(){var n=window.event;return n&&n.type==="popstate"?n===qh?!1:(qh=n,!0):(qh=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(n){return V_.resolve(null).then(n).catch(XR)}:U_;function XR(n){setTimeout(function(){throw n})}function ki(n){return n==="head"}function B_(n,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&eo(v.documentElement),a&2&&eo(v.body),a&4)for(a=v.head,eo(a),v=a.firstChild;v;){var E=v.nextSibling,T=v.nodeName;v[pa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(f===0){n.removeChild(m),lo(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);lo(s)}function Gh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gh(a),Xc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function QR(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[pa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function $R(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=vn(n.nextSibling),n===null))return null;return n}function Yh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ZR(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function vn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Kh=null;function z_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function H_(n,s,a){switch(s=vu(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function eo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Xc(n)}var un=new Map,j_=new Set;function _u(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Jn=G.d;G.d={f:JR,r:e1,D:t1,C:n1,L:i1,m:s1,X:a1,S:r1,M:o1};function JR(){var n=Jn.f(),s=cu();return n||s}function e1(n){var s=Xs(n);s!==null&&s.tag===5&&s.type==="form"?lv(s):Jn.r(n)}var Dr=typeof document>"u"?null:document;function F_(n,s,a){var l=Dr;if(l&&typeof s=="string"&&s){var f=tn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),j_.has(f)||(j_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),yt(s,"link",n),lt(s),l.head.appendChild(s)))}}function t1(n){Jn.D(n),F_("dns-prefetch",n,null)}function n1(n,s){Jn.C(n,s),F_("preconnect",n,s)}function i1(n,s,a){Jn.L(n,s,a);var l=Dr;if(l&&n&&s){var f='link[rel="preload"][as="'+tn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+tn(a.imageSizes)+'"]')):f+='[href="'+tn(n)+'"]';var m=f;switch(s){case"style":m=Nr(n);break;case"script":m=Mr(n)}un.has(m)||(n=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),un.set(m,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(to(m))||s==="script"&&l.querySelector(no(m))||(s=l.createElement("link"),yt(s,"link",n),lt(s),l.head.appendChild(s)))}}function s1(n,s){Jn.m(n,s);var a=Dr;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mr(n)}if(!un.has(m)&&(n=g({rel:"modulepreload",href:n},s),un.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(no(m)))return}l=a.createElement("link"),yt(l,"link",n),lt(l),a.head.appendChild(l)}}}function r1(n,s,a){Jn.S(n,s,a);var l=Dr;if(l&&n){var f=Qs(l).hoistableStyles,m=Nr(n);s=s||"default";var v=f.get(m);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(to(m)))E.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":s},a),(a=un.get(m))&&Wh(n,a);var T=v=l.createElement("link");lt(T),yt(T,"link",n),T._p=new Promise(function(O,V){T.onload=O,T.onerror=V}),T.addEventListener("load",function(){E.loading|=1}),T.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Eu(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(m,v)}}}function a1(n,s){Jn.X(n,s);var a=Dr;if(a&&n){var l=Qs(a).hoistableScripts,f=Mr(n),m=l.get(f);m||(m=a.querySelector(no(f)),m||(n=g({src:n,async:!0},s),(s=un.get(f))&&Xh(n,s),m=a.createElement("script"),lt(m),yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function o1(n,s){Jn.M(n,s);var a=Dr;if(a&&n){var l=Qs(a).hoistableScripts,f=Mr(n),m=l.get(f);m||(m=a.querySelector(no(f)),m||(n=g({src:n,async:!0,type:"module"},s),(s=un.get(f))&&Xh(n,s),m=a.createElement("script"),lt(m),yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function q_(n,s,a,l){var f=(f=B.current)?_u(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Nr(a.href),a=Qs(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Nr(a.href);var m=Qs(f).hoistableStyles,v=m.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=f.querySelector(to(n)))&&!m._p&&(v.instance=m,v.state.loading=5),un.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},un.set(n,a),m||l1(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mr(a),a=Qs(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Nr(n){return'href="'+tn(n)+'"'}function to(n){return'link[rel="stylesheet"]['+n+"]"}function G_(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function l1(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),yt(s,"link",a),lt(s),n.head.appendChild(s))}function Mr(n){return'[src="'+tn(n)+'"]'}function no(n){return"script[async]"+n}function Y_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return s.instance=l,lt(l),l;var f=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),lt(l),yt(l,"style",f),Eu(l,a.precedence,n),s.instance=l;case"stylesheet":f=Nr(a.href);var m=n.querySelector(to(f));if(m)return s.state.loading|=4,s.instance=m,lt(m),m;l=G_(a),(f=un.get(f))&&Wh(l,f),m=(n.ownerDocument||n).createElement("link"),lt(m);var v=m;return v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),yt(m,"link",l),s.state.loading|=4,Eu(m,a.precedence,n),s.instance=m;case"script":return m=Mr(a.src),(f=n.querySelector(no(m)))?(s.instance=f,lt(f),f):(l=a,(f=un.get(m))&&(l=g({},a),Xh(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),lt(f),yt(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Eu(l,a.precedence,n));return s.instance}function Eu(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Wh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Xh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var bu=null;function K_(n,s,a){if(bu===null){var l=new Map,f=bu=new Map;f.set(a,l)}else f=bu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[pa]||m[Et]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=n+v;var E=l.get(v);E?E.push(m):l.set(v,[m])}}return l}function W_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function u1(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function X_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var io=null;function c1(){}function f1(n,s,a){if(io===null)throw Error(r(475));var l=io;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Nr(a.href),m=n.querySelector(to(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Su.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,lt(m);return}m=n.ownerDocument||n,a=G_(a),(f=un.get(f))&&Wh(a,f),m=m.createElement("link"),lt(m);var v=m;v._p=new Promise(function(E,T){v.onload=E,v.onerror=T}),yt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Su.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function h1(){if(io===null)throw Error(r(475));var n=io;return n.stylesheets&&n.count===0&&Qh(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Qh(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Su(){if(this.count--,this.count===0){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tu=null;function Qh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tu=new Map,s.forEach(d1,n),Tu=null,Su.call(n))}function d1(n,s){if(!(s.state.loading&4)){var a=Tu.get(n);if(a)var l=a.get(null);else{a=new Map,Tu.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Su.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var so={$$typeof:k,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function m1(n,s,a,l,f,m,v,E){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.hiddenUpdates=Gc(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Q_(n,s,a,l,f,m,v,E,T,O,V,j){return n=new m1(n,s,a,v,E,T,O,j),s=1,m===!0&&(s|=24),m=Yt(3,null,null,s),n.current=m,m.stateNode=n,s=Mf(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Lf(m),n}function $_(n){return n?(n=lr,n):lr}function Z_(n,s,a,l,f,m){f=$_(f),l.context===null?l.context=f:l.pendingContext=f,l=bi(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Si(n,l,s),a!==null&&($t(a,n,s),ka(a,n,s))}function J_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function $h(n,s){J_(n,s),(n=n.alternate)&&J_(n,s)}function e0(n){if(n.tag===13){var s=or(n,67108864);s!==null&&$t(s,n,67108864),$h(n,67108864)}}var Cu=!0;function p1(n,s,a,l){var f=U.T;U.T=null;var m=G.p;try{G.p=2,Zh(n,s,a,l)}finally{G.p=m,U.T=f}}function g1(n,s,a,l){var f=U.T;U.T=null;var m=G.p;try{G.p=8,Zh(n,s,a,l)}finally{G.p=m,U.T=f}}function Zh(n,s,a,l){if(Cu){var f=Jh(l);if(f===null)Bh(n,s,l,wu,a),n0(n,l);else if(v1(f,n,s,a,l))l.stopPropagation();else if(n0(n,l),s&4&&-1<y1.indexOf(n)){for(;f!==null;){var m=Xs(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=as(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var T=1<<31-qt(v);E.entanglements[1]|=T,v&=~T}In(m),(De&6)===0&&(lu=Jt()+500,$a(0))}}break;case 13:E=or(m,2),E!==null&&$t(E,m,2),cu(),$h(m,2)}if(m=Jh(l),m===null&&Bh(n,s,l,wu,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Bh(n,s,l,null,a)}}function Jh(n){return n=sf(n),ed(n)}var wu=null;function ed(n){if(wu=null,n=Ws(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return wu=n,null}function t0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nA()){case pg:return 2;case gg:return 8;case yl:case iA:return 32;case yg:return 268435456;default:return 32}default:return 32}}var td=!1,Li=null,Pi=null,Ui=null,ro=new Map,ao=new Map,Vi=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(n,s){switch(n){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ro.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(s.pointerId)}}function oo(n,s,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Xs(s),s!==null&&e0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function v1(n,s,a,l,f){switch(s){case"focusin":return Li=oo(Li,n,s,a,l,f),!0;case"dragenter":return Pi=oo(Pi,n,s,a,l,f),!0;case"mouseover":return Ui=oo(Ui,n,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return ro.set(m,oo(ro.get(m)||null,n,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,ao.set(m,oo(ao.get(m)||null,n,s,a,l,f)),!0}return!1}function i0(n){var s=Ws(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,fA(n.priority,function(){if(a.tag===13){var l=Qt();l=Yc(l);var f=or(a,l);f!==null&&$t(f,a,l),$h(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Au(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Jh(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);nf=l,a.target.dispatchEvent(l),nf=null}else return s=Xs(a),s!==null&&e0(s),n.blockedOn=a,!1;s.shift()}return!0}function s0(n,s,a){Au(n)&&a.delete(s)}function _1(){td=!1,Li!==null&&Au(Li)&&(Li=null),Pi!==null&&Au(Pi)&&(Pi=null),Ui!==null&&Au(Ui)&&(Ui=null),ro.forEach(s0),ao.forEach(s0)}function Ru(n,s){n.blockedOn===s&&(n.blockedOn=null,td||(td=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_1)))}var xu=null;function r0(n){xu!==n&&(xu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xu===n&&(xu=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(ed(l||a)===null)continue;break}var m=Xs(a);m!==null&&(n.splice(s,3),s-=3,eh(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(n){function s(T){return Ru(T,n)}Li!==null&&Ru(Li,n),Pi!==null&&Ru(Pi,n),Ui!==null&&Ru(Ui,n),ro.forEach(s),ao.forEach(s);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&Vi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Dt]||null;if(typeof m=="function")v||r0(a);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Dt]||null)E=v.formAction;else if(ed(f)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),r0(a)}}}function nd(n){this._internalRoot=n}Du.prototype.render=nd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Qt();Z_(a,l,n,s,null,null)},Du.prototype.unmount=nd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Z_(n.current,2,null,n,null,null),cu(),s[Ks]=null}};function Du(n){this._internalRoot=n}Du.prototype.unstable_scheduleHydration=function(n){if(n){var s=Sg();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Vi.length&&s!==0&&s<Vi[a].priority;a++);Vi.splice(a,0,n),a===0&&i0(n)}};var a0=e.version;if(a0!=="19.1.0")throw Error(r(527,a0,"19.1.0"));G.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var E1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{ha=Nu.inject(E1),Ft=Nu}catch{}}return uo.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Sv,m=Tv,v=Cv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=Q_(n,1,!1,null,null,a,l,f,m,v,E,null),n[Ks]=s.current,Vh(n),new nd(s)},uo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",m=Sv,v=Tv,E=Cv,T=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),s=Q_(n,1,!0,s,a??null,l,f,m,v,E,T,O),s.context=$_(null),a=s.current,l=Qt(),l=Yc(l),f=bi(l),f.callback=null,Si(a,f,l),a=l,s.current.lanes=a,ma(s,a),In(s),n[Ks]=s.current,Vh(n),new Du(s)},uo.version="19.1.0",uo}var m0;function x1(){if(m0)return sd.exports;m0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sd.exports=R1(),sd.exports}var D1=x1();const N1=$b(D1);var co={},p0;function M1(){if(p0)return co;p0=1,Object.defineProperty(co,"__esModule",{value:!0}),co.parse=c,co.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,b){const S=new u,D=_.length;if(D<2)return S;const N=(b==null?void 0:b.decode)||g;let x=0;do{const H=_.indexOf("=",x);if(H===-1)break;const k=_.indexOf(";",x),W=k===-1?D:k;if(H>W){x=_.lastIndexOf(";",H-1)+1;continue}const P=h(_,x,H),K=d(_,H,P),Z=_.slice(P,K);if(S[Z]===void 0){let X=h(_,H+1,W),re=d(_,W,X);const me=N(_.slice(X,re));S[Z]=me}x=W+1}while(x<D);return S}function h(_,b,S){do{const D=_.charCodeAt(b);if(D!==32&&D!==9)return b}while(++b<S);return S}function d(_,b,S){for(;b>S;){const D=_.charCodeAt(--b);if(D!==32&&D!==9)return b+1}return S}function p(_,b,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const N=D(b);if(!e.test(N))throw new TypeError(`argument val is invalid: ${b}`);let x=_+"="+N;if(!S)return x;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);x+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);x+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);x+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);x+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(x+="; HttpOnly"),S.secure&&(x+="; Secure"),S.partitioned&&(x+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return x}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return o.call(_)==="[object Date]"}return co}M1();var g0="popstate";function O1(t={}){function e(r,o){let{pathname:u,search:c,hash:h}=r.location;return Hd("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Lo(o)}return k1(e,i,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I1(){return Math.random().toString(36).substring(2,10)}function y0(t,e){return{usr:t.state,key:t.key,idx:e}}function Hd(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zr(e):e,state:i,key:e&&e.key||r||I1()}}function Lo({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Zr(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function k1(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let N=g(),x=N==null?null:N-p;p=N,d&&d({action:h,location:D.location,delta:x})}function _(N,x){h="PUSH";let H=Hd(D.location,N,x);p=g()+1;let k=y0(H,p),W=D.createHref(H);try{c.pushState(k,"",W)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(W)}u&&d&&d({action:h,location:D.location,delta:1})}function b(N,x){h="REPLACE";let H=Hd(D.location,N,x);p=g();let k=y0(H,p),W=D.createHref(H);c.replaceState(k,"",W),u&&d&&d({action:h,location:D.location,delta:0})}function S(N){let x=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof N=="string"?N:Lo(N);return H=H.replace(/ $/,"%20"),He(x,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,x)}let D={get action(){return h},get location(){return t(o,c)},listen(N){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(g0,y),d=N,()=>{o.removeEventListener(g0,y),d=null}},createHref(N){return e(o,N)},createURL:S,encodeLocation(N){let x=S(N);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:b,go(N){return c.go(N)}};return D}function Zb(t,e,i="/"){return L1(t,e,i,!1)}function L1(t,e,i,r){let o=typeof e=="string"?Zr(e):e,u=li(o.pathname||"/",i);if(u==null)return null;let c=Jb(t);P1(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=K1(u);h=G1(c[d],p,r)}return h}function Jb(t,e=[],i=[],r=""){let o=(u,c,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(He(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=si([r,d.relativePath]),g=i.concat(d);u.children&&u.children.length>0&&(He(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Jb(u.children,e,g,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:F1(p,u.index),routesMeta:g})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,c);else for(let d of eS(u.path))o(u,c,d)}),e}function eS(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=eS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function P1(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:q1(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var U1=/^:[\w-]+$/,V1=3,B1=2,z1=1,H1=10,j1=-2,v0=t=>t==="*";function F1(t,e){let i=t.split("/"),r=i.length;return i.some(v0)&&(r+=j1),e&&(r+=B1),i.filter(o=>!v0(o)).reduce((o,u)=>o+(U1.test(u)?V1:u===""?z1:H1),r)}function q1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function G1(t,e,i=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=Xu({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),_=d.route;if(!y&&p&&i&&!r[r.length-1].route.index&&(y=Xu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:si([u,y.pathname]),pathnameBase:$1(si([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=si([u,y.pathnameBase]))}return c}function Xu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=Y1(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=h[_]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const b=h[_];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:t}}function Y1(t,e=!1,i=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function K1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function W1(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?Zr(t):t;return{pathname:i?i.startsWith("/")?i:X1(i,e):e,search:Z1(r),hash:J1(o)}}function X1(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ld(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q1(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Om(t){let e=Q1(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Im(t,e,i,r=!1){let o;typeof t=="string"?o=Zr(t):(o={...t},He(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=i;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=W1(o,h),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var si=t=>t.join("/").replace(/\/\/+/g,"/"),$1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ex(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tS=["POST","PUT","PATCH","DELETE"];new Set(tS);var tx=["GET",...tS];new Set(tx);var Jr=C.createContext(null);Jr.displayName="DataRouter";var Cc=C.createContext(null);Cc.displayName="DataRouterState";var nS=C.createContext({isTransitioning:!1});nS.displayName="ViewTransition";var nx=C.createContext(new Map);nx.displayName="Fetchers";var ix=C.createContext(null);ix.displayName="Await";var xn=C.createContext(null);xn.displayName="Navigation";var tl=C.createContext(null);tl.displayName="Location";var Vn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var km=C.createContext(null);km.displayName="RouteError";function sx(t,{relative:e}={}){He(ea(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=C.useContext(xn),{hash:o,pathname:u,search:c}=nl(t,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:si([i,u])),r.createHref({pathname:h,search:c,hash:o})}function ea(){return C.useContext(tl)!=null}function Ji(){return He(ea(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(tl).location}var iS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(t){C.useContext(xn).static||C.useLayoutEffect(t)}function ta(){let{isDataRoute:t}=C.useContext(Vn);return t?yx():rx()}function rx(){He(ea(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Jr),{basename:e,navigator:i}=C.useContext(xn),{matches:r}=C.useContext(Vn),{pathname:o}=Ji(),u=JSON.stringify(Om(r)),c=C.useRef(!1);return sS(()=>{c.current=!0}),C.useCallback((d,p={})=>{if(Rn(c.current,iS),!c.current)return;if(typeof d=="number"){i.go(d);return}let g=Im(d,JSON.parse(u),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:si([e,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[e,i,u,o,t])}C.createContext(null);function nl(t,{relative:e}={}){let{matches:i}=C.useContext(Vn),{pathname:r}=Ji(),o=JSON.stringify(Om(i));return C.useMemo(()=>Im(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function ax(t,e){return rS(t,e)}function rS(t,e,i,r){var H;He(ea(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=C.useContext(xn),{matches:c}=C.useContext(Vn),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let k=y&&y.path||"";aS(p,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=Ji(),b;if(e){let k=typeof e=="string"?Zr(e):e;He(g==="/"||((H=k.pathname)==null?void 0:H.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=_;let S=b.pathname||"/",D=S;if(g!=="/"){let k=g.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=!u&&i&&i.matches&&i.matches.length>0?i.matches:Zb(t,{pathname:D});Rn(y||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Rn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=fx(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:si([g,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:si([g,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,i,r);return e&&x?C.createElement(tl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function ox(){let t=gx(),e=ex(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),i?C.createElement("pre",{style:o},i):null,c)}var lx=C.createElement(ox,null),ux=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Vn.Provider,{value:this.props.routeContext},C.createElement(km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cx({routeContext:t,match:e,children:i}){let r=C.useContext(Jr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Vn.Provider,{value:t},i)}function fx(t,e=[],i=null,r=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let o=t,u=i==null?void 0:i.errors;if(u!=null){let d=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);He(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(i)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=i,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let y,_=!1,b=null,S=null;i&&(y=u&&p.route.id?u[p.route.id]:void 0,b=p.route.errorElement||lx,c&&(h<0&&g===0?(aS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):h===g&&(_=!0,S=p.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,g+1)),N=()=>{let x;return y?x=b:_?x=S:p.route.Component?x=C.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,C.createElement(cx,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:i!=null},children:x})};return i&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(ux,{location:i.location,revalidation:i.revalidation,component:b,error:y,children:N(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):N()},null)}function Lm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hx(t){let e=C.useContext(Jr);return He(e,Lm(t)),e}function dx(t){let e=C.useContext(Cc);return He(e,Lm(t)),e}function mx(t){let e=C.useContext(Vn);return He(e,Lm(t)),e}function Pm(t){let e=mx(t),i=e.matches[e.matches.length-1];return He(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function px(){return Pm("useRouteId")}function gx(){var r;let t=C.useContext(km),e=dx("useRouteError"),i=Pm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[i]}function yx(){let{router:t}=hx("useNavigate"),e=Pm("useNavigate"),i=C.useRef(!1);return sS(()=>{i.current=!0}),C.useCallback(async(o,u={})=>{Rn(i.current,iS),i.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var _0={};function aS(t,e,i){!e&&!_0[t]&&(_0[t]=!0,Rn(!1,i))}C.memo(vx);function vx({routes:t,future:e,state:i}){return rS(t,void 0,i,e)}function ud({to:t,replace:e,state:i,relative:r}){He(ea(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(xn);Rn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext(Vn),{pathname:c}=Ji(),h=ta(),d=Im(t,Om(u),c,r==="path"),p=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(p),{replace:e,state:i,relative:r})},[h,p,r,e,i]),null}function _o(t){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _x({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:u=!1}){He(!ea(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof i=="string"&&(i=Zr(i));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:_="default"}=i,b=C.useMemo(()=>{let S=li(d,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:_},navigationType:r}},[c,d,p,g,y,_,r]);return Rn(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(xn.Provider,{value:h},C.createElement(tl.Provider,{children:e,value:b}))}function Ex({children:t,location:e}){return ax(jd(t),e)}function jd(t,e=[]){let i=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let u=[...e,o];if(r.type===C.Fragment){i.push.apply(i,jd(r.props.children,u));return}He(r.type===_o,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=jd(r.props.children,u)),i.push(c)}),i}var Bu="get",zu="application/x-www-form-urlencoded";function wc(t){return t!=null&&typeof t.tagName=="string"}function bx(t){return wc(t)&&t.tagName.toLowerCase()==="button"}function Sx(t){return wc(t)&&t.tagName.toLowerCase()==="form"}function Tx(t){return wc(t)&&t.tagName.toLowerCase()==="input"}function Cx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wx(t,e){return t.button===0&&(!e||e==="_self")&&!Cx(t)}var Mu=null;function Ax(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var Rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cd(t){return t!=null&&!Rx.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zu}"`),null):t}function xx(t,e){let i,r,o,u,c;if(Sx(t)){let h=t.getAttribute("action");r=h?li(h,e):null,i=t.getAttribute("method")||Bu,o=cd(t.getAttribute("enctype"))||zu,u=new FormData(t)}else if(bx(t)||Tx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?li(d,e):null,i=t.getAttribute("formmethod")||h.getAttribute("method")||Bu,o=cd(t.getAttribute("formenctype"))||cd(h.getAttribute("enctype"))||zu,u=new FormData(h,t),!Ax()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else p&&u.append(p,y)}}else{if(wc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Bu,r=null,o=zu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:c}}function Um(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Dx(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Mx(t,e,i){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await Dx(u,i);return c.links?c.links():[]}return[]}));return Lx(r.flat(1).filter(Nx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function E0(t,e,i,r,o,u){let c=(d,p)=>i[p]?d.route.id!==i[p].route.id:!0,h=(d,p)=>{var g;return i[p].pathname!==d.pathname||((g=i[p].route.path)==null?void 0:g.endsWith("*"))&&i[p].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):u==="data"?e.filter((d,p)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ox(t,e,{includeHydrateFallback:i}={}){return Ix(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ix(t){return[...new Set(t)]}function kx(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function Lx(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(kx(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}var Px=new Set([100,101,204,205]);function Ux(t,e){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname="_root.data":e&&li(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function oS(){let t=C.useContext(Jr);return Um(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Vx(){let t=C.useContext(Cc);return Um(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vm=C.createContext(void 0);Vm.displayName="FrameworkContext";function lS(){let t=C.useContext(Vm);return Um(t,"You must render this element inside a <HydratedRouter> element"),t}function Bx(t,e){let i=C.useContext(Vm),[r,o]=C.useState(!1),[u,c]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=x=>{x.forEach(H=>{c(H.isIntersecting)})},N=new IntersectionObserver(D,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[t]),C.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let b=()=>{o(!0)},S=()=>{o(!1),c(!1)};return i?t!=="intent"?[u,_,{}]:[u,_,{onFocus:fo(h,b),onBlur:fo(d,S),onMouseEnter:fo(p,b),onMouseLeave:fo(g,S),onTouchStart:fo(y,b)}]:[!1,_,{}]}function fo(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function zx({page:t,...e}){let{router:i}=oS(),r=C.useMemo(()=>Zb(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?C.createElement(jx,{page:t,matches:r,...e}):null}function Hx(t){let{manifest:e,routeModules:i}=lS(),[r,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return Mx(t,e,i).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,i]),r}function jx({page:t,matches:e,...i}){let r=Ji(),{manifest:o,routeModules:u}=lS(),{basename:c}=oS(),{loaderData:h,matches:d}=Vx(),p=C.useMemo(()=>E0(t,e,d,o,r,"data"),[t,e,d,o,r]),g=C.useMemo(()=>E0(t,e,d,o,r,"assets"),[t,e,d,o,r]),y=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,D=!1;if(e.forEach(x=>{var k;let H=o.routes[x.route.id];!H||!H.hasLoader||(!p.some(W=>W.route.id===x.route.id)&&x.route.id in h&&((k=u[x.route.id])!=null&&k.shouldRevalidate)||H.hasClientLoader?D=!0:S.add(x.route.id))}),S.size===0)return[];let N=Ux(t,c);return D&&S.size>0&&N.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[N.pathname+N.search]},[c,h,r,o,p,e,t,u]),_=C.useMemo(()=>Ox(g,o),[g,o]),b=Hx(g);return C.createElement(C.Fragment,null,y.map(S=>C.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),_.map(S=>C.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),b.map(({key:S,link:D})=>C.createElement("link",{key:S,...D})))}function Fx(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uS&&(window.__reactRouterVersion="7.5.2")}catch{}function qx({basename:t,children:e,window:i}){let r=C.useRef();r.current==null&&(r.current=O1({window:i,v5Compat:!0}));let o=r.current,[u,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(d=>{C.startTransition(()=>c(d))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(_x,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var cS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fS=C.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,..._},b){let{basename:S}=C.useContext(xn),D=typeof p=="string"&&cS.test(p),N,x=!1;if(typeof p=="string"&&D&&(N=p,uS))try{let re=new URL(window.location.href),me=p.startsWith("//")?new URL(re.protocol+p):new URL(p),Qe=li(me.pathname,S);me.origin===re.origin&&Qe!=null?p=Qe+me.search+me.hash:x=!0}catch{Rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=sx(p,{relative:o}),[k,W,P]=Bx(r,_),K=Wx(p,{replace:c,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:y});function Z(re){e&&e(re),re.defaultPrevented||K(re)}let X=C.createElement("a",{..._,...P,href:N||H,onClick:x||u?e:Z,ref:Fx(b,W),target:d,"data-discover":!D&&i==="render"?"true":void 0});return k&&!D?C.createElement(C.Fragment,null,X,C.createElement(zx,{page:H})):X});fS.displayName="Link";var Gx=C.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:d,...p},g){let y=nl(c,{relative:p.relative}),_=Ji(),b=C.useContext(Cc),{navigator:S,basename:D}=C.useContext(xn),N=b!=null&&Jx(y)&&h===!0,x=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,H=_.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(H=H.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&D&&(k=li(k,D)||k);const W=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=H===x||!o&&H.startsWith(x)&&H.charAt(W)==="/",K=k!=null&&(k===x||!o&&k.startsWith(x)&&k.charAt(x.length)==="/"),Z={isActive:P,isPending:K,isTransitioning:N},X=P?e:void 0,re;typeof r=="function"?re=r(Z):re=[r,P?"active":null,K?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let me=typeof u=="function"?u(Z):u;return C.createElement(fS,{...p,"aria-current":X,className:re,ref:g,style:me,to:c,viewTransition:h},typeof d=="function"?d(Z):d)});Gx.displayName="NavLink";var Yx=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:u,method:c=Bu,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,..._},b)=>{let S=$x(),D=Zx(h,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",x=typeof h=="string"&&cS.test(h),H=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let W=k.nativeEvent.submitter,P=(W==null?void 0:W.getAttribute("formmethod"))||c;S(W||k.currentTarget,{fetcherKey:e,method:P,navigate:i,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:b,method:N,action:D,onSubmit:r?d:H,..._,"data-discover":!x&&t==="render"?"true":void 0})});Yx.displayName="Form";function Kx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(t){let e=C.useContext(Jr);return He(e,Kx(t)),e}function Wx(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let h=ta(),d=Ji(),p=nl(t,{relative:u});return C.useCallback(g=>{if(wx(g,e)){g.preventDefault();let y=i!==void 0?i:Lo(d)===Lo(p);h(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[d,h,p,i,r,e,t,o,u,c])}var Xx=0,Qx=()=>`__${String(++Xx)}__`;function $x(){let{router:t}=hS("useSubmit"),{basename:e}=C.useContext(xn),i=px();return C.useCallback(async(r,o={})=>{let{action:u,method:c,encType:h,formData:d,body:p}=xx(r,e);if(o.navigate===!1){let g=o.fetcherKey||Qx();await t.fetch(g,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,i])}function Zx(t,{relative:e}={}){let{basename:i}=C.useContext(xn),r=C.useContext(Vn);He(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...nl(t||".",{relative:e})},c=Ji();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:si([i,u.pathname])),Lo(u)}function Jx(t,e={}){let i=C.useContext(nS);He(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hS("useViewTransitionState"),o=nl(t,{relative:e.relative});if(!i.isTransitioning)return!1;let u=li(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=li(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Xu(o.pathname,c)!=null||Xu(o.pathname,u)!=null}new TextEncoder;[...Px];const eD=()=>{};var b0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw na(e)},na=function(t){return new Error("Firebase Database ("+dS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},tD=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[i++],c=t[i++],h=t[i++],d=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const u=t[i++],c=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Bm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|p>>6,b=p&63;d||(b=64,c||(_=64)),r.push(i[g],i[y],i[_],i[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=i[t.charAt(o++)],h=o<t.length?i[t.charAt(o)]:0;++o;const p=o<t.length?i[t.charAt(o)]:64;++o;const y=o<t.length?i[t.charAt(o)]:64;if(++o,u==null||h==null||p==null||y==null)throw new nD;const _=u<<2|h>>4;if(r.push(_),p!==64){const b=h<<4&240|p>>2;if(r.push(b),y!==64){const S=p<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(t){const e=mS(t);return Bm.encodeByteArray(e,!0)},Qu=function(t){return pS(t).replace(/\./g,"")},$u=function(t){try{return Bm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){return gS(void 0,t)}function gS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!sD(i)||(t[i]=gS(t[i],e[i]));return t}function sD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=()=>rD().__FIREBASE_DEFAULTS__,oD=()=>{if(typeof process>"u"||typeof b0>"u")return;const t=b0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$u(t[1]);return e&&JSON.parse(e)},zm=()=>{try{return eD()||aD()||oD()||lD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yS=t=>{var e,i;return(i=(e=zm())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},uD=t=>{const e=yS(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},vS=()=>{var t;return(t=zm())===null||t===void 0?void 0:t.config},_S=t=>{var e;return(e=zm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qu(JSON.stringify(i)),Qu(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function fD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dD(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mD(){return dS.NODE_ADMIN===!0}function pD(){try{return typeof indexedDB=="object"}catch{return!1}}function gD(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="FirebaseError";class es extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=yD,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,il.prototype.create)}}class il{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?vD(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new es(o,h,r)}}function vD(t,e){return t.replace(_D,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _D=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){return JSON.parse(t)}function mt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(t){let e={},i={},r={},o="";try{const u=t.split(".");e=Po($u(u[0])||""),i=Po($u(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},ED=function(t){const e=bS(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},bD=function(t){const e=bS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zu(t,e,i){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(i,t[o],o,t));return r}function Us(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(S0(u)&&S0(c)){if(!Us(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function S0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){const e=[];for(const[i,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function bo(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=h^u&(c^h),g=1518500249):(p=u^c^h,g=1859775393):y<60?(p=u&c|h&(u|c),g=2400959708):(p=u^c^h,g=3395469782);const _=(o<<5|o>>>27)+p+d+g+r[y]&4294967295;d=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<i;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<i;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function TD(t,e){const i=new CD(t,e);return i.subscribe.bind(i)}class CD{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");wD(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=fd),o.error===void 0&&(o.error=fd),o.complete===void 0&&(o.complete=fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wD(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function fd(){}function jm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Rc=function(t){let e=0;for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Ac;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DD(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xD(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xD(t){return t===ws?void 0:t}function DD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RD(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const MD={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},OD=ke.INFO,ID={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},kD=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ID[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=kD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const LD=(t,e)=>e.some(i=>t instanceof i);let T0,C0;function PD(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UD(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SS=new WeakMap,qd=new WeakMap,TS=new WeakMap,hd=new WeakMap,qm=new WeakMap;function VD(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{i(Gi(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&SS.set(i,t)}).catch(()=>{}),qm.set(e,t),e}function BD(t){if(qd.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});qd.set(t,e)}let Gd={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TS.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gi(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zD(t){Gd=t(Gd)}function HD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(dd(this),e,...i);return TS.set(r,e.sort?e.sort():[e]),Gi(r)}:UD().includes(t)?function(...e){return t.apply(dd(this),e),Gi(SS.get(this))}:function(...e){return Gi(t.apply(dd(this),e))}}function jD(t){return typeof t=="function"?HD(t):(t instanceof IDBTransaction&&BD(t),LD(t,PD())?new Proxy(t,Gd):t)}function Gi(t){if(t instanceof IDBRequest)return VD(t);if(hd.has(t))return hd.get(t);const e=jD(t);return e!==t&&(hd.set(t,e),qm.set(e,t)),e}const dd=t=>qm.get(t);function FD(t,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=Gi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Gi(c.result),d.oldVersion,d.newVersion,Gi(c.transaction),d)}),i&&c.addEventListener("blocked",d=>i(d.oldVersion,d.newVersion,d)),h.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const qD=["get","getKey","getAll","getAllKeys","count"],GD=["put","add","delete","clear"],md=new Map;function w0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=GD.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qD.includes(i)))return;const u=async function(c,...h){const d=this.transaction(c,o?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[i](...h),o&&d.done]))[0]};return md.set(e,u),u}zD(t=>({...t,get:(e,i,r)=>w0(e,i)||t.get(e,i,r),has:(e,i)=>!!w0(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KD(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function KD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",A0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Fm("@firebase/app"),WD="@firebase/app-compat",XD="@firebase/analytics-compat",QD="@firebase/analytics",$D="@firebase/app-check-compat",ZD="@firebase/app-check",JD="@firebase/auth",eN="@firebase/auth-compat",tN="@firebase/database",nN="@firebase/data-connect",iN="@firebase/database-compat",sN="@firebase/functions",rN="@firebase/functions-compat",aN="@firebase/installations",oN="@firebase/installations-compat",lN="@firebase/messaging",uN="@firebase/messaging-compat",cN="@firebase/performance",fN="@firebase/performance-compat",hN="@firebase/remote-config",dN="@firebase/remote-config-compat",mN="@firebase/storage",pN="@firebase/storage-compat",gN="@firebase/firestore",yN="@firebase/vertexai",vN="@firebase/firestore-compat",_N="firebase",EN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",bN={[Yd]:"fire-core",[WD]:"fire-core-compat",[QD]:"fire-analytics",[XD]:"fire-analytics-compat",[ZD]:"fire-app-check",[$D]:"fire-app-check-compat",[JD]:"fire-auth",[eN]:"fire-auth-compat",[tN]:"fire-rtdb",[nN]:"fire-data-connect",[iN]:"fire-rtdb-compat",[sN]:"fire-fn",[rN]:"fire-fn-compat",[aN]:"fire-iid",[oN]:"fire-iid-compat",[lN]:"fire-fcm",[uN]:"fire-fcm-compat",[cN]:"fire-perf",[fN]:"fire-perf-compat",[hN]:"fire-rc",[dN]:"fire-rc-compat",[mN]:"fire-gcs",[pN]:"fire-gcs-compat",[gN]:"fire-fst",[vN]:"fire-fst-compat",[yN]:"fire-vertex","fire-js":"fire-js",[_N]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,SN=new Map,Wd=new Map;function R0(t,e){try{t.container.addComponent(e)}catch(i){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Yr(t){const e=t.name;if(Wd.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,t);for(const i of Ju.values())R0(i,t);for(const i of SN.values())R0(i,t);return!0}function Gm(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new il("app","Firebase",TN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=EN;function CS(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(i||(i=vS()),!i)throw Yi.create("no-options");const u=Ju.get(o);if(u){if(Us(i,u.options)&&Us(r,u.config))return u;throw Yi.create("duplicate-app",{appName:o})}const c=new ND(o);for(const d of Wd.values())c.addComponent(d);const h=new CN(i,r,c);return Ju.set(o,h),h}function wS(t=Kd){const e=Ju.get(t);if(!e&&t===Kd&&vS())return CS();if(!e)throw Yi.create("no-app",{appName:t});return e}function Ki(t,e,i){var r;let o=(r=bN[t])!==null&&r!==void 0?r:t;i&&(o+=`-${i}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(h.join(" "));return}Yr(new Vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",AN=1,Uo="firebase-heartbeat-store";let pd=null;function AS(){return pd||(pd=FD(wN,AN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uo)}catch(i){console.warn(i)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),pd}async function RN(t){try{const i=(await AS()).transaction(Uo),r=await i.objectStore(Uo).get(RS(t));return await i.done,r}catch(e){if(e instanceof es)ui.warn(e.message);else{const i=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(i.message)}}}async function x0(t,e){try{const r=(await AS()).transaction(Uo,"readwrite");await r.objectStore(Uo).put(e,RS(t)),await r.done}catch(i){if(i instanceof es)ui.warn(i.message);else{const r=Yi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ui.warn(r.message)}}}function RS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,DN=30;class NN{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ON(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DN){const c=IN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=D0(),{heartbeatsToSend:r,unsentEntries:o}=MN(this._heartbeatsCache.heartbeats),u=Qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ui.warn(i),""}}}function D0(){return new Date().toISOString().substring(0,10)}function MN(t,e=xN){const i=[];let r=t.slice();for(const o of t){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),N0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),N0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ON{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pD()?gD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RN(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return x0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return x0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function N0(t){return Qu(JSON.stringify({version:2,heartbeats:t})).length}function IN(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){Yr(new Vs("platform-logger",e=>new YD(e),"PRIVATE")),Yr(new Vs("heartbeat",e=>new NN(e),"PRIVATE")),Ki(Yd,A0,t),Ki(Yd,A0,"esm2017"),Ki("fire-js","")}kN("");function Ym(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function xS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=xS,DS=new il("auth","Firebase",xS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Fm("@firebase/auth");function PN(t,...e){ec.logLevel<=ke.WARN&&ec.warn(`Auth (${sa}): ${t}`,...e)}function Hu(t,...e){ec.logLevel<=ke.ERROR&&ec.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,...e){throw Wm(t,...e)}function wn(t,...e){return Wm(t,...e)}function Km(t,e,i){const r=Object.assign(Object.assign({},LN()),{[e]:i});return new il("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return Km(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UN(t,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&dn(t,"argument-error"),Km(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wm(t,...e){if(typeof t!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(i,...r)}return DS.create(t,...e)}function oe(t,e,...i){if(!t)throw Wm(e,...i)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hu(e),new Error(e)}function ci(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VN(){return M0()==="http:"||M0()==="https:"}function M0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VN()||hD()||"connection"in navigator)?navigator.onLine:!0}function zN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ci(i>e,"Short delay should be less than long delay!"),this.isMobile=Hm()||ES()}get(){return BN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){ci(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FN=new sl(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,i,r,o={}){return MS(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const h=ia(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},u);return fD()||(p.referrerPolicy="no-referrer"),NS.fetch()(await OS(t,t.config.apiHost,i,h),p)})}async function MS(t,e,i){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HN),e);try{const o=new GN(t),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ou(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Ou(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Km(t,g,p);dn(t,g)}}catch(o){if(o instanceof es)throw o;dn(t,"network-request-failed",{message:String(o)})}}async function rl(t,e,i,r,o={}){const u=await ns(t,e,i,r,o);return"mfaPendingCredential"in u&&dn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function OS(t,e,i,r){const o=`${e}${i}?${r}`,u=t,c=u.config.emulator?Xm(t.config,o):`${t.config.apiScheme}://${o}`;return jN.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function qN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),FN.get())})}}function Ou(t,e,i){const r={appName:t.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=wn(t,e,r);return o.customData._tokenResponse=i,o}function O0(t){return t!==void 0&&t.enterprise!==void 0}class YN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return qN(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KN(t,e){return ns(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function tc(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XN(t,e=!1){const i=Bt(t),r=await i.getIdToken(e),o=Qm(r);oe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Co(gd(o.auth_time)),issuedAtTime:Co(gd(o.iat)),expirationTime:Co(gd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gd(t){return Number(t)*1e3}function Qm(t){const[e,i,r]=t.split(".");if(e===void 0||i===void 0||r===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const o=$u(i);return o?JSON.parse(o):(Hu("Failed to decode base64 JWT payload"),null)}catch(o){return Hu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function I0(t){const e=Qm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof es&&QN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){var e;const i=t.auth,r=await t.getIdToken(),o=await Vo(t,tc(i,{idToken:r}));oe(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?IS(u.providerUserInfo):[],h=JN(t.providerData,c),d=t.isAnonymous,p=!(t.email&&u.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Qd(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function ZN(t){const e=Bt(t);await nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JN(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function IS(t){return t.map(e=>{var{providerId:i}=e,r=Ym(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){const i=await MS(t,{},async()=>{const r=ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await OS(t,o,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",NS.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tM(t,e){return ns(t,"POST","/v2/accounts:revokeToken",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const i=I0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await eM(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,c=new Br;return r&&(oe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(oe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(oe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Br,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sn{constructor(e){var{uid:i,auth:r,stsTokenManager:o}=e,u=Ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Qd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return oe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return XN(this,e)}reload(){return ZN(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Vo(this,WN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,o,u,c,h,d,p,g;const y=(r=i.displayName)!==null&&r!==void 0?r:void 0,_=(o=i.email)!==null&&o!==void 0?o:void 0,b=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,S=(c=i.photoURL)!==null&&c!==void 0?c:void 0,D=(h=i.tenantId)!==null&&h!==void 0?h:void 0,N=(d=i._redirectEventId)!==null&&d!==void 0?d:void 0,x=(p=i.createdAt)!==null&&p!==void 0?p:void 0,H=(g=i.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:W,isAnonymous:P,providerData:K,stsTokenManager:Z}=i;oe(k&&Z,e,"internal-error");const X=Br.fromJSON(this.name,Z);oe(typeof k=="string",e,"internal-error"),zi(y,e.name),zi(_,e.name),oe(typeof W=="boolean",e,"internal-error"),oe(typeof P=="boolean",e,"internal-error"),zi(b,e.name),zi(S,e.name),zi(D,e.name),zi(N,e.name),zi(x,e.name),zi(H,e.name);const re=new Sn({uid:k,auth:e,email:_,emailVerified:W,displayName:y,isAnonymous:P,photoURL:S,phoneNumber:b,tenantId:D,stsTokenManager:X,createdAt:x,lastLoginAt:H});return K&&Array.isArray(K)&&(re.providerData=K.map(me=>Object.assign({},me))),N&&(re._redirectEventId=N),re}static async _fromIdTokenResponse(e,i,r=!1){const o=new Br;o.updateFromServerResponse(i);const u=new Sn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nc(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new Br;h.updateFromIdToken(r);const d=new Sn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function ni(t){ci(t instanceof Function,"Expected a class definition");let e=k0.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}kS.type="NONE";const L0=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,i){return`firebase:${t}:${e}:${i}`}class zr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ju(this.userKey,o.apiKey,u),this.fullPersistenceKey=ju("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await tc(this.auth,{idToken:e}).catch(()=>{});return i?Sn._fromGetAccountInfoResponse(this.auth,i,e):null}return Sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new zr(ni(L0),e,r);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ni(L0);const c=ju(r,e.config.apiKey,e.name);let h=null;for(const p of i)try{const g=await p._get(c);if(g){let y;if(typeof g=="string"){const _=await tc(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Sn._fromGetAccountInfoResponse(e,_,g)}else y=Sn._fromJSON(e,g);p!==u&&(h=y),u=p;break}}catch{}const d=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new zr(u,e,r):(u=d[0],h&&await u._set(c,h.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new zr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zS(e))return"Blackberry";if(HS(e))return"Webos";if(PS(e))return"Safari";if((e.includes("chrome/")||US(e))&&!e.includes("edge/"))return"Chrome";if(BS(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LS(t=xt()){return/firefox\//i.test(t)}function PS(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function US(t=xt()){return/crios\//i.test(t)}function VS(t=xt()){return/iemobile/i.test(t)}function BS(t=xt()){return/android/i.test(t)}function zS(t=xt()){return/blackberry/i.test(t)}function HS(t=xt()){return/webos/i.test(t)}function $m(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nM(t=xt()){var e;return $m(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iM(){return dD()&&document.documentMode===10}function jS(t=xt()){return $m(t)||BS(t)||HS(t)||zS(t)||/windows phone/i.test(t)||VS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e=[]){let i;switch(t){case"Browser":i=P0(xt());break;case"Worker":i=`${P0(xt())}-${t}`;break;default:i=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((c,h)=>{try{const d=e(u);c(d)}catch(d){h(d)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=6;class oM{constructor(e){var i,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=c.minPasswordLength)!==null&&i!==void 0?i:aM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,o,u,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(i=d.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new sM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ni(i)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await zr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await tc(this,{idToken:e}),r=await Sn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Zt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(ri(this));const i=e?Bt(e):null;return i&&oe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rM(this),i=new oM(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new il("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await tM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ni(e)||this._popupRedirectResolver;oe(i,this,"argument-error"),this.redirectPersistenceManager=await zr.create(this,[ni(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof i=="function"){const d=e.addObserver(i,r,o);return()=>{c=!0,d()}}else{const d=e.addObserver(i);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&PN(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function is(t){return Bt(t)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=TD(i=>this.observer=i)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uM(t){xc=t}function qS(t){return xc.loadJS(t)}function cM(){return xc.recaptchaEnterpriseScript}function fM(){return xc.gapiScript}function hM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dM{constructor(){this.enterprise=new mM}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class mM{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const pM="recaptcha-enterprise",GS="NO_RECAPTCHA";class gM{constructor(e){this.type=pM,this.auth=is(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,h)=>{KN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new YN(d);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function o(u,c,h){const d=window.grecaptcha;O0(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(GS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dM().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(h=>{if(!i&&O0(window.grecaptcha))o(h,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cM();d.length!==0&&(d+=h),qS(d).then(()=>{o(h,u,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function V0(t,e,i,r=!1,o=!1){const u=new gM(t);let c;if(o)c=GS;else try{c=await u.verify(i)}catch{c=await u.verify(i,!0)}const h=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $d(t,e,i,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await V0(t,e,i,i==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await V0(t,e,i,i==="getOobCode");return r(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e){const i=Gm(t,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Us(u,e??{}))return o;dn(o,"already-initialized")}return i.initialize({options:e})}function vM(t,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _M(t,e,i){const r=is(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=YS(e),{host:c,port:h}=EM(e),d=h===null?"":`:${h}`,p={url:`${u}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Us(p,r.config.emulator)&&Us(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,bM()}function YS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EM(t){const e=YS(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:B0(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:B0(c)}}}function B0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bM(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,i){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function SM(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){return rl(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function wM(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Zm{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Bo(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Bo(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(e,i,"signInWithPassword",TM);case"emailLink":return CM(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(e,r,"signUpPassword",SM);case"emailLink":return wM(e,{idToken:i,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(t,e){return rl(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="http://localhost";class Bs extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):dn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=i,u=Ym(i,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Bs(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const i=this.buildRequest();return Hr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Hr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Hr(e,i)}buildRequest(){const e={requestUri:AM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ia(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xM(t){const e=Eo(bo(t)).link,i=e?Eo(bo(e)).deep_link_id:null,r=Eo(bo(t)).deep_link_id;return(r?Eo(bo(r)).link:null)||r||i||e||t}class Jm{constructor(e){var i,r,o,u,c,h;const d=Eo(bo(e)),p=(i=d.apiKey)!==null&&i!==void 0?i:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=RM((o=d.mode)!==null&&o!==void 0?o:null);oe(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const i=xM(e);try{return new Jm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,i){return Bo._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Jm.parseLink(i);return oe(r,"argument-error"),Bo._fromEmailAndCode(e,r.code,r.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends al{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Bs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ei.credential(i,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends al{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends al{constructor(){super("twitter.com")}static credential(e,i){return Bs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return qi.credential(i,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){return rl(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await Sn._fromIdTokenResponse(e,r,o),c=z0(r);return new zs({user:u,providerId:c,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=z0(r);return new zs({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function z0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends es{constructor(e,i,r,o){var u;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new ic(e,i,r,o)}}function KS(t,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ic._fromErrorAndOperation(t,u,e,r):u})}async function NM(t,e,i=!1){const r=await Vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e,i=!1){const{auth:r}=t;if(Zt(r.app))return Promise.reject(ri(r));const o="reauthenticate";try{const u=await Vo(t,KS(r,o,e,t),i);oe(u.idToken,r,"internal-error");const c=Qm(u.idToken);oe(c,r,"internal-error");const{sub:h}=c;return oe(t.uid===h,r,"user-mismatch"),zs._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&dn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(t,e,i=!1){if(Zt(t.app))return Promise.reject(ri(t));const r="signIn",o=await KS(t,r,e),u=await zs._fromIdTokenResponse(t,r,o);return i||await t._updateCurrentUser(u.user),u}async function OM(t,e){return WS(is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t){const e=is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IM(t,e,i){if(Zt(t.app))return Promise.reject(ri(t));const r=is(t),c=await $d(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&XS(t),d}),h=await zs._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function kM(t,e,i){return Zt(t.app)?Promise.reject(ri(t)):OM(Bt(t),ra.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XS(t),r})}function LM(t,e,i,r){return Bt(t).onIdTokenChanged(e,i,r)}function PM(t,e,i){return Bt(t).beforeAuthStateChanged(e,i)}function UM(t,e,i,r){return Bt(t).onAuthStateChanged(e,i,r)}const sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sc,"1"),this.storage.removeItem(sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=1e3,BM=10;class $S extends QS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);iM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BM):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}$S.type="LOCAL";const zM=$S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends QS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ZS.type="SESSION";const JS=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Dc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async p=>p(i.origin,u)),d=await HM(h);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((h,d)=>{const p=tp("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function FM(t){kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function qM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YM(){return eT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebaseLocalStorageDb",KM=1,rc="firebaseLocalStorage",nT="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nc(t,e){return t.transaction([rc],e?"readwrite":"readonly").objectStore(rc)}function WM(){const t=indexedDB.deleteDatabase(tT);return new ol(t).toPromise()}function Zd(){const t=indexedDB.open(tT,KM);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rc,{keyPath:nT})}catch(o){i(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rc)?e(r):(r.close(),await WM(),e(await Zd()))})})}async function H0(t,e,i){const r=Nc(t,!0).put({[nT]:e,value:i});return new ol(r).toPromise()}async function XM(t,e){const i=Nc(t,!1).get(e),r=await new ol(i).toPromise();return r===void 0?null:r.value}function j0(t,e){const i=Nc(t,!0).delete(e);return new ol(i).toPromise()}const QM=800,$M=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>$M)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dc._getInstance(YM()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await qM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zd();return await H0(e,sc,"1"),await j0(e,sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>H0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>XM(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>j0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Nc(o,!1).getAll();return new ol(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const ZM=iT;new sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){return e?ni(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Hr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Hr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function JM(t){return WS(t.auth,new np(t),t.bypassAuthState)}function eO(t){const{auth:e,user:i}=t;return oe(i,e,"internal-error"),MM(i,new np(t),t.bypassAuthState)}async function tO(t){const{auth:e,user:i}=t;return oe(i,e,"internal-error"),NM(i,new np(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JM;case"linkViaPopup":case"linkViaRedirect":return tO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:dn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new sl(2e3,1e4);async function iO(t,e,i){if(Zt(t.app))return Promise.reject(wn(t,"operation-not-supported-in-this-environment"));const r=is(t);UN(t,e,ep);const o=sT(r,i);return new Ns(r,"signInViaPopup",e,o).executeNotNull()}class Ns extends rT{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nO.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="pendingRedirect",Fu=new Map;class rO extends rT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const r=await aO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aO(t,e){const i=uO(e),r=lO(t);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function oO(t,e){Fu.set(t._key(),e)}function lO(t){return ni(t._redirectPersistence)}function uO(t){return ju(sO,t.config.apiKey,t.name)}async function cO(t,e,i=!1){if(Zt(t.app))return Promise.reject(ri(t));const r=is(t),o=sT(r,e),c=await new rO(r,o,i).execute();return c&&!i&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=10*60*1e3;class hO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dO(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!aT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(wn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fO&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(e))}saveEventToCache(e){this.cachedEventUids.add(F0(e)),this.lastProcessedEventTime=Date.now()}}function F0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mO(t);for(const i of e)try{if(vO(i))return}catch{}dn(t,"unauthorized-domain")}function vO(t){const e=Xd(),{protocol:i,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===r}if(!gO.test(i))return!1;if(pO.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new sl(3e4,6e4);function q0(){const t=kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function EO(t){return new Promise((e,i)=>{var r,o,u;function c(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),i(wn(t,"network-request-failed"))},timeout:_O.get()})}if(!((o=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=kn().gapi)===null||u===void 0)&&u.load)c();else{const h=hM("iframefcb");return kn()[h]=()=>{gapi.load?c():i(wn(t,"network-request-failed"))},qS(`${fM()}?onload=${h}`).catch(d=>i(d))}}).catch(e=>{throw qu=null,e})}let qu=null;function bO(t){return qu=qu||EO(t),qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new sl(5e3,15e3),TO="__/auth/iframe",CO="emulator/auth/iframe",wO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RO(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?Xm(e,CO):`https://${t.config.authDomain}/${TO}`,r={apiKey:e.apiKey,appName:t.name,v:sa},o=AO.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ia(r).slice(1)}`}async function xO(t){const e=await bO(t),i=kn().gapi;return oe(i,t,"internal-error"),e.open({where:document.body,url:RO(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=wn(t,"network-request-failed"),h=kn().setTimeout(()=>{u(c)},SO.get());function d(){kn().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,MO=600,OO="_blank",IO="http://localhost";class G0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kO(t,e,i,r=NO,o=MO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},DO),{width:r.toString(),height:o.toString(),top:u,left:c}),p=xt().toLowerCase();i&&(h=US(p)?OO:i),LS(p)&&(e=e||IO,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[b,S])=>`${_}${b}=${S},`,"");if(nM(p)&&h!=="_self")return LO(e||"",h),new G0(null);const y=window.open(e||"",h,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new G0(y)}function LO(t,e){const i=document.createElement("a");i.href=t,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__/auth/handler",UO="emulator/auth/handler",VO=encodeURIComponent("fac");async function Y0(t,e,i,r,o,u){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:r,v:sa,eventId:o};if(e instanceof ep){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Fd(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof al){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${VO}=${encodeURIComponent(d)}`:"";return`${BO(t)}?${ia(h).slice(1)}${p}`}function BO({config:t}){return t.emulator?Xm(t,UO):`https://${t.authDomain}/${PO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class zO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JS,this._completeRedirectFn=cO,this._overrideRedirectResult=oO}async _openPopup(e,i,r,o){var u;ci((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await Y0(e,i,r,Xd(),o);return kO(e,c,tp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await Y0(e,i,r,Xd(),o);return FM(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(ci(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await xO(e),r=new hO(e);return i.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(yd,{type:yd},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[yd];c!==void 0&&i(!!c),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=yO(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return jS()||PS()||$m()}}const HO=zO;var K0="@firebase/auth",W0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(t){Yr(new Vs("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;oe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FS(t)},p=new lM(r,o,u,d);return vM(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new Vs("auth-internal",e=>{const i=is(e.getProvider("auth").getImmediate());return(r=>new jO(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(K0,W0,FO(t)),Ki(K0,W0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=5*60,YO=_S("authIdTokenMaxAge")||GO;let X0=null;const KO=t=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>YO)return;const o=i==null?void 0:i.token;X0!==o&&(X0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WO(t=wS()){const e=Gm(t,"auth");if(e.isInitialized())return e.getImmediate();const i=yM(t,{popupRedirectResolver:HO,persistence:[ZM,zM,JS]}),r=_S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=KO(u.toString());PM(i,c,()=>c(i.currentUser)),LM(i,h=>c(h))}}const o=yS("auth");return o&&_M(i,`http://${o}`),i}function XO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uM({loadJS(t){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=wn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",XO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");var QO="firebase",$O="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(QO,$O,"app");var Q0={};const $0="@firebase/database",Z0="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oT="";function ZO(t){oT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Po(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return pi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new JO(e)}}catch{}return new eI},Ms=lT("localStorage"),tI=lT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Fm("@firebase/database"),nI=function(){let t=1;return function(){return t++}}(),uT=function(t){const e=AD(t),i=new SD;i.update(e);const r=i.digest();return Bm.encodeByteArray(r)},ll=function(...t){let e="";for(let i=0;i<t.length;i++){const r=t[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ll.apply(null,r):typeof r=="object"?e+=mt(r):e+=r,e+=" "}return e};let wo=null,J0=!0;const iI=function(t,e){Y(!0,"Can't turn on custom loggers persistently."),jr.logLevel=ke.VERBOSE,wo=jr.log.bind(jr)},Ct=function(...t){if(J0===!0&&(J0=!1,wo===null&&tI.get("logging_enabled")===!0&&iI()),wo){const e=ll.apply(null,t);wo(e)}},ul=function(t){return function(...e){Ct(t,...e)}},Jd=function(...t){const e="FIREBASE INTERNAL ERROR: "+ll(...t);jr.error(e)},fi=function(...t){const e=`FIREBASE FATAL ERROR: ${ll(...t)}`;throw jr.error(e),new Error(e)},Ut=function(...t){const e="FIREBASE WARNING: "+ll(...t);jr.warn(e)},sI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rI=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Kr="[MIN_NAME]",Hs="[MAX_NAME]",aa=function(t,e){if(t===e)return 0;if(t===Kr||e===Hs)return-1;if(e===Kr||t===Hs)return 1;{const i=eE(t),r=eE(e);return i!==null?r!==null?i-r===0?t.length-e.length:i-r:-1:r!==null?1:t<e?-1:1}},aI=function(t,e){return t===e?0:t<e?-1:1},ho=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+mt(e))},ip=function(t){if(typeof t!="object"||t===null)return mt(t);const e=[];for(const r in t)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=mt(e[r]),i+=":",i+=ip(t[e[r]]);return i+="}",i},fT=function(t,e){const i=t.length;if(i<=e)return[t];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(t.substring(o,i)):r.push(t.substring(o,o+e));return r};function Vt(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const hT=function(t){Y(!cT(t),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,u,c,h,d;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,c=Math.round(t/Math.pow(2,1-r-i))));const p=[];for(d=i;d;d-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},oI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uI(t,e){let i="Unknown Error";t==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?i="Client doesn't have permission to access the desired data.":t==="unavailable"&&(i="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+i);return r.code=t.toUpperCase(),r}const cI=new RegExp("^-?(0*)\\d{1,10}$"),fI=-2147483648,hI=2147483647,eE=function(t){if(cI.test(t)){const e=Number(t);if(e>=fI&&e<=hI)return e}return null},oa=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Ut("Exception was thrown by user callback.",i),e},Math.floor(0))}},dI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ao=function(t,e){const i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Zt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ut(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ut(e)}}class Gu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="5",dT="v",mT="s",pT="r",gT="f",yT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vT="ls",_T="p",em="ac",ET="websocket",bT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,i,r,o,u=!1,c="",h=!1,d=!1,p=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ms.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ms.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function gI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TT(t,e,i){Y(typeof e=="string","typeof type must == string"),Y(typeof i=="object","typeof params must == object");let r;if(e===ET)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gI(t)&&(i.ns=t.namespace);const o=[];return Vt(i,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.counters_={}}incrementCounter(e,i=1){pi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return iD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={},_d={};function rp(t){const e=t.toString();return vd[e]||(vd[e]=new yI),vd[e]}function vI(t,e){const i=t.toString();return _d[i]||(_d[i]=e()),_d[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&oa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="start",EI="close",bI="pLPCommand",SI="pRTLPCB",CT="id",wT="pw",AT="ser",TI="cb",CI="seg",wI="ts",AI="d",RI="dframe",RT=1870,xT=30,xI=RT-xT,DI=25e3,NI=3e4;class Ir{constructor(e,i,r,o,u,c,h){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ul(e),this.stats_=rp(i),this.urlFn=d=>(this.appCheckToken&&(d[em]=this.appCheckToken),TT(i,bT,d))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new _I(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NI)),rI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ap((...u)=>{const[c,h,d,p,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===tE)this.id=h,this.password=d;else if(c===EI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[tE]="t",r[AT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[TI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dT]=sp,this.transportSessionId&&(r[mT]=this.transportSessionId),this.lastSessionId&&(r[vT]=this.lastSessionId),this.applicationId&&(r[_T]=this.applicationId),this.appCheckToken&&(r[em]=this.appCheckToken),typeof location<"u"&&location.hostname&&yT.test(location.hostname)&&(r[pT]=gT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ir.forceAllow_=!0}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){return Ir.forceAllow_?!0:!Ir.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oI()&&!lI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=mt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=pS(i),o=fT(r,xI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[RI]="t",r[CT]=e,r[wT]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=mt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class ap{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nI(),window[bI+this.uniqueCallbackIdentifier]=e,window[SI+this.uniqueCallbackIdentifier]=i,this.myIFrame=ap.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Ct("frame writing exception"),h.stack&&Ct(h.stack),Ct(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ct("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[CT]=this.myID,e[wT]=this.myPW,e[AT]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xT+r.length<=RT;){const c=this.pendingSegs.shift();r=r+"&"+CI+o+"="+c.seg+"&"+wI+o+"="+c.ts+"&"+AI+o+"="+c.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(DI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{Ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=16384,OI=45e3;let ac=null;typeof MozWebSocket<"u"?ac=MozWebSocket:typeof WebSocket<"u"&&(ac=WebSocket);class bn{constructor(e,i,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ul(this.connId),this.stats_=rp(i),this.connURL=bn.connectionURL_(i,c,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const c={};return c[dT]=sp,typeof location<"u"&&location.hostname&&yT.test(location.hostname)&&(c[pT]=gT),i&&(c[mT]=i),r&&(c[vT]=r),o&&(c[em]=o),u&&(c[_T]=u),TT(e,ET,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ms.set("previous_websocket_failure",!0);try{let r;mD(),this.mySock=new ac(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ac!==null&&!bn.forceDisallow_}static previouslyFailed(){return Ms.isInMemoryStorage||Ms.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ms.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Po(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=mt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=fT(i,MI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OI))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bn.responsesRequiredToBeHealthy=2;bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static get ALL_TRANSPORTS(){return[Ir,bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=bn&&bn.isAvailable();let r=i&&!bn.previouslyFailed();if(e.webSocketOnly&&(i||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bn];else{const o=this.transports_=[];for(const u of zo.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);zo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=6e4,kI=5e3,LI=10*1024,PI=100*1024,Ed="t",nE="d",UI="s",iE="r",VI="e",sE="o",rE="a",aE="n",oE="p",BI="h";class zI{constructor(e,i,r,o,u,c,h,d,p,g){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ul("c:"+this.id+":"),this.transportManager_=new zo(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ao(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>PI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ed in e){const i=e[Ed];i===rE?this.upgradeIfSecondaryHealthy_():i===iE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===sE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=ho("t",e),r=ho("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:rE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=ho("t",e),r=ho("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=ho(Ed,e);if(nE in e){const r=e[nE];if(i===BI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===aE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===UI?this.onConnectionShutdown_(r):i===iE?this.onReset_(r):i===VI?Jd("Server Error: "+r):i===sE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jd("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),sp!==r&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Ao(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(II))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ao(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ms.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends NT{static getInstance(){return new oc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=32,uE=768;class Pe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function xe(){return new Pe("")}function ye(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xi(t){return t.pieces_.length-t.pieceNum_}function Ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pe(t.pieces_,e)}function MT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function HI(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function OT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function IT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new Pe(e,0)}function at(t,e){const i=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);if(e instanceof Pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Pe(i,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function kt(t,e){const i=ye(t),r=ye(e);if(i===null)return e;if(i===r)return kt(Ve(t),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function op(t,e){if(Xi(t)!==Xi(e))return!1;for(let i=t.pieceNum_,r=e.pieceNum_;i<=t.pieces_.length;i++,r++)if(t.pieces_[i]!==e.pieces_[r])return!1;return!0}function Tn(t,e){let i=t.pieceNum_,r=e.pieceNum_;if(Xi(t)>Xi(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class jI{constructor(e,i){this.errorPrefix_=i,this.parts_=OT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Rc(this.parts_[r]);kT(this)}}function FI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rc(e),kT(t)}function qI(t){const e=t.parts_.pop();t.byteLength_-=Rc(e),t.parts_.length>0&&(t.byteLength_-=1)}function kT(t){if(t.byteLength_>uE)throw new Error(t.errorPrefix_+"has a key path longer than "+uE+" bytes ("+t.byteLength_+").");if(t.parts_.length>lE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lE+") or object contains a cycle "+As(t))}function As(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends NT{static getInstance(){return new lp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=1e3,GI=60*5*1e3,cE=30*1e3,YI=1.3,KI=3e4,WI="server_kill",fE=3;class ai extends DT{constructor(e,i,r,o,u,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=ai.nextPersistentConnectionId_++,this.log_=ul("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mo,this.maxReconnectDelay_=GI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(mt(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new Ac,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const d=h.d,p=h.s;ai.warnOnListenWarnings_(d,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&pi(e,"w")){const r=Gr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=ED(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const c={p:i,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Jd("Unrecognized action received from server: "+mt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KI&&(this.reconnectDelay_=mo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ai.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,r())},p=function(y){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Ct("getToken() completed but was canceled"):(Ct("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new zI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,b=>{Ut(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(WI)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Ut(y),d())}}}interrupt(e){Ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fd(this.interruptReasons_)&&(this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>ip(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Pe(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Ct("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fE&&(this.reconnectDelay_=cE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ct("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+oT.replace(/\./g,"-")]=1,Hm()?e["framework.cordova"]=1:ES()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oc.getInstance().currentlyOnline();return Fd(this.interruptReasons_)&&e}}ai.nextPersistentConnectionId_=0;ai.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ve(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new ve(Kr,e),o=new ve(Kr,i);return this.compare(r,o)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;class LT extends Mc{static get __EMPTY_NODE(){return Iu}static set __EMPTY_NODE(e){Iu=e}compare(e,i){return aa(e.name,i.name)}isDefinedOn(e){throw na("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Hs,Iu)}makePost(e,i){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ve(e,Iu)}toString(){return".key"}}const Fr=new LT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?r(e.key,i):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??dt.RED,this.left=o??Lt.EMPTY_NODE,this.right=u??Lt.EMPTY_NODE}copy(e,i,r,o,u){return new dt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Lt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class XI{copy(e,i,r,o,u){return this}insert(e,i,r){return new dt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Lt{constructor(e,i=Lt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Lt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ku(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new ku(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new ku(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new ku(this.root_,null,this.comparator_,!0,e)}}Lt.EMPTY_NODE=new XI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e){return aa(t.name,e.name)}function up(t,e){return aa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm;function $I(t){tm=t}const PT=function(t){return typeof t=="number"?"number:"+hT(t):"string:"+t},UT=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pi(e,".sv"),"Priority must be a string or number.")}else Y(t===tm||t.isEmpty(),"priority of unexpected type.");Y(t===tm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hE;class ht{static set __childrenNodeConstructor(e){hE=e}static get __childrenNodeConstructor(){return hE}constructor(e,i=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ht(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:ye(e)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=ye(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||Xi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PT(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=hT(this.value_):e+=this.value_,this.lazyHash_=uT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ht.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ht.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=ht.VALUE_TYPE_ORDER.indexOf(i),u=ht.VALUE_TYPE_ORDER.indexOf(r);return Y(o>=0,"Unknown leaf type: "+i),Y(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VT,BT;function ZI(t){VT=t}function JI(t){BT=t}class ek extends Mc{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?aa(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Hs,new ht("[PRIORITY-POST]",BT))}makePost(e,i){const r=VT(e);return new ve(i,new ht("[PRIORITY-POST]",r))}toString(){return".priority"}}const Xe=new ek;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=Math.log(2);class nk{constructor(e){const i=u=>parseInt(Math.log(u)/tk,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lc=function(t,e,i,r){t.sort(e);const o=function(d,p){const g=p-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=i?i(y):y,new dt(_,y.node,dt.BLACK,null,null);{const b=parseInt(g/2,10)+d,S=o(d,b),D=o(b+1,p);return y=t[b],_=i?i(y):y,new dt(_,y.node,dt.BLACK,S,D)}},u=function(d){let p=null,g=null,y=t.length;const _=function(S,D){const N=y-S,x=y;y-=S;const H=o(N+1,x),k=t[N],W=i?i(k):k;b(new dt(W,k.node,D,null,H))},b=function(S){p?(p.left=S,p=S):(g=S,p=S)};for(let S=0;S<d.count;++S){const D=d.nextBitIsOne(),N=Math.pow(2,d.count-(S+1));D?_(N,dt.BLACK):(_(N,dt.BLACK),_(N,dt.RED))}return g},c=new nk(t.length),h=u(c);return new Lt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;const Or={};class ii{static get Default(){return Y(Or&&Xe,"ChildrenNode.ts has not been loaded"),bd=bd||new ii({".priority":Or},{".priority":Xe}),bd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Gr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Lt?i:null}hasIndex(e){return pi(this.indexSet_,e.toString())}addIndex(e,i){Y(e!==Fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(ve.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=lc(r,e.getCompare()):h=Or;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new ii(g,p)}addToIndexes(e,i){const r=Zu(this.indexes_,(o,u)=>{const c=Gr(this.indexSet_,u);if(Y(c,"Missing index implementation for "+u),o===Or)if(c.isDefinedOn(e.node)){const h=[],d=i.getIterator(ve.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),lc(h,c.getCompare())}else return Or;else{const h=i.get(e.name);let d=o;return h&&(d=d.remove(new ve(e.name,h))),d.insert(e,e.node)}});return new ii(r,this.indexSet_)}removeFromIndexes(e,i){const r=Zu(this.indexes_,o=>{if(o===Or)return o;{const u=i.get(e.name);return u?o.remove(new ve(e.name,u)):o}});return new ii(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class ce{static get EMPTY_NODE(){return po||(po=new ce(new Lt(up),null,ii.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&UT(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||po}updatePriority(e){return this.children_.isEmpty()?this:new ce(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?po:i}}getChild(e){const i=ye(e);return i===null?this:this.getImmediateChild(i).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Y(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new ve(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?po:this.priorityNode_;return new ce(o,c,u)}}updateChild(e,i){const r=ye(e);if(r===null)return i;{Y(ye(e)!==".priority"||Xi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ve(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Xe,(c,h)=>{i[c]=h.val(e),r++,u&&ce.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in i)c[h]=i[h];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+PT(this.getPriority().val())+":"),this.forEachChild(Xe,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":uT(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ve(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ve(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ve(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ve.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ve.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cl?-1:0}withIndex(e){if(e===Fr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ce(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Fr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Xe),o=i.getIterator(Xe);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Fr?null:this.indexMap_.get(e.toString())}}ce.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ik extends ce{constructor(){super(new Lt(up),ce.EMPTY_NODE,ii.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ce.EMPTY_NODE}isEmpty(){return!1}}const cl=new ik;Object.defineProperties(ve,{MIN:{value:new ve(Kr,ce.EMPTY_NODE)},MAX:{value:new ve(Hs,cl)}});LT.__EMPTY_NODE=ce.EMPTY_NODE;ht.__childrenNodeConstructor=ce;$I(cl);JI(cl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=!0;function _t(t,e=null){if(t===null)return ce.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new ht(i,_t(e))}if(!(t instanceof Array)&&sk){const i=[];let r=!1;if(Vt(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=_t(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),i.push(new ve(c,d)))}}),i.length===0)return ce.EMPTY_NODE;const u=lc(i,QI,c=>c.name,up);if(r){const c=lc(i,Xe.getCompare());return new ce(u,_t(e),new ii({".priority":c},{".priority":Xe}))}else return new ce(u,_t(e),ii.Default)}else{let i=ce.EMPTY_NODE;return Vt(t,(r,o)=>{if(pi(t,r)&&r.substring(0,1)!=="."){const u=_t(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(_t(e))}}ZI(_t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Mc{constructor(e){super(),this.indexPath_=e,Y(!be(e)&&ye(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?aa(e.name,i.name):u}makePost(e,i){const r=_t(e),o=ce.EMPTY_NODE.updateChild(this.indexPath_,r);return new ve(i,o)}maxPost(){const e=ce.EMPTY_NODE.updateChild(this.indexPath_,cl);return new ve(Hs,e)}toString(){return OT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends Mc{compare(e,i){const r=e.node.compareTo(i.node);return r===0?aa(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(e,i){const r=_t(e);return new ve(i,r)}toString(){return".value"}}const ok=new ak;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){return{type:"value",snapshotNode:t}}function Wr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ho(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function jo(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function lk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.index_=e}updateChild(e,i,r,o,u,c){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(i)?c.trackChildChange(Ho(i,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Wr(i,r)):c.trackChildChange(jo(i,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Xe,(o,u)=>{i.hasChild(o)||r.trackChildChange(Ho(o,u))}),i.isLeafNode()||i.forEachChild(Xe,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(jo(o,u,c))}else r.trackChildChange(Wr(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ce.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.indexedFilter_=new cp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fo.getStartPost_(e),this.endPost_=Fo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,u,c){return this.matches(new ve(i,r))||(r=ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,u,c)}updateFullNode(e,i,r){i.isLeafNode()&&(i=ce.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ce.EMPTY_NODE);const u=this;return i.forEachChild(Xe,(c,h)=>{u.matches(new ve(c,h))||(o=o.updateImmediateChild(c,ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,u,c){return this.rangedFilter_.matches(new ve(i,r))||(r=ce.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,u,c):this.fullLimitUpdateChild_(e,i,r,u,c)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ce.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ce.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,b)=>y(b,_)}else c=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const d=new ve(i,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(i)){const y=h.getImmediateChild(i);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===i||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:c(_,d);if(g&&!r.isEmpty()&&b>=0)return u!=null&&u.trackChildChange(jo(i,r,y)),h.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(Ho(i,y));const D=h.updateImmediateChild(i,ce.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(Wr(_.name,_.node)),D.updateImmediateChild(_.name,_.node)):D}}else return r.isEmpty()?e:g&&c(p,d)>=0?(u!=null&&(u.trackChildChange(Ho(p.name,p.node)),u.trackChildChange(Wr(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(p.name,ce.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kr}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new fp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ck(t){return t.loadsAllData()?new cp(t.getIndex()):t.hasLimit()?new uk(t):new Fo(t)}function dE(t){const e={};if(t.isDefault())return e;let i;if(t.index_===Xe?i="$priority":t.index_===ok?i="$value":t.index_===Fr?i="$key":(Y(t.index_ instanceof rk,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=mt(i),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=mt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+mt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=mt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+mt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==Xe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends DT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ul("p:rest:"),this.listens_={}}listen(e,i,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=uc.getListenId_(e,r),h={};this.listens_[c]=h;const d=dE(e._queryParams);this.restRequest_(u+".json",d,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(u,y,!1,r),Gr(this.listens_,c)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,i){const r=uc.getListenId_(e,i);delete this.listens_[r]}get(e){const i=dE(e._queryParams),r=e._path.toString(),o=new Ac;return this.restRequest_(r+".json",i,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ia(i);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Po(h.responseText)}catch{Ut("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&Ut("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.rootNode_=ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(){return{value:null,children:new Map}}function HT(t,e,i){if(be(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const r=ye(e);t.children.has(r)||t.children.set(r,cc());const o=t.children.get(r);e=Ve(e),HT(o,e,i)}}function nm(t,e,i){t.value!==null?i(e,t.value):hk(t,(r,o)=>{const u=new Pe(e.toString()+"/"+r);nm(o,u,i)})}function hk(t,e){t.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Vt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=10*1e3,mk=30*1e3,pk=5*60*1e3;class gk{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new dk(e);const r=pE+(mk-pE)*Math.random();Ao(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Vt(e,(o,u)=>{u>0&&pi(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Ao(this.reportStats_.bind(this),Math.floor(Math.random()*2*pk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cn||(Cn={}));function jT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=Cn.ACK_USER_WRITE,this.source=jT()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Pe(e));return new fc(xe(),i,this.revert)}}else return Y(ye(this.path)===e,"operationForChild called for unrelated child."),new fc(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.source=e,this.path=i,this.type=Cn.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new qo(this.source,xe()):new qo(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=Cn.OVERWRITE}operationForChild(e){return be(this.path)?new js(this.source,xe(),this.snap.getImmediateChild(e)):new js(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=Cn.MERGE}operationForChild(e){if(be(this.path)){const i=this.children.subtree(new Pe(e));return i.isEmpty()?null:i.value?new js(this.source,xe(),i.value):new Go(this.source,xe(),i)}else return Y(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Go(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const i=ye(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vk(t,e,i,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(lk(c.childName,c.snapshotNode))}),go(t,o,"child_removed",e,r,i),go(t,o,"child_added",e,r,i),go(t,o,"child_moved",u,r,i),go(t,o,"child_changed",e,r,i),go(t,o,"value",e,r,i),o}function go(t,e,i,r,o,u){const c=r.filter(h=>h.type===i);c.sort((h,d)=>Ek(t,h,d)),c.forEach(h=>{const d=_k(t,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function _k(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ek(t,e,i){if(e.childName==null||i.childName==null)throw na("Should only compare child_ events.");const r=new ve(e.childName,e.snapshotNode),o=new ve(i.childName,i.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e){return{eventCache:t,serverCache:e}}function Ro(t,e,i,r){return Oc(new Fs(e,i,r),t.serverCache)}function FT(t,e,i,r){return Oc(t.eventCache,new Fs(e,i,r))}function im(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd;const bk=()=>(Sd||(Sd=new Lt(aI)),Sd);class Be{static fromObject(e){let i=new Be(null);return Vt(e,(r,o)=>{i=i.set(new Pe(r),o)}),i}constructor(e,i=bk()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:xe(),value:this.value};if(be(e))return null;{const r=ye(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ve(e),i);return u!=null?{path:at(new Pe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const i=ye(e),r=this.children.get(i);return r!==null?r.subtree(Ve(e)):new Be(null)}}set(e,i){if(be(e))return new Be(i,this.children);{const r=ye(e),u=(this.children.get(r)||new Be(null)).set(Ve(e),i),c=this.children.insert(r,u);return new Be(this.value,c)}}remove(e){if(be(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const i=ye(e),r=this.children.get(i);if(r){const o=r.remove(Ve(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Be(null):new Be(this.value,u)}else return this}}get(e){if(be(e))return this.value;{const i=ye(e),r=this.children.get(i);return r?r.get(Ve(e)):null}}setTree(e,i){if(be(e))return i;{const r=ye(e),u=(this.children.get(r)||new Be(null)).setTree(Ve(e),i);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new Be(this.value,c)}}fold(e){return this.fold_(xe(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(at(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,xe(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(be(e))return null;{const u=ye(e),c=this.children.get(u);return c?c.findOnPath_(Ve(e),at(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,xe(),i)}foreachOnPath_(e,i,r){if(be(e))return this;{this.value&&r(i,this.value);const o=ye(e),u=this.children.get(o);return u?u.foreachOnPath_(Ve(e),at(i,o),r):new Be(null)}}foreach(e){this.foreach_(xe(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(at(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.writeTree_=e}static empty(){return new An(new Be(null))}}function xo(t,e,i){if(be(e))return new An(new Be(i));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=kt(o,e);return u=u.updateChild(c,i),new An(t.writeTree_.set(o,u))}else{const o=new Be(i),u=t.writeTree_.setTree(e,o);return new An(u)}}}function gE(t,e,i){let r=t;return Vt(i,(o,u)=>{r=xo(r,at(e,o),u)}),r}function yE(t,e){if(be(e))return An.empty();{const i=t.writeTree_.setTree(e,new Be(null));return new An(i)}}function sm(t,e){return Gs(t,e)!=null}function Gs(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(kt(i.path,e)):null}function vE(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Xe,(r,o)=>{e.push(new ve(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ve(r,o.value))}),e}function Wi(t,e){if(be(e))return t;{const i=Gs(t,e);return i!=null?new An(new Be(i)):new An(t.writeTree_.subtree(e))}}function rm(t){return t.writeTree_.isEmpty()}function Xr(t,e){return qT(xe(),t.writeTree_,e)}function qT(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=qT(at(t,o),u,i)}),!i.getChild(t).isEmpty()&&r!==null&&(i=i.updateChild(at(t,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t,e){return WT(e,t)}function Sk(t,e,i,r,o){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(t.visibleWrites=xo(t.visibleWrites,e,i)),t.lastWriteId=r}function Tk(t,e){for(let i=0;i<t.allWrites.length;i++){const r=t.allWrites[i];if(r.writeId===e)return r}return null}function Ck(t,e){const i=t.allWrites.findIndex(h=>h.writeId===e);Y(i>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[i];t.allWrites.splice(i,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=i&&wk(h,r.path)?o=!1:Tn(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return Ak(t),!0;if(r.snap)t.visibleWrites=yE(t.visibleWrites,r.path);else{const h=r.children;Vt(h,d=>{t.visibleWrites=yE(t.visibleWrites,at(r.path,d))})}return!0}else return!1}function wk(t,e){if(t.snap)return Tn(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&Tn(at(t.path,i),e))return!0;return!1}function Ak(t){t.visibleWrites=GT(t.allWrites,Rk,xe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Rk(t){return t.visible}function GT(t,e,i){let r=An.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)Tn(i,c)?(h=kt(i,c),r=xo(r,h,u.snap)):Tn(c,i)&&(h=kt(c,i),r=xo(r,xe(),u.snap.getChild(h)));else if(u.children){if(Tn(i,c))h=kt(i,c),r=gE(r,h,u.children);else if(Tn(c,i))if(h=kt(c,i),be(h))r=gE(r,xe(),u.children);else{const d=Gr(u.children,ye(h));if(d){const p=d.getChild(Ve(h));r=xo(r,xe(),p)}}}else throw na("WriteRecord should have .snap or .children")}}return r}function YT(t,e,i,r,o){if(!r&&!o){const u=Gs(t.visibleWrites,e);if(u!=null)return u;{const c=Wi(t.visibleWrites,e);if(rm(c))return i;if(i==null&&!sm(c,xe()))return null;{const h=i||ce.EMPTY_NODE;return Xr(c,h)}}}else{const u=Wi(t.visibleWrites,e);if(!o&&rm(u))return i;if(!o&&i==null&&!sm(u,xe()))return null;{const c=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(Tn(p.path,e)||Tn(e,p.path))},h=GT(t.allWrites,c,e),d=i||ce.EMPTY_NODE;return Xr(h,d)}}}function xk(t,e,i){let r=ce.EMPTY_NODE;const o=Gs(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Xe,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(i){const u=Wi(t.visibleWrites,e);return i.forEachChild(Xe,(c,h)=>{const d=Xr(Wi(u,new Pe(c)),h);r=r.updateImmediateChild(c,d)}),vE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=Wi(t.visibleWrites,e);return vE(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Dk(t,e,i,r,o){Y(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=at(e,i);if(sm(t.visibleWrites,u))return null;{const c=Wi(t.visibleWrites,u);return rm(c)?o.getChild(i):Xr(c,o.getChild(i))}}function Nk(t,e,i,r){const o=at(e,i),u=Gs(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const c=Wi(t.visibleWrites,o);return Xr(c,r.getNode().getImmediateChild(i))}else return null}function Mk(t,e){return Gs(t.visibleWrites,e)}function Ok(t,e,i,r,o,u,c){let h;const d=Wi(t.visibleWrites,e),p=Gs(d,xe());if(p!=null)h=p;else if(i!=null)h=Xr(d,i);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let b=_.getNext();for(;b&&g.length<o;)y(b,r)!==0&&g.push(b),b=_.getNext();return g}else return[]}function Ik(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function hc(t,e,i,r){return YT(t.writeTree,t.treePath,e,i,r)}function pp(t,e){return xk(t.writeTree,t.treePath,e)}function _E(t,e,i,r){return Dk(t.writeTree,t.treePath,e,i,r)}function dc(t,e){return Mk(t.writeTree,at(t.treePath,e))}function kk(t,e,i,r,o,u){return Ok(t.writeTree,t.treePath,e,i,r,o,u)}function gp(t,e,i){return Nk(t.writeTree,t.treePath,e,i)}function KT(t,e){return WT(at(t.treePath,e),t.writeTree)}function WT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;Y(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,jo(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Ho(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,Wr(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,jo(r,e.snapshotNode,o.oldSnap));else throw na("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const XT=new Pk;class yp{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gp(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qs(this.viewCache_),u=kk(this.writes_,o,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return{filter:t}}function Vk(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Bk(t,e,i,r,o){const u=new Lk;let c,h;if(i.type===Cn.OVERWRITE){const p=i;p.source.fromUser?c=am(t,e,p.path,p.snap,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!be(p.path),c=mc(t,e,p.path,p.snap,r,o,h,u))}else if(i.type===Cn.MERGE){const p=i;p.source.fromUser?c=Hk(t,e,p.path,p.children,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=om(t,e,p.path,p.children,r,o,h,u))}else if(i.type===Cn.ACK_USER_WRITE){const p=i;p.revert?c=qk(t,e,p.path,r,o,u):c=jk(t,e,p.path,p.affectedTree,r,o,u)}else if(i.type===Cn.LISTEN_COMPLETE)c=Fk(t,e,i.path,r,u);else throw na("Unknown operation type: "+i.type);const d=u.getChanges();return zk(e,c,d),{viewCache:c,changes:d}}function zk(t,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=im(t);(i.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(zT(im(e)))}}function QT(t,e,i,r,o,u){const c=e.eventCache;if(dc(r,i)!=null)return e;{let h,d;if(be(i))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=qs(e),g=p instanceof ce?p:ce.EMPTY_NODE,y=pp(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const p=hc(r,qs(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=ye(i);if(p===".priority"){Y(Xi(i)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=_E(r,i,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=Ve(i);let y;if(c.isCompleteForChild(p)){d=e.serverCache.getNode();const _=_E(r,i,c.getNode(),d);_!=null?y=c.getNode().getImmediateChild(p).updateChild(g,_):y=c.getNode().getImmediateChild(p)}else y=gp(r,p,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),p,y,g,o,u):h=c.getNode()}}return Ro(e,h,c.isFullyInitialized()||be(i),t.filter.filtersNodes())}}function mc(t,e,i,r,o,u,c,h){const d=e.serverCache;let p;const g=c?t.filter:t.filter.getIndexedFilter();if(be(i))p=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(i,r);p=g.updateFullNode(d.getNode(),b,null)}else{const b=ye(i);if(!d.isCompleteForPath(i)&&Xi(i)>1)return e;const S=Ve(i),N=d.getNode().getImmediateChild(b).updateChild(S,r);b===".priority"?p=g.updatePriority(d.getNode(),N):p=g.updateChild(d.getNode(),b,N,S,XT,null)}const y=FT(e,p,d.isFullyInitialized()||be(i),g.filtersNodes()),_=new yp(o,y,u);return QT(t,y,i,o,_,h)}function am(t,e,i,r,o,u,c){const h=e.eventCache;let d,p;const g=new yp(o,e,u);if(be(i))p=t.filter.updateFullNode(e.eventCache.getNode(),r,c),d=Ro(e,p,!0,t.filter.filtersNodes());else{const y=ye(i);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),d=Ro(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=Ve(i),b=h.getNode().getImmediateChild(y);let S;if(be(_))S=r;else{const D=g.getCompleteChild(y);D!=null?MT(_)===".priority"&&D.getChild(IT(_)).isEmpty()?S=D:S=D.updateChild(_,r):S=ce.EMPTY_NODE}if(b.equals(S))d=e;else{const D=t.filter.updateChild(h.getNode(),y,S,_,g,c);d=Ro(e,D,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function EE(t,e){return t.eventCache.isCompleteForChild(e)}function Hk(t,e,i,r,o,u,c){let h=e;return r.foreach((d,p)=>{const g=at(i,d);EE(e,ye(g))&&(h=am(t,h,g,p,o,u,c))}),r.foreach((d,p)=>{const g=at(i,d);EE(e,ye(g))||(h=am(t,h,g,p,o,u,c))}),h}function bE(t,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function om(t,e,i,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;be(i)?p=r:p=new Be(null).setTree(i,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),S=bE(t,b,_);d=mc(t,d,new Pe(y),S,o,u,c,h)}}),p.children.inorderTraversal((y,_)=>{const b=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!b){const S=e.serverCache.getNode().getImmediateChild(y),D=bE(t,S,_);d=mc(t,d,new Pe(y),D,o,u,c,h)}}),d}function jk(t,e,i,r,o,u,c){if(dc(o,i)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(be(i)&&d.isFullyInitialized()||d.isCompleteForPath(i))return mc(t,e,i,d.getNode().getChild(i),o,u,h,c);if(be(i)){let p=new Be(null);return d.getNode().forEachChild(Fr,(g,y)=>{p=p.set(new Pe(g),y)}),om(t,e,i,p,o,u,h,c)}else return e}else{let p=new Be(null);return r.foreach((g,y)=>{const _=at(i,g);d.isCompleteForPath(_)&&(p=p.set(g,d.getNode().getChild(_)))}),om(t,e,i,p,o,u,h,c)}}function Fk(t,e,i,r,o){const u=e.serverCache,c=FT(e,u.getNode(),u.isFullyInitialized()||be(i),u.isFiltered());return QT(t,c,i,r,XT,o)}function qk(t,e,i,r,o,u){let c;if(dc(r,i)!=null)return e;{const h=new yp(r,e,o),d=e.eventCache.getNode();let p;if(be(i)||ye(i)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=hc(r,qs(e));else{const y=e.serverCache.getNode();Y(y instanceof ce,"serverChildren would be complete if leaf node"),g=pp(r,y)}g=g,p=t.filter.updateFullNode(d,g,u)}else{const g=ye(i);let y=gp(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?p=t.filter.updateChild(d,g,y,Ve(i),h,u):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,ce.EMPTY_NODE,Ve(i),h,u):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=hc(r,qs(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,u)))}return c=e.serverCache.isFullyInitialized()||dc(r,xe())!=null,Ro(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new cp(r.getIndex()),u=ck(r);this.processor_=Uk(u);const c=i.serverCache,h=i.eventCache,d=o.updateFullNode(ce.EMPTY_NODE,c.getNode(),null),p=u.updateFullNode(ce.EMPTY_NODE,h.getNode(),null),g=new Fs(d,c.isFullyInitialized(),o.filtersNodes()),y=new Fs(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Oc(y,g),this.eventGenerator_=new yk(this.query_)}get query(){return this.query_}}function Yk(t){return t.viewCache_.serverCache.getNode()}function Kk(t,e){const i=qs(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!be(e)&&!i.getImmediateChild(ye(e)).isEmpty())?i.getChild(e):null}function SE(t){return t.eventRegistrations_.length===0}function Wk(t,e){t.eventRegistrations_.push(e)}function TE(t,e,i){const r=[];if(i){Y(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(i,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function CE(t,e,i,r){e.type===Cn.MERGE&&e.source.queryId!==null&&(Y(qs(t.viewCache_),"We should always have a full cache before handling merges"),Y(im(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=Bk(t.processor_,o,e,i,r);return Vk(t.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,$T(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Xk(t,e){const i=t.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Xe,(u,c)=>{r.push(Wr(u,c))}),i.isFullyInitialized()&&r.push(zT(i.getNode())),$T(t,r,i.getNode(),e)}function $T(t,e,i,r){const o=r?[r]:t.eventRegistrations_;return vk(t.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;class Qk{constructor(){this.views=new Map}}function $k(t){Y(!pc,"__referenceConstructor has already been defined"),pc=t}function Zk(){return Y(pc,"Reference.ts has not been loaded"),pc}function Jk(t){return t.views.size===0}function vp(t,e,i,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return Y(u!=null,"SyncTree gave us an op for an invalid query."),CE(u,e,i,r)}else{let u=[];for(const c of t.views.values())u=u.concat(CE(c,e,i,r));return u}}function eL(t,e,i,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=hc(i,o?r:null),d=!1;h?d=!0:r instanceof ce?(h=pp(i,r),d=!1):(h=ce.EMPTY_NODE,d=!1);const p=Oc(new Fs(h,d,!1),new Fs(r,o,!1));return new Gk(e,p)}return c}function tL(t,e,i,r,o,u){const c=eL(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),Wk(c,i),Xk(c,i)}function nL(t,e,i,r){const o=e._queryIdentifier,u=[];let c=[];const h=Qi(t);if(o==="default")for(const[d,p]of t.views.entries())c=c.concat(TE(p,i,r)),SE(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||u.push(p.query));else{const d=t.views.get(o);d&&(c=c.concat(TE(d,i,r)),SE(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||u.push(d.query)))}return h&&!Qi(t)&&u.push(new(Zk())(e._repo,e._path)),{removed:u,events:c}}function ZT(t){const e=[];for(const i of t.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function qr(t,e){let i=null;for(const r of t.views.values())i=i||Kk(r,e);return i}function JT(t,e){if(e._queryParams.loadsAllData())return Ic(t);{const r=e._queryIdentifier;return t.views.get(r)}}function eC(t,e){return JT(t,e)!=null}function Qi(t){return Ic(t)!=null}function Ic(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc;function iL(t){Y(!gc,"__referenceConstructor has already been defined"),gc=t}function sL(){return Y(gc,"Reference.ts has not been loaded"),gc}let rL=1;class wE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=Ik(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tC(t,e,i,r,o){return Sk(t.pendingWriteTree_,e,i,r,o),o?fl(t,new js(jT(),e,i)):[]}function Os(t,e,i=!1){const r=Tk(t.pendingWriteTree_,e);if(Ck(t.pendingWriteTree_,e)){let u=new Be(null);return r.snap!=null?u=u.set(xe(),!0):Vt(r.children,c=>{u=u.set(new Pe(c),!0)}),fl(t,new fc(r.path,u,i))}else return[]}function kc(t,e,i){return fl(t,new js(hp(),e,i))}function aL(t,e,i){const r=Be.fromObject(i);return fl(t,new Go(hp(),e,r))}function oL(t,e){return fl(t,new qo(hp(),e))}function lL(t,e,i){const r=Ep(t,i);if(r){const o=bp(r),u=o.path,c=o.queryId,h=kt(u,e),d=new qo(dp(c),h);return Sp(t,u,d)}else return[]}function lm(t,e,i,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||eC(c,e))){const d=nL(c,e,i,r);Jk(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const p=d.removed;if(h=d.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,b)=>Qi(b));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const b=fL(_);for(let S=0;S<b.length;++S){const D=b[S],N=D.query,x=sC(t,D);t.listenProvider_.startListening(Do(N),yc(t,N),x.hashFn,x.onComplete)}}}!y&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(Do(e),null):p.forEach(_=>{const b=t.queryToTagMap.get(Lc(_));t.listenProvider_.stopListening(Do(_),b)}))}hL(t,p)}return h}function uL(t,e,i,r){const o=Ep(t,r);if(o!=null){const u=bp(o),c=u.path,h=u.queryId,d=kt(c,e),p=new js(dp(h),d,i);return Sp(t,c,p)}else return[]}function cL(t,e,i,r){const o=Ep(t,r);if(o){const u=bp(o),c=u.path,h=u.queryId,d=kt(c,e),p=Be.fromObject(i),g=new Go(dp(h),d,p);return Sp(t,c,g)}else return[]}function AE(t,e,i,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(_,b)=>{const S=kt(_,o);u=u||qr(b,S),c=c||Qi(b)});let h=t.syncPointTree_.get(o);h?(c=c||Qi(h),u=u||qr(h,xe())):(h=new Qk,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;u!=null?d=!0:(d=!1,u=ce.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,S)=>{const D=qr(S,xe());D&&(u=u.updateImmediateChild(b,D))}));const p=eC(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=Lc(e);Y(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=dL();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}const g=mp(t.pendingWriteTree_,o);let y=tL(h,e,i,g,u,d);if(!p&&!c&&!r){const _=JT(h,e);y=y.concat(mL(t,e,_))}return y}function _p(t,e,i){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=kt(c,e),p=qr(h,d);if(p)return p});return YT(o,e,u,i,!0)}function fl(t,e){return nC(e,t.syncPointTree_,null,mp(t.pendingWriteTree_,xe()))}function nC(t,e,i,r){if(be(t.path))return iC(t,e,i,r);{const o=e.get(xe());i==null&&o!=null&&(i=qr(o,xe()));let u=[];const c=ye(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const p=i?i.getImmediateChild(c):null,g=KT(r,c);u=u.concat(nC(h,d,p,g))}return o&&(u=u.concat(vp(o,t,r,i))),u}}function iC(t,e,i,r){const o=e.get(xe());i==null&&o!=null&&(i=qr(o,xe()));let u=[];return e.children.inorderTraversal((c,h)=>{const d=i?i.getImmediateChild(c):null,p=KT(r,c),g=t.operationForChild(c);g&&(u=u.concat(iC(g,h,d,p)))}),o&&(u=u.concat(vp(o,t,r,i))),u}function sC(t,e){const i=e.query,r=yc(t,i);return{hashFn:()=>(Yk(e)||ce.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?lL(t,i._path,r):oL(t,i._path);{const u=uI(o,i);return lm(t,i,null,u)}}}}function yc(t,e){const i=Lc(e);return t.queryToTagMap.get(i)}function Lc(t){return t._path.toString()+"$"+t._queryIdentifier}function Ep(t,e){return t.tagToQueryMap.get(e)}function bp(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pe(t.substr(0,e))}}function Sp(t,e,i){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const o=mp(t.pendingWriteTree_,e);return vp(r,i,o,null)}function fL(t){return t.fold((e,i,r)=>{if(i&&Qi(i))return[Ic(i)];{let o=[];return i&&(o=ZT(i)),Vt(r,(u,c)=>{o=o.concat(c)}),o}})}function Do(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(sL())(t._repo,t._path):t}function hL(t,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=Lc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function dL(){return rL++}function mL(t,e,i){const r=e._path,o=yc(t,e),u=sC(t,i),c=t.listenProvider_.startListening(Do(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)Y(!Qi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((p,g,y)=>{if(!be(p)&&g&&Qi(g))return[Ic(g).query];{let _=[];return g&&(_=_.concat(ZT(g).map(b=>b.query))),Vt(y,(b,S)=>{_=_.concat(S)}),_}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(Do(g),yc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Tp(i)}node(){return this.node_}}class Cp{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=at(this.path_,e);return new Cp(this.syncTree_,i)}node(){return _p(this.syncTree_,this.path_)}}const pL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},RE=function(t,e,i){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gL(t[".sv"],e,i);if(typeof t[".sv"]=="object")return yL(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gL=function(t,e,i){switch(t){case"timestamp":return i.timestamp;default:Y(!1,"Unexpected server value: "+t)}},yL=function(t,e,i){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const o=e.node();if(Y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},vL=function(t,e,i,r){return wp(e,new Cp(i,t),r)},rC=function(t,e,i){return wp(t,new Tp(e),i)};function wp(t,e,i){const r=t.getPriority().val(),o=RE(r,e.getImmediateChild(".priority"),i);let u;if(t.isLeafNode()){const c=t,h=RE(c.getValue(),e,i);return h!==c.getValue()||o!==c.getPriority().val()?new ht(h,_t(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new ht(o))),c.forEachChild(Xe,(h,d)=>{const p=wp(d,e.getImmediateChild(h),i);p!==d&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function Rp(t,e){let i=e instanceof Pe?e:new Pe(e),r=t,o=ye(i);for(;o!==null;){const u=Gr(r.node.children,o)||{children:{},childCount:0};r=new Ap(o,r,u),i=Ve(i),o=ye(i)}return r}function la(t){return t.node.value}function aC(t,e){t.node.value=e,um(t)}function oC(t){return t.node.childCount>0}function _L(t){return la(t)===void 0&&!oC(t)}function Pc(t,e){Vt(t.node.children,(i,r)=>{e(new Ap(i,t,r))})}function lC(t,e,i,r){i&&e(t),Pc(t,o=>{lC(o,e,!0)})}function EL(t,e,i){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hl(t){return new Pe(t.parent===null?t.name:hl(t.parent)+"/"+t.name)}function um(t){t.parent!==null&&bL(t.parent,t.name,t)}function bL(t,e,i){const r=_L(i),o=pi(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,um(t)):!r&&!o&&(t.node.children[e]=i.node,t.node.childCount++,um(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/[\[\].#$\/\u0000-\u001F\u007F]/,TL=/[\[\].#$\u0000-\u001F\u007F]/,Td=10*1024*1024,uC=function(t){return typeof t=="string"&&t.length!==0&&!SL.test(t)},cC=function(t){return typeof t=="string"&&t.length!==0&&!TL.test(t)},CL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cC(t)},fC=function(t,e,i,r){r&&e===void 0||xp(jm(t,"value"),e,i)},xp=function(t,e,i){const r=i instanceof Pe?new jI(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+As(r));if(typeof e=="function")throw new Error(t+"contains a function "+As(r)+" with contents = "+e.toString());if(cT(e))throw new Error(t+"contains "+e.toString()+" "+As(r));if(typeof e=="string"&&e.length>Td/3&&Rc(e)>Td)throw new Error(t+"contains a string greater than "+Td+" utf8 bytes "+As(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Vt(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!uC(c)))throw new Error(t+" contains an invalid key ("+c+") "+As(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FI(r,c),xp(t,h,r),qI(r)}),o&&u)throw new Error(t+' contains ".value" child '+As(r)+" in addition to actual children.")}},hC=function(t,e,i,r){if(!cC(i))throw new Error(jm(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wL=function(t,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),hC(t,e,i)},dC=function(t,e){if(ye(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},AL=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!uC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!CL(i))throw new Error(jm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dp(t,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();i!==null&&!op(u,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&t.eventLists_.push(i)}function mC(t,e,i){Dp(t,i),pC(t,r=>op(r,e))}function hi(t,e,i){Dp(t,i),pC(t,r=>Tn(r,e)||Tn(e,r))}function pC(t,e){t.recursionDepth_++;let i=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(xL(t.eventLists_[r]),t.eventLists_[r]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function xL(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const r=i.getEventRunner();wo&&Ct("event: "+i.toString()),oa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="repo_interrupt",NL=25;class ML{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cc(),this.transactionQueueTree_=new Ap,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OL(t,e,i){if(t.stats_=rp(t.repoInfo_),t.forceRestClient_||dI())t.server_=new uc(t.repoInfo_,(r,o,u,c)=>{xE(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>DE(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ai(t.repoInfo_,e,(r,o,u,c)=>{xE(t,r,o,u,c)},r=>{DE(t,r)},r=>{IL(t,r)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=vI(t.repoInfo_,()=>new gk(t.stats_,t.server_)),t.infoData_=new fk,t.infoSyncTree_=new wE({startListening:(r,o,u,c)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=kc(t.infoSyncTree_,r._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Mp(t,"connected",!1),t.serverSyncTree_=new wE({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,d)=>{const p=c(h,d);hi(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function gC(t){const i=t.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Np(t){return pL({timestamp:gC(t)})}function xE(t,e,i,r,o){t.dataUpdateCount++;const u=new Pe(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let c=[];if(o)if(r){const d=Zu(i,p=>_t(p));c=cL(t.serverSyncTree_,u,d,o)}else{const d=_t(i);c=uL(t.serverSyncTree_,u,d,o)}else if(r){const d=Zu(i,p=>_t(p));c=aL(t.serverSyncTree_,u,d)}else{const d=_t(i);c=kc(t.serverSyncTree_,u,d)}let h=u;c.length>0&&(h=Uc(t,u)),hi(t.eventQueue_,h,c)}function DE(t,e){Mp(t,"connected",e),e===!1&&LL(t)}function IL(t,e){Vt(e,(i,r)=>{Mp(t,i,r)})}function Mp(t,e,i){const r=new Pe("/.info/"+e),o=_t(i);t.infoData_.updateSnapshot(r,o);const u=kc(t.infoSyncTree_,r,o);hi(t.eventQueue_,r,u)}function yC(t){return t.nextWriteId_++}function kL(t,e,i,r,o){Op(t,"set",{path:e.toString(),value:i,priority:r});const u=Np(t),c=_t(i,r),h=_p(t.serverSyncTree_,e),d=rC(c,h,u),p=yC(t),g=tC(t.serverSyncTree_,e,d,p,!0);Dp(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,b)=>{const S=_==="ok";S||Ut("set at "+e+" failed: "+_);const D=Os(t.serverSyncTree_,p,!S);hi(t.eventQueue_,e,D),VL(t,o,_,b)});const y=SC(t,e);Uc(t,y),hi(t.eventQueue_,y,[])}function LL(t){Op(t,"onDisconnectEvents");const e=Np(t),i=cc();nm(t.onDisconnect_,xe(),(o,u)=>{const c=vL(o,u,t.serverSyncTree_,e);HT(i,o,c)});let r=[];nm(i,xe(),(o,u)=>{r=r.concat(kc(t.serverSyncTree_,o,u));const c=SC(t,o);Uc(t,c)}),t.onDisconnect_=cc(),hi(t.eventQueue_,xe(),r)}function PL(t,e,i){let r;ye(e._path)===".info"?r=AE(t.infoSyncTree_,e,i):r=AE(t.serverSyncTree_,e,i),mC(t.eventQueue_,e._path,r)}function NE(t,e,i){let r;ye(e._path)===".info"?r=lm(t.infoSyncTree_,e,i):r=lm(t.serverSyncTree_,e,i),mC(t.eventQueue_,e._path,r)}function UL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(DL)}function Op(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),Ct(i,...e)}function VL(t,e,i,r){e&&oa(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function vC(t,e,i){return _p(t.serverSyncTree_,e,i)||ce.EMPTY_NODE}function Ip(t,e=t.transactionQueueTree_){if(e||Vc(t,e),la(e)){const i=EC(t,e);Y(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&BL(t,hl(e),i)}else oC(e)&&Pc(e,i=>{Ip(t,i)})}function BL(t,e,i){const r=i.map(p=>p.currentWriteId),o=vC(t,e,r);let u=o;const c=o.hash();for(let p=0;p<i.length;p++){const g=i[p];Y(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=kt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),d=e;t.server_.put(d.toString(),h,p=>{Op(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let _=0;_<i.length;_++)i[_].status=2,g=g.concat(Os(t.serverSyncTree_,i[_].currentWriteId)),i[_].onComplete&&y.push(()=>i[_].onComplete(null,!0,i[_].currentOutputSnapshotResolved)),i[_].unwatcher();Vc(t,Rp(t.transactionQueueTree_,e)),Ip(t,t.transactionQueueTree_),hi(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)oa(y[_])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Ut("transaction at "+d.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}Uc(t,e)}},c)}function Uc(t,e){const i=_C(t,e),r=hl(i),o=EC(t,i);return zL(t,o,r),r}function zL(t,e,i){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=kt(i,d.path);let g=!1,y;if(Y(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,o=o.concat(Os(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=NL)g=!0,y="maxretry",o=o.concat(Os(t.serverSyncTree_,d.currentWriteId,!0));else{const _=vC(t,d.path,c);d.currentInputSnapshot=_;const b=e[h].update(_.val());if(b!==void 0){xp("transaction failed: Data returned ",b,d.path);let S=_t(b);typeof b=="object"&&b!=null&&pi(b,".priority")||(S=S.updatePriority(_.getPriority()));const N=d.currentWriteId,x=Np(t),H=rC(S,_,x);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=H,d.currentWriteId=yC(t),c.splice(c.indexOf(N),1),o=o.concat(tC(t.serverSyncTree_,d.path,H,d.currentWriteId,d.applyLocally)),o=o.concat(Os(t.serverSyncTree_,N,!0))}else g=!0,y="nodata",o=o.concat(Os(t.serverSyncTree_,d.currentWriteId,!0))}hi(t.eventQueue_,i,o),o=[],g&&(e[h].status=2,function(_){setTimeout(_,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Vc(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)oa(r[h]);Ip(t,t.transactionQueueTree_)}function _C(t,e){let i,r=t.transactionQueueTree_;for(i=ye(e);i!==null&&la(r)===void 0;)r=Rp(r,i),e=Ve(e),i=ye(e);return r}function EC(t,e){const i=[];return bC(t,e,i),i.sort((r,o)=>r.order-o.order),i}function bC(t,e,i){const r=la(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Pc(e,o=>{bC(t,o,i)})}function Vc(t,e){const i=la(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,aC(e,i.length>0?i:void 0)}Pc(e,r=>{Vc(t,r)})}function SC(t,e){const i=hl(_C(t,e)),r=Rp(t.transactionQueueTree_,e);return EL(r,o=>{Cd(t,o)}),Cd(t,r),lC(r,o=>{Cd(t,o)}),i}function Cd(t,e){const i=la(e);if(i){const r=[];let o=[],u=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(Y(u===c-1,"All SENT items should be at beginning of queue."),u=c,i[c].status=3,i[c].abortReason="set"):(Y(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),o=o.concat(Os(t.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&r.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?aC(e,void 0):i.length=u+1,hi(t.eventQueue_,hl(e),o);for(let c=0;c<r.length;c++)oa(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){let e="";const i=t.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function jL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ut(`Invalid query segment '${i}' in query '${t}'`)}return e}const ME=function(t,e){const i=FL(t),r=i.namespace;i.domain==="firebase.com"&&fi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||sI();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new ST(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new Pe(i.pathString)}},FL=function(t){let e="",i="",r="",o="",u="",c=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=HL(t.substring(g,y)));const _=jL(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const b=e.slice(0,p);if(b.toLowerCase()==="localhost")i="localhost";else if(b.split(".").length<=2)i=b;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),i=e.substring(S+1),u=r}"ns"in _&&(u=_.ns)}return{host:e,port:d,domain:i,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qL=function(){let t=0;const e=[];return function(i){const r=i===t;t=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=OE.charAt(i%64),i=Math.floor(i/64);Y(i===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=OE.charAt(e[o]);return Y(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mt(this.snapshot.exportVal())}}class YL{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return be(this._path)?null:MT(this._path)}get ref(){return new ss(this._repo,this._path)}get _queryIdentifier(){const e=mE(this._queryParams),i=ip(e);return i==="{}"?"default":i}get _queryObject(){return mE(this._queryParams)}isEqual(e){if(e=Bt(e),!(e instanceof kp))return!1;const i=this._repo===e._repo,r=op(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+HI(this._path)}}class ss extends kp{constructor(e,i){super(e,i,new fp,!1)}get parent(){const e=IT(this._path);return e===null?null:new ss(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class vc{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Pe(e),r=Yo(this.ref,e);return new vc(this._node.getChild(i),r,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new vc(o,Yo(this.ref,r),Xe)))}hasChild(e){const i=new Pe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rt(t,e){return t=Bt(t),t._checkNotDeleted("ref"),e!==void 0?Yo(t._root,e):t._root}function Yo(t,e){return t=Bt(t),ye(t._path)===null?wL("child","path",e):hC("child","path",e),new ss(t._repo,at(t._path,e))}function wd(t,e){t=Bt(t),dC("push",t._path),fC("push",e,t._path,!0);const i=gC(t._repo),r=qL(i),o=Yo(t,r),u=Yo(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function xs(t,e){t=Bt(t),dC("set",t._path),fC("set",e,t._path,!1);const i=new Ac;return kL(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}class Lp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new GL("value",this,new vc(e.snapshotNode,new ss(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new YL(this,e,i):null}matches(e){return e instanceof Lp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function WL(t,e,i,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const d=i,p=(g,y)=>{NE(t._repo,t,h),d(g,y)};p.userCallback=i.userCallback,p.context=i.context,i=p}const c=new KL(i,u||void 0),h=new Lp(c);return PL(t._repo,t,h),()=>NE(t._repo,t,h)}function Ds(t,e,i,r){return WL(t,"value",e,i,r)}$k(ss);iL(ss);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="FIREBASE_DATABASE_EMULATOR_HOST",cm={};let QL=!1;function $L(t,e,i,r){t.repoInfo_=new ST(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(t.authTokenProvider_=r)}function ZL(t,e,i,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ct("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=ME(u,o),h=c.repoInfo,d;typeof process<"u"&&Q0&&(d=Q0[XL]),d?(u=`http://${d}?ns=${h.namespace}`,c=ME(u,o),h=c.repoInfo):c.repoInfo.secure;const p=new pI(t.name,t.options,e);AL("Invalid Firebase Database URL",c),be(c.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=eP(h,t,p,new mI(t,i));return new tP(g,t)}function JL(t,e){const i=cm[e];(!i||i[t.key]!==t)&&fi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),UL(t),delete i[t.key]}function eP(t,e,i,r){let o=cm[e.name];o||(o={},cm[e.name]=o);let u=o[t.toURLString()];return u&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new ML(t,QL,i,r),o[t.toURLString()]=u,u}class tP{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ss(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(JL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fi("Cannot call "+e+" on a deleted database.")}}function En(t=wS(),e){const i=Gm(t,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=uD("database");r&&nP(i,...r)}return i}function nP(t,e,i,r={}){t=Bt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Us(r,u.repoInfo_.emulatorOptions))return;fi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Gu(Gu.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:cD(r.mockUserToken,t.app.options.projectId);c=new Gu(h)}$L(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){ZO(sa),Yr(new Vs("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return ZL(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ki($0,Z0,t),Ki($0,Z0,"esm2017")}ai.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ai.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};iP();var sP={apiKey:"AIzaSyBvBMSzqJuOOsSIEhyM-sVI-vinaIu2GC8",authDomain:"midterm-project-ab3aa.firebaseapp.com",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com",projectId:"midterm-project-ab3aa",storageBucket:"midterm-project-ab3aa.firebasestorage.app",messagingSenderId:"13475203739",appId:"1:13475203739:web:f722da780a822b88ff543e",measurementId:"G-LB3317B8W5",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com"};const TC=CS(sP),Ls=WO(TC);En(TC);var Ad={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function rP(){if(IE)return yo;IE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return yo.Fragment=e,yo.jsx=i,yo.jsxs=i,yo}var kE;function aP(){return kE||(kE=1,Ad.exports=rP()),Ad.exports}var oi=aP();const Pp=C.createContext({});function Up(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vp=typeof window<"u",CC=Vp?C.useLayoutEffect:C.useEffect,Bc=C.createContext(null),Bp=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class oP extends C.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lP({children:t,isPresent:e,anchorX:i}){const r=C.useId(),o=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(Bp);return C.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:y}=u.current;if(e||!o.current||!h||!d)return;const _=i==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const b=document.createElement("style");return c&&(b.nonce=c),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),oi.jsx(oP,{isPresent:e,childRef:o,sizeRef:u,children:C.cloneElement(t,{ref:o})})}const uP=({children:t,initial:e,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h})=>{const d=Up(cP),p=C.useId();let g=!0,y=C.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:i,custom:o,onExitComplete:_=>{d.set(_,!0);for(const b of d.values())if(!b)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[i,d,r]);return u&&g&&(y={...y}),C.useMemo(()=>{d.forEach((_,b)=>d.set(b,!1))},[i]),C.useEffect(()=>{!i&&!d.size&&r&&r()},[i]),c==="popLayout"&&(t=oi.jsx(lP,{isPresent:i,anchorX:h,children:t})),oi.jsx(Bc.Provider,{value:y,children:t})};function cP(){return new Map}function wC(t=!0){const e=C.useContext(Bc);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,u=C.useId();C.useEffect(()=>{if(t)return o(u)},[t]);const c=C.useCallback(()=>t&&r&&r(u),[u,r,t]);return!i&&r?[!1,c]:[!0]}const Lu=t=>t.key||"";function LE(t){const e=[];return C.Children.forEach(t,i=>{C.isValidElement(i)&&e.push(i)}),e}const fP=({children:t,custom:e,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left"})=>{const[d,p]=wC(c),g=C.useMemo(()=>LE(t),[t]),y=c&&!d?[]:g.map(Lu),_=C.useRef(!0),b=C.useRef(g),S=Up(()=>new Map),[D,N]=C.useState(g),[x,H]=C.useState(g);CC(()=>{_.current=!1,b.current=g;for(let P=0;P<x.length;P++){const K=Lu(x[P]);y.includes(K)?S.delete(K):S.get(K)!==!0&&S.set(K,!1)}},[x,y.length,y.join("-")]);const k=[];if(g!==D){let P=[...g];for(let K=0;K<x.length;K++){const Z=x[K],X=Lu(Z);y.includes(X)||(P.splice(K,0,Z),k.push(Z))}return u==="wait"&&k.length&&(P=k),H(LE(P)),N(g),null}const{forceRender:W}=C.useContext(Pp);return oi.jsx(oi.Fragment,{children:x.map(P=>{const K=Lu(P),Z=c&&!d?!1:g===x||y.includes(K),X=()=>{if(S.has(K))S.set(K,!0);else return;let re=!0;S.forEach(me=>{me||(re=!1)}),re&&(W==null||W(),H(b.current),c&&(p==null||p()),r&&r())};return oi.jsx(uP,{isPresent:Z,initial:!_.current||i?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:Z?void 0:X,anchorX:h,children:P},K)})})};function zp(t,e){t.indexOf(e)===-1&&t.push(e)}function Hp(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const di=(t,e,i)=>i>e?e:i<t?t:i;let jp=()=>{};const mi={},AC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),RC=t=>/^0[^.\s]+$/u.test(t);function Fp(t){let e;return()=>(e===void 0&&(e=t()),e)}const hn=t=>t,hP=(t,e)=>i=>e(t(i)),dl=(...t)=>t.reduce(hP),Ko=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class qp{constructor(){this.subscriptions=[]}add(e){return zp(this.subscriptions,e),()=>Hp(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ln=t=>t*1e3,Pn=t=>t/1e3;function xC(t,e){return e?t*(1e3/e):0}const DC=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,dP=1e-7,mP=12;function pP(t,e,i,r,o){let u,c,h=0;do c=e+(i-e)/2,u=DC(c,r,o)-t,u>0?i=c:e=c;while(Math.abs(u)>dP&&++h<mP);return c}function ml(t,e,i,r){if(t===e&&i===r)return hn;const o=u=>pP(u,0,1,t,i);return u=>u===0||u===1?u:DC(o(u),e,r)}const NC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MC=t=>e=>1-t(1-e),OC=ml(.33,1.53,.69,.99),Gp=MC(OC),IC=NC(Gp),kC=t=>(t*=2)<1?.5*Gp(t):.5*(2-Math.pow(2,-10*(t-1))),Yp=t=>1-Math.sin(Math.acos(t)),LC=MC(Yp),PC=NC(Yp),gP=ml(.42,0,1,1),yP=ml(0,0,.58,1),UC=ml(.42,0,.58,1),vP=t=>Array.isArray(t)&&typeof t[0]!="number",VC=t=>Array.isArray(t)&&typeof t[0]=="number",_P={linear:hn,easeIn:gP,easeInOut:UC,easeOut:yP,circIn:Yp,circInOut:PC,circOut:LC,backIn:Gp,backInOut:IC,backOut:OC,anticipate:kC},EP=t=>typeof t=="string",PE=t=>{if(VC(t)){jp(t.length===4);const[e,i,r,o]=t;return ml(e,i,r,o)}else if(EP(t))return _P[t];return t},Pu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],UE={value:null};function bP(t,e){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(y){c.has(y)&&(g.schedule(y),t()),d++,y(h)}const g={schedule:(y,_=!1,b=!1)=>{const D=b&&o?i:r;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),e&&UE.value&&UE.value.frameloop[e].push(d),d=0,i.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const SP=40;function BC(t,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Pu.reduce((k,W)=>(k[W]=bP(u,e?W:void 0),k),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:b,postRender:S}=c,D=()=>{const k=mi.useManualTiming?o.timestamp:performance.now();i=!1,mi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(k-o.timestamp,SP),1)),o.timestamp=k,o.isProcessing=!0,h.process(o),d.process(o),p.process(o),g.process(o),y.process(o),_.process(o),b.process(o),S.process(o),o.isProcessing=!1,i&&e&&(r=!1,t(D))},N=()=>{i=!0,r=!0,o.isProcessing||t(D)};return{schedule:Pu.reduce((k,W)=>{const P=c[W];return k[W]=(K,Z=!1,X=!1)=>(i||N(),P.schedule(K,Z,X)),k},{}),cancel:k=>{for(let W=0;W<Pu.length;W++)c[Pu[W]].cancel(k)},state:o,steps:c}}const{schedule:qe,cancel:$i,state:vt,steps:Rd}=BC(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0);let Yu;function TP(){Yu=void 0}const Pt={now:()=>(Yu===void 0&&Pt.set(vt.isProcessing||mi.useManualTiming?vt.timestamp:performance.now()),Yu),set:t=>{Yu=t,queueMicrotask(TP)}},zC=t=>e=>typeof e=="string"&&e.startsWith(t),Kp=zC("--"),CP=zC("var(--"),Wp=t=>CP(t)?wP.test(t.split("/*")[0].trim()):!1,wP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ua={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wo={...ua,transform:t=>di(0,1,t)},Uu={...ua,default:1},No=t=>Math.round(t*1e5)/1e5,Xp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AP(t){return t==null}const RP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qp=(t,e)=>i=>!!(typeof i=="string"&&RP.test(i)&&i.startsWith(t)||e&&!AP(i)&&Object.prototype.hasOwnProperty.call(i,e)),HC=(t,e,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(Xp);return{[t]:parseFloat(o),[e]:parseFloat(u),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},xP=t=>di(0,255,t),xd={...ua,transform:t=>Math.round(xP(t))},Is={test:Qp("rgb","red"),parse:HC("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+xd.transform(t)+", "+xd.transform(e)+", "+xd.transform(i)+", "+No(Wo.transform(r))+")"};function DP(t){let e="",i="",r="",o="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const fm={test:Qp("#"),parse:DP,transform:Is.transform},pl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hi=pl("deg"),Un=pl("%"),ue=pl("px"),NP=pl("vh"),MP=pl("vw"),VE={...Un,parse:t=>Un.parse(t)/100,transform:t=>Un.transform(t*100)},kr={test:Qp("hsl","hue"),parse:HC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+Un.transform(No(e))+", "+Un.transform(No(i))+", "+No(Wo.transform(r))+")"},Tt={test:t=>Is.test(t)||fm.test(t)||kr.test(t),parse:t=>Is.test(t)?Is.parse(t):kr.test(t)?kr.parse(t):fm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Is.transform(t):kr.transform(t)},OP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IP(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xp))==null?void 0:e.length)||0)+(((i=t.match(OP))==null?void 0:i.length)||0)>0}const jC="number",FC="color",kP="var",LP="var(",BE="${}",PP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xo(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(PP,d=>(Tt.test(d)?(r.color.push(u),o.push(FC),i.push(Tt.parse(d))):d.startsWith(LP)?(r.var.push(u),o.push(kP),i.push(d)):(r.number.push(u),o.push(jC),i.push(parseFloat(d))),++u,BE)).split(BE);return{values:i,split:h,indexes:r,types:o}}function qC(t){return Xo(t).values}function GC(t){const{split:e,types:i}=Xo(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=i[c];h===jC?u+=No(o[c]):h===FC?u+=Tt.transform(o[c]):u+=o[c]}return u}}const UP=t=>typeof t=="number"?0:t;function VP(t){const e=qC(t);return GC(t)(e.map(UP))}const Zi={test:IP,parse:qC,createTransformer:GC,getAnimatableNone:VP};function Dd(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function BP({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let o=0,u=0,c=0;if(!e)o=u=c=i;else{const h=i<.5?i*(1+e):i+e-i*e,d=2*i-h;o=Dd(d,h,t+1/3),u=Dd(d,h,t),c=Dd(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function _c(t,e){return i=>i>0?e:t}const Fe=(t,e,i)=>t+(e-t)*i,Nd=(t,e,i)=>{const r=t*t,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},zP=[fm,Is,kr],HP=t=>zP.find(e=>e.test(t));function zE(t){const e=HP(t);if(!e)return!1;let i=e.parse(t);return e===kr&&(i=BP(i)),i}const HE=(t,e)=>{const i=zE(t),r=zE(e);if(!i||!r)return _c(t,e);const o={...i};return u=>(o.red=Nd(i.red,r.red,u),o.green=Nd(i.green,r.green,u),o.blue=Nd(i.blue,r.blue,u),o.alpha=Fe(i.alpha,r.alpha,u),Is.transform(o))},hm=new Set(["none","hidden"]);function jP(t,e){return hm.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function FP(t,e){return i=>Fe(t,e,i)}function $p(t){return typeof t=="number"?FP:typeof t=="string"?Wp(t)?_c:Tt.test(t)?HE:YP:Array.isArray(t)?YC:typeof t=="object"?Tt.test(t)?HE:qP:_c}function YC(t,e){const i=[...t],r=i.length,o=t.map((u,c)=>$p(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function qP(t,e){const i={...t,...e},r={};for(const o in i)t[o]!==void 0&&e[o]!==void 0&&(r[o]=$p(t[o])(t[o],e[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function GP(t,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;i[o]=h,r[u]++}return i}const YP=(t,e)=>{const i=Zi.createTransformer(e),r=Xo(t),o=Xo(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?hm.has(t)&&!o.values.length||hm.has(e)&&!r.values.length?jP(t,e):dl(YC(GP(r,o),o.values),i):_c(t,e)};function KC(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?Fe(t,e,i):$p(t)(t,e)}const KP=t=>{const e=({timestamp:i})=>t(i);return{start:()=>qe.update(e,!0),stop:()=>$i(e),now:()=>vt.isProcessing?vt.timestamp:Pt.now()}},WC=(t,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Ec=2e4;function Zp(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<Ec;)e+=i,r=t.next(e);return e>=Ec?1/0:e}function WP(t,e=100,i){const r=i({...t,keyframes:[0,e]}),o=Math.min(Zp(r),Ec);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Pn(o)}}const XP=5;function XC(t,e,i){const r=Math.max(e-XP,0);return xC(i-t(r),e-r)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jE=.001;function QP({duration:t=We.duration,bounce:e=We.bounce,velocity:i=We.velocity,mass:r=We.mass}){let o,u,c=1-e;c=di(We.minDamping,We.maxDamping,c),t=di(We.minDuration,We.maxDuration,Pn(t)),c<1?(o=p=>{const g=p*c,y=g*t,_=g-i,b=dm(p,c),S=Math.exp(-y);return jE-_/b*S},u=p=>{const y=p*c*t,_=y*i+i,b=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-y),D=dm(Math.pow(p,2),c);return(-o(p)+jE>0?-1:1)*((_-b)*S)/D}):(o=p=>{const g=Math.exp(-p*t),y=(p-i)*t+1;return-.001+g*y},u=p=>{const g=Math.exp(-p*t),y=(i-p)*(t*t);return g*y});const h=5/t,d=ZP(o,u,h);if(t=Ln(t),isNaN(d))return{stiffness:We.stiffness,damping:We.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const $P=12;function ZP(t,e,i){let r=i;for(let o=1;o<$P;o++)r=r-t(r)/e(r);return r}function dm(t,e){return t*Math.sqrt(1-e*e)}const JP=["duration","bounce"],e2=["stiffness","damping","mass"];function FE(t,e){return e.some(i=>t[i]!==void 0)}function t2(t){let e={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...t};if(!FE(t,e2)&&FE(t,JP))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:We.mass,stiffness:o,damping:u}}else{const i=QP(t);e={...e,...i,mass:We.mass},e.isResolvedFromDuration=!0}return e}function bc(t=We.visualDuration,e=We.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:u},{stiffness:d,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:b}=t2({...i,velocity:-Pn(i.velocity||0)}),S=_||0,D=p/(2*Math.sqrt(d*g)),N=c-u,x=Pn(Math.sqrt(d/g)),H=Math.abs(N)<5;r||(r=H?We.restSpeed.granular:We.restSpeed.default),o||(o=H?We.restDelta.granular:We.restDelta.default);let k;if(D<1){const P=dm(x,D);k=K=>{const Z=Math.exp(-D*x*K);return c-Z*((S+D*x*N)/P*Math.sin(P*K)+N*Math.cos(P*K))}}else if(D===1)k=P=>c-Math.exp(-x*P)*(N+(S+x*N)*P);else{const P=x*Math.sqrt(D*D-1);k=K=>{const Z=Math.exp(-D*x*K),X=Math.min(P*K,300);return c-Z*((S+D*x*N)*Math.sinh(X)+P*N*Math.cosh(X))/P}}const W={calculatedDuration:b&&y||null,next:P=>{const K=k(P);if(b)h.done=P>=y;else{let Z=P===0?S:0;D<1&&(Z=P===0?Ln(S):XC(k,P,K));const X=Math.abs(Z)<=r,re=Math.abs(c-K)<=o;h.done=X&&re}return h.value=h.done?c:K,h},toString:()=>{const P=Math.min(Zp(W),Ec),K=WC(Z=>W.next(P*Z).value,P,30);return P+"ms "+K},toTransition:()=>{}};return W}bc.applyToOptions=t=>{const e=WP(t,100,bc);return t.ease=e.ease,t.duration=Ln(e.duration),t.type="keyframes",t};function mm({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},b=X=>h!==void 0&&X<h||d!==void 0&&X>d,S=X=>h===void 0?d:d===void 0||Math.abs(h-X)<Math.abs(d-X)?h:d;let D=i*e;const N=y+D,x=c===void 0?N:c(N);x!==N&&(D=x-y);const H=X=>-D*Math.exp(-X/r),k=X=>x+H(X),W=X=>{const re=H(X),me=k(X);_.done=Math.abs(re)<=p,_.value=_.done?x:me};let P,K;const Z=X=>{b(_.value)&&(P=X,K=bc({keyframes:[_.value,S(_.value)],velocity:XC(k,X,_.value),damping:o,stiffness:u,restDelta:p,restSpeed:g}))};return Z(0),{calculatedDuration:null,next:X=>{let re=!1;return!K&&P===void 0&&(re=!0,W(X),Z(X)),P!==void 0&&X>=P?K.next(X-P):(!re&&W(X),_)}}}function n2(t,e,i){const r=[],o=i||mi.mix||KC,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||hn:e;h=dl(d,h)}r.push(h)}return r}function i2(t,e,{clamp:i=!0,ease:r,mixer:o}={}){const u=t.length;if(jp(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=n2(e,r,o),d=h.length,p=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=Ko(t[y],t[y+1],g);return h[y](_)};return i?g=>p(di(t[0],t[u-1],g)):p}function s2(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const o=Ko(0,e,r);t.push(Fe(i,1,o))}}function r2(t){const e=[0];return s2(e,t.length-1),e}function a2(t,e){return t.map(i=>i*e)}function o2(t,e){return t.map(()=>e||UC).splice(0,t.length-1)}function Mo({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=vP(r)?r.map(PE):PE(r),u={done:!1,value:e[0]},c=a2(i&&i.length===e.length?i:r2(e),t),h=i2(c,e,{ease:Array.isArray(o)?o:o2(e,o)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}const l2=t=>t!==null;function Jp(t,{repeat:e,repeatType:i="loop"},r,o=1){const u=t.filter(l2),h=o<0||e&&i!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const u2={decay:mm,inertia:mm,tween:Mo,keyframes:Mo,spring:bc};function QC(t){typeof t.type=="string"&&(t.type=u2[t.type])}class eg{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const c2=t=>t/100;class $C extends eg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;if(i&&i.updatedAt!==Pt.now()&&this.tick(Pt.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QC(e);const{type:i=Mo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const d=i||Mo;d!==Mo&&typeof h[0]!="number"&&(this.mixKeyframes=dl(c2,KC(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Zp(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:b,type:S,onUpdate:D,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const x=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?x<0:x>o;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let k=this.currentTime,W=r;if(y){const X=Math.min(this.currentTime,o)/h;let re=Math.floor(X),me=X%1;!me&&X>=1&&(me=1),me===1&&re--,re=Math.min(re,y+1),!!(re%2)&&(_==="reverse"?(me=1-me,b&&(me-=b/h)):_==="mirror"&&(W=c)),k=di(0,1,me)*h}const P=H?{done:!1,value:g[0]}:W.next(k);u&&(P.value=u(P.value));let{done:K}=P;!H&&d!==null&&(K=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return Z&&S!==mm&&(P.value=Jp(g,this.options,N,this.speed)),D&&D(P.value),Z&&this.finish(),P}then(e,i){return this.finished.then(e,i)}get duration(){return Pn(this.calculatedDuration)}get time(){return Pn(this.currentTime)}set time(e){e=Ln(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pt.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=Pn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KP,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),i&&i();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function f2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ks=t=>t*180/Math.PI,pm=t=>{const e=ks(Math.atan2(t[1],t[0]));return gm(e)},h2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pm,rotateZ:pm,skewX:t=>ks(Math.atan(t[1])),skewY:t=>ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gm=t=>(t=t%360,t<0&&(t+=360),t),qE=pm,GE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),YE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GE,scaleY:YE,scale:t=>(GE(t)+YE(t))/2,rotateX:t=>gm(ks(Math.atan2(t[6],t[5]))),rotateY:t=>gm(ks(Math.atan2(-t[2],t[0]))),rotateZ:qE,rotate:qE,skewX:t=>ks(Math.atan(t[4])),skewY:t=>ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function KE(t){return t.includes("scale")?1:0}function ym(t,e){if(!t||t==="none")return KE(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=d2,o=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=h2,o=h}if(!o)return KE(e);const u=r[e],c=o[1].split(",").map(p2);return typeof u=="function"?u(c):c[u]}const m2=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return ym(i,e)};function p2(t){return parseFloat(t.trim())}const ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fa=new Set(ca),WE=t=>t===ua||t===ue,g2=new Set(["x","y","z"]),y2=ca.filter(t=>!g2.has(t));function v2(t){const e=[];return y2.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const Qr={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ym(e,"x"),y:(t,{transform:e})=>ym(e,"y")};Qr.translateX=Qr.x;Qr.translateY=Qr.y;const Ps=new Set;let vm=!1,_m=!1,Em=!1;function ZC(){if(_m){const t=Array.from(Ps).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=v2(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var h;(h=r.getValue(u))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_m=!1,vm=!1,Ps.forEach(t=>t.complete(Em)),Ps.clear()}function JC(){Ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_m=!0)})}function _2(){Em=!0,JC(),ZC(),Em=!1}class tg{constructor(e,i,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ps.add(this),vm||(vm=!0,qe.read(JC),qe.resolveKeyframes(ZC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&i){const h=r.readValue(i,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}f2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ps.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ps.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const E2=t=>t.startsWith("--");function b2(t,e,i){E2(e)?t.style.setProperty(e,i):t.style[e]=i}const S2=Fp(()=>window.ScrollTimeline!==void 0),T2={};function C2(t,e){const i=Fp(t);return()=>T2[e]??i()}const ew=C2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),So=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,XE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:So([0,.65,.55,1]),circOut:So([.55,0,1,.45]),backIn:So([.31,.01,.66,-.59]),backOut:So([.33,1.53,.69,.99])};function tw(t,e){if(t)return typeof t=="function"?ew()?WC(t,e):"ease-out":VC(t)?So(t):Array.isArray(t)?t.map(i=>tw(i,e)||XE.easeOut):XE[t]}function w2(t,e,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:d}={},p=void 0){const g={[e]:i};d&&(g.offset=d);const y=tw(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function nw(t){return typeof t=="function"&&"applyToOptions"in t}function A2({type:t,...e}){return nw(t)&&ew()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class R2 extends eg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,jp(typeof e.type!="string");const p=A2(e);this.animation=w2(i,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Jp(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):b2(i,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return Pn(Number(e))}get time(){return Pn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ln(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&S2()?(this.animation.timeline=e,hn):i(this)}}const iw={anticipate:kC,backInOut:IC,circInOut:PC};function x2(t){return t in iw}function D2(t){typeof t.ease=="string"&&x2(t.ease)&&(t.ease=iw[t.ease])}const QE=10;class N2 extends R2{constructor(e){D2(e),QC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const h=new $C({...c,autoplay:!1}),d=Ln(this.finishedTime??this.time);i.setWithVelocity(h.sample(d-QE).value,h.sample(d).value,QE),h.stop()}}const $E=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zi.test(t)||t==="0")&&!t.startsWith("url("));function M2(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function O2(t,e,i,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=$E(o,e),h=$E(u,e);return!c||!h?!1:M2(t)||(i==="spring"||nw(i))&&r}const I2=new Set(["opacity","clipPath","filter","transform"]),k2=Fp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L2(t){const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return k2()&&i&&I2.has(i)&&(i!=="transform"||!d)&&!h&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const P2=40;class U2 extends eg{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:d,motionValue:p,element:g,...y}){var S;super(),this.stop=()=>{var D,N;this._animation?(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)):(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Pt.now();const _={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:d,motionValue:p,element:g,...y},b=(g==null?void 0:g.KeyframeResolver)||tg;this.keyframeResolver=new b(h,(D,N,x)=>this.onKeyframesResolved(D,N,_,!x),d,p,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Pt.now(),O2(e,u,c,h)||((mi.instantAnimations||!d)&&(g==null||g(Jp(e,r,i))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>P2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},b=!p&&L2(_)?new N2({..._,element:_.motionValue.owner.current}):new $C(_);b.finished.then(()=>this.notifyFinished()).catch(hn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||_2(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const V2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B2(t){const e=V2.exec(t);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function sw(t,e,i=1){const[r,o]=B2(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return AC(c)?parseFloat(c):c}return Wp(o)?sw(o,e,i+1):o}function ng(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const rw=new Set(["width","height","top","left","right","bottom",...ca]),z2={test:t=>t==="auto",parse:t=>t},aw=t=>e=>e.test(t),ow=[ua,ue,Un,Hi,MP,NP,z2],ZE=t=>ow.find(aw(t));function H2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RC(t):!0}const j2=new Set(["brightness","contrast","saturate","opacity"]);function F2(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(Xp)||[];if(!r)return t;const o=i.replace(r,"");let u=j2.has(e)?1:0;return r!==i&&(u*=100),e+"("+u+o+")"}const q2=/\b([a-z-]*)\(.*?\)/gu,bm={...Zi,getAnimatableNone:t=>{const e=t.match(q2);return e?e.map(F2).join(" "):t}},JE={...ua,transform:Math.round},G2={rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:Uu,scaleX:Uu,scaleY:Uu,scaleZ:Uu,skew:Hi,skewX:Hi,skewY:Hi,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Wo,originX:VE,originY:VE,originZ:ue},ig={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...G2,zIndex:JE,fillOpacity:Wo,strokeOpacity:Wo,numOctaves:JE},Y2={...ig,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:bm,WebkitFilter:bm},lw=t=>Y2[t];function uw(t,e){let i=lw(t);return i!==bm&&(i=Zi),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const K2=new Set(["auto","none","0"]);function W2(t,e,i){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!K2.has(u)&&Xo(u).values.length&&(o=t[r]),r++}if(o&&i)for(const u of e)t[u]=uw(i,o)}class X2 extends tg{constructor(e,i,r,o,u){super(e,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Wp(p))){const g=sw(p,i.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!rw.has(r)||e.length!==2)return;const[o,u]=e,c=ZE(o),h=ZE(u);if(c!==h)if(WE(c)&&WE(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||H2(e[o]))&&r.push(o);r.length&&W2(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Qr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function Q2(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(i==null?void 0:i[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:sg}=BC(queueMicrotask,!1),_n={x:!1,y:!1};function cw(){return _n.x||_n.y}function $2(t){return t==="x"||t==="y"?_n[t]?null:(_n[t]=!0,()=>{_n[t]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}function fw(t,e){const i=Q2(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function eb(t){return!(t.pointerType==="touch"||cw())}function Z2(t,e,i={}){const[r,o,u]=fw(t,i),c=h=>{if(!eb(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=y=>{eb(y)&&(p(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),u}const hw=(t,e)=>e?t===e?!0:hw(t,e.parentElement):!1,rg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,J2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eU(t){return J2.has(t.tagName)||t.tabIndex!==-1}const To=new WeakSet;function tb(t){return e=>{e.key==="Enter"&&t(e)}}function Md(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tU=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=tb(()=>{if(To.has(i))return;Md(i,"down");const o=tb(()=>{Md(i,"up")}),u=()=>Md(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",u,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function nb(t){return rg(t)&&!cw()}function nU(t,e,i={}){const[r,o,u]=fw(t,i),c=h=>{const d=h.currentTarget;if(!nb(h)||To.has(d))return;To.add(d);const p=e(d,h),g=(b,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!nb(b)||!To.has(d))&&(To.delete(d),typeof p=="function"&&p(b,{success:S}))},y=b=>{g(b,d===window||d===document||i.useGlobalTarget||hw(d,b.target))},_=b=>{g(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h instanceof HTMLElement&&(h.addEventListener("focus",p=>tU(p,o)),!eU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}const ib=30,iU=t=>!isNaN(parseFloat(t));class sU{constructor(e,i={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,h;const u=Pt.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=Pt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new qp);const r=this.events[e].add(i);return e==="change"?()=>{r(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e,i=!0){!i||!this.passiveEffect?this.updateAndNotify(e,i):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ib)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,ib);return xC(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(t,e){return new sU(t,e)}const rU=[...ow,Tt,Zi],aU=t=>rU.find(aw(t)),dw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mw=C.createContext({strict:!1}),sb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$r={};for(const t in sb)$r[t]={isEnabled:e=>sb[t].some(i=>!!e[i])};function oU(t){for(const e in t)$r[e]={...$r[e],...t[e]}}const lU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lU.has(t)}let pw=t=>!Sc(t);function uU(t){t&&(pw=e=>e.startsWith("on")?!Sc(e):t(e))}try{uU(require("@emotion/is-prop-valid").default)}catch{}function cU(t,e,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(pw(o)||i===!0&&Sc(o)||!e&&!Sc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function fU(t){if(typeof Proxy>"u")return t;const e=new Map,i=(...r)=>t(...r);return new Proxy(i,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const zc=C.createContext({});function Hc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $o(t){return typeof t=="string"||Array.isArray(t)}const ag=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],og=["initial",...ag];function jc(t){return Hc(t.animate)||og.some(e=>$o(t[e]))}function gw(t){return!!(jc(t)||t.variants)}function hU(t,e){if(jc(t)){const{initial:i,animate:r}=t;return{initial:i===!1||$o(i)?i:void 0,animate:$o(r)?r:void 0}}return t.inherit!==!1?e:{}}function dU(t){const{initial:e,animate:i}=hU(t,C.useContext(zc));return C.useMemo(()=>({initial:e,animate:i}),[rb(e),rb(i)])}function rb(t){return Array.isArray(t)?t.join(" "):t}const mU=Symbol.for("motionComponentSymbol");function Lr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pU(t,e,i){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),i&&(typeof i=="function"?i(r):Lr(i)&&(i.current=r))},[e])}const lg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gU="framerAppearId",yw="data-"+lg(gU),vw=C.createContext({});function yU(t,e,i,r,o){var D,N;const{visualElement:u}=C.useContext(zc),c=C.useContext(mw),h=C.useContext(Bc),d=C.useContext(Bp).reducedMotion,p=C.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:u,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,y=C.useContext(vw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&vU(p.current,i,o,y);const _=C.useRef(!1);C.useInsertionEffect(()=>{g&&_.current&&g.update(i,h)});const b=i[yw],S=C.useRef(!!b&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,b))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,b)));return CC(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),sg.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),C.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,b)}),S.current=!1))}),g}function vU(t,e,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:_w(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&Lr(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function _w(t){if(t)return t.options.allowProjection!==!1?t.projection:_w(t.parent)}function _U({preloadedFeatures:t,createVisualElement:e,useRender:i,useVisualState:r,Component:o}){t&&oU(t);function u(h,d){let p;const g={...C.useContext(Bp),...h,layoutId:EU(h)},{isStatic:y}=g,_=dU(h),b=r(h,y);if(!y&&Vp){bU();const S=SU(g);p=S.MeasureLayout,_.visualElement=yU(o,b,g,e,S.ProjectionNode)}return oi.jsxs(zc.Provider,{value:_,children:[p&&_.visualElement?oi.jsx(p,{visualElement:_.visualElement,...g}):null,i(o,h,pU(b,_.visualElement,d),b,y,_.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=C.forwardRef(u);return c[mU]=o,c}function EU({layoutId:t}){const e=C.useContext(Pp).id;return e&&t!==void 0?e+"-"+t:t}function bU(t,e){C.useContext(mw).strict}function SU(t){const{drag:e,layout:i}=$r;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Zo={};function TU(t){for(const e in t)Zo[e]=t[e],Kp(e)&&(Zo[e].isCSSVariable=!0)}function Ew(t,{layout:e,layoutId:i}){return fa.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!Zo[t]||t==="opacity")}const wt=t=>!!(t&&t.getVelocity),CU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wU=ca.length;function AU(t,e,i){let r="",o=!0;for(let u=0;u<wU;u++){const c=ca[u],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||i){const p=dw(h,ig[c]);if(!d){o=!1;const g=CU[c]||c;r+=`${g}(${p}) `}i&&(e[c]=p)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function ug(t,e,i){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const d in e){const p=e[d];if(fa.has(d)){c=!0;continue}else if(Kp(d)){o[d]=p;continue}else{const g=dw(p,ig[d]);d.startsWith("origin")?(h=!0,u[d]=g):r[d]=g}}if(e.transform||(c||i?r.transform=AU(e,t.transform,i):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=u;r.transformOrigin=`${d} ${p} ${g}`}}const cg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bw(t,e,i){for(const r in e)!wt(e[r])&&!Ew(r,i)&&(t[r]=e[r])}function RU({transformTemplate:t},e){return C.useMemo(()=>{const i=cg();return ug(i,e,t),Object.assign({},i.vars,i.style)},[e])}function xU(t,e){const i=t.style||{},r={};return bw(r,i,t),Object.assign(r,RU(t,e)),r}function DU(t,e){const i={},r=xU(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const NU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fg(t){return typeof t!="string"||t.includes("-")?!1:!!(NU.indexOf(t)>-1||/[A-Z]/u.test(t))}const MU={offset:"stroke-dashoffset",array:"stroke-dasharray"},OU={offset:"strokeDashoffset",array:"strokeDasharray"};function IU(t,e,i=1,r=0,o=!0){t.pathLength=1;const u=o?MU:OU;t[u.offset]=ue.transform(-r);const c=ue.transform(e),h=ue.transform(i);t[u.array]=`${c} ${h}`}function Sw(t,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},d,p){if(ug(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),i!==void 0&&(g.y=i),r!==void 0&&(g.scale=r),o!==void 0&&IU(g,o,u,c,!1)}const Tw=()=>({...cg(),attrs:{}}),Cw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kU(t,e,i,r){const o=C.useMemo(()=>{const u=Tw();return Sw(u,e,Cw(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};bw(u,t.style,t),o.style={...u,...o.style}}return o}function LU(t=!1){return(i,r,o,{latestValues:u},c)=>{const d=(fg(i)?kU:DU)(r,u,c,i),p=cU(r,typeof i=="string",t),g=i!==C.Fragment?{...p,...d,ref:o}:{},{children:y}=r,_=C.useMemo(()=>wt(y)?y.get():y,[y]);return C.createElement(i,{...g,children:_})}}function ab(t){const e=[{},{}];return t==null||t.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function hg(t,e,i,r){if(typeof e=="function"){const[o,u]=ab(r);e=e(i!==void 0?i:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=ab(r);e=e(i!==void 0?i:t.custom,o,u)}return e}function Ku(t){return wt(t)?t.get():t}function PU({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,o){return{latestValues:UU(i,r,o,t),renderState:e()}}const ww=t=>(e,i)=>{const r=C.useContext(zc),o=C.useContext(Bc),u=()=>PU(t,e,r,o);return i?u():Up(u)};function UU(t,e,i,r){const o={},u=r(t,{});for(const _ in u)o[_]=Ku(u[_]);let{initial:c,animate:h}=t;const d=jc(t),p=gw(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!Hc(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const S=hg(t,_[b]);if(S){const{transitionEnd:D,transition:N,...x}=S;for(const H in x){let k=x[H];if(Array.isArray(k)){const W=g?k.length-1:0;k=k[W]}k!==null&&(o[H]=k)}for(const H in D)o[H]=D[H]}}}return o}function dg(t,e,i){var u;const{style:r}=t,o={};for(const c in r)(wt(r[c])||e.style&&wt(e.style[c])||Ew(c,t)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const VU={useVisualState:ww({scrapeMotionValuesFromProps:dg,createRenderState:cg})};function Aw(t,e,i){const r=dg(t,e,i);for(const o in t)if(wt(t[o])||wt(e[o])){const u=ca.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const BU={useVisualState:ww({scrapeMotionValuesFromProps:Aw,createRenderState:Tw})};function zU(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...fg(r)?BU:VU,preloadedFeatures:t,useRender:LU(o),createVisualElement:e,Component:r};return _U(c)}}function Jo(t,e,i){const r=t.getProps();return hg(r,e,i!==void 0?i:r.custom,t)}const Sm=t=>Array.isArray(t);function HU(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Qo(i))}function jU(t){return Sm(t)?t[t.length-1]||0:t}function FU(t,e){const i=Jo(t,e);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const h=jU(u[c]);HU(t,c,h)}}function qU(t){return!!(wt(t)&&t.add)}function Tm(t,e){const i=t.getValue("willChange");if(qU(i))return i.add(e);if(!i&&mi.WillChange){const r=new mi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Rw(t){return t.props[yw]}const GU=t=>t!==null;function YU(t,{repeat:e,repeatType:i="loop"},r){const o=t.filter(GU),u=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[u]}const KU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XU={type:"keyframes",duration:.8},QU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$U=(t,{keyframes:e})=>e.length>2?XU:fa.has(t)?t.startsWith("scale")?WU(e[1]):KU:QU;function ZU({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const mg=(t,e,i,r={},o,u)=>c=>{const h=ng(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ln(d);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};ZU(h)||Object.assign(g,$U(t,g)),g.duration&&(g.duration=Ln(g.duration)),g.repeatDelay&&(g.repeatDelay=Ln(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(mi.instantAnimations||mi.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=YU(g.keyframes,h);if(_!==void 0){qe.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new U2(g)};function JU({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function xw(t,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(u=r);const d=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||p&&JU(p,g))continue;const b={delay:i,...ng(u||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===S&&!b.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const x=Rw(t);if(x){const H=window.MotionHandoffAnimation(x,g,qe);H!==null&&(b.startTime=H,D=!0)}}Tm(t,g),y.start(mg(g,y,_,t.shouldReduceMotion&&rw.has(g)?{type:!1}:b,t,D));const N=y.animation;N&&d.push(N)}return c&&Promise.all(d).then(()=>{qe.update(()=>{c&&FU(t,c)})}),d}function Cm(t,e,i={}){var d;const r=Jo(t,e,i.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(xw(t,r,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return e3(t,e,g+p,y,_,i)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function e3(t,e,i=0,r=0,o=1,u){const c=[],h=(t.variantChildren.size-1)*r,d=o===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(t3).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(Cm(p,e,{...u,delay:i+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function t3(t,e){return t.sortNodePosition(e)}function n3(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Cm(t,u,i));r=Promise.all(o)}else if(typeof e=="string")r=Cm(t,e,i);else{const o=typeof e=="function"?Jo(t,e,i.custom):e;r=Promise.all(xw(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Dw(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const i3=og.length;function Nw(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?Nw(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<i3;i++){const r=og[i],o=t.props[r];($o(o)||o===!1)&&(e[r]=o)}return e}const s3=[...ag].reverse(),r3=ag.length;function a3(t){return e=>Promise.all(e.map(({animation:i,options:r})=>n3(t,i,r)))}function o3(t){let e=a3(t),i=ob(),r=!0;const o=d=>(p,g)=>{var _;const y=Jo(t,g,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:S,...D}=y;p={...p,...D,...S}}return p};function u(d){e=d(t)}function c(d){const{props:p}=t,g=Nw(t.parent)||{},y=[],_=new Set;let b={},S=1/0;for(let N=0;N<r3;N++){const x=s3[N],H=i[x],k=p[x]!==void 0?p[x]:g[x],W=$o(k),P=x===d?H.isActive:null;P===!1&&(S=N);let K=k===g[x]&&k!==p[x]&&W;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),H.protectedKeys={...b},!H.isActive&&P===null||!k&&!H.prevProp||Hc(k)||typeof k=="boolean")continue;const Z=l3(H.prevProp,k);let X=Z||x===d&&H.isActive&&!K&&W||N>S&&W,re=!1;const me=Array.isArray(k)?k:[k];let Qe=me.reduce(o(x),{});P===!1&&(Qe={});const{prevResolvedValues:Ge={}}=H,zt={...Ge,...Qe},Ht=G=>{X=!0,_.has(G)&&(re=!0,_.delete(G)),H.needsAnimating[G]=!0;const ee=t.getValue(G);ee&&(ee.liveStyle=!1)};for(const G in zt){const ee=Qe[G],Ce=Ge[G];if(b.hasOwnProperty(G))continue;let w=!1;Sm(ee)&&Sm(Ce)?w=!Dw(ee,Ce):w=ee!==Ce,w?ee!=null?Ht(G):_.add(G):ee!==void 0&&_.has(G)?Ht(G):H.protectedKeys[G]=!0}H.prevProp=k,H.prevResolvedValues=Qe,H.isActive&&(b={...b,...Qe}),r&&t.blockInitialAnimation&&(X=!1),X&&(!(K&&Z)||re)&&y.push(...me.map(G=>({animation:G,options:{type:x}})))}if(_.size){const N={};if(typeof p.initial!="boolean"){const x=Jo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);x&&x.transition&&(N.transition=x.transition)}_.forEach(x=>{const H=t.getBaseTarget(x),k=t.getValue(x);k&&(k.liveStyle=!0),N[x]=H??null}),y.push({animation:N})}let D=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(y):Promise.resolve()}function h(d,p){var y;if(i[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(d,p)}),i[d].isActive=p;const g=c(d);for(const _ in i)i[_].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>i,reset:()=>{i=ob(),r=!0}}}function l3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Dw(e,t):!1}function Cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ob(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}class rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u3 extends rs{constructor(e){super(e),e.animationState||(e.animationState=o3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let c3=0;class f3 extends rs{constructor(){super(...arguments),this.id=c3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const h3={animation:{Feature:u3},exit:{Feature:f3}};function el(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}function gl(t){return{point:{x:t.pageX,y:t.pageY}}}const d3=t=>e=>rg(e)&&t(e,gl(e));function Oo(t,e,i,r){return el(t,e,d3(i),r)}function Mw({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function m3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p3(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const Ow=1e-4,g3=1-Ow,y3=1+Ow,Iw=.01,v3=0-Iw,_3=0+Iw;function Rt(t){return t.max-t.min}function E3(t,e,i){return Math.abs(t-e)<=i}function lb(t,e,i,r=.5){t.origin=r,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=Rt(i)/Rt(e),t.translate=Fe(i.min,i.max,t.origin)-t.originPoint,(t.scale>=g3&&t.scale<=y3||isNaN(t.scale))&&(t.scale=1),(t.translate>=v3&&t.translate<=_3||isNaN(t.translate))&&(t.translate=0)}function Io(t,e,i,r){lb(t.x,e.x,i.x,r?r.originX:void 0),lb(t.y,e.y,i.y,r?r.originY:void 0)}function ub(t,e,i){t.min=i.min+e.min,t.max=t.min+Rt(e)}function b3(t,e,i){ub(t.x,e.x,i.x),ub(t.y,e.y,i.y)}function cb(t,e,i){t.min=e.min-i.min,t.max=t.min+Rt(e)}function ko(t,e,i){cb(t.x,e.x,i.x),cb(t.y,e.y,i.y)}const fb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pr=()=>({x:fb(),y:fb()}),hb=()=>({min:0,max:0}),et=()=>({x:hb(),y:hb()});function fn(t){return[t("x"),t("y")]}function Od(t){return t===void 0||t===1}function wm({scale:t,scaleX:e,scaleY:i}){return!Od(t)||!Od(e)||!Od(i)}function Rs(t){return wm(t)||kw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kw(t){return db(t.x)||db(t.y)}function db(t){return t&&t!=="0%"}function Tc(t,e,i){const r=t-i,o=e*r;return i+o}function mb(t,e,i,r,o){return o!==void 0&&(t=Tc(t,o,r)),Tc(t,i,r)+e}function Am(t,e=0,i=1,r,o){t.min=mb(t.min,e,i,r,o),t.max=mb(t.max,e,i,r,o)}function Lw(t,{x:e,y:i}){Am(t.x,e.translate,e.scale,e.originPoint),Am(t.y,i.translate,i.scale,i.originPoint)}const pb=.999999999999,gb=1.0000000000001;function S3(t,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=i[h],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Vr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Lw(t,c)),r&&Rs(u.latestValues)&&Vr(t,u.latestValues))}e.x<gb&&e.x>pb&&(e.x=1),e.y<gb&&e.y>pb&&(e.y=1)}function Ur(t,e){t.min=t.min+e,t.max=t.max+e}function yb(t,e,i,r,o=.5){const u=Fe(t.min,t.max,o);Am(t,e,i,u,r)}function Vr(t,e){yb(t.x,e.x,e.scaleX,e.scale,e.originX),yb(t.y,e.y,e.scaleY,e.scale,e.originY)}function Pw(t,e){return Mw(p3(t.getBoundingClientRect(),e))}function T3(t,e,i){const r=Pw(t,i),{scroll:o}=e;return o&&(Ur(r.x,o.offset.x),Ur(r.y,o.offset.y)),r}const Uw=({current:t})=>t?t.ownerDocument.defaultView:null,vb=(t,e)=>Math.abs(t-e);function C3(t,e){const i=vb(t.x,e.x),r=vb(t.y,e.y);return Math.sqrt(i**2+r**2)}class Vw{constructor(e,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=kd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=C3(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:S}=y,{timestamp:D}=vt;this.history.push({...S,timestamp:D});const{onStart:N,onMove:x}=this.handlers;_||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Id(_,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=kd(y.type==="pointercancel"?this.lastMoveEventInfo:Id(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,N),S&&S(y,N)},!rg(e))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const c=gl(e),h=Id(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=vt;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=i;g&&g(e,kd(h,this.history)),this.removeListeners=dl(Oo(this.contextWindow,"pointermove",this.handlePointerMove),Oo(this.contextWindow,"pointerup",this.handlePointerUp),Oo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function Id(t,e){return e?{point:e(t.point)}:t}function _b(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kd({point:t},e){return{point:t,delta:_b(t,Bw(e)),offset:_b(t,w3(e)),velocity:A3(e,.1)}}function w3(t){return t[0]}function Bw(t){return t[t.length-1]}function A3(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=Bw(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>Ln(e)));)i--;if(!r)return{x:0,y:0};const u=Pn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function R3(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?Fe(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?Fe(i,t,r.max):Math.min(t,i)),t}function Eb(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function x3(t,{top:e,left:i,bottom:r,right:o}){return{x:Eb(t.x,i,o),y:Eb(t.y,e,r)}}function bb(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function D3(t,e){return{x:bb(t.x,e.x),y:bb(t.y,e.y)}}function N3(t,e){let i=.5;const r=Rt(t),o=Rt(e);return o>r?i=Ko(e.min,e.max-r,t.min):r>o&&(i=Ko(t.min,t.max-o,e.min)),di(0,1,i)}function M3(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const Rm=.35;function O3(t=Rm){return t===!1?t=0:t===!0&&(t=Rm),{x:Sb(t,"left","right"),y:Sb(t,"top","bottom")}}function Sb(t,e,i){return{min:Tb(t,e),max:Tb(t,i)}}function Tb(t,e){return typeof t=="number"?t:t[e]||0}const I3=new WeakMap;class k3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=e}start(e,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(gl(g).point)},u=(g,y)=>{const{drag:_,dragPropagation:b,onDragStart:S}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$2(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(N=>{let x=this.getAxisMotionValue(N).get()||0;if(Un.test(x)){const{projection:H}=this.visualElement;if(H&&H.layout){const k=H.layout.layoutBox[N];k&&(x=Rt(k)*(parseFloat(x)/100))}}this.originPoint[N]=x}),S&&qe.postRender(()=>S(g,y)),Tm(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:S,onDrag:D}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=y;if(b&&this.currentDirection===null){this.currentDirection=L3(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),D&&D(g,y)},h=(g,y)=>this.stop(g,y),d=()=>fn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Vw(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Uw(this.visualElement)})}stop(e,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&qe.postRender(()=>u(e,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!Vu(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=R3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&Lr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=x3(r.layoutBox,e):this.constraints=!1,this.elastic=O3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=M3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Lr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=T3(r,o.root,this.visualElement.getTransformPagePoint());let c=D3(o.layout.layoutBox,u);if(i){const h=i(m3(c));this.hasMutatedConstraints=!!h,h&&(c=Mw(h))}return c}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=fn(g=>{if(!Vu(g,i,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(h)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return Tm(this.visualElement,e),r.start(mg(e,r,0,i,this.visualElement,!1))}stopAnimation(){fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fn(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fn(i=>{const{drag:r}=this.getProps();if(!Vu(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[i];u.set(e[i]-Fe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Lr(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};fn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();o[c]=N3({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fn(c=>{if(!Vu(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(Fe(d,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;I3.set(this.visualElement,this);const e=this.visualElement.current,i=Oo(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Lr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(r);const c=el(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(fn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),i(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Rm,dragMomentum:h=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Vu(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function L3(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class P3 extends rs{constructor(e){super(e),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new k3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cb=t=>(e,i)=>{t&&qe.postRender(()=>t(e,i))};class U3 extends rs{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(e){this.session=new Vw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Uw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Cb(e),onStart:Cb(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&qe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Oo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const i=wb(t,e.target.x),r=wb(t,e.target.y);return`${i}% ${r}%`}},V3={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,o=Zi.parse(t);if(o.length>5)return r;const u=Zi.createTransformer(t),c=typeof o[0]!="number"?1:0,h=i.x.scale*e.x,d=i.y.scale*e.y;o[0+c]/=h,o[1+c]/=d;const p=Fe(h,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}};class B3 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;TU(z3),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==i||i===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||qe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zw(t){const[e,i]=wC(),r=C.useContext(Pp);return oi.jsx(B3,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(vw),isPresent:e,safeToRemove:i})}const z3={borderRadius:{...vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vo,borderTopRightRadius:vo,borderBottomLeftRadius:vo,borderBottomRightRadius:vo,boxShadow:V3};function H3(t,e,i){const r=wt(t)?t:Qo(t);return r.start(mg("",r,e,i)),r.animation}function j3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const F3=(t,e)=>t.depth-e.depth;class q3{constructor(){this.children=[],this.isDirty=!1}add(e){zp(this.children,e),this.isDirty=!0}remove(e){Hp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F3),this.isDirty=!1,this.children.forEach(e)}}function G3(t,e){const i=Pt.now(),r=({timestamp:o})=>{const u=o-i;u>=e&&($i(r),t(u-e))};return qe.setup(r,!0),()=>$i(r)}const Hw=["TopLeft","TopRight","BottomLeft","BottomRight"],Y3=Hw.length,Ab=t=>typeof t=="string"?parseFloat(t):t,Rb=t=>typeof t=="number"||ue.test(t);function K3(t,e,i,r,o,u){o?(t.opacity=Fe(0,i.opacity??1,W3(r)),t.opacityExit=Fe(e.opacity??1,0,X3(r))):u&&(t.opacity=Fe(e.opacity??1,i.opacity??1,r));for(let c=0;c<Y3;c++){const h=`border${Hw[c]}Radius`;let d=xb(e,h),p=xb(i,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Rb(d)===Rb(p)?(t[h]=Math.max(Fe(Ab(d),Ab(p),r),0),(Un.test(p)||Un.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||i.rotate)&&(t.rotate=Fe(e.rotate||0,i.rotate||0,r))}function xb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const W3=jw(0,.5,LC),X3=jw(.5,.95,hn);function jw(t,e,i){return r=>r<t?0:r>e?1:i(Ko(t,e,r))}function Db(t,e){t.min=e.min,t.max=e.max}function cn(t,e){Db(t.x,e.x),Db(t.y,e.y)}function Nb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mb(t,e,i,r,o){return t-=e,t=Tc(t,1/i,r),o!==void 0&&(t=Tc(t,1/o,r)),t}function Q3(t,e=0,i=1,r=.5,o,u=t,c=t){if(Un.test(e)&&(e=parseFloat(e),e=Fe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Fe(u.min,u.max,r);t===u&&(h-=e),t.min=Mb(t.min,e,i,h,o),t.max=Mb(t.max,e,i,h,o)}function Ob(t,e,[i,r,o],u,c){Q3(t,e[i],e[r],e[o],e.scale,u,c)}const $3=["x","scaleX","originX"],Z3=["y","scaleY","originY"];function Ib(t,e,i,r){Ob(t.x,e,$3,i?i.x:void 0,r?r.x:void 0),Ob(t.y,e,Z3,i?i.y:void 0,r?r.y:void 0)}function kb(t){return t.translate===0&&t.scale===1}function Fw(t){return kb(t.x)&&kb(t.y)}function Lb(t,e){return t.min===e.min&&t.max===e.max}function J3(t,e){return Lb(t.x,e.x)&&Lb(t.y,e.y)}function Pb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qw(t,e){return Pb(t.x,e.x)&&Pb(t.y,e.y)}function Ub(t){return Rt(t.x)/Rt(t.y)}function Vb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eV{constructor(){this.members=[]}add(e){zp(this.members,e),e.scheduleRender()}remove(e){if(Hp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tV(t,e,i){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:b,skewY:S}=i;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Ld=["","X","Y","Z"],nV={visibility:"hidden"},Bb=1e3;let iV=0;function Pd(t,e,i,r){const{latestValues:o}=e;o[t]&&(i[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Gw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=Rw(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",qe,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Gw(r)}function Yw({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=iV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aV),this.nodes.forEach(fV),this.nodes.forEach(hV),this.nodes.forEach(oV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new q3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qp),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=j3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=G3(_,250),Wu.hasAnimatedSinceResize&&(Wu.hasAnimatedSinceResize=!1,this.nodes.forEach(Hb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||yV,{onLayoutAnimationStart:N,onLayoutAnimationComplete:x}=g.getProps(),H=!this.targetLayout||!qw(this.targetLayout,S),k=!_&&b;if(this.options.layoutRoot||this.resumeFrom||k||_&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,k);const W={...ng(D,"layout"),onPlay:N,onComplete:x};(g.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||Hb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zb);return}this.isUpdating||this.nodes.forEach(uV),this.isUpdating=!1,this.nodes.forEach(cV),this.nodes.forEach(sV),this.nodes.forEach(rV),this.clearAllSnapshots();const h=Pt.now();vt.delta=di(0,1e3/60,h-vt.timestamp),vt.timestamp=h,vt.isProcessing=!0,Rd.update.process(vt),Rd.preRender.process(vt),Rd.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lV),this.sharedNodes.forEach(mV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Fw(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(h||Rs(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),vV(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return et();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(_V))){const{scroll:g}=this.root;g&&(Ur(h.x,g.offset.x),Ur(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=et();if(cn(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&cn(h,c),Ur(h.x,y.offset.x),Ur(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=et();cn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Rs(g.latestValues)&&Vr(d,g.latestValues)}return Rs(this.latestValues)&&Vr(d,this.latestValues),d}removeTransform(c){const h=et();cn(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Rs(p.latestValues))continue;wm(p.latestValues)&&p.updateSnapshot();const g=et(),y=p.measurePageBox();cn(g,y),Ib(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Rs(this.latestValues)&&Ib(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),ko(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),Lw(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),ko(this.relativeTargetOrigin,this.target,b.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wm(this.parent.latestValues)||kw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;cn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;S3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=et());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nb(this.prevProjectionDelta.x,this.projectionDelta.x),Nb(this.prevProjectionDelta.y,this.projectionDelta.y)),Io(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!Vb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pr(),this.projectionDelta=Pr(),this.projectionDeltaWithTransform=Pr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=Pr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=et(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,D=b!==S,N=this.getStack(),x=!N||N.members.length<=1,H=!!(D&&!x&&this.options.crossfade===!0&&!this.path.some(gV));this.animationProgress=0;let k;this.mixTargetDelta=W=>{const P=W/1e3;jb(y.x,c.x,P),jb(y.y,c.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ko(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pV(this.relativeTarget,this.relativeTargetOrigin,_,P),k&&J3(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=et()),cn(k,this.relativeTarget)),D&&(this.animationValues=g,K3(g,p,this.latestValues,P,H,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Wu.hasAnimatedSinceResize=!0,this.currentAnimation=H3(0,Bb,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&Kw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||et();const y=Rt(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const _=Rt(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}cn(h,d),Vr(h,g),Io(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new eV),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Pd("z",c,p,this.animationValues);for(let g=0;g<Ld.length;g++)Pd(`rotate${Ld[g]}`,c,p,this.animationValues),Pd(`skew${Ld[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nV;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ku(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Ku(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=tV(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:y,y:_}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in Zo){if(g[b]===void 0)continue;const{correct:S,applyTo:D,isCSSVariable:N}=Zo[b],x=h.transform==="none"?g[b]:S(g[b],p);if(D){const H=D.length;for(let k=0;k<H;k++)h[D[k]]=x}else N?this.options.visualElement.renderState.vars[b]=x:h[b]=x}return this.options.layoutId&&(h.pointerEvents=p===this?Ku(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(zb),this.root.sharedNodes.clear()}}}function sV(t){t.updateLayout()}function rV(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?fn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=Rt(_);_.min=r[y].min,_.max=_.min+b}):Kw(u,e.layoutBox,r)&&fn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],b=Rt(r[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const h=Pr();Io(h,r,e.layoutBox);const d=Pr();c?Io(d,t.applyTransform(o,!0),e.measuredBox):Io(d,r,e.layoutBox);const p=!Fw(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const S=et();ko(S,e.layoutBox,_.layoutBox);const D=et();ko(D,r,b.layoutBox),qw(S,D)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lV(t){t.clearSnapshot()}function zb(t){t.clearMeasurements()}function uV(t){t.isLayoutDirty=!1}function cV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fV(t){t.resolveTargetDelta()}function hV(t){t.calcProjection()}function dV(t){t.resetSkewAndRotation()}function mV(t){t.removeLeadSnapshot()}function jb(t,e,i){t.translate=Fe(e.translate,0,i),t.scale=Fe(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Fb(t,e,i,r){t.min=Fe(e.min,i.min,r),t.max=Fe(e.max,i.max,r)}function pV(t,e,i,r){Fb(t.x,e.x,i.x,r),Fb(t.y,e.y,i.y,r)}function gV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yV={duration:.45,ease:[.4,0,.1,1]},qb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Gb=qb("applewebkit/")&&!qb("chrome/")?Math.round:hn;function Yb(t){t.min=Gb(t.min),t.max=Gb(t.max)}function vV(t){Yb(t.x),Yb(t.y)}function Kw(t,e,i){return t==="position"||t==="preserve-aspect"&&!E3(Ub(e),Ub(i),.2)}function _V(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const EV=Yw({attachResizeListener:(t,e)=>el(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ud={current:void 0},Ww=Yw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ud.current){const t=new EV({});t.mount(window),t.setOptions({layoutScroll:!0}),Ud.current=t}return Ud.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bV={pan:{Feature:U3},drag:{Feature:P3,ProjectionNode:Ww,MeasureLayout:zw}};function Kb(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&qe.postRender(()=>u(e,gl(e)))}class SV extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=Z2(e,(i,r)=>(Kb(this.node,r,"Start"),o=>Kb(this.node,o,"End"))))}unmount(){}}class TV extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dl(el(this.node.current,"focus",()=>this.onFocus()),el(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wb(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&qe.postRender(()=>u(e,gl(e)))}class CV extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=nU(e,(i,r)=>(Wb(this.node,r,"Start"),(o,{success:u})=>Wb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xm=new WeakMap,Vd=new WeakMap,wV=t=>{const e=xm.get(t.target);e&&e(t)},AV=t=>{t.forEach(wV)};function RV({root:t,...e}){const i=t||document;Vd.has(i)||Vd.set(i,{});const r=Vd.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(AV,{root:t,...e})),r[o]}function xV(t,e,i){const r=RV(e);return xm.set(t,i),r.observe(t),()=>{xm.delete(t),r.unobserve(t)}}const DV={some:0,all:1};class NV extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=e,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:DV[o]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(d)};return xV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(MV(e,i))&&this.startObserver()}unmount(){}}function MV({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const OV={inView:{Feature:NV},tap:{Feature:CV},focus:{Feature:TV},hover:{Feature:SV}},IV={layout:{ProjectionNode:Ww,MeasureLayout:zw}},Dm={current:null},Xw={current:!1};function kV(){if(Xw.current=!0,!!Vp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dm.current=t.matches;t.addListener(e),e()}else Dm.current=!1}const LV=new WeakMap;function PV(t,e,i){for(const r in e){const o=e[r],u=i[r];if(wt(o))t.addValue(r,o);else if(wt(u))t.addValue(r,Qo(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Qo(c!==void 0?c:o,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const Xb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UV{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Pt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,qe.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=jc(i),this.isVariantNode=gw(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in y){const b=y[_];d[_]!==void 0&&wt(b)&&b.set(d[_],!1)}}mount(e){this.current=e,LV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),Xw.current||kV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fa.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $r){const i=$r[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<Xb.length;r++){const o=Xb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=PV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=Qo(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(AC(r)||RC(r))?r=parseFloat(r):!aU(r)&&Zi.test(i)&&(r=uw(e,i)),this.setBaseTarget(e,wt(r)?r.get():r)),wt(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=hg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!wt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new qp),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}}class Qw extends UV{constructor(){super(...arguments),this.KeyframeResolver=X2}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function $w(t,{style:e,vars:i},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in i)t.style.setProperty(u,i[u])}function VV(t){return window.getComputedStyle(t)}class BV extends Qw{constructor(){super(...arguments),this.type="html",this.renderInstance=$w}readValueFromInstance(e,i){if(fa.has(i))return m2(e,i);{const r=VV(e),o=(Kp(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:i}){return Pw(e,i)}build(e,i,r){ug(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return dg(e,i,r)}}const Zw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zV(t,e,i,r){$w(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Zw.has(o)?o:lg(o),e.attrs[o])}class HV extends Qw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(fa.has(i)){const r=lw(i);return r&&r.default||0}return i=Zw.has(i)?i:lg(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return Aw(e,i,r)}build(e,i,r){Sw(e,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,i,r,o){zV(e,i,r,o)}mount(e){this.isSVGTag=Cw(e.tagName),super.mount(e)}}const jV=(t,e)=>fg(t)?new HV(e):new BV(e,{allowProjection:t!==C.Fragment}),FV=zU({...h3,...OV,...bV,...IV},jV),qV=fU(FV),Nm=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],GV=6e4,Jw=C.createContext({currentIndex:0}),YV=({children:t})=>{const[e,i]=C.useState(0);return C.useEffect(()=>{const r=setInterval(()=>{i(o=>(o+1)%Nm.length)},GV);return()=>clearInterval(r)},[]),F.createElement(Jw.Provider,{value:{currentIndex:e}},t)},Fc=()=>{const{currentIndex:t}=C.useContext(Jw);return{backgroundElement:F.createElement(fP,{mode:"wait"},F.createElement(qV.div,{key:t,className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Nm[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}})),currentIndex:t,imageUrl:Nm[t]}},KV=()=>{const t=ta(),{backgroundElement:e}=Fc();return F.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white"},e,F.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md p-10 rounded-2xl max-w-md text-center shadow-xl"},F.createElement("h1",{className:"text-4xl font-extrabold text-white mb-4 tracking-wider"},"夜のチャット"),F.createElement("p",{className:"text-gray-300 text-sm mb-2"},"夜裡的話語，從這裡開始。"),F.createElement("p",{className:"text-gray-400 text-sm mb-8"},"Speak freely, in a place that listens."),F.createElement("button",{onClick:()=>t("/login"),className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transform transition-all duration-300"},"はじめる")))};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Qb=t=>{const e=XV(t);return e.charAt(0).toUpperCase()+e.slice(1)},eA=(...t)=>t.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),QV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},d)=>C.createElement("svg",{ref:d,...$V,width:e,height:e,stroke:t,strokeWidth:r?Number(i)*24/Number(e):i,className:eA("lucide",o),...!u&&!QV(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,g])=>C.createElement(p,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=(t,e)=>{const i=C.forwardRef(({className:r,...o},u)=>C.createElement(ZV,{ref:u,iconNode:e,className:eA(`lucide-${WV(Qb(t))}`,`lucide-${t}`,r),...o}));return i.displayName=Qb(t),i};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eB=tA("eye-off",JV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nB=tA("eye",tB),iB=()=>{const[t,e]=C.useState(!1),[i,r]=C.useState(""),[o,u]=C.useState(""),[c,h]=C.useState(!1),[d,p]=C.useState(""),[g,y]=C.useState(!1),_=ta(),{backgroundElement:b}=Fc();C.useRef(null),C.useRef(null),C.useEffect(()=>{r(""),u(""),p("")},[t]);const S=async N=>{N.preventDefault(),p(""),y(!0);try{t?(await IM(Ls,i,o),_("/profile")):(await kM(Ls,i,o),_("/chat"))}catch(x){p(x.message)}finally{y(!1)}},D=async()=>{const N=new ei;try{const H=(await iO(Ls,N)).user,k=En(),W=rt(k,`users/${H.uid}`);Ds(W,P=>{P.exists()||xs(W,{nickname:H.displayName||"匿名使用者",avatarUrl:H.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),_("/chat")}catch(x){p(x.message)}};return F.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden"},b,F.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl"},F.createElement("div",{className:"flex justify-center space-x-4"},F.createElement("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`},"Login"),F.createElement("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`},"Sign Up")),F.createElement("form",{onSubmit:S,className:"space-y-4"},F.createElement("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:i,onChange:N=>r(N.target.value),required:!0}),F.createElement("div",{className:"relative"},F.createElement("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:N=>u(N.target.value),required:!0}),F.createElement("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password"},c?F.createElement(eB,{size:20}):F.createElement(nB,{size:20}))),d&&F.createElement("p",{className:"text-red-400 text-sm text-center"},d),F.createElement("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]"},t?"Sign Up":"Login")),F.createElement("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition"},F.createElement("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"),F.createElement("p",{className:"text-center text-sm text-white/80"},t?"Already have an account?":"Don't have an account?"," ",F.createElement("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition"},t?"Login":"Sign up"))))};function sB(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const rB="dhtqetylj",aB="Chatroom_Avatars",Bd=(t,e)=>[t,e].sort().join("_"),oB=()=>{const[t,e]=C.useState([]),[i,r]=C.useState(""),[o,u]=C.useState([]),[c,h]=C.useState([]),[d,p]=C.useState("public"),[g,y]=C.useState(""),[_,b]=C.useState(""),[S,D]=C.useState(""),[N,x]=C.useState("#bfa382"),[H,k]=C.useState(!1),[W,P]=C.useState(!1),[K,Z]=C.useState(""),[X,re]=C.useState([]),me=ta(),{backgroundElement:Qe}=Fc(),Ge=C.useRef(null),[zt,Ht]=C.useState([]),ne=Ls.currentUser;C.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),C.useEffect(()=>{const B=setTimeout(()=>{var pe;(pe=Ge.current)==null||pe.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(B)},[t]),C.useEffect(()=>{if(!ne){me("/login");return}const B=En(),pe=rt(B,`users/${ne.uid}`);Ds(pe,ot=>{const $e=ot.val();$e&&(b($e.nickname||""),D($e.avatarUrl||""),x($e.themeColor||"#bfa382"))});const fe=rt(B,"users");Ds(fe,ot=>{const $e=ot.val();if($e){const jt=Object.entries($e).filter(([mn])=>mn!==ne.uid).map(([mn,pn])=>({uid:mn,nickname:pn.nickname,avatarUrl:pn.avatarUrl}));u(jt)}});const we=rt(B,"groups");Ds(we,ot=>{const $e=ot.val();if($e){const jt=Object.entries($e).map(([mn,pn])=>({id:mn,name:pn.name,members:pn.members}));h(jt)}})},[me]),C.useEffect(()=>{const B=En();if(!ne)return;let pe;if(d==="public")pe=rt(B,"messages/public");else if(g)pe=rt(B,`messages/groups/${g}`);else{const fe=Bd(ne.uid,d);pe=rt(B,`messages/private/${fe}`)}Ds(pe,fe=>{const we=fe.val();if(we){const ot=Object.entries(we).map(([$e,jt])=>({id:$e,...jt}));e(ot)}else e([])})},[d,g]),C.useEffect(()=>{if(!ne)return;const B=En(),pe=rt(B,`users/${ne.uid}/friends`);Ds(pe,fe=>{const we=fe.val();Ht(we?Object.keys(we):[])})},[ne]);const U=async()=>{if(!i.trim())return;const B=En();if(!ne)return;const pe=Date.now(),fe={text:sB(i),sender:ne.uid,nickname:_,avatarUrl:S,timestamp:pe};let we;if(d==="public")we=rt(B,"messages/public");else if(g)we=rt(B,`messages/groups/${g}`);else{const $e=Bd(ne.uid,d);we=rt(B,`messages/private/${$e}`)}const ot=wd(we);await xs(ot,fe),r(""),Notification.permission==="granted"&&ne&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:S||"/image/default-avatar.jpg"})},G=async B=>{var we;const pe=(we=B.target.files)==null?void 0:we[0];if(!pe||!ne)return;const fe=new FormData;fe.append("file",pe),fe.append("upload_preset",aB),fe.append("folder","chat-images");try{const $e=await(await fetch(`https://api.cloudinary.com/v1_1/${rB}/image/upload`,{method:"POST",body:fe})).json(),jt=En(),mn=Date.now(),pn={text:"",imageUrl:$e.secure_url,sender:ne.uid,nickname:_,avatarUrl:S,timestamp:mn};let Ys;if(d==="public")Ys=rt(jt,"messages/public");else if(g)Ys=rt(jt,`messages/groups/${g}`);else{const Jt=Bd(ne.uid,d);Ys=rt(jt,`messages/private/${Jt}`)}const qc=wd(Ys);await xs(qc,pn)}catch(ot){console.error("上傳圖片失敗:",ot)}},ee=async B=>{if(!ne)return;const pe=En(),fe=rt(pe,`users/${ne.uid}/friends/${B}`),we=rt(pe,`users/${B}/friends/${ne.uid}`);await xs(fe,!0),await xs(we,!0)},Ce=()=>{p("public"),y(""),k(!1)},w=B=>{p(B),y(""),k(!1)},q=B=>{p(""),y(B),k(!1)},$=()=>{me("/profile"),k(!1)},Q=async()=>{await Ls.signOut(),me("")},ie=async()=>{if(!K.trim()||X.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const B=En();if(!ne)return;const pe=rt(B,"groups"),fe=wd(pe),we={};X.forEach(ot=>we[ot]=!0),we[ne.uid]=!0,await xs(fe,{name:K,members:we}),P(!1),Z(""),re([])},Se=B=>new Date(B).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return F.createElement(F.Fragment,null,Qe,W&&F.createElement("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50"},F.createElement("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4"},F.createElement("h2",{className:"text-xl font-bold"},"創建新群組"),F.createElement("input",{type:"text",value:K,onChange:B=>Z(B.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),F.createElement("div",{className:"max-h-40 overflow-y-auto space-y-2"},o.filter(B=>zt.includes(B.uid)).length===0?F.createElement("div",{className:"text-gray-400 text-center py-4"},"尚未加任何好友，無法建立群組喔 🌸"):o.filter(B=>zt.includes(B.uid)).map(B=>F.createElement("div",{key:B.uid,className:"flex items-center space-x-2"},F.createElement("input",{type:"checkbox",value:B.uid,onChange:pe=>{pe.target.checked?re(fe=>[...fe,B.uid]):re(fe=>fe.filter(we=>we!==B.uid))}}),F.createElement("span",null,B.nickname)))),F.createElement("div",{className:"flex justify-end space-x-2 pt-2"},F.createElement("button",{onClick:()=>P(!1),className:"px-4 py-2 rounded-lg bg-gray-600"},"Cancel"),F.createElement("button",{onClick:ie,className:"px-4 py-2 rounded-lg bg-green-600"},"Create")))),F.createElement("div",{className:"flex h-screen overflow-hidden relative"},F.createElement("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${H?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`},F.createElement("button",{onClick:Ce,className:"text-lg font-bold hover:underline",style:{color:N}},"🌎 Public Chat"),F.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"All Users"),F.createElement("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto"},o&&o.map(B=>F.createElement("div",{key:B.uid,className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition"},F.createElement("button",{onClick:()=>w(B.uid),className:"flex items-center space-x-2"},F.createElement("img",{src:B.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),F.createElement("span",null,B.nickname)),!zt.includes(B.uid)&&F.createElement("button",{onClick:()=>ee(B.uid),className:"text-green-400 hover:text-green-300 text-lg"},"➕")))),F.createElement("h2",{className:"text-sm font-semibold text-gray-300"},"Groups"),F.createElement("div",{className:"flex flex-col space-y-2"},c.filter(B=>B.members[ne?ne.uid:0]).map(B=>F.createElement("button",{key:B.id,onClick:()=>q(B.id),className:"hover:bg-white/10 p-2 rounded transition"},"🧑‍🤝‍🧑 ",B.name))),F.createElement("button",{onClick:()=>P(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition"},"➕ Create Group"),F.createElement("div",{className:"flex space-x-4 pt-4 border-t border-white/20"},F.createElement("button",{onClick:()=>me("/"),className:"text-sm hover:underline",style:{color:N}},"🏠"),F.createElement("button",{onClick:$,className:"text-sm hover:underline",style:{color:N}},"Profile"),F.createElement("button",{onClick:Q,className:"text-sm text-red-400 hover:underline"},"Logout"))),F.createElement("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner"},F.createElement("div",{className:"flex-1 overflow-y-auto p-4 space-y-4"},t.map(B=>F.createElement("div",{key:B.id,className:`flex ${B.sender===(ne==null?void 0:ne.uid)?"justify-end":"justify-start"} fade-in`},F.createElement("div",{className:"flex items-end space-x-2"},B.sender!==(ne==null?void 0:ne.uid)&&F.createElement("img",{src:B.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),F.createElement("div",{className:"flex flex-col items-start max-w-xs"},F.createElement("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:B.sender===(ne==null?void 0:ne.uid)?N:"#d1d5db",color:B.sender===(ne==null?void 0:ne.uid)?"white":"black"}},B.text&&F.createElement("span",null,B.text),B.imageUrl&&F.createElement("img",{src:B.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(B.imageUrl,"_blank")})),F.createElement("span",{className:"text-xs text-gray-400 mt-1 ml-2"},Se(B.timestamp))),B.sender===(ne==null?void 0:ne.uid)&&F.createElement("img",{src:B.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})))),F.createElement("div",{ref:Ge})),F.createElement("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2"},F.createElement("input",{type:"text",value:i,onChange:B=>r(B.target.value),onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),U())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),F.createElement("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:G}),F.createElement("label",{htmlFor:"image-upload",className:"cursor-pointer"},"🖼️"),F.createElement("button",{onClick:U,style:{backgroundColor:N},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition"},"Send")))))},zd=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],lB=()=>{const[t,e]=C.useState(""),[i,r]=C.useState(null),[o,u]=C.useState(""),[c,h]=C.useState(zd[2].color),[d,p]=C.useState(""),[g,y]=C.useState(!0),_=ta(),b="dhtqetylj",S="Chatroom_Avatars",D=Ls.currentUser,N=C.useRef(null),{backgroundElement:x}=Fc();C.useEffect(()=>{if(!D){_("/login");return}const P=En(),K=rt(P,`users/${D.uid}`);Ds(K,Z=>{const X=Z.val();X&&(e(X.nickname||""),p(X.statusMessage||""),u(X.avatarUrl||""),h(X.themeColor||zd[2].color)),y(!1)})},[D,_]);async function H(P){const K=new FormData;return K.append("file",P),K.append("upload_preset",S),K.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${b}/image/upload`,{method:"POST",body:K})).json()).secure_url}const k=async()=>{if(!D)return;const P=En(),K=rt(P,`users/${D.uid}`);let Z=o;i&&(Z=await H(i)),await xs(K,{nickname:t,statusMessage:d,themeColor:c,avatarUrl:Z}),_("/chat")},W=P=>{var Z;const K=(Z=P.target.files)==null?void 0:Z[0];K&&(r(K),u(URL.createObjectURL(K)))};return g?F.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading Profile..."):F.createElement("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4"},x,F.createElement("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center"},F.createElement("h1",{className:"text-2xl font-bold mb-4 text-center text-white"},"Update Your Profile"),F.createElement("div",{className:"relative"},F.createElement("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var P;return(P=N.current)==null?void 0:P.click()}}),F.createElement("input",{type:"file",accept:"image/*",ref:N,onChange:W,className:"hidden"})),F.createElement("input",{type:"text",value:t,onChange:P=>e(P.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),F.createElement("input",{type:"text",value:d,onChange:P=>p(P.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),F.createElement("div",{className:"flex space-x-3 justify-center"},zd.map(P=>F.createElement("button",{key:P.color,type:"button",onClick:()=>h(P.color),style:{backgroundColor:P.color},className:`w-8 h-8 rounded-full border-2 ${c===P.color?"border-white":"border-transparent"} transition-all`}))),F.createElement("button",{onClick:k,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c}},"Save")))};function uB(){const[t,e]=C.useState(null),[i,r]=C.useState(!0);return C.useEffect(()=>{const o=UM(Ls,u=>{e(u),r(!1)});return()=>o()},[]),i?F.createElement("div",{className:"text-white flex justify-center items-center min-h-screen"},"Loading..."):F.createElement(qx,null,F.createElement(Ex,null,F.createElement(_o,{path:"/",element:F.createElement(KV,null)}),F.createElement(_o,{path:"/login",element:t?F.createElement(ud,{to:"/chat"}):F.createElement(iB,null)}),F.createElement(_o,{path:"/chat",element:t?F.createElement(oB,null):F.createElement(ud,{to:"/login"})}),F.createElement(_o,{path:"/profile",element:t?F.createElement(lB,null):F.createElement(ud,{to:"/login"})})))}N1.createRoot(document.getElementById("root")).render(F.createElement(F.StrictMode,null,F.createElement(YV,null,F.createElement(uB,null))));
