(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function tu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _p={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function IN(){if(ux)return sl;ux=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var c in a)c!=="key"&&(l[c]=a[c])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return sl.Fragment=e,sl.jsx=n,sl.jsxs=n,sl}var cx;function DN(){return cx||(cx=1,_p.exports=IN()),_p.exports}var A=DN(),bp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function ON(){if(fx)return Ie;fx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=g&&b[g]||b["@@iterator"],typeof b=="function"?b:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function R(b,V,$){this.props=b,this.context=V,this.refs=w,this.updater=$||_}R.prototype.isReactComponent={},R.prototype.setState=function(b,V){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,V,"setState")},R.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function T(){}T.prototype=R.prototype;function k(b,V,$){this.props=b,this.context=V,this.refs=w,this.updater=$||_}var N=k.prototype=new T;N.constructor=k,S(N,R.prototype),N.isPureReactComponent=!0;var K=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function H(b,V,$,C,L,Ae){return $=Ae.ref,{$$typeof:t,type:b,key:V,ref:$!==void 0?$:null,props:Ae}}function G(b,V){return H(b.type,V,void 0,void 0,void 0,b.props)}function Z(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function ie(b){var V={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function($){return V[$]})}var W=/\/+/g;function J(b,V){return typeof b=="object"&&b!==null&&b.key!=null?ie(""+b.key):V.toString(36)}function ce(){}function ae(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ce,ce):(b.status="pending",b.then(function(V){b.status==="pending"&&(b.status="fulfilled",b.value=V)},function(V){b.status==="pending"&&(b.status="rejected",b.reason=V)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function oe(b,V,$,C,L){var Ae=typeof b;(Ae==="undefined"||Ae==="boolean")&&(b=null);var Q=!1;if(b===null)Q=!0;else switch(Ae){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(b.$$typeof){case t:case e:Q=!0;break;case p:return Q=b._init,oe(Q(b._payload),V,$,C,L)}}if(Q)return L=L(b),Q=C===""?"."+J(b,0):C,K(L)?($="",Q!=null&&($=Q.replace(W,"$&/")+"/"),oe(L,V,$,"",function(Ve){return Ve})):L!=null&&(Z(L)&&(L=G(L,$+(L.key==null||b&&b.key===L.key?"":(""+L.key).replace(W,"$&/")+"/")+Q)),V.push(L)),1;Q=0;var le=C===""?".":C+":";if(K(b))for(var ve=0;ve<b.length;ve++)C=b[ve],Ae=le+J(C,ve),Q+=oe(C,V,$,Ae,L);else if(ve=v(b),typeof ve=="function")for(b=ve.call(b),ve=0;!(C=b.next()).done;)C=C.value,Ae=le+J(C,ve++),Q+=oe(C,V,$,Ae,L);else if(Ae==="object"){if(typeof b.then=="function")return oe(ae(b),V,$,C,L);throw V=String(b),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Q}function j(b,V,$){if(b==null)return b;var C=[],L=0;return oe(b,C,"","",function(Ae){return V.call($,Ae,L++)}),C}function te(b){if(b._status===-1){var V=b._result;V=V(),V.then(function($){(b._status===0||b._status===-1)&&(b._status=1,b._result=$)},function($){(b._status===0||b._status===-1)&&(b._status=2,b._result=$)}),b._status===-1&&(b._status=0,b._result=V)}if(b._status===1)return b._result.default;throw b._result}var de=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function fe(){}return Ie.Children={map:j,forEach:function(b,V,$){j(b,function(){V.apply(this,arguments)},$)},count:function(b){var V=0;return j(b,function(){V++}),V},toArray:function(b){return j(b,function(V){return V})||[]},only:function(b){if(!Z(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ie.Component=R,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=k,Ie.StrictMode=i,Ie.Suspense=d,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(b){return M.H.useMemoCache(b)}},Ie.cache=function(b){return function(){return b.apply(null,arguments)}},Ie.cloneElement=function(b,V,$){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var C=S({},b.props),L=b.key,Ae=void 0;if(V!=null)for(Q in V.ref!==void 0&&(Ae=void 0),V.key!==void 0&&(L=""+V.key),V)!I.call(V,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&V.ref===void 0||(C[Q]=V[Q]);var Q=arguments.length-2;if(Q===1)C.children=$;else if(1<Q){for(var le=Array(Q),ve=0;ve<Q;ve++)le[ve]=arguments[ve+2];C.children=le}return H(b.type,L,void 0,void 0,Ae,C)},Ie.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:l,_context:b},b},Ie.createElement=function(b,V,$){var C,L={},Ae=null;if(V!=null)for(C in V.key!==void 0&&(Ae=""+V.key),V)I.call(V,C)&&C!=="key"&&C!=="__self"&&C!=="__source"&&(L[C]=V[C]);var Q=arguments.length-2;if(Q===1)L.children=$;else if(1<Q){for(var le=Array(Q),ve=0;ve<Q;ve++)le[ve]=arguments[ve+2];L.children=le}if(b&&b.defaultProps)for(C in Q=b.defaultProps,Q)L[C]===void 0&&(L[C]=Q[C]);return H(b,Ae,void 0,void 0,null,L)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(b){return{$$typeof:c,render:b}},Ie.isValidElement=Z,Ie.lazy=function(b){return{$$typeof:p,_payload:{_status:-1,_result:b},_init:te}},Ie.memo=function(b,V){return{$$typeof:h,type:b,compare:V===void 0?null:V}},Ie.startTransition=function(b){var V=M.T,$={};M.T=$;try{var C=b(),L=M.S;L!==null&&L($,C),typeof C=="object"&&C!==null&&typeof C.then=="function"&&C.then(fe,de)}catch(Ae){de(Ae)}finally{M.T=V}},Ie.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ie.use=function(b){return M.H.use(b)},Ie.useActionState=function(b,V,$){return M.H.useActionState(b,V,$)},Ie.useCallback=function(b,V){return M.H.useCallback(b,V)},Ie.useContext=function(b){return M.H.useContext(b)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(b,V){return M.H.useDeferredValue(b,V)},Ie.useEffect=function(b,V,$){var C=M.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return C.useEffect(b,V)},Ie.useId=function(){return M.H.useId()},Ie.useImperativeHandle=function(b,V,$){return M.H.useImperativeHandle(b,V,$)},Ie.useInsertionEffect=function(b,V){return M.H.useInsertionEffect(b,V)},Ie.useLayoutEffect=function(b,V){return M.H.useLayoutEffect(b,V)},Ie.useMemo=function(b,V){return M.H.useMemo(b,V)},Ie.useOptimistic=function(b,V){return M.H.useOptimistic(b,V)},Ie.useReducer=function(b,V,$){return M.H.useReducer(b,V,$)},Ie.useRef=function(b){return M.H.useRef(b)},Ie.useState=function(b){return M.H.useState(b)},Ie.useSyncExternalStore=function(b,V,$){return M.H.useSyncExternalStore(b,V,$)},Ie.useTransition=function(){return M.H.useTransition()},Ie.version="19.1.1",Ie}var hx;function Pf(){return hx||(hx=1,bp.exports=ON()),bp.exports}var O=Pf();const MN=tu(O);var xp={exports:{}},al={},Sp={exports:{}},wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function PN(){return dx||(dx=1,function(t){function e(j,te){var de=j.length;j.push(te);e:for(;0<de;){var fe=de-1>>>1,b=j[fe];if(0<a(b,te))j[fe]=te,j[de]=b,de=fe;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var te=j[0],de=j.pop();if(de!==te){j[0]=de;e:for(var fe=0,b=j.length,V=b>>>1;fe<V;){var $=2*(fe+1)-1,C=j[$],L=$+1,Ae=j[L];if(0>a(C,de))L<b&&0>a(Ae,C)?(j[fe]=Ae,j[L]=de,fe=L):(j[fe]=C,j[$]=de,fe=$);else if(L<b&&0>a(Ae,de))j[fe]=Ae,j[L]=de,fe=L;else break e}}return te}function a(j,te){var de=j.sortIndex-te.sortIndex;return de!==0?de:j.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],h=[],p=1,g=null,v=3,_=!1,S=!1,w=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(j){for(var te=n(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=j)i(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(h)}}function M(j){if(w=!1,K(j),!S)if(n(d)!==null)S=!0,I||(I=!0,J());else{var te=n(h);te!==null&&oe(M,te.startTime-j)}}var I=!1,H=-1,G=5,Z=-1;function ie(){return R?!0:!(t.unstable_now()-Z<G)}function W(){if(R=!1,I){var j=t.unstable_now();Z=j;var te=!0;try{e:{S=!1,w&&(w=!1,k(H),H=-1),_=!0;var de=v;try{t:{for(K(j),g=n(d);g!==null&&!(g.expirationTime>j&&ie());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var b=fe(g.expirationTime<=j);if(j=t.unstable_now(),typeof b=="function"){g.callback=b,K(j),te=!0;break t}g===n(d)&&i(d),K(j)}else i(d);g=n(d)}if(g!==null)te=!0;else{var V=n(h);V!==null&&oe(M,V.startTime-j),te=!1}}break e}finally{g=null,v=de,_=!1}te=void 0}}finally{te?J():I=!1}}}var J;if(typeof N=="function")J=function(){N(W)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ae=ce.port2;ce.port1.onmessage=W,J=function(){ae.postMessage(null)}}else J=function(){T(W,0)};function oe(j,te){H=T(function(){j(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var de=v;v=te;try{return j()}finally{v=de}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(j,te){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var de=v;v=j;try{return te()}finally{v=de}},t.unstable_scheduleCallback=function(j,te,de){var fe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?fe+de:fe):de=fe,j){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=de+b,j={id:p++,callback:te,priorityLevel:j,startTime:de,expirationTime:b,sortIndex:-1},de>fe?(j.sortIndex=de,e(h,j),n(d)===null&&j===n(h)&&(w?(k(H),H=-1):w=!0,oe(M,de-fe))):(j.sortIndex=b,e(d,j),S||_||(S=!0,I||(I=!0,J()))),j},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(j){var te=v;return function(){var de=v;v=te;try{return j.apply(this,arguments)}finally{v=de}}}}(wp)),wp}var px;function LN(){return px||(px=1,Sp.exports=PN()),Sp.exports}var Ep={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function jN(){if(mx)return Wt;mx=1;var t=Pf();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wt.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(d,h,null,p)},Wt.flushSync=function(d){var h=u.T,p=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=h,i.p=p,i.d.f()}},Wt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Wt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Wt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&i.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Wt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin);i.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wt.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Wt.requestFormReset=function(d){i.d.r(d)},Wt.unstable_batchedUpdates=function(d,h){return d(h)},Wt.useFormState=function(d,h,p){return u.H.useFormState(d,h,p)},Wt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var gx;function UN(){if(gx)return Ep.exports;gx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ep.exports=jN(),Ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function zN(){if(yx)return al;yx=1;var t=LN(),e=Pf(),n=UN();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function c(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,f=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){o=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return c(m),r;if(y===f)return c(m),s;y=y.sibling}throw Error(i(188))}if(o.return!==f.return)o=m,f=y;else{for(var x=!1,E=m.child;E;){if(E===o){x=!0,o=m,f=y;break}if(E===f){x=!0,f=m,o=y;break}E=E.sibling}if(!x){for(E=y.child;E;){if(E===o){x=!0,o=y,f=m;break}if(E===f){x=!0,f=y,o=m;break}E=E.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==f)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function h(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=h(r),s!==null)return s;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ce?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case R:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case N:return(r.displayName||"Context")+".Provider";case k:return(r._context.displayName||"Context")+".Consumer";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:ae(r.type)||"Memo";case G:s=r._payload,r=r._init;try{return ae(r(s))}catch{}}return null}var oe=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],b=-1;function V(r){return{current:r}}function $(r){0>b||(r.current=fe[b],fe[b]=null,b--)}function C(r,s){b++,fe[b]=r.current,r.current=s}var L=V(null),Ae=V(null),Q=V(null),le=V(null);function ve(r,s){switch(C(Q,s),C(Ae,r),C(L,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?jb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=jb(s),r=Ub(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$(L),C(L,r)}function Ve(){$(L),$(Ae),$(Q)}function je(r){r.memoizedState!==null&&C(le,r);var s=L.current,o=Ub(s,r.type);s!==o&&(C(Ae,r),C(L,o))}function ot(r){Ae.current===r&&($(L),$(Ae)),le.current===r&&($(le),el._currentValue=de)}var tn=Object.prototype.hasOwnProperty,gn=t.unstable_scheduleCallback,nn=t.unstable_cancelCallback,wi=t.unstable_shouldYield,kn=t.unstable_requestPaint,Ut=t.unstable_now,er=t.unstable_getCurrentPriorityLevel,Ei=t.unstable_ImmediatePriority,Ti=t.unstable_UserBlockingPriority,Yn=t.unstable_NormalPriority,se=t.unstable_LowPriority,_e=t.unstable_IdlePriority,Ne=t.log,Re=t.unstable_setDisableYieldValue,q=null,ne=null;function pe(r){if(typeof Ne=="function"&&Re(r),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(q,r)}catch{}}var ge=Math.clz32?Math.clz32:Gt,ke=Math.log,xt=Math.LN2;function Gt(r){return r>>>=0,r===0?32:31-(ke(r)/xt|0)|0}var Rt=256,oi=4194304;function yn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function kt(r,s,o){var f=r.pendingLanes;if(f===0)return 0;var m=0,y=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var E=f&134217727;return E!==0?(f=E&~y,f!==0?m=yn(f):(x&=E,x!==0?m=yn(x):o||(o=E&~r,o!==0&&(m=yn(o))))):(E=f&~y,E!==0?m=yn(E):x!==0?m=yn(x):o||(o=f&~r,o!==0&&(m=yn(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function Nn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Kn(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bv(){var r=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),r}function xv(){var r=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),r}function lh(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function uo(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function _R(r,s,o,f,m,y){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var E=r.entanglements,D=r.expirationTimes,B=r.hiddenUpdates;for(o=x&~o;0<o;){var X=31-ge(o),re=1<<X;E[X]=0,D[X]=-1;var F=B[X];if(F!==null)for(B[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}o&=~re}f!==0&&Sv(r,f,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(x&~s))}function Sv(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var f=31-ge(s);r.entangledLanes|=s,r.entanglements[f]=r.entanglements[f]|1073741824|o&4194090}function wv(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var f=31-ge(o),m=1<<f;m&s|r[f]&s&&(r[f]|=s),o&=~m}}function uh(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ch(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ev(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:ix(r.type))}function bR(r,s){var o=te.p;try{return te.p=r,s()}finally{te.p=o}}var tr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+tr,rn="__reactProps$"+tr,Ps="__reactContainer$"+tr,fh="__reactEvents$"+tr,xR="__reactListeners$"+tr,SR="__reactHandles$"+tr,Tv="__reactResources$"+tr,co="__reactMarker$"+tr;function hh(r){delete r[Yt],delete r[rn],delete r[fh],delete r[xR],delete r[SR]}function Ls(r){var s=r[Yt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ps]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Hb(r);r!==null;){if(o=r[Yt])return o;r=Hb(r)}return s}r=o,o=r.parentNode}return null}function js(r){if(r=r[Yt]||r[Ps]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function fo(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Us(r){var s=r[Tv];return s||(s=r[Tv]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(r){r[co]=!0}var Cv=new Set,Av={};function Wr(r,s){zs(r,s),zs(r+"Capture",s)}function zs(r,s){for(Av[r]=s,r=0;r<s.length;r++)Cv.add(s[r])}var wR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rv={},kv={};function ER(r){return tn.call(kv,r)?!0:tn.call(Rv,r)?!1:wR.test(r)?kv[r]=!0:(Rv[r]=!0,!1)}function Su(r,s,o){if(ER(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function wu(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ci(r,s,o,f){if(f===null)r.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+f)}}var dh,Nv;function Bs(r){if(dh===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);dh=s&&s[1]||"",Nv=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dh+r+Nv}var ph=!1;function mh(r,s){if(!r||ph)return"";ph=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var F=Y}Reflect.construct(r,[],re)}else{try{re.call()}catch(Y){F=Y}r.call(re.prototype)}}else{try{throw Error()}catch(Y){F=Y}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),x=y[0],E=y[1];if(x&&E){var D=x.split(`
`),B=E.split(`
`);for(m=f=0;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(f===D.length||m===B.length)for(f=D.length-1,m=B.length-1;1<=f&&0<=m&&D[f]!==B[m];)m--;for(;1<=f&&0<=m;f--,m--)if(D[f]!==B[m]){if(f!==1||m!==1)do if(f--,m--,0>m||D[f]!==B[m]){var X=`
`+D[f].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=f&&0<=m);break}}}finally{ph=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Bs(o):""}function TR(r){switch(r.tag){case 26:case 27:case 5:return Bs(r.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 15:return mh(r.type,!1);case 11:return mh(r.type.render,!1);case 1:return mh(r.type,!0);case 31:return Bs("Activity");default:return""}}function Iv(r){try{var s="";do s+=TR(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function In(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Dv(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CR(r){var s=Dv(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(x){f=""+x,y.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Eu(r){r._valueTracker||(r._valueTracker=CR(r))}function Ov(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),f="";return r&&(f=Dv(r)?r.checked?"true":"false":r.value),r=f,r!==o?(s.setValue(r),!0):!1}function Tu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var AR=/[\n"\\]/g;function Dn(r){return r.replace(AR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gh(r,s,o,f,m,y,x,E){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+In(s)):r.value!==""+In(s)&&(r.value=""+In(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?yh(r,x,In(s)):o!=null?yh(r,x,In(o)):f!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+In(E):r.removeAttribute("name")}function Mv(r,s,o,f,m,y,x,E){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+In(o):"",s=s!=null?""+In(s):o,E||s===r.value||(r.value=s),r.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=E?r.checked:!!f,r.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function yh(r,s,o){s==="number"&&Tu(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Vs(r,s,o,f){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&f&&(r[o].defaultSelected=!0)}else{for(o=""+In(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,f&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function Pv(r,s,o){if(s!=null&&(s=""+In(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+In(o):""}function Lv(r,s,o,f){if(s==null){if(f!=null){if(o!=null)throw Error(i(92));if(oe(f)){if(1<f.length)throw Error(i(93));f=f[0]}o=f}o==null&&(o=""),s=o}o=In(s),r.defaultValue=o,f=r.textContent,f===o&&f!==""&&f!==null&&(r.value=f)}function Hs(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var RR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jv(r,s,o){var f=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":f?r.setProperty(s,o):typeof o!="number"||o===0||RR.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Uv(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&o[m]!==f&&jv(r,m,f)}else for(var y in s)s.hasOwnProperty(y)&&jv(r,y,s[y])}function vh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cu(r){return NR.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _h=null;function bh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fs=null,qs=null;function zv(r){var s=js(r);if(s&&(r=s.stateNode)){var o=r[rn]||null;e:switch(r=s.stateNode,s.type){case"input":if(gh(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var f=o[s];if(f!==r&&f.form===r.form){var m=f[rn]||null;if(!m)throw Error(i(90));gh(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)f=o[s],f.form===r.form&&Ov(f)}break e;case"textarea":Pv(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Vs(r,!!o.multiple,s,!1)}}}var xh=!1;function Bv(r,s,o){if(xh)return r(s,o);xh=!0;try{var f=r(s);return f}finally{if(xh=!1,(Fs!==null||qs!==null)&&(fc(),Fs&&(s=Fs,r=qs,qs=Fs=null,zv(s),r)))for(s=0;s<r.length;s++)zv(r[s])}}function ho(r,s){var o=r.stateNode;if(o===null)return null;var f=o[rn]||null;if(f===null)return null;o=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=!1;if(Ai)try{var po={};Object.defineProperty(po,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Sh=!1}var nr=null,wh=null,Au=null;function Vv(){if(Au)return Au;var r,s=wh,o=s.length,f,m="value"in nr?nr.value:nr.textContent,y=m.length;for(r=0;r<o&&s[r]===m[r];r++);var x=o-r;for(f=1;f<=x&&s[o-f]===m[y-f];f++);return Au=m.slice(r,1<f?1-f:void 0)}function Ru(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ku(){return!0}function Hv(){return!1}function sn(r){function s(o,f,m,y,x){this._reactName=o,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(o=r[E],this[E]=o?o(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ku:Hv,this.isPropagationStopped=Hv,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),s}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=sn($r),mo=p({},$r,{view:0,detail:0}),IR=sn(mo),Eh,Th,go,Iu=p({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ah,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==go&&(go&&r.type==="mousemove"?(Eh=r.screenX-go.screenX,Th=r.screenY-go.screenY):Th=Eh=0,go=r),Eh)},movementY:function(r){return"movementY"in r?r.movementY:Th}}),Fv=sn(Iu),DR=p({},Iu,{dataTransfer:0}),OR=sn(DR),MR=p({},mo,{relatedTarget:0}),Ch=sn(MR),PR=p({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),LR=sn(PR),jR=p({},$r,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),UR=sn(jR),zR=p({},$r,{data:0}),qv=sn(zR),BR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FR(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=HR[r])?!!s[r]:!1}function Ah(){return FR}var qR=p({},mo,{key:function(r){if(r.key){var s=BR[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ru(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?VR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ah,charCode:function(r){return r.type==="keypress"?Ru(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ru(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),GR=sn(qR),YR=p({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gv=sn(YR),KR=p({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ah}),WR=sn(KR),$R=p({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),XR=sn($R),QR=p({},Iu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ZR=sn(QR),JR=p({},$r,{newState:0,oldState:0}),ek=sn(JR),tk=[9,13,27,32],Rh=Ai&&"CompositionEvent"in window,yo=null;Ai&&"documentMode"in document&&(yo=document.documentMode);var nk=Ai&&"TextEvent"in window&&!yo,Yv=Ai&&(!Rh||yo&&8<yo&&11>=yo),Kv=" ",Wv=!1;function $v(r,s){switch(r){case"keyup":return tk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xv(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gs=!1;function ik(r,s){switch(r){case"compositionend":return Xv(s);case"keypress":return s.which!==32?null:(Wv=!0,Kv);case"textInput":return r=s.data,r===Kv&&Wv?null:r;default:return null}}function rk(r,s){if(Gs)return r==="compositionend"||!Rh&&$v(r,s)?(r=Vv(),Au=wh=nr=null,Gs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yv&&s.locale!=="ko"?null:s.data;default:return null}}var sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!sk[r.type]:s==="textarea"}function Zv(r,s,o,f){Fs?qs?qs.push(f):qs=[f]:Fs=f,s=yc(s,"onChange"),0<s.length&&(o=new Nu("onChange","change",null,o,f),r.push({event:o,listeners:s}))}var vo=null,_o=null;function ak(r){Db(r,0)}function Du(r){var s=fo(r);if(Ov(s))return r}function Jv(r,s){if(r==="change")return s}var e_=!1;if(Ai){var kh;if(Ai){var Nh="oninput"in document;if(!Nh){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),Nh=typeof t_.oninput=="function"}kh=Nh}else kh=!1;e_=kh&&(!document.documentMode||9<document.documentMode)}function n_(){vo&&(vo.detachEvent("onpropertychange",i_),_o=vo=null)}function i_(r){if(r.propertyName==="value"&&Du(_o)){var s=[];Zv(s,_o,r,bh(r)),Bv(ak,s)}}function ok(r,s,o){r==="focusin"?(n_(),vo=s,_o=o,vo.attachEvent("onpropertychange",i_)):r==="focusout"&&n_()}function lk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Du(_o)}function uk(r,s){if(r==="click")return Du(s)}function ck(r,s){if(r==="input"||r==="change")return Du(s)}function fk(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vn=typeof Object.is=="function"?Object.is:fk;function bo(r,s){if(vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),f=Object.keys(s);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var m=o[f];if(!tn.call(s,m)||!vn(r[m],s[m]))return!1}return!0}function r_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function s_(r,s){var o=r_(r);r=0;for(var f;o;){if(o.nodeType===3){if(f=r+o.textContent.length,r<=s&&f>=s)return{node:o,offset:s-r};r=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=r_(o)}}function a_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?a_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function o_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Tu(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Tu(r.document)}return s}function Ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var hk=Ai&&"documentMode"in document&&11>=document.documentMode,Ys=null,Dh=null,xo=null,Oh=!1;function l_(r,s,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Oh||Ys==null||Ys!==Tu(f)||(f=Ys,"selectionStart"in f&&Ih(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xo&&bo(xo,f)||(xo=f,f=yc(Dh,"onSelect"),0<f.length&&(s=new Nu("onSelect","select",null,s,o),r.push({event:s,listeners:f}),s.target=Ys)))}function Xr(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ks={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},Mh={},u_={};Ai&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Qr(r){if(Mh[r])return Mh[r];if(!Ks[r])return r;var s=Ks[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in u_)return Mh[r]=s[o];return r}var c_=Qr("animationend"),f_=Qr("animationiteration"),h_=Qr("animationstart"),dk=Qr("transitionrun"),pk=Qr("transitionstart"),mk=Qr("transitioncancel"),d_=Qr("transitionend"),p_=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Wn(r,s){p_.set(r,s),Wr(s,[r])}var m_=new WeakMap;function On(r,s){if(typeof r=="object"&&r!==null){var o=m_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Iv(s)},m_.set(r,s),s)}return{value:r,source:s,stack:Iv(s)}}var Mn=[],Ws=0,Lh=0;function Ou(){for(var r=Ws,s=Lh=Ws=0;s<r;){var o=Mn[s];Mn[s++]=null;var f=Mn[s];Mn[s++]=null;var m=Mn[s];Mn[s++]=null;var y=Mn[s];if(Mn[s++]=null,f!==null&&m!==null){var x=f.pending;x===null?m.next=m:(m.next=x.next,x.next=m),f.pending=m}y!==0&&g_(o,m,y)}}function Mu(r,s,o,f){Mn[Ws++]=r,Mn[Ws++]=s,Mn[Ws++]=o,Mn[Ws++]=f,Lh|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function jh(r,s,o,f){return Mu(r,s,o,f),Pu(r)}function $s(r,s){return Mu(r,null,null,s),Pu(r)}function g_(r,s,o){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,f=y.alternate,f!==null&&(f.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&s!==null&&(m=31-ge(o),r=y.hiddenUpdates,f=r[m],f===null?r[m]=[s]:f.push(s),s.lane=o|536870912),y):null}function Pu(r){if(50<Yo)throw Yo=0,Fd=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Xs={};function gk(r,s,o,f){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(r,s,o,f){return new gk(r,s,o,f)}function Uh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ri(r,s){var o=r.alternate;return o===null?(o=_n(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function y_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Lu(r,s,o,f,m,y){var x=0;if(f=r,typeof r=="function")Uh(r)&&(x=1);else if(typeof r=="string")x=vN(r,o,L.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=_n(31,o,s,m),r.elementType=Z,r.lanes=y,r;case S:return Zr(o.children,m,y,s);case w:x=8,m|=24;break;case R:return r=_n(12,o,s,m|2),r.elementType=R,r.lanes=y,r;case M:return r=_n(13,o,s,m),r.elementType=M,r.lanes=y,r;case I:return r=_n(19,o,s,m),r.elementType=I,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case N:x=10;break e;case k:x=9;break e;case K:x=11;break e;case H:x=14;break e;case G:x=16,f=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),f=null}return s=_n(x,o,s,m),s.elementType=r,s.type=f,s.lanes=y,s}function Zr(r,s,o,f){return r=_n(7,r,f,s),r.lanes=o,r}function zh(r,s,o){return r=_n(6,r,null,s),r.lanes=o,r}function Bh(r,s,o){return s=_n(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Qs=[],Zs=0,ju=null,Uu=0,Pn=[],Ln=0,Jr=null,ki=1,Ni="";function es(r,s){Qs[Zs++]=Uu,Qs[Zs++]=ju,ju=r,Uu=s}function v_(r,s,o){Pn[Ln++]=ki,Pn[Ln++]=Ni,Pn[Ln++]=Jr,Jr=r;var f=ki;r=Ni;var m=32-ge(f)-1;f&=~(1<<m),o+=1;var y=32-ge(s)+m;if(30<y){var x=m-m%5;y=(f&(1<<x)-1).toString(32),f>>=x,m-=x,ki=1<<32-ge(s)+m|o<<m|f,Ni=y+r}else ki=1<<y|o<<m|f,Ni=r}function Vh(r){r.return!==null&&(es(r,1),v_(r,1,0))}function Hh(r){for(;r===ju;)ju=Qs[--Zs],Qs[Zs]=null,Uu=Qs[--Zs],Qs[Zs]=null;for(;r===Jr;)Jr=Pn[--Ln],Pn[Ln]=null,Ni=Pn[--Ln],Pn[Ln]=null,ki=Pn[--Ln],Pn[Ln]=null}var Qt=null,dt=null,qe=!1,ts=null,li=!1,Fh=Error(i(519));function ns(r){var s=Error(i(418,""));throw Eo(On(s,r)),Fh}function __(r){var s=r.stateNode,o=r.type,f=r.memoizedProps;switch(s[Yt]=r,s[rn]=f,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<Wo.length;o++)ze(Wo[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Mv(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Eu(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Lv(s,f.value,f.defaultValue,f.children),Eu(s)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||f.suppressHydrationWarning===!0||Lb(s.textContent,o)?(f.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),f.onScroll!=null&&ze("scroll",s),f.onScrollEnd!=null&&ze("scrollend",s),f.onClick!=null&&(s.onclick=vc),s=!0):s=!1,s||ns(r)}function b_(r){for(Qt=r.return;Qt;)switch(Qt.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Qt=Qt.return}}function So(r){if(r!==Qt)return!1;if(!qe)return b_(r),qe=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||sp(r.type,r.memoizedProps)),o=!o),o&&dt&&ns(r),b_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){dt=Xn(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}dt=null}}else s===27?(s=dt,vr(r.type)?(r=up,up=null,dt=r):dt=s):dt=Qt?Xn(r.stateNode.nextSibling):null;return!0}function wo(){dt=Qt=null,qe=!1}function x_(){var r=ts;return r!==null&&(ln===null?ln=r:ln.push.apply(ln,r),ts=null),r}function Eo(r){ts===null?ts=[r]:ts.push(r)}var qh=V(null),is=null,Ii=null;function ir(r,s,o){C(qh,s._currentValue),s._currentValue=o}function Di(r){r._currentValue=qh.current,$(qh)}function Gh(r,s,o){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===o)break;r=r.return}}function Yh(r,s,o,f){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var E=y;y=m;for(var D=0;D<s.length;D++)if(E.context===s[D]){y.lanes|=o,E=y.alternate,E!==null&&(E.lanes|=o),Gh(y.return,o,r),f||(x=null);break e}y=E.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=o,y=x.alternate,y!==null&&(y.lanes|=o),Gh(x,o,r),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===r){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function To(r,s,o,f){r=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var E=m.type;vn(m.pendingProps.value,x.value)||(r!==null?r.push(E):r=[E])}}else if(m===le.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(el):r=[el])}m=m.return}r!==null&&Yh(s,r,o,f),s.flags|=262144}function zu(r){for(r=r.firstContext;r!==null;){if(!vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function rs(r){is=r,Ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Kt(r){return S_(is,r)}function Bu(r,s){return is===null&&rs(r),S_(r,s)}function S_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ii===null){if(r===null)throw Error(i(308));Ii=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ii=Ii.next=s;return o}var yk=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,f){r.push(f)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},vk=t.unstable_scheduleCallback,_k=t.unstable_NormalPriority,Ct={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new yk,data:new Map,refCount:0}}function Co(r){r.refCount--,r.refCount===0&&vk(_k,function(){r.controller.abort()})}var Ao=null,Wh=0,Js=0,ea=null;function bk(r,s){if(Ao===null){var o=Ao=[];Wh=0,Js=Xd(),ea={status:"pending",value:void 0,then:function(f){o.push(f)}}}return Wh++,s.then(w_,w_),s}function w_(){if(--Wh===0&&Ao!==null){ea!==null&&(ea.status="fulfilled");var r=Ao;Ao=null,Js=0,ea=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function xk(r,s){var o=[],f={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),f}var E_=j.S;j.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&bk(r,s),E_!==null&&E_(r,s)};var ss=V(null);function $h(){var r=ss.current;return r!==null?r:tt.pooledCache}function Vu(r,s){s===null?C(ss,ss.current):C(ss,s.pool)}function T_(){var r=$h();return r===null?null:{parent:Ct._currentValue,pool:r}}var Ro=Error(i(460)),C_=Error(i(474)),Hu=Error(i(542)),Xh={then:function(){}};function A_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fu(){}function R_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Fu,Fu),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,N_(r),r;default:if(typeof s.status=="string")s.then(Fu,Fu);else{if(r=tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,N_(r),r}throw ko=s,Ro}}var ko=null;function k_(){if(ko===null)throw Error(i(459));var r=ko;return ko=null,r}function N_(r){if(r===Ro||r===Hu)throw Error(i(483))}var rr=!1;function Qh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function sr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ar(r,s,o){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=Pu(r),g_(r,null,o),s}return Mu(r,f,s,o),Pu(r)}function No(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,wv(r,o)}}function Jh(r,s){var o=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var ed=!1;function Io(){if(ed){var r=ea;if(r!==null)throw r}}function Do(r,s,o,f){ed=!1;var m=r.updateQueue;rr=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var D=E,B=D.next;D.next=null,x===null?y=B:x.next=B,x=D;var X=r.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==x&&(E===null?X.firstBaseUpdate=B:E.next=B,X.lastBaseUpdate=D))}if(y!==null){var re=m.baseState;x=0,X=B=D=null,E=y;do{var F=E.lane&-536870913,Y=F!==E.lane;if(Y?(He&F)===F:(f&F)===F){F!==0&&F===Js&&(ed=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var we=r,be=E;F=s;var Qe=o;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){re=we.call(Qe,re,F);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,F=typeof we=="function"?we.call(Qe,re,F):we,F==null)break e;re=p({},re,F);break e;case 2:rr=!0}}F=E.callback,F!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(B=X=Y,D=re):X=X.next=Y,x|=F;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);X===null&&(D=re),m.baseState=D,m.firstBaseUpdate=B,m.lastBaseUpdate=X,y===null&&(m.shared.lanes=0),pr|=x,r.lanes=x,r.memoizedState=re}}function I_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function D_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)I_(o[r],s)}var ta=V(null),qu=V(0);function O_(r,s){r=zi,C(qu,r),C(ta,s),zi=r|s.baseLanes}function td(){C(qu,zi),C(ta,ta.current)}function nd(){zi=qu.current,$(ta),$(qu)}var or=0,Oe=null,$e=null,St=null,Gu=!1,na=!1,as=!1,Yu=0,Oo=0,ia=null,Sk=0;function vt(){throw Error(i(321))}function id(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!vn(r[o],s[o]))return!1;return!0}function rd(r,s,o,f,m,y){return or=y,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=r===null||r.memoizedState===null?g0:y0,as=!1,y=o(f,m),as=!1,na&&(y=P_(s,o,f,m)),M_(r),y}function M_(r){j.H=Zu;var s=$e!==null&&$e.next!==null;if(or=0,St=$e=Oe=null,Gu=!1,Oo=0,ia=null,s)throw Error(i(300));r===null||It||(r=r.dependencies,r!==null&&zu(r)&&(It=!0))}function P_(r,s,o,f){Oe=r;var m=0;do{if(na&&(ia=null),Oo=0,na=!1,25<=m)throw Error(i(301));if(m+=1,St=$e=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=kk,y=s(o,f)}while(na);return y}function wk(){var r=j.H,s=r.useState()[0];return s=typeof s.then=="function"?Mo(s):s,r=r.useState()[0],($e!==null?$e.memoizedState:null)!==r&&(Oe.flags|=1024),s}function sd(){var r=Yu!==0;return Yu=0,r}function ad(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function od(r){if(Gu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gu=!1}or=0,St=$e=Oe=null,na=!1,Oo=Yu=0,ia=null}function an(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=r:St=St.next=r,St}function wt(){if($e===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=$e.next;var s=St===null?Oe.memoizedState:St.next;if(s!==null)St=s,$e=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));$e=r,r={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?Oe.memoizedState=St=r:St=St.next=r}return St}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(r){var s=Oo;return Oo+=1,ia===null&&(ia=[]),r=R_(ia,r,s),s=Oe,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?g0:y0),r}function Ku(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Mo(r);if(r.$$typeof===N)return Kt(r)}throw Error(i(438,String(r)))}function ud(r){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var f=Oe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ld(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),f=0;f<r;f++)o[f]=ie;return s.index++,o}function Oi(r,s){return typeof s=="function"?s(r):s}function Wu(r){var s=wt();return cd(s,$e,r)}function cd(r,s,o){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var m=r.baseQueue,y=f.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}s.baseQueue=m=y,f.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{s=m.next;var E=x=null,D=null,B=s,X=!1;do{var re=B.lane&-536870913;if(re!==B.lane?(He&re)===re:(or&re)===re){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),re===Js&&(X=!0);else if((or&F)===F){B=B.next,F===Js&&(X=!0);continue}else re={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=re,x=y):D=D.next=re,Oe.lanes|=F,pr|=F;re=B.action,as&&o(y,re),y=B.hasEagerState?B.eagerState:o(y,re)}else F={lane:re,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=F,x=y):D=D.next=F,Oe.lanes|=re,pr|=re;B=B.next}while(B!==null&&B!==s);if(D===null?x=y:D.next=E,!vn(y,r.memoizedState)&&(It=!0,X&&(o=ea,o!==null)))throw o;r.memoizedState=y,r.baseState=x,r.baseQueue=D,f.lastRenderedState=y}return m===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function fd(r){var s=wt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var x=m=m.next;do y=r(y,x.action),x=x.next;while(x!==m);vn(y,s.memoizedState)||(It=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,f]}function L_(r,s,o){var f=Oe,m=wt(),y=qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!vn(($e||m).memoizedState,o);x&&(m.memoizedState=o,It=!0),m=m.queue;var E=z_.bind(null,f,m,r);if(Po(2048,8,E,[r]),m.getSnapshot!==s||x||St!==null&&St.memoizedState.tag&1){if(f.flags|=2048,ra(9,$u(),U_.bind(null,f,m,o,s),null),tt===null)throw Error(i(349));y||(or&124)!==0||j_(f,s,o)}return o}function j_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=ld(),Oe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function U_(r,s,o,f){s.value=o,s.getSnapshot=f,B_(s)&&V_(r)}function z_(r,s,o){return o(function(){B_(s)&&V_(r)})}function B_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!vn(r,o)}catch{return!0}}function V_(r){var s=$s(r,2);s!==null&&En(s,r,2)}function hd(r){var s=an();if(typeof r=="function"){var o=r;if(r=o(),as){pe(!0);try{o()}finally{pe(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:r},s}function H_(r,s,o,f){return r.baseState=o,cd(r,$e,typeof f=="function"?f:Oi)}function Ek(r,s,o,f,m){if(Qu(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};j.T!==null?o(!0):y.isTransition=!1,f(y),o=s.pending,o===null?(y.next=s.pending=y,F_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function F_(r,s){var o=s.action,f=s.payload,m=r.state;if(s.isTransition){var y=j.T,x={};j.T=x;try{var E=o(m,f),D=j.S;D!==null&&D(x,E),q_(r,s,E)}catch(B){dd(r,s,B)}finally{j.T=y}}else try{y=o(m,f),q_(r,s,y)}catch(B){dd(r,s,B)}}function q_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){G_(r,s,f)},function(f){return dd(r,s,f)}):G_(r,s,o)}function G_(r,s,o){s.status="fulfilled",s.value=o,Y_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,F_(r,o)))}function dd(r,s,o){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=o,Y_(s),s=s.next;while(s!==f)}r.action=null}function Y_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function K_(r,s){return s}function W_(r,s){if(qe){var o=tt.formState;if(o!==null){e:{var f=Oe;if(qe){if(dt){t:{for(var m=dt,y=li;m.nodeType!==8;){if(!y){m=null;break t}if(m=Xn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){dt=Xn(m.nextSibling),f=m.data==="F!";break e}}ns(f)}f=!1}f&&(s=o[0])}}return o=an(),o.memoizedState=o.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K_,lastRenderedState:s},o.queue=f,o=d0.bind(null,Oe,f),f.dispatch=o,f=hd(!1),y=vd.bind(null,Oe,!1,f.queue),f=an(),m={state:s,dispatch:null,action:r,pending:null},f.queue=m,o=Ek.bind(null,Oe,m,y,o),m.dispatch=o,f.memoizedState=r,[s,o,!1]}function $_(r){var s=wt();return X_(s,$e,r)}function X_(r,s,o){if(s=cd(r,s,K_)[0],r=Wu(Oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Mo(s)}catch(x){throw x===Ro?Hu:x}else f=s;s=wt();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,ra(9,$u(),Tk.bind(null,m,o),null)),[f,y,r]}function Tk(r,s){r.action=s}function Q_(r){var s=wt(),o=$e;if(o!==null)return X_(s,o,r);wt(),s=s.memoizedState,o=wt();var f=o.queue.dispatch;return o.memoizedState=r,[s,f,!1]}function ra(r,s,o,f){return r={tag:r,create:o,deps:f,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=ld(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(f=o.next,o.next=r,r.next=f,s.lastEffect=r),r}function $u(){return{destroy:void 0,resource:void 0}}function Z_(){return wt().memoizedState}function Xu(r,s,o,f){var m=an();f=f===void 0?null:f,Oe.flags|=r,m.memoizedState=ra(1|s,$u(),o,f)}function Po(r,s,o,f){var m=wt();f=f===void 0?null:f;var y=m.memoizedState.inst;$e!==null&&f!==null&&id(f,$e.memoizedState.deps)?m.memoizedState=ra(s,y,o,f):(Oe.flags|=r,m.memoizedState=ra(1|s,y,o,f))}function J_(r,s){Xu(8390656,8,r,s)}function e0(r,s){Po(2048,8,r,s)}function t0(r,s){return Po(4,2,r,s)}function n0(r,s){return Po(4,4,r,s)}function i0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function r0(r,s,o){o=o!=null?o.concat([r]):null,Po(4,4,i0.bind(null,s,r),o)}function pd(){}function s0(r,s){var o=wt();s=s===void 0?null:s;var f=o.memoizedState;return s!==null&&id(s,f[1])?f[0]:(o.memoizedState=[r,s],r)}function a0(r,s){var o=wt();s=s===void 0?null:s;var f=o.memoizedState;if(s!==null&&id(s,f[1]))return f[0];if(f=r(),as){pe(!0);try{r()}finally{pe(!1)}}return o.memoizedState=[f,s],f}function md(r,s,o){return o===void 0||(or&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=ub(),Oe.lanes|=r,pr|=r,o)}function o0(r,s,o,f){return vn(o,s)?o:ta.current!==null?(r=md(r,o,f),vn(r,s)||(It=!0),r):(or&42)===0?(It=!0,r.memoizedState=o):(r=ub(),Oe.lanes|=r,pr|=r,s)}function l0(r,s,o,f,m){var y=te.p;te.p=y!==0&&8>y?y:8;var x=j.T,E={};j.T=E,vd(r,!1,s,o);try{var D=m(),B=j.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=xk(D,f);Lo(r,s,X,wn(r))}else Lo(r,s,f,wn(r))}catch(re){Lo(r,s,{then:function(){},status:"rejected",reason:re},wn())}finally{te.p=y,j.T=x}}function Ck(){}function gd(r,s,o,f){if(r.tag!==5)throw Error(i(476));var m=u0(r).queue;l0(r,m,s,de,o===null?Ck:function(){return c0(r),o(f)})}function u0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function c0(r){var s=u0(r).next.queue;Lo(r,s,{},wn())}function yd(){return Kt(el)}function f0(){return wt().memoizedState}function h0(){return wt().memoizedState}function Ak(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=wn();r=sr(o);var f=ar(s,r,o);f!==null&&(En(f,s,o),No(f,s,o)),s={cache:Kh()},r.payload=s;return}s=s.return}}function Rk(r,s,o){var f=wn();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(r)?p0(s,o):(o=jh(r,s,o,f),o!==null&&(En(o,r,f),m0(o,s,f)))}function d0(r,s,o){var f=wn();Lo(r,s,o,f)}function Lo(r,s,o,f){var m={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qu(r))p0(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,E=y(x,o);if(m.hasEagerState=!0,m.eagerState=E,vn(E,x))return Mu(r,s,m,0),tt===null&&Ou(),!1}catch{}finally{}if(o=jh(r,s,m,f),o!==null)return En(o,r,f),m0(o,s,f),!0}return!1}function vd(r,s,o,f){if(f={lane:2,revertLane:Xd(),action:f,hasEagerState:!1,eagerState:null,next:null},Qu(r)){if(s)throw Error(i(479))}else s=jh(r,o,f,2),s!==null&&En(s,r,2)}function Qu(r){var s=r.alternate;return r===Oe||s!==null&&s===Oe}function p0(r,s){na=Gu=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function m0(r,s,o){if((o&4194048)!==0){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,wv(r,o)}}var Zu={readContext:Kt,use:Ku,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},g0={readContext:Kt,use:Ku,useCallback:function(r,s){return an().memoizedState=[r,s===void 0?null:s],r},useContext:Kt,useEffect:J_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Xu(4194308,4,i0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Xu(4194308,4,r,s)},useInsertionEffect:function(r,s){Xu(4,2,r,s)},useMemo:function(r,s){var o=an();s=s===void 0?null:s;var f=r();if(as){pe(!0);try{r()}finally{pe(!1)}}return o.memoizedState=[f,s],f},useReducer:function(r,s,o){var f=an();if(o!==void 0){var m=o(s);if(as){pe(!0);try{o(s)}finally{pe(!1)}}}else m=s;return f.memoizedState=f.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},f.queue=r,r=r.dispatch=Rk.bind(null,Oe,r),[f.memoizedState,r]},useRef:function(r){var s=an();return r={current:r},s.memoizedState=r},useState:function(r){r=hd(r);var s=r.queue,o=d0.bind(null,Oe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:pd,useDeferredValue:function(r,s){var o=an();return md(o,r,s)},useTransition:function(){var r=hd(!1);return r=l0.bind(null,Oe,r.queue,!0,!1),an().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var f=Oe,m=an();if(qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),tt===null)throw Error(i(349));(He&124)!==0||j_(f,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,J_(z_.bind(null,f,y,r),[r]),f.flags|=2048,ra(9,$u(),U_.bind(null,f,y,o,s),null),o},useId:function(){var r=an(),s=tt.identifierPrefix;if(qe){var o=Ni,f=ki;o=(f&~(1<<32-ge(f)-1)).toString(32)+o,s="«"+s+"R"+o,o=Yu++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Sk++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:yd,useFormState:W_,useActionState:W_,useOptimistic:function(r){var s=an();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=vd.bind(null,Oe,!0,o),o.dispatch=s,[r,s]},useMemoCache:ud,useCacheRefresh:function(){return an().memoizedState=Ak.bind(null,Oe)}},y0={readContext:Kt,use:Ku,useCallback:s0,useContext:Kt,useEffect:e0,useImperativeHandle:r0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:a0,useReducer:Wu,useRef:Z_,useState:function(){return Wu(Oi)},useDebugValue:pd,useDeferredValue:function(r,s){var o=wt();return o0(o,$e.memoizedState,r,s)},useTransition:function(){var r=Wu(Oi)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Mo(r),s]},useSyncExternalStore:L_,useId:f0,useHostTransitionStatus:yd,useFormState:$_,useActionState:$_,useOptimistic:function(r,s){var o=wt();return H_(o,$e,r,s)},useMemoCache:ud,useCacheRefresh:h0},kk={readContext:Kt,use:Ku,useCallback:s0,useContext:Kt,useEffect:e0,useImperativeHandle:r0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:a0,useReducer:fd,useRef:Z_,useState:function(){return fd(Oi)},useDebugValue:pd,useDeferredValue:function(r,s){var o=wt();return $e===null?md(o,r,s):o0(o,$e.memoizedState,r,s)},useTransition:function(){var r=fd(Oi)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Mo(r),s]},useSyncExternalStore:L_,useId:f0,useHostTransitionStatus:yd,useFormState:Q_,useActionState:Q_,useOptimistic:function(r,s){var o=wt();return $e!==null?H_(o,$e,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:ud,useCacheRefresh:h0},sa=null,jo=0;function Ju(r){var s=jo;return jo+=1,sa===null&&(sa=[]),R_(sa,r,s)}function Uo(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ec(r,s){throw s.$$typeof===g?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function v0(r){var s=r._init;return s(r._payload)}function _0(r){function s(U,P){if(r){var z=U.deletions;z===null?(U.deletions=[P],U.flags|=16):z.push(P)}}function o(U,P){if(!r)return null;for(;P!==null;)s(U,P),P=P.sibling;return null}function f(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function m(U,P){return U=Ri(U,P),U.index=0,U.sibling=null,U}function y(U,P,z){return U.index=z,r?(z=U.alternate,z!==null?(z=z.index,z<P?(U.flags|=67108866,P):z):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function x(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function E(U,P,z,ee){return P===null||P.tag!==6?(P=zh(z,U.mode,ee),P.return=U,P):(P=m(P,z),P.return=U,P)}function D(U,P,z,ee){var me=z.type;return me===S?X(U,P,z.props.children,ee,z.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&v0(me)===P.type)?(P=m(P,z.props),Uo(P,z),P.return=U,P):(P=Lu(z.type,z.key,z.props,null,U.mode,ee),Uo(P,z),P.return=U,P)}function B(U,P,z,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Bh(z,U.mode,ee),P.return=U,P):(P=m(P,z.children||[]),P.return=U,P)}function X(U,P,z,ee,me){return P===null||P.tag!==7?(P=Zr(z,U.mode,ee,me),P.return=U,P):(P=m(P,z),P.return=U,P)}function re(U,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=zh(""+P,U.mode,z),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return z=Lu(P.type,P.key,P.props,null,U.mode,z),Uo(z,P),z.return=U,z;case _:return P=Bh(P,U.mode,z),P.return=U,P;case G:var ee=P._init;return P=ee(P._payload),re(U,P,z)}if(oe(P)||J(P))return P=Zr(P,U.mode,z,null),P.return=U,P;if(typeof P.then=="function")return re(U,Ju(P),z);if(P.$$typeof===N)return re(U,Bu(U,P),z);ec(U,P)}return null}function F(U,P,z,ee){var me=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:E(U,P,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===me?D(U,P,z,ee):null;case _:return z.key===me?B(U,P,z,ee):null;case G:return me=z._init,z=me(z._payload),F(U,P,z,ee)}if(oe(z)||J(z))return me!==null?null:X(U,P,z,ee,null);if(typeof z.then=="function")return F(U,P,Ju(z),ee);if(z.$$typeof===N)return F(U,P,Bu(U,z),ee);ec(U,z)}return null}function Y(U,P,z,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(z)||null,E(P,U,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return U=U.get(ee.key===null?z:ee.key)||null,D(P,U,ee,me);case _:return U=U.get(ee.key===null?z:ee.key)||null,B(P,U,ee,me);case G:var Me=ee._init;return ee=Me(ee._payload),Y(U,P,z,ee,me)}if(oe(ee)||J(ee))return U=U.get(z)||null,X(P,U,ee,me,null);if(typeof ee.then=="function")return Y(U,P,z,Ju(ee),me);if(ee.$$typeof===N)return Y(U,P,z,Bu(P,ee),me);ec(P,ee)}return null}function we(U,P,z,ee){for(var me=null,Me=null,ye=P,xe=P=0,Ot=null;ye!==null&&xe<z.length;xe++){ye.index>xe?(Ot=ye,ye=null):Ot=ye.sibling;var Fe=F(U,ye,z[xe],ee);if(Fe===null){ye===null&&(ye=Ot);break}r&&ye&&Fe.alternate===null&&s(U,ye),P=y(Fe,P,xe),Me===null?me=Fe:Me.sibling=Fe,Me=Fe,ye=Ot}if(xe===z.length)return o(U,ye),qe&&es(U,xe),me;if(ye===null){for(;xe<z.length;xe++)ye=re(U,z[xe],ee),ye!==null&&(P=y(ye,P,xe),Me===null?me=ye:Me.sibling=ye,Me=ye);return qe&&es(U,xe),me}for(ye=f(ye);xe<z.length;xe++)Ot=Y(ye,U,xe,z[xe],ee),Ot!==null&&(r&&Ot.alternate!==null&&ye.delete(Ot.key===null?xe:Ot.key),P=y(Ot,P,xe),Me===null?me=Ot:Me.sibling=Ot,Me=Ot);return r&&ye.forEach(function(wr){return s(U,wr)}),qe&&es(U,xe),me}function be(U,P,z,ee){if(z==null)throw Error(i(151));for(var me=null,Me=null,ye=P,xe=P=0,Ot=null,Fe=z.next();ye!==null&&!Fe.done;xe++,Fe=z.next()){ye.index>xe?(Ot=ye,ye=null):Ot=ye.sibling;var wr=F(U,ye,Fe.value,ee);if(wr===null){ye===null&&(ye=Ot);break}r&&ye&&wr.alternate===null&&s(U,ye),P=y(wr,P,xe),Me===null?me=wr:Me.sibling=wr,Me=wr,ye=Ot}if(Fe.done)return o(U,ye),qe&&es(U,xe),me;if(ye===null){for(;!Fe.done;xe++,Fe=z.next())Fe=re(U,Fe.value,ee),Fe!==null&&(P=y(Fe,P,xe),Me===null?me=Fe:Me.sibling=Fe,Me=Fe);return qe&&es(U,xe),me}for(ye=f(ye);!Fe.done;xe++,Fe=z.next())Fe=Y(ye,U,xe,Fe.value,ee),Fe!==null&&(r&&Fe.alternate!==null&&ye.delete(Fe.key===null?xe:Fe.key),P=y(Fe,P,xe),Me===null?me=Fe:Me.sibling=Fe,Me=Fe);return r&&ye.forEach(function(NN){return s(U,NN)}),qe&&es(U,xe),me}function Qe(U,P,z,ee){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:e:{for(var me=z.key;P!==null;){if(P.key===me){if(me=z.type,me===S){if(P.tag===7){o(U,P.sibling),ee=m(P,z.props.children),ee.return=U,U=ee;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&v0(me)===P.type){o(U,P.sibling),ee=m(P,z.props),Uo(ee,z),ee.return=U,U=ee;break e}o(U,P);break}else s(U,P);P=P.sibling}z.type===S?(ee=Zr(z.props.children,U.mode,ee,z.key),ee.return=U,U=ee):(ee=Lu(z.type,z.key,z.props,null,U.mode,ee),Uo(ee,z),ee.return=U,U=ee)}return x(U);case _:e:{for(me=z.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){o(U,P.sibling),ee=m(P,z.children||[]),ee.return=U,U=ee;break e}else{o(U,P);break}else s(U,P);P=P.sibling}ee=Bh(z,U.mode,ee),ee.return=U,U=ee}return x(U);case G:return me=z._init,z=me(z._payload),Qe(U,P,z,ee)}if(oe(z))return we(U,P,z,ee);if(J(z)){if(me=J(z),typeof me!="function")throw Error(i(150));return z=me.call(z),be(U,P,z,ee)}if(typeof z.then=="function")return Qe(U,P,Ju(z),ee);if(z.$$typeof===N)return Qe(U,P,Bu(U,z),ee);ec(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(o(U,P.sibling),ee=m(P,z),ee.return=U,U=ee):(o(U,P),ee=zh(z,U.mode,ee),ee.return=U,U=ee),x(U)):o(U,P)}return function(U,P,z,ee){try{jo=0;var me=Qe(U,P,z,ee);return sa=null,me}catch(ye){if(ye===Ro||ye===Hu)throw ye;var Me=_n(29,ye,null,U.mode);return Me.lanes=ee,Me.return=U,Me}finally{}}}var aa=_0(!0),b0=_0(!1),jn=V(null),ui=null;function lr(r){var s=r.alternate;C(At,At.current&1),C(jn,r),ui===null&&(s===null||ta.current!==null||s.memoizedState!==null)&&(ui=r)}function x0(r){if(r.tag===22){if(C(At,At.current),C(jn,r),ui===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ui=r)}}else ur()}function ur(){C(At,At.current),C(jn,jn.current)}function Mi(r){$(jn),ui===r&&(ui=null),$(At)}var At=V(0);function tc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||lp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function _d(r,s,o,f){s=r.memoizedState,o=o(f,s),o=o==null?s:p({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var bd={enqueueSetState:function(r,s,o){r=r._reactInternals;var f=wn(),m=sr(f);m.payload=s,o!=null&&(m.callback=o),s=ar(r,m,f),s!==null&&(En(s,r,f),No(s,r,f))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var f=wn(),m=sr(f);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ar(r,m,f),s!==null&&(En(s,r,f),No(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=wn(),f=sr(o);f.tag=2,s!=null&&(f.callback=s),s=ar(r,f,o),s!==null&&(En(s,r,o),No(s,r,o))}};function S0(r,s,o,f,m,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,x):s.prototype&&s.prototype.isPureReactComponent?!bo(o,f)||!bo(m,y):!0}function w0(r,s,o,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,f),s.state!==r&&bd.enqueueReplaceState(s,s.state,null)}function os(r,s){var o=s;if("ref"in s){o={};for(var f in s)f!=="ref"&&(o[f]=s[f])}if(r=r.defaultProps){o===s&&(o=p({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var nc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function E0(r){nc(r)}function T0(r){console.error(r)}function C0(r){nc(r)}function ic(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function A0(r,s,o){try{var f=r.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function xd(r,s,o){return o=sr(o),o.tag=3,o.payload={element:null},o.callback=function(){ic(r,s)},o}function R0(r){return r=sr(r),r.tag=3,r}function k0(r,s,o,f){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;r.payload=function(){return m(y)},r.callback=function(){A0(s,o,f)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){A0(s,o,f),typeof m!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var E=f.stack;this.componentDidCatch(f.value,{componentStack:E!==null?E:""})})}function Nk(r,s,o,f,m){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=o.alternate,s!==null&&To(s,o,m,!0),o=jn.current,o!==null){switch(o.tag){case 13:return ui===null?Gd():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,f===Xh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([f]):s.add(f),Kd(r,f,m)),!1;case 22:return o.flags|=65536,f===Xh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([f]):o.add(f)),Kd(r,f,m)),!1}throw Error(i(435,o.tag))}return Kd(r,f,m),Gd(),!1}if(qe)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==Fh&&(r=Error(i(422),{cause:f}),Eo(On(r,o)))):(f!==Fh&&(s=Error(i(423),{cause:f}),Eo(On(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,f=On(f,o),m=xd(r.stateNode,f,m),Jh(r,m),pt!==4&&(pt=2)),!1;var y=Error(i(520),{cause:f});if(y=On(y,o),Go===null?Go=[y]:Go.push(y),pt!==4&&(pt=2),s===null)return!0;f=On(f,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=xd(o.stateNode,f,r),Jh(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mr===null||!mr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=R0(m),k0(m,r,o,f),Jh(o,m),!1}o=o.return}while(o!==null);return!1}var N0=Error(i(461)),It=!1;function zt(r,s,o,f){s.child=r===null?b0(s,null,o,f):aa(s,r.child,o,f)}function I0(r,s,o,f,m){o=o.render;var y=s.ref;if("ref"in f){var x={};for(var E in f)E!=="ref"&&(x[E]=f[E])}else x=f;return rs(s),f=rd(r,s,o,x,y,m),E=sd(),r!==null&&!It?(ad(r,s,m),Pi(r,s,m)):(qe&&E&&Vh(s),s.flags|=1,zt(r,s,f,m),s.child)}function D0(r,s,o,f,m){if(r===null){var y=o.type;return typeof y=="function"&&!Uh(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,O0(r,s,y,f,m)):(r=Lu(o.type,null,f,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!kd(r,m)){var x=y.memoizedProps;if(o=o.compare,o=o!==null?o:bo,o(x,f)&&r.ref===s.ref)return Pi(r,s,m)}return s.flags|=1,r=Ri(y,f),r.ref=s.ref,r.return=s,s.child=r}function O0(r,s,o,f,m){if(r!==null){var y=r.memoizedProps;if(bo(y,f)&&r.ref===s.ref)if(It=!1,s.pendingProps=f=y,kd(r,m))(r.flags&131072)!==0&&(It=!0);else return s.lanes=r.lanes,Pi(r,s,m)}return Sd(r,s,o,f,m)}function M0(r,s,o){var f=s.pendingProps,m=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=y!==null?y.baseLanes|o:o,r!==null){for(m=s.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~f}else s.childLanes=0,s.child=null;return P0(r,s,f,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vu(s,y!==null?y.cachePool:null),y!==null?O_(s,y):td(),x0(s);else return s.lanes=s.childLanes=536870912,P0(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Vu(s,y.cachePool),O_(s,y),ur(),s.memoizedState=null):(r!==null&&Vu(s,null),td(),ur());return zt(r,s,m,o),s.child}function P0(r,s,o,f){var m=$h();return m=m===null?null:{parent:Ct._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&Vu(s,null),td(),x0(s),r!==null&&To(r,s,f,!0),null}function rc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Sd(r,s,o,f,m){return rs(s),o=rd(r,s,o,f,void 0,m),f=sd(),r!==null&&!It?(ad(r,s,m),Pi(r,s,m)):(qe&&f&&Vh(s),s.flags|=1,zt(r,s,o,m),s.child)}function L0(r,s,o,f,m,y){return rs(s),s.updateQueue=null,o=P_(s,f,o,m),M_(r),f=sd(),r!==null&&!It?(ad(r,s,y),Pi(r,s,y)):(qe&&f&&Vh(s),s.flags|=1,zt(r,s,o,y),s.child)}function j0(r,s,o,f,m){if(rs(s),s.stateNode===null){var y=Xs,x=o.contextType;typeof x=="object"&&x!==null&&(y=Kt(x)),y=new o(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bd,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Qh(s),x=o.contextType,y.context=typeof x=="object"&&x!==null?Kt(x):Xs,y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(_d(s,o,x,f),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&bd.enqueueReplaceState(y,y.state,null),Do(s,f,y,m),Io(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(r===null){y=s.stateNode;var E=s.memoizedProps,D=os(o,E);y.props=D;var B=y.context,X=o.contextType;x=Xs,typeof X=="object"&&X!==null&&(x=Kt(X));var re=o.getDerivedStateFromProps;X=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E||B!==x)&&w0(s,y,f,x),rr=!1;var F=s.memoizedState;y.state=F,Do(s,f,y,m),Io(),B=s.memoizedState,E||F!==B||rr?(typeof re=="function"&&(_d(s,o,re,f),B=s.memoizedState),(D=rr||S0(s,o,D,f,F,B,x))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=B),y.props=f,y.state=B,y.context=x,f=D):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Zh(r,s),x=s.memoizedProps,X=os(o,x),y.props=X,re=s.pendingProps,F=y.context,B=o.contextType,D=Xs,typeof B=="object"&&B!==null&&(D=Kt(B)),E=o.getDerivedStateFromProps,(B=typeof E=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==re||F!==D)&&w0(s,y,f,D),rr=!1,F=s.memoizedState,y.state=F,Do(s,f,y,m),Io();var Y=s.memoizedState;x!==re||F!==Y||rr||r!==null&&r.dependencies!==null&&zu(r.dependencies)?(typeof E=="function"&&(_d(s,o,E,f),Y=s.memoizedState),(X=rr||S0(s,o,X,f,F,Y,D)||r!==null&&r.dependencies!==null&&zu(r.dependencies))?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,Y,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,Y,D)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Y),y.props=f,y.state=Y,y.context=D,f=X):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),f=!1)}return y=f,rc(r,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&f?(s.child=aa(s,r.child,null,m),s.child=aa(s,null,o,m)):zt(r,s,o,m),s.memoizedState=y.state,r=s.child):r=Pi(r,s,m),r}function U0(r,s,o,f){return wo(),s.flags|=256,zt(r,s,o,f),s.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(r){return{baseLanes:r,cachePool:T_()}}function Td(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Un),r}function z0(r,s,o){var f=s.pendingProps,m=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=r!==null&&r.memoizedState===null?!1:(At.current&2)!==0),x&&(m=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(qe){if(m?lr(s):ur(),qe){var E=dt,D;if(D=E){e:{for(D=E,E=li;D.nodeType!==8;){if(!E){E=null;break e}if(D=Xn(D.nextSibling),D===null){E=null;break e}}E=D}E!==null?(s.memoizedState={dehydrated:E,treeContext:Jr!==null?{id:ki,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},D=_n(18,null,null,0),D.stateNode=E,D.return=s,s.child=D,Qt=s,dt=null,D=!0):D=!1}D||ns(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lp(E)?s.lanes=32:s.lanes=536870912,null;Mi(s)}return E=f.children,f=f.fallback,m?(ur(),m=s.mode,E=sc({mode:"hidden",children:E},m),f=Zr(f,m,o,null),E.return=s,f.return=s,E.sibling=f,s.child=E,m=s.child,m.memoizedState=Ed(o),m.childLanes=Td(r,x,o),s.memoizedState=wd,f):(lr(s),Cd(s,E))}if(D=r.memoizedState,D!==null&&(E=D.dehydrated,E!==null)){if(y)s.flags&256?(lr(s),s.flags&=-257,s=Ad(r,s,o)):s.memoizedState!==null?(ur(),s.child=r.child,s.flags|=128,s=null):(ur(),m=f.fallback,E=s.mode,f=sc({mode:"visible",children:f.children},E),m=Zr(m,E,o,null),m.flags|=2,f.return=s,m.return=s,f.sibling=m,s.child=f,aa(s,r.child,null,o),f=s.child,f.memoizedState=Ed(o),f.childLanes=Td(r,x,o),s.memoizedState=wd,s=m);else if(lr(s),lp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var B=x.dgst;x=B,f=Error(i(419)),f.stack="",f.digest=x,Eo({value:f,source:null,stack:null}),s=Ad(r,s,o)}else if(It||To(r,s,o,!1),x=(o&r.childLanes)!==0,It||x){if(x=tt,x!==null&&(f=o&-o,f=(f&42)!==0?1:uh(f),f=(f&(x.suspendedLanes|o))!==0?0:f,f!==0&&f!==D.retryLane))throw D.retryLane=f,$s(r,f),En(x,r,f),N0;E.data==="$?"||Gd(),s=Ad(r,s,o)}else E.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=D.treeContext,dt=Xn(E.nextSibling),Qt=s,qe=!0,ts=null,li=!1,r!==null&&(Pn[Ln++]=ki,Pn[Ln++]=Ni,Pn[Ln++]=Jr,ki=r.id,Ni=r.overflow,Jr=s),s=Cd(s,f.children),s.flags|=4096);return s}return m?(ur(),m=f.fallback,E=s.mode,D=r.child,B=D.sibling,f=Ri(D,{mode:"hidden",children:f.children}),f.subtreeFlags=D.subtreeFlags&65011712,B!==null?m=Ri(B,m):(m=Zr(m,E,o,null),m.flags|=2),m.return=s,f.return=s,f.sibling=m,s.child=f,f=m,m=s.child,E=r.child.memoizedState,E===null?E=Ed(o):(D=E.cachePool,D!==null?(B=Ct._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=T_(),E={baseLanes:E.baseLanes|o,cachePool:D}),m.memoizedState=E,m.childLanes=Td(r,x,o),s.memoizedState=wd,f):(lr(s),o=r.child,r=o.sibling,o=Ri(o,{mode:"visible",children:f.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function Cd(r,s){return s=sc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function sc(r,s){return r=_n(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ad(r,s,o){return aa(s,r.child,null,o),r=Cd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function B0(r,s,o){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),Gh(r.return,s,o)}function Rd(r,s,o,f,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=o,y.tailMode=m)}function V0(r,s,o){var f=s.pendingProps,m=f.revealOrder,y=f.tail;if(zt(r,s,f.children,o),f=At.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&B0(r,o,s);else if(r.tag===19)B0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(C(At,f),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&tc(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Rd(s,!1,m,o,y);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&tc(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Rd(s,!0,o,null,y);break;case"together":Rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),pr|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(To(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ri(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ri(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function kd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&zu(r)))}function Ik(r,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),ir(s,Ct,r.memoizedState.cache),wo();break;case 27:case 5:je(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:ir(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(lr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?z0(r,s,o):(lr(s),r=Pi(r,s,o),r!==null?r.sibling:null);lr(s);break;case 19:var m=(r.flags&128)!==0;if(f=(o&s.childLanes)!==0,f||(To(r,s,o,!1),f=(o&s.childLanes)!==0),m){if(f)return V0(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),C(At,At.current),f)break;return null;case 22:case 23:return s.lanes=0,M0(r,s,o);case 24:ir(s,Ct,r.memoizedState.cache)}return Pi(r,s,o)}function H0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)It=!0;else{if(!kd(r,o)&&(s.flags&128)===0)return It=!1,Ik(r,s,o);It=(r.flags&131072)!==0}else It=!1,qe&&(s.flags&1048576)!==0&&v_(s,Uu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var f=s.elementType,m=f._init;if(f=m(f._payload),s.type=f,typeof f=="function")Uh(f)?(r=os(f,r),s.tag=1,s=j0(null,s,f,r,o)):(s.tag=0,s=Sd(null,s,f,r,o));else{if(f!=null){if(m=f.$$typeof,m===K){s.tag=11,s=I0(null,s,f,r,o);break e}else if(m===H){s.tag=14,s=D0(null,s,f,r,o);break e}}throw s=ae(f)||f,Error(i(306,s,""))}}return s;case 0:return Sd(r,s,s.type,s.pendingProps,o);case 1:return f=s.type,m=os(f,s.pendingProps),j0(r,s,f,m,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),r===null)throw Error(i(387));f=s.pendingProps;var y=s.memoizedState;m=y.element,Zh(r,s),Do(s,f,null,o);var x=s.memoizedState;if(f=x.cache,ir(s,Ct,f),f!==y.cache&&Yh(s,[Ct],o,!0),Io(),f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=U0(r,s,f,o);break e}else if(f!==m){m=On(Error(i(424)),s),Eo(m),s=U0(r,s,f,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dt=Xn(r.firstChild),Qt=s,qe=!0,ts=null,li=!0,o=b0(s,null,f,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(wo(),f===m){s=Pi(r,s,o);break e}zt(r,s,f,o)}s=s.child}return s;case 26:return rc(r,s),r===null?(o=Yb(s.type,null,s.pendingProps,null))?s.memoizedState=o:qe||(o=s.type,r=s.pendingProps,f=_c(Q.current).createElement(o),f[Yt]=s,f[rn]=r,Vt(f,o,r),Nt(f),s.stateNode=f):s.memoizedState=Yb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return je(s),r===null&&qe&&(f=s.stateNode=Fb(s.type,s.pendingProps,Q.current),Qt=s,li=!0,m=dt,vr(s.type)?(up=m,dt=Xn(f.firstChild)):dt=m),zt(r,s,s.pendingProps.children,o),rc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&qe&&((m=f=dt)&&(f=sN(f,s.type,s.pendingProps,li),f!==null?(s.stateNode=f,Qt=s,dt=Xn(f.firstChild),li=!1,m=!0):m=!1),m||ns(s)),je(s),m=s.type,y=s.pendingProps,x=r!==null?r.memoizedProps:null,f=y.children,sp(m,y)?f=null:x!==null&&sp(m,x)&&(s.flags|=32),s.memoizedState!==null&&(m=rd(r,s,wk,null,null,o),el._currentValue=m),rc(r,s),zt(r,s,f,o),s.child;case 6:return r===null&&qe&&((r=o=dt)&&(o=aN(o,s.pendingProps,li),o!==null?(s.stateNode=o,Qt=s,dt=null,r=!0):r=!1),r||ns(s)),null;case 13:return z0(r,s,o);case 4:return ve(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=aa(s,null,f,o):zt(r,s,f,o),s.child;case 11:return I0(r,s,s.type,s.pendingProps,o);case 7:return zt(r,s,s.pendingProps,o),s.child;case 8:return zt(r,s,s.pendingProps.children,o),s.child;case 12:return zt(r,s,s.pendingProps.children,o),s.child;case 10:return f=s.pendingProps,ir(s,s.type,f.value),zt(r,s,f.children,o),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,rs(s),m=Kt(m),f=f(m),s.flags|=1,zt(r,s,f,o),s.child;case 14:return D0(r,s,s.type,s.pendingProps,o);case 15:return O0(r,s,s.type,s.pendingProps,o);case 19:return V0(r,s,o);case 31:return f=s.pendingProps,o=s.mode,f={mode:f.mode,children:f.children},r===null?(o=sc(f,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ri(r.child,f),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return M0(r,s,o);case 24:return rs(s),f=Kt(Ct),r===null?(m=$h(),m===null&&(m=tt,y=Kh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:f,cache:m},Qh(s),ir(s,Ct,m)):((r.lanes&o)!==0&&(Zh(r,s),Do(s,null,null,o),Io()),m=r.memoizedState,y=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ir(s,Ct,f)):(f=y.cache,ir(s,Ct,f),f!==m.cache&&Yh(s,[Ct],o,!0))),zt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Li(r){r.flags|=4}function F0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Qb(s)){if(s=jn.current,s!==null&&((He&4194048)===He?ui!==null:(He&62914560)!==He&&(He&536870912)===0||s!==ui))throw ko=Xh,C_;r.flags|=8192}}function ac(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?xv():536870912,r.lanes|=s,ca|=s)}function zo(r,s){if(!qe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,f=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=f,r.childLanes=o,s}function Dk(r,s,o){var f=s.pendingProps;switch(Hh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return o=s.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Di(Ct),Ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(So(s)?Li(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,x_())),ft(s),null;case 26:return o=s.memoizedState,r===null?(Li(s),o!==null?(ft(s),F0(s,o)):(ft(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Li(s),ft(s),F0(s,o)):(ft(s),s.flags&=-16777217):(r.memoizedProps!==f&&Li(s),ft(s),s.flags&=-16777217),null;case 27:ot(s),o=Q.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Li(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ft(s),null}r=L.current,So(s)?__(s):(r=Fb(m,f,o),s.stateNode=r,Li(s))}return ft(s),null;case 5:if(ot(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Li(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ft(s),null}if(r=L.current,So(s))__(s);else{switch(m=_c(Q.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?m.createElement(o,{is:f.is}):m.createElement(o)}}r[Yt]=s,r[rn]=f;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(Vt(r,o,f),o){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Li(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==f&&Li(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(r=Q.current,So(s)){if(r=s.stateNode,o=s.memoizedProps,f=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}r[Yt]=s,r=!!(r.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||Lb(r.nodeValue,o)),r||ns(s)}else r=_c(r).createTextNode(f),r[Yt]=s,s.stateNode=r}return ft(s),null;case 13:if(f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=So(s),f!==null&&f.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Yt]=s}else wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),m=!1}else m=x_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Mi(s),s):(Mi(s),null)}if(Mi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=f!==null,r=r!==null&&r.memoizedState!==null,o){f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),ac(s,s.updateQueue),ft(s),null;case 4:return Ve(),r===null&&ep(s.stateNode.containerInfo),ft(s),null;case 10:return Di(s.type),ft(s),null;case 19:if($(At),m=s.memoizedState,m===null)return ft(s),null;if(f=(s.flags&128)!==0,y=m.rendering,y===null)if(f)zo(m,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=tc(r),y!==null){for(s.flags|=128,zo(m,!1),r=y.updateQueue,s.updateQueue=r,ac(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)y_(o,r),o=o.sibling;return C(At,At.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ut()>uc&&(s.flags|=128,f=!0,zo(m,!1),s.lanes=4194304)}else{if(!f)if(r=tc(y),r!==null){if(s.flags|=128,f=!0,r=r.updateQueue,s.updateQueue=r,ac(s,r),zo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!qe)return ft(s),null}else 2*Ut()-m.renderingStartTime>uc&&o!==536870912&&(s.flags|=128,f=!0,zo(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(r=m.last,r!==null?r.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ut(),s.sibling=null,r=At.current,C(At,f?r&1|2:r&1),s):(ft(s),null);case 22:case 23:return Mi(s),nd(),f=s.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(o&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),o=s.updateQueue,o!==null&&ac(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048),r!==null&&$(ss),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Di(Ct),ft(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Ok(r,s){switch(Hh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Di(Ct),Ve(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ot(s),null;case 13:if(Mi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));wo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return $(At),null;case 4:return Ve(),null;case 10:return Di(s.type),null;case 22:case 23:return Mi(s),nd(),r!==null&&$(ss),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Di(Ct),null;case 25:return null;default:return null}}function q0(r,s){switch(Hh(s),s.tag){case 3:Di(Ct),Ve();break;case 26:case 27:case 5:ot(s);break;case 4:Ve();break;case 13:Mi(s);break;case 19:$(At);break;case 10:Di(s.type);break;case 22:case 23:Mi(s),nd(),r!==null&&$(ss);break;case 24:Di(Ct)}}function Bo(r,s){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&r)===r){f=void 0;var y=o.create,x=o.inst;f=y(),x.destroy=f}o=o.next}while(o!==m)}}catch(E){et(s,s.return,E)}}function cr(r,s,o){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&r)===r){var x=f.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,m=s;var D=o,B=E;try{B()}catch(X){et(m,D,X)}}}f=f.next}while(f!==y)}}catch(X){et(s,s.return,X)}}function G0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{D_(s,o)}catch(f){et(r,r.return,f)}}}function Y0(r,s,o){o.props=os(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(f){et(r,s,f)}}function Vo(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(m){et(r,s,m)}}function ci(r,s){var o=r.ref,f=r.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(m){et(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){et(r,s,m)}else o.current=null}function K0(r){var s=r.type,o=r.memoizedProps,f=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(m){et(r,r.return,m)}}function Nd(r,s,o){try{var f=r.stateNode;eN(f,r.type,o,s),f[rn]=s}catch(m){et(r,r.return,m)}}function W0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vr(r.type)||r.tag===4}function Id(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||W0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Dd(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=vc));else if(f!==4&&(f===27&&vr(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Dd(r,s,o),r=r.sibling;r!==null;)Dd(r,s,o),r=r.sibling}function oc(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(f!==4&&(f===27&&vr(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(oc(r,s,o),r=r.sibling;r!==null;)oc(r,s,o),r=r.sibling}function $0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var f=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Vt(s,f,o),s[Yt]=r,s[rn]=o}catch(y){et(r,r.return,y)}}var ji=!1,_t=!1,Od=!1,X0=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Mk(r,s){if(r=r.containerInfo,ip=Tc,r=o_(r),Ih(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var x=0,E=-1,D=-1,B=0,X=0,re=r,F=null;t:for(;;){for(var Y;re!==o||m!==0&&re.nodeType!==3||(E=x+m),re!==y||f!==0&&re.nodeType!==3||(D=x+f),re.nodeType===3&&(x+=re.nodeValue.length),(Y=re.firstChild)!==null;)F=re,re=Y;for(;;){if(re===r)break t;if(F===o&&++B===m&&(E=x),F===y&&++X===f&&(D=x),(Y=re.nextSibling)!==null)break;re=F,F=re.parentNode}re=Y}o=E===-1||D===-1?null:{start:E,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(rp={focusedElem:r,selectionRange:o},Tc=!1,Dt=s;Dt!==null;)if(s=Dt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Dt=r;else for(;Dt!==null;){switch(s=Dt,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,f=o.stateNode;try{var we=os(o.type,m,o.elementType===o.type);r=f.getSnapshotBeforeUpdate(we,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(be){et(o,o.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)op(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":op(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Dt=r;break}Dt=s.return}}function Q0(r,s,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:fr(r,o),f&4&&Bo(5,o);break;case 1:if(fr(r,o),f&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){et(o,o.return,x)}else{var m=os(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){et(o,o.return,x)}}f&64&&G0(o),f&512&&Vo(o,o.return);break;case 3:if(fr(r,o),f&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{D_(r,s)}catch(x){et(o,o.return,x)}}break;case 27:s===null&&f&4&&$0(o);case 26:case 5:fr(r,o),s===null&&f&4&&K0(o),f&512&&Vo(o,o.return);break;case 12:fr(r,o);break;case 13:fr(r,o),f&4&&eb(r,o),f&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Fk.bind(null,o),oN(r,o))));break;case 22:if(f=o.memoizedState!==null||ji,!f){s=s!==null&&s.memoizedState!==null||_t,m=ji;var y=_t;ji=f,(_t=s)&&!y?hr(r,o,(o.subtreeFlags&8772)!==0):fr(r,o),ji=m,_t=y}break;case 30:break;default:fr(r,o)}}function Z0(r){var s=r.alternate;s!==null&&(r.alternate=null,Z0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&hh(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var lt=null,on=!1;function Ui(r,s,o){for(o=o.child;o!==null;)J0(r,s,o),o=o.sibling}function J0(r,s,o){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(q,o)}catch{}switch(o.tag){case 26:_t||ci(o,s),Ui(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_t||ci(o,s);var f=lt,m=on;vr(o.type)&&(lt=o.stateNode,on=!1),Ui(r,s,o),Xo(o.stateNode),lt=f,on=m;break;case 5:_t||ci(o,s);case 6:if(f=lt,m=on,lt=null,Ui(r,s,o),lt=f,on=m,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(y){et(o,s,y)}else try{lt.removeChild(o.stateNode)}catch(y){et(o,s,y)}break;case 18:lt!==null&&(on?(r=lt,Vb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),rl(r)):Vb(lt,o.stateNode));break;case 4:f=lt,m=on,lt=o.stateNode.containerInfo,on=!0,Ui(r,s,o),lt=f,on=m;break;case 0:case 11:case 14:case 15:_t||cr(2,o,s),_t||cr(4,o,s),Ui(r,s,o);break;case 1:_t||(ci(o,s),f=o.stateNode,typeof f.componentWillUnmount=="function"&&Y0(o,s,f)),Ui(r,s,o);break;case 21:Ui(r,s,o);break;case 22:_t=(f=_t)||o.memoizedState!==null,Ui(r,s,o),_t=f;break;default:Ui(r,s,o)}}function eb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{rl(r)}catch(o){et(s,s.return,o)}}function Pk(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new X0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new X0),s;default:throw Error(i(435,r.tag))}}function Md(r,s){var o=Pk(r);s.forEach(function(f){var m=qk.bind(null,r,f);o.has(f)||(o.add(f),f.then(m,m))})}function bn(r,s){var o=s.deletions;if(o!==null)for(var f=0;f<o.length;f++){var m=o[f],y=r,x=s,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(vr(E.type)){lt=E.stateNode,on=!1;break e}break;case 5:lt=E.stateNode,on=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(lt===null)throw Error(i(160));J0(y,x,m),lt=null,on=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)tb(s,r),s=s.sibling}var $n=null;function tb(r,s){var o=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:bn(s,r),xn(r),f&4&&(cr(3,r,r.return),Bo(3,r),cr(5,r,r.return));break;case 1:bn(s,r),xn(r),f&512&&(_t||o===null||ci(o,o.return)),f&64&&ji&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var m=$n;if(bn(s,r),xn(r),f&512&&(_t||o===null||ci(o,o.return)),f&4){var y=o!==null?o.memoizedState:null;if(f=r.memoizedState,o===null)if(f===null)if(r.stateNode===null){e:{f=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[co]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),Vt(y,f,o),y[Yt]=r,Nt(y),f=y;break e;case"link":var x=$b("link","href",m).get(f+(o.href||""));if(x){for(var E=0;E<x.length;E++)if(y=x[E],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(E,1);break t}}y=m.createElement(f),Vt(y,f,o),m.head.appendChild(y);break;case"meta":if(x=$b("meta","content",m).get(f+(o.content||""))){for(E=0;E<x.length;E++)if(y=x[E],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(E,1);break t}}y=m.createElement(f),Vt(y,f,o),m.head.appendChild(y);break;default:throw Error(i(468,f))}y[Yt]=r,Nt(y),f=y}r.stateNode=f}else Xb(m,r.type,r.stateNode);else r.stateNode=Wb(m,f,r.memoizedProps);else y!==f?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,f===null?Xb(m,r.type,r.stateNode):Wb(m,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Nd(r,r.memoizedProps,o.memoizedProps)}break;case 27:bn(s,r),xn(r),f&512&&(_t||o===null||ci(o,o.return)),o!==null&&f&4&&Nd(r,r.memoizedProps,o.memoizedProps);break;case 5:if(bn(s,r),xn(r),f&512&&(_t||o===null||ci(o,o.return)),r.flags&32){m=r.stateNode;try{Hs(m,"")}catch(Y){et(r,r.return,Y)}}f&4&&r.stateNode!=null&&(m=r.memoizedProps,Nd(r,m,o!==null?o.memoizedProps:m)),f&1024&&(Od=!0);break;case 6:if(bn(s,r),xn(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,o=r.stateNode;try{o.nodeValue=f}catch(Y){et(r,r.return,Y)}}break;case 3:if(Sc=null,m=$n,$n=bc(s.containerInfo),bn(s,r),$n=m,xn(r),f&4&&o!==null&&o.memoizedState.isDehydrated)try{rl(s.containerInfo)}catch(Y){et(r,r.return,Y)}Od&&(Od=!1,nb(r));break;case 4:f=$n,$n=bc(r.stateNode.containerInfo),bn(s,r),xn(r),$n=f;break;case 12:bn(s,r),xn(r);break;case 13:bn(s,r),xn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Bd=Ut()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Md(r,f)));break;case 22:m=r.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,B=ji,X=_t;if(ji=B||m,_t=X||D,bn(s,r),_t=X,ji=B,xn(r),f&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||D||ji||_t||ls(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(y=D.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=D.stateNode;var re=D.memoizedProps.style,F=re!=null&&re.hasOwnProperty("display")?re.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Y){et(D,D.return,Y)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(Y){et(D,D.return,Y)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=r.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Md(r,o))));break;case 19:bn(s,r),xn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Md(r,f)));break;case 30:break;case 21:break;default:bn(s,r),xn(r)}}function xn(r){var s=r.flags;if(s&2){try{for(var o,f=r.return;f!==null;){if(W0(f)){o=f;break}f=f.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=Id(r);oc(r,y,m);break;case 5:var x=o.stateNode;o.flags&32&&(Hs(x,""),o.flags&=-33);var E=Id(r);oc(r,E,x);break;case 3:case 4:var D=o.stateNode.containerInfo,B=Id(r);Dd(r,B,D);break;default:throw Error(i(161))}}catch(X){et(r,r.return,X)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function nb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;nb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function fr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Q0(r,s.alternate,s),s=s.sibling}function ls(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:cr(4,s,s.return),ls(s);break;case 1:ci(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Y0(s,s.return,o),ls(s);break;case 27:Xo(s.stateNode);case 26:case 5:ci(s,s.return),ls(s);break;case 22:s.memoizedState===null&&ls(s);break;case 30:ls(s);break;default:ls(s)}r=r.sibling}}function hr(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=r,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:hr(m,y,o),Bo(4,y);break;case 1:if(hr(m,y,o),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){et(f,f.return,B)}if(f=y,m=f.updateQueue,m!==null){var E=f.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)I_(D[m],E)}catch(B){et(f,f.return,B)}}o&&x&64&&G0(y),Vo(y,y.return);break;case 27:$0(y);case 26:case 5:hr(m,y,o),o&&f===null&&x&4&&K0(y),Vo(y,y.return);break;case 12:hr(m,y,o);break;case 13:hr(m,y,o),o&&x&4&&eb(m,y);break;case 22:y.memoizedState===null&&hr(m,y,o),Vo(y,y.return);break;case 30:break;default:hr(m,y,o)}s=s.sibling}}function Pd(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Co(o))}function Ld(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Co(r))}function fi(r,s,o,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ib(r,s,o,f),s=s.sibling}function ib(r,s,o,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:fi(r,s,o,f),m&2048&&Bo(9,s);break;case 1:fi(r,s,o,f);break;case 3:fi(r,s,o,f),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Co(r)));break;case 12:if(m&2048){fi(r,s,o,f),r=s.stateNode;try{var y=s.memoizedProps,x=y.id,E=y.onPostCommit;typeof E=="function"&&E(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){et(s,s.return,D)}}else fi(r,s,o,f);break;case 13:fi(r,s,o,f);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?fi(r,s,o,f):Ho(r,s):y._visibility&2?fi(r,s,o,f):(y._visibility|=2,oa(r,s,o,f,(s.subtreeFlags&10256)!==0)),m&2048&&Pd(x,s);break;case 24:fi(r,s,o,f),m&2048&&Ld(s.alternate,s);break;default:fi(r,s,o,f)}}function oa(r,s,o,f,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,x=s,E=o,D=f,B=x.flags;switch(x.tag){case 0:case 11:case 15:oa(y,x,E,D,m),Bo(8,x);break;case 23:break;case 22:var X=x.stateNode;x.memoizedState!==null?X._visibility&2?oa(y,x,E,D,m):Ho(y,x):(X._visibility|=2,oa(y,x,E,D,m)),m&&B&2048&&Pd(x.alternate,x);break;case 24:oa(y,x,E,D,m),m&&B&2048&&Ld(x.alternate,x);break;default:oa(y,x,E,D,m)}s=s.sibling}}function Ho(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,f=s,m=f.flags;switch(f.tag){case 22:Ho(o,f),m&2048&&Pd(f.alternate,f);break;case 24:Ho(o,f),m&2048&&Ld(f.alternate,f);break;default:Ho(o,f)}s=s.sibling}}var Fo=8192;function la(r){if(r.subtreeFlags&Fo)for(r=r.child;r!==null;)rb(r),r=r.sibling}function rb(r){switch(r.tag){case 26:la(r),r.flags&Fo&&r.memoizedState!==null&&bN($n,r.memoizedState,r.memoizedProps);break;case 5:la(r);break;case 3:case 4:var s=$n;$n=bc(r.stateNode.containerInfo),la(r),$n=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Fo,Fo=16777216,la(r),Fo=s):la(r));break;default:la(r)}}function sb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function qo(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];Dt=f,ob(f,r)}sb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ab(r),r=r.sibling}function ab(r){switch(r.tag){case 0:case 11:case 15:qo(r),r.flags&2048&&cr(9,r,r.return);break;case 3:qo(r);break;case 12:qo(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,lc(r)):qo(r);break;default:qo(r)}}function lc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];Dt=f,ob(f,r)}sb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:cr(8,s,s.return),lc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,lc(s));break;default:lc(s)}r=r.sibling}}function ob(r,s){for(;Dt!==null;){var o=Dt;switch(o.tag){case 0:case 11:case 15:cr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Co(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,Dt=f;else e:for(o=r;Dt!==null;){f=Dt;var m=f.sibling,y=f.return;if(Z0(f),f===o){Dt=null;break e}if(m!==null){m.return=y,Dt=m;break e}Dt=y}}}var Lk={getCacheForType:function(r){var s=Kt(Ct),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},jk=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,Ue=null,He=0,We=0,Sn=null,dr=!1,ua=!1,jd=!1,zi=0,pt=0,pr=0,us=0,Ud=0,Un=0,ca=0,Go=null,ln=null,zd=!1,Bd=0,uc=1/0,cc=null,mr=null,Bt=0,gr=null,fa=null,ha=0,Vd=0,Hd=null,lb=null,Yo=0,Fd=null;function wn(){if((Ke&2)!==0&&He!==0)return He&-He;if(j.T!==null){var r=Js;return r!==0?r:Xd()}return Ev()}function ub(){Un===0&&(Un=(He&536870912)===0||qe?bv():536870912);var r=jn.current;return r!==null&&(r.flags|=32),Un}function En(r,s,o){(r===tt&&(We===2||We===9)||r.cancelPendingCommit!==null)&&(da(r,0),yr(r,He,Un,!1)),uo(r,o),((Ke&2)===0||r!==tt)&&(r===tt&&((Ke&2)===0&&(us|=o),pt===4&&yr(r,He,Un,!1)),hi(r))}function cb(r,s,o){if((Ke&6)!==0)throw Error(i(327));var f=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Nn(r,s),m=f?Bk(r,s):Yd(r,s,!0),y=f;do{if(m===0){ua&&!f&&yr(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!Uk(o)){m=Yd(r,s,!1),y=!1;continue}if(m===2){if(y=s,r.errorRecoveryDisabledLanes&y)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var E=r;m=Go;var D=E.current.memoizedState.isDehydrated;if(D&&(da(E,x).flags|=256),x=Yd(E,x,!1),x!==2){if(jd&&!D){E.errorRecoveryDisabledLanes|=y,us|=y,m=4;break e}y=ln,ln=m,y!==null&&(ln===null?ln=y:ln.push.apply(ln,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){da(r,0),yr(r,s,0,!0);break}e:{switch(f=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:yr(f,s,Un,!dr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Bd+300-Ut(),10<m)){if(yr(f,s,Un,!dr),kt(f,0,!0)!==0)break e;f.timeoutHandle=zb(fb.bind(null,f,o,ln,cc,zd,s,Un,us,ca,dr,y,2,-0,0),m);break e}fb(f,o,ln,cc,zd,s,Un,us,ca,dr,y,0,-0,0)}}break}while(!0);hi(r)}function fb(r,s,o,f,m,y,x,E,D,B,X,re,F,Y){if(r.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Jo={stylesheets:null,count:0,unsuspend:_N},rb(s),re=xN(),re!==null)){r.cancelPendingCommit=re(vb.bind(null,r,s,y,o,f,m,x,E,D,X,1,F,Y)),yr(r,y,x,!B);return}vb(r,s,y,o,f,m,x,E,D)}function Uk(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var m=o[f],y=m.getSnapshot;m=m.value;try{if(!vn(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yr(r,s,o,f){s&=~Ud,s&=~us,r.suspendedLanes|=s,r.pingedLanes&=~s,f&&(r.warmLanes|=s),f=r.expirationTimes;for(var m=s;0<m;){var y=31-ge(m),x=1<<y;f[y]=-1,m&=~x}o!==0&&Sv(r,o,s)}function fc(){return(Ke&6)===0?(Ko(0),!1):!0}function qd(){if(Ue!==null){if(We===0)var r=Ue.return;else r=Ue,Ii=is=null,od(r),sa=null,jo=0,r=Ue;for(;r!==null;)q0(r.alternate,r),r=r.return;Ue=null}}function da(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,nN(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),qd(),tt=r,Ue=o=Ri(r.current,null),He=s,We=0,Sn=null,dr=!1,ua=Nn(r,s),jd=!1,ca=Un=Ud=us=pr=pt=0,ln=Go=null,zd=!1,(s&8)!==0&&(s|=s&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=s;0<f;){var m=31-ge(f),y=1<<m;s|=r[m],f&=~y}return zi=s,Ou(),o}function hb(r,s){Oe=null,j.H=Zu,s===Ro||s===Hu?(s=k_(),We=3):s===C_?(s=k_(),We=4):We=s===N0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,Ue===null&&(pt=1,ic(r,On(s,r.current)))}function db(){var r=j.H;return j.H=Zu,r===null?Zu:r}function pb(){var r=j.A;return j.A=Lk,r}function Gd(){pt=4,dr||(He&4194048)!==He&&jn.current!==null||(ua=!0),(pr&134217727)===0&&(us&134217727)===0||tt===null||yr(tt,He,Un,!1)}function Yd(r,s,o){var f=Ke;Ke|=2;var m=db(),y=pb();(tt!==r||He!==s)&&(cc=null,da(r,s)),s=!1;var x=pt;e:do try{if(We!==0&&Ue!==null){var E=Ue,D=Sn;switch(We){case 8:qd(),x=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var B=We;if(We=0,Sn=null,pa(r,E,D,B),o&&ua){x=0;break e}break;default:B=We,We=0,Sn=null,pa(r,E,D,B)}}zk(),x=pt;break}catch(X){hb(r,X)}while(!0);return s&&r.shellSuspendCounter++,Ii=is=null,Ke=f,j.H=m,j.A=y,Ue===null&&(tt=null,He=0,Ou()),x}function zk(){for(;Ue!==null;)mb(Ue)}function Bk(r,s){var o=Ke;Ke|=2;var f=db(),m=pb();tt!==r||He!==s?(cc=null,uc=Ut()+500,da(r,s)):ua=Nn(r,s);e:do try{if(We!==0&&Ue!==null){s=Ue;var y=Sn;t:switch(We){case 1:We=0,Sn=null,pa(r,s,y,1);break;case 2:case 9:if(A_(y)){We=0,Sn=null,gb(s);break}s=function(){We!==2&&We!==9||tt!==r||(We=7),hi(r)},y.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:A_(y)?(We=0,Sn=null,gb(s)):(We=0,Sn=null,pa(r,s,y,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var E=Ue;if(!x||Qb(x)){We=0,Sn=null;var D=E.sibling;if(D!==null)Ue=D;else{var B=E.return;B!==null?(Ue=B,hc(B)):Ue=null}break t}}We=0,Sn=null,pa(r,s,y,5);break;case 6:We=0,Sn=null,pa(r,s,y,6);break;case 8:qd(),pt=6;break e;default:throw Error(i(462))}}Vk();break}catch(X){hb(r,X)}while(!0);return Ii=is=null,j.H=f,j.A=m,Ke=o,Ue!==null?0:(tt=null,He=0,Ou(),pt)}function Vk(){for(;Ue!==null&&!wi();)mb(Ue)}function mb(r){var s=H0(r.alternate,r,zi);r.memoizedProps=r.pendingProps,s===null?hc(r):Ue=s}function gb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=L0(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=L0(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:od(s);default:q0(o,s),s=Ue=y_(s,zi),s=H0(o,s,zi)}r.memoizedProps=r.pendingProps,s===null?hc(r):Ue=s}function pa(r,s,o,f){Ii=is=null,od(s),sa=null,jo=0;var m=s.return;try{if(Nk(r,m,s,o,He)){pt=1,ic(r,On(o,r.current)),Ue=null;return}}catch(y){if(m!==null)throw Ue=m,y;pt=1,ic(r,On(o,r.current)),Ue=null;return}s.flags&32768?(qe||f===1?r=!0:ua||(He&536870912)!==0?r=!1:(dr=r=!0,(f===2||f===9||f===3||f===6)&&(f=jn.current,f!==null&&f.tag===13&&(f.flags|=16384))),yb(s,r)):hc(s)}function hc(r){var s=r;do{if((s.flags&32768)!==0){yb(s,dr);return}r=s.return;var o=Dk(s.alternate,s,zi);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);pt===0&&(pt=5)}function yb(r,s){do{var o=Ok(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);pt=6,Ue=null}function vb(r,s,o,f,m,y,x,E,D){r.cancelPendingCommit=null;do dc();while(Bt!==0);if((Ke&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Lh,_R(r,o,y,x,E,D),r===tt&&(Ue=tt=null,He=0),fa=s,gr=r,ha=o,Vd=y,Hd=m,lb=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Gk(Yn,function(){return wb(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=j.T,j.T=null,m=te.p,te.p=2,x=Ke,Ke|=4;try{Mk(r,s,o)}finally{Ke=x,te.p=m,j.T=f}}Bt=1,_b(),bb(),xb()}}function _b(){if(Bt===1){Bt=0;var r=gr,s=fa,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=j.T,j.T=null;var f=te.p;te.p=2;var m=Ke;Ke|=4;try{tb(s,r);var y=rp,x=o_(r.containerInfo),E=y.focusedElem,D=y.selectionRange;if(x!==E&&E&&E.ownerDocument&&a_(E.ownerDocument.documentElement,E)){if(D!==null&&Ih(E)){var B=D.start,X=D.end;if(X===void 0&&(X=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(X,E.value.length);else{var re=E.ownerDocument||document,F=re&&re.defaultView||window;if(F.getSelection){var Y=F.getSelection(),we=E.textContent.length,be=Math.min(D.start,we),Qe=D.end===void 0?be:Math.min(D.end,we);!Y.extend&&be>Qe&&(x=Qe,Qe=be,be=x);var U=s_(E,be),P=s_(E,Qe);if(U&&P&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var z=re.createRange();z.setStart(U.node,U.offset),Y.removeAllRanges(),be>Qe?(Y.addRange(z),Y.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),Y.addRange(z))}}}}for(re=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<re.length;E++){var ee=re[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Tc=!!ip,rp=ip=null}finally{Ke=m,te.p=f,j.T=o}}r.current=s,Bt=2}}function bb(){if(Bt===2){Bt=0;var r=gr,s=fa,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=j.T,j.T=null;var f=te.p;te.p=2;var m=Ke;Ke|=4;try{Q0(r,s.alternate,s)}finally{Ke=m,te.p=f,j.T=o}}Bt=3}}function xb(){if(Bt===4||Bt===3){Bt=0,kn();var r=gr,s=fa,o=ha,f=lb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,fa=gr=null,Sb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(mr=null),ch(o),s=s.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(q,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=j.T,m=te.p,te.p=2,j.T=null;try{for(var y=r.onRecoverableError,x=0;x<f.length;x++){var E=f[x];y(E.value,{componentStack:E.stack})}}finally{j.T=s,te.p=m}}(ha&3)!==0&&dc(),hi(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Fd?Yo++:(Yo=0,Fd=r):Yo=0,Ko(0)}}function Sb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Co(s)))}function dc(r){return _b(),bb(),xb(),wb()}function wb(){if(Bt!==5)return!1;var r=gr,s=Vd;Vd=0;var o=ch(ha),f=j.T,m=te.p;try{te.p=32>o?32:o,j.T=null,o=Hd,Hd=null;var y=gr,x=ha;if(Bt=0,fa=gr=null,ha=0,(Ke&6)!==0)throw Error(i(331));var E=Ke;if(Ke|=4,ab(y.current),ib(y,y.current,x,o),Ke=E,Ko(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(q,y)}catch{}return!0}finally{te.p=m,j.T=f,Sb(r,s)}}function Eb(r,s,o){s=On(o,s),s=xd(r.stateNode,s,2),r=ar(r,s,2),r!==null&&(uo(r,2),hi(r))}function et(r,s,o){if(r.tag===3)Eb(r,r,o);else for(;s!==null;){if(s.tag===3){Eb(s,r,o);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))){r=On(o,r),o=R0(2),f=ar(s,o,2),f!==null&&(k0(o,f,s,r),uo(f,2),hi(f));break}}s=s.return}}function Kd(r,s,o){var f=r.pingCache;if(f===null){f=r.pingCache=new jk;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(o)||(jd=!0,m.add(o),r=Hk.bind(null,r,s,o),s.then(r,r))}function Hk(r,s,o){var f=r.pingCache;f!==null&&f.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,tt===r&&(He&o)===o&&(pt===4||pt===3&&(He&62914560)===He&&300>Ut()-Bd?(Ke&2)===0&&da(r,0):Ud|=o,ca===He&&(ca=0)),hi(r)}function Tb(r,s){s===0&&(s=xv()),r=$s(r,s),r!==null&&(uo(r,s),hi(r))}function Fk(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Tb(r,o)}function qk(r,s){var o=0;switch(r.tag){case 13:var f=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),Tb(r,o)}function Gk(r,s){return gn(r,s)}var pc=null,ma=null,Wd=!1,mc=!1,$d=!1,cs=0;function hi(r){r!==ma&&r.next===null&&(ma===null?pc=ma=r:ma=ma.next=r),mc=!0,Wd||(Wd=!0,Kk())}function Ko(r,s){if(!$d&&mc){$d=!0;do for(var o=!1,f=pc;f!==null;){if(r!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var x=f.suspendedLanes,E=f.pingedLanes;y=(1<<31-ge(42|r)+1)-1,y&=m&~(x&~E),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,kb(f,y))}else y=He,y=kt(f,f===tt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Nn(f,y)||(o=!0,kb(f,y));f=f.next}while(o);$d=!1}}function Yk(){Cb()}function Cb(){mc=Wd=!1;var r=0;cs!==0&&(tN()&&(r=cs),cs=0);for(var s=Ut(),o=null,f=pc;f!==null;){var m=f.next,y=Ab(f,s);y===0?(f.next=null,o===null?pc=m:o.next=m,m===null&&(ma=o)):(o=f,(r!==0||(y&3)!==0)&&(mc=!0)),f=m}Ko(r)}function Ab(r,s){for(var o=r.suspendedLanes,f=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var x=31-ge(y),E=1<<x,D=m[x];D===-1?((E&o)===0||(E&f)!==0)&&(m[x]=Kn(E,s)):D<=s&&(r.expiredLanes|=E),y&=~E}if(s=tt,o=He,o=kt(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,o===0||r===s&&(We===2||We===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&nn(f),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Nn(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(f!==null&&nn(f),ch(o)){case 2:case 8:o=Ti;break;case 32:o=Yn;break;case 268435456:o=_e;break;default:o=Yn}return f=Rb.bind(null,r),o=gn(o,f),r.callbackPriority=s,r.callbackNode=o,s}return f!==null&&f!==null&&nn(f),r.callbackPriority=2,r.callbackNode=null,2}function Rb(r,s){if(Bt!==0&&Bt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(dc()&&r.callbackNode!==o)return null;var f=He;return f=kt(r,r===tt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(cb(r,f,s),Ab(r,Ut()),r.callbackNode!=null&&r.callbackNode===o?Rb.bind(null,r):null)}function kb(r,s){if(dc())return null;cb(r,s,!0)}function Kk(){iN(function(){(Ke&6)!==0?gn(Ei,Yk):Cb()})}function Xd(){return cs===0&&(cs=bv()),cs}function Nb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Cu(""+r)}function Ib(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Wk(r,s,o,f,m){if(s==="submit"&&o&&o.stateNode===m){var y=Nb((m[rn]||null).action),x=f.submitter;x&&(s=(s=x[rn]||null)?Nb(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var E=new Nu("action","action",null,f,m);r.push({event:E,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(cs!==0){var D=x?Ib(m,x):new FormData(m);gd(o,{pending:!0,data:D,method:m.method,action:y},null,D)}}else typeof y=="function"&&(E.preventDefault(),D=x?Ib(m,x):new FormData(m),gd(o,{pending:!0,data:D,method:m.method,action:y},y,D))},currentTarget:m}]})}}for(var Qd=0;Qd<Ph.length;Qd++){var Zd=Ph[Qd],$k=Zd.toLowerCase(),Xk=Zd[0].toUpperCase()+Zd.slice(1);Wn($k,"on"+Xk)}Wn(c_,"onAnimationEnd"),Wn(f_,"onAnimationIteration"),Wn(h_,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(dk,"onTransitionRun"),Wn(pk,"onTransitionStart"),Wn(mk,"onTransitionCancel"),Wn(d_,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Db(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var f=r[o],m=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var x=f.length-1;0<=x;x--){var E=f[x],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==y&&m.isPropagationStopped())break e;y=E,m.currentTarget=B;try{y(m)}catch(X){nc(X)}m.currentTarget=null,y=D}else for(x=0;x<f.length;x++){if(E=f[x],D=E.instance,B=E.currentTarget,E=E.listener,D!==y&&m.isPropagationStopped())break e;y=E,m.currentTarget=B;try{y(m)}catch(X){nc(X)}m.currentTarget=null,y=D}}}}function ze(r,s){var o=s[fh];o===void 0&&(o=s[fh]=new Set);var f=r+"__bubble";o.has(f)||(Ob(s,r,2,!1),o.add(f))}function Jd(r,s,o){var f=0;s&&(f|=4),Ob(o,r,f,s)}var gc="_reactListening"+Math.random().toString(36).slice(2);function ep(r){if(!r[gc]){r[gc]=!0,Cv.forEach(function(o){o!=="selectionchange"&&(Qk.has(o)||Jd(o,!1,r),Jd(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[gc]||(s[gc]=!0,Jd("selectionchange",!1,s))}}function Ob(r,s,o,f){switch(ix(s)){case 2:var m=EN;break;case 8:m=TN;break;default:m=pp}o=m.bind(null,s,o,r),m=void 0,!Sh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function tp(r,s,o,f,m){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var E=f.stateNode.containerInfo;if(E===m)break;if(x===4)for(x=f.return;x!==null;){var D=x.tag;if((D===3||D===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;E!==null;){if(x=Ls(E),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){f=y=x;continue e}E=E.parentNode}}f=f.return}Bv(function(){var B=y,X=bh(o),re=[];e:{var F=p_.get(r);if(F!==void 0){var Y=Nu,we=r;switch(r){case"keypress":if(Ru(o)===0)break e;case"keydown":case"keyup":Y=GR;break;case"focusin":we="focus",Y=Ch;break;case"focusout":we="blur",Y=Ch;break;case"beforeblur":case"afterblur":Y=Ch;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=OR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=WR;break;case c_:case f_:case h_:Y=LR;break;case d_:Y=XR;break;case"scroll":case"scrollend":Y=IR;break;case"wheel":Y=ZR;break;case"copy":case"cut":case"paste":Y=UR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Gv;break;case"toggle":case"beforetoggle":Y=ek}var be=(s&4)!==0,Qe=!be&&(r==="scroll"||r==="scrollend"),U=be?F!==null?F+"Capture":null:F;be=[];for(var P=B,z;P!==null;){var ee=P;if(z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||z===null||U===null||(ee=ho(P,U),ee!=null&&be.push($o(P,ee,z))),Qe)break;P=P.return}0<be.length&&(F=new Y(F,we,null,o,X),re.push({event:F,listeners:be}))}}if((s&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",F&&o!==_h&&(we=o.relatedTarget||o.fromElement)&&(Ls(we)||we[Ps]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(we=o.relatedTarget||o.toElement,Y=B,we=we?Ls(we):null,we!==null&&(Qe=l(we),be=we.tag,we!==Qe||be!==5&&be!==27&&be!==6)&&(we=null)):(Y=null,we=B),Y!==we)){if(be=Fv,ee="onMouseLeave",U="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(be=Gv,ee="onPointerLeave",U="onPointerEnter",P="pointer"),Qe=Y==null?F:fo(Y),z=we==null?F:fo(we),F=new be(ee,P+"leave",Y,o,X),F.target=Qe,F.relatedTarget=z,ee=null,Ls(X)===B&&(be=new be(U,P+"enter",we,o,X),be.target=z,be.relatedTarget=Qe,ee=be),Qe=ee,Y&&we)t:{for(be=Y,U=we,P=0,z=be;z;z=ga(z))P++;for(z=0,ee=U;ee;ee=ga(ee))z++;for(;0<P-z;)be=ga(be),P--;for(;0<z-P;)U=ga(U),z--;for(;P--;){if(be===U||U!==null&&be===U.alternate)break t;be=ga(be),U=ga(U)}be=null}else be=null;Y!==null&&Mb(re,F,Y,be,!1),we!==null&&Qe!==null&&Mb(re,Qe,we,be,!0)}}e:{if(F=B?fo(B):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var me=Jv;else if(Qv(F))if(e_)me=ck;else{me=lk;var Me=ok}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&vh(B.elementType)&&(me=Jv):me=uk;if(me&&(me=me(r,B))){Zv(re,me,o,X);break e}Me&&Me(r,F,B),r==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&yh(F,"number",F.value)}switch(Me=B?fo(B):window,r){case"focusin":(Qv(Me)||Me.contentEditable==="true")&&(Ys=Me,Dh=B,xo=null);break;case"focusout":xo=Dh=Ys=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,l_(re,o,X);break;case"selectionchange":if(hk)break;case"keydown":case"keyup":l_(re,o,X)}var ye;if(Rh)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Gs?$v(r,o)&&(xe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(Yv&&o.locale!=="ko"&&(Gs||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Gs&&(ye=Vv()):(nr=X,wh="value"in nr?nr.value:nr.textContent,Gs=!0)),Me=yc(B,xe),0<Me.length&&(xe=new qv(xe,r,null,o,X),re.push({event:xe,listeners:Me}),ye?xe.data=ye:(ye=Xv(o),ye!==null&&(xe.data=ye)))),(ye=nk?ik(r,o):rk(r,o))&&(xe=yc(B,"onBeforeInput"),0<xe.length&&(Me=new qv("onBeforeInput","beforeinput",null,o,X),re.push({event:Me,listeners:xe}),Me.data=ye)),Wk(re,r,B,o,X)}Db(re,s)})}function $o(r,s,o){return{instance:r,listener:s,currentTarget:o}}function yc(r,s){for(var o=s+"Capture",f=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ho(r,o),m!=null&&f.unshift($o(r,m,y)),m=ho(r,s),m!=null&&f.push($o(r,m,y))),r.tag===3)return f;r=r.return}return[]}function ga(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Mb(r,s,o,f,m){for(var y=s._reactName,x=[];o!==null&&o!==f;){var E=o,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===f)break;E!==5&&E!==26&&E!==27||B===null||(D=B,m?(B=ho(o,y),B!=null&&x.unshift($o(o,B,D))):m||(B=ho(o,y),B!=null&&x.push($o(o,B,D)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var Zk=/\r\n?/g,Jk=/\u0000|\uFFFD/g;function Pb(r){return(typeof r=="string"?r:""+r).replace(Zk,`
`).replace(Jk,"")}function Lb(r,s){return s=Pb(s),Pb(r)===s}function vc(){}function Xe(r,s,o,f,m,y){switch(o){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Hs(r,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Hs(r,""+f);break;case"className":wu(r,"class",f);break;case"tabIndex":wu(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":wu(r,o,f);break;case"style":Uv(r,f,y);break;case"data":if(s!=="object"){wu(r,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Cu(""+f),r.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Xe(r,s,"name",m.name,m,null),Xe(r,s,"formEncType",m.formEncType,m,null),Xe(r,s,"formMethod",m.formMethod,m,null),Xe(r,s,"formTarget",m.formTarget,m,null)):(Xe(r,s,"encType",m.encType,m,null),Xe(r,s,"method",m.method,m,null),Xe(r,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Cu(""+f),r.setAttribute(o,f);break;case"onClick":f!=null&&(r.onclick=vc);break;case"onScroll":f!=null&&ze("scroll",r);break;case"onScrollEnd":f!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}o=Cu(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""+f):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":f===!0?r.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,f):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(o,f):r.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(o):r.setAttribute(o,f);break;case"popover":ze("beforetoggle",r),ze("toggle",r),Su(r,"popover",f);break;case"xlinkActuate":Ci(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ci(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ci(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ci(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ci(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ci(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ci(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ci(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ci(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Su(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kR.get(o)||o,Su(r,o,f))}}function np(r,s,o,f,m,y){switch(o){case"style":Uv(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof f=="string"?Hs(r,f):(typeof f=="number"||typeof f=="bigint")&&Hs(r,""+f);break;case"onScroll":f!=null&&ze("scroll",r);break;case"onScrollEnd":f!=null&&ze("scrollend",r);break;case"onClick":f!=null&&(r.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Av.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=r[rn]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,f,m);break e}o in r?r[o]=f:f===!0?r.setAttribute(o,""):Su(r,o,f)}}}function Vt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var f=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var x=o[y];if(x!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,y,x,o,null)}}m&&Xe(r,s,"srcSet",o.srcSet,o,null),f&&Xe(r,s,"src",o.src,o,null);return;case"input":ze("invalid",r);var E=y=x=m=null,D=null,B=null;for(f in o)if(o.hasOwnProperty(f)){var X=o[f];if(X!=null)switch(f){case"name":m=X;break;case"type":x=X;break;case"checked":D=X;break;case"defaultChecked":B=X;break;case"value":y=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Xe(r,s,f,X,o,null)}}Mv(r,y,E,D,B,x,m,!1),Eu(r);return;case"select":ze("invalid",r),f=x=y=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":y=E;break;case"defaultValue":x=E;break;case"multiple":f=E;default:Xe(r,s,m,E,o,null)}s=y,o=x,r.multiple=!!f,s!=null?Vs(r,!!f,s,!1):o!=null&&Vs(r,!!f,o,!0);return;case"textarea":ze("invalid",r),y=m=f=null;for(x in o)if(o.hasOwnProperty(x)&&(E=o[x],E!=null))switch(x){case"value":f=E;break;case"defaultValue":m=E;break;case"children":y=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Xe(r,s,x,E,o,null)}Lv(r,f,m,y),Eu(r);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(f=o[D],f!=null))switch(D){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Xe(r,s,D,f,o,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(f=0;f<Wo.length;f++)ze(Wo[f],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(f=o[B],f!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,B,f,o,null)}return;default:if(vh(s)){for(X in o)o.hasOwnProperty(X)&&(f=o[X],f!==void 0&&np(r,s,X,f,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(f=o[E],f!=null&&Xe(r,s,E,f,o,null))}function eN(r,s,o,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,E=null,D=null,B=null,X=null;for(Y in o){var re=o[Y];if(o.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=re;default:f.hasOwnProperty(Y)||Xe(r,s,Y,null,f,re)}}for(var F in f){var Y=f[F];if(re=o[F],f.hasOwnProperty(F)&&(Y!=null||re!=null))switch(F){case"type":y=Y;break;case"name":m=Y;break;case"checked":B=Y;break;case"defaultChecked":X=Y;break;case"value":x=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==re&&Xe(r,s,F,Y,f,re)}}gh(r,x,E,D,B,X,y,m);return;case"select":Y=x=E=F=null;for(y in o)if(D=o[y],o.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":Y=D;default:f.hasOwnProperty(y)||Xe(r,s,y,null,f,D)}for(m in f)if(y=f[m],D=o[m],f.hasOwnProperty(m)&&(y!=null||D!=null))switch(m){case"value":F=y;break;case"defaultValue":E=y;break;case"multiple":x=y;default:y!==D&&Xe(r,s,m,y,f,D)}s=E,o=x,f=Y,F!=null?Vs(r,!!o,F,!1):!!f!=!!o&&(s!=null?Vs(r,!!o,s,!0):Vs(r,!!o,o?[]:"",!1));return;case"textarea":Y=F=null;for(E in o)if(m=o[E],o.hasOwnProperty(E)&&m!=null&&!f.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(r,s,E,null,f,m)}for(x in f)if(m=f[x],y=o[x],f.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":F=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Xe(r,s,x,m,f,y)}Pv(r,F,Y);return;case"option":for(var we in o)if(F=o[we],o.hasOwnProperty(we)&&F!=null&&!f.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:Xe(r,s,we,null,f,F)}for(D in f)if(F=f[D],Y=o[D],f.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null))switch(D){case"selected":r.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xe(r,s,D,F,f,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)F=o[be],o.hasOwnProperty(be)&&F!=null&&!f.hasOwnProperty(be)&&Xe(r,s,be,null,f,F);for(B in f)if(F=f[B],Y=o[B],f.hasOwnProperty(B)&&F!==Y&&(F!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,s));break;default:Xe(r,s,B,F,f,Y)}return;default:if(vh(s)){for(var Qe in o)F=o[Qe],o.hasOwnProperty(Qe)&&F!==void 0&&!f.hasOwnProperty(Qe)&&np(r,s,Qe,void 0,f,F);for(X in f)F=f[X],Y=o[X],!f.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||np(r,s,X,F,f,Y);return}}for(var U in o)F=o[U],o.hasOwnProperty(U)&&F!=null&&!f.hasOwnProperty(U)&&Xe(r,s,U,null,f,F);for(re in f)F=f[re],Y=o[re],!f.hasOwnProperty(re)||F===Y||F==null&&Y==null||Xe(r,s,re,F,f,Y)}var ip=null,rp=null;function _c(r){return r.nodeType===9?r:r.ownerDocument}function jb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ub(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function sp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ap=null;function tN(){var r=window.event;return r&&r.type==="popstate"?r===ap?!1:(ap=r,!0):(ap=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,iN=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(r){return Bb.resolve(null).then(r).catch(rN)}:zb;function rN(r){setTimeout(function(){throw r})}function vr(r){return r==="head"}function Vb(r,s){var o=s,f=0,m=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<f&&8>f){o=f;var x=r.ownerDocument;if(o&1&&Xo(x.documentElement),o&2&&Xo(x.body),o&4)for(o=x.head,Xo(o),x=o.firstChild;x;){var E=x.nextSibling,D=x.nodeName;x[co]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=E}}if(m===0){r.removeChild(y),rl(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:f=o.charCodeAt(0)-48;else f=0;o=y}while(o);rl(s)}function op(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":op(o),hh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function sN(r,s,o,f){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[co])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Xn(r.nextSibling),r===null)break}return null}function aN(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Xn(r.nextSibling),r===null))return null;return r}function lp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function oN(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var f=function(){s(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Xn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var up=null;function Hb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Fb(r,s,o){switch(s=_c(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Xo(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);hh(r)}var zn=new Map,qb=new Set;function bc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Bi=te.d;te.d={f:lN,r:uN,D:cN,C:fN,L:hN,m:dN,X:mN,S:pN,M:gN};function lN(){var r=Bi.f(),s=fc();return r||s}function uN(r){var s=js(r);s!==null&&s.tag===5&&s.type==="form"?c0(s):Bi.r(r)}var ya=typeof document>"u"?null:document;function Gb(r,s,o){var f=ya;if(f&&typeof s=="string"&&s){var m=Dn(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),qb.has(m)||(qb.add(m),r={rel:r,crossOrigin:o,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),Vt(s,"link",r),Nt(s),f.head.appendChild(s)))}}function cN(r){Bi.D(r),Gb("dns-prefetch",r,null)}function fN(r,s){Bi.C(r,s),Gb("preconnect",r,s)}function hN(r,s,o){Bi.L(r,s,o);var f=ya;if(f&&r&&s){var m='link[rel="preload"][as="'+Dn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dn(o.imageSizes)+'"]')):m+='[href="'+Dn(r)+'"]';var y=m;switch(s){case"style":y=va(r);break;case"script":y=_a(r)}zn.has(y)||(r=p({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),zn.set(y,r),f.querySelector(m)!==null||s==="style"&&f.querySelector(Qo(y))||s==="script"&&f.querySelector(Zo(y))||(s=f.createElement("link"),Vt(s,"link",r),Nt(s),f.head.appendChild(s)))}}function dN(r,s){Bi.m(r,s);var o=ya;if(o&&r){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Dn(f)+'"][href="'+Dn(r)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=_a(r)}if(!zn.has(y)&&(r=p({rel:"modulepreload",href:r},s),zn.set(y,r),o.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zo(y)))return}f=o.createElement("link"),Vt(f,"link",r),Nt(f),o.head.appendChild(f)}}}function pN(r,s,o){Bi.S(r,s,o);var f=ya;if(f&&r){var m=Us(f).hoistableStyles,y=va(r);s=s||"default";var x=m.get(y);if(!x){var E={loading:0,preload:null};if(x=f.querySelector(Qo(y)))E.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":s},o),(o=zn.get(y))&&cp(r,o);var D=x=f.createElement("link");Nt(D),Vt(D,"link",r),D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(x,s,f)}x={type:"stylesheet",instance:x,count:1,state:E},m.set(y,x)}}}function mN(r,s){Bi.X(r,s);var o=ya;if(o&&r){var f=Us(o).hoistableScripts,m=_a(r),y=f.get(m);y||(y=o.querySelector(Zo(m)),y||(r=p({src:r,async:!0},s),(s=zn.get(m))&&fp(r,s),y=o.createElement("script"),Nt(y),Vt(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function gN(r,s){Bi.M(r,s);var o=ya;if(o&&r){var f=Us(o).hoistableScripts,m=_a(r),y=f.get(m);y||(y=o.querySelector(Zo(m)),y||(r=p({src:r,async:!0,type:"module"},s),(s=zn.get(m))&&fp(r,s),y=o.createElement("script"),Nt(y),Vt(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function Yb(r,s,o,f){var m=(m=Q.current)?bc(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=va(o.href),o=Us(m).hoistableStyles,f=o.get(s),f||(f={type:"style",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=va(o.href);var y=Us(m).hoistableStyles,x=y.get(r);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,x),(y=m.querySelector(Qo(r)))&&!y._p&&(x.instance=y,x.state.loading=5),zn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zn.set(r,o),y||yN(m,r,o,x.state))),s&&f===null)throw Error(i(528,""));return x}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_a(o),o=Us(m).hoistableScripts,f=o.get(s),f||(f={type:"script",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function va(r){return'href="'+Dn(r)+'"'}function Qo(r){return'link[rel="stylesheet"]['+r+"]"}function Kb(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function yN(r,s,o,f){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=r.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Vt(s,"link",o),Nt(s),r.head.appendChild(s))}function _a(r){return'[src="'+Dn(r)+'"]'}function Zo(r){return"script[async]"+r}function Wb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var f=r.querySelector('style[data-href~="'+Dn(o.href)+'"]');if(f)return s.instance=f,Nt(f),f;var m=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Nt(f),Vt(f,"style",m),xc(f,o.precedence,r),s.instance=f;case"stylesheet":m=va(o.href);var y=r.querySelector(Qo(m));if(y)return s.state.loading|=4,s.instance=y,Nt(y),y;f=Kb(o),(m=zn.get(m))&&cp(f,m),y=(r.ownerDocument||r).createElement("link"),Nt(y);var x=y;return x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Vt(y,"link",f),s.state.loading|=4,xc(y,o.precedence,r),s.instance=y;case"script":return y=_a(o.src),(m=r.querySelector(Zo(y)))?(s.instance=m,Nt(m),m):(f=o,(m=zn.get(y))&&(f=p({},o),fp(f,m)),r=r.ownerDocument||r,m=r.createElement("script"),Nt(m),Vt(m,"link",f),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,xc(f,o.precedence,r));return s.instance}function xc(r,s,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,x=0;x<f.length;x++){var E=f[x];if(E.dataset.precedence===s)y=E;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function cp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function fp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Sc=null;function $b(r,s,o){if(Sc===null){var f=new Map,m=Sc=new Map;m.set(o,f)}else m=Sc,f=m.get(o),f||(f=new Map,m.set(o,f));if(f.has(r))return f;for(f.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[co]||y[Yt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=r+x;var E=f.get(x);E?E.push(y):f.set(x,[y])}}return f}function Xb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function vN(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Jo=null;function _N(){}function bN(r,s,o){if(Jo===null)throw Error(i(475));var f=Jo;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=va(o.href),y=r.querySelector(Qo(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=wc.bind(f),r.then(f,f)),s.state.loading|=4,s.instance=y,Nt(y);return}y=r.ownerDocument||r,o=Kb(o),(m=zn.get(m))&&cp(o,m),y=y.createElement("link"),Nt(y);var x=y;x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Vt(y,"link",o),s.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=wc.bind(f),r.addEventListener("load",s),r.addEventListener("error",s))}}function xN(){if(Jo===null)throw Error(i(475));var r=Jo;return r.stylesheets&&r.count===0&&hp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&hp(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ec=null;function hp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ec=new Map,s.forEach(SN,r),Ec=null,wc.call(r))}function SN(r,s){if(!(s.state.loading&4)){var o=Ec.get(r);if(o)var f=o.get(null);else{o=new Map,Ec.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),f=x)}f&&o.set(null,f)}m=s.instance,x=m.getAttribute("data-precedence"),y=o.get(x)||f,y===f&&o.set(null,m),o.set(x,m),this.count++,f=wc.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var el={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function wN(r,s,o,f,m,y,x,E){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.hiddenUpdates=lh(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zb(r,s,o,f,m,y,x,E,D,B,X,re){return r=new wN(r,s,o,x,E,D,B,re),s=1,y===!0&&(s|=24),y=_n(3,null,null,s),r.current=y,y.stateNode=r,s=Kh(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:o,cache:s},Qh(y),r}function Jb(r){return r?(r=Xs,r):Xs}function ex(r,s,o,f,m,y){m=Jb(m),f.context===null?f.context=m:f.pendingContext=m,f=sr(s),f.payload={element:o},y=y===void 0?null:y,y!==null&&(f.callback=y),o=ar(r,f,s),o!==null&&(En(o,r,s),No(o,r,s))}function tx(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function dp(r,s){tx(r,s),(r=r.alternate)&&tx(r,s)}function nx(r){if(r.tag===13){var s=$s(r,67108864);s!==null&&En(s,r,67108864),dp(r,67108864)}}var Tc=!0;function EN(r,s,o,f){var m=j.T;j.T=null;var y=te.p;try{te.p=2,pp(r,s,o,f)}finally{te.p=y,j.T=m}}function TN(r,s,o,f){var m=j.T;j.T=null;var y=te.p;try{te.p=8,pp(r,s,o,f)}finally{te.p=y,j.T=m}}function pp(r,s,o,f){if(Tc){var m=mp(f);if(m===null)tp(r,s,f,Cc,o),rx(r,f);else if(AN(m,r,s,o,f))f.stopPropagation();else if(rx(r,f),s&4&&-1<CN.indexOf(r)){for(;m!==null;){var y=js(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=yn(y.pendingLanes);if(x!==0){var E=y;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var D=1<<31-ge(x);E.entanglements[1]|=D,x&=~D}hi(y),(Ke&6)===0&&(uc=Ut()+500,Ko(0))}}break;case 13:E=$s(y,2),E!==null&&En(E,y,2),fc(),dp(y,2)}if(y=mp(f),y===null&&tp(r,s,f,Cc,o),y===m)break;m=y}m!==null&&f.stopPropagation()}else tp(r,s,f,null,o)}}function mp(r){return r=bh(r),gp(r)}var Cc=null;function gp(r){if(Cc=null,r=Ls(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Cc=r,null}function ix(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case Ei:return 2;case Ti:return 8;case Yn:case se:return 32;case _e:return 268435456;default:return 32}default:return 32}}var yp=!1,_r=null,br=null,xr=null,tl=new Map,nl=new Map,Sr=[],CN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rx(r,s){switch(r){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":tl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(s.pointerId)}}function il(r,s,o,f,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},s!==null&&(s=js(s),s!==null&&nx(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function AN(r,s,o,f,m){switch(s){case"focusin":return _r=il(_r,r,s,o,f,m),!0;case"dragenter":return br=il(br,r,s,o,f,m),!0;case"mouseover":return xr=il(xr,r,s,o,f,m),!0;case"pointerover":var y=m.pointerId;return tl.set(y,il(tl.get(y)||null,r,s,o,f,m)),!0;case"gotpointercapture":return y=m.pointerId,nl.set(y,il(nl.get(y)||null,r,s,o,f,m)),!0}return!1}function sx(r){var s=Ls(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,bR(r.priority,function(){if(o.tag===13){var f=wn();f=uh(f);var m=$s(o,f);m!==null&&En(m,o,f),dp(o,f)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ac(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=mp(r.nativeEvent);if(o===null){o=r.nativeEvent;var f=new o.constructor(o.type,o);_h=f,o.target.dispatchEvent(f),_h=null}else return s=js(o),s!==null&&nx(s),r.blockedOn=o,!1;s.shift()}return!0}function ax(r,s,o){Ac(r)&&o.delete(s)}function RN(){yp=!1,_r!==null&&Ac(_r)&&(_r=null),br!==null&&Ac(br)&&(br=null),xr!==null&&Ac(xr)&&(xr=null),tl.forEach(ax),nl.forEach(ax)}function Rc(r,s){r.blockedOn===s&&(r.blockedOn=null,yp||(yp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RN)))}var kc=null;function ox(r){kc!==r&&(kc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kc===r&&(kc=null);for(var s=0;s<r.length;s+=3){var o=r[s],f=r[s+1],m=r[s+2];if(typeof f!="function"){if(gp(f||o)===null)continue;break}var y=js(o);y!==null&&(r.splice(s,3),s-=3,gd(y,{pending:!0,data:m,method:o.method,action:f},f,m))}}))}function rl(r){function s(D){return Rc(D,r)}_r!==null&&Rc(_r,r),br!==null&&Rc(br,r),xr!==null&&Rc(xr,r),tl.forEach(s),nl.forEach(s);for(var o=0;o<Sr.length;o++){var f=Sr[o];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)sx(o),o.blockedOn===null&&Sr.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var m=o[f],y=o[f+1],x=m[rn]||null;if(typeof y=="function")x||ox(o);else if(x){var E=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[rn]||null)E=x.formAction;else if(gp(m)!==null)continue}else E=x.action;typeof E=="function"?o[f+1]=E:(o.splice(f,3),f-=3),ox(o)}}}function vp(r){this._internalRoot=r}Nc.prototype.render=vp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,f=wn();ex(o,f,r,s,null,null)},Nc.prototype.unmount=vp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ex(r.current,2,null,r,null,null),fc(),s[Ps]=null}};function Nc(r){this._internalRoot=r}Nc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ev();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Sr.length&&s!==0&&s<Sr[o].priority;o++);Sr.splice(o,0,r),o===0&&sx(r)}};var lx=e.version;if(lx!=="19.1.1")throw Error(i(527,lx,"19.1.1"));te.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var kN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{q=Ic.inject(kN),ne=Ic}catch{}}return al.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,f="",m=E0,y=T0,x=C0,E=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=Zb(r,1,!1,null,null,o,f,m,y,x,E,null),r[Ps]=s.current,ep(r),new vp(s)},al.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var f=!1,m="",y=E0,x=T0,E=C0,D=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),s=Zb(r,1,!0,s,o??null,f,m,y,x,E,D,B),s.context=Jb(null),o=s.current,f=wn(),f=uh(f),m=sr(f),m.callback=null,ar(o,m,f),o=f,s.current.lanes=o,uo(s,o),hi(s),r[Ps]=s.current,ep(r),new Nc(s)},al.version="19.1.1",al}var vx;function BN(){if(vx)return xp.exports;vx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xp.exports=zN(),xp.exports}var VN=BN();const HN=tu(VN);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _x="popstate";function FN(t={}){function e(i,a){let{pathname:l,search:u,hash:c}=i.location;return ym("",{pathname:l,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Ll(a)}return GN(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qN(){return Math.random().toString(36).substring(2,10)}function bx(t,e){return{usr:t.state,key:t.key,idx:e}}function ym(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:n,key:e&&e.key||i||qN()}}function Ll({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function GN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,c="POP",d=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function g(){c="POP";let R=p(),T=R==null?null:R-h;h=R,d&&d({action:c,location:w.location,delta:T})}function v(R,T){c="PUSH";let k=ym(w.location,R,T);h=p()+1;let N=bx(k,h),K=w.createHref(k);try{u.pushState(N,"",K)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(K)}l&&d&&d({action:c,location:w.location,delta:1})}function _(R,T){c="REPLACE";let k=ym(w.location,R,T);h=p();let N=bx(k,h),K=w.createHref(k);u.replaceState(N,"",K),l&&d&&d({action:c,location:w.location,delta:0})}function S(R){return YN(R)}let w={get action(){return c},get location(){return t(a,u)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(_x,g),d=R,()=>{a.removeEventListener(_x,g),d=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let T=S(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(R){return u.go(R)}};return w}function YN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ll(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Mw(t,e,n="/"){return KN(t,e,n,!1)}function KN(t,e,n,i){let a=typeof e=="string"?Ka(e):e,l=Wi(a.pathname||"/",n);if(l==null)return null;let u=Pw(t);WN(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let h=sI(l);c=iI(u[d],h,i)}return c}function Pw(t,e=[],n=[],i=""){let a=(l,u,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let h=Gi([i,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Pw(l.children,e,p,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:tI(h,l.index),routesMeta:p})};return t.forEach((l,u)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,u);else for(let d of Lw(l.path))a(l,u,d)}),e}function Lw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=Lw(i.join("/")),c=[];return c.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&c.push(...u),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function WN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var $N=/^:[\w-]+$/,XN=3,QN=2,ZN=1,JN=10,eI=-2,xx=t=>t==="*";function tI(t,e){let n=t.split("/"),i=n.length;return n.some(xx)&&(i+=eI),e&&(i+=QN),n.filter(a=>!xx(a)).reduce((a,l)=>a+($N.test(l)?XN:l===""?ZN:JN),i)}function nI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function iI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,p=l==="/"?e:e.slice(l.length)||"/",g=rf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=rf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),u.push({params:a,pathname:Gi([l,g.pathname]),pathnameBase:uI(Gi([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=Gi([l,g.pathnameBase]))}return u}function rf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=c[v]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const _=c[v];return g&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:u,pattern:t}}function rI(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function sI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function aI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Ka(t):t;return{pathname:n?n.startsWith("/")?n:oI(n,e):e,search:cI(i),hash:fI(a)}}function oI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xg(t){let e=lI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Sg(t,e,n,i=!1){let a;typeof t=="string"?a=Ka(t):(a={...t},ct(!a.pathname||!a.pathname.includes("?"),Tp("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Tp("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Tp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,c;if(u==null)c=n;else{let g=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}c=g>=0?e[g]:"/"}let d=aI(a,c),h=u&&u!=="/"&&u.endsWith("/"),p=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Gi=t=>t.join("/").replace(/\/\/+/g,"/"),uI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jw=["POST","PUT","PATCH","DELETE"];new Set(jw);var dI=["GET",...jw];new Set(dI);var Wa=O.createContext(null);Wa.displayName="DataRouter";var Lf=O.createContext(null);Lf.displayName="DataRouterState";O.createContext(!1);var Uw=O.createContext({isTransitioning:!1});Uw.displayName="ViewTransition";var pI=O.createContext(new Map);pI.displayName="Fetchers";var mI=O.createContext(null);mI.displayName="Await";var ai=O.createContext(null);ai.displayName="Navigation";var nu=O.createContext(null);nu.displayName="Location";var bi=O.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var wg=O.createContext(null);wg.displayName="RouteError";function gI(t,{relative:e}={}){ct($a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(ai),{hash:a,pathname:l,search:u}=iu(t,{relative:e}),c=l;return n!=="/"&&(c=l==="/"?n:Gi([n,l])),i.createHref({pathname:c,search:u,hash:a})}function $a(){return O.useContext(nu)!=null}function xi(){return ct($a(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(nu).location}var zw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bw(t){O.useContext(ai).static||O.useLayoutEffect(t)}function Is(){let{isDataRoute:t}=O.useContext(bi);return t?kI():yI()}function yI(){ct($a(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Wa),{basename:e,navigator:n}=O.useContext(ai),{matches:i}=O.useContext(bi),{pathname:a}=xi(),l=JSON.stringify(xg(i)),u=O.useRef(!1);return Bw(()=>{u.current=!0}),O.useCallback((d,h={})=>{if(ri(u.current,zw),!u.current)return;if(typeof d=="number"){n.go(d);return}let p=Sg(d,JSON.parse(l),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,l,a,t])}O.createContext(null);function iu(t,{relative:e}={}){let{matches:n}=O.useContext(bi),{pathname:i}=xi(),a=JSON.stringify(xg(n));return O.useMemo(()=>Sg(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function vI(t,e){return Vw(t,e)}function Vw(t,e,n,i){var T;ct($a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(ai),{matches:l}=O.useContext(bi),u=l[l.length-1],c=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let k=p&&p.path||"";Hw(d,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=xi(),v;if(e){let k=typeof e=="string"?Ka(e):e;ct(h==="/"||((T=k.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=g;let _=v.pathname||"/",S=_;if(h!=="/"){let k=h.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Mw(t,{pathname:S});ri(p||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ri(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=wI(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Gi([h,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Gi([h,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,i);return e&&R?O.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function _I(){let t=RI(),e=hI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var bI=O.createElement(_I,null),xI=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(bi.Provider,{value:this.props.routeContext},O.createElement(wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SI({routeContext:t,match:e,children:n}){let i=O.useContext(Wa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(bi.Provider,{value:t},n)}function wI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=n,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let g,v=!1,_=null,S=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||bI,u&&(c<0&&p===0?(Hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):c===p&&(v=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),R=()=>{let T;return g?T=_:v?T=S:h.route.Component?T=O.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,O.createElement(SI,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?O.createElement(xI,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):R()},null)}function Eg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EI(t){let e=O.useContext(Wa);return ct(e,Eg(t)),e}function TI(t){let e=O.useContext(Lf);return ct(e,Eg(t)),e}function CI(t){let e=O.useContext(bi);return ct(e,Eg(t)),e}function Tg(t){let e=CI(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AI(){return Tg("useRouteId")}function RI(){var i;let t=O.useContext(wg),e=TI("useRouteError"),n=Tg("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function kI(){let{router:t}=EI("useNavigate"),e=Tg("useNavigate"),n=O.useRef(!1);return Bw(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{ri(n.current,zw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Sx={};function Hw(t,e,n){!e&&!Sx[t]&&(Sx[t]=!0,ri(!1,n))}O.memo(NI);function NI({routes:t,future:e,state:n}){return Vw(t,void 0,n,e)}function Cp({to:t,replace:e,state:n,relative:i}){ct($a(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(ai);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(bi),{pathname:u}=xi(),c=Is(),d=Sg(t,xg(l),u,i==="path"),h=JSON.stringify(d);return O.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:i})},[c,h,i,e,n]),null}function Qn(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function II({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ct(!$a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Ka(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,_=O.useMemo(()=>{let S=Wi(d,u);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:v},navigationType:i}},[u,d,h,p,g,v,i]);return ri(_!=null,`<Router basename="${u}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:O.createElement(ai.Provider,{value:c},O.createElement(nu.Provider,{children:e,value:_}))}function DI({children:t,location:e}){return vI(vm(t),e)}function vm(t,e=[]){let n=[];return O.Children.forEach(t,(i,a)=>{if(!O.isValidElement(i))return;let l=[...e,a];if(i.type===O.Fragment){n.push.apply(n,vm(i.props.children,l));return}ct(i.type===Qn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=vm(i.props.children,l)),n.push(u)}),n}var qc="get",Gc="application/x-www-form-urlencoded";function jf(t){return t!=null&&typeof t.tagName=="string"}function OI(t){return jf(t)&&t.tagName.toLowerCase()==="button"}function MI(t){return jf(t)&&t.tagName.toLowerCase()==="form"}function PI(t){return jf(t)&&t.tagName.toLowerCase()==="input"}function LI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jI(t,e){return t.button===0&&(!e||e==="_self")&&!LI(t)}var Dc=null;function UI(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var zI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(t){return t!=null&&!zI.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):t}function BI(t,e){let n,i,a,l,u;if(MI(t)){let c=t.getAttribute("action");i=c?Wi(c,e):null,n=t.getAttribute("method")||qc,a=Ap(t.getAttribute("enctype"))||Gc,l=new FormData(t)}else if(OI(t)||PI(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(i=d?Wi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||qc,a=Ap(t.getAttribute("formenctype"))||Ap(c.getAttribute("enctype"))||Gc,l=new FormData(c,t),!UI()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else h&&l.append(h,g)}}else{if(jf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,i=null,a=Gc,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VI(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Wi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function HI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await HI(l,n);return u.links?u.links():[]}return[]}));return WI(i.flat(1).filter(FI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wx(t,e,n,i,a,l){let u=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,h)=>u(d,h)||c(d,h)):l==="data"?e.filter((d,h)=>{var g;let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(u(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function GI(t,e,{includeHydrateFallback:n}={}){return YI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function YI(t){return[...new Set(t)]}function KI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function WI(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(KI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function Fw(){let t=O.useContext(Wa);return Cg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $I(){let t=O.useContext(Lf);return Cg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ag=O.createContext(void 0);Ag.displayName="FrameworkContext";function qw(){let t=O.useContext(Ag);return Cg(t,"You must render this element inside a <HydratedRouter> element"),t}function XI(t,e){let n=O.useContext(Ag),[i,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let w=T=>{T.forEach(k=>{u(k.isIntersecting)})},R=new IntersectionObserver(w,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),O.useEffect(()=>{if(i){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[i]);let _=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:ol(c,_),onBlur:ol(d,S),onMouseEnter:ol(h,_),onMouseLeave:ol(p,S),onTouchStart:ol(g,_)}]:[!1,v,{}]}function ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QI({page:t,...e}){let{router:n}=Fw(),i=O.useMemo(()=>Mw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(JI,{page:t,matches:i,...e}):null}function ZI(t){let{manifest:e,routeModules:n}=qw(),[i,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return qI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function JI({page:t,matches:e,...n}){let i=xi(),{manifest:a,routeModules:l}=qw(),{basename:u}=Fw(),{loaderData:c,matches:d}=$I(),h=O.useMemo(()=>wx(t,e,d,a,i,"data"),[t,e,d,a,i]),p=O.useMemo(()=>wx(t,e,d,a,i,"assets"),[t,e,d,a,i]),g=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,w=!1;if(e.forEach(T=>{var N;let k=a.routes[T.route.id];!k||!k.hasLoader||(!h.some(K=>K.route.id===T.route.id)&&T.route.id in c&&((N=l[T.route.id])!=null&&N.shouldRevalidate)||k.hasClientLoader?w=!0:S.add(T.route.id))}),S.size===0)return[];let R=VI(t,u,"data");return w&&S.size>0&&R.searchParams.set("_routes",e.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[u,c,i,a,h,e,t,l]),v=O.useMemo(()=>GI(p,a),[p,a]),_=ZI(p);return O.createElement(O.Fragment,null,g.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),_.map(({key:S,link:w})=>O.createElement("link",{key:S,...w})))}function eD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gw&&(window.__reactRouterVersion="7.7.1")}catch{}function tD({basename:t,children:e,window:n}){let i=O.useRef();i.current==null&&(i.current=FN({window:n,v5Compat:!0}));let a=i.current,[l,u]=O.useState({action:a.action,location:a.location}),c=O.useCallback(d=>{O.startTransition(()=>u(d))},[u]);return O.useLayoutEffect(()=>a.listen(c),[a,c]),O.createElement(II,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ru=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:c,target:d,to:h,preventScrollReset:p,viewTransition:g,...v},_){let{basename:S}=O.useContext(ai),w=typeof h=="string"&&Yw.test(h),R,T=!1;if(typeof h=="string"&&w&&(R=h,Gw))try{let Z=new URL(window.location.href),ie=h.startsWith("//")?new URL(Z.protocol+h):new URL(h),W=Wi(ie.pathname,S);ie.origin===Z.origin&&W!=null?h=W+ie.search+ie.hash:T=!0}catch{ri(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=gI(h,{relative:a}),[N,K,M]=XI(i,v),I=sD(h,{replace:u,state:c,target:d,preventScrollReset:p,relative:a,viewTransition:g});function H(Z){e&&e(Z),Z.defaultPrevented||I(Z)}let G=O.createElement("a",{...v,...M,href:R||k,onClick:T||l?e:H,ref:eD(_,K),target:d,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?O.createElement(O.Fragment,null,G,O.createElement(QI,{page:k})):G});ru.displayName="Link";var nD=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:c,children:d,...h},p){let g=iu(u,{relative:h.relative}),v=xi(),_=O.useContext(Lf),{navigator:S,basename:w}=O.useContext(ai),R=_!=null&&cD(g)&&c===!0,T=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,k=v.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(k=k.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&w&&(N=Wi(N,w)||N);const K=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=k===T||!a&&k.startsWith(T)&&k.charAt(K)==="/",I=N!=null&&(N===T||!a&&N.startsWith(T)&&N.charAt(T.length)==="/"),H={isActive:M,isPending:I,isTransitioning:R},G=M?e:void 0,Z;typeof i=="function"?Z=i(H):Z=[i,M?"active":null,I?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(H):l;return O.createElement(ru,{...h,"aria-current":G,className:Z,ref:p,style:ie,to:u,viewTransition:c},typeof d=="function"?d(H):d)});nD.displayName="NavLink";var iD=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=qc,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...v},_)=>{let S=lD(),w=uD(c,{relative:h}),R=u.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&Yw.test(c),k=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let K=N.nativeEvent.submitter,M=(K==null?void 0:K.getAttribute("formmethod"))||u;S(K||N.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:l,relative:h,preventScrollReset:p,viewTransition:g})};return O.createElement("form",{ref:_,method:R,action:w,onSubmit:i?d:k,...v,"data-discover":!T&&t==="render"?"true":void 0})});iD.displayName="Form";function rD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(t){let e=O.useContext(Wa);return ct(e,rD(t)),e}function sD(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let c=Is(),d=xi(),h=iu(t,{relative:l});return O.useCallback(p=>{if(jI(p,e)){p.preventDefault();let g=n!==void 0?n:Ll(d)===Ll(h);c(t,{replace:g,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[d,c,h,n,i,e,t,a,l,u])}var aD=0,oD=()=>`__${String(++aD)}__`;function lD(){let{router:t}=Kw("useSubmit"),{basename:e}=O.useContext(ai),n=AI();return O.useCallback(async(i,a={})=>{let{action:l,method:u,encType:c,formData:d,body:h}=BI(i,e);if(a.navigate===!1){let p=a.fetcherKey||oD();await t.fetch(p,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function uD(t,{relative:e}={}){let{basename:n}=O.useContext(ai),i=O.useContext(bi);ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...iu(t||".",{relative:e})},u=xi();if(t==null){l.search=u.search;let c=new URLSearchParams(l.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Gi([n,l.pathname])),Ll(l)}function cD(t,{relative:e}={}){let n=O.useContext(Uw);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Kw("useViewTransitionState"),a=iu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Wi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Wi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rf(a.pathname,u)!=null||rf(a.pathname,l)!=null}const fD=()=>{};var Ex={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw Xa(e)},Xa=function(t){return new Error("Firebase Database ("+Ww.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},hD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],c=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Rg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,c=u?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,p=l>>2,g=(l&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;d||(_=64,u||(v=64)),i.push(n[p],n[g],n[v],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($w(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||c==null||h==null||g==null)throw new dD;const v=l<<2|c>>4;if(i.push(v),h!==64){const _=c<<4&240|h>>2;if(i.push(_),g!==64){const S=h<<6&192|g;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xw=function(t){const e=$w(t);return Rg.encodeByteArray(e,!0)},sf=function(t){return Xw(t).replace(/\./g,"")},af=function(t){try{return Rg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){return Qw(void 0,t)}function Qw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mD(n)||(t[n]=Qw(t[n],e[n]));return t}function mD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=()=>gD().__FIREBASE_DEFAULTS__,vD=()=>{if(typeof process>"u"||typeof Ex>"u")return;const t=Ex.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_D=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&af(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return fD()||yD()||vD()||_D()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zw=t=>{var e,n;return(n=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bD=t=>{const e=Zw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Jw=()=>{var t;return(t=kg())===null||t===void 0?void 0:t.config},eE=t=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sf(JSON.stringify(n)),sf(JSON.stringify(u)),""].join(".")}const xl={};function SD(){const t={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?t.emulator.push(e):t.prod.push(e);return t}function wD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Tx=!1;function nE(t,e){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||xl[t]===e||xl[t]||Tx)return;xl[t]=e;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",l=SD().prod.length>0;function u(){const v=document.getElementById(i);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Tx=!0,u()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=wD(i),_=n("text"),S=document.getElementById(_)||document.createElement("span"),w=n("learnmore"),R=document.getElementById(w)||document.createElement("a"),T=n("preprendIcon"),k=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),p(R,w);const K=h();d(k,T),N.append(k,S,R,K),document.body.appendChild(N)}l?(S.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ng(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function ED(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CD(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AD(){return Ww.NODE_ADMIN===!0}function RD(){try{return typeof indexedDB=="object"}catch{return!1}}function kD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="FirebaseError";class Br extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ND,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?ID(l,i):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new Br(a,c,i)}}function ID(t,e){return t.replace(DD,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const DD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){return JSON.parse(t)}function jt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=function(t){let e={},n={},i={},a="";try{const l=t.split(".");e=jl(af(l[0])||""),n=jl(af(l[1])||""),a=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:a}},OD=function(t){const e=rE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MD=function(t){const e=rE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ua(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _m(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function of(t,e,n){const i={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=e.call(n,t[a],a,t));return i}function ws(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(Cx(l)&&Cx(u)){if(!ws(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Cx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function _l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)i[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)i[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const v=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],c=this.chain_[3],d=this.chain_[4],h,p;for(let g=0;g<80;g++){g<40?g<20?(h=c^l&(u^c),p=1518500249):(h=l^u^c,p=1859775393):g<60?(h=l&u|c&(l|u),p=2400959708):(h=l^u^c,p=3395469782);const v=(a<<5|a>>>27)+h+d+p+i[g]&4294967295;d=c,c=u,u=(l<<30|l>>>2)&4294967295,l=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<n;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[a]>>l&255,++i;return e}}function LD(t,e){const n=new jD(t,e);return n.subscribe.bind(n)}class jD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");UD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Rp),a.error===void 0&&(a.error=Rp),a.complete===void 0&&(a.complete=Rp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rp(){}function Uf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,he(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;a=65536+(l<<10)+u}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zf=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new su;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HD(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);i===c&&u.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:VD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VD(t){return t===hs?void 0:t}function HD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const qD={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},GD=Ze.INFO,YD={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},KD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=YD[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ig{constructor(e){this.name=e,this._logLevel=GD,this._logHandler=KD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const WD=(t,e)=>e.some(n=>t instanceof n);let Ax,Rx;function $D(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XD(){return Rx||(Rx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,bm=new WeakMap,aE=new WeakMap,kp=new WeakMap,Dg=new WeakMap;function QD(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Dr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&sE.set(n,t)}).catch(()=>{}),Dg.set(e,t),e}function ZD(t){if(bm.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});bm.set(t,e)}let xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JD(t){xm=t(xm)}function eO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Np(this),e,...n);return aE.set(i,e.sort?e.sort():[e]),Dr(i)}:XD().includes(t)?function(...e){return t.apply(Np(this),e),Dr(sE.get(this))}:function(...e){return Dr(t.apply(Np(this),e))}}function tO(t){return typeof t=="function"?eO(t):(t instanceof IDBTransaction&&ZD(t),WD(t,$D())?new Proxy(t,xm):t)}function Dr(t){if(t instanceof IDBRequest)return QD(t);if(kp.has(t))return kp.get(t);const e=tO(t);return e!==t&&(kp.set(t,e),Dg.set(e,t)),e}const Np=t=>Dg.get(t);function nO(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),c=Dr(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Dr(u.result),d.oldVersion,d.newVersion,Dr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const iO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],Ip=new Map;function kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ip.get(e))return Ip.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=rO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||iO.includes(n)))return;const l=async function(u,...c){const d=this.transaction(u,a?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),a&&d.done]))[0]};return Ip.set(e,l),l}JD(t=>({...t,get:(e,n,i)=>kx(e,n)||t.get(e,n,i),has:(e,n)=>!!kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",Nx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Ig("@firebase/app"),oO="@firebase/app-compat",lO="@firebase/analytics-compat",uO="@firebase/analytics",cO="@firebase/app-check-compat",fO="@firebase/app-check",hO="@firebase/auth",dO="@firebase/auth-compat",pO="@firebase/database",mO="@firebase/data-connect",gO="@firebase/database-compat",yO="@firebase/functions",vO="@firebase/functions-compat",_O="@firebase/installations",bO="@firebase/installations-compat",xO="@firebase/messaging",SO="@firebase/messaging-compat",wO="@firebase/performance",EO="@firebase/performance-compat",TO="@firebase/remote-config",CO="@firebase/remote-config-compat",AO="@firebase/storage",RO="@firebase/storage-compat",kO="@firebase/firestore",NO="@firebase/ai",IO="@firebase/firestore-compat",DO="firebase",OO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",MO={[Sm]:"fire-core",[oO]:"fire-core-compat",[uO]:"fire-analytics",[lO]:"fire-analytics-compat",[fO]:"fire-app-check",[cO]:"fire-app-check-compat",[hO]:"fire-auth",[dO]:"fire-auth-compat",[pO]:"fire-rtdb",[mO]:"fire-data-connect",[gO]:"fire-rtdb-compat",[yO]:"fire-fn",[vO]:"fire-fn-compat",[_O]:"fire-iid",[bO]:"fire-iid-compat",[xO]:"fire-fcm",[SO]:"fire-fcm-compat",[wO]:"fire-perf",[EO]:"fire-perf-compat",[TO]:"fire-rc",[CO]:"fire-rc-compat",[AO]:"fire-gcs",[RO]:"fire-gcs-compat",[kO]:"fire-fst",[IO]:"fire-fst-compat",[NO]:"fire-vertex","fire-js":"fire-js",[DO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,PO=new Map,Em=new Map;function Ix(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){const e=t.name;if(Em.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of lf.values())Ix(n,t);for(const n of PO.values())Ix(n,t);return!0}function Og(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new au("app","Firebase",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=OO;function oE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:wm,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Or.create("bad-app-name",{appName:String(a)});if(n||(n=Jw()),!n)throw Or.create("no-options");const l=lf.get(a);if(l){if(ws(n,l.options)&&ws(i,l.config))return l;throw Or.create("duplicate-app",{appName:a})}const u=new FD(a);for(const d of Em.values())u.addComponent(d);const c=new jO(n,i,u);return lf.set(a,c),c}function lE(t=wm){const e=lf.get(t);if(!e&&t===wm&&Jw())return oE();if(!e)throw Or.create("no-app",{appName:t});return e}function Mr(t,e,n){var i;let a=(i=MO[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const c=[`Unable to register library "${a}" with version "${e}":`];l&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(c.join(" "));return}za(new Es(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebase-heartbeat-database",zO=1,Ul="firebase-heartbeat-store";let Dp=null;function uE(){return Dp||(Dp=nO(UO,zO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function BO(t){try{const n=(await uE()).transaction(Ul),i=await n.objectStore(Ul).get(cE(t));return await n.done,i}catch(e){if(e instanceof Br)$i.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function Dx(t,e){try{const i=(await uE()).transaction(Ul,"readwrite");await i.objectStore(Ul).put(e,cE(t)),await i.done}catch(n){if(n instanceof Br)$i.warn(n.message);else{const i=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(i.message)}}}function cE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=1024,HO=30;class FO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ox();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>HO){const u=YO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ox(),{heartbeatsToSend:i,unsentEntries:a}=qO(this._heartbeatsCache.heartbeats),l=sf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $i.warn(n),""}}}function Ox(){return new Date().toISOString().substring(0,10)}function qO(t,e=VO){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Mx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Mx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class GO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RD()?kD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Mx(t){return sf(JSON.stringify({version:2,heartbeats:t})).length}function YO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){za(new Es("platform-logger",e=>new sO(e),"PRIVATE")),za(new Es("heartbeat",e=>new FO(e),"PRIVATE")),Mr(Sm,Nx,t),Mr(Sm,Nx,"esm2017"),Mr("fire-js","")}KO("");function Mg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function fE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WO=fE,hE=new au("auth","Firebase",fE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Ig("@firebase/auth");function $O(t,...e){uf.logLevel<=Ze.WARN&&uf.warn(`Auth (${Ja}): ${t}`,...e)}function Yc(t,...e){uf.logLevel<=Ze.ERROR&&uf.error(`Auth (${Ja}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw Lg(t,...e)}function ni(t,...e){return Lg(t,...e)}function Pg(t,e,n){const i=Object.assign(Object.assign({},WO()),{[e]:n});return new au("auth","Firebase",i).create(e,{appName:t.name})}function Yi(t){return Pg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XO(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Gn(t,"argument-error"),Pg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hE.create(t,...e)}function Se(t,e,...n){if(!t)throw Lg(e,...n)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function Xi(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QO(){return Px()==="http:"||Px()==="https:"}function Px(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QO()||TD()||"connection"in navigator)?navigator.onLine:!0}function JO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Ng()||iE()}get(){return ZO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nM=new ou(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hr(t,e,n,i,a={}){return pE(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const c=Za(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},l);return ED()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(h.credentials="include"),dE.fetch()(await mE(t,t.config.apiHost,n,c),h)})}async function pE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},eM),e);try{const a=new rM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Oc(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const c=l.ok?u.errorMessage:u.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Oc(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Oc(t,"user-disabled",u);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Pg(t,p,h);Gn(t,p)}}catch(a){if(a instanceof Br)throw a;Gn(t,"network-request-failed",{message:String(a)})}}async function lu(t,e,n,i,a={}){const l=await Hr(t,e,n,i,a);return"mfaPendingCredential"in l&&Gn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function mE(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?jg(t.config,a):`${t.config.apiScheme}://${a}`;return tM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function iM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ni(this.auth,"network-request-failed")),nM.get())})}}function Oc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ni(t,e,i);return a.customData._tokenResponse=n,a}function Lx(t){return t!==void 0&&t.enterprise!==void 0}class sM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aM(t,e){return Hr(t,"GET","/v2/recaptchaConfig",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){return Hr(t,"POST","/v1/accounts:delete",e)}async function cf(t,e){return Hr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lM(t,e=!1){const n=pn(t),i=await n.getIdToken(e),a=Ug(i);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Sl(Op(a.auth_time)),issuedAtTime:Sl(Op(a.iat)),expirationTime:Sl(Op(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Op(t){return Number(t)*1e3}function Ug(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const a=af(n);return a?JSON.parse(a):(Yc("Failed to decode base64 JWT payload"),null)}catch(a){return Yc("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function jx(t){const e=Ug(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Br&&uM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function uM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){var e;const n=t.auth,i=await t.getIdToken(),a=await zl(t,cf(n,{idToken:i}));Se(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?gE(l.providerUserInfo):[],c=hM(t.providerData,u),d=t.isAnonymous,h=!(t.email&&l.passwordHash)&&!(c!=null&&c.length),p=d?h:!1,g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function fM(t){const e=pn(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hM(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function gE(t){return t.map(e=>{var{providerId:n}=e,i=Mg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){const n=await pE(t,{},async()=>{const i=Za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await mE(t,a,"/v1/token",`key=${l}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:i};return t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(d.credentials="include"),dE.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pM(t,e){return Hr(t,"POST","/v2/accounts:revokeToken",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=jx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await dM(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new ka;return i&&(Se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lM(this,e)}reload(){return fM(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await zl(this,oM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,u,c,d,h,p;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(a=n.email)!==null&&a!==void 0?a:void 0,_=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,w=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,T=(h=n.createdAt)!==null&&h!==void 0?h:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:N,emailVerified:K,isAnonymous:M,providerData:I,stsTokenManager:H}=n;Se(N&&H,e,"internal-error");const G=ka.fromJSON(this.name,H);Se(typeof N=="string",e,"internal-error"),Er(g,e.name),Er(v,e.name),Se(typeof K=="boolean",e,"internal-error"),Se(typeof M=="boolean",e,"internal-error"),Er(_,e.name),Er(S,e.name),Er(w,e.name),Er(R,e.name),Er(T,e.name),Er(k,e.name);const Z=new ei({uid:N,auth:e,email:v,emailVerified:K,displayName:g,isAnonymous:M,photoURL:S,phoneNumber:_,tenantId:w,stsTokenManager:G,createdAt:T,lastLoginAt:k});return I&&Array.isArray(I)&&(Z.providerData=I.map(ie=>Object.assign({},ie))),R&&(Z._redirectEventId=R),Z}static async _fromIdTokenResponse(e,n,i=!1){const a=new ka;a.updateFromServerResponse(n);const l=new ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ff(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?gE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),c=new ka;c.updateFromIdToken(i);const d=new ei({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map;function Fi(t){Xi(t instanceof Function,"Expected a class definition");let e=Ux.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ux.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yE.type="NONE";const zx=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Kc(this.userKey,a.apiKey,l),this.fullPersistenceKey=Kc("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cf(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Na(Fi(zx),e,i);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let l=a[0]||Fi(zx);const u=Kc(i,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(u);if(p){let g;if(typeof p=="string"){const v=await cf(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ei._fromGetAccountInfoResponse(e,v,p)}else g=ei._fromJSON(e,p);h!==l&&(c=g),l=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Na(l,e,i):(l=d[0],c&&await l._set(u,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==l)try{await h._remove(u)}catch{}})),new Na(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wE(e))return"Blackberry";if(EE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||bE(e))&&!e.includes("edge/"))return"Chrome";if(SE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function vE(t=en()){return/firefox\//i.test(t)}function _E(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bE(t=en()){return/crios\//i.test(t)}function xE(t=en()){return/iemobile/i.test(t)}function SE(t=en()){return/android/i.test(t)}function wE(t=en()){return/blackberry/i.test(t)}function EE(t=en()){return/webos/i.test(t)}function zg(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mM(t=en()){var e;return zg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gM(){return CD()&&document.documentMode===10}function TE(t=en()){return zg(t)||SE(t)||EE(t)||wE(t)||/windows phone/i.test(t)||xE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e=[]){let n;switch(t){case"Browser":n=Bx(en());break;case"Worker":n=`${Bx(en())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,c)=>{try{const d=e(l);u(d)}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e={}){return Hr(t,"GET","/v2/passwordPolicy",Vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=6;class bM{constructor(e){var n,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:_M,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,u,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vx(this),this.idTokenSubscription=new Vx(this),this.beforeStateQueue=new yM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cf(this,{idToken:e}),i=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===c)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Yi(this));const n=e?pn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vM(this),n=new bM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await pM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(c,this,"internal-error"),c.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$O(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fr(t){return pn(t)}class Vx{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SM(t){Bf=t}function AE(t){return Bf.loadJS(t)}function wM(){return Bf.recaptchaEnterpriseScript}function EM(){return Bf.gapiScript}function TM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CM{constructor(){this.enterprise=new AM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RM="recaptcha-enterprise",RE="NO_RECAPTCHA";class kM{constructor(e){this.type=RM,this.auth=Fr(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,c)=>{aM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new sM(d);return l.tenantId==null?l._agentRecaptchaConfig=h:l._tenantRecaptchaConfigs[l.tenantId]=h,u(h.siteKey)}}).catch(d=>{c(d)})})}function a(l,u,c){const d=window.grecaptcha;Lx(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(h=>{u(h)}).catch(()=>{u(RE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CM().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(c=>{if(!n&&Lx(window.grecaptcha))a(c,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=wM();d.length!==0&&(d+=c),AE(d).then(()=>{a(c,l,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})}}async function Hx(t,e,n,i=!1,a=!1){const l=new kM(t);let u;if(a)u=RE;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Am(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hx(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Hx(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e){const n=Og(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ws(l,e??{}))return a;Gn(a,"already-initialized")}return n.initialize({options:e})}function IM(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function DM(t,e,n){const i=Fr(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=kE(e),{host:u,port:c}=OM(e),d=c===null?"":`:${c}`,h={url:`${l}//${u}${d}/`},p=Object.freeze({host:u,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(ws(h,i.config.emulator)&&ws(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Qa(u)?(tE(`${l}//${u}${d}`),nE("Auth",!0)):MM()}function kE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OM(t){const e=kE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Fx(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Fx(u)}}}function Fx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function PM(t,e){return Hr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e){return lu(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e){return lu(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}async function UM(t,e){return lu(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Bg{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Bl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Bl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",LM);case"emailLink":return jM(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,i,"signUpPassword",PM);case"emailLink":return UM(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return lu(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="http://localhost";class Ts extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Mg(n,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Ts(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ia(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:zM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VM(t){const e=vl(_l(t)).link,n=e?vl(_l(e)).deep_link_id:null,i=vl(_l(t)).deep_link_id;return(i?vl(_l(i)).link:null)||i||n||e||t}class Vg{constructor(e){var n,i,a,l,u,c;const d=vl(_l(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,g=BM((a=d.mode)!==null&&a!==void 0?a:null);Se(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=VM(e);try{return new Vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return Bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Vg.parseLink(n);return Se(i,"argument-error"),Bl._fromEmailAndCode(e,i.code,i.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends uu{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ts._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vi.credential(n,i)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends uu{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends uu{constructor(){super("twitter.com")}static credential(e,n){return Ts._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Nr.credential(n,i)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e){return lu(t,"POST","/v1/accounts:signUp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ei._fromIdTokenResponse(e,i,a),u=qx(i);return new Cs({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=qx(i);return new Cs({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function qx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Br{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new hf(e,n,i,a)}}function NE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,l,e,i):l})}async function FM(t,e,n=!1){const i=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cs._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e,n=!1){const{auth:i}=t;if(An(i.app))return Promise.reject(Yi(i));const a="reauthenticate";try{const l=await zl(t,NE(i,a,e,t),n);Se(l.idToken,i,"internal-error");const u=Ug(l.idToken);Se(u,i,"internal-error");const{sub:c}=u;return Se(t.uid===c,i,"user-mismatch"),Cs._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Gn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t,e,n=!1){if(An(t.app))return Promise.reject(Yi(t));const i="signIn",a=await NE(t,i,e),l=await Cs._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function GM(t,e){return IE(Fr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(t){const e=Fr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YM(t,e,n){if(An(t.app))return Promise.reject(Yi(t));const i=Fr(t),u=await Am(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&DE(t),d}),c=await Cs._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(c.user),c}function KM(t,e,n){return An(t.app)?Promise.reject(Yi(t)):GM(pn(t),eo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DE(t),i})}function WM(t,e,n,i){return pn(t).onIdTokenChanged(e,n,i)}function $M(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}function XM(t,e,n,i){return pn(t).onAuthStateChanged(e,n,i)}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=1e3,ZM=10;class ME extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);gM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ZM):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const JM=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PE.type="SESSION";const LE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Vf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const c=Array.from(u).map(async h=>h(n.origin,l)),d=await e2(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((c,d)=>{const h=Fg("",20);a.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(v.data.response);break;default:clearTimeout(p),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function n2(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function i2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s2(){return jE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",a2=1,pf="firebaseLocalStorage",zE="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(t,e){return t.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function o2(){const t=indexedDB.deleteDatabase(UE);return new cu(t).toPromise()}function Rm(){const t=indexedDB.open(UE,a2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(pf,{keyPath:zE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(pf)?e(i):(i.close(),await o2(),e(await Rm()))})})}async function Gx(t,e,n){const i=Hf(t,!0).put({[zE]:e,value:n});return new cu(i).toPromise()}async function l2(t,e){const n=Hf(t,!1).get(e),i=await new cu(n).toPromise();return i===void 0?null:i.value}function Yx(t,e){const n=Hf(t,!0).delete(e);return new cu(n).toPromise()}const u2=800,c2=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>c2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(s2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Gx(e,df,"1"),await Yx(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>l2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hf(a,!1).getAll();return new cu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const f2=BE;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){return e?Fi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h2(t){return IE(t.auth,new qg(t),t.bypassAuthState)}function d2(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),qM(n,new qg(t),t.bypassAuthState)}async function p2(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),FM(n,new qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:c}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h2;case"linkViaPopup":case"linkViaRedirect":return p2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:Gn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new ou(2e3,1e4);async function g2(t,e,n){if(An(t.app))return Promise.reject(ni(t,"operation-not-supported-in-this-environment"));const i=Fr(t);XO(t,e,Hg);const a=VE(i,n);return new gs(i,"signInViaPopup",e,a).executeNotNull()}class gs extends HE{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m2.get())};e()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="pendingRedirect",Wc=new Map;class v2 extends HE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const i=await _2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(t,e){const n=S2(e),i=x2(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function b2(t,e){Wc.set(t._key(),e)}function x2(t){return Fi(t._redirectPersistence)}function S2(t){return Kc(y2,t.config.apiKey,t.name)}async function w2(t,e,n=!1){if(An(t.app))return Promise.reject(Yi(t));const i=Fr(t),a=VE(i,e),u=await new v2(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=600*1e3;class T2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!FE(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kx(e))}saveEventToCache(e){this.cachedEventUids.add(Kx(e)),this.lastProcessedEventTime=Date.now()}}function Kx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(t,e={}){return Hr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function N2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A2(t);for(const n of e)try{if(I2(n))return}catch{}Gn(t,"unauthorized-domain")}function I2(t){const e=Tm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!k2.test(n))return!1;if(R2.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new ou(3e4,6e4);function Wx(){const t=mi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O2(t){return new Promise((e,n)=>{var i,a,l;function u(){Wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wx(),n(ni(t,"network-request-failed"))},timeout:D2.get()})}if(!((a=(i=mi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=mi().gapi)===null||l===void 0)&&l.load)u();else{const c=TM("iframefcb");return mi()[c]=()=>{gapi.load?u():n(ni(t,"network-request-failed"))},AE(`${EM()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw $c=null,e})}let $c=null;function M2(t){return $c=$c||O2(t),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new ou(5e3,15e3),L2="__/auth/iframe",j2="emulator/auth/iframe",U2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B2(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jg(e,j2):`https://${t.config.authDomain}/${L2}`,i={apiKey:e.apiKey,appName:t.name,v:Ja},a=z2.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Za(i).slice(1)}`}async function V2(t){const e=await M2(t),n=mi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:B2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U2,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ni(t,"network-request-failed"),c=mi().setTimeout(()=>{l(u)},P2.get());function d(){mi().clearTimeout(c),a(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F2=500,q2=600,G2="_blank",Y2="http://localhost";class $x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(t,e,n,i=F2,a=q2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d=Object.assign(Object.assign({},H2),{width:i.toString(),height:a.toString(),top:l,left:u}),h=en().toLowerCase();n&&(c=bE(h)?G2:n),vE(h)&&(e=e||Y2,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(mM(h)&&c!=="_self")return W2(e||"",c),new $x(null);const g=window.open(e||"",c,p);Se(g,t,"popup-blocked");try{g.focus()}catch{}return new $x(g)}function W2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="__/auth/handler",X2="emulator/auth/handler",Q2=encodeURIComponent("fac");async function Xx(t,e,n,i,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ja,eventId:a};if(e instanceof Hg){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",_m(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))u[p]=g}if(e instanceof uu){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(u.scopes=p.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${Q2}=${encodeURIComponent(d)}`:"";return`${Z2(t)}?${Za(c).slice(1)}${h}`}function Z2({config:t}){return t.emulator?jg(t,X2):`https://${t.authDomain}/${$2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class J2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=w2,this._overrideRedirectResult=b2}async _openPopup(e,n,i,a){var l;Xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Xx(e,n,i,Tm(),a);return K2(e,u,Fg())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Xx(e,n,i,Tm(),a);return n2(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await V2(e),i=new T2(e);return n.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Mp];u!==void 0&&n(!!u),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TE()||_E()||zg()}}const eP=J2;var Qx="@firebase/auth",Zx="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iP(t){za(new Es("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=i.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(t)},h=new xM(i,a,l,d);return IM(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),za(new Es("auth-internal",e=>{const n=Fr(e.getProvider("auth").getImmediate());return(i=>new tP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Qx,Zx,nP(t)),Mr(Qx,Zx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=300,sP=eE("authIdTokenMaxAge")||rP;let Jx=null;const aP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>sP)return;const a=n==null?void 0:n.token;Jx!==a&&(Jx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function oP(t=lE()){const e=Og(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NM(t,{popupRedirectResolver:eP,persistence:[f2,JM,LE]}),i=eE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=aP(l.toString());$M(n,u,()=>u(n.currentUser)),WM(n,c=>u(c))}}const a=Zw("auth");return a&&DM(n,`http://${a}`),n}function lP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ni("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",lP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iP("Browser");var uP="firebase",cP="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(uP,cP,"app");var eS={};const tS="@firebase/database",nS="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE="";function fP(t){qE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),jt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hP(e)}}catch{}return new dP},ys=GE("localStorage"),pP=GE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Ig("@firebase/database"),mP=function(){let t=1;return function(){return t++}}(),YE=function(t){const e=zD(t),n=new PD;n.update(e);const i=n.digest();return Rg.encodeByteArray(i)},fu=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=fu.apply(null,i):typeof i=="object"?e+=jt(i):e+=i,e+=" "}return e};let wl=null,iS=!0;const gP=function(t,e){he(!0,"Can't turn on custom loggers persistently."),Da.logLevel=Ze.VERBOSE,wl=Da.log.bind(Da)},Ft=function(...t){if(iS===!0&&(iS=!1,wl===null&&pP.get("logging_enabled")===!0&&gP()),wl){const e=fu.apply(null,t);wl(e)}},hu=function(t){return function(...e){Ft(t,...e)}},km=function(...t){const e="FIREBASE INTERNAL ERROR: "+fu(...t);Da.error(e)},Qi=function(...t){const e=`FIREBASE FATAL ERROR: ${fu(...t)}`;throw Da.error(e),new Error(e)},Jt=function(...t){const e="FIREBASE WARNING: "+fu(...t);Da.warn(e)},yP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ba="[MIN_NAME]",As="[MAX_NAME]",Ds=function(t,e){if(t===e)return 0;if(t===Ba||e===As)return-1;if(e===Ba||t===As)return 1;{const n=rS(t),i=rS(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},_P=function(t,e){return t===e?0:t<e?-1:1},ll=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+jt(e))},Yg=function(t){if(typeof t!="object"||t===null)return jt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=jt(e[i]),n+=":",n+=Yg(t[e[i]]);return n+="}",n},KE=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let a=0;a<n;a+=e)a+e>n?i.push(t.substring(a,n)):i.push(t.substring(a,a+e));return i};function qt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const WE=function(t){he(!Gg(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let a,l,u,c,d;t===0?(l=0,u=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=c+i,u=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const h=[];for(d=n;d;d-=1)h.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);h.push(a?1:0),h.reverse();const p=h.join("");let g="";for(d=0;d<64;d+=8){let v=parseInt(p.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},bP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const wP=new RegExp("^-?(0*)\\d{1,10}$"),EP=-2147483648,TP=2147483647,rS=function(t){if(wP.test(t)){const e=Number(t);if(e>=EP&&e<=TP)return e}return null},to=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},CP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},El=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,An(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(e)}}class Xc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="5",$E="v",XE="s",QE="r",ZE="f",JE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eT="ls",tT="p",Nm="ac",nT="websocket",iT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,i,a,l=!1,u="",c=!1,d=!1,h=null){this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function kP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sT(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let i;if(e===nT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iT)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kP(t)&&(n.ns=t.namespace);const a=[];return qt(n,(l,u)=>{a.push(l+"="+u)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.counters_={}}incrementCounter(e,n=1){Si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return pD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp={},Lp={};function Wg(t){const e=t.toString();return Pp[e]||(Pp[e]=new NP),Pp[e]}function IP(t,e){const n=t.toString();return Lp[n]||(Lp[n]=e()),Lp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&to(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="start",OP="close",MP="pLPCommand",PP="pRTLPCB",aT="id",oT="pw",lT="ser",LP="cb",jP="seg",UP="ts",zP="d",BP="dframe",uT=1870,cT=30,VP=uT-cT,HP=25e3,FP=3e4;class wa{constructor(e,n,i,a,l,u,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hu(e),this.stats_=Wg(n),this.urlFn=d=>(this.appCheckToken&&(d[Nm]=this.appCheckToken),sT(n,iT,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new DP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FP)),vP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $g((...l)=>{const[u,c,d,h,p]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===sS)this.id=c,this.password=d;else if(u===OP)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,c]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[sS]="t",i[lT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[LP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[$E]=Kg,this.transportSessionId&&(i[XE]=this.transportSessionId),this.lastSessionId&&(i[eT]=this.lastSessionId),this.applicationId&&(i[tT]=this.applicationId),this.appCheckToken&&(i[Nm]=this.appCheckToken),typeof location<"u"&&location.hostname&&JE.test(location.hostname)&&(i[QE]=ZE);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wa.forceAllow_=!0}static forceDisallow(){wa.forceDisallow_=!0}static isAvailable(){return wa.forceAllow_?!0:!wa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bP()&&!xP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Xw(n),a=KE(i,VP);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[BP]="t",i[aT]=e,i[oT]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=jt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $g{constructor(e,n,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mP(),window[MP+this.uniqueCallbackIdentifier]=e,window[PP+this.uniqueCallbackIdentifier]=n,this.myIFrame=$g.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){Ft("frame writing exception"),c.stack&&Ft(c.stack),Ft(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ft("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aT]=this.myID,e[oT]=this.myPW,e[lT]=this.currentSerial;let n=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cT+i.length<=uT;){const u=this.pendingSegs.shift();i=i+"&"+jP+a+"="+u.seg+"&"+UP+a+"="+u.ts+"&"+zP+a+"="+u.d,a++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(i,Math.floor(HP)),l=()=>{clearTimeout(a),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=16384,GP=45e3;let mf=null;typeof MozWebSocket<"u"?mf=MozWebSocket:typeof WebSocket<"u"&&(mf=WebSocket);class Jn{constructor(e,n,i,a,l,u,c){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hu(this.connId),this.stats_=Wg(n),this.connURL=Jn.connectionURL_(n,u,c,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,a,l){const u={};return u[$E]=Kg,typeof location<"u"&&location.hostname&&JE.test(location.hostname)&&(u[QE]=ZE),n&&(u[XE]=n),i&&(u[eT]=i),a&&(u[Nm]=a),l&&(u[tT]=l),sT(e,nT,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ys.set("previous_websocket_failure",!0);try{let i;AD(),this.mySock=new mf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Jn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&mf!==null&&!Jn.forceDisallow_}static previouslyFailed(){return ys.isInMemoryStorage||ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){ys.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=jl(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=KE(n,qP);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jn.responsesRequiredToBeHealthy=2;Jn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static get ALL_TRANSPORTS(){return[wa,Jn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Jn&&Jn.isAvailable();let i=n&&!Jn.previouslyFailed();if(e.webSocketOnly&&(n||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Jn];else{const a=this.transports_=[];for(const l of Vl.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=6e4,KP=5e3,WP=10*1024,$P=100*1024,jp="t",aS="d",XP="s",oS="r",QP="e",lS="o",uS="a",cS="n",fS="p",ZP="h";class JP{constructor(e,n,i,a,l,u,c,d,h,p){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hu("c:"+this.id+":"),this.transportManager_=new Vl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=El(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$P?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jp in e){const n=e[jp];n===uS?this.upgradeIfSecondaryHealthy_():n===oS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===lS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ll("t",e),i=ll("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ll("t",e),i=ll("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ll(jp,e);if(aS in e){const i=e[aS];if(n===ZP){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===cS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XP?this.onConnectionShutdown_(i):n===oS?this.onReset_(i):n===QP?km("Server Error: "+i):n===lS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):km("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kg!==i&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),El(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(YP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):El(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{put(e,n,i,a){}merge(e,n,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const a=this.getInitialEvent(e);a&&n.apply(i,a)}off(e,n,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends hT{static getInstance(){return new gf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ng()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=32,dS=768;class Je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ye(){return new Je("")}function Pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Lr(t){return t.pieces_.length-t.pieceNum_}function rt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function Xg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function eL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Hl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function dT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function gt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Je)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&n.push(i[a])}return new Je(n,0)}function Be(t){return t.pieceNum_>=t.pieces_.length}function cn(t,e){const n=Pe(t),i=Pe(e);if(n===null)return e;if(n===i)return cn(rt(t),rt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tL(t,e){const n=Hl(t,0),i=Hl(e,0);for(let a=0;a<n.length&&a<i.length;a++){const l=Ds(n[a],i[a]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function Qg(t,e){if(Lr(t)!==Lr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Fn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Lr(t)>Lr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class nL{constructor(e,n){this.errorPrefix_=n,this.parts_=Hl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=zf(this.parts_[i]);pT(this)}}function iL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zf(e),pT(t)}function rL(t){const e=t.parts_.pop();t.byteLength_-=zf(e),t.parts_.length>0&&(t.byteLength_-=1)}function pT(t){if(t.byteLength_>dS)throw new Error(t.errorPrefix_+"has a key path longer than "+dS+" bytes ("+t.byteLength_+").");if(t.parts_.length>hS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hS+") or object contains a cycle "+ds(t))}function ds(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends hT{static getInstance(){return new Zg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=1e3,sL=300*1e3,pS=30*1e3,aL=1.3,oL=3e4,lL="server_kill",mS=3;class Ki extends fT{constructor(e,n,i,a,l,u,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=Ki.nextPersistentConnectionId_++,this.log_=hu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ul,this.maxReconnectDelay_=sL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(jt(l)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const n=new su,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const c=u.d;u.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const c={onComplete:a,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,c=>{const d=c.d,h=c.s;Ki.warnOnListenWarnings_(d,n),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Si(e,"w")){const i=Ua(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||MD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=OD(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,n)}sendUnlisten_(e,n,i,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";a&&(l.q=i,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,a){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,n,i,a){this.putInternal("p",e,n,i,a)}merge(e,n,i,a){this.putInternal("m",e,n,i,a)}putInternal(e,n,i,a,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+jt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):km("Unrecognized action received from server: "+jt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oL&&(this.reconnectDelay_=ul),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Ki.nextConnectionId_++,l=this.lastSessionId;let u=!1,c=null;const d=function(){c?c.close():(u=!0,i())},h=function(g){he(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(g)};this.realtime_={close:d,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);u?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,c=new JP(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,_=>{Jt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(lL)},l))}catch(g){this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&Jt(g),d())}}}interrupt(e){Ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_m(this.interruptReasons_)&&(this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>Yg(l)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const i=new Je(e).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,n){Ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mS&&(this.reconnectDelay_=pS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+qE.replace(/\./g,"-")]=1,Ng()?e["framework.cordova"]=1:iE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gf.getInstance().currentlyOnline();return _m(this.interruptReasons_)&&e}}Ki.nextPersistentConnectionId_=0;Ki.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Le(Ba,e),a=new Le(Ba,n);return this.compare(i,a)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;class mT extends Ff{static get __EMPTY_NODE(){return Mc}static set __EMPTY_NODE(e){Mc=e}compare(e,n){return Ds(e.name,n.name)}isDefinedOn(e){throw Xa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Le.MIN}maxPost(){return new Le(As,Mc)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,Mc)}toString(){return".key"}}const Oa=new mT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pt{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Pt.RED,this.left=a??fn.EMPTY_NODE,this.right=l??fn.EMPTY_NODE}copy(e,n,i,a,l){return new Pt(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return fn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,a;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return fn.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pt.RED=!0;Pt.BLACK=!1;class uL{copy(e,n,i,a,l){return this}insert(e,n,i){return new Pt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class fn{constructor(e,n=fn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new fn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))}remove(e){return new fn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,a=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pc(this.root_,null,this.comparator_,!0,e)}}fn.EMPTY_NODE=new uL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e){return Ds(t.name,e.name)}function Jg(t,e){return Ds(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im;function fL(t){Im=t}const gT=function(t){return typeof t=="number"?"number:"+WE(t):"string:"+t},yT=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Si(e,".sv"),"Priority must be a string or number.")}else he(t===Im||t.isEmpty(),"priority of unexpected type.");he(t===Im||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gS;class Mt{static set __childrenNodeConstructor(e){gS=e}static get __childrenNodeConstructor(){return gS}constructor(e,n=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Be(e)?this:Pe(e)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Pe(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(he(i!==".priority"||Lr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(rt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=WE(this.value_):e+=this.value_,this.lazyHash_=YE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mt.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,a=Mt.VALUE_TYPE_ORDER.indexOf(n),l=Mt.VALUE_TYPE_ORDER.indexOf(i);return he(a>=0,"Unknown leaf type: "+n),he(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vT,_T;function hL(t){vT=t}function dL(t){_T=t}class pL extends Ff{compare(e,n){const i=e.node.getPriority(),a=n.node.getPriority(),l=i.compareTo(a);return l===0?Ds(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(As,new Mt("[PRIORITY-POST]",_T))}makePost(e,n){const i=vT(e);return new Le(n,new Mt("[PRIORITY-POST]",i))}toString(){return".priority"}}const yt=new pL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=Math.log(2);class gL{constructor(e){const n=l=>parseInt(Math.log(l)/mL,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yf=function(t,e,n,i){t.sort(e);const a=function(d,h){const p=h-d;let g,v;if(p===0)return null;if(p===1)return g=t[d],v=n?n(g):g,new Pt(v,g.node,Pt.BLACK,null,null);{const _=parseInt(p/2,10)+d,S=a(d,_),w=a(_+1,h);return g=t[_],v=n?n(g):g,new Pt(v,g.node,Pt.BLACK,S,w)}},l=function(d){let h=null,p=null,g=t.length;const v=function(S,w){const R=g-S,T=g;g-=S;const k=a(R+1,T),N=t[R],K=n?n(N):N;_(new Pt(K,N.node,w,null,k))},_=function(S){h?(h.left=S,h=S):(p=S,h=S)};for(let S=0;S<d.count;++S){const w=d.nextBitIsOne(),R=Math.pow(2,d.count-(S+1));w?v(R,Pt.BLACK):(v(R,Pt.BLACK),v(R,Pt.RED))}return p},u=new gL(t.length),c=l(u);return new fn(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;const ba={};class qi{static get Default(){return he(ba&&yt,"ChildrenNode.ts has not been loaded"),Up=Up||new qi({".priority":ba},{".priority":yt}),Up}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ua(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fn?n:null}hasIndex(e){return Si(this.indexSet_,e.toString())}addIndex(e,n){he(e!==Oa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=n.getIterator(Le.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let c;a?c=yf(i,e.getCompare()):c=ba;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const p=Object.assign({},this.indexes_);return p[d]=c,new qi(p,h)}addToIndexes(e,n){const i=of(this.indexes_,(a,l)=>{const u=Ua(this.indexSet_,l);if(he(u,"Missing index implementation for "+l),a===ba)if(u.isDefinedOn(e.node)){const c=[],d=n.getIterator(Le.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),yf(c,u.getCompare())}else return ba;else{const c=n.get(e.name);let d=a;return c&&(d=d.remove(new Le(e.name,c))),d.insert(e,e.node)}});return new qi(i,this.indexSet_)}removeFromIndexes(e,n){const i=of(this.indexes_,a=>{if(a===ba)return a;{const l=n.get(e.name);return l?a.remove(new Le(e.name,l)):a}});return new qi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;class Te{static get EMPTY_NODE(){return cl||(cl=new Te(new fn(Jg),null,qi.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&yT(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cl}updatePriority(e){return this.children_.isEmpty()?this:new Te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?cl:n}}getChild(e){const n=Pe(e);return n===null?this:this.getImmediateChild(n).getChild(rt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Le(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=a.isEmpty()?cl:this.priorityNode_;return new Te(a,u,l)}}updateChild(e,n){const i=Pe(e);if(i===null)return n;{he(Pe(e)!==".priority"||Lr(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(rt(e),n);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,a=0,l=!0;if(this.forEachChild(yt,(u,c)=>{n[u]=c.val(e),i++,l&&Te.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*i){const u=[];for(const c in n)u[c]=n[c];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+gT(this.getPriority().val())+":"),this.forEachChild(yt,(n,i)=>{const a=i.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":YE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new Le(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Le(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Le.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===du?-1:0}withIndex(e){if(e===Oa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Oa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(yt),a=n.getIterator(yt);let l=i.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Oa?null:this.indexMap_.get(e.toString())}}Te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yL extends Te{constructor(){super(new fn(Jg),Te.EMPTY_NODE,qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Te.EMPTY_NODE}isEmpty(){return!1}}const du=new yL;Object.defineProperties(Le,{MIN:{value:new Le(Ba,Te.EMPTY_NODE)},MAX:{value:new Le(As,du)}});mT.__EMPTY_NODE=Te.EMPTY_NODE;Mt.__childrenNodeConstructor=Te;fL(du);dL(du);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=!0;function Lt(t,e=null){if(t===null)return Te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Mt(n,Lt(e))}if(!(t instanceof Array)&&vL){const n=[];let i=!1;if(qt(t,(u,c)=>{if(u.substring(0,1)!=="."){const d=Lt(c);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),n.push(new Le(u,d)))}}),n.length===0)return Te.EMPTY_NODE;const l=yf(n,cL,u=>u.name,Jg);if(i){const u=yf(n,yt.getCompare());return new Te(l,Lt(e),new qi({".priority":u},{".priority":yt}))}else return new Te(l,Lt(e),qi.Default)}else{let n=Te.EMPTY_NODE;return qt(t,(i,a)=>{if(Si(t,i)&&i.substring(0,1)!=="."){const l=Lt(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(Lt(e))}}hL(Lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L extends Ff{constructor(e){super(),this.indexPath_=e,he(!Be(e)&&Pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),a=this.extractChild(n.node),l=i.compareTo(a);return l===0?Ds(e.name,n.name):l}makePost(e,n){const i=Lt(e),a=Te.EMPTY_NODE.updateChild(this.indexPath_,i);return new Le(n,a)}maxPost(){const e=Te.EMPTY_NODE.updateChild(this.indexPath_,du);return new Le(As,e)}toString(){return Hl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL extends Ff{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ds(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,n){const i=Lt(e);return new Le(n,i)}toString(){return".value"}}const xL=new bL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){return{type:"value",snapshotNode:t}}function Va(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ql(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function SL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.index_=e}updateChild(e,n,i,a,l,u){he(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(a).equals(i.getChild(a))&&c.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(Fl(n,c)):he(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?u.trackChildChange(Va(n,i)):u.trackChildChange(ql(n,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(yt,(a,l)=>{n.hasChild(a)||i.trackChildChange(Fl(a,l))}),n.isLeafNode()||n.forEachChild(yt,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||i.trackChildChange(ql(a,l,u))}else i.trackChildChange(Va(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.indexedFilter_=new ey(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gl.getStartPost_(e),this.endPost_=Gl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,a,l,u){return this.matches(new Le(n,i))||(i=Te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,a,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Te.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Te.EMPTY_NODE);const l=this;return n.forEachChild(yt,(u,c)=>{l.matches(new Le(u,c))||(a=a.updateImmediateChild(u,Te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Gl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,a,l,u){return this.rangedFilter_.matches(new Le(n,i))||(i=Te.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,a,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let a;if(n.isLeafNode()||n.isEmpty())a=Te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=Te.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const c=l.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))a=a.updateImmediateChild(c.name,c.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(Te.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const c=l.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:a=a.updateImmediateChild(c.name,Te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,a,l){let u;if(this.reverse_){const g=this.index_.getCompare();u=(v,_)=>g(_,v)}else u=this.index_.getCompare();const c=e;he(c.numChildren()===this.limit_,"");const d=new Le(n,i),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(c.hasChild(n)){const g=c.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const _=v==null?1:u(v,d);if(p&&!i.isEmpty()&&_>=0)return l!=null&&l.trackChildChange(ql(n,i,g)),c.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(Fl(n,g));const w=c.updateImmediateChild(n,Te.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(Va(v.name,v.node)),w.updateImmediateChild(v.name,v.node)):w}}else return i.isEmpty()?e:p&&u(h,d)>=0?(l!=null&&(l.trackChildChange(Fl(h.name,h.node)),l.trackChildChange(Va(n,i))),c.updateImmediateChild(n,i).updateImmediateChild(h.name,Te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ba}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:As}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const e=new ty;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function EL(t){return t.loadsAllData()?new ey(t.getIndex()):t.hasLimit()?new wL(t):new Gl(t)}function yS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yt?n="$priority":t.index_===xL?n="$value":t.index_===Oa?n="$key":(he(t.index_ instanceof _L,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=jt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=jt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+jt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=jt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+jt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends fT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=hu("p:rest:"),this.listens_={}}listen(e,n,i,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=vf.getListenId_(e,i),c={};this.listens_[u]=c;const d=yS(e._queryParams);this.restRequest_(l+".json",d,(h,p)=>{let g=p;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(l,g,!1,i),Ua(this.listens_,u)===c){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",a(v,null)}})}unlisten(e,n){const i=vf.getListenId_(e,n);delete this.listens_[i]}get(e){const n=yS(e._queryParams),i=e._path.toString(),a=new su;return this.restRequest_(i+".json",n,(l,u)=>{let c=u;l===404&&(c=null,l=null),l===null?(this.onDataUpdate_(i,c,!1,null),a.resolve(c)):a.reject(new Error(c))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Za(n);this.log_("Sending REST request for "+u);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=jl(c.responseText)}catch{Jt("Failed to parse JSON response for "+u+": "+c.responseText)}i(null,d)}else c.status!==401&&c.status!==404&&Jt("Got unsuccessful REST response for "+u+" Status: "+c.status),i(c.status);i=null}},c.open("GET",u,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){return{value:null,children:new Map}}function xT(t,e,n){if(Be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Pe(e);t.children.has(i)||t.children.set(i,_f());const a=t.children.get(i);e=rt(e),xT(a,e,n)}}function Dm(t,e,n){t.value!==null?n(e,t.value):CL(t,(i,a)=>{const l=new Je(e.toString()+"/"+i);Dm(a,l,n)})}function CL(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&qt(this.last_,(i,a)=>{n[i]=n[i]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=10*1e3,RL=30*1e3,kL=300*1e3;class NL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new AL(e);const i=_S+(RL-_S)*Math.random();El(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;qt(e,(a,l)=>{l>0&&Si(this.statsToReport_,a)&&(n[a]=l,i=!0)}),i&&this.server_.reportStats(n),El(this.reportStats_.bind(this),Math.floor(Math.random()*2*kL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ti||(ti={}));function ny(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function iy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ry(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=ti.ACK_USER_WRITE,this.source=ny()}operationForChild(e){if(Be(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new bf(Ye(),n,this.revert)}}else return he(Pe(this.path)===e,"operationForChild called for unrelated child."),new bf(rt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.source=e,this.path=n,this.type=ti.LISTEN_COMPLETE}operationForChild(e){return Be(this.path)?new Yl(this.source,Ye()):new Yl(this.source,rt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=ti.OVERWRITE}operationForChild(e){return Be(this.path)?new Rs(this.source,Ye(),this.snap.getImmediateChild(e)):new Rs(this.source,rt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=ti.MERGE}operationForChild(e){if(Be(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new Rs(this.source,Ye(),n.value):new Ha(this.source,Ye(),n)}else return he(Pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ha(this.source,rt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Be(e))return this.isFullyInitialized()&&!this.filtered_;const n=Pe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function DL(t,e,n,i){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(SL(u.childName,u.snapshotNode))}),fl(t,a,"child_removed",e,i,n),fl(t,a,"child_added",e,i,n),fl(t,a,"child_moved",l,i,n),fl(t,a,"child_changed",e,i,n),fl(t,a,"value",e,i,n),a}function fl(t,e,n,i,a,l){const u=i.filter(c=>c.type===n);u.sort((c,d)=>ML(t,c,d)),u.forEach(c=>{const d=OL(t,c,l);a.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,t.query_))})})}function OL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ML(t,e,n){if(e.childName==null||n.childName==null)throw Xa("Should only compare child_ events.");const i=new Le(e.childName,e.snapshotNode),a=new Le(n.childName,n.snapshotNode);return t.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t,e){return{eventCache:t,serverCache:e}}function Tl(t,e,n,i){return qf(new ks(e,n,i),t.serverCache)}function ST(t,e,n,i){return qf(t.eventCache,new ks(e,n,i))}function Om(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ns(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;const PL=()=>(zp||(zp=new fn(_P)),zp);class it{static fromObject(e){let n=new it(null);return qt(e,(i,a)=>{n=n.set(new Je(i),a)}),n}constructor(e,n=PL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ye(),value:this.value};if(Be(e))return null;{const i=Pe(e),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(rt(e),n);return l!=null?{path:gt(new Je(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Be(e))return this;{const n=Pe(e),i=this.children.get(n);return i!==null?i.subtree(rt(e)):new it(null)}}set(e,n){if(Be(e))return new it(n,this.children);{const i=Pe(e),l=(this.children.get(i)||new it(null)).set(rt(e),n),u=this.children.insert(i,l);return new it(this.value,u)}}remove(e){if(Be(e))return this.children.isEmpty()?new it(null):new it(null,this.children);{const n=Pe(e),i=this.children.get(n);if(i){const a=i.remove(rt(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new it(null):new it(this.value,l)}else return this}}get(e){if(Be(e))return this.value;{const n=Pe(e),i=this.children.get(n);return i?i.get(rt(e)):null}}setTree(e,n){if(Be(e))return n;{const i=Pe(e),l=(this.children.get(i)||new it(null)).setTree(rt(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new it(this.value,u)}}fold(e){return this.fold_(Ye(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(gt(e,a),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ye(),n)}findOnPath_(e,n,i){const a=this.value?i(n,this.value):!1;if(a)return a;if(Be(e))return null;{const l=Pe(e),u=this.children.get(l);return u?u.findOnPath_(rt(e),gt(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ye(),n)}foreachOnPath_(e,n,i){if(Be(e))return this;{this.value&&i(n,this.value);const a=Pe(e),l=this.children.get(a);return l?l.foreachOnPath_(rt(e),gt(n,a),i):new it(null)}}foreach(e){this.foreach_(Ye(),e)}foreach_(e,n){this.children.inorderTraversal((i,a)=>{a.foreach_(gt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.writeTree_=e}static empty(){return new ii(new it(null))}}function Cl(t,e,n){if(Be(e))return new ii(new it(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let l=i.value;const u=cn(a,e);return l=l.updateChild(u,n),new ii(t.writeTree_.set(a,l))}else{const a=new it(n),l=t.writeTree_.setTree(e,a);return new ii(l)}}}function Mm(t,e,n){let i=t;return qt(n,(a,l)=>{i=Cl(i,gt(e,a),l)}),i}function bS(t,e){if(Be(e))return ii.empty();{const n=t.writeTree_.setTree(e,new it(null));return new ii(n)}}function Pm(t,e){return Os(t,e)!=null}function Os(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(cn(n.path,e)):null}function xS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(i,a)=>{e.push(new Le(i,a))}):t.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new Le(i,a.value))}),e}function Pr(t,e){if(Be(e))return t;{const n=Os(t,e);return n!=null?new ii(new it(n)):new ii(t.writeTree_.subtree(e))}}function Lm(t){return t.writeTree_.isEmpty()}function Fa(t,e){return wT(Ye(),t.writeTree_,e)}function wT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(he(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=wT(gt(t,a),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(gt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e){return AT(e,t)}function LL(t,e,n,i,a){he(i>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:a}),a&&(t.visibleWrites=Cl(t.visibleWrites,e,n)),t.lastWriteId=i}function jL(t,e,n,i){he(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Mm(t.visibleWrites,e,n),t.lastWriteId=i}function UL(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function zL(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let a=i.visible,l=!1,u=t.allWrites.length-1;for(;a&&u>=0;){const c=t.allWrites[u];c.visible&&(u>=n&&BL(c,i.path)?a=!1:Fn(i.path,c.path)&&(l=!0)),u--}if(a){if(l)return VL(t),!0;if(i.snap)t.visibleWrites=bS(t.visibleWrites,i.path);else{const c=i.children;qt(c,d=>{t.visibleWrites=bS(t.visibleWrites,gt(i.path,d))})}return!0}else return!1}function BL(t,e){if(t.snap)return Fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Fn(gt(t.path,n),e))return!0;return!1}function VL(t){t.visibleWrites=ET(t.allWrites,HL,Ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function HL(t){return t.visible}function ET(t,e,n){let i=ii.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const u=l.path;let c;if(l.snap)Fn(n,u)?(c=cn(n,u),i=Cl(i,c,l.snap)):Fn(u,n)&&(c=cn(u,n),i=Cl(i,Ye(),l.snap.getChild(c)));else if(l.children){if(Fn(n,u))c=cn(n,u),i=Mm(i,c,l.children);else if(Fn(u,n))if(c=cn(u,n),Be(c))i=Mm(i,Ye(),l.children);else{const d=Ua(l.children,Pe(c));if(d){const h=d.getChild(rt(c));i=Cl(i,Ye(),h)}}}else throw Xa("WriteRecord should have .snap or .children")}}return i}function TT(t,e,n,i,a){if(!i&&!a){const l=Os(t.visibleWrites,e);if(l!=null)return l;{const u=Pr(t.visibleWrites,e);if(Lm(u))return n;if(n==null&&!Pm(u,Ye()))return null;{const c=n||Te.EMPTY_NODE;return Fa(u,c)}}}else{const l=Pr(t.visibleWrites,e);if(!a&&Lm(l))return n;if(!a&&n==null&&!Pm(l,Ye()))return null;{const u=function(h){return(h.visible||a)&&(!i||!~i.indexOf(h.writeId))&&(Fn(h.path,e)||Fn(e,h.path))},c=ET(t.allWrites,u,e),d=n||Te.EMPTY_NODE;return Fa(c,d)}}}function FL(t,e,n){let i=Te.EMPTY_NODE;const a=Os(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(yt,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=Pr(t.visibleWrites,e);return n.forEachChild(yt,(u,c)=>{const d=Fa(Pr(l,new Je(u)),c);i=i.updateImmediateChild(u,d)}),xS(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Pr(t.visibleWrites,e);return xS(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function qL(t,e,n,i,a){he(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=gt(e,n);if(Pm(t.visibleWrites,l))return null;{const u=Pr(t.visibleWrites,l);return Lm(u)?a.getChild(n):Fa(u,a.getChild(n))}}function GL(t,e,n,i){const a=gt(e,n),l=Os(t.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=Pr(t.visibleWrites,a);return Fa(u,i.getNode().getImmediateChild(n))}else return null}function YL(t,e){return Os(t.visibleWrites,e)}function KL(t,e,n,i,a,l,u){let c;const d=Pr(t.visibleWrites,e),h=Os(d,Ye());if(h!=null)c=h;else if(n!=null)c=Fa(d,n);else return[];if(c=c.withIndex(u),!c.isEmpty()&&!c.isLeafNode()){const p=[],g=u.getCompare(),v=l?c.getReverseIteratorFrom(i,u):c.getIteratorFrom(i,u);let _=v.getNext();for(;_&&p.length<a;)g(_,i)!==0&&p.push(_),_=v.getNext();return p}else return[]}function WL(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function xf(t,e,n,i){return TT(t.writeTree,t.treePath,e,n,i)}function ay(t,e){return FL(t.writeTree,t.treePath,e)}function SS(t,e,n,i){return qL(t.writeTree,t.treePath,e,n,i)}function Sf(t,e){return YL(t.writeTree,gt(t.treePath,e))}function $L(t,e,n,i,a,l){return KL(t.writeTree,t.treePath,e,n,i,a,l)}function oy(t,e,n){return GL(t.writeTree,t.treePath,e,n)}function CT(t,e){return AT(gt(t.treePath,e),t.writeTree)}function AT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,ql(i,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,Fl(i,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Va(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,ql(i,e.snapshotNode,a.oldSnap));else throw Xa("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const RT=new QL;class ly{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oy(this.writes_,e,i)}}getChildAfterChild(e,n,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ns(this.viewCache_),l=$L(this.writes_,a,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){return{filter:t}}function JL(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function e3(t,e,n,i,a){const l=new XL;let u,c;if(n.type===ti.OVERWRITE){const h=n;h.source.fromUser?u=jm(t,e,h.path,h.snap,i,a,l):(he(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!Be(h.path),u=wf(t,e,h.path,h.snap,i,a,c,l))}else if(n.type===ti.MERGE){const h=n;h.source.fromUser?u=n3(t,e,h.path,h.children,i,a,l):(he(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),u=Um(t,e,h.path,h.children,i,a,c,l))}else if(n.type===ti.ACK_USER_WRITE){const h=n;h.revert?u=s3(t,e,h.path,i,a,l):u=i3(t,e,h.path,h.affectedTree,i,a,l)}else if(n.type===ti.LISTEN_COMPLETE)u=r3(t,e,n.path,i,l);else throw Xa("Unknown operation type: "+n.type);const d=l.getChanges();return t3(e,u,d),{viewCache:u,changes:d}}function t3(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Om(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(bT(Om(e)))}}function kT(t,e,n,i,a,l){const u=e.eventCache;if(Sf(i,n)!=null)return e;{let c,d;if(Be(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Ns(e),p=h instanceof Te?h:Te.EMPTY_NODE,g=ay(i,p);c=t.filter.updateFullNode(e.eventCache.getNode(),g,l)}else{const h=xf(i,Ns(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,l)}else{const h=Pe(n);if(h===".priority"){he(Lr(n)===1,"Can't have a priority with additional path components");const p=u.getNode();d=e.serverCache.getNode();const g=SS(i,n,p,d);g!=null?c=t.filter.updatePriority(p,g):c=u.getNode()}else{const p=rt(n);let g;if(u.isCompleteForChild(h)){d=e.serverCache.getNode();const v=SS(i,n,u.getNode(),d);v!=null?g=u.getNode().getImmediateChild(h).updateChild(p,v):g=u.getNode().getImmediateChild(h)}else g=oy(i,h,e.serverCache);g!=null?c=t.filter.updateChild(u.getNode(),h,g,p,a,l):c=u.getNode()}}return Tl(e,c,u.isFullyInitialized()||Be(n),t.filter.filtersNodes())}}function wf(t,e,n,i,a,l,u,c){const d=e.serverCache;let h;const p=u?t.filter:t.filter.getIndexedFilter();if(Be(n))h=p.updateFullNode(d.getNode(),i,null);else if(p.filtersNodes()&&!d.isFiltered()){const _=d.getNode().updateChild(n,i);h=p.updateFullNode(d.getNode(),_,null)}else{const _=Pe(n);if(!d.isCompleteForPath(n)&&Lr(n)>1)return e;const S=rt(n),R=d.getNode().getImmediateChild(_).updateChild(S,i);_===".priority"?h=p.updatePriority(d.getNode(),R):h=p.updateChild(d.getNode(),_,R,S,RT,null)}const g=ST(e,h,d.isFullyInitialized()||Be(n),p.filtersNodes()),v=new ly(a,g,l);return kT(t,g,n,a,v,c)}function jm(t,e,n,i,a,l,u){const c=e.eventCache;let d,h;const p=new ly(a,e,l);if(Be(n))h=t.filter.updateFullNode(e.eventCache.getNode(),i,u),d=Tl(e,h,!0,t.filter.filtersNodes());else{const g=Pe(n);if(g===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),i),d=Tl(e,h,c.isFullyInitialized(),c.isFiltered());else{const v=rt(n),_=c.getNode().getImmediateChild(g);let S;if(Be(v))S=i;else{const w=p.getCompleteChild(g);w!=null?Xg(v)===".priority"&&w.getChild(dT(v)).isEmpty()?S=w:S=w.updateChild(v,i):S=Te.EMPTY_NODE}if(_.equals(S))d=e;else{const w=t.filter.updateChild(c.getNode(),g,S,v,p,u);d=Tl(e,w,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function wS(t,e){return t.eventCache.isCompleteForChild(e)}function n3(t,e,n,i,a,l,u){let c=e;return i.foreach((d,h)=>{const p=gt(n,d);wS(e,Pe(p))&&(c=jm(t,c,p,h,a,l,u))}),i.foreach((d,h)=>{const p=gt(n,d);wS(e,Pe(p))||(c=jm(t,c,p,h,a,l,u))}),c}function ES(t,e,n){return n.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function Um(t,e,n,i,a,l,u,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;Be(n)?h=i:h=new it(null).setTree(n,i);const p=e.serverCache.getNode();return h.children.inorderTraversal((g,v)=>{if(p.hasChild(g)){const _=e.serverCache.getNode().getImmediateChild(g),S=ES(t,_,v);d=wf(t,d,new Je(g),S,a,l,u,c)}}),h.children.inorderTraversal((g,v)=>{const _=!e.serverCache.isCompleteForChild(g)&&v.value===null;if(!p.hasChild(g)&&!_){const S=e.serverCache.getNode().getImmediateChild(g),w=ES(t,S,v);d=wf(t,d,new Je(g),w,a,l,u,c)}}),d}function i3(t,e,n,i,a,l,u){if(Sf(a,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(i.value!=null){if(Be(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return wf(t,e,n,d.getNode().getChild(n),a,l,c,u);if(Be(n)){let h=new it(null);return d.getNode().forEachChild(Oa,(p,g)=>{h=h.set(new Je(p),g)}),Um(t,e,n,h,a,l,c,u)}else return e}else{let h=new it(null);return i.foreach((p,g)=>{const v=gt(n,p);d.isCompleteForPath(v)&&(h=h.set(p,d.getNode().getChild(v)))}),Um(t,e,n,h,a,l,c,u)}}function r3(t,e,n,i,a){const l=e.serverCache,u=ST(e,l.getNode(),l.isFullyInitialized()||Be(n),l.isFiltered());return kT(t,u,n,i,RT,a)}function s3(t,e,n,i,a,l){let u;if(Sf(i,n)!=null)return e;{const c=new ly(i,e,a),d=e.eventCache.getNode();let h;if(Be(n)||Pe(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=xf(i,Ns(e));else{const g=e.serverCache.getNode();he(g instanceof Te,"serverChildren would be complete if leaf node"),p=ay(i,g)}p=p,h=t.filter.updateFullNode(d,p,l)}else{const p=Pe(n);let g=oy(i,p,e.serverCache);g==null&&e.serverCache.isCompleteForChild(p)&&(g=d.getImmediateChild(p)),g!=null?h=t.filter.updateChild(d,p,g,rt(n),c,l):e.eventCache.getNode().hasChild(p)?h=t.filter.updateChild(d,p,Te.EMPTY_NODE,rt(n),c,l):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=xf(i,Ns(e)),u.isLeafNode()&&(h=t.filter.updateFullNode(h,u,l)))}return u=e.serverCache.isFullyInitialized()||Sf(i,Ye())!=null,Tl(e,h,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new ey(i.getIndex()),l=EL(i);this.processor_=ZL(l);const u=n.serverCache,c=n.eventCache,d=a.updateFullNode(Te.EMPTY_NODE,u.getNode(),null),h=l.updateFullNode(Te.EMPTY_NODE,c.getNode(),null),p=new ks(d,u.isFullyInitialized(),a.filtersNodes()),g=new ks(h,c.isFullyInitialized(),l.filtersNodes());this.viewCache_=qf(g,p),this.eventGenerator_=new IL(this.query_)}get query(){return this.query_}}function o3(t){return t.viewCache_.serverCache.getNode()}function l3(t,e){const n=Ns(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Be(e)&&!n.getImmediateChild(Pe(e)).isEmpty())?n.getChild(e):null}function TS(t){return t.eventRegistrations_.length===0}function u3(t,e){t.eventRegistrations_.push(e)}function CS(t,e,n){const i=[];if(n){he(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,a);u&&i.push(u)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function AS(t,e,n,i){e.type===ti.MERGE&&e.source.queryId!==null&&(he(Ns(t.viewCache_),"We should always have a full cache before handling merges"),he(Om(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=e3(t.processor_,a,e,n,i);return JL(t.processor_,l.viewCache),he(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,NT(t,l.changes,l.viewCache.eventCache.getNode(),null)}function c3(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(l,u)=>{i.push(Va(l,u))}),n.isFullyInitialized()&&i.push(bT(n.getNode())),NT(t,i,n.getNode(),e)}function NT(t,e,n,i){const a=i?[i]:t.eventRegistrations_;return DL(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;class f3{constructor(){this.views=new Map}}function h3(t){he(!Ef,"__referenceConstructor has already been defined"),Ef=t}function d3(){return he(Ef,"Reference.ts has not been loaded"),Ef}function p3(t){return t.views.size===0}function uy(t,e,n,i){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return he(l!=null,"SyncTree gave us an op for an invalid query."),AS(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(AS(u,e,n,i));return l}}function m3(t,e,n,i,a){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let c=xf(n,a?i:null),d=!1;c?d=!0:i instanceof Te?(c=ay(n,i),d=!1):(c=Te.EMPTY_NODE,d=!1);const h=qf(new ks(c,d,!1),new ks(i,a,!1));return new a3(e,h)}return u}function g3(t,e,n,i,a,l){const u=m3(t,e,i,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),u3(u,n),c3(u,n)}function y3(t,e,n,i){const a=e._queryIdentifier,l=[];let u=[];const c=jr(t);if(a==="default")for(const[d,h]of t.views.entries())u=u.concat(CS(h,n,i)),TS(h)&&(t.views.delete(d),h.query._queryParams.loadsAllData()||l.push(h.query));else{const d=t.views.get(a);d&&(u=u.concat(CS(d,n,i)),TS(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||l.push(d.query)))}return c&&!jr(t)&&l.push(new(d3())(e._repo,e._path)),{removed:l,events:u}}function IT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ma(t,e){let n=null;for(const i of t.views.values())n=n||l3(i,e);return n}function DT(t,e){if(e._queryParams.loadsAllData())return Gf(t);{const i=e._queryIdentifier;return t.views.get(i)}}function OT(t,e){return DT(t,e)!=null}function jr(t){return Gf(t)!=null}function Gf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;function v3(t){he(!Tf,"__referenceConstructor has already been defined"),Tf=t}function _3(){return he(Tf,"Reference.ts has not been loaded"),Tf}let b3=1;class RS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=WL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MT(t,e,n,i,a){return LL(t.pendingWriteTree_,e,n,i,a),a?no(t,new Rs(ny(),e,n)):[]}function x3(t,e,n,i){jL(t.pendingWriteTree_,e,n,i);const a=it.fromObject(n);return no(t,new Ha(ny(),e,a))}function Ir(t,e,n=!1){const i=UL(t.pendingWriteTree_,e);if(zL(t.pendingWriteTree_,e)){let l=new it(null);return i.snap!=null?l=l.set(Ye(),!0):qt(i.children,u=>{l=l.set(new Je(u),!0)}),no(t,new bf(i.path,l,n))}else return[]}function Yf(t,e,n){return no(t,new Rs(iy(),e,n))}function S3(t,e,n){const i=it.fromObject(n);return no(t,new Ha(iy(),e,i))}function w3(t,e){return no(t,new Yl(iy(),e))}function E3(t,e,n){const i=fy(t,n);if(i){const a=hy(i),l=a.path,u=a.queryId,c=cn(l,e),d=new Yl(ry(u),c);return dy(t,l,d)}else return[]}function zm(t,e,n,i,a=!1){const l=e._path,u=t.syncPointTree_.get(l);let c=[];if(u&&(e._queryIdentifier==="default"||OT(u,e))){const d=y3(u,e,n,i);p3(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const h=d.removed;if(c=d.events,!a){const p=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(l,(v,_)=>jr(_));if(p&&!g){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const _=A3(v);for(let S=0;S<_.length;++S){const w=_[S],R=w.query,T=jT(t,w);t.listenProvider_.startListening(Al(R),Cf(t,R),T.hashFn,T.onComplete)}}}!g&&h.length>0&&!i&&(p?t.listenProvider_.stopListening(Al(e),null):h.forEach(v=>{const _=t.queryToTagMap.get(Kf(v));t.listenProvider_.stopListening(Al(v),_)}))}R3(t,h)}return c}function T3(t,e,n,i){const a=fy(t,i);if(a!=null){const l=hy(a),u=l.path,c=l.queryId,d=cn(u,e),h=new Rs(ry(c),d,n);return dy(t,u,h)}else return[]}function C3(t,e,n,i){const a=fy(t,i);if(a){const l=hy(a),u=l.path,c=l.queryId,d=cn(u,e),h=it.fromObject(n),p=new Ha(ry(c),d,h);return dy(t,u,p)}else return[]}function kS(t,e,n,i=!1){const a=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(a,(v,_)=>{const S=cn(v,a);l=l||Ma(_,S),u=u||jr(_)});let c=t.syncPointTree_.get(a);c?(u=u||jr(c),l=l||Ma(c,Ye())):(c=new f3,t.syncPointTree_=t.syncPointTree_.set(a,c));let d;l!=null?d=!0:(d=!1,l=Te.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((_,S)=>{const w=Ma(S,Ye());w&&(l=l.updateImmediateChild(_,w))}));const h=OT(c,e);if(!h&&!e._queryParams.loadsAllData()){const v=Kf(e);he(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const _=k3();t.queryToTagMap.set(v,_),t.tagToQueryMap.set(_,v)}const p=sy(t.pendingWriteTree_,a);let g=g3(c,e,n,p,l,d);if(!h&&!u&&!i){const v=DT(c,e);g=g.concat(N3(t,e,v))}return g}function cy(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,c)=>{const d=cn(u,e),h=Ma(c,d);if(h)return h});return TT(a,e,l,n,!0)}function no(t,e){return PT(e,t.syncPointTree_,null,sy(t.pendingWriteTree_,Ye()))}function PT(t,e,n,i){if(Be(t.path))return LT(t,e,n,i);{const a=e.get(Ye());n==null&&a!=null&&(n=Ma(a,Ye()));let l=[];const u=Pe(t.path),c=t.operationForChild(u),d=e.children.get(u);if(d&&c){const h=n?n.getImmediateChild(u):null,p=CT(i,u);l=l.concat(PT(c,d,h,p))}return a&&(l=l.concat(uy(a,t,i,n))),l}}function LT(t,e,n,i){const a=e.get(Ye());n==null&&a!=null&&(n=Ma(a,Ye()));let l=[];return e.children.inorderTraversal((u,c)=>{const d=n?n.getImmediateChild(u):null,h=CT(i,u),p=t.operationForChild(u);p&&(l=l.concat(LT(p,c,d,h)))}),a&&(l=l.concat(uy(a,t,i,n))),l}function jT(t,e){const n=e.query,i=Cf(t,n);return{hashFn:()=>(o3(e)||Te.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?E3(t,n._path,i):w3(t,n._path);{const l=SP(a,n);return zm(t,n,null,l)}}}}function Cf(t,e){const n=Kf(e);return t.queryToTagMap.get(n)}function Kf(t){return t._path.toString()+"$"+t._queryIdentifier}function fy(t,e){return t.tagToQueryMap.get(e)}function hy(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function dy(t,e,n){const i=t.syncPointTree_.get(e);he(i,"Missing sync point for query tag that we're tracking");const a=sy(t.pendingWriteTree_,e);return uy(i,n,a,null)}function A3(t){return t.fold((e,n,i)=>{if(n&&jr(n))return[Gf(n)];{let a=[];return n&&(a=IT(n)),qt(i,(l,u)=>{a=a.concat(u)}),a}})}function Al(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_3())(t._repo,t._path):t}function R3(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const a=Kf(i),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function k3(){return b3++}function N3(t,e,n){const i=e._path,a=Cf(t,e),l=jT(t,n),u=t.listenProvider_.startListening(Al(e),a,l.hashFn,l.onComplete),c=t.syncPointTree_.subtree(i);if(a)he(!jr(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((h,p,g)=>{if(!Be(h)&&p&&jr(p))return[Gf(p).query];{let v=[];return p&&(v=v.concat(IT(p).map(_=>_.query))),qt(g,(_,S)=>{v=v.concat(S)}),v}});for(let h=0;h<d.length;++h){const p=d[h];t.listenProvider_.stopListening(Al(p),Cf(t,p))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new py(n)}node(){return this.node_}}class my{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=gt(this.path_,e);return new my(this.syncTree_,n)}node(){return cy(this.syncTree_,this.path_)}}const I3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NS=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return D3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return O3(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},D3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},O3=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&he(!1,"Unexpected increment value: "+i);const a=e.node();if(he(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const u=a.getValue();return typeof u!="number"?i:u+i},UT=function(t,e,n,i){return gy(e,new my(n,t),i)},zT=function(t,e,n){return gy(t,new py(e),n)};function gy(t,e,n){const i=t.getPriority().val(),a=NS(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,c=NS(u.getValue(),e,n);return c!==u.getValue()||a!==u.getPriority().val()?new Mt(c,Lt(a)):t}else{const u=t;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new Mt(a))),u.forEachChild(yt,(c,d)=>{const h=gy(d,e.getImmediateChild(c),n);h!==d&&(l=l.updateImmediateChild(c,h))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function vy(t,e){let n=e instanceof Je?e:new Je(e),i=t,a=Pe(n);for(;a!==null;){const l=Ua(i.node.children,a)||{children:{},childCount:0};i=new yy(a,i,l),n=rt(n),a=Pe(n)}return i}function io(t){return t.node.value}function BT(t,e){t.node.value=e,Bm(t)}function VT(t){return t.node.childCount>0}function M3(t){return io(t)===void 0&&!VT(t)}function Wf(t,e){qt(t.node.children,(n,i)=>{e(new yy(n,t,i))})}function HT(t,e,n,i){n&&e(t),Wf(t,a=>{HT(a,e,!0)})}function P3(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function pu(t){return new Je(t.parent===null?t.name:pu(t.parent)+"/"+t.name)}function Bm(t){t.parent!==null&&L3(t.parent,t.name,t)}function L3(t,e,n){const i=M3(n),a=Si(t.node.children,e);i&&a?(delete t.node.children[e],t.node.childCount--,Bm(t)):!i&&!a&&(t.node.children[e]=n.node,t.node.childCount++,Bm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=/[\[\].#$\/\u0000-\u001F\u007F]/,U3=/[\[\].#$\u0000-\u001F\u007F]/,Bp=10*1024*1024,_y=function(t){return typeof t=="string"&&t.length!==0&&!j3.test(t)},FT=function(t){return typeof t=="string"&&t.length!==0&&!U3.test(t)},z3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),FT(t)},B3=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gg(t)||t&&typeof t=="object"&&Si(t,".sv")},qT=function(t,e,n,i){i&&e===void 0||$f(Uf(t,"value"),e,n)},$f=function(t,e,n){const i=n instanceof Je?new nL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ds(i));if(typeof e=="function")throw new Error(t+"contains a function "+ds(i)+" with contents = "+e.toString());if(Gg(e))throw new Error(t+"contains "+e.toString()+" "+ds(i));if(typeof e=="string"&&e.length>Bp/3&&zf(e)>Bp)throw new Error(t+"contains a string greater than "+Bp+" utf8 bytes "+ds(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(qt(e,(u,c)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!_y(u)))throw new Error(t+" contains an invalid key ("+u+") "+ds(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iL(i,u),$f(t,c,i),rL(i)}),a&&l)throw new Error(t+' contains ".value" child '+ds(i)+" in addition to actual children.")}},V3=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Hl(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!_y(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(tL);let a=null;for(n=0;n<e.length;n++){if(i=e[n],a!==null&&Fn(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},H3=function(t,e,n,i){const a=Uf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const l=[];qt(e,(u,c)=>{const d=new Je(u);if($f(a,c,gt(n,d)),Xg(d)===".priority"&&!B3(c))throw new Error(a+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(d)}),V3(a,l)},GT=function(t,e,n,i){if(!FT(n))throw new Error(Uf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},F3=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),GT(t,e,n)},YT=function(t,e){if(Pe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},q3=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_y(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!z3(n))throw new Error(Uf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xf(t,e){let n=null;for(let i=0;i<e.length;i++){const a=e[i],l=a.getPath();n!==null&&!Qg(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function KT(t,e,n){Xf(t,n),WT(t,i=>Qg(i,e))}function si(t,e,n){Xf(t,n),WT(t,i=>Fn(i,e)||Fn(e,i))}function WT(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const a=t.eventLists_[i];if(a){const l=a.path;e(l)?(Y3(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Y3(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();wl&&Ft("event: "+n.toString()),to(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="repo_interrupt",W3=25;class $3{constructor(e,n,i,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new G3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_f(),this.transactionQueueTree_=new yy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function X3(t,e,n){if(t.stats_=Wg(t.repoInfo_),t.forceRestClient_||CP())t.server_=new vf(t.repoInfo_,(i,a,l,u)=>{IS(t,i,a,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>DS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ki(t.repoInfo_,e,(i,a,l,u)=>{IS(t,i,a,l,u)},i=>{DS(t,i)},i=>{Q3(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=IP(t.repoInfo_,()=>new NL(t.stats_,t.server_)),t.infoData_=new TL,t.infoSyncTree_=new RS({startListening:(i,a,l,u)=>{let c=[];const d=t.infoData_.getNode(i._path);return d.isEmpty()||(c=Yf(t.infoSyncTree_,i._path,d),setTimeout(()=>{u("ok")},0)),c},stopListening:()=>{}}),by(t,"connected",!1),t.serverSyncTree_=new RS({startListening:(i,a,l,u)=>(t.server_.listen(i,l,a,(c,d)=>{const h=u(c,d);si(t.eventQueue_,i._path,h)}),[]),stopListening:(i,a)=>{t.server_.unlisten(i,a)}})}function $T(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qf(t){return I3({timestamp:$T(t)})}function IS(t,e,n,i,a){t.dataUpdateCount++;const l=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(a)if(i){const d=of(n,h=>Lt(h));u=C3(t.serverSyncTree_,l,d,a)}else{const d=Lt(n);u=T3(t.serverSyncTree_,l,d,a)}else if(i){const d=of(n,h=>Lt(h));u=S3(t.serverSyncTree_,l,d)}else{const d=Lt(n);u=Yf(t.serverSyncTree_,l,d)}let c=l;u.length>0&&(c=qa(t,l)),si(t.eventQueue_,c,u)}function DS(t,e){by(t,"connected",e),e===!1&&e4(t)}function Q3(t,e){qt(e,(n,i)=>{by(t,n,i)})}function by(t,e,n){const i=new Je("/.info/"+e),a=Lt(n);t.infoData_.updateSnapshot(i,a);const l=Yf(t.infoSyncTree_,i,a);si(t.eventQueue_,i,l)}function xy(t){return t.nextWriteId_++}function Z3(t,e,n,i,a){Zf(t,"set",{path:e.toString(),value:n,priority:i});const l=Qf(t),u=Lt(n,i),c=cy(t.serverSyncTree_,e),d=zT(u,c,l),h=xy(t),p=MT(t.serverSyncTree_,e,d,h,!0);Xf(t.eventQueue_,p),t.server_.put(e.toString(),u.val(!0),(v,_)=>{const S=v==="ok";S||Jt("set at "+e+" failed: "+v);const w=Ir(t.serverSyncTree_,h,!S);si(t.eventQueue_,e,w),Vm(t,a,v,_)});const g=wy(t,e);qa(t,g),si(t.eventQueue_,g,[])}function J3(t,e,n,i){Zf(t,"update",{path:e.toString(),value:n});let a=!0;const l=Qf(t),u={};if(qt(n,(c,d)=>{a=!1,u[c]=UT(gt(e,c),Lt(d),t.serverSyncTree_,l)}),a)Ft("update() called with empty data.  Don't do anything."),Vm(t,i,"ok",void 0);else{const c=xy(t),d=x3(t.serverSyncTree_,e,u,c);Xf(t.eventQueue_,d),t.server_.merge(e.toString(),n,(h,p)=>{const g=h==="ok";g||Jt("update at "+e+" failed: "+h);const v=Ir(t.serverSyncTree_,c,!g),_=v.length>0?qa(t,e):e;si(t.eventQueue_,_,v),Vm(t,i,h,p)}),qt(n,h=>{const p=wy(t,gt(e,h));qa(t,p)}),si(t.eventQueue_,e,[])}}function e4(t){Zf(t,"onDisconnectEvents");const e=Qf(t),n=_f();Dm(t.onDisconnect_,Ye(),(a,l)=>{const u=UT(a,l,t.serverSyncTree_,e);xT(n,a,u)});let i=[];Dm(n,Ye(),(a,l)=>{i=i.concat(Yf(t.serverSyncTree_,a,l));const u=wy(t,a);qa(t,u)}),t.onDisconnect_=_f(),si(t.eventQueue_,Ye(),i)}function t4(t,e,n){let i;Pe(e._path)===".info"?i=kS(t.infoSyncTree_,e,n):i=kS(t.serverSyncTree_,e,n),KT(t.eventQueue_,e._path,i)}function OS(t,e,n){let i;Pe(e._path)===".info"?i=zm(t.infoSyncTree_,e,n):i=zm(t.serverSyncTree_,e,n),KT(t.eventQueue_,e._path,i)}function n4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(K3)}function Zf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ft(n,...e)}function Vm(t,e,n,i){e&&to(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;i&&(l+=": "+i);const u=new Error(l);u.code=a,e(u)}})}function XT(t,e,n){return cy(t.serverSyncTree_,e,n)||Te.EMPTY_NODE}function Sy(t,e=t.transactionQueueTree_){if(e||Jf(t,e),io(e)){const n=ZT(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&i4(t,pu(e),n)}else VT(e)&&Wf(e,n=>{Sy(t,n)})}function i4(t,e,n){const i=n.map(h=>h.currentWriteId),a=XT(t,e,i);let l=a;const u=a.hash();for(let h=0;h<n.length;h++){const p=n[h];he(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=cn(e,p.path);l=l.updateChild(g,p.currentOutputSnapshotRaw)}const c=l.val(!0),d=e;t.server_.put(d.toString(),c,h=>{Zf(t,"transaction put response",{path:d.toString(),status:h});let p=[];if(h==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(Ir(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Jf(t,vy(t.transactionQueueTree_,e)),Sy(t,t.transactionQueueTree_),si(t.eventQueue_,e,p);for(let v=0;v<g.length;v++)to(g[v])}else{if(h==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Jt("transaction at "+d.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}qa(t,e)}},u)}function qa(t,e){const n=QT(t,e),i=pu(n),a=ZT(t,n);return r4(t,a,i),i}function r4(t,e,n){if(e.length===0)return;const i=[];let a=[];const u=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=cn(n,d.path);let p=!1,g;if(he(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)p=!0,g=d.abortReason,a=a.concat(Ir(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=W3)p=!0,g="maxretry",a=a.concat(Ir(t.serverSyncTree_,d.currentWriteId,!0));else{const v=XT(t,d.path,u);d.currentInputSnapshot=v;const _=e[c].update(v.val());if(_!==void 0){$f("transaction failed: Data returned ",_,d.path);let S=Lt(_);typeof _=="object"&&_!=null&&Si(_,".priority")||(S=S.updatePriority(v.getPriority()));const R=d.currentWriteId,T=Qf(t),k=zT(S,v,T);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=k,d.currentWriteId=xy(t),u.splice(u.indexOf(R),1),a=a.concat(MT(t.serverSyncTree_,d.path,k,d.currentWriteId,d.applyLocally)),a=a.concat(Ir(t.serverSyncTree_,R,!0))}else p=!0,g="nodata",a=a.concat(Ir(t.serverSyncTree_,d.currentWriteId,!0))}si(t.eventQueue_,n,a),a=[],p&&(e[c].status=2,function(v){setTimeout(v,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(g==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(g),!1,null))))}Jf(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)to(i[c]);Sy(t,t.transactionQueueTree_)}function QT(t,e){let n,i=t.transactionQueueTree_;for(n=Pe(e);n!==null&&io(i)===void 0;)i=vy(i,n),e=rt(e),n=Pe(e);return i}function ZT(t,e){const n=[];return JT(t,e,n),n.sort((i,a)=>i.order-a.order),n}function JT(t,e,n){const i=io(e);if(i)for(let a=0;a<i.length;a++)n.push(i[a]);Wf(e,a=>{JT(t,a,n)})}function Jf(t,e){const n=io(e);if(n){let i=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[i]=n[a],i++);n.length=i,BT(e,n.length>0?n:void 0)}Wf(e,i=>{Jf(t,i)})}function wy(t,e){const n=pu(QT(t,e)),i=vy(t.transactionQueueTree_,e);return P3(i,a=>{Vp(t,a)}),Vp(t,i),HT(i,a=>{Vp(t,a)}),n}function Vp(t,e){const n=io(e);if(n){const i=[];let a=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(he(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(he(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(Ir(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?BT(e,void 0):n.length=l+1,si(t.eventQueue_,pu(e),a);for(let u=0;u<i.length;u++)to(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let a=n[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function a4(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Jt(`Invalid query segment '${n}' in query '${t}'`)}return e}const MS=function(t,e){const n=o4(t),i=n.namespace;n.domain==="firebase.com"&&Qi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yP();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rT(n.host,n.secure,i,a,e,"",i!==n.subdomain),path:new Je(n.pathString)}},o4=function(t){let e="",n="",i="",a="",l="",u=!0,c="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let p=t.indexOf("/");p===-1&&(p=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(p,g)),p<g&&(a=s4(t.substring(p,g)));const v=a4(t.substring(Math.min(t.length,g)));h=e.indexOf(":"),h>=0?(u=c==="https"||c==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),n=e.substring(S+1),l=i}"ns"in v&&(l=v.ns)}return{host:e,port:d,domain:n,subdomain:i,secure:u,scheme:c,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",l4=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let a;const l=new Array(8);for(a=7;a>=0;a--)l[a]=PS.charAt(n%64),n=Math.floor(n/64);he(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)u+=PS.charAt(e[a]);return he(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,i,a){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())}}class c4{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return he(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,i,a){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=a}get key(){return Be(this._path)?null:Xg(this._path)}get ref(){return new qr(this._repo,this._path)}get _queryIdentifier(){const e=vS(this._queryParams),n=Yg(e);return n==="{}"?"default":n}get _queryObject(){return vS(this._queryParams)}isEqual(e){if(e=pn(e),!(e instanceof Ey))return!1;const n=this._repo===e._repo,i=Qg(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+eL(this._path)}}class qr extends Ey{constructor(e,n){super(e,n,new ty,!1)}get parent(){const e=dT(this._path);return e===null?null:new qr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Af{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Je(e),i=Kl(this.ref,e);return new Af(this._node.getChild(n),i,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new Af(a,Kl(this.ref,i),yt)))}hasChild(e){const n=new Je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function at(t,e){return t=pn(t),t._checkNotDeleted("ref"),e!==void 0?Kl(t._root,e):t._root}function Kl(t,e){return t=pn(t),Pe(t._path)===null?F3("child","path",e):GT("child","path",e),new qr(t._repo,gt(t._path,e))}function Lc(t,e){t=pn(t),YT("push",t._path),qT("push",e,t._path,!0);const n=$T(t._repo),i=l4(n),a=Kl(t,i),l=Kl(t,i);let u;return u=Promise.resolve(l),a.then=u.then.bind(u),a.catch=u.then.bind(u,void 0),a}function Cr(t,e){t=pn(t),YT("set",t._path),qT("set",e,t._path,!1);const n=new su;return Z3(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function h4(t,e){H3("update",e,t._path);const n=new su;return J3(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Ty{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new u4("value",this,new Af(e.snapshotNode,new qr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c4(this,e,n):null}matches(e){return e instanceof Ty?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function d4(t,e,n,i,a){let l;if(typeof i=="object"&&(l=void 0,a=i),typeof i=="function"&&(l=i),a&&a.onlyOnce){const d=n,h=(p,g)=>{OS(t._repo,t,c),d(p,g)};h.userCallback=n.userCallback,h.context=n.context,n=h}const u=new f4(n,l||void 0),c=new Ty(u);return t4(t._repo,t,c),()=>OS(t._repo,t,c)}function ms(t,e,n,i){return d4(t,"value",e,n,i)}h3(qr);v3(qr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="FIREBASE_DATABASE_EMULATOR_HOST",Hm={};let m4=!1;function g4(t,e,n,i){const a=e.lastIndexOf(":"),l=e.substring(0,a),u=Qa(l);t.repoInfo_=new rT(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function y4(t,e,n,i,a){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=MS(l,a),c=u.repoInfo,d;typeof process<"u"&&eS&&(d=eS[p4]),d?(l=`http://${d}?ns=${c.namespace}`,u=MS(l,a),c=u.repoInfo):u.repoInfo.secure;const h=new RP(t.name,t.options,e);q3("Invalid Firebase Database URL",u),Be(u.path)||Qi("Database URL must point to the root of a Firebase Database (not including a child path).");const p=_4(c,t,h,new AP(t,n));return new b4(p,t)}function v4(t,e){const n=Hm[e];(!n||n[t.key]!==t)&&Qi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),n4(t),delete n[t.key]}function _4(t,e,n,i){let a=Hm[e.name];a||(a={},Hm[e.name]=a);let l=a[t.toURLString()];return l&&Qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new $3(t,m4,n,i),a[t.toURLString()]=l,l}class b4{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(X3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qr(this._repo,Ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qi("Cannot call "+e+" on a deleted database.")}}function Cn(t=lE(),e){const n=Og(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=bD("database");i&&x4(n,...i)}return n}function x4(t,e,n,i={}){t=pn(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&ws(i,l.repoInfo_.emulatorOptions))return;Qi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Xc(Xc.OWNER);else if(i.mockUserToken){const c=typeof i.mockUserToken=="string"?i.mockUserToken:xD(i.mockUserToken,t.app.options.projectId);u=new Xc(c)}Qa(e)&&(tE(e),nE("Database",!0)),g4(l,a,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){fP(Ja),za(new Es("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return y4(i,a,l,n)},"PUBLIC").setMultipleInstances(!0)),Mr(tS,nS,t),Mr(tS,nS,"esm2017")}Ki.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ki.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};S4();var w4={apiKey:"AIzaSyBGZDKKuWAkUaxV1rB-fkH1tYjj_kLcQSM",authDomain:"personal-webpage-4fee5.firebaseapp.com",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com",projectId:"personal-webpage-4fee5",storageBucket:"personal-webpage-4fee5.firebasestorage.app",messagingSenderId:"436484530906",appId:"1:436484530906:web:b29b6e67621aa2009cfbe3",measurementId:"G-3QP9ZY1ZF7",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com"};const eC=oE(w4),bs=oP(eC);Cn(eC);const Cy=O.createContext({});function Ay(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ry=typeof window<"u",tC=Ry?O.useLayoutEffect:O.useEffect,eh=O.createContext(null);function ky(t,e){t.indexOf(e)===-1&&t.push(e)}function Ny(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zi=(t,e,n)=>n>e?e:n<t?t:n;let Iy=()=>{};const Ji={},nC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iC(t){return typeof t=="object"&&t!==null}const rC=t=>/^0[^.\s]+$/u.test(t);function Dy(t){let e;return()=>(e===void 0&&(e=t()),e)}const qn=t=>t,E4=(t,e)=>n=>e(t(n)),mu=(...t)=>t.reduce(E4),Wl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Oy{constructor(){this.subscriptions=[]}add(e){return ky(this.subscriptions,e),()=>Ny(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=t=>t*1e3,yi=t=>t/1e3;function sC(t,e){return e?t*(1e3/e):0}const aC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,T4=1e-7,C4=12;function A4(t,e,n,i,a){let l,u,c=0;do u=e+(n-e)/2,l=aC(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>T4&&++c<C4);return u}function gu(t,e,n,i){if(t===e&&n===i)return qn;const a=l=>A4(l,0,1,t,n);return l=>l===0||l===1?l:aC(a(l),e,i)}const oC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lC=t=>e=>1-t(1-e),uC=gu(.33,1.53,.69,.99),My=lC(uC),cC=oC(My),fC=t=>(t*=2)<1?.5*My(t):.5*(2-Math.pow(2,-10*(t-1))),Py=t=>1-Math.sin(Math.acos(t)),hC=lC(Py),dC=oC(Py),R4=gu(.42,0,1,1),k4=gu(0,0,.58,1),pC=gu(.42,0,.58,1),N4=t=>Array.isArray(t)&&typeof t[0]!="number",mC=t=>Array.isArray(t)&&typeof t[0]=="number",I4={linear:qn,easeIn:R4,easeInOut:pC,easeOut:k4,circIn:Py,circInOut:dC,circOut:hC,backIn:My,backInOut:cC,backOut:uC,anticipate:fC},D4=t=>typeof t=="string",LS=t=>{if(mC(t)){Iy(t.length===4);const[e,n,i,a]=t;return gu(e,n,i,a)}else if(D4(t))return I4[t];return t},jc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){u.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,g=!1,v=!1)=>{const S=v&&a?n:i;return g&&u.add(p),S.has(p)||S.add(p),p},cancel:p=>{i.delete(p),u.delete(p)},process:p=>{if(c=p,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,h.process(p))}};return h}const M4=40;function gC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=jc.reduce((N,K)=>(N[K]=O4(l),N),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:_,postRender:S}=u,w=()=>{const N=Ji.useManualTiming?a.timestamp:performance.now();n=!1,Ji.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(N-a.timestamp,M4),1)),a.timestamp=N,a.isProcessing=!0,c.process(a),d.process(a),h.process(a),p.process(a),g.process(a),v.process(a),_.process(a),S.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(w))},R=()=>{n=!0,i=!0,a.isProcessing||t(w)};return{schedule:jc.reduce((N,K)=>{const M=u[K];return N[K]=(I,H=!1,G=!1)=>(n||R(),M.schedule(I,H,G)),N},{}),cancel:N=>{for(let K=0;K<jc.length;K++)u[jc[K]].cancel(N)},state:a,steps:u}}const{schedule:ut,cancel:Ur,state:Ht,steps:Hp}=gC(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let Qc;function P4(){Qc=void 0}const hn={now:()=>(Qc===void 0&&hn.set(Ht.isProcessing||Ji.useManualTiming?Ht.timestamp:performance.now()),Qc),set:t=>{Qc=t,queueMicrotask(P4)}},yC=t=>e=>typeof e=="string"&&e.startsWith(t),Ly=yC("--"),L4=yC("var(--"),jy=t=>L4(t)?j4.test(t.split("/*")[0].trim()):!1,j4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ro={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$l={...ro,transform:t=>Zi(0,1,t)},Uc={...ro,default:1},Rl=t=>Math.round(t*1e5)/1e5,Uy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U4(t){return t==null}const z4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zy=(t,e)=>n=>!!(typeof n=="string"&&z4.test(n)&&n.startsWith(t)||e&&!U4(n)&&Object.prototype.hasOwnProperty.call(n,e)),vC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,c]=i.match(Uy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},B4=t=>Zi(0,255,t),Fp={...ro,transform:t=>Math.round(B4(t))},vs={test:zy("rgb","red"),parse:vC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Fp.transform(t)+", "+Fp.transform(e)+", "+Fp.transform(n)+", "+Rl($l.transform(i))+")"};function V4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Fm={test:zy("#"),parse:V4,transform:vs.transform},yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ar=yu("deg"),vi=yu("%"),Ee=yu("px"),H4=yu("vh"),F4=yu("vw"),jS={...vi,parse:t=>vi.parse(t)/100,transform:t=>vi.transform(t*100)},Ea={test:zy("hsl","hue"),parse:vC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+vi.transform(Rl(e))+", "+vi.transform(Rl(n))+", "+Rl($l.transform(i))+")"},Tt={test:t=>vs.test(t)||Fm.test(t)||Ea.test(t),parse:t=>vs.test(t)?vs.parse(t):Ea.test(t)?Ea.parse(t):Fm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vs.transform(t):Ea.transform(t),getAnimatableNone:t=>{const e=Tt.parse(t);return e.alpha=0,Tt.transform(e)}},q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Uy))==null?void 0:e.length)||0)+(((n=t.match(q4))==null?void 0:n.length)||0)>0}const _C="number",bC="color",Y4="var",K4="var(",US="${}",W4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const c=e.replace(W4,d=>(Tt.test(d)?(i.color.push(l),a.push(bC),n.push(Tt.parse(d))):d.startsWith(K4)?(i.var.push(l),a.push(Y4),n.push(d)):(i.number.push(l),a.push(_C),n.push(parseFloat(d))),++l,US)).split(US);return{values:n,split:c,indexes:i,types:a}}function xC(t){return Xl(t).values}function SC(t){const{split:e,types:n}=Xl(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const c=n[u];c===_C?l+=Rl(a[u]):c===bC?l+=Tt.transform(a[u]):l+=a[u]}return l}}const $4=t=>typeof t=="number"?0:Tt.test(t)?Tt.getAnimatableNone(t):t;function X4(t){const e=xC(t);return SC(t)(e.map($4))}const zr={test:G4,parse:xC,createTransformer:SC,getAnimatableNone:X4};function qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;a=qp(d,c,t+1/3),l=qp(d,c,t),u=qp(d,c,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Rf(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,Gp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Z4=[Fm,vs,Ea],J4=t=>Z4.find(e=>e.test(t));function zS(t){const e=J4(t);if(!e)return!1;let n=e.parse(t);return e===Ea&&(n=Q4(n)),n}const BS=(t,e)=>{const n=zS(t),i=zS(e);if(!n||!i)return Rf(t,e);const a={...n};return l=>(a.red=Gp(n.red,i.red,l),a.green=Gp(n.green,i.green,l),a.blue=Gp(n.blue,i.blue,l),a.alpha=ht(n.alpha,i.alpha,l),vs.transform(a))},qm=new Set(["none","hidden"]);function ej(t,e){return qm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tj(t,e){return n=>ht(t,e,n)}function By(t){return typeof t=="number"?tj:typeof t=="string"?jy(t)?Rf:Tt.test(t)?BS:rj:Array.isArray(t)?wC:typeof t=="object"?Tt.test(t)?BS:nj:Rf}function wC(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>By(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function nj(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=By(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function ij(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],c=t.values[u]??0;n[a]=c,i[l]++}return n}const rj=(t,e)=>{const n=zr.createTransformer(e),i=Xl(t),a=Xl(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?qm.has(t)&&!a.values.length||qm.has(e)&&!i.values.length?ej(t,e):mu(wC(ij(i,a),a.values),n):Rf(t,e)};function EC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):By(t)(t,e)}const sj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>Ur(e),now:()=>Ht.isProcessing?Ht.timestamp:hn.now()}},TC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},kf=2e4;function Vy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<kf;)e+=n,i=t.next(e);return e>=kf?1/0:e}function aj(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Vy(i),kf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:yi(a)}}const oj=5;function CC(t,e,n){const i=Math.max(e-oj,0);return sC(n-t(i),e-i)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yp=.001;function lj({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:i=mt.mass}){let a,l,u=1-e;u=Zi(mt.minDamping,mt.maxDamping,u),t=Zi(mt.minDuration,mt.maxDuration,yi(t)),u<1?(a=h=>{const p=h*u,g=p*t,v=p-n,_=Gm(h,u),S=Math.exp(-g);return Yp-v/_*S},l=h=>{const g=h*u*t,v=g*n+n,_=Math.pow(u,2)*Math.pow(h,2)*t,S=Math.exp(-g),w=Gm(Math.pow(h,2),u);return(-a(h)+Yp>0?-1:1)*((v-_)*S)/w}):(a=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-Yp+p*g},l=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const c=5/t,d=cj(a,l,c);if(t=gi(t),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:u*2*Math.sqrt(i*h),duration:t}}}const uj=12;function cj(t,e,n){let i=n;for(let a=1;a<uj;a++)i=i-t(i)/e(i);return i}function Gm(t,e){return t*Math.sqrt(1-e*e)}const fj=["duration","bounce"],hj=["stiffness","damping","mass"];function VS(t,e){return e.some(n=>t[n]!==void 0)}function dj(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!VS(t,hj)&&VS(t,fj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Zi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:mt.mass,stiffness:a,damping:l}}else{const n=lj(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function Nf(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:l},{stiffness:d,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:_}=dj({...n,velocity:-yi(n.velocity||0)}),S=v||0,w=h/(2*Math.sqrt(d*p)),R=u-l,T=yi(Math.sqrt(d/p)),k=Math.abs(R)<5;i||(i=k?mt.restSpeed.granular:mt.restSpeed.default),a||(a=k?mt.restDelta.granular:mt.restDelta.default);let N;if(w<1){const M=Gm(T,w);N=I=>{const H=Math.exp(-w*T*I);return u-H*((S+w*T*R)/M*Math.sin(M*I)+R*Math.cos(M*I))}}else if(w===1)N=M=>u-Math.exp(-T*M)*(R+(S+T*R)*M);else{const M=T*Math.sqrt(w*w-1);N=I=>{const H=Math.exp(-w*T*I),G=Math.min(M*I,300);return u-H*((S+w*T*R)*Math.sinh(G)+M*R*Math.cosh(G))/M}}const K={calculatedDuration:_&&g||null,next:M=>{const I=N(M);if(_)c.done=M>=g;else{let H=M===0?S:0;w<1&&(H=M===0?gi(S):CC(N,M,I));const G=Math.abs(H)<=i,Z=Math.abs(u-I)<=a;c.done=G&&Z}return c.value=c.done?u:I,c},toString:()=>{const M=Math.min(Vy(K),kf),I=TC(H=>K.next(M*H).value,M,30);return M+"ms "+I},toTransition:()=>{}};return K}Nf.applyToOptions=t=>{const e=aj(t,100,Nf);return t.ease=e.ease,t.duration=gi(e.duration),t.type="keyframes",t};function Ym({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},_=G=>c!==void 0&&G<c||d!==void 0&&G>d,S=G=>c===void 0?d:d===void 0||Math.abs(c-G)<Math.abs(d-G)?c:d;let w=n*e;const R=g+w,T=u===void 0?R:u(R);T!==R&&(w=T-g);const k=G=>-w*Math.exp(-G/i),N=G=>T+k(G),K=G=>{const Z=k(G),ie=N(G);v.done=Math.abs(Z)<=h,v.value=v.done?T:ie};let M,I;const H=G=>{_(v.value)&&(M=G,I=Nf({keyframes:[v.value,S(v.value)],velocity:CC(N,G,v.value),damping:a,stiffness:l,restDelta:h,restSpeed:p}))};return H(0),{calculatedDuration:null,next:G=>{let Z=!1;return!I&&M===void 0&&(Z=!0,K(G),H(G)),M!==void 0&&G>=M?I.next(G-M):(!Z&&K(G),v)}}}function pj(t,e,n){const i=[],a=n||Ji.mix||EC,l=t.length-1;for(let u=0;u<l;u++){let c=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||qn:e;c=mu(d,c)}i.push(c)}return i}function mj(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Iy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=pj(e,i,a),d=c.length,h=p=>{if(u&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=Wl(t[g],t[g+1],p);return c[g](v)};return n?p=>h(Zi(t[0],t[l-1],p)):h}function gj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Wl(0,e,i);t.push(ht(n,1,a))}}function yj(t){const e=[0];return gj(e,t.length-1),e}function vj(t,e){return t.map(n=>n*e)}function _j(t,e){return t.map(()=>e||pC).splice(0,t.length-1)}function kl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=N4(i)?i.map(LS):LS(i),l={done:!1,value:e[0]},u=vj(n&&n.length===e.length?n:yj(e),t),c=mj(u,e,{ease:Array.isArray(a)?a:_j(e,a)});return{calculatedDuration:t,next:d=>(l.value=c(d),l.done=d>=t,l)}}const bj=t=>t!==null;function Hy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(bj),c=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!c||i===void 0?l[c]:i}const xj={decay:Ym,inertia:Ym,tween:kl,keyframes:kl,spring:Nf};function AC(t){typeof t.type=="string"&&(t.type=xj[t.type])}class Fy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Sj=t=>t/100;class qy extends Fy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AC(e);const{type:n=kl,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:c}=e;const d=n||kl;d!==kl&&typeof c[0]!="number"&&(this.mixKeyframes=mu(Sj,EC(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-u})),h.calculatedDuration===null&&(h.calculatedDuration=Vy(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:_,type:S,onUpdate:w,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,K=i;if(g){const G=Math.min(this.currentTime,a)/c;let Z=Math.floor(G),ie=G%1;!ie&&G>=1&&(ie=1),ie===1&&Z--,Z=Math.min(Z,g+1),!!(Z%2)&&(v==="reverse"?(ie=1-ie,_&&(ie-=_/c)):v==="mirror"&&(K=u)),N=Zi(0,1,ie)*c}const M=k?{done:!1,value:p[0]}:K.next(N);l&&(M.value=l(M.value));let{done:I}=M;!k&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return H&&S!==Ym&&(M.value=Hy(p,this.options,R,this.speed)),w&&w(M.value),H&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return yi(this.calculatedDuration)}get time(){return yi(this.currentTime)}set time(e){var n;e=gi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=sj,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function wj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _s=t=>t*180/Math.PI,Km=t=>{const e=_s(Math.atan2(t[1],t[0]));return Wm(e)},Ej={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Km,rotateZ:Km,skewX:t=>_s(Math.atan(t[1])),skewY:t=>_s(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wm=t=>(t=t%360,t<0&&(t+=360),t),HS=Km,FS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FS,scaleY:qS,scale:t=>(FS(t)+qS(t))/2,rotateX:t=>Wm(_s(Math.atan2(t[6],t[5]))),rotateY:t=>Wm(_s(Math.atan2(-t[2],t[0]))),rotateZ:HS,rotate:HS,skewX:t=>_s(Math.atan(t[4])),skewY:t=>_s(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $m(t){return t.includes("scale")?1:0}function Xm(t,e){if(!t||t==="none")return $m(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Tj,a=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Ej,a=c}if(!a)return $m(e);const l=i[e],u=a[1].split(",").map(Aj);return typeof l=="function"?l(u):u[l]}const Cj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Xm(n,e)};function Aj(t){return parseFloat(t.trim())}const so=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ao=new Set(so),GS=t=>t===ro||t===Ee,Rj=new Set(["x","y","z"]),kj=so.filter(t=>!Rj.has(t));function Nj(t){const e=[];return kj.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const xs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Xm(e,"x"),y:(t,{transform:e})=>Xm(e,"y")};xs.translateX=xs.x;xs.translateY=xs.y;const Ss=new Set;let Qm=!1,Zm=!1,Jm=!1;function RC(){if(Zm){const t=Array.from(Ss).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Nj(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{var c;(c=i.getValue(l))==null||c.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Zm=!1,Qm=!1,Ss.forEach(t=>t.complete(Jm)),Ss.clear()}function kC(){Ss.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zm=!0)})}function Ij(){Jm=!0,kC(),RC(),Jm=!1}class Gy{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ss.add(this),Qm||(Qm=!0,ut.read(kC),ut.resolveKeyframes(RC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const c=i.readValue(n,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}wj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ss.delete(this)}cancel(){this.state==="scheduled"&&(Ss.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Dj=t=>t.startsWith("--");function Oj(t,e,n){Dj(e)?t.style.setProperty(e,n):t.style[e]=n}const Mj=Dy(()=>window.ScrollTimeline!==void 0),Pj={};function Lj(t,e){const n=Dy(t);return()=>Pj[e]??n()}const NC=Lj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,YS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bl([0,.65,.55,1]),circOut:bl([.55,0,1,.45]),backIn:bl([.31,.01,.66,-.59]),backOut:bl([.33,1.53,.69,.99])};function IC(t,e){if(t)return typeof t=="function"?NC()?TC(t,e):"ease-out":mC(t)?bl(t):Array.isArray(t)?t.map(n=>IC(n,e)||YS.easeOut):YS[t]}function jj(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:c="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const g=IC(c,a);Array.isArray(g)&&(p.easing=g);const v={delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(p,v)}function DC(t){return typeof t=="function"&&"applyToOptions"in t}function Uj({type:t,...e}){return DC(t)&&NC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zj extends Fy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Iy(typeof e.type!="string");const h=Uj(e);this.animation=jj(n,i,a,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Hy(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):Oj(n,i,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return yi(Number(e))}get time(){return yi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Mj()?(this.animation.timeline=e,qn):n(this)}}const OC={anticipate:fC,backInOut:cC,circInOut:dC};function Bj(t){return t in OC}function Vj(t){typeof t.ease=="string"&&Bj(t.ease)&&(t.ease=OC[t.ease])}const KS=10;class Hj extends zj{constructor(e){Vj(e),AC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new qy({...u,autoplay:!1}),d=gi(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-KS).value,c.sample(d).value,KS),c.stop()}}const WS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zr.test(t)||t==="0")&&!t.startsWith("url("));function Fj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qj(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=WS(a,e),c=WS(l,e);return!u||!c?!1:Fj(t)||(n==="spring"||DC(n))&&i}function eg(t){t.duration=0,t.type}const Gj=new Set(["opacity","clipPath","filter","transform"]),Yj=Dy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kj(t){var p;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return Yj()&&n&&Gj.has(n)&&(n!=="transform"||!h)&&!d&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const Wj=40;class $j extends Fy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:c,name:d,motionValue:h,element:p,...g}){var S;super(),this.stop=()=>{var w,R;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=hn.now();const v={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:h,element:p,...g},_=(p==null?void 0:p.KeyframeResolver)||Gy;this.keyframeResolver=new _(c,(w,R,T)=>this.onKeyframesResolved(w,R,v,!T),d,h,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:c,delay:d,isHandoff:h,onUpdate:p}=i;this.resolvedAt=hn.now(),qj(e,l,u,c)||((Ji.instantAnimations||!d)&&(p==null||p(Hy(e,i,n))),e[0]=e[e.length-1],eg(i),i.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Wj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!h&&Kj(v)?new Hj({...v,element:v.motionValue.owner.current}):new qy(v);_.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Ij()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Xj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qj(t){const e=Xj.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function MC(t,e,n=1){const[i,a]=Qj(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return nC(u)?parseFloat(u):u}return jy(a)?MC(a,e,n+1):a}function Yy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const PC=new Set(["width","height","top","left","right","bottom",...so]),Zj={test:t=>t==="auto",parse:t=>t},LC=t=>e=>e.test(t),jC=[ro,Ee,vi,Ar,F4,H4,Zj],$S=t=>jC.find(LC(t));function Jj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rC(t):!0}const e6=new Set(["brightness","contrast","saturate","opacity"]);function t6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Uy)||[];if(!i)return t;const a=n.replace(i,"");let l=e6.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const n6=/\b([a-z-]*)\(.*?\)/gu,tg={...zr,getAnimatableNone:t=>{const e=t.match(n6);return e?e.map(t6).join(" "):t}},XS={...ro,transform:Math.round},i6={rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:Uc,scaleX:Uc,scaleY:Uc,scaleZ:Uc,skew:Ar,skewX:Ar,skewY:Ar,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:$l,originX:jS,originY:jS,originZ:Ee},Ky={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...i6,zIndex:XS,fillOpacity:$l,strokeOpacity:$l,numOctaves:XS},r6={...Ky,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:tg,WebkitFilter:tg},UC=t=>r6[t];function zC(t,e){let n=UC(t);return n!==tg&&(n=zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const s6=new Set(["auto","none","0"]);function a6(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!s6.has(l)&&Xl(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=zC(n,a)}class o6 extends Gy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),jy(h))){const p=MC(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!PC.has(i)||e.length!==2)return;const[a,l]=e,u=$S(a),c=$S(l);if(u!==c)if(GS(u)&&GS(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else xs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Jj(e[a]))&&i.push(a);i.length&&a6(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=xs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function l6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const BC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function VC(t){return iC(t)&&"offsetHeight"in t}const QS=30,u6=t=>!isNaN(parseFloat(t));class c6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=u6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Oy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QS);return sC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ga(t,e){return new c6(t,e)}const{schedule:Wy}=gC(queueMicrotask,!1),Zn={x:!1,y:!1};function HC(){return Zn.x||Zn.y}function f6(t){return t==="x"||t==="y"?Zn[t]?null:(Zn[t]=!0,()=>{Zn[t]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function FC(t,e){const n=l6(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function ZS(t){return!(t.pointerType==="touch"||HC())}function h6(t,e,n={}){const[i,a,l]=FC(t,n),u=c=>{if(!ZS(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const p=g=>{ZS(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,a)};return i.forEach(c=>{c.addEventListener("pointerenter",u,a)}),l}const qC=(t,e)=>e?t===e?!0:qC(t,e.parentElement):!1,$y=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function p6(t){return d6.has(t.tagName)||t.tabIndex!==-1}const Zc=new WeakSet;function JS(t){return e=>{e.key==="Enter"&&t(e)}}function Kp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const m6=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=JS(()=>{if(Zc.has(n))return;Kp(n,"down");const a=JS(()=>{Kp(n,"up")}),l=()=>Kp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function e1(t){return $y(t)&&!HC()}function g6(t,e,n={}){const[i,a,l]=FC(t,n),u=c=>{const d=c.currentTarget;if(!e1(c))return;Zc.add(d);const h=e(d,c),p=(_,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Zc.has(d)&&Zc.delete(d),e1(_)&&typeof h=="function"&&h(_,{success:S})},g=_=>{p(_,d===window||d===document||n.useGlobalTarget||qC(d,_.target))},v=_=>{p(_,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",v,a)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,a),VC(c)&&(c.addEventListener("focus",h=>m6(h,a)),!p6(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function GC(t){return iC(t)&&"ownerSVGElement"in t}function y6(t){return GC(t)&&t.tagName==="svg"}const $t=t=>!!(t&&t.getVelocity),v6=[...jC,Tt,zr],_6=t=>v6.find(LC(t)),Xy=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class b6 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=VC(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x6({children:t,isPresent:e,anchorX:n,root:i}){const a=O.useId(),l=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=O.useContext(Xy);return O.useInsertionEffect(()=>{const{width:d,height:h,top:p,left:g,right:v}=u.current;if(e||!l.current||!d||!h)return;const _=n==="left"?`left: ${g}`:`right: ${v}`;l.current.dataset.motionPopId=a;const S=document.createElement("style");c&&(S.nonce=c);const w=i??document.head;return w.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(S)&&w.removeChild(S)}},[e]),A.jsx(b6,{isPresent:e,childRef:l,sizeRef:u,children:O.cloneElement(t,{ref:l})})}const S6=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:c,root:d})=>{const h=Ay(w6),p=O.useId();let g=!0,v=O.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:_=>{h.set(_,!0);for(const S of h.values())if(!S)return;i&&i()},register:_=>(h.set(_,!1),()=>h.delete(_))}),[n,h,i]);return l&&g&&(v={...v}),O.useMemo(()=>{h.forEach((_,S)=>h.set(S,!1))},[n]),O.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),u==="popLayout"&&(t=A.jsx(x6,{isPresent:n,anchorX:c,root:d,children:t})),A.jsx(eh.Provider,{value:v,children:t})};function w6(){return new Map}function YC(t=!0){const e=O.useContext(eh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const zc=t=>t.key||"";function t1(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const KC=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:c="left",root:d})=>{const[h,p]=YC(u),g=O.useMemo(()=>t1(t),[t]),v=u&&!h?[]:g.map(zc),_=O.useRef(!0),S=O.useRef(g),w=Ay(()=>new Map),[R,T]=O.useState(g),[k,N]=O.useState(g);tC(()=>{_.current=!1,S.current=g;for(let I=0;I<k.length;I++){const H=zc(k[I]);v.includes(H)?w.delete(H):w.get(H)!==!0&&w.set(H,!1)}},[k,v.length,v.join("-")]);const K=[];if(g!==R){let I=[...g];for(let H=0;H<k.length;H++){const G=k[H],Z=zc(G);v.includes(Z)||(I.splice(H,0,G),K.push(G))}return l==="wait"&&K.length&&(I=K),N(t1(I)),T(g),null}const{forceRender:M}=O.useContext(Cy);return A.jsx(A.Fragment,{children:k.map(I=>{const H=zc(I),G=u&&!h?!1:g===k||v.includes(H),Z=()=>{if(w.has(H))w.set(H,!0);else return;let ie=!0;w.forEach(W=>{W||(ie=!1)}),ie&&(M==null||M(),N(S.current),u&&(p==null||p()),i&&i())};return A.jsx(S6,{isPresent:G,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:G?void 0:Z,anchorX:c,children:I},H)})})},WC=O.createContext({strict:!1}),n1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ya={};for(const t in n1)Ya[t]={isEnabled:e=>n1[t].some(n=>!!e[n])};function E6(t){for(const e in t)Ya[e]={...Ya[e],...t[e]}}const T6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function If(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||T6.has(t)}let $C=t=>!If(t);function C6(t){typeof t=="function"&&($C=e=>e.startsWith("on")?!If(e):t(e))}try{C6(require("@emotion/is-prop-valid").default)}catch{}function A6(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||($C(a)||n===!0&&If(a)||!e&&!If(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const th=O.createContext({});function nh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ql(t){return typeof t=="string"||Array.isArray(t)}const Qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zy=["initial",...Qy];function ih(t){return nh(t.animate)||Zy.some(e=>Ql(t[e]))}function XC(t){return!!(ih(t)||t.variants)}function R6(t,e){if(ih(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ql(n)?n:void 0,animate:Ql(i)?i:void 0}}return t.inherit!==!1?e:{}}function k6(t){const{initial:e,animate:n}=R6(t,O.useContext(th));return O.useMemo(()=>({initial:e,animate:n}),[i1(e),i1(n)])}function i1(t){return Array.isArray(t)?t.join(" "):t}const Zl={};function N6(t){for(const e in t)Zl[e]=t[e],Ly(e)&&(Zl[e].isCSSVariable=!0)}function QC(t,{layout:e,layoutId:n}){return ao.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zl[t]||t==="opacity")}const I6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D6=so.length;function O6(t,e,n){let i="",a=!0;for(let l=0;l<D6;l++){const u=so[l],c=t[u];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(u.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=BC(c,Ky[u]);if(!d){a=!1;const p=I6[u]||u;i+=`${p}(${h}) `}n&&(e[u]=h)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Jy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,c=!1;for(const d in e){const h=e[d];if(ao.has(d)){u=!0;continue}else if(Ly(d)){a[d]=h;continue}else{const p=BC(h,Ky[d]);d.startsWith("origin")?(c=!0,l[d]=p):i[d]=p}}if(e.transform||(u||n?i.transform=O6(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=l;i.transformOrigin=`${d} ${h} ${p}`}}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZC(t,e,n){for(const i in e)!$t(e[i])&&!QC(i,n)&&(t[i]=e[i])}function M6({transformTemplate:t},e){return O.useMemo(()=>{const n=ev();return Jy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function P6(t,e){const n=t.style||{},i={};return ZC(i,n,t),Object.assign(i,M6(t,e)),i}function L6(t,e){const n={},i=P6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const j6={offset:"stroke-dashoffset",array:"stroke-dasharray"},U6={offset:"strokeDashoffset",array:"strokeDasharray"};function z6(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?j6:U6;t[l.offset]=Ee.transform(-i);const u=Ee.transform(e),c=Ee.transform(n);t[l.array]=`${u} ${c}`}function JC(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...c},d,h,p){if(Jy(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),a!==void 0&&z6(g,a,l,u,!1)}const eA=()=>({...ev(),attrs:{}}),tA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function B6(t,e,n,i){const a=O.useMemo(()=>{const l=eA();return JC(l,e,tA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ZC(l,t.style,t),a.style={...l,...a.style}}return a}const V6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(V6.indexOf(t)>-1||/[A-Z]/u.test(t))}function H6(t,e,n,{latestValues:i},a,l=!1){const c=(tv(t)?B6:L6)(e,i,a,t),d=A6(e,typeof t=="string",l),h=t!==O.Fragment?{...d,...c,ref:n}:{},{children:p}=e,g=O.useMemo(()=>$t(p)?p.get():p,[p]);return O.createElement(t,{...h,children:g})}function r1(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function nv(t,e,n,i){if(typeof e=="function"){const[a,l]=r1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=r1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Jc(t){return $t(t)?t.get():t}function F6({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:q6(n,i,a,t),renderState:e()}}function q6(t,e,n,i){const a={},l=i(t,{});for(const v in l)a[v]=Jc(l[v]);let{initial:u,animate:c}=t;const d=ih(t),h=XC(t);e&&h&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const g=p?c:u;if(g&&typeof g!="boolean"&&!nh(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const S=nv(t,v[_]);if(S){const{transitionEnd:w,transition:R,...T}=S;for(const k in T){let N=T[k];if(Array.isArray(N)){const K=p?N.length-1:0;N=N[K]}N!==null&&(a[k]=N)}for(const k in w)a[k]=w[k]}}}return a}const nA=t=>(e,n)=>{const i=O.useContext(th),a=O.useContext(eh),l=()=>F6(t,e,i,a);return n?l():Ay(l)};function iv(t,e,n){var l;const{style:i}=t,a={};for(const u in i)($t(i[u])||e.style&&$t(e.style[u])||QC(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const G6=nA({scrapeMotionValuesFromProps:iv,createRenderState:ev});function iA(t,e,n){const i=iv(t,e,n);for(const a in t)if($t(t[a])||$t(e[a])){const l=so.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const Y6=nA({scrapeMotionValuesFromProps:iA,createRenderState:eA}),K6=Symbol.for("motionComponentSymbol");function Ta(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W6(t,e,n){return O.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ta(n)&&(n.current=i))},[e])}const rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$6="framerAppearId",rA="data-"+rv($6),sA=O.createContext({});function X6(t,e,n,i,a){var w,R;const{visualElement:l}=O.useContext(th),u=O.useContext(WC),c=O.useContext(eh),d=O.useContext(Xy).reducedMotion,h=O.useRef(null);i=i||u.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:l,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=O.useContext(sA);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&Q6(h.current,n,a,g);const v=O.useRef(!1);O.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const _=n[rA],S=O.useRef(!!_&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,_))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,_)));return tC(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),O.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,_)}),S.current=!1),p.enteringChildren=void 0)}),p}function Q6(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||c&&Ta(c),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:h})}function aA(t){if(t)return t.options.allowProjection!==!1?t.projection:aA(t.parent)}function Wp(t,{forwardMotionProps:e=!1}={},n,i){n&&E6(n);const a=tv(t)?Y6:G6;function l(c,d){let h;const p={...O.useContext(Xy),...c,layoutId:Z6(c)},{isStatic:g}=p,v=k6(c),_=a(c,g);if(!g&&Ry){J6();const S=eU(p);h=S.MeasureLayout,v.visualElement=X6(t,_,p,i,S.ProjectionNode)}return A.jsxs(th.Provider,{value:v,children:[h&&v.visualElement?A.jsx(h,{visualElement:v.visualElement,...p}):null,H6(t,c,W6(_,v.visualElement,d),_,g,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(l);return u[K6]=t,u}function Z6({layoutId:t}){const e=O.useContext(Cy).id;return e&&t!==void 0?e+"-"+t:t}function J6(t,e){O.useContext(WC).strict}function eU(t){const{drag:e,layout:n}=Ya;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function tU(t,e){if(typeof Proxy>"u")return Wp;const n=new Map,i=(l,u)=>Wp(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Wp(u,void 0,t,e)),n.get(u))})}function oA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function nU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function $p(t){return t===void 0||t===1}function ng({scale:t,scaleX:e,scaleY:n}){return!$p(t)||!$p(e)||!$p(n)}function ps(t){return ng(t)||lA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lA(t){return s1(t.x)||s1(t.y)}function s1(t){return t&&t!=="0%"}function Df(t,e,n){const i=t-n,a=e*i;return n+a}function a1(t,e,n,i,a){return a!==void 0&&(t=Df(t,a,i)),Df(t,n,i)+e}function ig(t,e=0,n=1,i,a){t.min=a1(t.min,e,n,i,a),t.max=a1(t.max,e,n,i,a)}function uA(t,{x:e,y:n}){ig(t.x,e.translate,e.scale,e.originPoint),ig(t.y,n.translate,n.scale,n.originPoint)}const o1=.999999999999,l1=1.0000000000001;function rU(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let c=0;c<a;c++){l=n[c],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Aa(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,uA(t,u)),i&&ps(l.latestValues)&&Aa(t,l.latestValues))}e.x<l1&&e.x>o1&&(e.x=1),e.y<l1&&e.y>o1&&(e.y=1)}function Ca(t,e){t.min=t.min+e,t.max=t.max+e}function u1(t,e,n,i,a=.5){const l=ht(t.min,t.max,a);ig(t,e,n,l,i)}function Aa(t,e){u1(t.x,e.x,e.scaleX,e.scale,e.originX),u1(t.y,e.y,e.scaleY,e.scale,e.originY)}function cA(t,e){return oA(iU(t.getBoundingClientRect(),e))}function sU(t,e,n){const i=cA(t,n),{scroll:a}=e;return a&&(Ca(i.x,a.offset.x),Ca(i.y,a.offset.y)),i}const c1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ra=()=>({x:c1(),y:c1()}),f1=()=>({min:0,max:0}),bt=()=>({x:f1(),y:f1()}),rg={current:null},fA={current:!1};function aU(){if(fA.current=!0,!!Ry)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rg.current=t.matches;t.addEventListener("change",e),e()}else rg.current=!1}const oU=new WeakMap;function lU(t,e,n){for(const i in e){const a=e[i],l=n[i];if($t(a))t.addValue(i,a);else if($t(l))t.addValue(i,Ga(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Ga(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const h1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uU{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=hn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ut.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=ih(n),this.isVariantNode=XC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const _=g[v];d[v]!==void 0&&$t(_)&&_.set(d[v])}}mount(e){var n;this.current=e,oU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),fA.current||aU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ur(this.notifyUpdate),Ur(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ao.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ya){const n=Ya[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<h1.length;i++){const a=h1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=lU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ga(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(nC(i)||rC(i))?i=parseFloat(i):!_6(i)&&zr.test(n)&&(i=zC(e,n)),this.setBaseTarget(e,$t(i)?i.get():i)),$t(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=nv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!$t(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Oy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wy.render(this.render)}}class hA extends uU{constructor(){super(...arguments),this.KeyframeResolver=o6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dA(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a==null||a.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function cU(t){return window.getComputedStyle(t)}class fU extends hA{constructor(){super(...arguments),this.type="html",this.renderInstance=dA}readValueFromInstance(e,n){var i;if(ao.has(n))return(i=this.projection)!=null&&i.isProjecting?$m(n):Cj(e,n);{const a=cU(e),l=(Ly(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cA(e,n)}build(e,n,i){Jy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return iv(e,n,i)}}const pA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hU(t,e,n,i){dA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(pA.has(a)?a:rv(a),e.attrs[a])}class dU extends hA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ao.has(n)){const i=UC(n);return i&&i.default||0}return n=pA.has(n)?n:rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return iA(e,n,i)}build(e,n,i){JC(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){hU(e,n,i,a)}mount(e){this.isSVGTag=tA(e.tagName),super.mount(e)}}const pU=(t,e)=>tv(t)?new dU(e):new fU(e,{allowProjection:t!==O.Fragment});function Pa(t,e,n){const i=t.getProps();return nv(i,e,n!==void 0?n:i.custom,t)}const sg=t=>Array.isArray(t);function mU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ga(n))}function gU(t){return sg(t)?t[t.length-1]||0:t}function yU(t,e){const n=Pa(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const c=gU(l[u]);mU(t,u,c)}}function vU(t){return!!($t(t)&&t.add)}function ag(t,e){const n=t.getValue("willChange");if(vU(n))return n.add(e);if(!n&&Ji.WillChange){const i=new Ji.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function mA(t){return t.props[rA]}const _U=t=>t!==null;function bU(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(_U),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const xU={type:"spring",stiffness:500,damping:25,restSpeed:10},SU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wU={type:"keyframes",duration:.8},EU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TU=(t,{keyframes:e})=>e.length>2?wU:ao.has(t)?t.startsWith("scale")?SU(e[1]):xU:EU;function CU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:c,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const sv=(t,e,n,i={},a,l)=>u=>{const c=Yy(i,t)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-gi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:l?void 0:a};CU(c)||Object.assign(p,TU(t,p)),p.duration&&(p.duration=gi(p.duration)),p.repeatDelay&&(p.repeatDelay=gi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(eg(p),p.delay===0&&(g=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(g=!0,eg(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!l&&e.get()!==void 0){const v=bU(p.keyframes,c);if(v!==void 0){ut.update(()=>{p.onUpdate(v),p.onComplete()});return}}return c.isSync?new qy(p):new $j(p)};function AU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function gA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...c}=e;i&&(l=i);const d=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const p in c){const g=t.getValue(p,t.latestValues[p]??null),v=c[p];if(v===void 0||h&&AU(h,p))continue;const _={delay:n,...Yy(l||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const T=mA(t);if(T){const k=window.MotionHandoffAnimation(T,p,ut);k!==null&&(_.startTime=k,w=!0)}}ag(t,p),g.start(sv(p,g,v,t.shouldReduceMotion&&PC.has(p)?{type:!1}:_,t,w));const R=g.animation;R&&d.push(R)}return u&&Promise.all(d).then(()=>{ut.update(()=>{u&&yU(t,u)})}),d}function yA(t,e,n,i=0,a=1){const l=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),u=t.size,c=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:c-l*i}function og(t,e,n={}){var d;const i=Pa(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(gA(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=a;return RU(t,e,h,p,g,v,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[h,p]=c==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function RU(t,e,n=0,i=0,a=0,l=1,u){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(og(d,e,{...u,delay:n+(typeof i=="function"?0:i)+yA(t.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function kU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>og(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=og(t,e,n);else{const a=typeof e=="function"?Pa(t,e,n.custom):e;i=Promise.all(gA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function vA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const NU=Zy.length;function _A(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_A(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NU;n++){const i=Zy[n],a=t.props[i];(Ql(a)||a===!1)&&(e[i]=a)}return e}const IU=[...Qy].reverse(),DU=Qy.length;function OU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>kU(t,n,i)))}function MU(t){let e=OU(t),n=d1(),i=!0;const a=d=>(h,p)=>{var v;const g=Pa(t,p,d==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:_,transitionEnd:S,...w}=g;h={...h,...w,...S}}return h};function l(d){e=d(t)}function u(d){const{props:h}=t,p=_A(t.parent)||{},g=[],v=new Set;let _={},S=1/0;for(let R=0;R<DU;R++){const T=IU[R],k=n[T],N=h[T]!==void 0?h[T]:p[T],K=Ql(N),M=T===d?k.isActive:null;M===!1&&(S=R);let I=N===p[T]&&N!==h[T]&&K;if(I&&i&&t.manuallyAnimateOnMount&&(I=!1),k.protectedKeys={..._},!k.isActive&&M===null||!N&&!k.prevProp||nh(N)||typeof N=="boolean")continue;const H=PU(k.prevProp,N);let G=H||T===d&&k.isActive&&!I&&K||R>S&&K,Z=!1;const ie=Array.isArray(N)?N:[N];let W=ie.reduce(a(T),{});M===!1&&(W={});const{prevResolvedValues:J={}}=k,ce={...J,...W},ae=te=>{G=!0,v.has(te)&&(Z=!0,v.delete(te)),k.needsAnimating[te]=!0;const de=t.getValue(te);de&&(de.liveStyle=!1)};for(const te in ce){const de=W[te],fe=J[te];if(_.hasOwnProperty(te))continue;let b=!1;sg(de)&&sg(fe)?b=!vA(de,fe):b=de!==fe,b?de!=null?ae(te):v.add(te):de!==void 0&&v.has(te)?ae(te):k.protectedKeys[te]=!0}k.prevProp=N,k.prevResolvedValues=W,k.isActive&&(_={..._,...W}),i&&t.blockInitialAnimation&&(G=!1);const oe=I&&H;G&&(!oe||Z)&&g.push(...ie.map(te=>{const de={type:T};if(typeof te=="string"&&i&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,b=Pa(fe,te);if(fe.enteringChildren&&b){const{delayChildren:V}=b.transition||{};de.delay=yA(fe.enteringChildren,t,V)}}return{animation:te,options:de}}))}if(v.size){const R={};if(typeof h.initial!="boolean"){const T=Pa(t,Array.isArray(h.initial)?h.initial[0]:h.initial);T&&T.transition&&(R.transition=T.transition)}v.forEach(T=>{const k=t.getBaseTarget(T),N=t.getValue(T);N&&(N.liveStyle=!0),R[T]=k??null}),g.push({animation:R})}let w=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(g):Promise.resolve()}function c(d,h){var g;if(n[d].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(d,h)}),n[d].isActive=h;const p=u(d);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>n,reset:()=>{n=d1(),i=!0}}}function PU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vA(e,t):!1}function fs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d1(){return{animate:fs(!0),whileInView:fs(),whileHover:fs(),whileTap:fs(),whileDrag:fs(),whileFocus:fs(),exit:fs()}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class LU extends Gr{constructor(e){super(e),e.animationState||(e.animationState=MU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let jU=0;class UU extends Gr{constructor(){super(...arguments),this.id=jU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zU={animation:{Feature:LU},exit:{Feature:UU}};function Jl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function vu(t){return{point:{x:t.pageX,y:t.pageY}}}const BU=t=>e=>$y(e)&&t(e,vu(e));function Nl(t,e,n,i){return Jl(t,e,BU(n),i)}const bA=1e-4,VU=1-bA,HU=1+bA,xA=.01,FU=0-xA,qU=0+xA;function Zt(t){return t.max-t.min}function GU(t,e,n){return Math.abs(t-e)<=n}function p1(t,e,n,i=.5){t.origin=i,t.originPoint=ht(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VU&&t.scale<=HU||isNaN(t.scale))&&(t.scale=1),(t.translate>=FU&&t.translate<=qU||isNaN(t.translate))&&(t.translate=0)}function Il(t,e,n,i){p1(t.x,e.x,n.x,i?i.originX:void 0),p1(t.y,e.y,n.y,i?i.originY:void 0)}function m1(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function YU(t,e,n){m1(t.x,e.x,n.x),m1(t.y,e.y,n.y)}function g1(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function Dl(t,e,n){g1(t.x,e.x,n.x),g1(t.y,e.y,n.y)}function Vn(t){return[t("x"),t("y")]}const SA=({current:t})=>t?t.ownerDocument.defaultView:null,y1=(t,e)=>Math.abs(t-e);function KU(t,e){const n=y1(t.x,e.x),i=y1(t.y,e.y);return Math.sqrt(n**2+i**2)}class wA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Qp(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=KU(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!S)return;const{point:w}=v,{timestamp:R}=Ht;this.history.push({...w,timestamp:R});const{onStart:T,onMove:k}=this.handlers;_||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Xp(_,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Qp(v.type==="pointercancel"?this.lastMoveEventInfo:Xp(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,T),w&&w(v,T)},!$y(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const c=vu(e),d=Xp(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=Ht;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Qp(d,this.history)),this.removeListeners=mu(Nl(this.contextWindow,"pointermove",this.handlePointerMove),Nl(this.contextWindow,"pointerup",this.handlePointerUp),Nl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ur(this.updatePoint)}}function Xp(t,e){return e?{point:e(t.point)}:t}function v1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qp({point:t},e){return{point:t,delta:v1(t,EA(e)),offset:v1(t,WU(e)),velocity:$U(e,.1)}}function WU(t){return t[0]}function EA(t){return t[t.length-1]}function $U(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=EA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>gi(e)));)n--;if(!i)return{x:0,y:0};const l=yi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function XU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ht(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ht(n,t,i.max):Math.min(t,n)),t}function _1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QU(t,{top:e,left:n,bottom:i,right:a}){return{x:_1(t.x,n,a),y:_1(t.y,e,i)}}function b1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function ZU(t,e){return{x:b1(t.x,e.x),y:b1(t.y,e.y)}}function JU(t,e){let n=.5;const i=Zt(t),a=Zt(e);return a>i?n=Wl(e.min,e.max-i,t.min):i>a&&(n=Wl(t.min,t.max-a,e.min)),Zi(0,1,n)}function e5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lg=.35;function t5(t=lg){return t===!1?t=0:t===!0&&(t=lg),{x:x1(t,"left","right"),y:x1(t,"top","bottom")}}function x1(t,e,n){return{min:S1(t,e),max:S1(t,n)}}function S1(t,e){return typeof t=="number"?t:t[e]||0}const n5=new WeakMap;class i5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vu(g).point)},u=(g,v)=>{const{drag:_,dragPropagation:S,onDragStart:w}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f6(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(T=>{let k=this.getAxisMotionValue(T).get()||0;if(vi.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[T];K&&(k=Zt(K)*(parseFloat(k)/100))}}this.originPoint[T]=k}),w&&ut.postRender(()=>w(g,v)),ag(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:w,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:T}=v;if(S&&this.currentDirection===null){this.currentDirection=r5(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),R&&R(g,v)},d=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Vn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new wA(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:SA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&ut.postRender(()=>c(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Bc(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=XU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Ta(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=QU(i.layoutBox,e):this.constraints=!1,this.elastic=t5(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=e5(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ta(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=sU(i,a.root,this.visualElement.getTransformPagePoint());let u=ZU(a.layout.layoutBox,l);if(n){const c=n(nU(u));this.hasMutatedConstraints=!!c,c&&(u=oA(c))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Vn(p=>{if(!Bc(p,n,this.currentDirection))return;let g=d&&d[p]||{};u&&(g={min:0,max:0});const v=a?200:1e6,_=a?40:1e7,S={type:"inertia",velocity:i?e[p]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ag(this.visualElement,e),i.start(sv(e,i,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:i}=this.getProps();if(!Bc(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:c}=a.layout.layoutBox[n];l.set(e[n]-ht(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ta(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Vn(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const d=c.get();a[u]=JU({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!Bc(u,e,null))return;const c=this.getAxisMotionValue(u),{min:d,max:h}=this.constraints[u];c.set(ht(d,h,a[u]))})}addListeners(){if(!this.visualElement.current)return;n5.set(this.visualElement,this);const e=this.visualElement.current,n=Nl(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ta(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(i);const u=Jl(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Vn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=lg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function Bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function r5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class s5 extends Gr{constructor(e){super(e),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new i5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const w1=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class a5 extends Gr{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(e){this.session=new wA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:w1(e),onStart:w1(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&ut.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Nl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=E1(t,e.target.x),i=E1(t,e.target.y);return`${n}% ${i}%`}},o5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=zr.parse(t);if(a.length>5)return i;const l=zr.createTransformer(t),u=typeof a[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=c,a[1+u]/=d;const h=ht(c,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=h),typeof a[3+u]=="number"&&(a[3+u]/=h),l(a)}};let Zp=!1;class l5 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;N6(u5),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Zp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Zp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ut.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Zp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TA(t){const[e,n]=YC(),i=O.useContext(Cy);return A.jsx(l5,{...t,layoutGroup:i,switchLayoutGroup:O.useContext(sA),isPresent:e,safeToRemove:n})}const u5={borderRadius:{...hl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hl,borderTopRightRadius:hl,borderBottomLeftRadius:hl,borderBottomRightRadius:hl,boxShadow:o5};function c5(t,e,n){const i=$t(t)?t:Ga(t);return i.start(sv("",i,e,n)),i.animation}const f5=(t,e)=>t.depth-e.depth;class h5{constructor(){this.children=[],this.isDirty=!1}add(e){ky(this.children,e),this.isDirty=!0}remove(e){Ny(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f5),this.isDirty=!1,this.children.forEach(e)}}function d5(t,e){const n=hn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Ur(i),t(l-e))};return ut.setup(i,!0),()=>Ur(i)}const CA=["TopLeft","TopRight","BottomLeft","BottomRight"],p5=CA.length,T1=t=>typeof t=="string"?parseFloat(t):t,C1=t=>typeof t=="number"||Ee.test(t);function m5(t,e,n,i,a,l){a?(t.opacity=ht(0,n.opacity??1,g5(i)),t.opacityExit=ht(e.opacity??1,0,y5(i))):l&&(t.opacity=ht(e.opacity??1,n.opacity??1,i));for(let u=0;u<p5;u++){const c=`border${CA[u]}Radius`;let d=A1(e,c),h=A1(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||C1(d)===C1(h)?(t[c]=Math.max(ht(T1(d),T1(h),i),0),(vi.test(h)||vi.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,i))}function A1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const g5=AA(0,.5,hC),y5=AA(.5,.95,qn);function AA(t,e,n){return i=>i<t?0:i>e?1:n(Wl(t,e,i))}function R1(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){R1(t.x,e.x),R1(t.y,e.y)}function k1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function N1(t,e,n,i,a){return t-=e,t=Df(t,1/n,i),a!==void 0&&(t=Df(t,1/a,i)),t}function v5(t,e=0,n=1,i=.5,a,l=t,u=t){if(vi.test(e)&&(e=parseFloat(e),e=ht(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=ht(l.min,l.max,i);t===l&&(c-=e),t.min=N1(t.min,e,n,c,a),t.max=N1(t.max,e,n,c,a)}function I1(t,e,[n,i,a],l,u){v5(t,e[n],e[i],e[a],e.scale,l,u)}const _5=["x","scaleX","originX"],b5=["y","scaleY","originY"];function D1(t,e,n,i){I1(t.x,e,_5,n?n.x:void 0,i?i.x:void 0),I1(t.y,e,b5,n?n.y:void 0,i?i.y:void 0)}function O1(t){return t.translate===0&&t.scale===1}function RA(t){return O1(t.x)&&O1(t.y)}function M1(t,e){return t.min===e.min&&t.max===e.max}function x5(t,e){return M1(t.x,e.x)&&M1(t.y,e.y)}function P1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kA(t,e){return P1(t.x,e.x)&&P1(t.y,e.y)}function L1(t){return Zt(t.x)/Zt(t.y)}function j1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class S5{constructor(){this.members=[]}add(e){ky(this.members,e),e.scheduleRender()}remove(e){if(Ny(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:_,skewY:S}=n;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),_&&(i+=`skewX(${_}deg) `),S&&(i+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const Jp=["","X","Y","Z"],E5=1e3;let T5=0;function em(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function NA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&NA(i)}function IA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},c=e==null?void 0:e()){this.id=T5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(R5),this.nodes.forEach(D5),this.nodes.forEach(O5),this.nodes.forEach(k5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new h5)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Oy),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const d=this.eventHandlers.get(u);d&&d.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=GC(u)&&!y6(u),this.instance=u;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{g=window.innerWidth}),t(u,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,p&&p(),p=d5(v,250),ef.hasAnimatedSinceResize&&(ef.hasAnimatedSinceResize=!1,this.nodes.forEach(B1)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||U5,{onLayoutAnimationStart:w,onLayoutAnimationComplete:R}=h.getProps(),T=!this.targetLayout||!kA(this.targetLayout,_),k=!g&&v;if(this.options.layoutRoot||this.resumeFrom||k||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Yy(S,"layout"),onPlay:w,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(p,k)}else g||B1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(U1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(z1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(I5),this.nodes.forEach(C5),this.nodes.forEach(A5)):this.nodes.forEach(z1),this.clearAllSnapshots();const c=hn.now();Ht.delta=Zi(0,1e3/60,c-Ht.timestamp),Ht.timestamp=c,Ht.isProcessing=!0,Hp.update.process(Ht),Hp.preRender.process(Ht),Hp.render.process(Ht),Ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N5),this.sharedNodes.forEach(P5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!RA(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;u&&this.instance&&(c||ps(this.latestValues)||p)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return u&&(d=this.removeTransform(d)),z5(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:u}=this.options;if(!u)return bt();const c=u.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(B5))){const{scroll:p}=this.root;p&&(Ca(c.x,p.offset.x),Ca(c.y,p.offset.y))}return c}removeElementScroll(u){var d;const c=bt();if(Bn(c,u),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Bn(c,u),Ca(c.x,g.offset.x),Ca(c.y,g.offset.y))}return c}applyTransform(u,c=!1){const d=bt();Bn(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Aa(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ps(p.latestValues)&&Aa(d,p.latestValues)}return ps(this.latestValues)&&Aa(d,this.latestValues),d}removeTransform(u){const c=bt();Bn(c,u);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ps(h.latestValues))continue;ng(h.latestValues)&&h.updateSnapshot();const p=bt(),g=h.measurePageBox();Bn(p,g),D1(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return ps(this.latestValues)&&D1(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ht.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Dl(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),uA(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Dl(this.relativeTargetOrigin,this.target,_.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ng(this.parent.latestValues)||lA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ht.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Bn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;rU(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=bt());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(k1(this.prevProjectionDelta.x,this.projectionDelta.x),k1(this.prevProjectionDelta.y,this.projectionDelta.y)),Il(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!j1(this.projectionDelta.x,this.prevProjectionDelta.x)||!j1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ra(),this.projectionDelta=Ra(),this.projectionDeltaWithTransform=Ra()}setAnimationOrigin(u,c=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=Ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=bt(),_=d?d.source:void 0,S=this.layout?this.layout.source:void 0,w=_!==S,R=this.getStack(),T=!R||R.members.length<=1,k=!!(w&&!T&&this.options.crossfade===!0&&!this.path.some(j5));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const M=K/1e3;V1(g.x,u.x,M),V1(g.y,u.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L5(this.relativeTarget,this.relativeTargetOrigin,v,M),N&&x5(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=bt()),Bn(N,this.relativeTarget)),w&&(this.animationValues=p,m5(p,h,this.latestValues,M,k,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{ef.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ga(0)),this.currentAnimation=c5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:p}=u;if(!(!c||!d||!h)){if(this!==u&&this.layout&&h&&DA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||bt();const g=Zt(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+g;const v=Zt(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+v}Bn(c,d),Aa(c,p),Il(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new S5),this.sharedNodes.get(u).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&em("z",u,h,this.animationValues);for(let p=0;p<Jp.length;p++)em(`rotate${Jp[p]}`,u,h,this.animationValues),em(`skew${Jp[p]}`,u,h,this.animationValues);u.render();for(const p in h)u.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Jc(c==null?void 0:c.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Jc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ps(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=w5(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),u.transform=g;const{x:v,y:_}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Zl){if(p[S]===void 0)continue;const{correct:w,applyTo:R,isCSSVariable:T}=Zl[S],k=g==="none"?p[S]:w(p[S],h);if(R){const N=R.length;for(let K=0;K<N;K++)u[R[K]]=k}else T?this.options.visualElement.renderState.vars[S]=k:u[S]=k}this.options.layoutId&&(u.pointerEvents=h===this?Jc(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(U1),this.root.sharedNodes.clear()}}}function C5(t){t.updateLayout()}function A5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?Vn(g=>{const v=u?e.measuredBox[g]:e.layoutBox[g],_=Zt(v);v.min=i[g].min,v.max=v.min+_}):DA(l,e.layoutBox,i)&&Vn(g=>{const v=u?e.measuredBox[g]:e.layoutBox[g],_=Zt(i[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=Ra();Il(c,i,e.layoutBox);const d=Ra();u?Il(d,t.applyTransform(a,!0),e.measuredBox):Il(d,i,e.layoutBox);const h=!RA(c);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const S=bt();Dl(S,e.layoutBox,v.layoutBox);const w=bt();Dl(w,i,_.layoutBox),kA(S,w)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function R5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function k5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function N5(t){t.clearSnapshot()}function U1(t){t.clearMeasurements()}function z1(t){t.isLayoutDirty=!1}function I5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function D5(t){t.resolveTargetDelta()}function O5(t){t.calcProjection()}function M5(t){t.resetSkewAndRotation()}function P5(t){t.removeLeadSnapshot()}function V1(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function H1(t,e,n,i){t.min=ht(e.min,n.min,i),t.max=ht(e.max,n.max,i)}function L5(t,e,n,i){H1(t.x,e.x,n.x,i),H1(t.y,e.y,n.y,i)}function j5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U5={duration:.45,ease:[.4,0,.1,1]},F1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),q1=F1("applewebkit/")&&!F1("chrome/")?Math.round:qn;function G1(t){t.min=q1(t.min),t.max=q1(t.max)}function z5(t){G1(t.x),G1(t.y)}function DA(t,e,n){return t==="position"||t==="preserve-aspect"&&!GU(L1(e),L1(n),.2)}function B5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const V5=IA({attachResizeListener:(t,e)=>Jl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tm={current:void 0},OA=IA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tm.current){const t=new V5({});t.mount(window),t.setOptions({layoutScroll:!0}),tm.current=t}return tm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),H5={pan:{Feature:a5},drag:{Feature:s5,ProjectionNode:OA,MeasureLayout:TA}};function Y1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ut.postRender(()=>l(e,vu(e)))}class F5 extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=h6(e,(n,i)=>(Y1(this.node,i,"Start"),a=>Y1(this.node,a,"End"))))}unmount(){}}class q5 extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mu(Jl(this.node.current,"focus",()=>this.onFocus()),Jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ut.postRender(()=>l(e,vu(e)))}class G5 extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=g6(e,(n,i)=>(K1(this.node,i,"Start"),(a,{success:l})=>K1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ug=new WeakMap,nm=new WeakMap,Y5=t=>{const e=ug.get(t.target);e&&e(t)},K5=t=>{t.forEach(Y5)};function W5({root:t,...e}){const n=t||document;nm.has(n)||nm.set(n,{});const i=nm.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(K5,{root:t,...e})),i[a]}function $5(t,e,n){const i=W5(e);return ug.set(t,n),i.observe(t),()=>{ug.delete(t),i.unobserve(t)}}const X5={some:0,all:1};class Q5 extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:X5[a]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(d)};return $5(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Z5(e,n))&&this.startObserver()}unmount(){}}function Z5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const J5={inView:{Feature:Q5},tap:{Feature:G5},focus:{Feature:q5},hover:{Feature:F5}},ez={layout:{ProjectionNode:OA,MeasureLayout:TA}},tz={...zU,...J5,...H5,...ez},rh=tU(tz,pU);var tf={exports:{}},nz=tf.exports,W1;function iz(){return W1||(W1=1,function(t,e){(function(n,i){t.exports=i(Pf())})(typeof self<"u"?self:nz,n=>(()=>{var i={2:(c,d,h)=>{var p=h(2199),g=h(4664),v=h(5950);c.exports=function(_){return p(_,v,g)}},79:(c,d,h)=>{var p=h(3702),g=h(80),v=h(4739),_=h(8655),S=h(1175);function w(R){var T=-1,k=R==null?0:R.length;for(this.clear();++T<k;){var N=R[T];this.set(N[0],N[1])}}w.prototype.clear=p,w.prototype.delete=g,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,c.exports=w},80:(c,d,h)=>{var p=h(6025),g=Array.prototype.splice;c.exports=function(v){var _=this.__data__,S=p(_,v);return!(S<0||(S==_.length-1?_.pop():g.call(_,S,1),--this.size,0))}},270:(c,d,h)=>{var p=h(7068),g=h(346);c.exports=function v(_,S,w,R,T){return _===S||(_==null||S==null||!g(_)&&!g(S)?_!=_&&S!=S:p(_,S,w,R,v,T))}},289:(c,d,h)=>{var p=h(2651);c.exports=function(g){return p(this,g).get(g)}},294:c=>{c.exports=function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=9007199254740991}},317:c=>{c.exports=function(d){var h=-1,p=Array(d.size);return d.forEach(function(g,v){p[++h]=[v,g]}),p}},346:c=>{c.exports=function(d){return d!=null&&typeof d=="object"}},361:c=>{var d=/^(?:0|[1-9]\d*)$/;c.exports=function(h,p){var g=typeof h;return!!(p=p??9007199254740991)&&(g=="number"||g!="symbol"&&d.test(h))&&h>-1&&h%1==0&&h<p}},392:c=>{c.exports=function(d,h){return d==null?void 0:d[h]}},659:(c,d,h)=>{var p=h(1873),g=Object.prototype,v=g.hasOwnProperty,_=g.toString,S=p?p.toStringTag:void 0;c.exports=function(w){var R=v.call(w,S),T=w[S];try{w[S]=void 0;var k=!0}catch{}var N=_.call(w);return k&&(R?w[S]=T:delete w[S]),N}},689:(c,d,h)=>{var p=h(2),g=Object.prototype.hasOwnProperty;c.exports=function(v,_,S,w,R,T){var k=1&S,N=p(v),K=N.length;if(K!=p(_).length&&!k)return!1;for(var M=K;M--;){var I=N[M];if(!(k?I in _:g.call(_,I)))return!1}var H=T.get(v),G=T.get(_);if(H&&G)return H==_&&G==v;var Z=!0;T.set(v,_),T.set(_,v);for(var ie=k;++M<K;){var W=v[I=N[M]],J=_[I];if(w)var ce=k?w(J,W,I,_,v,T):w(W,J,I,v,_,T);if(!(ce===void 0?W===J||R(W,J,S,w,T):ce)){Z=!1;break}ie||(ie=I=="constructor")}if(Z&&!ie){var ae=v.constructor,oe=_.constructor;ae==oe||!("constructor"in v)||!("constructor"in _)||typeof ae=="function"&&ae instanceof ae&&typeof oe=="function"&&oe instanceof oe||(Z=!1)}return T.delete(v),T.delete(_),Z}},695:(c,d,h)=>{var p=h(8096),g=h(2428),v=h(6449),_=h(3656),S=h(361),w=h(7167),R=Object.prototype.hasOwnProperty;c.exports=function(T,k){var N=v(T),K=!N&&g(T),M=!N&&!K&&_(T),I=!N&&!K&&!M&&w(T),H=N||K||M||I,G=H?p(T.length,String):[],Z=G.length;for(var ie in T)!k&&!R.call(T,ie)||H&&(ie=="length"||M&&(ie=="offset"||ie=="parent")||I&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||S(ie,Z))||G.push(ie);return G}},938:c=>{c.exports=function(d){var h=this.__data__,p=h.delete(d);return this.size=h.size,p}},945:(c,d,h)=>{var p=h(79),g=h(8223),v=h(3661);c.exports=function(_,S){var w=this.__data__;if(w instanceof p){var R=w.__data__;if(!g||R.length<199)return R.push([_,S]),this.size=++w.size,this;w=this.__data__=new v(R)}return w.set(_,S),this.size=w.size,this}},1042:(c,d,h)=>{var p=h(6110)(Object,"create");c.exports=p},1175:(c,d,h)=>{var p=h(6025);c.exports=function(g,v){var _=this.__data__,S=p(_,g);return S<0?(++this.size,_.push([g,v])):_[S][1]=v,this}},1380:c=>{c.exports=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this}},1420:(c,d,h)=>{var p=h(79);c.exports=function(){this.__data__=new p,this.size=0}},1459:c=>{c.exports=function(d){return this.__data__.has(d)}},1549:(c,d,h)=>{var p=h(2032),g=h(3862),v=h(6721),_=h(2749),S=h(5749);function w(R){var T=-1,k=R==null?0:R.length;for(this.clear();++T<k;){var N=R[T];this.set(N[0],N[1])}}w.prototype.clear=p,w.prototype.delete=g,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,c.exports=w},1873:(c,d,h)=>{var p=h(9325).Symbol;c.exports=p},1882:(c,d,h)=>{var p=h(2552),g=h(3805);c.exports=function(v){if(!g(v))return!1;var _=p(v);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}},1986:(c,d,h)=>{var p=h(1873),g=h(7828),v=h(5288),_=h(5911),S=h(317),w=h(4247),R=p?p.prototype:void 0,T=R?R.valueOf:void 0;c.exports=function(k,N,K,M,I,H,G){switch(K){case"[object DataView]":if(k.byteLength!=N.byteLength||k.byteOffset!=N.byteOffset)return!1;k=k.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=N.byteLength||!H(new g(k),new g(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+k,+N);case"[object Error]":return k.name==N.name&&k.message==N.message;case"[object RegExp]":case"[object String]":return k==N+"";case"[object Map]":var Z=S;case"[object Set]":var ie=1&M;if(Z||(Z=w),k.size!=N.size&&!ie)return!1;var W=G.get(k);if(W)return W==N;M|=2,G.set(k,N);var J=_(Z(k),Z(N),M,I,H,G);return G.delete(k),J;case"[object Symbol]":if(T)return T.call(k)==T.call(N)}return!1}},2032:(c,d,h)=>{var p=h(1042);c.exports=function(){this.__data__=p?p(null):{},this.size=0}},2199:(c,d,h)=>{var p=h(4528),g=h(6449);c.exports=function(v,_,S){var w=_(v);return g(v)?w:p(w,S(v))}},2404:(c,d,h)=>{var p=h(270);c.exports=function(g,v){return p(g,v)}},2428:(c,d,h)=>{var p=h(7534),g=h(346),v=Object.prototype,_=v.hasOwnProperty,S=v.propertyIsEnumerable,w=p(function(){return arguments}())?p:function(R){return g(R)&&_.call(R,"callee")&&!S.call(R,"callee")};c.exports=w},2552:(c,d,h)=>{var p=h(1873),g=h(659),v=h(9350),_=p?p.toStringTag:void 0;c.exports=function(S){return S==null?S===void 0?"[object Undefined]":"[object Null]":_&&_ in Object(S)?g(S):v(S)}},2651:(c,d,h)=>{var p=h(4218);c.exports=function(g,v){var _=g.__data__;return p(v)?_[typeof v=="string"?"string":"hash"]:_.map}},2749:(c,d,h)=>{var p=h(1042),g=Object.prototype.hasOwnProperty;c.exports=function(v){var _=this.__data__;return p?_[v]!==void 0:g.call(_,v)}},2804:(c,d,h)=>{var p=h(6110)(h(9325),"Promise");c.exports=p},2949:(c,d,h)=>{var p=h(2651);c.exports=function(g,v){var _=p(this,g),S=_.size;return _.set(g,v),this.size+=_.size==S?0:1,this}},3040:(c,d,h)=>{var p=h(1549),g=h(79),v=h(8223);c.exports=function(){this.size=0,this.__data__={hash:new p,map:new(v||g),string:new p}}},3146:(c,d,h)=>{for(var p=h(3491),g=typeof window>"u"?h.g:window,v=["moz","webkit"],_="AnimationFrame",S=g["request"+_],w=g["cancel"+_]||g["cancelRequest"+_],R=0;!S&&R<v.length;R++)S=g[v[R]+"Request"+_],w=g[v[R]+"Cancel"+_]||g[v[R]+"CancelRequest"+_];if(!S||!w){var T=0,k=0,N=[],K=1e3/60;S=function(M){if(N.length===0){var I=p(),H=Math.max(0,K-(I-T));T=H+I,setTimeout(function(){var G=N.slice(0);N.length=0;for(var Z=0;Z<G.length;Z++)if(!G[Z].cancelled)try{G[Z].callback(T)}catch(ie){setTimeout(function(){throw ie},0)}},Math.round(H))}return N.push({handle:++k,callback:M,cancelled:!1}),k},w=function(M){for(var I=0;I<N.length;I++)N[I].handle===M&&(N[I].cancelled=!0)}}c.exports=function(M){return S.call(g,M)},c.exports.cancel=function(){w.apply(g,arguments)},c.exports.polyfill=function(M){M||(M=g),M.requestAnimationFrame=S,M.cancelAnimationFrame=w}},3345:c=>{c.exports=function(){return[]}},3491:function(c){(function(){var d,h,p,g,v,_;typeof performance<"u"&&performance!==null&&performance.now?c.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(c.exports=function(){return(d()-v)/1e6},h=process.hrtime,g=(d=function(){var S;return 1e9*(S=h())[0]+S[1]})(),_=1e9*process.uptime(),v=g-_):Date.now?(c.exports=function(){return Date.now()-p},p=Date.now()):(c.exports=function(){return new Date().getTime()-p},p=new Date().getTime())}).call(this)},3605:c=>{c.exports=function(d){return this.__data__.get(d)}},3650:(c,d,h)=>{var p=h(4335)(Object.keys,Object);c.exports=p},3656:(c,d,h)=>{c=h.nmd(c);var p=h(9325),g=h(9935),v=d&&!d.nodeType&&d,_=v&&c&&!c.nodeType&&c,S=_&&_.exports===v?p.Buffer:void 0,w=(S?S.isBuffer:void 0)||g;c.exports=w},3661:(c,d,h)=>{var p=h(3040),g=h(7670),v=h(289),_=h(4509),S=h(2949);function w(R){var T=-1,k=R==null?0:R.length;for(this.clear();++T<k;){var N=R[T];this.set(N[0],N[1])}}w.prototype.clear=p,w.prototype.delete=g,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,c.exports=w},3702:c=>{c.exports=function(){this.__data__=[],this.size=0}},3805:c=>{c.exports=function(d){var h=typeof d;return d!=null&&(h=="object"||h=="function")}},3862:c=>{c.exports=function(d){var h=this.has(d)&&delete this.__data__[d];return this.size-=h?1:0,h}},4218:c=>{c.exports=function(d){var h=typeof d;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?d!=="__proto__":d===null}},4247:c=>{c.exports=function(d){var h=-1,p=Array(d.size);return d.forEach(function(g){p[++h]=g}),p}},4248:c=>{c.exports=function(d,h){for(var p=-1,g=d==null?0:d.length;++p<g;)if(h(d[p],p,d))return!0;return!1}},4335:c=>{c.exports=function(d,h){return function(p){return d(h(p))}}},4509:(c,d,h)=>{var p=h(2651);c.exports=function(g){return p(this,g).has(g)}},4528:c=>{c.exports=function(d,h){for(var p=-1,g=h.length,v=d.length;++p<g;)d[v+p]=h[p];return d}},4664:(c,d,h)=>{var p=h(9770),g=h(3345),v=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols,S=_?function(w){return w==null?[]:(w=Object(w),p(_(w),function(R){return v.call(w,R)}))}:g;c.exports=S},4739:(c,d,h)=>{var p=h(6025);c.exports=function(g){var v=this.__data__,_=p(v,g);return _<0?void 0:v[_][1]}},4840:(c,d,h)=>{var p=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g;c.exports=p},4894:(c,d,h)=>{var p=h(1882),g=h(294);c.exports=function(v){return v!=null&&g(v.length)&&!p(v)}},4901:(c,d,h)=>{var p=h(2552),g=h(294),v=h(346),_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1,c.exports=function(S){return v(S)&&g(S.length)&&!!_[p(S)]}},5083:(c,d,h)=>{var p=h(1882),g=h(7296),v=h(3805),_=h(7473),S=/^\[object .+?Constructor\]$/,w=Function.prototype,R=Object.prototype,T=w.toString,k=R.hasOwnProperty,N=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");c.exports=function(K){return!(!v(K)||g(K))&&(p(K)?N:S).test(_(K))}},5288:c=>{c.exports=function(d,h){return d===h||d!=d&&h!=h}},5481:(c,d,h)=>{var p=h(9325)["__core-js_shared__"];c.exports=p},5527:c=>{var d=Object.prototype;c.exports=function(h){var p=h&&h.constructor;return h===(typeof p=="function"&&p.prototype||d)}},5580:(c,d,h)=>{var p=h(6110)(h(9325),"DataView");c.exports=p},5749:(c,d,h)=>{var p=h(1042);c.exports=function(g,v){var _=this.__data__;return this.size+=this.has(g)?0:1,_[g]=p&&v===void 0?"__lodash_hash_undefined__":v,this}},5861:(c,d,h)=>{var p=h(5580),g=h(8223),v=h(2804),_=h(6545),S=h(8303),w=h(2552),R=h(7473),T="[object Map]",k="[object Promise]",N="[object Set]",K="[object WeakMap]",M="[object DataView]",I=R(p),H=R(g),G=R(v),Z=R(_),ie=R(S),W=w;(p&&W(new p(new ArrayBuffer(1)))!=M||g&&W(new g)!=T||v&&W(v.resolve())!=k||_&&W(new _)!=N||S&&W(new S)!=K)&&(W=function(J){var ce=w(J),ae=ce=="[object Object]"?J.constructor:void 0,oe=ae?R(ae):"";if(oe)switch(oe){case I:return M;case H:return T;case G:return k;case Z:return N;case ie:return K}return ce}),c.exports=W},5911:(c,d,h)=>{var p=h(8859),g=h(4248),v=h(9219);c.exports=function(_,S,w,R,T,k){var N=1&w,K=_.length,M=S.length;if(K!=M&&!(N&&M>K))return!1;var I=k.get(_),H=k.get(S);if(I&&H)return I==S&&H==_;var G=-1,Z=!0,ie=2&w?new p:void 0;for(k.set(_,S),k.set(S,_);++G<K;){var W=_[G],J=S[G];if(R)var ce=N?R(J,W,G,S,_,k):R(W,J,G,_,S,k);if(ce!==void 0){if(ce)continue;Z=!1;break}if(ie){if(!g(S,function(ae,oe){if(!v(ie,oe)&&(W===ae||T(W,ae,w,R,k)))return ie.push(oe)})){Z=!1;break}}else if(W!==J&&!T(W,J,w,R,k)){Z=!1;break}}return k.delete(_),k.delete(S),Z}},5950:(c,d,h)=>{var p=h(695),g=h(8984),v=h(4894);c.exports=function(_){return v(_)?p(_):g(_)}},6009:(c,d,h)=>{c=h.nmd(c);var p=h(4840),g=d&&!d.nodeType&&d,v=g&&c&&!c.nodeType&&c,_=v&&v.exports===g&&p.process,S=function(){try{return v&&v.require&&v.require("util").types||_&&_.binding&&_.binding("util")}catch{}}();c.exports=S},6025:(c,d,h)=>{var p=h(5288);c.exports=function(g,v){for(var _=g.length;_--;)if(p(g[_][0],v))return _;return-1}},6110:(c,d,h)=>{var p=h(5083),g=h(392);c.exports=function(v,_){var S=g(v,_);return p(S)?S:void 0}},6449:c=>{var d=Array.isArray;c.exports=d},6545:(c,d,h)=>{var p=h(6110)(h(9325),"Set");c.exports=p},6721:(c,d,h)=>{var p=h(1042),g=Object.prototype.hasOwnProperty;c.exports=function(v){var _=this.__data__;if(p){var S=_[v];return S==="__lodash_hash_undefined__"?void 0:S}return g.call(_,v)?_[v]:void 0}},7068:(c,d,h)=>{var p=h(7217),g=h(5911),v=h(1986),_=h(689),S=h(5861),w=h(6449),R=h(3656),T=h(7167),k="[object Arguments]",N="[object Array]",K="[object Object]",M=Object.prototype.hasOwnProperty;c.exports=function(I,H,G,Z,ie,W){var J=w(I),ce=w(H),ae=J?N:S(I),oe=ce?N:S(H),j=(ae=ae==k?K:ae)==K,te=(oe=oe==k?K:oe)==K,de=ae==oe;if(de&&R(I)){if(!R(H))return!1;J=!0,j=!1}if(de&&!j)return W||(W=new p),J||T(I)?g(I,H,G,Z,ie,W):v(I,H,ae,G,Z,ie,W);if(!(1&G)){var fe=j&&M.call(I,"__wrapped__"),b=te&&M.call(H,"__wrapped__");if(fe||b){var V=fe?I.value():I,$=b?H.value():H;return W||(W=new p),ie(V,$,G,Z,W)}}return!!de&&(W||(W=new p),_(I,H,G,Z,ie,W))}},7167:(c,d,h)=>{var p=h(4901),g=h(7301),v=h(6009),_=v&&v.isTypedArray,S=_?g(_):p;c.exports=S},7217:(c,d,h)=>{var p=h(79),g=h(1420),v=h(938),_=h(3605),S=h(9817),w=h(945);function R(T){var k=this.__data__=new p(T);this.size=k.size}R.prototype.clear=g,R.prototype.delete=v,R.prototype.get=_,R.prototype.has=S,R.prototype.set=w,c.exports=R},7296:(c,d,h)=>{var p,g=h(5481),v=(p=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"";c.exports=function(_){return!!v&&v in _}},7301:c=>{c.exports=function(d){return function(h){return d(h)}}},7473:c=>{var d=Function.prototype.toString;c.exports=function(h){if(h!=null){try{return d.call(h)}catch{}try{return h+""}catch{}}return""}},7534:(c,d,h)=>{var p=h(2552),g=h(346);c.exports=function(v){return g(v)&&p(v)=="[object Arguments]"}},7670:(c,d,h)=>{var p=h(2651);c.exports=function(g){var v=p(this,g).delete(g);return this.size-=v?1:0,v}},7828:(c,d,h)=>{var p=h(9325).Uint8Array;c.exports=p},8096:c=>{c.exports=function(d,h){for(var p=-1,g=Array(d);++p<d;)g[p]=h(p);return g}},8223:(c,d,h)=>{var p=h(6110)(h(9325),"Map");c.exports=p},8303:(c,d,h)=>{var p=h(6110)(h(9325),"WeakMap");c.exports=p},8655:(c,d,h)=>{var p=h(6025);c.exports=function(g){return p(this.__data__,g)>-1}},8859:(c,d,h)=>{var p=h(3661),g=h(1380),v=h(1459);function _(S){var w=-1,R=S==null?0:S.length;for(this.__data__=new p;++w<R;)this.add(S[w])}_.prototype.add=_.prototype.push=g,_.prototype.has=v,c.exports=_},8984:(c,d,h)=>{var p=h(5527),g=h(3650),v=Object.prototype.hasOwnProperty;c.exports=function(_){if(!p(_))return g(_);var S=[];for(var w in Object(_))v.call(_,w)&&w!="constructor"&&S.push(w);return S}},9155:c=>{c.exports=n},9219:c=>{c.exports=function(d,h){return d.has(h)}},9325:(c,d,h)=>{var p=h(4840),g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")();c.exports=v},9350:c=>{var d=Object.prototype.toString;c.exports=function(h){return d.call(h)}},9770:c=>{c.exports=function(d,h){for(var p=-1,g=d==null?0:d.length,v=0,_=[];++p<g;){var S=d[p];h(S,p,d)&&(_[v++]=S)}return _}},9817:c=>{c.exports=function(d){return this.__data__.has(d)}},9905:(c,d,h)=>{h.d(d,{default:()=>de});var p=h(3146),g=h.n(p);const v=function(fe){return new RegExp(/<[a-z][\s\S]*>/i).test(fe)},_=function(fe,b){return Math.floor(Math.random()*(b-fe+1))+fe};var S="TYPE_CHARACTER",w="REMOVE_CHARACTER",R="REMOVE_ALL",T="REMOVE_LAST_VISIBLE_NODE",k="PAUSE_FOR",N="CALL_FUNCTION",K="ADD_HTML_TAG_ELEMENT",M="CHANGE_DELETE_SPEED",I="CHANGE_DELAY",H="CHANGE_CURSOR",G="PASTE_STRING",Z="HTML_TAG";function ie(fe){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},ie(fe)}function W(fe,b){var V=Object.keys(fe);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(fe);b&&($=$.filter(function(C){return Object.getOwnPropertyDescriptor(fe,C).enumerable})),V.push.apply(V,$)}return V}function J(fe){for(var b=1;b<arguments.length;b++){var V=arguments[b]!=null?arguments[b]:{};b%2?W(Object(V),!0).forEach(function($){j(fe,$,V[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(V)):W(Object(V)).forEach(function($){Object.defineProperty(fe,$,Object.getOwnPropertyDescriptor(V,$))})}return fe}function ce(fe){return function(b){if(Array.isArray(b))return ae(b)}(fe)||function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(fe)||function(b,V){if(b){if(typeof b=="string")return ae(b,V);var $={}.toString.call(b).slice(8,-1);return $==="Object"&&b.constructor&&($=b.constructor.name),$==="Map"||$==="Set"?Array.from(b):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?ae(b,V):void 0}}(fe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ae(fe,b){(b==null||b>fe.length)&&(b=fe.length);for(var V=0,$=Array(b);V<b;V++)$[V]=fe[V];return $}function oe(fe,b){for(var V=0;V<b.length;V++){var $=b[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(fe,te($.key),$)}}function j(fe,b,V){return(b=te(b))in fe?Object.defineProperty(fe,b,{value:V,enumerable:!0,configurable:!0,writable:!0}):fe[b]=V,fe}function te(fe){var b=function(V){if(ie(V)!="object"||!V)return V;var $=V[Symbol.toPrimitive];if($!==void 0){var C=$.call(V,"string");if(ie(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}(fe);return ie(b)=="symbol"?b:b+""}const de=function(){function fe($,C){var L=this;if(function(Q,le){if(!(Q instanceof le))throw new TypeError("Cannot call a class as a function")}(this,fe),j(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),j(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),j(this,"setupWrapperElement",function(){L.state.elements.container&&(L.state.elements.wrapper.className=L.options.wrapperClassName,L.state.elements.cursor.className=L.options.cursorClassName,L.state.elements.cursor.innerHTML=L.options.cursor,L.state.elements.container.innerHTML="",L.state.elements.container.appendChild(L.state.elements.wrapper),L.state.elements.container.appendChild(L.state.elements.cursor))}),j(this,"start",function(){return L.state.eventLoopPaused=!1,L.runEventLoop(),L}),j(this,"pause",function(){return L.state.eventLoopPaused=!0,L}),j(this,"stop",function(){return L.state.eventLoop&&((0,p.cancel)(L.state.eventLoop),L.state.eventLoop=null),L}),j(this,"pauseFor",function(Q){return L.addEventToQueue(k,{ms:Q}),L}),j(this,"typeOutAllStrings",function(){return typeof L.options.strings=="string"?(L.typeString(L.options.strings).pauseFor(L.options.pauseFor),L):(L.options.strings.forEach(function(Q){L.typeString(Q).pauseFor(L.options.pauseFor).deleteAll(L.options.deleteSpeed)}),L)}),j(this,"typeString",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v(Q))return L.typeOutHTMLString(Q,le);if(Q){var ve=(L.options||{}).stringSplitter,Ve=typeof ve=="function"?ve(Q):Q.split("");L.typeCharacters(Ve,le)}return L}),j(this,"pasteString",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v(Q)?L.typeOutHTMLString(Q,le,!0):(Q&&L.addEventToQueue(G,{character:Q,node:le}),L)}),j(this,"typeOutHTMLString",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ve=arguments.length>2?arguments[2]:void 0,Ve=function(gn){var nn=document.createElement("div");return nn.innerHTML=gn,nn.childNodes}(Q);if(Ve.length>0)for(var je=0;je<Ve.length;je++){var ot=Ve[je],tn=ot.innerHTML;ot&&ot.nodeType!==3?(ot.innerHTML="",L.addEventToQueue(K,{node:ot,parentNode:le}),ve?L.pasteString(tn,ot):L.typeString(tn,ot)):ot.textContent&&(ve?L.pasteString(ot.textContent,le):L.typeString(ot.textContent,le))}return L}),j(this,"deleteAll",function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return L.addEventToQueue(R,{speed:Q}),L}),j(this,"changeDeleteSpeed",function(Q){if(!Q)throw new Error("Must provide new delete speed");return L.addEventToQueue(M,{speed:Q}),L}),j(this,"changeDelay",function(Q){if(!Q)throw new Error("Must provide new delay");return L.addEventToQueue(I,{delay:Q}),L}),j(this,"changeCursor",function(Q){if(!Q)throw new Error("Must provide new cursor");return L.addEventToQueue(H,{cursor:Q}),L}),j(this,"deleteChars",function(Q){if(!Q)throw new Error("Must provide amount of characters to delete");for(var le=0;le<Q;le++)L.addEventToQueue(w);return L}),j(this,"callFunction",function(Q,le){if(!Q||typeof Q!="function")throw new Error("Callback must be a function");return L.addEventToQueue(N,{cb:Q,thisArg:le}),L}),j(this,"typeCharacters",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(ve){L.addEventToQueue(S,{character:ve,node:le})}),L}),j(this,"removeCharacters",function(Q){if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(){L.addEventToQueue(w)}),L}),j(this,"addEventToQueue",function(Q,le){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return L.addEventToStateProperty(Q,le,ve,"eventQueue")}),j(this,"addReverseCalledEvent",function(Q,le){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return L.options.loop?L.addEventToStateProperty(Q,le,ve,"reverseCalledEvents"):L}),j(this,"addEventToStateProperty",function(Q,le){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ve=arguments.length>3?arguments[3]:void 0,je={eventName:Q,eventArgs:le||{}};return L.state[Ve]=ve?[je].concat(ce(L.state[Ve])):[].concat(ce(L.state[Ve]),[je]),L}),j(this,"runEventLoop",function(){L.state.lastFrameTime||(L.state.lastFrameTime=Date.now());var Q=Date.now(),le=Q-L.state.lastFrameTime;if(!L.state.eventQueue.length){if(!L.options.loop)return;L.state.eventQueue=ce(L.state.calledEvents),L.state.calledEvents=[],L.options=J({},L.state.initialOptions)}if(L.state.eventLoop=g()(L.runEventLoop),!L.state.eventLoopPaused){if(L.state.pauseUntil){if(Q<L.state.pauseUntil)return;L.state.pauseUntil=null}var ve,Ve=ce(L.state.eventQueue),je=Ve.shift();if(!(le<=(ve=je.eventName===T||je.eventName===w?L.options.deleteSpeed==="natural"?_(40,80):L.options.deleteSpeed:L.options.delay==="natural"?_(120,160):L.options.delay))){var ot=je.eventName,tn=je.eventArgs;switch(L.logInDevMode({currentEvent:je,state:L.state,delay:ve}),ot){case G:case S:var gn=tn.character,nn=tn.node,wi=document.createTextNode(gn),kn=wi;L.options.onCreateTextNode&&typeof L.options.onCreateTextNode=="function"&&(kn=L.options.onCreateTextNode(gn,wi)),kn&&(nn?nn.appendChild(kn):L.state.elements.wrapper.appendChild(kn)),L.state.visibleNodes=[].concat(ce(L.state.visibleNodes),[{type:"TEXT_NODE",character:gn,node:kn}]);break;case w:Ve.unshift({eventName:T,eventArgs:{removingCharacterNode:!0}});break;case k:var Ut=je.eventArgs.ms;L.state.pauseUntil=Date.now()+parseInt(Ut);break;case N:var er=je.eventArgs,Ei=er.cb,Ti=er.thisArg;Ei.call(Ti,{elements:L.state.elements});break;case K:var Yn=je.eventArgs,se=Yn.node,_e=Yn.parentNode;_e?_e.appendChild(se):L.state.elements.wrapper.appendChild(se),L.state.visibleNodes=[].concat(ce(L.state.visibleNodes),[{type:Z,node:se,parentNode:_e||L.state.elements.wrapper}]);break;case R:var Ne=L.state.visibleNodes,Re=tn.speed,q=[];Re&&q.push({eventName:M,eventArgs:{speed:Re,temp:!0}});for(var ne=0,pe=Ne.length;ne<pe;ne++)q.push({eventName:T,eventArgs:{removingCharacterNode:!1}});Re&&q.push({eventName:M,eventArgs:{speed:L.options.deleteSpeed,temp:!0}}),Ve.unshift.apply(Ve,q);break;case T:var ge=je.eventArgs.removingCharacterNode;if(L.state.visibleNodes.length){var ke=L.state.visibleNodes.pop(),xt=ke.type,Gt=ke.node,Rt=ke.character;L.options.onRemoveNode&&typeof L.options.onRemoveNode=="function"&&L.options.onRemoveNode({node:Gt,character:Rt}),Gt&&Gt.parentNode.removeChild(Gt),xt===Z&&ge&&Ve.unshift({eventName:T,eventArgs:{}})}break;case M:L.options.deleteSpeed=je.eventArgs.speed;break;case I:L.options.delay=je.eventArgs.delay;break;case H:L.options.cursor=je.eventArgs.cursor,L.state.elements.cursor.innerHTML=je.eventArgs.cursor}L.options.loop&&(je.eventName===T||je.eventArgs&&je.eventArgs.temp||(L.state.calledEvents=[].concat(ce(L.state.calledEvents),[je]))),L.state.eventQueue=Ve,L.state.lastFrameTime=Q}}}),$)if(typeof $=="string"){var Ae=document.querySelector($);if(!Ae)throw new Error("Could not find container element");this.state.elements.container=Ae}else this.state.elements.container=$;C&&(this.options=J(J({},this.options),C)),this.state.initialOptions=J({},this.options),this.init()}var b,V;return b=fe,(V=[{key:"init",value:function(){var $,C;this.setupWrapperElement(),this.addEventToQueue(H,{cursor:this.options.cursor},!0),this.addEventToQueue(R,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||($=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(C=document.createElement("style")).appendChild(document.createTextNode($)),document.head.appendChild(C),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function($){this.options.devMode&&console.log($)}}])&&oe(b.prototype,V),Object.defineProperty(b,"prototype",{writable:!1}),fe}()},9935:c=>{c.exports=function(){return!1}}},a={};function l(c){var d=a[c];if(d!==void 0)return d.exports;var h=a[c]={id:c,loaded:!1,exports:{}};return i[c].call(h.exports,h,h.exports,l),h.loaded=!0,h.exports}l.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return l.d(d,{a:d}),d},l.d=(c,d)=>{for(var h in d)l.o(d,h)&&!l.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:d[h]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),l.nmd=c=>(c.paths=[],c.children||(c.children=[]),c);var u={};return(()=>{l.d(u,{default:()=>K});var c=l(9155),d=l.n(c),h=l(9905),p=l(2404),g=l.n(p);function v(M){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},v(M)}function _(M,I){for(var H=0;H<I.length;H++){var G=I[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(M,k(G.key),G)}}function S(M,I){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,G){return H.__proto__=G,H},S(M,I)}function w(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function R(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!M})()}function T(M){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},T(M)}function k(M){var I=function(H){if(v(H)!="object"||!H)return H;var G=H[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(H,"string");if(v(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(M);return v(I)=="symbol"?I:I+""}var N=function(M){(function(ie,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(W&&W.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),W&&S(ie,W)})(Z,M);var I,H,G=function(ie){var W=R();return function(){var J,ce=T(ie);if(W){var ae=T(this).constructor;J=Reflect.construct(ce,arguments,ae)}else J=ce.apply(this,arguments);return function(oe,j){if(j&&(v(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(oe)}(this,J)}}(Z);function Z(){var ie,W,J,ce;(function(te,de){if(!(te instanceof de))throw new TypeError("Cannot call a class as a function")})(this,Z);for(var ae=arguments.length,oe=new Array(ae),j=0;j<ae;j++)oe[j]=arguments[j];return W=w(ie=G.call.apply(G,[this].concat(oe))),ce={instance:null},(J=k(J="state"))in W?Object.defineProperty(W,J,{value:ce,enumerable:!0,configurable:!0,writable:!0}):W[J]=ce,ie}return I=Z,(H=[{key:"componentDidMount",value:function(){var ie=this,W=new h.default(this.typewriter,this.props.options);this.setState({instance:W},function(){var J=ie.props.onInit;J&&J(W)})}},{key:"componentDidUpdate",value:function(ie){g()(this.props.options,ie.options)||this.setState({instance:new h.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var ie=this,W=this.props.component;return d().createElement(W,{ref:function(J){return ie.typewriter=J},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&_(I.prototype,H),Object.defineProperty(I,"prototype",{writable:!1}),Z}(c.Component);N.defaultProps={component:"div"};const K=N})(),u.default})())}(tf)),tf.exports}var rz=iz();const sz=tu(rz),cg=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],az=6e4,MA=O.createContext({currentIndex:0}),oz=({children:t})=>{const[e,n]=O.useState(0);return O.useEffect(()=>{const i=setInterval(()=>{n(a=>(a+1)%cg.length)},az);return()=>clearInterval(i)},[]),A.jsx(MA.Provider,{value:{currentIndex:e},children:t})},Yr=()=>{const{currentIndex:t}=O.useContext(MA);return{backgroundElement:A.jsx(KC,{mode:"wait",children:A.jsx(rh.div,{className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${cg[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}},t)}),currentIndex:t,imageUrl:cg[t]}},lz=()=>{const t=Is(),{backgroundElement:e}=Yr();return A.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white",children:[e,A.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md p-6 sm:p-10 rounded-2xl w-full max-w-md text-center shadow-xl space-y-6 animate-fade-in",children:[A.jsx("h1",{className:"text-2xl sm:text-4xl font-extrabold text-[#f9f6f1] mb-4 tracking-wider whitespace-nowrap",children:A.jsx(sz,{options:{strings:["夜の帳が降りる頃、物語は始まる。"],autoStart:!0,loop:!1,delay:60,deleteSpeed:30},onInit:n=>{n.start().typeString("夜の帳が降りる頃、物語は始まる。")}})}),A.jsx("p",{className:"text-gray-300 text-sm sm:text-base tracking-wide",children:"As dusk falls, the story begins."}),A.jsx("button",{onClick:()=>t("/login"),className:"btn-primary px-6 py-2",children:"はじめる"})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),$1=t=>{const e=cz(t);return e.charAt(0).toUpperCase()+e.slice(1)},PA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),fz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...c},d)=>O.createElement("svg",{ref:d,...hz,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:PA("lucide",a),...!l&&!fz(c)&&{"aria-hidden":"true"},...c},[...u.map(([h,p])=>O.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=(t,e)=>{const n=O.forwardRef(({className:i,...a},l)=>O.createElement(dz,{ref:l,iconNode:e,className:PA(`lucide-${uz($1(t))}`,`lucide-${t}`,i),...a}));return n.displayName=$1(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mz=_u("chevron-left",pz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yz=_u("chevron-right",gz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_z=_u("eye-off",vz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xz=_u("eye",bz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],wz=_u("github",Sz),Ez=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(""),[a,l]=O.useState(""),[u,c]=O.useState(!1),[d,h]=O.useState(""),[p,g]=O.useState(!1),v=Is(),{backgroundElement:_}=Yr();O.useRef(null),O.useRef(null),O.useEffect(()=>{i(""),l(""),h("")},[t]);const S=async R=>{R.preventDefault(),h(""),g(!0);try{t?(await YM(bs,n,a),v("/profile")):(await KM(bs,n,a),v("/chat"))}catch(T){h(T.message)}finally{g(!1)}},w=async()=>{const R=new Vi;try{const k=(await g2(bs,R)).user,N=Cn(),K=at(N,`users/${k.uid}`);ms(K,M=>{M.exists()||Cr(K,{nickname:k.displayName||"匿名使用者",avatarUrl:k.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),v("/chat")}catch(T){h(T.message)}};return A.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden",children:[_,A.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl",children:[A.jsxs("div",{className:"flex justify-center space-x-4",children:[A.jsx("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`,children:"Login"}),A.jsx("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`,children:"Sign Up"})]}),A.jsxs("form",{onSubmit:S,className:"space-y-4",children:[A.jsx("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:R=>i(R.target.value),required:!0}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:u?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:a,onChange:R=>l(R.target.value),required:!0}),A.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":u?"Hide password":"Show password",children:u?A.jsx(_z,{size:20}):A.jsx(xz,{size:20})})]}),d&&A.jsx("p",{className:"text-red-400 text-sm text-center",children:d}),A.jsx("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]",children:t?"Sign Up":"Login"})]}),A.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition",children:[A.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]}),A.jsxs("p",{className:"text-center text-sm text-white/80",children:[t?"Already have an account?":"Don't have an account?"," ",A.jsx("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition",children:t?"Login":"Sign up"})]})]})]})},Tz=({user:t,isFriend:e,onClose:n,onStartChat:i,onAddFriend:a})=>A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-xs flex flex-col items-center",children:[A.jsx("img",{src:t.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-24 h-24 rounded-full object-cover"}),A.jsx("h2",{className:"text-xl font-bold text-white",children:t.nickname}),t.statusMessage&&A.jsx("p",{className:"text-sm italic text-gray-400 text-center px-2",children:t.statusMessage}),e?A.jsx("button",{onClick:i,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 hover:brightness-110 transition",children:"開始聊天"}):A.jsx("button",{onClick:a,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transition-all duration-200",children:"➕ 加好友"}),A.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white mt-4",children:"關閉"})]})});function Cz(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const Az="dhtqetylj",Rz="Chatroom_Avatars",dl=(t,e)=>[t,e].sort().join("_"),kz=()=>{const[t,e]=O.useState(""),[n,i]=O.useState([]),[a,l]=O.useState(""),[u,c]=O.useState([]),[d,h]=O.useState([]),[p,g]=O.useState("public"),[v,_]=O.useState(""),[S,w]=O.useState(""),[R,T]=O.useState(""),[k,N]=O.useState("#bfa382"),[K,M]=O.useState(!1),[I,H]=O.useState(!1),[G,Z]=O.useState(""),[ie,W]=O.useState([]),J=Is(),{backgroundElement:ce}=Yr(),ae=O.useRef(null),[oe,j]=O.useState([]),[te,de]=O.useState(!1),[fe,b]=O.useState([]),[V,$]=O.useState(""),[C,L]=O.useState(null),[Ae,Q]=O.useState(!1),le=bs.currentUser;O.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),O.useEffect(()=>{const se=setTimeout(()=>{var _e;(_e=ae.current)==null||_e.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(se)},[n]),O.useEffect(()=>{if(!le){J("/login");return}const se=Cn(),_e=at(se,`users/${le.uid}`);ms(_e,q=>{const ne=q.val();ne&&(w(ne.nickname||""),T(ne.avatarUrl||""),N(ne.themeColor||"#bfa382"))});const Ne=at(se,"users");ms(Ne,q=>{const ne=q.val();if(ne){const pe=Object.entries(ne).filter(([ge])=>ge!==le.uid).map(([ge,ke])=>({uid:ge,nickname:ke.nickname,avatarUrl:ke.avatarUrl,statusMessage:ke.statusMessage||""}));c(pe)}});const Re=at(se,"groups");ms(Re,q=>{const ne=q.val();if(ne){const pe=Object.entries(ne).map(([ge,ke])=>({id:ge,name:ke.name,members:ke.members}));h(pe)}})},[le,J]),O.useEffect(()=>{const se=Cn();if(!le)return;let _e;if(p==="public")_e=at(se,"messages/public");else if(v)_e=at(se,`messages/groups/${v}`);else{const Ne=dl(le.uid,p);_e=at(se,`messages/private/${Ne}`)}ms(_e,Ne=>{const Re=Ne.val();if(Re){const q=Object.entries(Re).map(([ne,pe])=>({id:ne,...pe}));i(q)}else i([])})},[p,v]),O.useEffect(()=>{if(!le)return;const se=Cn(),_e=at(se,`users/${le.uid}/friends`);ms(_e,Ne=>{const Re=Ne.val();j(Re?Object.keys(Re):[])})},[le]);const ve=async()=>{if(!a.trim())return;const se=Cn();if(!le)return;if(p!=="public"&&v===""&&!oe.includes(p)){alert("你必須先加對方為好友才能私訊喔 🌸");return}const _e=Date.now(),Ne={text:Cz(a),sender:le.uid,nickname:S,avatarUrl:R,timestamp:_e};let Re;if(p==="public")Re=at(se,"messages/public");else if(v)Re=at(se,`messages/groups/${v}`);else{const ne=dl(le.uid,p);Re=at(se,`messages/private/${ne}`)}const q=Lc(Re);await Cr(q,Ne),l(""),Notification.permission==="granted"&&le&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:R||"/image/default-avatar.jpg"})},Ve=async se=>{const Ne=`https://g.tenor.com/v1/search?q=${se}&key=LIVDSRZULELA&limit=20`,q=await(await fetch(Ne)).json();b(q.results||[])},je=se=>{const _e=document.getElementById(`msg-${se}`);_e&&(_e.classList.add("animate-shatter"),setTimeout(()=>{ot(se)},500))},ot=async se=>{if(!le)return;const _e=Cn();let Ne;if(p==="public")Ne=at(_e,`messages/public/${se}`);else if(v)Ne=at(_e,`messages/groups/${v}/${se}`);else{const Re=dl(le.uid,p);Ne=at(_e,`messages/private/${Re}/${se}`)}await Cr(Ne,null)},tn=async se=>{if(!le)return;const _e=Cn(),Ne=Date.now(),Re={text:"",gifUrl:se,sender:le.uid,nickname:S,avatarUrl:R,timestamp:Ne};let q;if(p==="public")q=at(_e,"messages/public");else if(v)q=at(_e,`messages/groups/${v}`);else{const pe=dl(le.uid,p);q=at(_e,`messages/private/${pe}`)}const ne=Lc(q);await Cr(ne,Re),de(!1)},gn=async se=>{var Re;const _e=(Re=se.target.files)==null?void 0:Re[0];if(!_e||!le)return;const Ne=new FormData;Ne.append("file",_e),Ne.append("upload_preset",Rz),Ne.append("folder","chat-images");try{const ne=await(await fetch(`https://api.cloudinary.com/v1_1/${Az}/image/upload`,{method:"POST",body:Ne})).json(),pe=Cn(),ge=Date.now(),ke={text:"",imageUrl:ne.secure_url,sender:le.uid,nickname:S,avatarUrl:R,timestamp:ge};let xt;if(p==="public")xt=at(pe,"messages/public");else if(v)xt=at(pe,`messages/groups/${v}`);else{const Rt=dl(le.uid,p);xt=at(pe,`messages/private/${Rt}`)}const Gt=Lc(xt);await Cr(Gt,ke)}catch(q){console.error("上傳圖片失敗:",q)}},nn=async se=>{if(!le)return;const _e=Cn(),Ne=at(_e,`users/${le.uid}/friends/${se}`),Re=at(_e,`users/${se}/friends/${le.uid}`);await Cr(Ne,!0),await Cr(Re,!0)},wi=()=>{g("public"),_(""),M(!1)},kn=se=>{g(se),_(""),M(!1)},Ut=se=>{g(""),_(se),M(!1)},er=()=>{J("/profile"),M(!1)},Ei=async()=>{await bs.signOut(),J("")},Ti=async()=>{if(!G.trim()||ie.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const se=Cn();if(!le)return;const _e=at(se,"groups"),Ne=Lc(_e),Re={};ie.forEach(q=>Re[q]=!0),Re[le.uid]=!0,await Cr(Ne,{name:G,members:Re}),H(!1),Z(""),W([])},Yn=se=>new Date(se).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return A.jsxs(A.Fragment,{children:[ce,te&&A.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md",children:[A.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"搜尋 GIF ✨"}),A.jsx("input",{type:"text",value:V,onChange:se=>$(se.target.value),placeholder:"輸入關鍵字...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),A.jsx("div",{className:"flex justify-end",children:A.jsx("button",{onClick:()=>Ve(V),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition",children:"搜尋"})}),A.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto",children:fe.map(se=>A.jsx("img",{src:se.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>tn(se.media[0].tinygif.url)},se.id))}),A.jsx("div",{className:"flex justify-center pt-4",children:A.jsx("button",{onClick:()=>de(!1),className:"text-gray-400 hover:text-white",children:"關閉"})})]})}),Ae&&C&&A.jsx(Tz,{user:C,isFriend:oe.includes(C.uid),onStartChat:()=>{g(C.uid),_(""),Q(!1)},onAddFriend:()=>nn(C.uid),onClose:()=>Q(!1)}),I&&A.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:"創建新群組"}),A.jsx("input",{type:"text",value:G,onChange:se=>Z(se.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),A.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:u.filter(se=>oe.includes(se.uid)).length===0?A.jsx("div",{className:"text-gray-400 text-center py-4",children:"尚未加任何好友，無法建立群組喔 🌸"}):u.filter(se=>oe.includes(se.uid)).map(se=>A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"checkbox",value:se.uid,onChange:_e=>{_e.target.checked?W(Ne=>[...Ne,se.uid]):W(Ne=>Ne.filter(Re=>Re!==se.uid))}}),A.jsx("span",{children:se.nickname})]},se.uid))}),A.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[A.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 rounded-lg bg-gray-600",children:"Cancel"}),A.jsx("button",{onClick:Ti,className:"px-4 py-2 rounded-lg bg-green-600",children:"Create"})]})]})}),A.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[A.jsxs("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${K?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`,children:[A.jsx("button",{onClick:wi,className:"text-lg font-bold hover:underline",style:{color:k},children:"🌎 Public Chat"}),A.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"All Users"}),A.jsx("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto",children:u&&u.map(se=>A.jsxs("div",{className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition",children:[A.jsxs("button",{onClick:()=>kn(se.uid),className:"flex items-center space-x-2",children:[A.jsx("img",{src:se.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),A.jsx("span",{children:se.nickname})]}),!oe.includes(se.uid)&&A.jsx("button",{onClick:()=>nn(se.uid),className:"text-green-400 hover:text-green-300 text-lg",children:"➕"})]},se.uid))}),A.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Groups"}),A.jsx("div",{className:"flex flex-col space-y-2",children:d.filter(se=>se.members[le?le.uid:0]).map(se=>A.jsxs("button",{onClick:()=>Ut(se.id),className:"hover:bg-white/10 p-2 rounded transition",children:["🧑‍🤝‍🧑 ",se.name]},se.id))}),A.jsx("button",{onClick:()=>H(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition",children:"➕ Create Group"}),A.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-white/20",children:[A.jsx("button",{onClick:()=>J("/"),className:"text-sm hover:underline",style:{color:k},children:"🏠"}),A.jsx("button",{onClick:er,className:"text-sm hover:underline",style:{color:k},children:"Profile"}),A.jsx("button",{onClick:Ei,className:"text-sm text-red-400 hover:underline",children:"Logout"})]})]}),A.jsxs("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner",children:[A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[A.jsx("div",{className:"p-4",children:A.jsx("input",{type:"text",placeholder:"搜尋訊息 🔍",value:t,onChange:se=>e(se.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})}),n.filter(se=>{var Re;if(!t.trim())return!0;const _e=t.toLowerCase();return(Re=se.text)==null?void 0:Re.toLowerCase().includes(_e)}).length===0?A.jsx("div",{className:"text-center text-gray-400 mt-10",children:"沒有找到相關訊息喔 🌸"}):n.filter(se=>{var Re;if(!t.trim())return!0;const _e=t.toLowerCase();return(Re=se.text)==null?void 0:Re.toLowerCase().includes(_e)}).map(se=>A.jsx("div",{id:`msg-${se.id}`,className:`flex ${se.sender===(le==null?void 0:le.uid)?"justify-end":"justify-start"} fade-in`,children:A.jsxs("div",{className:"flex items-end space-x-2",children:[se.sender!==(le==null?void 0:le.uid)&&A.jsx("img",{src:se.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onClick:()=>{const _e=u.find(Ne=>Ne.uid===se.sender);_e&&(L(_e),Q(!0))}}),A.jsxs("div",{className:"flex flex-col items-start max-w-xs",children:[se.sender===(le==null?void 0:le.uid)&&A.jsx("button",{onClick:()=>je(se.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"收回訊息",children:"↩️"}),A.jsxs("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:se.sender===(le==null?void 0:le.uid)?k:"#d1d5db",color:se.sender===(le==null?void 0:le.uid)?"white":"black"},children:[se.text&&A.jsx("span",{children:se.text}),se.imageUrl&&A.jsx("img",{src:se.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(se.imageUrl,"_blank")}),se.gifUrl&&A.jsx("img",{src:se.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(se.gifUrl,"_blank")})]}),A.jsx("span",{className:"text-xs text-gray-400 mt-1 ml-2",children:Yn(se.timestamp)})]}),se.sender===(le==null?void 0:le.uid)&&A.jsx("img",{src:se.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})]})})),A.jsx("div",{ref:ae})]}),A.jsxs("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2",children:[A.jsx("input",{type:"text",value:a,onChange:se=>l(se.target.value),onKeyDown:se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),ve())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),A.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:gn}),A.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:k},children:"🖼️"}),A.jsx("button",{onClick:()=>de(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:k},children:"🔎"}),A.jsx("button",{onClick:ve,style:{backgroundColor:k},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",children:"Send"})]})]})]})]})},im=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],Nz=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(null),[a,l]=O.useState(""),[u,c]=O.useState(im[2].color),[d,h]=O.useState(""),[p,g]=O.useState(!0),v=Is(),_="dhtqetylj",S="Chatroom_Avatars",w=bs.currentUser,R=O.useRef(null),{backgroundElement:T}=Yr();O.useEffect(()=>{if(!w){v("/login");return}const M=Cn(),I=at(M,`users/${w.uid}`);ms(I,H=>{const G=H.val();G&&(e(G.nickname||""),h(G.statusMessage||""),l(G.avatarUrl||""),c(G.themeColor||im[2].color)),g(!1)})},[w,v]);async function k(M){const I=new FormData;return I.append("file",M),I.append("upload_preset",S),I.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${_}/image/upload`,{method:"POST",body:I})).json()).secure_url}const N=async()=>{if(!w)return;const M=Cn(),I=at(M,`users/${w.uid}`);let H=a;n&&(H=await k(n)),await h4(I,{nickname:t,statusMessage:d,themeColor:u,avatarUrl:H}),v("/chat")},K=M=>{var H;const I=(H=M.target.files)==null?void 0:H[0];I&&(i(I),l(URL.createObjectURL(I)))};return p?A.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading Profile..."}):A.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4",children:[T,A.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Update Your Profile"}),A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:a||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var M;return(M=R.current)==null?void 0:M.click()}}),A.jsx("input",{type:"file",accept:"image/*",ref:R,onChange:K,className:"hidden"})]}),A.jsx("input",{type:"text",value:t,onChange:M=>e(M.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),A.jsx("input",{type:"text",value:d,onChange:M=>h(M.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),A.jsx("div",{className:"flex space-x-3 justify-center",children:im.map(M=>A.jsx("button",{type:"button",onClick:()=>c(M.color),style:{backgroundColor:M.color},className:`w-8 h-8 rounded-full border-2 ${u===M.color?"border-white":"border-transparent"} transition-all`},M.color))}),A.jsx("button",{onClick:N,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:u},children:"Save"})]})]})},Iz=()=>{const{backgroundElement:t}=Yr();return A.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center px-4 py-12 bg-black text-white font-zen",children:[t,A.jsxs("div",{className:"z-10 grid grid-cols-1 md:grid-cols-2 gap-10 max-w-6xl w-full",children:[A.jsx("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl shadow-xl p-8 space-y-6 animate-fade-in",children:A.jsxs("div",{className:"relative z-10 bg-black/60 p-6 rounded-xl space-y-6 text-white",children:[A.jsx("h1",{className:"text-3xl font-bold tracking-wider text-[#f9f6f1]",children:"About Me"}),A.jsx("p",{className:"text-gray-300 leading-relaxed",children:"嗨，我是 Chang0608，目前就讀於清華大學資訊工程學系。 我喜歡在深夜寫程式，對於能「活起來」的介面特別著迷：像是會回話的聊天室、會打字的首頁、會閃爍的霓虹背景。 對我來說，程式不只是工具，而是一種溫柔的表達形式。"}),A.jsx("p",{className:"text-gray-300 leading-relaxed",children:"過去我完成了一個以 Firebase + React 為主的聊天室專案，支援使用者登入、私聊群聊、訊息搜尋、撤回、GIF 傳送、個人主題設定……甚至還打造了一個日系霧氣打字風格的進場畫面。那不只是一個作品，更像是一段能與自己對話的夜晚。"}),A.jsx("p",{className:"text-gray-400 leading-relaxed",children:"技術上，我熟悉："}),A.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[A.jsx("li",{children:"React / TypeScript / TailwindCSS"}),A.jsx("li",{children:"Firebase 全家桶：Auth, Firestore, Hosting, Storage"}),A.jsx("li",{children:"Python / C / C++，並有 bitonic sort、OpenACC 平行化、HPC 專題等經驗"}),A.jsx("li",{children:"具備測資能力，會寫單元測試、Git 使用熟練"})]}),A.jsx("p",{className:"text-gray-300 leading-relaxed",children:"我曾是台北前三志願高中程式校隊成員，拿過市賽獎項與自主學習佳作。 進入大學後接觸到更多實戰型專案，也開始打磨出自己對「乾淨程式碼」與「有靈魂介面」的執著。"}),A.jsxs("p",{className:"text-sm text-gray-500",children:["「夜の帳が降りる頃、物語は始まる。」",A.jsx("br",{}),"我想寫的，從來不只是程式，而是自己的成長日誌。"]})]})}),A.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-white/5 backdrop-blur-md rounded-2xl p-6 space-y-4 w-full max-w-sm h-fit shadow-xl animate-fade-in",children:[A.jsx("img",{src:"/image/profile-symbolic.png",alt:"Profile Symbol",className:"rounded-full w-24 h-24 object-cover shadow-md ring-2 ring-white/20 hover:ring-[#bfa382] transition"}),A.jsx("p",{className:"text-sm text-gray-300 italic text-center",children:"“靜靜寫程式，也是在認識自己。”"}),A.jsx("div",{className:"w-full border-t border-white/20 pt-2"}),A.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-white",children:[A.jsx("a",{href:"https://github.com/Chang0608",className:"hover:text-[#bfa382] transition",target:"_blank",children:"GitHub"}),A.jsx("a",{href:"mailto:caillou0608@email.com",className:"hover:text-[#bfa382] transition",children:"Email"})]})]})]})]})},LA=({solved:t,total:e})=>{const n=Math.round(t/e*100);return A.jsx("div",{className:"w-24 h-2 rounded-full bg-white/10 overflow-hidden shadow-inner",title:`完成 ${t} / ${e} 題（${n}%）`,children:A.jsx("div",{className:"h-full bg-[#bfa382] transition-all duration-300",style:{width:`${n}%`}})})},Dz=({name:t,title:e,description:n,tags:i,repo:a,progress:l})=>{const u=Is();return A.jsxs(rh.div,{layoutId:`project-card-${t}`,onClick:()=>u(`/projects/${t}`),className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4 cursor-pointer",style:{willChange:"transform"},children:[A.jsxs("div",{className:"flex justify-between items-center gap-4",children:[A.jsx("h2",{className:"text-xl font-bold text-white",children:e}),l&&A.jsx(LA,{solved:l.solved,total:l.total})]}),A.jsx("p",{className:"text-sm text-gray-300",children:n}),A.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:i.map((c,d)=>A.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:c},d))}),A.jsx("div",{className:"pt-3 flex gap-4",onClick:c=>c.stopPropagation(),children:a&&A.jsx("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-white hover:underline text-sm",children:"💾 GitHub"})})]})},Oz=[{name:"chatroom",title:"Chatroom 系統",description:"支援登入、私聊、GIF 傳送與群組管理的聊天室，採用 Firebase 與 React 技術實作。",tags:["React","Firebase","Tailwind"],link:"/projects/chatroom",repo:"https://github.com/chang0608/chatroom",progress:{solved:95,total:100}},{name:"cses-marathon",title:"CSES Marathon",description:"紀錄 CSES 題解與程式碼，附有筆記與程式碼解說。",tags:["C++","Algorithm","Competitive"],link:"/projects/cses-marathon",repo:"https://github.com/chang0608/cses-marathon",progress:{solved:0,total:100}},{name:"hpc-practice-log",title:"HPC 練習記錄",description:"整理 MPI、CUDA、OpenACC 等高效能計算實驗與心得，卡片式展示。",tags:["MPI","CUDA","OpenACC"],link:"/projects/hpc-practice-log",repo:"https://github.com/chang0608/hpc-practice-log",progress:{solved:5,total:100}}];function Mz(){const{backgroundElement:t}=Yr();return A.jsxs(rh.div,{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4},children:[t,A.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[A.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"Projects"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Oz.map(e=>A.jsx(Dz,{...e},e.name))})]})]})}function Pz(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Lz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Uz={};function X1(t,e){return(Uz.jsx?jz:Lz).test(t)}const zz=/[ \t\n\f\r]/g;function Bz(t){return typeof t=="object"?t.type==="text"?Q1(t.value):!1:Q1(t)}function Q1(t){return t.replace(zz,"")===""}class bu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}bu.prototype.normal={};bu.prototype.property={};bu.prototype.space=void 0;function jA(t,e){const n={},i={};for(const a of t)Object.assign(n,a.property),Object.assign(i,a.normal);return new bu(n,i,e)}function fg(t){return t.toLowerCase()}class mn{constructor(e,n){this.attribute=n,this.property=e}}mn.prototype.attribute="";mn.prototype.booleanish=!1;mn.prototype.boolean=!1;mn.prototype.commaOrSpaceSeparated=!1;mn.prototype.commaSeparated=!1;mn.prototype.defined=!1;mn.prototype.mustUseProperty=!1;mn.prototype.number=!1;mn.prototype.overloadedBoolean=!1;mn.prototype.property="";mn.prototype.spaceSeparated=!1;mn.prototype.space=void 0;let Vz=0;const De=Ms(),Et=Ms(),hg=Ms(),ue=Ms(),nt=Ms(),La=Ms(),Tn=Ms();function Ms(){return 2**++Vz}const dg=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:Et,commaOrSpaceSeparated:Tn,commaSeparated:La,number:ue,overloadedBoolean:hg,spaceSeparated:nt},Symbol.toStringTag,{value:"Module"})),rm=Object.keys(dg);class av extends mn{constructor(e,n,i,a){let l=-1;if(super(e,n),Z1(this,"space",a),typeof i=="number")for(;++l<rm.length;){const u=rm[l];Z1(this,rm[l],(i&dg[u])===dg[u])}}}av.prototype.defined=!0;function Z1(t,e,n){n&&(t[e]=n)}function oo(t){const e={},n={};for(const[i,a]of Object.entries(t.properties)){const l=new av(i,t.transform(t.attributes||{},i),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[fg(i)]=i,n[fg(l.attribute)]=i}return new bu(e,n,t.space)}const UA=oo({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:nt,ariaCurrent:null,ariaDescribedBy:nt,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:nt,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:nt,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nt,ariaLevel:ue,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:nt,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:nt,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:Et,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function zA(t,e){return e in t?t[e]:e}function BA(t,e){return zA(t,e.toLowerCase())}const Hz=oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:La,acceptCharset:nt,accessKey:nt,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:nt,autoFocus:De,autoPlay:De,blocking:nt,capture:null,charSet:null,checked:De,cite:null,className:nt,cols:ue,colSpan:null,content:null,contentEditable:Et,controls:De,controlsList:nt,coords:ue|La,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:hg,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:nt,height:ue,hidden:hg,high:ue,href:null,hrefLang:null,htmlFor:nt,httpEquiv:nt,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:nt,itemRef:nt,itemScope:De,itemType:nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:ue,pattern:null,ping:nt,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:nt,required:De,reversed:De,rows:ue,rowSpan:ue,sandbox:nt,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:Et,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nt,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:BA}),Fz=oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Tn,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:La,g2:La,glyphName:La,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Tn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Tn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Tn,rev:Tn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Tn,requiredFeatures:Tn,requiredFonts:Tn,requiredFormats:Tn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Tn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Tn,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Tn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zA}),VA=oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),HA=oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:BA}),FA=oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),qz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Gz=/[A-Z]/g,J1=/-[a-z]/g,Yz=/^data[-\w.:]+$/i;function Kz(t,e){const n=fg(e);let i=e,a=mn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Yz.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(J1,$z);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!J1.test(l)){let u=l.replace(Gz,Wz);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=av}return new a(i,e)}function Wz(t){return"-"+t.toLowerCase()}function $z(t){return t.charAt(1).toUpperCase()}const Xz=jA([UA,Hz,VA,HA,FA],"html"),ov=jA([UA,Fz,VA,HA,FA],"svg");function Qz(t){return t.join(" ").trim()}var xa={},sm,ew;function Zz(){if(ew)return sm;ew=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,h="/",p="*",g="",v="comment",_="declaration";sm=function(w,R){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];R=R||{};var T=1,k=1;function N(ce){var ae=ce.match(e);ae&&(T+=ae.length);var oe=ce.lastIndexOf(d);k=~oe?ce.length-oe:k+ce.length}function K(){var ce={line:T,column:k};return function(ae){return ae.position=new M(ce),G(),ae}}function M(ce){this.start=ce,this.end={line:T,column:k},this.source=R.source}M.prototype.content=w;function I(ce){var ae=new Error(R.source+":"+T+":"+k+": "+ce);if(ae.reason=ce,ae.filename=R.source,ae.line=T,ae.column=k,ae.source=w,!R.silent)throw ae}function H(ce){var ae=ce.exec(w);if(ae){var oe=ae[0];return N(oe),w=w.slice(oe.length),ae}}function G(){H(n)}function Z(ce){var ae;for(ce=ce||[];ae=ie();)ae!==!1&&ce.push(ae);return ce}function ie(){var ce=K();if(!(h!=w.charAt(0)||p!=w.charAt(1))){for(var ae=2;g!=w.charAt(ae)&&(p!=w.charAt(ae)||h!=w.charAt(ae+1));)++ae;if(ae+=2,g===w.charAt(ae-1))return I("End of comment missing");var oe=w.slice(2,ae-2);return k+=2,N(oe),w=w.slice(ae),k+=2,ce({type:v,comment:oe})}}function W(){var ce=K(),ae=H(i);if(ae){if(ie(),!H(a))return I("property missing ':'");var oe=H(l),j=ce({type:_,property:S(ae[0].replace(t,g)),value:oe?S(oe[0].replace(t,g)):g});return H(u),j}}function J(){var ce=[];Z(ce);for(var ae;ae=W();)ae!==!1&&(ce.push(ae),Z(ce));return ce}return G(),J()};function S(w){return w?w.replace(c,g):g}return sm}var tw;function Jz(){if(tw)return xa;tw=1;var t=xa&&xa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xa,"__esModule",{value:!0}),xa.default=n;var e=t(Zz());function n(i,a){var l=null;if(!i||typeof i!="string")return l;var u=(0,e.default)(i),c=typeof a=="function";return u.forEach(function(d){if(d.type==="declaration"){var h=d.property,p=d.value;c?a(h,p,d):p&&(l=l||{},l[h]=p)}}),l}return xa}var pl={},nw;function eB(){if(nw)return pl;nw=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(h){return!h||n.test(h)||t.test(h)},u=function(h,p){return p.toUpperCase()},c=function(h,p){return"".concat(p,"-")},d=function(h,p){return p===void 0&&(p={}),l(h)?h:(h=h.toLowerCase(),p.reactCompat?h=h.replace(a,c):h=h.replace(i,c),h.replace(e,u))};return pl.camelCase=d,pl}var ml,iw;function tB(){if(iw)return ml;iw=1;var t=ml&&ml.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(Jz()),n=eB();function i(a,l){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(c,d){c&&d&&(u[(0,n.camelCase)(c,l)]=d)}),u}return i.default=i,ml=i,ml}var nB=tB();const iB=tu(nB),qA=GA("end"),lv=GA("start");function GA(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function rB(t){const e=lv(t),n=qA(t);if(e&&n)return{start:e,end:n}}function Ol(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?rw(t.position):"start"in t||"end"in t?rw(t):"line"in t||"column"in t?pg(t):""}function pg(t){return sw(t&&t.line)+":"+sw(t&&t.column)}function rw(t){return pg(t&&t.start)+"-"+pg(t&&t.end)}function sw(t){return t&&typeof t=="number"?t:1}class Xt extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?a=e:!l.cause&&e&&(u=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?l.ruleId=i:(l.source=i.slice(0,d),l.ruleId=i.slice(d+1))}if(!l.place&&l.ancestors&&l.ancestors){const d=l.ancestors[l.ancestors.length-1];d&&(l.place=d.position)}const c=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=c?c.line:void 0,this.name=Ol(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const uv={}.hasOwnProperty,sB=new Map,aB=/[A-Z]/g,oB=new Set(["table","tbody","thead","tfoot","tr"]),lB=new Set(["td","th"]),YA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uB(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=yB(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=gB(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ov:Xz,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=KA(a,t,void 0);return l&&typeof l!="string"?l:a.create(t,a.Fragment,{children:l||void 0},void 0)}function KA(t,e,n){if(e.type==="element")return cB(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return fB(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return dB(t,e,n);if(e.type==="mdxjsEsm")return hB(t,e);if(e.type==="root")return pB(t,e,n);if(e.type==="text")return mB(t,e)}function cB(t,e,n){const i=t.schema;let a=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=ov,t.schema=a),t.ancestors.push(e);const l=$A(t,e.tagName,!1),u=vB(t,e);let c=fv(t,e);return oB.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!Bz(d):!0})),WA(t,u,l,e),cv(u,c),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function fB(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}eu(t,e.position)}function hB(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);eu(t,e.position)}function dB(t,e,n){const i=t.schema;let a=i;e.name==="svg"&&i.space==="html"&&(a=ov,t.schema=a),t.ancestors.push(e);const l=e.name===null?t.Fragment:$A(t,e.name,!0),u=_B(t,e),c=fv(t,e);return WA(t,u,l,e),cv(u,c),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function pB(t,e,n){const i={};return cv(i,fv(t,e)),t.create(e,t.Fragment,i,n)}function mB(t,e){return e.value}function WA(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function cv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function gB(t,e,n){return i;function i(a,l,u,c){const h=Array.isArray(u.children)?n:e;return c?h(l,u,c):h(l,u)}}function yB(t,e){return n;function n(i,a,l,u){const c=Array.isArray(l.children),d=lv(i);return e(a,l,u,c,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function vB(t,e){const n={};let i,a;for(a in e.properties)if(a!=="children"&&uv.call(e.properties,a)){const l=bB(t,a,e.properties[a]);if(l){const[u,c]=l;t.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&lB.has(e.tagName)?i=c:n[u]=c}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function _B(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else eu(t,e.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const c=i.value.data.estree.body[0];c.type,l=t.evaluater.evaluateExpression(c.expression)}else eu(t,e.position);else l=i.value===null?!0:i.value;n[a]=l}return n}function fv(t,e){const n=[];let i=-1;const a=t.passKeys?new Map:sB;for(;++i<e.children.length;){const l=e.children[i];let u;if(t.passKeys){const d=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(d){const h=a.get(d)||0;u=d+"-"+h,a.set(d,h+1)}}const c=KA(t,l,u);c!==void 0&&n.push(c)}return n}function bB(t,e,n){const i=Kz(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Pz(n):Qz(n)),i.property==="style"){let a=typeof n=="object"?n:xB(t,String(n));return t.stylePropertyNameCase==="css"&&(a=SB(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?qz[i.property]||i.property:i.attribute,n]}}function xB(t,e){try{return iB(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,a=new Xt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=YA+"#cannot-parse-style-attribute",a}}function $A(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,u;for(;++l<a.length;){const c=X1(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(l&&c.type==="Literal"),optional:!1}:c}i=u}else i=X1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const a=i.value;return uv.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(i);eu(t)}function eu(t,e){const n=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=YA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function SB(t){const e={};let n;for(n in t)uv.call(t,n)&&(e[wB(n)]=t[n]);return e}function wB(t){let e=t.replace(aB,EB);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function EB(t){return"-"+t.toLowerCase()}const am={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TB={};function CB(t,e){const n=TB,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return XA(t,i,a)}function XA(t,e,n){if(AB(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return aw(t.children,e,n)}return Array.isArray(t)?aw(t,e,n):""}function aw(t,e,n){const i=[];let a=-1;for(;++a<t.length;)i[a]=XA(t[a],e,n);return i.join("")}function AB(t){return!!(t&&typeof t=="object")}const ow=document.createElement("i");function hv(t){const e="&"+t+";";ow.innerHTML=e;const n=ow.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function _i(t,e,n,i){const a=t.length;let l=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<i.length;)u=i.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function Hn(t,e){return t.length>0?(_i(t,t.length,0,e),t):e}const lw={}.hasOwnProperty;function RB(t){const e={};let n=-1;for(;++n<t.length;)kB(e,t[n]);return e}function kB(t,e){let n;for(n in e){const a=(lw.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){lw.call(a,u)||(a[u]=[]);const c=l[u];NB(a[u],Array.isArray(c)?c:c?[c]:[])}}}function NB(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);_i(t,0,0,i)}function QA(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ja(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pi=Kr(/[A-Za-z]/),Rn=Kr(/[\dA-Za-z]/),IB=Kr(/[#-'*+\--9=?A-Z^-~]/);function mg(t){return t!==null&&(t<32||t===127)}const gg=Kr(/\d/),DB=Kr(/[\dA-Fa-f]/),OB=Kr(/[!-/:-@[-`{-~]/);function Ce(t){return t!==null&&t<-2}function dn(t){return t!==null&&(t<0||t===32)}function Ge(t){return t===-2||t===-1||t===32}const MB=Kr(new RegExp("\\p{P}|\\p{S}","u")),PB=Kr(/\s/);function Kr(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function lo(t){const e=[];let n=-1,i=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&Rn(t.charCodeAt(n+1))&&Rn(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const c=t.charCodeAt(n+1);l<56320&&c>56319&&c<57344?(u=String.fromCharCode(l,c),a=1):u="�"}else u=String.fromCharCode(l);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(i)}function st(t,e,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(d){return Ge(d)?(t.enter(n),c(d)):e(d)}function c(d){return Ge(d)&&l++<a?(t.consume(d),c):(t.exit(n),e(d))}}const LB={tokenize:jB};function jB(t){const e=t.attempt(this.parser.constructs.contentInitial,i,a);let n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),st(t,e,"linePrefix")}function a(c){return t.enter("paragraph"),l(c)}function l(c){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(c)}function u(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Ce(c)?(t.consume(c),t.exit("chunkText"),l):(t.consume(c),u)}}const UB={tokenize:zB},uw={tokenize:BB};function zB(t){const e=this,n=[];let i=0,a,l,u;return c;function c(N){if(i<n.length){const K=n[i];return e.containerState=K[1],t.attempt(K[0].continuation,d,h)(N)}return h(N)}function d(N){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&k();const K=e.events.length;let M=K,I;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){I=e.events[M][1].end;break}T(i);let H=K;for(;H<e.events.length;)e.events[H][1].end={...I},H++;return _i(e.events,M+1,0,e.events.slice(K)),e.events.length=H,h(N)}return c(N)}function h(N){if(i===n.length){if(!a)return v(N);if(a.currentConstruct&&a.currentConstruct.concrete)return S(N);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(uw,p,g)(N)}function p(N){return a&&k(),T(i),v(N)}function g(N){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,S(N)}function v(N){return e.containerState={},t.attempt(uw,_,S)(N)}function _(N){return i++,n.push([e.currentConstruct,e.containerState]),v(N)}function S(N){if(N===null){a&&k(),T(0),t.consume(N);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),w(N)}function w(N){if(N===null){R(t.exit("chunkFlow"),!0),T(0),t.consume(N);return}return Ce(N)?(t.consume(N),R(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(N),w)}function R(N,K){const M=e.sliceStream(N);if(K&&M.push(null),N.previous=l,l&&(l.next=N),l=N,a.defineSkip(N.start),a.write(M),e.parser.lazy[N.start.line]){let I=a.events.length;for(;I--;)if(a.events[I][1].start.offset<u&&(!a.events[I][1].end||a.events[I][1].end.offset>u))return;const H=e.events.length;let G=H,Z,ie;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if(Z){ie=e.events[G][1].end;break}Z=!0}for(T(i),I=H;I<e.events.length;)e.events[I][1].end={...ie},I++;_i(e.events,G+1,0,e.events.slice(H)),e.events.length=I}}function T(N){let K=n.length;for(;K-- >N;){const M=n[K];e.containerState=M[1],M[0].exit.call(e,t)}n.length=N}function k(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function BB(t,e,n){return st(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cw(t){if(t===null||dn(t)||PB(t))return 1;if(MB(t))return 2}function dv(t,e,n){const i=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const yg={name:"attention",resolveAll:VB,tokenize:HB};function VB(t,e){let n=-1,i,a,l,u,c,d,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[i][1].end},v={...t[n][1].start};fw(g,-d),fw(v,d),u={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...t[i][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},l={type:d>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},a={type:d>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},t[i][1].end={...u.start},t[n][1].start={...c.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=Hn(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=Hn(h,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",l,e]]),h=Hn(h,dv(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=Hn(h,[["exit",l,e],["enter",c,e],["exit",c,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Hn(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,_i(t,i-1,n-i+3,h),n=i+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function HB(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=cw(i);let l;return u;function u(d){return l=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===l)return t.consume(d),c;const h=t.exit("attentionSequence"),p=cw(d),g=!p||p===2&&a||n.includes(d),v=!a||a===2&&p||n.includes(i);return h._open=!!(l===42?g:g&&(a||!v)),h._close=!!(l===42?v:v&&(p||!g)),e(d)}}function fw(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const FB={name:"autolink",tokenize:qB};function qB(t,e,n){let i=0;return a;function a(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(_){return pi(_)?(t.consume(_),u):_===64?n(_):h(_)}function u(_){return _===43||_===45||_===46||Rn(_)?(i=1,c(_)):h(_)}function c(_){return _===58?(t.consume(_),i=0,d):(_===43||_===45||_===46||Rn(_))&&i++<32?(t.consume(_),c):(i=0,h(_))}function d(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||mg(_)?n(_):(t.consume(_),d)}function h(_){return _===64?(t.consume(_),p):IB(_)?(t.consume(_),h):n(_)}function p(_){return Rn(_)?g(_):n(_)}function g(_){return _===46?(t.consume(_),i=0,p):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):v(_)}function v(_){if((_===45||Rn(_))&&i++<63){const S=_===45?v:g;return t.consume(_),S}return n(_)}}const sh={partial:!0,tokenize:GB};function GB(t,e,n){return i;function i(l){return Ge(l)?st(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||Ce(l)?e(l):n(l)}}const ZA={continuation:{tokenize:KB},exit:WB,name:"blockQuote",tokenize:YB};function YB(t,e,n){const i=this;return a;function a(u){if(u===62){const c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Ge(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function KB(t,e,n){const i=this;return a;function a(u){return Ge(u)?st(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(ZA,e,n)(u)}}function WB(t){t.exit("blockQuote")}const JA={name:"characterEscape",tokenize:$B};function $B(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return OB(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const eR={name:"characterReference",tokenize:XB};function XB(t,e,n){const i=this;let a=0,l,u;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),d}function d(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),l=31,u=Rn,p(g))}function h(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=DB,p):(t.enter("characterReferenceValue"),l=7,u=gg,p(g))}function p(g){if(g===59&&a){const v=t.exit("characterReferenceValue");return u===Rn&&!hv(i.sliceSerialize(v))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(g)&&a++<l?(t.consume(g),p):n(g)}}const hw={partial:!0,tokenize:ZB},dw={concrete:!0,name:"codeFenced",tokenize:QB};function QB(t,e,n){const i=this,a={partial:!0,tokenize:M};let l=0,u=0,c;return d;function d(I){return h(I)}function h(I){const H=i.events[i.events.length-1];return l=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,c=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(I)}function p(I){return I===c?(u++,t.consume(I),p):u<3?n(I):(t.exit("codeFencedFenceSequence"),Ge(I)?st(t,g,"whitespace")(I):g(I))}function g(I){return I===null||Ce(I)?(t.exit("codeFencedFence"),i.interrupt?e(I):t.check(hw,w,K)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===null||Ce(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(I)):Ge(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),st(t,_,"whitespace")(I)):I===96&&I===c?n(I):(t.consume(I),v)}function _(I){return I===null||Ce(I)?g(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(I))}function S(I){return I===null||Ce(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(I)):I===96&&I===c?n(I):(t.consume(I),S)}function w(I){return t.attempt(a,K,R)(I)}function R(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),T}function T(I){return l>0&&Ge(I)?st(t,k,"linePrefix",l+1)(I):k(I)}function k(I){return I===null||Ce(I)?t.check(hw,w,K)(I):(t.enter("codeFlowValue"),N(I))}function N(I){return I===null||Ce(I)?(t.exit("codeFlowValue"),k(I)):(t.consume(I),N)}function K(I){return t.exit("codeFenced"),e(I)}function M(I,H,G){let Z=0;return ie;function ie(oe){return I.enter("lineEnding"),I.consume(oe),I.exit("lineEnding"),W}function W(oe){return I.enter("codeFencedFence"),Ge(oe)?st(I,J,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):J(oe)}function J(oe){return oe===c?(I.enter("codeFencedFenceSequence"),ce(oe)):G(oe)}function ce(oe){return oe===c?(Z++,I.consume(oe),ce):Z>=u?(I.exit("codeFencedFenceSequence"),Ge(oe)?st(I,ae,"whitespace")(oe):ae(oe)):G(oe)}function ae(oe){return oe===null||Ce(oe)?(I.exit("codeFencedFence"),H(oe)):G(oe)}}}function ZB(t,e,n){const i=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const om={name:"codeIndented",tokenize:eV},JB={partial:!0,tokenize:tV};function eV(t,e,n){const i=this;return a;function a(h){return t.enter("codeIndented"),st(t,l,"linePrefix",5)(h)}function l(h){const p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?u(h):n(h)}function u(h){return h===null?d(h):Ce(h)?t.attempt(JB,u,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||Ce(h)?(t.exit("codeFlowValue"),u(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}function tV(t,e,n){const i=this;return a;function a(u){return i.parser.lazy[i.now().line]?n(u):Ce(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):st(t,l,"linePrefix",5)(u)}function l(u){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):Ce(u)?a(u):n(u)}}const nV={name:"codeText",previous:rV,resolve:iV,tokenize:sV};function iV(t){let e=t.length-4,n=3,i,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)a===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(a=i):(i===e||t[i][1].type==="lineEnding")&&(t[a][1].type="codeTextData",i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),e-=i-a-2,i=a+2),a=void 0);return t}function rV(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sV(t,e,n){let i=0,a,l;return u;function u(g){return t.enter("codeText"),t.enter("codeTextSequence"),c(g)}function c(g){return g===96?(t.consume(g),i++,c):(t.exit("codeTextSequence"),d(g))}function d(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),d):g===96?(l=t.enter("codeTextSequence"),a=0,p(g)):Ce(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),d):(t.enter("codeTextData"),h(g))}function h(g){return g===null||g===32||g===96||Ce(g)?(t.exit("codeTextData"),d(g)):(t.consume(g),h)}function p(g){return g===96?(t.consume(g),a++,p):a===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(l.type="codeTextData",h(g))}}class aV{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const a=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&gl(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),gl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),gl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);gl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);gl(this.left,n.reverse())}}}function gl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function tR(t){const e={};let n=-1,i,a,l,u,c,d,h;const p=new aV(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(i=p.get(n),n&&i[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,l=0,l<d.length&&d[l][1].type==="lineEndingBlank"&&(l+=2),l<d.length&&d[l][1].type==="content"))for(;++l<d.length&&d[l][1].type!=="content";)d[l][1].type==="chunkText"&&(d[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,oV(p,n)),n=e[n],h=!0);else if(i[1]._container){for(l=n,a=void 0;l--;)if(u=p.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(p.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(i[1].end={...p.get(a)[1].start},c=p.slice(a,n),c.unshift(i),p.splice(a,n-a+1,c))}}return _i(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}function oV(t,e){const n=t.get(e)[1],i=t.get(e)[2];let a=e-1;const l=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,d=[],h={};let p,g,v=-1,_=n,S=0,w=0;const R=[w];for(;_;){for(;t.get(++a)[1]!==_;);l.push(a),_._tokenizer||(p=i.sliceStream(_),_.next||p.push(null),g&&u.defineSkip(_.start),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(p),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),g=_,_=_.next}for(_=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(w=v+1,R.push(w),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(u.events=[],_?(_._tokenizer=void 0,_.previous=void 0):R.pop(),v=R.length;v--;){const T=c.slice(R[v],R[v+1]),k=l.pop();d.push([k,k+T.length-1]),t.splice(k,2,T)}for(d.reverse(),v=-1;++v<d.length;)h[S+d[v][0]]=S+d[v][1],S+=d[v][1]-d[v][0]-1;return h}const lV={resolve:cV,tokenize:fV},uV={partial:!0,tokenize:hV};function cV(t){return tR(t),t}function fV(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?l(c):Ce(c)?t.check(uV,u,l)(c):(t.consume(c),a)}function l(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function u(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function hV(t,e,n){const i=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),st(t,l,"linePrefix")}function l(u){if(u===null||Ce(u))return n(u);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function nR(t,e,n,i,a,l,u,c,d){const h=d||Number.POSITIVE_INFINITY;let p=0;return g;function g(T){return T===60?(t.enter(i),t.enter(a),t.enter(l),t.consume(T),t.exit(l),v):T===null||T===32||T===41||mg(T)?n(T):(t.enter(i),t.enter(u),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(T))}function v(T){return T===62?(t.enter(l),t.consume(T),t.exit(l),t.exit(a),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),_(T))}function _(T){return T===62?(t.exit("chunkString"),t.exit(c),v(T)):T===null||T===60||Ce(T)?n(T):(t.consume(T),T===92?S:_)}function S(T){return T===60||T===62||T===92?(t.consume(T),_):_(T)}function w(T){return!p&&(T===null||T===41||dn(T))?(t.exit("chunkString"),t.exit(c),t.exit(u),t.exit(i),e(T)):p<h&&T===40?(t.consume(T),p++,w):T===41?(t.consume(T),p--,w):T===null||T===32||T===40||mg(T)?n(T):(t.consume(T),T===92?R:w)}function R(T){return T===40||T===41||T===92?(t.consume(T),w):w(T)}}function iR(t,e,n,i,a,l){const u=this;let c=0,d;return h;function h(_){return t.enter(i),t.enter(a),t.consume(_),t.exit(a),t.enter(l),p}function p(_){return c>999||_===null||_===91||_===93&&!d||_===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(_):_===93?(t.exit(l),t.enter(a),t.consume(_),t.exit(a),t.exit(i),e):Ce(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||_===91||_===93||Ce(_)||c++>999?(t.exit("chunkString"),p(_)):(t.consume(_),d||(d=!Ge(_)),_===92?v:g)}function v(_){return _===91||_===92||_===93?(t.consume(_),c++,g):g(_)}}function rR(t,e,n,i,a,l){let u;return c;function c(v){return v===34||v===39||v===40?(t.enter(i),t.enter(a),t.consume(v),t.exit(a),u=v===40?41:v,d):n(v)}function d(v){return v===u?(t.enter(a),t.consume(v),t.exit(a),t.exit(i),e):(t.enter(l),h(v))}function h(v){return v===u?(t.exit(l),d(u)):v===null?n(v):Ce(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),st(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===u||v===null||Ce(v)?(t.exit("chunkString"),h(v)):(t.consume(v),v===92?g:p)}function g(v){return v===u||v===92?(t.consume(v),p):p(v)}}function Ml(t,e){let n;return i;function i(a){return Ce(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,i):Ge(a)?st(t,i,n?"linePrefix":"lineSuffix")(a):e(a)}}const dV={name:"definition",tokenize:mV},pV={partial:!0,tokenize:gV};function mV(t,e,n){const i=this;let a;return l;function l(_){return t.enter("definition"),u(_)}function u(_){return iR.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function c(_){return a=ja(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),d):n(_)}function d(_){return dn(_)?Ml(t,h)(_):h(_)}function h(_){return nR(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function p(_){return t.attempt(pV,g,g)(_)}function g(_){return Ge(_)?st(t,v,"whitespace")(_):v(_)}function v(_){return _===null||Ce(_)?(t.exit("definition"),i.parser.defined.push(a),e(_)):n(_)}}function gV(t,e,n){return i;function i(c){return dn(c)?Ml(t,a)(c):n(c)}function a(c){return rR(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function l(c){return Ge(c)?st(t,u,"whitespace")(c):u(c)}function u(c){return c===null||Ce(c)?e(c):n(c)}}const yV={name:"hardBreakEscape",tokenize:vV};function vV(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return Ce(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const _V={name:"headingAtx",resolve:bV,tokenize:xV};function bV(t,e){let n=t.length-2,i=3,a,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},_i(t,i,n-i+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),t}function xV(t,e,n){let i=0;return a;function a(p){return t.enter("atxHeading"),l(p)}function l(p){return t.enter("atxHeadingSequence"),u(p)}function u(p){return p===35&&i++<6?(t.consume(p),u):p===null||dn(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),d(p)):p===null||Ce(p)?(t.exit("atxHeading"),e(p)):Ge(p)?st(t,c,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function d(p){return p===35?(t.consume(p),d):(t.exit("atxHeadingSequence"),c(p))}function h(p){return p===null||p===35||dn(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),h)}}const SV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pw=["pre","script","style","textarea"],wV={concrete:!0,name:"htmlFlow",resolveTo:CV,tokenize:AV},EV={partial:!0,tokenize:kV},TV={partial:!0,tokenize:RV};function CV(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function AV(t,e,n){const i=this;let a,l,u,c,d;return h;function h(C){return p(C)}function p(C){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(C),g}function g(C){return C===33?(t.consume(C),v):C===47?(t.consume(C),l=!0,w):C===63?(t.consume(C),a=3,i.interrupt?e:b):pi(C)?(t.consume(C),u=String.fromCharCode(C),R):n(C)}function v(C){return C===45?(t.consume(C),a=2,_):C===91?(t.consume(C),a=5,c=0,S):pi(C)?(t.consume(C),a=4,i.interrupt?e:b):n(C)}function _(C){return C===45?(t.consume(C),i.interrupt?e:b):n(C)}function S(C){const L="CDATA[";return C===L.charCodeAt(c++)?(t.consume(C),c===L.length?i.interrupt?e:J:S):n(C)}function w(C){return pi(C)?(t.consume(C),u=String.fromCharCode(C),R):n(C)}function R(C){if(C===null||C===47||C===62||dn(C)){const L=C===47,Ae=u.toLowerCase();return!L&&!l&&pw.includes(Ae)?(a=1,i.interrupt?e(C):J(C)):SV.includes(u.toLowerCase())?(a=6,L?(t.consume(C),T):i.interrupt?e(C):J(C)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(C):l?k(C):N(C))}return C===45||Rn(C)?(t.consume(C),u+=String.fromCharCode(C),R):n(C)}function T(C){return C===62?(t.consume(C),i.interrupt?e:J):n(C)}function k(C){return Ge(C)?(t.consume(C),k):ie(C)}function N(C){return C===47?(t.consume(C),ie):C===58||C===95||pi(C)?(t.consume(C),K):Ge(C)?(t.consume(C),N):ie(C)}function K(C){return C===45||C===46||C===58||C===95||Rn(C)?(t.consume(C),K):M(C)}function M(C){return C===61?(t.consume(C),I):Ge(C)?(t.consume(C),M):N(C)}function I(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),d=C,H):Ge(C)?(t.consume(C),I):G(C)}function H(C){return C===d?(t.consume(C),d=null,Z):C===null||Ce(C)?n(C):(t.consume(C),H)}function G(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||dn(C)?M(C):(t.consume(C),G)}function Z(C){return C===47||C===62||Ge(C)?N(C):n(C)}function ie(C){return C===62?(t.consume(C),W):n(C)}function W(C){return C===null||Ce(C)?J(C):Ge(C)?(t.consume(C),W):n(C)}function J(C){return C===45&&a===2?(t.consume(C),j):C===60&&a===1?(t.consume(C),te):C===62&&a===4?(t.consume(C),V):C===63&&a===3?(t.consume(C),b):C===93&&a===5?(t.consume(C),fe):Ce(C)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(EV,$,ce)(C)):C===null||Ce(C)?(t.exit("htmlFlowData"),ce(C)):(t.consume(C),J)}function ce(C){return t.check(TV,ae,$)(C)}function ae(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),oe}function oe(C){return C===null||Ce(C)?ce(C):(t.enter("htmlFlowData"),J(C))}function j(C){return C===45?(t.consume(C),b):J(C)}function te(C){return C===47?(t.consume(C),u="",de):J(C)}function de(C){if(C===62){const L=u.toLowerCase();return pw.includes(L)?(t.consume(C),V):J(C)}return pi(C)&&u.length<8?(t.consume(C),u+=String.fromCharCode(C),de):J(C)}function fe(C){return C===93?(t.consume(C),b):J(C)}function b(C){return C===62?(t.consume(C),V):C===45&&a===2?(t.consume(C),b):J(C)}function V(C){return C===null||Ce(C)?(t.exit("htmlFlowData"),$(C)):(t.consume(C),V)}function $(C){return t.exit("htmlFlow"),e(C)}}function RV(t,e,n){const i=this;return a;function a(u){return Ce(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function kV(t,e,n){return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(sh,e,n)}}const NV={name:"htmlText",tokenize:IV};function IV(t,e,n){const i=this;let a,l,u;return c;function c(b){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(b),d}function d(b){return b===33?(t.consume(b),h):b===47?(t.consume(b),M):b===63?(t.consume(b),N):pi(b)?(t.consume(b),G):n(b)}function h(b){return b===45?(t.consume(b),p):b===91?(t.consume(b),l=0,S):pi(b)?(t.consume(b),k):n(b)}function p(b){return b===45?(t.consume(b),_):n(b)}function g(b){return b===null?n(b):b===45?(t.consume(b),v):Ce(b)?(u=g,te(b)):(t.consume(b),g)}function v(b){return b===45?(t.consume(b),_):g(b)}function _(b){return b===62?j(b):b===45?v(b):g(b)}function S(b){const V="CDATA[";return b===V.charCodeAt(l++)?(t.consume(b),l===V.length?w:S):n(b)}function w(b){return b===null?n(b):b===93?(t.consume(b),R):Ce(b)?(u=w,te(b)):(t.consume(b),w)}function R(b){return b===93?(t.consume(b),T):w(b)}function T(b){return b===62?j(b):b===93?(t.consume(b),T):w(b)}function k(b){return b===null||b===62?j(b):Ce(b)?(u=k,te(b)):(t.consume(b),k)}function N(b){return b===null?n(b):b===63?(t.consume(b),K):Ce(b)?(u=N,te(b)):(t.consume(b),N)}function K(b){return b===62?j(b):N(b)}function M(b){return pi(b)?(t.consume(b),I):n(b)}function I(b){return b===45||Rn(b)?(t.consume(b),I):H(b)}function H(b){return Ce(b)?(u=H,te(b)):Ge(b)?(t.consume(b),H):j(b)}function G(b){return b===45||Rn(b)?(t.consume(b),G):b===47||b===62||dn(b)?Z(b):n(b)}function Z(b){return b===47?(t.consume(b),j):b===58||b===95||pi(b)?(t.consume(b),ie):Ce(b)?(u=Z,te(b)):Ge(b)?(t.consume(b),Z):j(b)}function ie(b){return b===45||b===46||b===58||b===95||Rn(b)?(t.consume(b),ie):W(b)}function W(b){return b===61?(t.consume(b),J):Ce(b)?(u=W,te(b)):Ge(b)?(t.consume(b),W):Z(b)}function J(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),a=b,ce):Ce(b)?(u=J,te(b)):Ge(b)?(t.consume(b),J):(t.consume(b),ae)}function ce(b){return b===a?(t.consume(b),a=void 0,oe):b===null?n(b):Ce(b)?(u=ce,te(b)):(t.consume(b),ce)}function ae(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||dn(b)?Z(b):(t.consume(b),ae)}function oe(b){return b===47||b===62||dn(b)?Z(b):n(b)}function j(b){return b===62?(t.consume(b),t.exit("htmlTextData"),t.exit("htmlText"),e):n(b)}function te(b){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),de}function de(b){return Ge(b)?st(t,fe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):fe(b)}function fe(b){return t.enter("htmlTextData"),u(b)}}const pv={name:"labelEnd",resolveAll:PV,resolveTo:LV,tokenize:jV},DV={tokenize:UV},OV={tokenize:zV},MV={tokenize:BV};function PV(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",e+=a}}return t.length!==n.length&&_i(t,0,t.length,n),t}function LV(t,e){let n=t.length,i=0,a,l,u,c;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(u=n);const d={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},p={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[u-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=Hn(c,t.slice(l+1,l+i+3)),c=Hn(c,[["enter",p,e]]),c=Hn(c,dv(e.parser.constructs.insideSpan.null,t.slice(l+i+4,u-3),e)),c=Hn(c,[["exit",p,e],t[u-2],t[u-1],["exit",h,e]]),c=Hn(c,t.slice(u+1)),c=Hn(c,[["exit",d,e]]),_i(t,l,t.length,c),t}function jV(t,e,n){const i=this;let a=i.events.length,l,u;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return c;function c(v){return l?l._inactive?g(v):(u=i.parser.defined.includes(ja(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),d):n(v)}function d(v){return v===40?t.attempt(DV,p,u?p:g)(v):v===91?t.attempt(OV,p,u?h:g)(v):u?p(v):g(v)}function h(v){return t.attempt(MV,p,g)(v)}function p(v){return e(v)}function g(v){return l._balanced=!0,n(v)}}function UV(t,e,n){return i;function i(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),a}function a(g){return dn(g)?Ml(t,l)(g):l(g)}function l(g){return g===41?p(g):nR(t,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function u(g){return dn(g)?Ml(t,d)(g):p(g)}function c(g){return n(g)}function d(g){return g===34||g===39||g===40?rR(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function h(g){return dn(g)?Ml(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function zV(t,e,n){const i=this;return a;function a(c){return iR.call(i,t,l,u,"reference","referenceMarker","referenceString")(c)}function l(c){return i.parser.defined.includes(ja(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function u(c){return n(c)}}function BV(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const VV={name:"labelStartImage",resolveAll:pv.resolveAll,tokenize:HV};function HV(t,e,n){const i=this;return a;function a(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),l}function l(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}const FV={name:"labelStartLink",resolveAll:pv.resolveAll,tokenize:qV};function qV(t,e,n){const i=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const lm={name:"lineEnding",tokenize:GV};function GV(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),st(t,e,"linePrefix")}}const nf={name:"thematicBreak",tokenize:YV};function YV(t,e,n){let i=0,a;return l;function l(h){return t.enter("thematicBreak"),u(h)}function u(h){return a=h,c(h)}function c(h){return h===a?(t.enter("thematicBreakSequence"),d(h)):i>=3&&(h===null||Ce(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===a?(t.consume(h),i++,d):(t.exit("thematicBreakSequence"),Ge(h)?st(t,c,"whitespace")(h):c(h))}}const un={continuation:{tokenize:XV},exit:ZV,name:"list",tokenize:$V},KV={partial:!0,tokenize:JV},WV={partial:!0,tokenize:QV};function $V(t,e,n){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return c;function c(_){const S=i.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||_===i.containerState.marker:gg(_)){if(i.containerState.type||(i.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(nf,n,h)(_):h(_);if(!i.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(_)}return n(_)}function d(_){return gg(_)&&++u<10?(t.consume(_),d):(!i.interrupt||u<2)&&(i.containerState.marker?_===i.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),h(_)):n(_)}function h(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||_,t.check(sh,i.interrupt?n:p,t.attempt(KV,v,g))}function p(_){return i.containerState.initialBlankLine=!0,l++,v(_)}function g(_){return Ge(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),v):n(_)}function v(_){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function XV(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(sh,a,l);function a(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,st(t,e,"listItemIndent",i.containerState.size+1)(c)}function l(c){return i.containerState.furtherBlankLines||!Ge(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(WV,e,u)(c))}function u(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,st(t,t.attempt(un,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function QV(t,e,n){const i=this;return st(t,a,"listItemIndent",i.containerState.size+1);function a(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(l):n(l)}}function ZV(t){t.exit(this.containerState.type)}function JV(t,e,n){const i=this;return st(t,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=i.events[i.events.length-1];return!Ge(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const mw={name:"setextUnderline",resolveTo:e8,tokenize:t8};function e8(t,e){let n=t.length,i,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",u,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function t8(t,e,n){const i=this;let a;return l;function l(h){let p=i.events.length,g;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){g=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(t.enter("setextHeadingLine"),a=h,u(h)):n(h)}function u(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===a?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),Ge(h)?st(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||Ce(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const n8={tokenize:i8};function i8(t){const e=this,n=t.attempt(sh,i,t.attempt(this.parser.constructs.flowInitial,a,st(t,t.attempt(this.parser.constructs.flow,a,t.attempt(lV,a)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const r8={resolveAll:aR()},s8=sR("string"),a8=sR("text");function sR(t){return{resolveAll:aR(t==="text"?o8:void 0),tokenize:e};function e(n){const i=this,a=this.parser.constructs[t],l=n.attempt(a,u,c);return u;function u(p){return h(p)?l(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return h(p)?(n.exit("data"),l(p)):(n.consume(p),d)}function h(p){if(p===null)return!0;const g=a[p];let v=-1;if(g)for(;++v<g.length;){const _=g[v];if(!_.previous||_.previous.call(i,i.previous))return!0}return!1}}}function aR(t){return e;function e(n,i){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,i):n}}function o8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],a=e.sliceStream(i);let l=a.length,u=-1,c=0,d;for(;l--;){const h=a[l];if(typeof h=="string"){for(u=h.length;h.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(h===-2)d=!0,c++;else if(h!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const l8={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:ZA},u8={91:dV},c8={[-2]:om,[-1]:om,32:om},f8={35:_V,42:nf,45:[mw,nf],60:wV,61:mw,95:nf,96:dw,126:dw},h8={38:eR,92:JA},d8={[-5]:lm,[-4]:lm,[-3]:lm,33:VV,38:eR,42:yg,60:[FB,NV],91:FV,92:[yV,JA],93:pv,95:yg,96:nV},p8={null:[yg,r8]},m8={null:[42,95]},g8={null:[]},y8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:m8,contentInitial:u8,disable:g8,document:l8,flow:f8,flowInitial:c8,insideSpan:p8,string:h8,text:d8},Symbol.toStringTag,{value:"Module"}));function v8(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let u=[],c=[];const d={attempt:H(M),check:H(I),consume:k,enter:N,exit:K,interrupt:H(I,{interrupt:!0})},h={code:null,containerState:{},defineSkip:w,events:[],now:S,parser:t,previous:null,sliceSerialize:v,sliceStream:_,write:g};let p=e.tokenize.call(h,d);return e.resolveAll&&l.push(e),h;function g(W){return u=Hn(u,W),R(),u[u.length-1]!==null?[]:(G(e,0),h.events=dv(l,h.events,h),h.events)}function v(W,J){return b8(_(W),J)}function _(W){return _8(u,W)}function S(){const{_bufferIndex:W,_index:J,line:ce,column:ae,offset:oe}=i;return{_bufferIndex:W,_index:J,line:ce,column:ae,offset:oe}}function w(W){a[W.line]=W.column,ie()}function R(){let W;for(;i._index<u.length;){const J=u[i._index];if(typeof J=="string")for(W=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===W&&i._bufferIndex<J.length;)T(J.charCodeAt(i._bufferIndex));else T(J)}}function T(W){p=p(W)}function k(W){Ce(W)?(i.line++,i.column=1,i.offset+=W===-3?2:1,ie()):W!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=W}function N(W,J){const ce=J||{};return ce.type=W,ce.start=S(),h.events.push(["enter",ce,h]),c.push(ce),ce}function K(W){const J=c.pop();return J.end=S(),h.events.push(["exit",J,h]),J}function M(W,J){G(W,J.from)}function I(W,J){J.restore()}function H(W,J){return ce;function ce(ae,oe,j){let te,de,fe,b;return Array.isArray(ae)?$(ae):"tokenize"in ae?$([ae]):V(ae);function V(Q){return le;function le(ve){const Ve=ve!==null&&Q[ve],je=ve!==null&&Q.null,ot=[...Array.isArray(Ve)?Ve:Ve?[Ve]:[],...Array.isArray(je)?je:je?[je]:[]];return $(ot)(ve)}}function $(Q){return te=Q,de=0,Q.length===0?j:C(Q[de])}function C(Q){return le;function le(ve){return b=Z(),fe=Q,Q.partial||(h.currentConstruct=Q),Q.name&&h.parser.constructs.disable.null.includes(Q.name)?Ae():Q.tokenize.call(J?Object.assign(Object.create(h),J):h,d,L,Ae)(ve)}}function L(Q){return W(fe,b),oe}function Ae(Q){return b.restore(),++de<te.length?C(te[de]):j}}}function G(W,J){W.resolveAll&&!l.includes(W)&&l.push(W),W.resolve&&_i(h.events,J,h.events.length-J,W.resolve(h.events.slice(J),h)),W.resolveTo&&(h.events=W.resolveTo(h.events,h))}function Z(){const W=S(),J=h.previous,ce=h.currentConstruct,ae=h.events.length,oe=Array.from(c);return{from:ae,restore:j};function j(){i=W,h.previous=J,h.currentConstruct=ce,h.events.length=ae,c=oe,ie()}}function ie(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function _8(t,e){const n=e.start._index,i=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(i,l)];else{if(u=t.slice(n,a),i>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(i):u.shift()}l>0&&u.push(t[a].slice(0,l))}return u}function b8(t,e){let n=-1;const i=[];let a;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,i.push(u)}return i.join("")}function x8(t){const i={constructs:RB([y8,...(t||{}).extensions||[]]),content:a(LB),defined:[],document:a(UB),flow:a(n8),lazy:{},string:a(s8),text:a(a8)};return i;function a(l){return u;function u(c){return v8(i,l,c)}}}function S8(t){for(;!tR(t););return t}const gw=/[\0\t\n\r]/g;function w8(){let t=1,e="",n=!0,i;return a;function a(l,u,c){const d=[];let h,p,g,v,_;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),g=0,e="",n&&(l.charCodeAt(0)===65279&&g++,n=void 0);g<l.length;){if(gw.lastIndex=g,h=gw.exec(l),v=h&&h.index!==void 0?h.index:l.length,_=l.charCodeAt(v),!h){e=l.slice(g);break}if(_===10&&g===v&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),g<v&&(d.push(l.slice(g,v)),t+=v-g),_){case 0:{d.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,d.push(-2);t++<p;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:i=!0,t=1}g=v+1}return c&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const E8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function T8(t){return t.replace(E8,C8)}function C8(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return QA(n.slice(l?2:1),l?16:10)}return hv(n)||t}const oR={}.hasOwnProperty;function A8(t,e,n){return typeof e!="string"&&(n=e,e=void 0),R8(n)(S8(x8(n).document().write(w8()(t,e,!0))))}function R8(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ei),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:l(wi),blockQuote:l(je),characterEscape:Z,characterReference:Z,codeFenced:l(ot),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(ot,u),codeText:l(tn,u),codeTextData:Z,data:Z,codeFlowValue:Z,definition:l(gn),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(nn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(Ut,u),htmlFlowData:Z,htmlText:l(Ut,u),htmlTextData:Z,image:l(er),label:u,link:l(Ei),listItem:l(Yn),listItemValue:v,listOrdered:l(Ti,g),listUnordered:l(Ti),paragraph:l(se),reference:C,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(wi),strong:l(_e),thematicBreak:l(Re)},exit:{atxHeading:d(),atxHeadingSequence:M,autolink:d(),autolinkEmail:Ve,autolinkProtocol:ve,blockQuote:d(),characterEscapeValue:ie,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:Q,characterReference:le,codeFenced:d(R),codeFencedFence:w,codeFencedFenceInfo:_,codeFencedFenceMeta:S,codeFlowValue:ie,codeIndented:d(T),codeText:d(oe),codeTextData:ie,data:ie,definition:d(),definitionDestinationString:K,definitionLabelString:k,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(J),hardBreakTrailing:d(J),htmlFlow:d(ce),htmlFlowData:ie,htmlText:d(ae),htmlTextData:ie,image:d(te),label:fe,labelText:de,lineEnding:W,link:d(j),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:L,resourceDestinationString:b,resourceTitleString:V,resource:$,setextHeading:d(G),setextHeadingLineSequence:H,setextHeadingText:I,strong:d(),thematicBreak:d()}};lR(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(q){let ne={type:"root",children:[]};const pe={stack:[ne],tokenStack:[],config:e,enter:c,exit:h,buffer:u,resume:p,data:n},ge=[];let ke=-1;for(;++ke<q.length;)if(q[ke][1].type==="listOrdered"||q[ke][1].type==="listUnordered")if(q[ke][0]==="enter")ge.push(ke);else{const xt=ge.pop();ke=a(q,xt,ke)}for(ke=-1;++ke<q.length;){const xt=e[q[ke][0]];oR.call(xt,q[ke][1].type)&&xt[q[ke][1].type].call(Object.assign({sliceSerialize:q[ke][2].sliceSerialize},pe),q[ke][1])}if(pe.tokenStack.length>0){const xt=pe.tokenStack[pe.tokenStack.length-1];(xt[1]||yw).call(pe,void 0,xt[0])}for(ne.position={start:Tr(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:Tr(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<e.transforms.length;)ne=e.transforms[ke](ne)||ne;return ne}function a(q,ne,pe){let ge=ne-1,ke=-1,xt=!1,Gt,Rt,oi,yn;for(;++ge<=pe;){const kt=q[ge];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?ke++:ke--,yn=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&(Gt&&!yn&&!ke&&!oi&&(oi=ge),yn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yn=void 0}if(!ke&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||ke===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if(Gt){let Nn=ge;for(Rt=void 0;Nn--;){const Kn=q[Nn];if(Kn[1].type==="lineEnding"||Kn[1].type==="lineEndingBlank"){if(Kn[0]==="exit")continue;Rt&&(q[Rt][1].type="lineEndingBlank",xt=!0),Kn[1].type="lineEnding",Rt=Nn}else if(!(Kn[1].type==="linePrefix"||Kn[1].type==="blockQuotePrefix"||Kn[1].type==="blockQuotePrefixWhitespace"||Kn[1].type==="blockQuoteMarker"||Kn[1].type==="listItemIndent"))break}oi&&(!Rt||oi<Rt)&&(Gt._spread=!0),Gt.end=Object.assign({},Rt?q[Rt][1].start:kt[1].end),q.splice(Rt||ge,0,["exit",Gt,kt[2]]),ge++,pe++}if(kt[1].type==="listItemPrefix"){const Nn={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};Gt=Nn,q.splice(ge,0,["enter",Nn,kt[2]]),ge++,pe++,oi=void 0,yn=!0}}}return q[ne][1]._spread=xt,pe}function l(q,ne){return pe;function pe(ge){c.call(this,q(ge),ge),ne&&ne.call(this,ge)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(q,ne,pe){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([ne,pe||void 0]),q.position={start:Tr(ne.start),end:void 0}}function d(q){return ne;function ne(pe){q&&q.call(this,pe),h.call(this,pe)}}function h(q,ne){const pe=this.stack.pop(),ge=this.tokenStack.pop();if(ge)ge[0].type!==q.type&&(ne?ne.call(this,q,ge[0]):(ge[1]||yw).call(this,q,ge[0]));else throw new Error("Cannot close `"+q.type+"` ("+Ol({start:q.start,end:q.end})+"): it’s not open");pe.position.end=Tr(q.end)}function p(){return CB(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(q){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function _(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=q}function S(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=q}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q.replace(/(\r?\n|\r)$/g,"")}function k(q){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=ja(this.sliceSerialize(q)).toLowerCase()}function N(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=q}function K(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=q}function M(q){const ne=this.stack[this.stack.length-1];if(!ne.depth){const pe=this.sliceSerialize(q).length;ne.depth=pe}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function H(q){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(q){const pe=this.stack[this.stack.length-1].children;let ge=pe[pe.length-1];(!ge||ge.type!=="text")&&(ge=Ne(),ge.position={start:Tr(q.start),end:void 0},pe.push(ge)),this.stack.push(ge)}function ie(q){const ne=this.stack.pop();ne.value+=this.sliceSerialize(q),ne.position.end=Tr(q.end)}function W(q){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=ne.children[ne.children.length-1];pe.position.end=Tr(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(Z.call(this,q),ie.call(this,q))}function J(){this.data.atHardBreak=!0}function ce(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q}function ae(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q}function oe(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q}function j(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ne,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function te(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ne,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function de(q){const ne=this.sliceSerialize(q),pe=this.stack[this.stack.length-2];pe.label=T8(ne),pe.identifier=ja(ne).toLowerCase()}function fe(){const q=this.stack[this.stack.length-1],ne=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const ge=q.children;pe.children=ge}else pe.alt=ne}function b(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=q}function V(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=q}function $(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function L(q){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=ja(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function Ae(q){this.data.characterReferenceType=q.type}function Q(q){const ne=this.sliceSerialize(q),pe=this.data.characterReferenceType;let ge;pe?(ge=QA(ne,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ge=hv(ne);const ke=this.stack[this.stack.length-1];ke.value+=ge}function le(q){const ne=this.stack.pop();ne.position.end=Tr(q.end)}function ve(q){ie.call(this,q);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(q)}function Ve(q){ie.call(this,q);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(q)}function je(){return{type:"blockquote",children:[]}}function ot(){return{type:"code",lang:null,meta:null,value:""}}function tn(){return{type:"inlineCode",value:""}}function gn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nn(){return{type:"emphasis",children:[]}}function wi(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function Ut(){return{type:"html",value:""}}function er(){return{type:"image",title:null,url:"",alt:null}}function Ei(){return{type:"link",title:null,url:"",children:[]}}function Ti(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function Yn(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function _e(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function Re(){return{type:"thematicBreak"}}}function Tr(t){return{line:t.line,column:t.column,offset:t.offset}}function lR(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?lR(t,i):k8(t,i)}}function k8(t,e){let n;for(n in e)if(oR.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function yw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ol({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ol({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ol({start:e.start,end:e.end})+") is still open")}function N8(t){const e=this;e.parser=n;function n(i){return A8(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function I8(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function D8(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function O8(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function M8(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function P8(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function L8(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),a=lo(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let u,c=t.footnoteCounts.get(i);c===void 0?(c=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=l+1,c+=1,t.footnoteCounts.set(i,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,h),t.applyData(e,h)}function j8(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function U8(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function uR(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const a=t.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=i:a.push({type:"text",value:i}),a}function z8(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return uR(t,e);const a={src:lo(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,l),t.applyData(e,l)}function B8(t,e){const n={src:lo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function V8(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function H8(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return uR(t,e);const a={href:lo(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function F8(t,e){const n={href:lo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function q8(t,e,n){const i=t.all(e),a=n?G8(n):cR(e),l={},u=[];if(typeof e.checked=="boolean"){const p=i[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},i.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const p=i[c];(a||c!==0||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!a?u.push(...p.children):u.push(p)}const d=i[i.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,h),t.applyData(e,h)}function G8(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=cR(n[i])}return e}function cR(t){const e=t.spread;return e??t.children.length>1}function Y8(t,e){const n={},i=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<i.length;){const u=i[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function K8(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function W8(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function $8(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function X8(t,e){const n=t.all(e),i=n.shift(),a=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=lv(e.children[1]),d=qA(e.children[e.children.length-1]);c&&d&&(u.position={start:c,end:d}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function Q8(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:e.children.length;let d=-1;const h=[];for(;++d<c;){const g=e.children[d],v={},_=u?u[d]:void 0;_&&(v.align=_);let S={type:"element",tagName:l,properties:v,children:[]};g&&(S.children=t.all(g),t.patch(g,S),S=t.applyData(g,S)),h.push(S)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,p),t.applyData(e,p)}function Z8(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const vw=9,_w=32;function J8(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),a=0;const l=[];for(;i;)l.push(bw(e.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(e);return l.push(bw(e.slice(a),a>0,!1)),l.join("")}function bw(t,e,n){let i=0,a=t.length;if(e){let l=t.codePointAt(i);for(;l===vw||l===_w;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(a-1);for(;l===vw||l===_w;)a--,l=t.codePointAt(a-1)}return a>i?t.slice(i,a):""}function eH(t,e){const n={type:"text",value:J8(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function tH(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const nH={blockquote:I8,break:D8,code:O8,delete:M8,emphasis:P8,footnoteReference:L8,heading:j8,html:U8,imageReference:z8,image:B8,inlineCode:V8,linkReference:H8,link:F8,listItem:q8,list:Y8,paragraph:K8,root:W8,strong:$8,table:X8,tableCell:Z8,tableRow:Q8,text:eH,thematicBreak:tH,toml:Vc,yaml:Vc,definition:Vc,footnoteDefinition:Vc};function Vc(){}const fR=-1,ah=0,Pl=1,Of=2,mv=3,gv=4,yv=5,vv=6,hR=7,dR=8,xw=typeof self=="object"?self:globalThis,iH=(t,e)=>{const n=(a,l)=>(t.set(l,a),a),i=a=>{if(t.has(a))return t.get(a);const[l,u]=e[a];switch(l){case ah:case fR:return n(u,a);case Pl:{const c=n([],a);for(const d of u)c.push(i(d));return c}case Of:{const c=n({},a);for(const[d,h]of u)c[i(d)]=i(h);return c}case mv:return n(new Date(u),a);case gv:{const{source:c,flags:d}=u;return n(new RegExp(c,d),a)}case yv:{const c=n(new Map,a);for(const[d,h]of u)c.set(i(d),i(h));return c}case vv:{const c=n(new Set,a);for(const d of u)c.add(i(d));return c}case hR:{const{name:c,message:d}=u;return n(new xw[c](d),a)}case dR:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new xw[l](u),a)};return i},Sw=t=>iH(new Map,t)(0),Sa="",{toString:rH}={},{keys:sH}=Object,yl=t=>{const e=typeof t;if(e!=="object"||!t)return[ah,e];const n=rH.call(t).slice(8,-1);switch(n){case"Array":return[Pl,Sa];case"Object":return[Of,Sa];case"Date":return[mv,Sa];case"RegExp":return[gv,Sa];case"Map":return[yv,Sa];case"Set":return[vv,Sa];case"DataView":return[Pl,n]}return n.includes("Array")?[Pl,n]:n.includes("Error")?[hR,n]:[Of,n]},Hc=([t,e])=>t===ah&&(e==="function"||e==="symbol"),aH=(t,e,n,i)=>{const a=(u,c)=>{const d=i.push(u)-1;return n.set(c,d),d},l=u=>{if(n.has(u))return n.get(u);let[c,d]=yl(u);switch(c){case ah:{let p=u;switch(d){case"bigint":c=dR,p=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return a([fR],u)}return a([c,p],u)}case Pl:{if(d){let v=u;return d==="DataView"?v=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(u)),a([d,[...v]],u)}const p=[],g=a([c,p],u);for(const v of u)p.push(l(v));return g}case Of:{if(d)switch(d){case"BigInt":return a([d,u.toString()],u);case"Boolean":case"Number":case"String":return a([d,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const p=[],g=a([c,p],u);for(const v of sH(u))(t||!Hc(yl(u[v])))&&p.push([l(v),l(u[v])]);return g}case mv:return a([c,u.toISOString()],u);case gv:{const{source:p,flags:g}=u;return a([c,{source:p,flags:g}],u)}case yv:{const p=[],g=a([c,p],u);for(const[v,_]of u)(t||!(Hc(yl(v))||Hc(yl(_))))&&p.push([l(v),l(_)]);return g}case vv:{const p=[],g=a([c,p],u);for(const v of u)(t||!Hc(yl(v)))&&p.push(l(v));return g}}const{message:h}=u;return a([c,{name:d,message:h}],u)};return l},ww=(t,{json:e,lossy:n}={})=>{const i=[];return aH(!(e||n),!!e,new Map,i)(t),i},Mf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Sw(ww(t,e)):structuredClone(t):(t,e)=>Sw(ww(t,e));function oH(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function lH(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function uH(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||oH,i=t.options.footnoteBackLabel||lH,a=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[d]);if(!h)continue;const p=t.all(h),g=String(h.identifier).toUpperCase(),v=lo(g.toLowerCase());let _=0;const S=[],w=t.footnoteCounts.get(g);for(;w!==void 0&&++_<=w;){S.length>0&&S.push({type:"text",value:" "});let k=typeof n=="string"?n:n(d,_);typeof k=="string"&&(k={type:"text",value:k}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,_),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const R=p[p.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const k=R.children[R.children.length-1];k&&k.type==="text"?k.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...S)}else p.push(...S);const T={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(p,!0)};t.patch(h,T),c.push(T)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Mf(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const pR=function(t){if(t==null)return dH;if(typeof t=="function")return oh(t);if(typeof t=="object")return Array.isArray(t)?cH(t):fH(t);if(typeof t=="string")return hH(t);throw new Error("Expected function, string, or object as test")};function cH(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=pR(t[n]);return oh(i);function i(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function fH(t){const e=t;return oh(n);function n(i){const a=i;let l;for(l in t)if(a[l]!==e[l])return!1;return!0}}function hH(t){return oh(e);function e(n){return n&&n.type===t}}function oh(t){return e;function e(n,i,a){return!!(pH(n)&&t.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function dH(){return!0}function pH(t){return t!==null&&typeof t=="object"&&"type"in t}const mR=[],mH=!0,Ew=!1,gH="skip";function yH(t,e,n,i){let a;typeof e=="function"&&typeof n!="function"?(i=n,n=e):a=e;const l=pR(a),u=i?-1:1;c(t,void 0,[])();function c(d,h,p){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const _=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(_?"<"+_+">":""))+")"})}return v;function v(){let _=mR,S,w,R;if((!e||l(d,h,p[p.length-1]||void 0))&&(_=vH(n(d,p)),_[0]===Ew))return _;if("children"in d&&d.children){const T=d;if(T.children&&_[0]!==gH)for(w=(i?T.children.length:-1)+u,R=p.concat(T);w>-1&&w<T.children.length;){const k=T.children[w];if(S=c(k,w,R)(),S[0]===Ew)return S;w=typeof S[1]=="number"?S[1]:w+u}}return _}}}function vH(t){return Array.isArray(t)?t:typeof t=="number"?[mH,t]:t==null?mR:[t]}function gR(t,e,n,i){let a,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,a=n):(l=e,u=n,a=i),yH(t,l,c,a);function c(d,h){const p=h[h.length-1],g=p?p.children.indexOf(d):void 0;return u(d,g,p)}}const vg={}.hasOwnProperty,_H={};function bH(t,e){const n=e||_H,i=new Map,a=new Map,l=new Map,u={...nH,...n.handlers},c={all:h,applyData:SH,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:d,options:n,patch:xH,wrap:EH};return gR(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?i:a,v=String(p.identifier).toUpperCase();g.has(v)||g.set(v,p)}}),c;function d(p,g){const v=p.type,_=c.handlers[v];if(vg.call(c.handlers,v)&&_)return _(c,p,g);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in p){const{children:w,...R}=p,T=Mf(R);return T.children=c.all(p),T}return Mf(p)}return(c.options.unknownHandler||wH)(c,p,g)}function h(p){const g=[];if("children"in p){const v=p.children;let _=-1;for(;++_<v.length;){const S=c.one(v[_],p);if(S){if(_&&v[_-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Tw(S.value)),!Array.isArray(S)&&S.type==="element")){const w=S.children[0];w&&w.type==="text"&&(w.value=Tw(w.value))}Array.isArray(S)?g.push(...S):g.push(S)}}}return g}}function xH(t,e){t.position&&(e.position=rB(t))}function SH(t,e){let n=e;if(t&&t.data){const i=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Mf(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function wH(t,e){const n=e.data||{},i="value"in e&&!(vg.call(n,"hProperties")||vg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function EH(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Tw(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Cw(t,e){const n=bH(t,e),i=n.one(t,void 0),a=uH(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function TH(t,e){return t&&"run"in t?async function(n,i){const a=Cw(n,{file:i,...e});await t.run(a,i)}:function(n,i){return Cw(n,{file:i,...t||e})}}function Aw(t){if(t)throw t}var um,Rw;function CH(){if(Rw)return um;Rw=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},l=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var p=t.call(h,"constructor"),g=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!g)return!1;var v;for(v in h);return typeof v>"u"||t.call(h,v)},u=function(h,p){n&&p.name==="__proto__"?n(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(t.call(h,p)){if(i)return i(h,p).value}else return;return h[p]};return um=function d(){var h,p,g,v,_,S,w=arguments[0],R=1,T=arguments.length,k=!1;for(typeof w=="boolean"&&(k=w,w=arguments[1]||{},R=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});R<T;++R)if(h=arguments[R],h!=null)for(p in h)g=c(w,p),v=c(h,p),w!==v&&(k&&v&&(l(v)||(_=a(v)))?(_?(_=!1,S=g&&a(g)?g:[]):S=g&&l(g)?g:{},u(w,{name:p,newValue:d(k,S,v)})):typeof v<"u"&&u(w,{name:p,newValue:v}));return w},um}var AH=CH();const cm=tu(AH);function _g(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function RH(){const t=[],e={run:n,use:i};return e;function n(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...a);function c(d,...h){const p=t[++l];let g=-1;if(d){u(d);return}for(;++g<a.length;)(h[g]===null||h[g]===void 0)&&(h[g]=a[g]);a=h,p?kH(p,c)(...h):u(null,...h)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function kH(t,e){let n;return i;function i(...u){const c=t.length>u.length;let d;c&&u.push(a);try{d=t.apply(this,u)}catch(h){const p=h;if(c&&n)throw p;return a(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(l,a):d instanceof Error?a(d):l(d))}function a(u,...c){n||(n=!0,e(u,...c))}function l(u){a(null,u)}}const di={basename:NH,dirname:IH,extname:DH,join:OH,sep:"/"};function NH(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');xu(t);let n=0,i=-1,a=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,c=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else u<0&&(l=!0,u=a+1),c>-1&&(t.codePointAt(a)===e.codePointAt(c--)?c<0&&(i=a):(c=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function IH(t){if(xu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function DH(t){xu(t);let e=t.length,n=-1,i=0,a=-1,l=0,u;for(;e--;){const c=t.codePointAt(e);if(c===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),c===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===i+1?"":t.slice(a,n)}function OH(...t){let e=-1,n;for(;++e<t.length;)xu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":MH(n)}function MH(t){xu(t);const e=t.codePointAt(0)===47;let n=PH(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function PH(t,e){let n="",i=0,a=-1,l=0,u=-1,c,d;for(;++u<=t.length;){if(u<t.length)c=t.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),a=u,l=0;continue}}else if(n.length>0){n="",i=0,a=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),i=u-a-1;a=u,l=0}else c===46&&l>-1?l++:l=-1}return n}function xu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const LH={cwd:jH};function jH(){return"/"}function bg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function UH(t){if(typeof t=="string")t=new URL(t);else if(!bg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return zH(t)}function zH(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const fm=["history","path","basename","stem","extname","dirname"];class yR{constructor(e){let n;e?bg(e)?n={path:e}:typeof e=="string"||BH(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":LH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<fm.length;){const l=fm[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)fm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?di.basename(this.path):void 0}set basename(e){dm(e,"basename"),hm(e,"basename"),this.path=di.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?di.dirname(this.path):void 0}set dirname(e){kw(this.basename,"dirname"),this.path=di.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?di.extname(this.path):void 0}set extname(e){if(hm(e,"extname"),kw(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=di.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){bg(e)&&(e=UH(e)),dm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?di.basename(this.path,this.extname):void 0}set stem(e){dm(e,"stem"),hm(e,"stem"),this.path=di.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const a=this.message(e,n,i);throw a.fatal=!0,a}info(e,n,i){const a=this.message(e,n,i);return a.fatal=void 0,a}message(e,n,i){const a=new Xt(e,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function hm(t,e){if(t&&t.includes(di.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+di.sep+"`")}function dm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function kw(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function BH(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const VH=function(t){const i=this.constructor.prototype,a=i[t],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},HH={}.hasOwnProperty;class _v extends VH{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=RH()}copy(){const e=new _v;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(cm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gm("data",this.frozen),this.namespace[e]=n,this):HH.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(e,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Fc(e),i=this.parser||this.Parser;return pm("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),pm("process",this.parser||this.Parser),mm("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,u){const c=Fc(e),d=i.parse(c);i.run(d,c,function(p,g,v){if(p||!g||!v)return h(p);const _=g,S=i.stringify(_,v);GH(S)?v.value=S:v.result=S,h(p,v)});function h(p,g){p||!g?u(p):l?l(g):n(void 0,g)}}}processSync(e){let n=!1,i;return this.freeze(),pm("processSync",this.parser||this.Parser),mm("processSync",this.compiler||this.Compiler),this.process(e,a),Iw("processSync","process",n),i;function a(l,u){n=!0,Aw(l),i=u}}run(e,n,i){Nw(e),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(u,c){const d=Fc(n);a.run(e,d,h);function h(p,g,v){const _=g||e;p?c(p):u?u(_):i(void 0,_,v)}}}runSync(e,n){let i=!1,a;return this.run(e,n,l),Iw("runSync","run",i),a;function l(u,c){Aw(u),a=c,i=!0}}stringify(e,n){this.freeze();const i=Fc(n),a=this.compiler||this.Compiler;return mm("stringify",a),Nw(e),a(e,i)}use(e,...n){const i=this.attachers,a=this.namespace;if(gm("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[p,...g]=h;d(p,g)}else u(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function u(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(a.settings=cm(!0,a.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){const g=h[p];l(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,p){let g=-1,v=-1;for(;++g<i.length;)if(i[g][0]===h){v=g;break}if(v===-1)i.push([h,...p]);else if(p.length>0){let[_,...S]=p;const w=i[v][1];_g(w)&&_g(_)&&(_=cm(!0,w,_)),i[v]=[h,_,...S]}}}}const FH=new _v().freeze();function pm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function mm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gm(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Nw(t){if(!_g(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Iw(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Fc(t){return qH(t)?t:new yR(t)}function qH(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function GH(t){return typeof t=="string"||YH(t)}function YH(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const KH="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Dw=[],Ow={allowDangerousHtml:!0},WH=/^(https?|ircs?|mailto|xmpp)$/i,$H=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function XH(t){const e=QH(t),n=ZH(t);return JH(e.runSync(e.parse(n),n),t)}function QH(t){const e=t.rehypePlugins||Dw,n=t.remarkPlugins||Dw,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ow}:Ow;return FH().use(N8).use(n).use(TH,i).use(e)}function ZH(t){const e=t.children||"",n=new yR;return typeof e=="string"&&(n.value=e),n}function JH(t,e){const n=e.allowedElements,i=e.allowElement,a=e.components,l=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||e9;for(const p of $H)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+KH+p.id,void 0);return gR(t,h),uB(t,{Fragment:A.Fragment,components:a,ignoreInvalidStyle:!0,jsx:A.jsx,jsxs:A.jsxs,passKeys:!0,passNode:!0});function h(p,g,v){if(p.type==="raw"&&v&&typeof g=="number")return u?v.children.splice(g,1):v.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let _;for(_ in am)if(Object.hasOwn(am,_)&&Object.hasOwn(p.properties,_)){const S=p.properties[_],w=am[_];(w===null||w.includes(p.tagName))&&(p.properties[_]=d(String(S||""),_,p))}}if(p.type==="element"){let _=n?!n.includes(p.tagName):l?l.includes(p.tagName):!1;if(!_&&i&&typeof g=="number"&&(_=!i(p,g,v)),_&&v&&typeof g=="number")return c&&p.children?v.children.splice(g,1,...p.children):v.children.splice(g,1),g}}}function e9(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||i!==-1&&e>i||WH.test(t.slice(0,e))?t:""}function t9({title:t,description:e,tags:n,link:i,repo:a,progress:l,fullText:u="",lastUpdated:c}){const[d,h]=O.useState(!1),p=u.split(/\r?\n/).filter(g=>!/^title:\s+/i.test(g.trim())).join(`
`);return A.jsxs(A.Fragment,{children:[A.jsx(rh.div,{whileHover:{y:-4},className:"bg-white bg-opacity-5 backdrop-blur-md rounded-xl overflow-hidden shadow-lg border border-white/10 hover:shadow-2xl cursor-pointer transition-all relative",onClick:()=>h(!0),children:A.jsxs("div",{className:"p-5 space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h3",{className:"text-lg font-bold text-white",children:t}),a&&A.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:A.jsx(wz,{className:"w-5 h-5 text-white hover:text-gray-300"})})]}),A.jsx("p",{className:"text-white text-sm line-clamp-2 min-h-[40px]",children:e}),A.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((g,v)=>A.jsx("span",{className:"text-xs text-white bg-white/10 px-2 py-1 rounded",children:g},v))}),l&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden mt-2",children:A.jsx("div",{className:"h-full bg-[#bfa382] transition-all duration-500",style:{width:`${Math.round(l.solved/l.total*100)}%`}})}),A.jsxs("p",{className:"text-xs text-white text-right mt-1",children:[l.solved," / ",l.total," days logged"]})]})]})}),d&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>h(!1),children:A.jsxs("div",{className:"bg-white bg-opacity-10 border border-white/20 rounded-lg p-6 w-full max-w-3xl max-h-[80vh] overflow-y-auto text-white",onClick:g=>g.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h2",{className:"text-lg font-bold text-[#bfa382]",children:[t,"'s Log"]}),A.jsx("button",{onClick:()=>h(!1),className:"text-white text-sm hover:underline",children:"Close"})]}),A.jsx("div",{className:"prose prose-invert max-w-none leading-relaxed [&_h1]:text-white [&_h2]:text-[#bfa382] [&_h3]:text-white [&_h1:first-child]:hidden",children:A.jsx(XH,{children:p})}),A.jsxs("div",{className:"text-xs text-right text-white/50 mt-6",children:["Last updated: ",c||"N/A"]})]})})]})}function n9(t){const e=t.split(`
`);let n="",i=null,a=[];const l=[],u=()=>{i&&(i.fullText=a.join(`
`).trim(),l.push(i),a=[])};for(let c of e)if(c.startsWith("# "))n=c.replace(/^#\s*/,"").trim();else if(c.startsWith("## ")){u();const d=c.match(/^##\s*(.*?)\s*\((https?:\/\/.*?)\)/);d?i={title:d[1],url:d[2],fullText:"",tags:[n]}:i={title:c.replace(/^##\s*/,"").trim(),url:"",fullText:"",tags:[n]}}else a.push(c);return u(),l}function i9(){const[t,e]=O.useState([]),[n,i]=O.useState(0);O.useEffect(()=>{fetch("/home/chang/Desktop/Personal_Website/src/solution/cses/big_solutions.md").then(c=>c.text()).then(c=>{e(n9(c))}).catch(c=>console.error("載入 big_solutions.md 失敗：",c))},[]);const a=9,l=Math.ceil(t.length/a)-1,u=t.slice(n*a,(n+1)*a);return A.jsxs("div",{className:"relative w-full",children:[A.jsx("button",{onClick:()=>i(c=>Math.max(c-1,0)),disabled:n===0,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white p-2 rounded-full shadow z-10 disabled:opacity-40",children:A.jsx(mz,{size:24})}),A.jsx("button",{onClick:()=>i(c=>Math.min(c+1,l)),disabled:n===l,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white p-2 rounded-full shadow z-10 disabled:opacity-40",children:A.jsx(yz,{size:24})}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 px-10",children:u.map((c,d)=>A.jsx(t9,{title:c.title,description:c.fullText.split(`
`)[0]||"",tags:c.tags,link:c.url,fullText:c.fullText,lastUpdated:"2025-08-15"},d))}),t.length>0&&A.jsxs("div",{className:"text-center mt-4 text-sm text-gray-500",children:["Page ",n+1," / ",l+1]})]})}const r9=({title:t,tech:e,tags:n,description:i,codeLink:a,onClick:l,progress:u})=>A.jsxs("div",{onClick:l,className:"cursor-pointer bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow-md",children:A.jsx("img",{src:`/icons/${e.toLowerCase()}.png`,alt:e,className:"w-6 h-6 object-contain"})}),A.jsx("h2",{className:"text-xl font-bold text-white",children:t}),typeof u=="object"&&A.jsx(LA,{solved:u.solved,total:u.total})]}),A.jsx("p",{className:"text-sm text-gray-300",children:i}),A.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.map((c,d)=>A.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:c},d))}),A.jsx("div",{className:"pt-2",children:A.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white hover:underline",children:"🔗 View Code"})})]}),s9=({open:t,onClose:e,title:n,tech:i,tags:a,description:l,reflection:u,codeLink:c,resultImage:d})=>t?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:A.jsxs("div",{className:"bg-black/90 text-white p-6 rounded-2xl w-full max-w-2xl shadow-xl relative animate-fade-in space-y-6 overflow-y-auto max-h-[90vh]",children:[A.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-white text-xl",onClick:e,children:"×"}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow",children:A.jsx("img",{src:`/icons/${i.toLowerCase()}.png`,alt:i,className:"w-6 h-6 object-contain"})}),A.jsx("h2",{className:"text-2xl font-bold text-[#f9f6f1]",children:n})]}),A.jsx("p",{className:"text-sm text-gray-300",children:l}),d&&A.jsx("img",{src:d,alt:"Result Preview",className:"w-full rounded-lg border border-white/10"}),u&&A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-white/90 mb-1",children:"💭 Reflection"}),A.jsx("p",{className:"text-sm text-gray-400 leading-relaxed whitespace-pre-line",children:u})]}),A.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-[#bfa382]",children:a.map((h,p)=>A.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:h},p))}),A.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-sm text-[#bfa382] hover:underline",children:"🔗 View Code"})]})}):null,a9=()=>{const{backgroundElement:t}=Yr(),[e,n]=O.useState(null),i=[{title:"Sobel Filter",tech:"CUDA",tags:["CUDA","Shared Memory","Edge Detection"],description:"Use shared memory to optimize image edge detection using a 5x5 Sobel kernel.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/cuda/sobel",reflection:`這次是我第一次實際上手優化 CUDA 程式，整體走過從 host 傳資料到 device、啟動 kernel、再把資料從 device 傳回 host 的完整流程，讓我對 CUDA 的標準作業順序更加熟悉。

      其中一個收穫是學會如何將不變的 Sobel mask 資料使用 __constant__ 宣告，這樣能夠將其存在 constant memory 中，讓所有 threads 以快取方式存取，減少 global memory 存取開銷。

      這次也遇到幾個明確的錯誤與調整：
      - 一開始 kernel 啟動時，誤把 gridDim 和 blockDim 寫反
      - 邊界處理沒考慮周全，導致輸出圖像邊緣異常
      - 嘗試使用 shared memory 作為鄰近資料暫存，有效減少了重複讀取`,resultImage:"/images/sobel-output.png"},{title:"Bitonic Sort",tech:"MPI",tags:["MPI","Scatter","Parallel Sort"],description:"Parallel sort using MPI scatter/gather with compare-exchange logic.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/mpi/bitonic-sort"},{title:"MNIST Inference",tech:"OpenACC",tags:["OpenACC","Neural Network","GPU"],description:"Accelerated MNIST digit classification using OpenACC for dense layer ops.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/openacc/mnist-inference"},{title:"MPI Exercises",tech:"MPI",tags:["MPI","Point-to-Point","Collective","Topology"],description:"Practice real MPI examples from ANL’s tutorial: Ring, Pi, PingPong and more — all tested and documented by me.",codeLink:"/notes/mpi",progress:{solved:4,total:22}}];return A.jsxs("div",{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen",children:[t,A.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[A.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"HPC 練習紀錄"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.map((a,l)=>A.jsx(r9,{...a,onClick:()=>n(a)},l)),e&&A.jsx(s9,{open:!0,onClose:()=>n(null),title:e.title,tech:e.tech,tags:e.tags,description:e.description,codeLink:e.codeLink,reflection:e.reflection,resultImage:e.resultImage})]})]})]})},o9=()=>{const t=xi(),e=[{name:"首頁",path:"/"},{name:"聊天室",path:"/chat"},{name:"作品集",path:"/projects"},{name:"關於我",path:"/about"}];return A.jsx("nav",{className:"fixed top-0 left-0 z-50 w-full transition-all duration-300 opacity-0 -translate-y-6 hover:opacity-100 hover:translate-y-0 bg-black/40 backdrop-blur-md border-b border-white/10 shadow-sm",children:A.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-8 py-3 flex justify-between items-center text-white",children:[A.jsx("div",{className:"font-bold text-lg tracking-wide",children:"夜の技術帖"}),A.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base font-zen",children:e.map(n=>A.jsx("li",{children:A.jsx(ru,{to:n.path,className:`px-3 py-1 rounded-xl transition-all duration-200 ${t.pathname===n.path?"bg-[#bfa382] text-white":"hover:bg-white/10"}`,children:n.name})},n.path))})]})})},vR=[{id:"point-to-point",title:"Point-to-Point Communication",description:"Basic MPI_Send and MPI_Recv communication patterns",exercises:[{id:"ring",title:"Ring Communication",tags:["MPI","SendRecv","Topology"],solved:!0,reflection:`這題是我第一次實作 MPI 的點對點通訊，使用 MPI_Send 和 MPI_Recv 模擬環狀訊息傳遞。
  
  一開始我沒有考慮 rank=0 要從 rank=n-1 接收的特殊情況，導致 deadlock，後來透過先設定 next / prev 並先後執行 send/recv 解決了這問題。
  
  這題也讓我開始理解 process 間如何「傳」與「等」，以及 blocking 與非 blocking 的差別。
  
  我覺得這題很適合當作 MPI 新手的第一題，邏輯上不難但踩雷點很真實。`,concepts:[],codeLink:"https://github.com/你的帳號/你的repo/mpi/ring",path:"/notes/mpi/ring"},{id:"pi",title:"Approximating Pi with MPI_Reduce",tags:["MPI","Reduction","Numerical Integration"],solved:!0,reflection:`這題其實讓我卡最久的地方不是程式，而是數學。
  
  原來 ( int_0^1 \frac{4}{1+x^2} dx = pi ) 是可以透過三角代換的，設 ( x = 	an	heta ) 就能化為 arc tangent。
  雖然平常算題目都背起來了，但這次從頭推導才真正理解它背後為什麼會等於 pi。
  
  在 MPI 部分，這題讓我熟悉了 MPI_Reduce 的用法：每個 process 計算自己區段的面積，最後透過 reduce 操作累加所有結果，最終在 root process 得到 pi 的近似值。
  
  整體來說是一題程式簡單、數學有料的小品題，很適合補足自己積分直覺與 collective 操作概念。`,concepts:[{title:"為什麼 ∫ 4/(1+x²) dx = π？",content:"因為 4 / (1 + x²) 是 arctangent 的微分，這題實際上是在積出 tan⁻¹(x) 的面積。"},{title:"MPI_Reduce 的用途與使用範例",content:`MPI_Reduce 可以讓多個 process 的結果彙總至 root，適合做總和、最大值等聚合運算。
常見用法為：
MPI_Reduce(&local_result, &global_result, 1, MPI_DOUBLE, MPI_SUM, 0, MPI_COMM_WORLD);`}],codeLink:"https://github.com/你的帳號/你的repo/mpi/pi",path:"/notes/mpi/pi"}]}],l9=()=>A.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[A.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:"技術筆記總覽"}),vR.map(t=>A.jsxs("div",{className:"mb-10",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:t.title}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.exercises.map(e=>A.jsxs(ru,{to:e.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[A.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:e.title}),A.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:e.tags.map((n,i)=>A.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:n},i))})]},e.id))})]},t.id))]}),u9=()=>{const{backgroundElement:t}=Yr();return A.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[t,A.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:"MPI 筆記專區"}),vR.map(e=>A.jsxs("div",{className:"mb-10",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:e.title}),A.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.exercises.map(n=>A.jsxs(ru,{to:n.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[A.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:n.title}),A.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.tags.map((i,a)=>A.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:i},a))})]},n.id))})]},e.id))]})};function c9({user:t}){const e=xi();return A.jsx(KC,{mode:"wait",children:A.jsxs(DI,{location:e,children:[A.jsx(Qn,{path:"/",element:A.jsx(lz,{})}),A.jsx(Qn,{path:"/login",element:t?A.jsx(Cp,{to:"/chat"}):A.jsx(Ez,{})}),A.jsx(Qn,{path:"/chat",element:t?A.jsx(kz,{}):A.jsx(Cp,{to:"/login"})}),A.jsx(Qn,{path:"/profile",element:t?A.jsx(Nz,{}):A.jsx(Cp,{to:"/login"})}),A.jsx(Qn,{path:"/about",element:A.jsx(Iz,{})}),A.jsx(Qn,{path:"/projects",element:A.jsx(Mz,{})}),A.jsx(Qn,{path:"/projects/:projectName/*",element:A.jsx(i9,{})}),A.jsx(Qn,{path:"/hpc",element:A.jsx(a9,{})}),A.jsx(Qn,{path:"/notes",element:A.jsx(l9,{})}),A.jsx(Qn,{path:"/notes/mpi",element:A.jsx(u9,{})})]},e.pathname)})}function f9(){const[t,e]=O.useState(null),[n,i]=O.useState(!0);return O.useEffect(()=>{const a=XM(bs,l=>{e(l),i(!1)});return()=>a()},[]),n?A.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading..."}):A.jsxs(tD,{children:[A.jsx(o9,{}),A.jsx(c9,{user:t})]})}HN.createRoot(document.getElementById("root")).render(A.jsx(MN.StrictMode,{children:A.jsx(oz,{children:A.jsx(f9,{})})}));
