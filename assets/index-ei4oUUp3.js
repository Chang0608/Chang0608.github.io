(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xd={exports:{}},Oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function UA(){if(I0)return Oo;I0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Oo.Fragment=e,Oo.jsx=n,Oo.jsxs=n,Oo}var k0;function VA(){return k0||(k0=1,xd.exports=UA()),xd.exports}var x=VA(),Cd={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function BA(){if(P0)return _e;P0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function R(T,z,W){this.props=T,this.context=z,this.refs=w,this.updater=W||b}R.prototype.isReactComponent={},R.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},R.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function N(){}N.prototype=R.prototype;function D(T,z,W){this.props=T,this.context=z,this.refs=w,this.updater=W||b}var M=D.prototype=new N;M.constructor=D,E(M,R.prototype),M.isPureReactComponent=!0;var K=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function q(T,z,W,ee,P,Re){return W=Re.ref,{$$typeof:t,type:T,key:z,ref:W!==void 0?W:null,props:Re}}function F(T,z){return q(T.type,z,void 0,void 0,void 0,T.props)}function J(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function ie(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return z[W]})}var se=/\/+/g;function le(T,z){return typeof T=="object"&&T!==null&&T.key!=null?ie(""+T.key):z.toString(36)}function Ae(){}function Se(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ae,Ae):(T.status="pending",T.then(function(z){T.status==="pending"&&(T.status="fulfilled",T.value=z)},function(z){T.status==="pending"&&(T.status="rejected",T.reason=z)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function pe(T,z,W,ee,P){var Re=typeof T;(Re==="undefined"||Re==="boolean")&&(T=null);var Q=!1;if(T===null)Q=!0;else switch(Re){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(T.$$typeof){case t:case e:Q=!0;break;case g:return Q=T._init,pe(Q(T._payload),z,W,ee,P)}}if(Q)return P=P(T),Q=ee===""?"."+le(T,0):ee,K(P)?(W="",Q!=null&&(W=Q.replace(se,"$&/")+"/"),pe(P,z,W,"",function(Ye){return Ye})):P!=null&&(J(P)&&(P=F(P,W+(P.key==null||T&&T.key===P.key?"":(""+P.key).replace(se,"$&/")+"/")+Q)),z.push(P)),1;Q=0;var te=ee===""?".":ee+":";if(K(T))for(var ve=0;ve<T.length;ve++)ee=T[ve],Re=te+le(ee,ve),Q+=pe(ee,z,W,Re,P);else if(ve=v(T),typeof ve=="function")for(T=ve.call(T),ve=0;!(ee=T.next()).done;)ee=ee.value,Re=te+le(ee,ve++),Q+=pe(ee,z,W,Re,P);else if(Re==="object"){if(typeof T.then=="function")return pe(Se(T),z,W,ee,P);throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Q}function L(T,z,W){if(T==null)return T;var ee=[],P=0;return pe(T,ee,"","",function(Re){return z.call(W,Re,P++)}),ee}function Z(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var ae=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function re(){}return _e.Children={map:L,forEach:function(T,z,W){L(T,function(){z.apply(this,arguments)},W)},count:function(T){var z=0;return L(T,function(){z++}),z},toArray:function(T){return L(T,function(z){return z})||[]},only:function(T){if(!J(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},_e.Component=R,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=D,_e.StrictMode=r,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_e.__COMPILER_RUNTIME={__proto__:null,c:function(T){return I.H.useMemoCache(T)}},_e.cache=function(T){return function(){return T.apply(null,arguments)}},_e.cloneElement=function(T,z,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=E({},T.props),P=T.key,Re=void 0;if(z!=null)for(Q in z.ref!==void 0&&(Re=void 0),z.key!==void 0&&(P=""+z.key),z)!H.call(z,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&z.ref===void 0||(ee[Q]=z[Q]);var Q=arguments.length-2;if(Q===1)ee.children=W;else if(1<Q){for(var te=Array(Q),ve=0;ve<Q;ve++)te[ve]=arguments[ve+2];ee.children=te}return q(T.type,P,void 0,void 0,Re,ee)},_e.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},_e.createElement=function(T,z,W){var ee,P={},Re=null;if(z!=null)for(ee in z.key!==void 0&&(Re=""+z.key),z)H.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(P[ee]=z[ee]);var Q=arguments.length-2;if(Q===1)P.children=W;else if(1<Q){for(var te=Array(Q),ve=0;ve<Q;ve++)te[ve]=arguments[ve+2];P.children=te}if(T&&T.defaultProps)for(ee in Q=T.defaultProps,Q)P[ee]===void 0&&(P[ee]=Q[ee]);return q(T,Re,void 0,void 0,null,P)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(T){return{$$typeof:f,render:T}},_e.isValidElement=J,_e.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:Z}},_e.memo=function(T,z){return{$$typeof:h,type:T,compare:z===void 0?null:z}},_e.startTransition=function(T){var z=I.T,W={};I.T=W;try{var ee=T(),P=I.S;P!==null&&P(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(re,ae)}catch(Re){ae(Re)}finally{I.T=z}},_e.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_e.use=function(T){return I.H.use(T)},_e.useActionState=function(T,z,W){return I.H.useActionState(T,z,W)},_e.useCallback=function(T,z){return I.H.useCallback(T,z)},_e.useContext=function(T){return I.H.useContext(T)},_e.useDebugValue=function(){},_e.useDeferredValue=function(T,z){return I.H.useDeferredValue(T,z)},_e.useEffect=function(T,z,W){var ee=I.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(T,z)},_e.useId=function(){return I.H.useId()},_e.useImperativeHandle=function(T,z,W){return I.H.useImperativeHandle(T,z,W)},_e.useInsertionEffect=function(T,z){return I.H.useInsertionEffect(T,z)},_e.useLayoutEffect=function(T,z){return I.H.useLayoutEffect(T,z)},_e.useMemo=function(T,z){return I.H.useMemo(T,z)},_e.useOptimistic=function(T,z){return I.H.useOptimistic(T,z)},_e.useReducer=function(T,z,W){return I.H.useReducer(T,z,W)},_e.useRef=function(T){return I.H.useRef(T)},_e.useState=function(T){return I.H.useState(T)},_e.useSyncExternalStore=function(T,z,W){return I.H.useSyncExternalStore(T,z,W)},_e.useTransition=function(){return I.H.useTransition()},_e.version="19.1.1",_e}var L0;function Gc(){return L0||(L0=1,Cd.exports=BA()),Cd.exports}var A=Gc();const zA=sm(A);var Ad={exports:{}},Mo={},Rd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function HA(){return j0||(j0=1,function(t){function e(L,Z){var ae=L.length;L.push(Z);e:for(;0<ae;){var re=ae-1>>>1,T=L[re];if(0<o(T,Z))L[re]=Z,L[ae]=T,ae=re;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Z=L[0],ae=L.pop();if(ae!==Z){L[0]=ae;e:for(var re=0,T=L.length,z=T>>>1;re<z;){var W=2*(re+1)-1,ee=L[W],P=W+1,Re=L[P];if(0>o(ee,ae))P<T&&0>o(Re,ee)?(L[re]=Re,L[P]=ae,re=P):(L[re]=ee,L[W]=ae,re=W);else if(P<T&&0>o(Re,ae))L[re]=Re,L[P]=ae,re=P;else break e}}return Z}function o(L,Z){var ae=L.sortIndex-Z.sortIndex;return ae!==0?ae:L.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],h=[],g=1,y=null,v=3,b=!1,E=!1,w=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function K(L){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=L)r(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(h)}}function I(L){if(w=!1,K(L),!E)if(n(p)!==null)E=!0,H||(H=!0,le());else{var Z=n(h);Z!==null&&pe(I,Z.startTime-L)}}var H=!1,q=-1,F=5,J=-1;function ie(){return R?!0:!(t.unstable_now()-J<F)}function se(){if(R=!1,H){var L=t.unstable_now();J=L;var Z=!0;try{e:{E=!1,w&&(w=!1,D(q),q=-1),b=!0;var ae=v;try{t:{for(K(L),y=n(p);y!==null&&!(y.expirationTime>L&&ie());){var re=y.callback;if(typeof re=="function"){y.callback=null,v=y.priorityLevel;var T=re(y.expirationTime<=L);if(L=t.unstable_now(),typeof T=="function"){y.callback=T,K(L),Z=!0;break t}y===n(p)&&r(p),K(L)}else r(p);y=n(p)}if(y!==null)Z=!0;else{var z=n(h);z!==null&&pe(I,z.startTime-L),Z=!1}}break e}finally{y=null,v=ae,b=!1}Z=void 0}}finally{Z?le():H=!1}}}var le;if(typeof M=="function")le=function(){M(se)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Se=Ae.port2;Ae.port1.onmessage=se,le=function(){Se.postMessage(null)}}else le=function(){N(se,0)};function pe(L,Z){q=N(function(){L(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var ae=v;v=Z;try{return L()}finally{v=ae}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=v;v=L;try{return Z()}finally{v=ae}},t.unstable_scheduleCallback=function(L,Z,ae){var re=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?re+ae:re):ae=re,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ae+T,L={id:g++,callback:Z,priorityLevel:L,startTime:ae,expirationTime:T,sortIndex:-1},ae>re?(L.sortIndex=ae,e(h,L),n(p)===null&&L===n(h)&&(w?(D(q),q=-1):w=!0,pe(I,ae-re))):(L.sortIndex=T,e(p,L),E||b||(E=!0,H||(H=!0,le()))),L},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(L){var Z=v;return function(){var ae=v;v=Z;try{return L.apply(this,arguments)}finally{v=ae}}}}(Nd)),Nd}var U0;function FA(){return U0||(U0=1,Rd.exports=HA()),Rd.exports}var Dd={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function GA(){if(V0)return Pt;V0=1;var t=Gc();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:h,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pt.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(p,h,null,g)},Pt.flushSync=function(p){var h=c.T,g=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=h,r.p=g,r.d.f()}},Pt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(p,h))},Pt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Pt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(p)},Pt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pt.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=f(h.as,h.crossOrigin);r.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(p)},Pt.requestFormReset=function(p){r.d.r(p)},Pt.unstable_batchedUpdates=function(p,h){return p(h)},Pt.useFormState=function(p,h,g){return c.H.useFormState(p,h,g)},Pt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Pt.version="19.1.1",Pt}var B0;function qA(){if(B0)return Dd.exports;B0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dd.exports=GA(),Dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function YA(){if(z0)return Mo;z0=1;var t=FA(),e=Gc(),n=qA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(u(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return f(d),i;if(m===l)return f(d),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var _=!1,S=d.child;S;){if(S===a){_=!0,a=d,l=m;break}if(S===l){_=!0,l=d,a=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===a){_=!0,a=m,l=d;break}if(S===l){_=!0,l=m,a=d;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var Ae=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case R:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case H:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case M:return(i.displayName||"Context")+".Provider";case D:return(i._context.displayName||"Context")+".Consumer";case K:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case F:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}var pe=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},re=[],T=-1;function z(i){return{current:i}}function W(i){0>T||(i.current=re[T],re[T]=null,T--)}function ee(i,s){T++,re[T]=i.current,i.current=s}var P=z(null),Re=z(null),Q=z(null),te=z(null);function ve(i,s){switch(ee(Q,s),ee(Re,i),ee(P,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?o0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=o0(s),i=l0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(P),ee(P,i)}function Ye(){W(P),W(Re),W(Q)}function Ue(i){i.memoizedState!==null&&ee(te,i);var s=P.current,a=l0(s,i.type);s!==a&&(ee(Re,i),ee(P,a))}function gt(i){Re.current===i&&(W(P),W(Re)),te.current===i&&(W(te),Co._currentValue=ae)}var ln=Object.prototype.hasOwnProperty,wn=t.unstable_scheduleCallback,un=t.unstable_cancelCallback,or=t.unstable_shouldYield,Xn=t.unstable_requestPaint,zt=t.unstable_now,lr=t.unstable_getCurrentPriorityLevel,ur=t.unstable_ImmediatePriority,cr=t.unstable_UserBlockingPriority,Qn=t.unstable_NormalPriority,X=t.unstable_LowPriority,fe=t.unstable_IdlePriority,Ee=t.log,be=t.unstable_setDisableYieldValue,ke=null,Me=null;function st(i){if(typeof Ee=="function"&&be(i),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(ke,i)}catch{}}var tt=Math.clz32?Math.clz32:Ri,Ht=Math.log,Ai=Math.LN2;function Ri(i){return i>>>=0,i===0?32:31-(Ht(i)/Ai|0)|0}var Ni=256,Ll=4194304;function Ss(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function jl(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?d=Ss(l):(_&=S,_!==0?d=Ss(_):a||(a=S&~i,a!==0&&(d=Ss(a))))):(S=l&~m,S!==0?d=Ss(S):_!==0?d=Ss(_):a||(a=l&~i,a!==0&&(d=Ss(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function ka(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function xx(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gg(){var i=Ni;return Ni<<=1,(Ni&4194048)===0&&(Ni=256),i}function qg(){var i=Ll;return Ll<<=1,(Ll&62914560)===0&&(Ll=4194304),i}function pf(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Pa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cx(i,s,a,l,d,m){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,C=i.expirationTimes,U=i.hiddenUpdates;for(a=_&~a;0<a;){var G=31-tt(a),$=1<<G;S[G]=0,C[G]=-1;var V=U[G];if(V!==null)for(U[G]=null,G=0;G<V.length;G++){var B=V[G];B!==null&&(B.lane&=-536870913)}a&=~$}l!==0&&Yg(i,l,0),m!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~s))}function Yg(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-tt(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function Kg(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-tt(a),d=1<<l;d&s|i[l]&s&&(i[l]|=s),a&=~d}}function mf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function gf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wg(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:A0(i.type))}function Ax(i,s){var a=Z.p;try{return Z.p=i,s()}finally{Z.p=a}}var Di=Math.random().toString(36).slice(2),It="__reactFiber$"+Di,Ft="__reactProps$"+Di,fr="__reactContainer$"+Di,yf="__reactEvents$"+Di,Rx="__reactListeners$"+Di,Nx="__reactHandles$"+Di,$g="__reactResources$"+Di,La="__reactMarker$"+Di;function vf(i){delete i[It],delete i[Ft],delete i[yf],delete i[Rx],delete i[Nx]}function hr(i){var s=i[It];if(s)return s;for(var a=i.parentNode;a;){if(s=a[fr]||a[It]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=h0(i);i!==null;){if(a=i[It])return a;i=h0(i)}return s}i=a,a=i.parentNode}return null}function dr(i){if(i=i[It]||i[fr]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ja(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function pr(i){var s=i[$g];return s||(s=i[$g]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(i){i[La]=!0}var Xg=new Set,Qg={};function Es(i,s){mr(i,s),mr(i+"Capture",s)}function mr(i,s){for(Qg[i]=s,i=0;i<s.length;i++)Xg.add(s[i])}var Dx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zg={},Jg={};function Ox(i){return ln.call(Jg,i)?!0:ln.call(Zg,i)?!1:Dx.test(i)?Jg[i]=!0:(Zg[i]=!0,!1)}function Ul(i,s,a){if(Ox(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Vl(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Zn(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var _f,ey;function gr(i){if(_f===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);_f=s&&s[1]||"",ey=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_f+i+ey}var bf=!1;function Sf(i,s){if(!i||bf)return"";bf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var V=B}Reflect.construct(i,[],$)}else{try{$.call()}catch(B){V=B}i.call($.prototype)}}else{try{throw Error()}catch(B){V=B}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&V&&typeof B.stack=="string")return[B.stack,V.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var C=_.split(`
`),U=S.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===U.length)for(l=C.length-1,d=U.length-1;1<=l&&0<=d&&C[l]!==U[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==U[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==U[d]){var G=`
`+C[l].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=l&&0<=d);break}}}finally{bf=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?gr(a):""}function Mx(i){switch(i.tag){case 26:case 27:case 5:return gr(i.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return Sf(i.type,!1);case 11:return Sf(i.type.render,!1);case 1:return Sf(i.type,!0);case 31:return gr("Activity");default:return""}}function ty(i){try{var s="";do s+=Mx(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ny(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ix(i){var s=ny(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Bl(i){i._valueTracker||(i._valueTracker=Ix(i))}function iy(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=ny(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function zl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var kx=/[\n"\\]/g;function fn(i){return i.replace(kx,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ef(i,s,a,l,d,m,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?Tf(i,_,cn(s)):a!=null?Tf(i,_,cn(a)):l!=null&&i.removeAttribute("value"),d==null&&m!=null&&(i.defaultChecked=!!m),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+cn(S):i.removeAttribute("name")}function sy(i,s,a,l,d,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function Tf(i,s,a){s==="number"&&zl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function yr(i,s,a,l){if(i=i.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<i.length;a++)d=s.hasOwnProperty("$"+i[a].value),i[a].selected!==d&&(i[a].selected=d),d&&l&&(i[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,d=0;d<i.length;d++){if(i[d].value===a){i[d].selected=!0,l&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function ry(i,s,a){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+cn(a):""}function ay(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(pe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function vr(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Px=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oy(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||Px.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function ly(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&oy(i,d,l)}else for(var m in s)s.hasOwnProperty(m)&&oy(i,m,s[m])}function wf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(i){return jx.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var xf=null;function Cf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _r=null,br=null;function uy(i){var s=dr(i);if(s&&(i=s.stateNode)){var a=i[Ft]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ef(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var d=l[Ft]||null;if(!d)throw Error(r(90));Ef(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&iy(l)}break e;case"textarea":ry(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&yr(i,!!a.multiple,s,!1)}}}var Af=!1;function cy(i,s,a){if(Af)return i(s,a);Af=!0;try{var l=i(s);return l}finally{if(Af=!1,(_r!==null||br!==null)&&(Au(),_r&&(s=_r,i=br,br=_r=null,uy(s),i)))for(s=0;s<i.length;s++)uy(i[s])}}function Ua(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=!1;if(Jn)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Rf=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Rf=!1}var Oi=null,Nf=null,Fl=null;function fy(){if(Fl)return Fl;var i,s=Nf,a=s.length,l,d="value"in Oi?Oi.value:Oi.textContent,m=d.length;for(i=0;i<a&&s[i]===d[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===d[m-l];l++);return Fl=d.slice(i,1<l?1-l:void 0)}function Gl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ql(){return!0}function hy(){return!1}function Gt(i){function s(a,l,d,m,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ql:hy,this.isPropagationStopped=hy,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),s}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Gt(Ts),Ba=g({},Ts,{view:0,detail:0}),Ux=Gt(Ba),Df,Of,za,Kl=g({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==za&&(za&&i.type==="mousemove"?(Df=i.screenX-za.screenX,Of=i.screenY-za.screenY):Of=Df=0,za=i),Df)},movementY:function(i){return"movementY"in i?i.movementY:Of}}),dy=Gt(Kl),Vx=g({},Kl,{dataTransfer:0}),Bx=Gt(Vx),zx=g({},Ba,{relatedTarget:0}),Mf=Gt(zx),Hx=g({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Fx=Gt(Hx),Gx=g({},Ts,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qx=Gt(Gx),Yx=g({},Ts,{data:0}),py=Gt(Yx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=$x[i])?!!s[i]:!1}function If(){return Xx}var Qx=g({},Ba,{key:function(i){if(i.key){var s=Kx[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Gl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(i){return i.type==="keypress"?Gl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zx=Gt(Qx),Jx=g({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),my=Gt(Jx),eC=g({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),tC=Gt(eC),nC=g({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),iC=Gt(nC),sC=g({},Kl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=Gt(sC),aC=g({},Ts,{newState:0,oldState:0}),oC=Gt(aC),lC=[9,13,27,32],kf=Jn&&"CompositionEvent"in window,Ha=null;Jn&&"documentMode"in document&&(Ha=document.documentMode);var uC=Jn&&"TextEvent"in window&&!Ha,gy=Jn&&(!kf||Ha&&8<Ha&&11>=Ha),yy=" ",vy=!1;function _y(i,s){switch(i){case"keyup":return lC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function by(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sr=!1;function cC(i,s){switch(i){case"compositionend":return by(s);case"keypress":return s.which!==32?null:(vy=!0,yy);case"textInput":return i=s.data,i===yy&&vy?null:i;default:return null}}function fC(i,s){if(Sr)return i==="compositionend"||!kf&&_y(i,s)?(i=fy(),Fl=Nf=Oi=null,Sr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gy&&s.locale!=="ko"?null:s.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!hC[i.type]:s==="textarea"}function Ey(i,s,a,l){_r?br?br.push(l):br=[l]:_r=l,s=Iu(s,"onChange"),0<s.length&&(a=new Yl("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Fa=null,Ga=null;function dC(i){n0(i,0)}function Wl(i){var s=ja(i);if(iy(s))return i}function Ty(i,s){if(i==="change")return s}var wy=!1;if(Jn){var Pf;if(Jn){var Lf="oninput"in document;if(!Lf){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),Lf=typeof xy.oninput=="function"}Pf=Lf}else Pf=!1;wy=Pf&&(!document.documentMode||9<document.documentMode)}function Cy(){Fa&&(Fa.detachEvent("onpropertychange",Ay),Ga=Fa=null)}function Ay(i){if(i.propertyName==="value"&&Wl(Ga)){var s=[];Ey(s,Ga,i,Cf(i)),cy(dC,s)}}function pC(i,s,a){i==="focusin"?(Cy(),Fa=s,Ga=a,Fa.attachEvent("onpropertychange",Ay)):i==="focusout"&&Cy()}function mC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wl(Ga)}function gC(i,s){if(i==="click")return Wl(s)}function yC(i,s){if(i==="input"||i==="change")return Wl(s)}function vC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Zt=typeof Object.is=="function"?Object.is:vC;function qa(i,s){if(Zt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ln.call(s,d)||!Zt(i[d],s[d]))return!1}return!0}function Ry(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ny(i,s){var a=Ry(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ry(a)}}function Dy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Dy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Oy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=zl(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=zl(i.document)}return s}function jf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var _C=Jn&&"documentMode"in document&&11>=document.documentMode,Er=null,Uf=null,Ya=null,Vf=!1;function My(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||Er==null||Er!==zl(l)||(l=Er,"selectionStart"in l&&jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ya&&qa(Ya,l)||(Ya=l,l=Iu(Uf,"onSelect"),0<l.length&&(s=new Yl("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Er)))}function ws(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Tr={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Bf={},Iy={};Jn&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function xs(i){if(Bf[i])return Bf[i];if(!Tr[i])return i;var s=Tr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Iy)return Bf[i]=s[a];return i}var ky=xs("animationend"),Py=xs("animationiteration"),Ly=xs("animationstart"),bC=xs("transitionrun"),SC=xs("transitionstart"),EC=xs("transitioncancel"),jy=xs("transitionend"),Uy=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function xn(i,s){Uy.set(i,s),Es(s,[i])}var Vy=new WeakMap;function hn(i,s){if(typeof i=="object"&&i!==null){var a=Vy.get(i);return a!==void 0?a:(s={value:i,source:s,stack:ty(s)},Vy.set(i,s),s)}return{value:i,source:s,stack:ty(s)}}var dn=[],wr=0,Hf=0;function $l(){for(var i=wr,s=Hf=wr=0;s<i;){var a=dn[s];dn[s++]=null;var l=dn[s];dn[s++]=null;var d=dn[s];dn[s++]=null;var m=dn[s];if(dn[s++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}m!==0&&By(a,d,m)}}function Xl(i,s,a,l){dn[wr++]=i,dn[wr++]=s,dn[wr++]=a,dn[wr++]=l,Hf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Ff(i,s,a,l){return Xl(i,s,a,l),Ql(i)}function xr(i,s){return Xl(i,null,null,s),Ql(i)}function By(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(d=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,d&&s!==null&&(d=31-tt(a),i=m.hiddenUpdates,l=i[d],l===null?i[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function Ql(i){if(50<vo)throw vo=0,$h=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Cr={};function TC(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(i,s,a,l){return new TC(i,s,a,l)}function Gf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ei(i,s){var a=i.alternate;return a===null?(a=Jt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function zy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Zl(i,s,a,l,d,m){var _=0;if(l=i,typeof i=="function")Gf(i)&&(_=1);else if(typeof i=="string")_=xA(i,a,P.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=Jt(31,a,s,d),i.elementType=J,i.lanes=m,i;case E:return Cs(a.children,d,m,s);case w:_=8,d|=24;break;case R:return i=Jt(12,a,s,d|2),i.elementType=R,i.lanes=m,i;case I:return i=Jt(13,a,s,d),i.elementType=I,i.lanes=m,i;case H:return i=Jt(19,a,s,d),i.elementType=H,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case M:_=10;break e;case D:_=9;break e;case K:_=11;break e;case q:_=14;break e;case F:_=16,l=null;break e}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Jt(_,a,s,d),s.elementType=i,s.type=l,s.lanes=m,s}function Cs(i,s,a,l){return i=Jt(7,i,l,s),i.lanes=a,i}function qf(i,s,a){return i=Jt(6,i,null,s),i.lanes=a,i}function Yf(i,s,a){return s=Jt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ar=[],Rr=0,Jl=null,eu=0,pn=[],mn=0,As=null,ti=1,ni="";function Rs(i,s){Ar[Rr++]=eu,Ar[Rr++]=Jl,Jl=i,eu=s}function Hy(i,s,a){pn[mn++]=ti,pn[mn++]=ni,pn[mn++]=As,As=i;var l=ti;i=ni;var d=32-tt(l)-1;l&=~(1<<d),a+=1;var m=32-tt(s)+d;if(30<m){var _=d-d%5;m=(l&(1<<_)-1).toString(32),l>>=_,d-=_,ti=1<<32-tt(s)+d|a<<d|l,ni=m+i}else ti=1<<m|a<<d|l,ni=i}function Kf(i){i.return!==null&&(Rs(i,1),Hy(i,1,0))}function Wf(i){for(;i===Jl;)Jl=Ar[--Rr],Ar[Rr]=null,eu=Ar[--Rr],Ar[Rr]=null;for(;i===As;)As=pn[--mn],pn[mn]=null,ni=pn[--mn],pn[mn]=null,ti=pn[--mn],pn[mn]=null}var jt=null,rt=null,Le=!1,Ns=null,Vn=!1,$f=Error(r(519));function Ds(i){var s=Error(r(418,""));throw $a(hn(s,i)),$f}function Fy(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[It]=i,s[Ft]=l,a){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(a=0;a<bo.length;a++)De(bo[a],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),sy(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Bl(s);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),ay(s,l.value,l.defaultValue,l.children),Bl(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||a0(s.textContent,a)?(l.popover!=null&&(De("beforetoggle",s),De("toggle",s)),l.onScroll!=null&&De("scroll",s),l.onScrollEnd!=null&&De("scrollend",s),l.onClick!=null&&(s.onclick=ku),s=!0):s=!1,s||Ds(i)}function Gy(i){for(jt=i.return;jt;)switch(jt.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:jt=jt.return}}function Ka(i){if(i!==jt)return!1;if(!Le)return Gy(i),Le=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||fd(i.type,i.memoizedProps)),a=!a),a&&rt&&Ds(i),Gy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){rt=An(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}rt=null}}else s===27?(s=rt,Ki(i.type)?(i=md,md=null,rt=i):rt=s):rt=jt?An(i.stateNode.nextSibling):null;return!0}function Wa(){rt=jt=null,Le=!1}function qy(){var i=Ns;return i!==null&&(Kt===null?Kt=i:Kt.push.apply(Kt,i),Ns=null),i}function $a(i){Ns===null?Ns=[i]:Ns.push(i)}var Xf=z(null),Os=null,ii=null;function Mi(i,s,a){ee(Xf,s._currentValue),s._currentValue=a}function si(i){i._currentValue=Xf.current,W(Xf)}function Qf(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Zf(i,s,a,l){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var C=0;C<s.length;C++)if(S.context===s[C]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Qf(m.return,a,i),l||(_=null);break e}m=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Qf(_,a,i),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===i){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Xa(i,s,a,l){i=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=d.type;Zt(d.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(d===te.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Co):i=[Co])}d=d.return}i!==null&&Zf(s,i,a,l),s.flags|=262144}function tu(i){for(i=i.firstContext;i!==null;){if(!Zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ms(i){Os=i,ii=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function kt(i){return Yy(Os,i)}function nu(i,s){return Os===null&&Ms(i),Yy(i,s)}function Yy(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ii===null){if(i===null)throw Error(r(308));ii=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ii=ii.next=s;return a}var wC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},xC=t.unstable_scheduleCallback,CC=t.unstable_NormalPriority,yt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new wC,data:new Map,refCount:0}}function Qa(i){i.refCount--,i.refCount===0&&xC(CC,function(){i.controller.abort()})}var Za=null,eh=0,Nr=0,Dr=null;function AC(i,s){if(Za===null){var a=Za=[];eh=0,Nr=nd(),Dr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return eh++,s.then(Ky,Ky),s}function Ky(){if(--eh===0&&Za!==null){Dr!==null&&(Dr.status="fulfilled");var i=Za;Za=null,Nr=0,Dr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function RC(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Wy=L.S;L.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&AC(i,s),Wy!==null&&Wy(i,s)};var Is=z(null);function th(){var i=Is.current;return i!==null?i:We.pooledCache}function iu(i,s){s===null?ee(Is,Is.current):ee(Is,s.pool)}function $y(){var i=th();return i===null?null:{parent:yt._currentValue,pool:i}}var Ja=Error(r(460)),Xy=Error(r(474)),su=Error(r(542)),nh={then:function(){}};function Qy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ru(){}function Zy(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ru,ru),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ev(i),i;default:if(typeof s.status=="string")s.then(ru,ru);else{if(i=We,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ev(i),i}throw eo=s,Ja}}var eo=null;function Jy(){if(eo===null)throw Error(r(459));var i=eo;return eo=null,i}function ev(i){if(i===Ja||i===su)throw Error(r(483))}var Ii=!1;function ih(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ki(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pi(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Ql(i),By(i,null,a),s}return Xl(i,l,s,a),Ql(i)}function to(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Kg(i,a)}}function rh(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var ah=!1;function no(){if(ah){var i=Dr;if(i!==null)throw i}}function io(i,s,a,l){ah=!1;var d=i.updateQueue;Ii=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var C=S,U=C.next;C.next=null,_===null?m=U:_.next=U,_=C;var G=i.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==_&&(S===null?G.firstBaseUpdate=U:S.next=U,G.lastBaseUpdate=C))}if(m!==null){var $=d.baseState;_=0,G=U=C=null,S=m;do{var V=S.lane&-536870913,B=V!==S.lane;if(B?(Ie&V)===V:(l&V)===V){V!==0&&V===Nr&&(ah=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,ce=S;V=s;var Fe=a;switch(ce.tag){case 1:if(me=ce.payload,typeof me=="function"){$=me.call(Fe,$,V);break e}$=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ce.payload,V=typeof me=="function"?me.call(Fe,$,V):me,V==null)break e;$=g({},$,V);break e;case 2:Ii=!0}}V=S.callback,V!==null&&(i.flags|=64,B&&(i.flags|=8192),B=d.callbacks,B===null?d.callbacks=[V]:B.push(V))}else B={lane:V,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(U=G=B,C=$):G=G.next=B,_|=V;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;B=S,S=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);G===null&&(C=$),d.baseState=C,d.firstBaseUpdate=U,d.lastBaseUpdate=G,m===null&&(d.shared.lanes=0),Fi|=_,i.lanes=_,i.memoizedState=$}}function tv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function nv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)tv(a[i],s)}var Or=z(null),au=z(0);function iv(i,s){i=fi,ee(au,i),ee(Or,s),fi=i|s.baseLanes}function oh(){ee(au,fi),ee(Or,Or.current)}function lh(){fi=au.current,W(Or),W(au)}var Li=0,Te=null,ze=null,dt=null,ou=!1,Mr=!1,ks=!1,lu=0,so=0,Ir=null,NC=0;function ct(){throw Error(r(321))}function uh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Zt(i[a],s[a]))return!1;return!0}function ch(i,s,a,l,d,m){return Li=m,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?Bv:zv,ks=!1,m=a(l,d),ks=!1,Mr&&(m=rv(s,a,l,d)),sv(i),m}function sv(i){L.H=pu;var s=ze!==null&&ze.next!==null;if(Li=0,dt=ze=Te=null,ou=!1,so=0,Ir=null,s)throw Error(r(300));i===null||bt||(i=i.dependencies,i!==null&&tu(i)&&(bt=!0))}function rv(i,s,a,l){Te=i;var d=0;do{if(Mr&&(Ir=null),so=0,Mr=!1,25<=d)throw Error(r(301));if(d+=1,dt=ze=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=LC,m=s(a,l)}while(Mr);return m}function DC(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?ro(s):s,i=i.useState()[0],(ze!==null?ze.memoizedState:null)!==i&&(Te.flags|=1024),s}function fh(){var i=lu!==0;return lu=0,i}function hh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function dh(i){if(ou){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ou=!1}Li=0,dt=ze=Te=null,Mr=!1,so=lu=0,Ir=null}function qt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Te.memoizedState=dt=i:dt=dt.next=i,dt}function pt(){if(ze===null){var i=Te.alternate;i=i!==null?i.memoizedState:null}else i=ze.next;var s=dt===null?Te.memoizedState:dt.next;if(s!==null)dt=s,ze=i;else{if(i===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ze=i,i={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},dt===null?Te.memoizedState=dt=i:dt=dt.next=i}return dt}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(i){var s=so;return so+=1,Ir===null&&(Ir=[]),i=Zy(Ir,i,s),s=Te,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Bv:zv),i}function uu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ro(i);if(i.$$typeof===M)return kt(i)}throw Error(r(438,String(i)))}function mh(i){var s=null,a=Te.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ph(),Te.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=ie;return s.index++,a}function ri(i,s){return typeof s=="function"?s(i):s}function cu(i){var s=pt();return gh(s,ze,i)}function gh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=i.baseQueue,m=l.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}s.baseQueue=d=m,l.pending=null}if(m=i.baseState,d===null)i.memoizedState=m;else{s=d.next;var S=_=null,C=null,U=s,G=!1;do{var $=U.lane&-536870913;if($!==U.lane?(Ie&$)===$:(Li&$)===$){var V=U.revertLane;if(V===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===Nr&&(G=!0);else if((Li&V)===V){U=U.next,V===Nr&&(G=!0);continue}else $={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(S=C=$,_=m):C=C.next=$,Te.lanes|=V,Fi|=V;$=U.action,ks&&a(m,$),m=U.hasEagerState?U.eagerState:a(m,$)}else V={lane:$,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(S=C=V,_=m):C=C.next=V,Te.lanes|=$,Fi|=$;U=U.next}while(U!==null&&U!==s);if(C===null?_=m:C.next=S,!Zt(m,i.memoizedState)&&(bt=!0,G&&(a=Dr,a!==null)))throw a;i.memoizedState=m,i.baseState=_,i.baseQueue=C,l.lastRenderedState=m}return d===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function yh(i){var s=pt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=i(m,_.action),_=_.next;while(_!==d);Zt(m,s.memoizedState)||(bt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function av(i,s,a){var l=Te,d=pt(),m=Le;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Zt((ze||d).memoizedState,a);_&&(d.memoizedState=a,bt=!0),d=d.queue;var S=uv.bind(null,l,d,i);if(ao(2048,8,S,[i]),d.getSnapshot!==s||_||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,kr(9,fu(),lv.bind(null,l,d,a,s),null),We===null)throw Error(r(349));m||(Li&124)!==0||ov(l,s,a)}return a}function ov(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Te.updateQueue,s===null?(s=ph(),Te.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function lv(i,s,a,l){s.value=a,s.getSnapshot=l,cv(s)&&fv(i)}function uv(i,s,a){return a(function(){cv(s)&&fv(i)})}function cv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Zt(i,a)}catch{return!0}}function fv(i){var s=xr(i,2);s!==null&&rn(s,i,2)}function vh(i){var s=qt();if(typeof i=="function"){var a=i;if(i=a(),ks){st(!0);try{a()}finally{st(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:i},s}function hv(i,s,a,l){return i.baseState=a,gh(i,ze,typeof l=="function"?l:ri)}function OC(i,s,a,l,d){if(du(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};L.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,dv(s,m)):(m.next=a.next,s.pending=a.next=m)}}function dv(i,s){var a=s.action,l=s.payload,d=i.state;if(s.isTransition){var m=L.T,_={};L.T=_;try{var S=a(d,l),C=L.S;C!==null&&C(_,S),pv(i,s,S)}catch(U){_h(i,s,U)}finally{L.T=m}}else try{m=a(d,l),pv(i,s,m)}catch(U){_h(i,s,U)}}function pv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mv(i,s,l)},function(l){return _h(i,s,l)}):mv(i,s,a)}function mv(i,s,a){s.status="fulfilled",s.value=a,gv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,dv(i,a)))}function _h(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,gv(s),s=s.next;while(s!==l)}i.action=null}function gv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function yv(i,s){return s}function vv(i,s){if(Le){var a=We.formState;if(a!==null){e:{var l=Te;if(Le){if(rt){t:{for(var d=rt,m=Vn;d.nodeType!==8;){if(!m){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){rt=An(d.nextSibling),l=d.data==="F!";break e}}Ds(l)}l=!1}l&&(s=a[0])}}return a=qt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:s},a.queue=l,a=jv.bind(null,Te,l),l.dispatch=a,l=vh(!1),m=wh.bind(null,Te,!1,l.queue),l=qt(),d={state:s,dispatch:null,action:i,pending:null},l.queue=d,a=OC.bind(null,Te,d,m,a),d.dispatch=a,l.memoizedState=i,[s,a,!1]}function _v(i){var s=pt();return bv(s,ze,i)}function bv(i,s,a){if(s=gh(i,s,yv)[0],i=cu(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=ro(s)}catch(_){throw _===Ja?su:_}else l=s;s=pt();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Te.flags|=2048,kr(9,fu(),MC.bind(null,d,a),null)),[l,m,i]}function MC(i,s){i.action=s}function Sv(i){var s=pt(),a=ze;if(a!==null)return bv(s,a,i);pt(),s=s.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function kr(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Te.updateQueue,s===null&&(s=ph(),Te.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function fu(){return{destroy:void 0,resource:void 0}}function Ev(){return pt().memoizedState}function hu(i,s,a,l){var d=qt();l=l===void 0?null:l,Te.flags|=i,d.memoizedState=kr(1|s,fu(),a,l)}function ao(i,s,a,l){var d=pt();l=l===void 0?null:l;var m=d.memoizedState.inst;ze!==null&&l!==null&&uh(l,ze.memoizedState.deps)?d.memoizedState=kr(s,m,a,l):(Te.flags|=i,d.memoizedState=kr(1|s,m,a,l))}function Tv(i,s){hu(8390656,8,i,s)}function wv(i,s){ao(2048,8,i,s)}function xv(i,s){return ao(4,2,i,s)}function Cv(i,s){return ao(4,4,i,s)}function Av(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Rv(i,s,a){a=a!=null?a.concat([i]):null,ao(4,4,Av.bind(null,s,i),a)}function bh(){}function Nv(i,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&uh(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Dv(i,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&uh(s,l[1]))return l[0];if(l=i(),ks){st(!0);try{i()}finally{st(!1)}}return a.memoizedState=[l,s],l}function Sh(i,s,a){return a===void 0||(Li&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=I_(),Te.lanes|=i,Fi|=i,a)}function Ov(i,s,a,l){return Zt(a,s)?a:Or.current!==null?(i=Sh(i,a,l),Zt(i,s)||(bt=!0),i):(Li&42)===0?(bt=!0,i.memoizedState=a):(i=I_(),Te.lanes|=i,Fi|=i,s)}function Mv(i,s,a,l,d){var m=Z.p;Z.p=m!==0&&8>m?m:8;var _=L.T,S={};L.T=S,wh(i,!1,s,a);try{var C=d(),U=L.S;if(U!==null&&U(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=RC(C,l);oo(i,s,G,sn(i))}else oo(i,s,l,sn(i))}catch($){oo(i,s,{then:function(){},status:"rejected",reason:$},sn())}finally{Z.p=m,L.T=_}}function IC(){}function Eh(i,s,a,l){if(i.tag!==5)throw Error(r(476));var d=Iv(i).queue;Mv(i,d,s,ae,a===null?IC:function(){return kv(i),a(l)})}function Iv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function kv(i){var s=Iv(i).next.queue;oo(i,s,{},sn())}function Th(){return kt(Co)}function Pv(){return pt().memoizedState}function Lv(){return pt().memoizedState}function kC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=sn();i=ki(a);var l=Pi(s,i,a);l!==null&&(rn(l,s,a),to(l,s,a)),s={cache:Jf()},i.payload=s;return}s=s.return}}function PC(i,s,a){var l=sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},du(i)?Uv(s,a):(a=Ff(i,s,a,l),a!==null&&(rn(a,i,l),Vv(a,s,l)))}function jv(i,s,a){var l=sn();oo(i,s,a,l)}function oo(i,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(du(i))Uv(s,d);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,S=m(_,a);if(d.hasEagerState=!0,d.eagerState=S,Zt(S,_))return Xl(i,s,d,0),We===null&&$l(),!1}catch{}finally{}if(a=Ff(i,s,d,l),a!==null)return rn(a,i,l),Vv(a,s,l),!0}return!1}function wh(i,s,a,l){if(l={lane:2,revertLane:nd(),action:l,hasEagerState:!1,eagerState:null,next:null},du(i)){if(s)throw Error(r(479))}else s=Ff(i,a,l,2),s!==null&&rn(s,i,2)}function du(i){var s=i.alternate;return i===Te||s!==null&&s===Te}function Uv(i,s){Mr=ou=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Vv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Kg(i,a)}}var pu={readContext:kt,use:uu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},Bv={readContext:kt,use:uu,useCallback:function(i,s){return qt().memoizedState=[i,s===void 0?null:s],i},useContext:kt,useEffect:Tv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,hu(4194308,4,Av.bind(null,s,i),a)},useLayoutEffect:function(i,s){return hu(4194308,4,i,s)},useInsertionEffect:function(i,s){hu(4,2,i,s)},useMemo:function(i,s){var a=qt();s=s===void 0?null:s;var l=i();if(ks){st(!0);try{i()}finally{st(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=qt();if(a!==void 0){var d=a(s);if(ks){st(!0);try{a(s)}finally{st(!1)}}}else d=s;return l.memoizedState=l.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},l.queue=i,i=i.dispatch=PC.bind(null,Te,i),[l.memoizedState,i]},useRef:function(i){var s=qt();return i={current:i},s.memoizedState=i},useState:function(i){i=vh(i);var s=i.queue,a=jv.bind(null,Te,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:bh,useDeferredValue:function(i,s){var a=qt();return Sh(a,i,s)},useTransition:function(){var i=vh(!1);return i=Mv.bind(null,Te,i.queue,!0,!1),qt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Te,d=qt();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),We===null)throw Error(r(349));(Ie&124)!==0||ov(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Tv(uv.bind(null,l,m,i),[i]),l.flags|=2048,kr(9,fu(),lv.bind(null,l,m,a,s),null),a},useId:function(){var i=qt(),s=We.identifierPrefix;if(Le){var a=ni,l=ti;a=(l&~(1<<32-tt(l)-1)).toString(32)+a,s=""+s+"R"+a,a=lu++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=NC++,s=""+s+"r"+a.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Th,useFormState:vv,useActionState:vv,useOptimistic:function(i){var s=qt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=wh.bind(null,Te,!0,a),a.dispatch=s,[i,s]},useMemoCache:mh,useCacheRefresh:function(){return qt().memoizedState=kC.bind(null,Te)}},zv={readContext:kt,use:uu,useCallback:Nv,useContext:kt,useEffect:wv,useImperativeHandle:Rv,useInsertionEffect:xv,useLayoutEffect:Cv,useMemo:Dv,useReducer:cu,useRef:Ev,useState:function(){return cu(ri)},useDebugValue:bh,useDeferredValue:function(i,s){var a=pt();return Ov(a,ze.memoizedState,i,s)},useTransition:function(){var i=cu(ri)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:ro(i),s]},useSyncExternalStore:av,useId:Pv,useHostTransitionStatus:Th,useFormState:_v,useActionState:_v,useOptimistic:function(i,s){var a=pt();return hv(a,ze,i,s)},useMemoCache:mh,useCacheRefresh:Lv},LC={readContext:kt,use:uu,useCallback:Nv,useContext:kt,useEffect:wv,useImperativeHandle:Rv,useInsertionEffect:xv,useLayoutEffect:Cv,useMemo:Dv,useReducer:yh,useRef:Ev,useState:function(){return yh(ri)},useDebugValue:bh,useDeferredValue:function(i,s){var a=pt();return ze===null?Sh(a,i,s):Ov(a,ze.memoizedState,i,s)},useTransition:function(){var i=yh(ri)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:ro(i),s]},useSyncExternalStore:av,useId:Pv,useHostTransitionStatus:Th,useFormState:Sv,useActionState:Sv,useOptimistic:function(i,s){var a=pt();return ze!==null?hv(a,ze,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:mh,useCacheRefresh:Lv},Pr=null,lo=0;function mu(i){var s=lo;return lo+=1,Pr===null&&(Pr=[]),Zy(Pr,i,s)}function uo(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function gu(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Hv(i){var s=i._init;return s(i._payload)}function Fv(i){function s(k,O){if(i){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function a(k,O){if(!i)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function d(k,O){return k=ei(k,O),k.index=0,k.sibling=null,k}function m(k,O,j){return k.index=j,i?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function S(k,O,j,Y){return O===null||O.tag!==6?(O=qf(j,k.mode,Y),O.return=k,O):(O=d(O,j),O.return=k,O)}function C(k,O,j,Y){var oe=j.type;return oe===E?G(k,O,j.props.children,Y,j.key):O!==null&&(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===F&&Hv(oe)===O.type)?(O=d(O,j.props),uo(O,j),O.return=k,O):(O=Zl(j.type,j.key,j.props,null,k.mode,Y),uo(O,j),O.return=k,O)}function U(k,O,j,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Yf(j,k.mode,Y),O.return=k,O):(O=d(O,j.children||[]),O.return=k,O)}function G(k,O,j,Y,oe){return O===null||O.tag!==7?(O=Cs(j,k.mode,Y,oe),O.return=k,O):(O=d(O,j),O.return=k,O)}function $(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=qf(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return j=Zl(O.type,O.key,O.props,null,k.mode,j),uo(j,O),j.return=k,j;case b:return O=Yf(O,k.mode,j),O.return=k,O;case F:var Y=O._init;return O=Y(O._payload),$(k,O,j)}if(pe(O)||le(O))return O=Cs(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return $(k,mu(O),j);if(O.$$typeof===M)return $(k,nu(k,O),j);gu(k,O)}return null}function V(k,O,j,Y){var oe=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return oe!==null?null:S(k,O,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return j.key===oe?C(k,O,j,Y):null;case b:return j.key===oe?U(k,O,j,Y):null;case F:return oe=j._init,j=oe(j._payload),V(k,O,j,Y)}if(pe(j)||le(j))return oe!==null?null:G(k,O,j,Y,null);if(typeof j.then=="function")return V(k,O,mu(j),Y);if(j.$$typeof===M)return V(k,O,nu(k,j),Y);gu(k,j)}return null}function B(k,O,j,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(j)||null,S(O,k,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return k=k.get(Y.key===null?j:Y.key)||null,C(O,k,Y,oe);case b:return k=k.get(Y.key===null?j:Y.key)||null,U(O,k,Y,oe);case F:var we=Y._init;return Y=we(Y._payload),B(k,O,j,Y,oe)}if(pe(Y)||le(Y))return k=k.get(j)||null,G(O,k,Y,oe,null);if(typeof Y.then=="function")return B(k,O,j,mu(Y),oe);if(Y.$$typeof===M)return B(k,O,j,nu(O,Y),oe);gu(O,Y)}return null}function me(k,O,j,Y){for(var oe=null,we=null,ue=O,he=O=0,Et=null;ue!==null&&he<j.length;he++){ue.index>he?(Et=ue,ue=null):Et=ue.sibling;var Pe=V(k,ue,j[he],Y);if(Pe===null){ue===null&&(ue=Et);break}i&&ue&&Pe.alternate===null&&s(k,ue),O=m(Pe,O,he),we===null?oe=Pe:we.sibling=Pe,we=Pe,ue=Et}if(he===j.length)return a(k,ue),Le&&Rs(k,he),oe;if(ue===null){for(;he<j.length;he++)ue=$(k,j[he],Y),ue!==null&&(O=m(ue,O,he),we===null?oe=ue:we.sibling=ue,we=ue);return Le&&Rs(k,he),oe}for(ue=l(ue);he<j.length;he++)Et=B(ue,k,he,j[he],Y),Et!==null&&(i&&Et.alternate!==null&&ue.delete(Et.key===null?he:Et.key),O=m(Et,O,he),we===null?oe=Et:we.sibling=Et,we=Et);return i&&ue.forEach(function(Zi){return s(k,Zi)}),Le&&Rs(k,he),oe}function ce(k,O,j,Y){if(j==null)throw Error(r(151));for(var oe=null,we=null,ue=O,he=O=0,Et=null,Pe=j.next();ue!==null&&!Pe.done;he++,Pe=j.next()){ue.index>he?(Et=ue,ue=null):Et=ue.sibling;var Zi=V(k,ue,Pe.value,Y);if(Zi===null){ue===null&&(ue=Et);break}i&&ue&&Zi.alternate===null&&s(k,ue),O=m(Zi,O,he),we===null?oe=Zi:we.sibling=Zi,we=Zi,ue=Et}if(Pe.done)return a(k,ue),Le&&Rs(k,he),oe;if(ue===null){for(;!Pe.done;he++,Pe=j.next())Pe=$(k,Pe.value,Y),Pe!==null&&(O=m(Pe,O,he),we===null?oe=Pe:we.sibling=Pe,we=Pe);return Le&&Rs(k,he),oe}for(ue=l(ue);!Pe.done;he++,Pe=j.next())Pe=B(ue,k,he,Pe.value,Y),Pe!==null&&(i&&Pe.alternate!==null&&ue.delete(Pe.key===null?he:Pe.key),O=m(Pe,O,he),we===null?oe=Pe:we.sibling=Pe,we=Pe);return i&&ue.forEach(function(jA){return s(k,jA)}),Le&&Rs(k,he),oe}function Fe(k,O,j,Y){if(typeof j=="object"&&j!==null&&j.type===E&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case v:e:{for(var oe=j.key;O!==null;){if(O.key===oe){if(oe=j.type,oe===E){if(O.tag===7){a(k,O.sibling),Y=d(O,j.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===F&&Hv(oe)===O.type){a(k,O.sibling),Y=d(O,j.props),uo(Y,j),Y.return=k,k=Y;break e}a(k,O);break}else s(k,O);O=O.sibling}j.type===E?(Y=Cs(j.props.children,k.mode,Y,j.key),Y.return=k,k=Y):(Y=Zl(j.type,j.key,j.props,null,k.mode,Y),uo(Y,j),Y.return=k,k=Y)}return _(k);case b:e:{for(oe=j.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(k,O.sibling),Y=d(O,j.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else s(k,O);O=O.sibling}Y=Yf(j,k.mode,Y),Y.return=k,k=Y}return _(k);case F:return oe=j._init,j=oe(j._payload),Fe(k,O,j,Y)}if(pe(j))return me(k,O,j,Y);if(le(j)){if(oe=le(j),typeof oe!="function")throw Error(r(150));return j=oe.call(j),ce(k,O,j,Y)}if(typeof j.then=="function")return Fe(k,O,mu(j),Y);if(j.$$typeof===M)return Fe(k,O,nu(k,j),Y);gu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(k,O.sibling),Y=d(O,j),Y.return=k,k=Y):(a(k,O),Y=qf(j,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,O)}return function(k,O,j,Y){try{lo=0;var oe=Fe(k,O,j,Y);return Pr=null,oe}catch(ue){if(ue===Ja||ue===su)throw ue;var we=Jt(29,ue,null,k.mode);return we.lanes=Y,we.return=k,we}finally{}}}var Lr=Fv(!0),Gv=Fv(!1),gn=z(null),Bn=null;function ji(i){var s=i.alternate;ee(vt,vt.current&1),ee(gn,i),Bn===null&&(s===null||Or.current!==null||s.memoizedState!==null)&&(Bn=i)}function qv(i){if(i.tag===22){if(ee(vt,vt.current),ee(gn,i),Bn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Bn=i)}}else Ui()}function Ui(){ee(vt,vt.current),ee(gn,gn.current)}function ai(i){W(gn),Bn===i&&(Bn=null),W(vt)}var vt=z(0);function yu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function xh(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Ch={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=sn(),d=ki(l);d.payload=s,a!=null&&(d.callback=a),s=Pi(i,d,l),s!==null&&(rn(s,i,l),to(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=sn(),d=ki(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Pi(i,d,l),s!==null&&(rn(s,i,l),to(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=sn(),l=ki(a);l.tag=2,s!=null&&(l.callback=s),s=Pi(i,l,a),s!==null&&(rn(s,i,a),to(s,i,a))}};function Yv(i,s,a,l,d,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,_):s.prototype&&s.prototype.isPureReactComponent?!qa(a,l)||!qa(d,m):!0}function Kv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Ch.enqueueReplaceState(s,s.state,null)}function Ps(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=g({},a));for(var d in i)a[d]===void 0&&(a[d]=i[d])}return a}var vu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Wv(i){vu(i)}function $v(i){console.error(i)}function Xv(i){vu(i)}function _u(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Qv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ah(i,s,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){_u(i,s)},a}function Zv(i){return i=ki(i),i.tag=3,i}function Jv(i,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;i.payload=function(){return d(m)},i.callback=function(){Qv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Qv(s,a,l),typeof d!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function jC(i,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Xa(s,a,d,!0),a=gn.current,a!==null){switch(a.tag){case 13:return Bn===null?Qh():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===nh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Jh(i,l,d)),!1;case 22:return a.flags|=65536,l===nh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Jh(i,l,d)),!1}throw Error(r(435,a.tag))}return Jh(i,l,d),Qh(),!1}if(Le)return s=gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==$f&&(i=Error(r(422),{cause:l}),$a(hn(i,a)))):(l!==$f&&(s=Error(r(423),{cause:l}),$a(hn(s,a))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,l=hn(l,a),d=Ah(i.stateNode,l,d),rh(i,d),at!==4&&(at=2)),!1;var m=Error(r(520),{cause:l});if(m=hn(m,a),yo===null?yo=[m]:yo.push(m),at!==4&&(at=2),s===null)return!0;l=hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=d&-d,a.lanes|=i,i=Ah(a.stateNode,l,i),rh(a,i),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Zv(d),Jv(d,i,a,l),rh(a,d),!1}a=a.return}while(a!==null);return!1}var e_=Error(r(461)),bt=!1;function At(i,s,a,l){s.child=i===null?Gv(s,null,a,l):Lr(s,i.child,a,l)}function t_(i,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ms(s),l=ch(i,s,a,_,m,d),S=fh(),i!==null&&!bt?(hh(i,s,d),oi(i,s,d)):(Le&&S&&Kf(s),s.flags|=1,At(i,s,l,d),s.child)}function n_(i,s,a,l,d){if(i===null){var m=a.type;return typeof m=="function"&&!Gf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,i_(i,s,m,l,d)):(i=Zl(a.type,null,l,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Ph(i,d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:qa,a(_,l)&&i.ref===s.ref)return oi(i,s,d)}return s.flags|=1,i=ei(m,l),i.ref=s.ref,i.return=s,s.child=i}function i_(i,s,a,l,d){if(i!==null){var m=i.memoizedProps;if(qa(m,l)&&i.ref===s.ref)if(bt=!1,s.pendingProps=l=m,Ph(i,d))(i.flags&131072)!==0&&(bt=!0);else return s.lanes=i.lanes,oi(i,s,d)}return Rh(i,s,a,l,d)}function s_(i,s,a){var l=s.pendingProps,d=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(d=s.child=i.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return r_(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&iu(s,m!==null?m.cachePool:null),m!==null?iv(s,m):oh(),qv(s);else return s.lanes=s.childLanes=536870912,r_(i,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(iu(s,m.cachePool),iv(s,m),Ui(),s.memoizedState=null):(i!==null&&iu(s,null),oh(),Ui());return At(i,s,d,a),s.child}function r_(i,s,a,l){var d=th();return d=d===null?null:{parent:yt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&iu(s,null),oh(),qv(s),i!==null&&Xa(i,s,l,!0),null}function bu(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Rh(i,s,a,l,d){return Ms(s),a=ch(i,s,a,l,void 0,d),l=fh(),i!==null&&!bt?(hh(i,s,d),oi(i,s,d)):(Le&&l&&Kf(s),s.flags|=1,At(i,s,a,d),s.child)}function a_(i,s,a,l,d,m){return Ms(s),s.updateQueue=null,a=rv(s,l,a,d),sv(i),l=fh(),i!==null&&!bt?(hh(i,s,m),oi(i,s,m)):(Le&&l&&Kf(s),s.flags|=1,At(i,s,a,m),s.child)}function o_(i,s,a,l,d){if(Ms(s),s.stateNode===null){var m=Cr,_=a.contextType;typeof _=="object"&&_!==null&&(m=kt(_)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ch,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},ih(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?kt(_):Cr,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(xh(s,a,_,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Ch.enqueueReplaceState(m,m.state,null),io(s,l,m,d),no(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){m=s.stateNode;var S=s.memoizedProps,C=Ps(a,S);m.props=C;var U=m.context,G=a.contextType;_=Cr,typeof G=="object"&&G!==null&&(_=kt(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||U!==_)&&Kv(s,m,l,_),Ii=!1;var V=s.memoizedState;m.state=V,io(s,l,m,d),no(),U=s.memoizedState,S||V!==U||Ii?(typeof $=="function"&&(xh(s,a,$,l),U=s.memoizedState),(C=Ii||Yv(s,a,C,l,V,U,_))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=U),m.props=l,m.state=U,m.context=_,l=C):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,sh(i,s),_=s.memoizedProps,G=Ps(a,_),m.props=G,$=s.pendingProps,V=m.context,U=a.contextType,C=Cr,typeof U=="object"&&U!==null&&(C=kt(U)),S=a.getDerivedStateFromProps,(U=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==$||V!==C)&&Kv(s,m,l,C),Ii=!1,V=s.memoizedState,m.state=V,io(s,l,m,d),no();var B=s.memoizedState;_!==$||V!==B||Ii||i!==null&&i.dependencies!==null&&tu(i.dependencies)?(typeof S=="function"&&(xh(s,a,S,l),B=s.memoizedState),(G=Ii||Yv(s,a,G,l,V,B,C)||i!==null&&i.dependencies!==null&&tu(i.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,B,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,B,C)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=B),m.props=l,m.state=B,m.context=C,l=G):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),l=!1)}return m=l,bu(i,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&l?(s.child=Lr(s,i.child,null,d),s.child=Lr(s,null,a,d)):At(i,s,a,d),s.memoizedState=m.state,i=s.child):i=oi(i,s,d),i}function l_(i,s,a,l){return Wa(),s.flags|=256,At(i,s,a,l),s.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(i){return{baseLanes:i,cachePool:$y()}}function Oh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=yn),i}function u_(i,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(vt.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(Le){if(d?ji(s):Ui(),Le){var S=rt,C;if(C=S){e:{for(C=S,S=Vn;C.nodeType!==8;){if(!S){S=null;break e}if(C=An(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(s.memoizedState={dehydrated:S,treeContext:As!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},C=Jt(18,null,null,0),C.stateNode=S,C.return=s,s.child=C,jt=s,rt=null,C=!0):C=!1}C||Ds(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return pd(S)?s.lanes=32:s.lanes=536870912,null;ai(s)}return S=l.children,l=l.fallback,d?(Ui(),d=s.mode,S=Su({mode:"hidden",children:S},d),l=Cs(l,d,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,d=s.child,d.memoizedState=Dh(a),d.childLanes=Oh(i,_,a),s.memoizedState=Nh,l):(ji(s),Mh(s,S))}if(C=i.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(m)s.flags&256?(ji(s),s.flags&=-257,s=Ih(i,s,a)):s.memoizedState!==null?(Ui(),s.child=i.child,s.flags|=128,s=null):(Ui(),d=l.fallback,S=s.mode,l=Su({mode:"visible",children:l.children},S),d=Cs(d,S,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,Lr(s,i.child,null,a),l=s.child,l.memoizedState=Dh(a),l.childLanes=Oh(i,_,a),s.memoizedState=Nh,s=d);else if(ji(s),pd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(r(419)),l.stack="",l.digest=_,$a({value:l,source:null,stack:null}),s=Ih(i,s,a)}else if(bt||Xa(i,s,a,!1),_=(a&i.childLanes)!==0,bt||_){if(_=We,_!==null&&(l=a&-a,l=(l&42)!==0?1:mf(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,xr(i,l),rn(_,i,l),e_;S.data==="$?"||Qh(),s=Ih(i,s,a)}else S.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=C.treeContext,rt=An(S.nextSibling),jt=s,Le=!0,Ns=null,Vn=!1,i!==null&&(pn[mn++]=ti,pn[mn++]=ni,pn[mn++]=As,ti=i.id,ni=i.overflow,As=s),s=Mh(s,l.children),s.flags|=4096);return s}return d?(Ui(),d=l.fallback,S=s.mode,C=i.child,U=C.sibling,l=ei(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?d=ei(U,d):(d=Cs(d,S,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,S=i.child.memoizedState,S===null?S=Dh(a):(C=S.cachePool,C!==null?(U=yt._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=$y(),S={baseLanes:S.baseLanes|a,cachePool:C}),d.memoizedState=S,d.childLanes=Oh(i,_,a),s.memoizedState=Nh,l):(ji(s),a=i.child,i=a.sibling,a=ei(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function Mh(i,s){return s=Su({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Su(i,s){return i=Jt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ih(i,s,a){return Lr(s,i.child,null,a),i=Mh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function c_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Qf(i.return,s,a)}function kh(i,s,a,l,d){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function f_(i,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(At(i,s,l.children,a),l=vt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&c_(i,a,s);else if(i.tag===19)c_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(ee(vt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)i=a.alternate,i!==null&&yu(i)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),kh(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&yu(i)===null){s.child=d;break}i=d.sibling,d.sibling=a,a=d,d=i}kh(s,!0,a,null,m);break;case"together":kh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oi(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Fi|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Xa(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=ei(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=ei(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Ph(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&tu(i)))}function UC(i,s,a){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Mi(s,yt,i.memoizedState.cache),Wa();break;case 27:case 5:Ue(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Mi(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(s),s.flags|=128,null):(a&s.child.childLanes)!==0?u_(i,s,a):(ji(s),i=oi(i,s,a),i!==null?i.sibling:null);ji(s);break;case 19:var d=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Xa(i,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return f_(i,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ee(vt,vt.current),l)break;return null;case 22:case 23:return s.lanes=0,s_(i,s,a);case 24:Mi(s,yt,i.memoizedState.cache)}return oi(i,s,a)}function h_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)bt=!0;else{if(!Ph(i,a)&&(s.flags&128)===0)return bt=!1,UC(i,s,a);bt=(i.flags&131072)!==0}else bt=!1,Le&&(s.flags&1048576)!==0&&Hy(s,eu,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")Gf(l)?(i=Ps(l,i),s.tag=1,s=o_(null,s,l,i,a)):(s.tag=0,s=Rh(null,s,l,i,a));else{if(l!=null){if(d=l.$$typeof,d===K){s.tag=11,s=t_(null,s,l,i,a);break e}else if(d===q){s.tag=14,s=n_(null,s,l,i,a);break e}}throw s=Se(l)||l,Error(r(306,s,""))}}return s;case 0:return Rh(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=Ps(l,s.pendingProps),o_(i,s,l,d,a);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,sh(i,s),io(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Mi(s,yt,l),l!==m.cache&&Zf(s,[yt],a,!0),no(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=l_(i,s,l,a);break e}else if(l!==d){d=hn(Error(r(424)),s),$a(d),s=l_(i,s,l,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=An(i.firstChild),jt=s,Le=!0,Ns=null,Vn=!0,a=Gv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wa(),l===d){s=oi(i,s,a);break e}At(i,s,l,a)}s=s.child}return s;case 26:return bu(i,s),i===null?(a=g0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Le||(a=s.type,i=s.pendingProps,l=Pu(Q.current).createElement(a),l[It]=s,l[Ft]=i,Nt(l,a,i),_t(l),s.stateNode=l):s.memoizedState=g0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ue(s),i===null&&Le&&(l=s.stateNode=d0(s.type,s.pendingProps,Q.current),jt=s,Vn=!0,d=rt,Ki(s.type)?(md=d,rt=An(l.firstChild)):rt=d),At(i,s,s.pendingProps.children,a),bu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Le&&((d=l=rt)&&(l=hA(l,s.type,s.pendingProps,Vn),l!==null?(s.stateNode=l,jt=s,rt=An(l.firstChild),Vn=!1,d=!0):d=!1),d||Ds(s)),Ue(s),d=s.type,m=s.pendingProps,_=i!==null?i.memoizedProps:null,l=m.children,fd(d,m)?l=null:_!==null&&fd(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=ch(i,s,DC,null,null,a),Co._currentValue=d),bu(i,s),At(i,s,l,a),s.child;case 6:return i===null&&Le&&((i=a=rt)&&(a=dA(a,s.pendingProps,Vn),a!==null?(s.stateNode=a,jt=s,rt=null,i=!0):i=!1),i||Ds(s)),null;case 13:return u_(i,s,a);case 4:return ve(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Lr(s,null,l,a):At(i,s,l,a),s.child;case 11:return t_(i,s,s.type,s.pendingProps,a);case 7:return At(i,s,s.pendingProps,a),s.child;case 8:return At(i,s,s.pendingProps.children,a),s.child;case 12:return At(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Mi(s,s.type,l.value),At(i,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Ms(s),d=kt(d),l=l(d),s.flags|=1,At(i,s,l,a),s.child;case 14:return n_(i,s,s.type,s.pendingProps,a);case 15:return i_(i,s,s.type,s.pendingProps,a);case 19:return f_(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=Su(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=ei(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return s_(i,s,a);case 24:return Ms(s),l=kt(yt),i===null?(d=th(),d===null&&(d=We,m=Jf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},ih(s),Mi(s,yt,d)):((i.lanes&a)!==0&&(sh(i,s),io(s,null,null,a),no()),d=i.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Mi(s,yt,l)):(l=m.cache,Mi(s,yt,l),l!==d.cache&&Zf(s,[yt],a,!0))),At(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function li(i){i.flags|=4}function d_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!S0(s)){if(s=gn.current,s!==null&&((Ie&4194048)===Ie?Bn!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||s!==Bn))throw eo=nh,Xy;i.flags|=8192}}function Eu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?qg():536870912,i.lanes|=s,Br|=s)}function co(i,s){if(!Le)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function nt(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function VC(i,s,a){var l=s.pendingProps;switch(Wf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(s),null;case 1:return nt(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),si(yt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ka(s)?li(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qy())),nt(s),null;case 26:return a=s.memoizedState,i===null?(li(s),a!==null?(nt(s),d_(s,a)):(nt(s),s.flags&=-16777217)):a?a!==i.memoizedState?(li(s),nt(s),d_(s,a)):(nt(s),s.flags&=-16777217):(i.memoizedProps!==l&&li(s),nt(s),s.flags&=-16777217),null;case 27:gt(s),a=Q.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&li(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return nt(s),null}i=P.current,Ka(s)?Fy(s):(i=d0(d,l,a),s.stateNode=i,li(s))}return nt(s),null;case 5:if(gt(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&li(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return nt(s),null}if(i=P.current,Ka(s))Fy(s);else{switch(d=Pu(Q.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}i[It]=s,i[Ft]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(Nt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&li(s)}}return nt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&li(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Q.current,Ka(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,d=jt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}i[It]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a0(i.nodeValue,a)),i||Ds(s)}else i=Pu(i).createTextNode(l),i[It]=s,s.stateNode=i}return nt(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ka(s),l!==null&&l.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[It]=s}else Wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nt(s),d=!1}else d=qy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ai(s),s):(ai(s),null)}if(ai(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),Eu(s,s.updateQueue),nt(s),null;case 4:return Ye(),i===null&&ad(s.stateNode.containerInfo),nt(s),null;case 10:return si(s.type),nt(s),null;case 19:if(W(vt),d=s.memoizedState,d===null)return nt(s),null;if(l=(s.flags&128)!==0,m=d.rendering,m===null)if(l)co(d,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=yu(i),m!==null){for(s.flags|=128,co(d,!1),i=m.updateQueue,s.updateQueue=i,Eu(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)zy(a,i),a=a.sibling;return ee(vt,vt.current&1|2),s.child}i=i.sibling}d.tail!==null&&zt()>xu&&(s.flags|=128,l=!0,co(d,!1),s.lanes=4194304)}else{if(!l)if(i=yu(m),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,Eu(s,i),co(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Le)return nt(s),null}else 2*zt()-d.renderingStartTime>xu&&a!==536870912&&(s.flags|=128,l=!0,co(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(i=d.last,i!==null?i.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=zt(),s.sibling=null,i=vt.current,ee(vt,l?i&1|2:i&1),s):(nt(s),null);case 22:case 23:return ai(s),lh(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(nt(s),s.subtreeFlags&6&&(s.flags|=8192)):nt(s),a=s.updateQueue,a!==null&&Eu(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&W(Is),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),si(yt),nt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function BC(i,s){switch(Wf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return si(yt),Ye(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return gt(s),null;case 13:if(ai(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return W(vt),null;case 4:return Ye(),null;case 10:return si(s.type),null;case 22:case 23:return ai(s),lh(),i!==null&&W(Is),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return si(yt),null;case 25:return null;default:return null}}function p_(i,s){switch(Wf(s),s.tag){case 3:si(yt),Ye();break;case 26:case 27:case 5:gt(s);break;case 4:Ye();break;case 13:ai(s);break;case 19:W(vt);break;case 10:si(s.type);break;case 22:case 23:ai(s),lh(),i!==null&&W(Is);break;case 24:si(yt)}}function fo(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&i)===i){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==d)}}catch(S){Ke(s,s.return,S)}}function Vi(i,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&i)===i){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=s;var C=a,U=S;try{U()}catch(G){Ke(d,C,G)}}}l=l.next}while(l!==m)}}catch(G){Ke(s,s.return,G)}}function m_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{nv(s,a)}catch(l){Ke(i,i.return,l)}}}function g_(i,s,a){a.props=Ps(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(i,s,l)}}function ho(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(d){Ke(i,s,d)}}function zn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ke(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ke(i,s,d)}else a.current=null}function y_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ke(i,i.return,d)}}function Lh(i,s,a){try{var l=i.stateNode;oA(l,i.type,a,s),l[Ft]=s}catch(d){Ke(i,i.return,d)}}function v_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ki(i.type)||i.tag===4}function jh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||v_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ki(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Uh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ku));else if(l!==4&&(l===27&&Ki(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Uh(i,s,a),i=i.sibling;i!==null;)Uh(i,s,a),i=i.sibling}function Tu(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Ki(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Tu(i,s,a),i=i.sibling;i!==null;)Tu(i,s,a),i=i.sibling}function __(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Nt(s,l,a),s[It]=i,s[Ft]=a}catch(m){Ke(i,i.return,m)}}var ui=!1,ft=!1,Vh=!1,b_=typeof WeakSet=="function"?WeakSet:Set,St=null;function zC(i,s){if(i=i.containerInfo,ud=zu,i=Oy(i),jf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,S=-1,C=-1,U=0,G=0,$=i,V=null;t:for(;;){for(var B;$!==a||d!==0&&$.nodeType!==3||(S=_+d),$!==m||l!==0&&$.nodeType!==3||(C=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(B=$.firstChild)!==null;)V=$,$=B;for(;;){if($===i)break t;if(V===a&&++U===d&&(S=_),V===m&&++G===l&&(C=_),(B=$.nextSibling)!==null)break;$=V,V=$.parentNode}$=B}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:i,selectionRange:a},zu=!1,St=s;St!==null;)if(s=St,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,St=i;else for(;St!==null;){switch(s=St,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var me=Ps(a.type,d,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(me,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(ce){Ke(a,a.return,ce)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)dd(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,St=i;break}St=s.return}}function S_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(i,a),l&4&&fo(5,a);break;case 1:if(Bi(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var d=Ps(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}l&64&&m_(a),l&512&&ho(a,a.return);break;case 3:if(Bi(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{nv(i,s)}catch(_){Ke(a,a.return,_)}}break;case 27:s===null&&l&4&&__(a);case 26:case 5:Bi(i,a),s===null&&l&4&&y_(a),l&512&&ho(a,a.return);break;case 12:Bi(i,a);break;case 13:Bi(i,a),l&4&&w_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=XC.bind(null,a),pA(i,a))));break;case 22:if(l=a.memoizedState!==null||ui,!l){s=s!==null&&s.memoizedState!==null||ft,d=ui;var m=ft;ui=l,(ft=s)&&!m?zi(i,a,(a.subtreeFlags&8772)!==0):Bi(i,a),ui=d,ft=m}break;case 30:break;default:Bi(i,a)}}function E_(i){var s=i.alternate;s!==null&&(i.alternate=null,E_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&vf(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ze=null,Yt=!1;function ci(i,s,a){for(a=a.child;a!==null;)T_(i,s,a),a=a.sibling}function T_(i,s,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(ke,a)}catch{}switch(a.tag){case 26:ft||zn(a,s),ci(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||zn(a,s);var l=Ze,d=Yt;Ki(a.type)&&(Ze=a.stateNode,Yt=!1),ci(i,s,a),Eo(a.stateNode),Ze=l,Yt=d;break;case 5:ft||zn(a,s);case 6:if(l=Ze,d=Yt,Ze=null,ci(i,s,a),Ze=l,Yt=d,Ze!==null)if(Yt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(m){Ke(a,s,m)}else try{Ze.removeChild(a.stateNode)}catch(m){Ke(a,s,m)}break;case 18:Ze!==null&&(Yt?(i=Ze,f0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Do(i)):f0(Ze,a.stateNode));break;case 4:l=Ze,d=Yt,Ze=a.stateNode.containerInfo,Yt=!0,ci(i,s,a),Ze=l,Yt=d;break;case 0:case 11:case 14:case 15:ft||Vi(2,a,s),ft||Vi(4,a,s),ci(i,s,a);break;case 1:ft||(zn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&g_(a,s,l)),ci(i,s,a);break;case 21:ci(i,s,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,ci(i,s,a),ft=l;break;default:ci(i,s,a)}}function w_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Do(i)}catch(a){Ke(s,s.return,a)}}function HC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new b_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new b_),s;default:throw Error(r(435,i.tag))}}function Bh(i,s){var a=HC(i);s.forEach(function(l){var d=QC.bind(null,i,l);a.has(l)||(a.add(l),l.then(d,d))})}function en(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=i,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Ki(S.type)){Ze=S.stateNode,Yt=!1;break e}break;case 5:Ze=S.stateNode,Yt=!1;break e;case 3:case 4:Ze=S.stateNode.containerInfo,Yt=!0;break e}S=S.return}if(Ze===null)throw Error(r(160));T_(m,_,d),Ze=null,Yt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)x_(s,i),s=s.sibling}var Cn=null;function x_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:en(s,i),tn(i),l&4&&(Vi(3,i,i.return),fo(3,i),Vi(5,i,i.return));break;case 1:en(s,i),tn(i),l&512&&(ft||a===null||zn(a,a.return)),l&64&&ui&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Cn;if(en(s,i),tn(i),l&512&&(ft||a===null||zn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[La]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Nt(m,l,a),m[It]=i,_t(m),l=m;break e;case"link":var _=_0("link","href",d).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}m=d.createElement(l),Nt(m,l,a),d.head.appendChild(m);break;case"meta":if(_=_0("meta","content",d).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}m=d.createElement(l),Nt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[It]=i,_t(m),l=m}i.stateNode=l}else b0(d,i.type,i.stateNode);else i.stateNode=v0(d,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?b0(d,i.type,i.stateNode):v0(d,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Lh(i,i.memoizedProps,a.memoizedProps)}break;case 27:en(s,i),tn(i),l&512&&(ft||a===null||zn(a,a.return)),a!==null&&l&4&&Lh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(en(s,i),tn(i),l&512&&(ft||a===null||zn(a,a.return)),i.flags&32){d=i.stateNode;try{vr(d,"")}catch(B){Ke(i,i.return,B)}}l&4&&i.stateNode!=null&&(d=i.memoizedProps,Lh(i,d,a!==null?a.memoizedProps:d)),l&1024&&(Vh=!0);break;case 6:if(en(s,i),tn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(B){Ke(i,i.return,B)}}break;case 3:if(Uu=null,d=Cn,Cn=Lu(s.containerInfo),en(s,i),Cn=d,tn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Do(s.containerInfo)}catch(B){Ke(i,i.return,B)}Vh&&(Vh=!1,C_(i));break;case 4:l=Cn,Cn=Lu(i.stateNode.containerInfo),en(s,i),tn(i),Cn=l;break;case 12:en(s,i),tn(i);break;case 13:en(s,i),tn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yh=zt()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Bh(i,l)));break;case 22:d=i.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=ui,G=ft;if(ui=U||d,ft=G||C,en(s,i),ft=G,ui=U,tn(i),l&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||C||ui||ft||Ls(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(m=C.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=C.stateNode;var $=C.memoizedProps.style,V=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(B){Ke(C,C.return,B)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(B){Ke(C,C.return,B)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bh(i,a))));break;case 19:en(s,i),tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Bh(i,l)));break;case 30:break;case 21:break;default:en(s,i),tn(i)}}function tn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(v_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=jh(i);Tu(i,m,d);break;case 5:var _=a.stateNode;a.flags&32&&(vr(_,""),a.flags&=-33);var S=jh(i);Tu(i,S,_);break;case 3:case 4:var C=a.stateNode.containerInfo,U=jh(i);Uh(i,U,C);break;default:throw Error(r(161))}}catch(G){Ke(i,i.return,G)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function C_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;C_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Bi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)S_(i,s.alternate,s),s=s.sibling}function Ls(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Vi(4,s,s.return),Ls(s);break;case 1:zn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&g_(s,s.return,a),Ls(s);break;case 27:Eo(s.stateNode);case 26:case 5:zn(s,s.return),Ls(s);break;case 22:s.memoizedState===null&&Ls(s);break;case 30:Ls(s);break;default:Ls(s)}i=i.sibling}}function zi(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=i,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:zi(d,m,a),fo(4,m);break;case 1:if(zi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Ke(l,l.return,U)}if(l=m,d=l.updateQueue,d!==null){var S=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)tv(C[d],S)}catch(U){Ke(l,l.return,U)}}a&&_&64&&m_(m),ho(m,m.return);break;case 27:__(m);case 26:case 5:zi(d,m,a),a&&l===null&&_&4&&y_(m),ho(m,m.return);break;case 12:zi(d,m,a);break;case 13:zi(d,m,a),a&&_&4&&w_(d,m);break;case 22:m.memoizedState===null&&zi(d,m,a),ho(m,m.return);break;case 30:break;default:zi(d,m,a)}s=s.sibling}}function zh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Qa(a))}function Hh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Qa(i))}function Hn(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)A_(i,s,a,l),s=s.sibling}function A_(i,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Hn(i,s,a,l),d&2048&&fo(9,s);break;case 1:Hn(i,s,a,l);break;case 3:Hn(i,s,a,l),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Qa(i)));break;case 12:if(d&2048){Hn(i,s,a,l),i=s.stateNode;try{var m=s.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){Ke(s,s.return,C)}}else Hn(i,s,a,l);break;case 13:Hn(i,s,a,l);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?Hn(i,s,a,l):po(i,s):m._visibility&2?Hn(i,s,a,l):(m._visibility|=2,jr(i,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&zh(_,s);break;case 24:Hn(i,s,a,l),d&2048&&Hh(s.alternate,s);break;default:Hn(i,s,a,l)}}function jr(i,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,_=s,S=a,C=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:jr(m,_,S,C,d),fo(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?jr(m,_,S,C,d):po(m,_):(G._visibility|=2,jr(m,_,S,C,d)),d&&U&2048&&zh(_.alternate,_);break;case 24:jr(m,_,S,C,d),d&&U&2048&&Hh(_.alternate,_);break;default:jr(m,_,S,C,d)}s=s.sibling}}function po(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,d=l.flags;switch(l.tag){case 22:po(a,l),d&2048&&zh(l.alternate,l);break;case 24:po(a,l),d&2048&&Hh(l.alternate,l);break;default:po(a,l)}s=s.sibling}}var mo=8192;function Ur(i){if(i.subtreeFlags&mo)for(i=i.child;i!==null;)R_(i),i=i.sibling}function R_(i){switch(i.tag){case 26:Ur(i),i.flags&mo&&i.memoizedState!==null&&AA(Cn,i.memoizedState,i.memoizedProps);break;case 5:Ur(i);break;case 3:case 4:var s=Cn;Cn=Lu(i.stateNode.containerInfo),Ur(i),Cn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=mo,mo=16777216,Ur(i),mo=s):Ur(i));break;default:Ur(i)}}function N_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function go(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];St=l,O_(l,i)}N_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)D_(i),i=i.sibling}function D_(i){switch(i.tag){case 0:case 11:case 15:go(i),i.flags&2048&&Vi(9,i,i.return);break;case 3:go(i);break;case 12:go(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,wu(i)):go(i);break;default:go(i)}}function wu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];St=l,O_(l,i)}N_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Vi(8,s,s.return),wu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,wu(s));break;default:wu(s)}i=i.sibling}}function O_(i,s){for(;St!==null;){var a=St;switch(a.tag){case 0:case 11:case 15:Vi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,St=l;else e:for(a=i;St!==null;){l=St;var d=l.sibling,m=l.return;if(E_(l),l===a){St=null;break e}if(d!==null){d.return=m,St=d;break e}St=m}}}var FC={getCacheForType:function(i){var s=kt(yt),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},GC=typeof WeakMap=="function"?WeakMap:Map,Ve=0,We=null,Ne=null,Ie=0,Be=0,nn=null,Hi=!1,Vr=!1,Fh=!1,fi=0,at=0,Fi=0,js=0,Gh=0,yn=0,Br=0,yo=null,Kt=null,qh=!1,Yh=0,xu=1/0,Cu=null,Gi=null,Rt=0,qi=null,zr=null,Hr=0,Kh=0,Wh=null,M_=null,vo=0,$h=null;function sn(){if((Ve&2)!==0&&Ie!==0)return Ie&-Ie;if(L.T!==null){var i=Nr;return i!==0?i:nd()}return Wg()}function I_(){yn===0&&(yn=(Ie&536870912)===0||Le?Gg():536870912);var i=gn.current;return i!==null&&(i.flags|=32),yn}function rn(i,s,a){(i===We&&(Be===2||Be===9)||i.cancelPendingCommit!==null)&&(Fr(i,0),Yi(i,Ie,yn,!1)),Pa(i,a),((Ve&2)===0||i!==We)&&(i===We&&((Ve&2)===0&&(js|=a),at===4&&Yi(i,Ie,yn,!1)),Fn(i))}function k_(i,s,a){if((Ve&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||ka(i,s),d=l?KC(i,s):Zh(i,s,!0),m=l;do{if(d===0){Vr&&!l&&Yi(i,s,0,!1);break}else{if(a=i.current.alternate,m&&!qC(a)){d=Zh(i,s,!1),m=!1;continue}if(d===2){if(m=s,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var S=i;d=yo;var C=S.current.memoizedState.isDehydrated;if(C&&(Fr(S,_).flags|=256),_=Zh(S,_,!1),_!==2){if(Fh&&!C){S.errorRecoveryDisabledLanes|=m,js|=m,d=4;break e}m=Kt,Kt=d,m!==null&&(Kt===null?Kt=m:Kt.push.apply(Kt,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){Fr(i,0),Yi(i,s,0,!0);break}e:{switch(l=i,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yi(l,s,yn,!Hi);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Yh+300-zt(),10<d)){if(Yi(l,s,yn,!Hi),jl(l,0,!0)!==0)break e;l.timeoutHandle=u0(P_.bind(null,l,a,Kt,Cu,qh,s,yn,js,Br,Hi,m,2,-0,0),d);break e}P_(l,a,Kt,Cu,qh,s,yn,js,Br,Hi,m,0,-0,0)}}break}while(!0);Fn(i)}function P_(i,s,a,l,d,m,_,S,C,U,G,$,V,B){if(i.timeoutHandle=-1,$=s.subtreeFlags,($&8192||($&16785408)===16785408)&&(xo={stylesheets:null,count:0,unsuspend:CA},R_(s),$=RA(),$!==null)){i.cancelPendingCommit=$(H_.bind(null,i,s,m,a,l,d,_,S,C,G,1,V,B)),Yi(i,m,_,!U);return}H_(i,s,m,a,l,d,_,S,C)}function qC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Zt(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(i,s,a,l){s&=~Gh,s&=~js,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var d=s;0<d;){var m=31-tt(d),_=1<<m;l[m]=-1,d&=~_}a!==0&&Yg(i,a,s)}function Au(){return(Ve&6)===0?(_o(0),!1):!0}function Xh(){if(Ne!==null){if(Be===0)var i=Ne.return;else i=Ne,ii=Os=null,dh(i),Pr=null,lo=0,i=Ne;for(;i!==null;)p_(i.alternate,i),i=i.return;Ne=null}}function Fr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,uA(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Xh(),We=i,Ne=a=ei(i.current,null),Ie=s,Be=0,nn=null,Hi=!1,Vr=ka(i,s),Fh=!1,Br=yn=Gh=js=Fi=at=0,Kt=yo=null,qh=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var d=31-tt(l),m=1<<d;s|=i[d],l&=~m}return fi=s,$l(),a}function L_(i,s){Te=null,L.H=pu,s===Ja||s===su?(s=Jy(),Be=3):s===Xy?(s=Jy(),Be=4):Be=s===e_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nn=s,Ne===null&&(at=1,_u(i,hn(s,i.current)))}function j_(){var i=L.H;return L.H=pu,i===null?pu:i}function U_(){var i=L.A;return L.A=FC,i}function Qh(){at=4,Hi||(Ie&4194048)!==Ie&&gn.current!==null||(Vr=!0),(Fi&134217727)===0&&(js&134217727)===0||We===null||Yi(We,Ie,yn,!1)}function Zh(i,s,a){var l=Ve;Ve|=2;var d=j_(),m=U_();(We!==i||Ie!==s)&&(Cu=null,Fr(i,s)),s=!1;var _=at;e:do try{if(Be!==0&&Ne!==null){var S=Ne,C=nn;switch(Be){case 8:Xh(),_=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(s=!0);var U=Be;if(Be=0,nn=null,Gr(i,S,C,U),a&&Vr){_=0;break e}break;default:U=Be,Be=0,nn=null,Gr(i,S,C,U)}}YC(),_=at;break}catch(G){L_(i,G)}while(!0);return s&&i.shellSuspendCounter++,ii=Os=null,Ve=l,L.H=d,L.A=m,Ne===null&&(We=null,Ie=0,$l()),_}function YC(){for(;Ne!==null;)V_(Ne)}function KC(i,s){var a=Ve;Ve|=2;var l=j_(),d=U_();We!==i||Ie!==s?(Cu=null,xu=zt()+500,Fr(i,s)):Vr=ka(i,s);e:do try{if(Be!==0&&Ne!==null){s=Ne;var m=nn;t:switch(Be){case 1:Be=0,nn=null,Gr(i,s,m,1);break;case 2:case 9:if(Qy(m)){Be=0,nn=null,B_(s);break}s=function(){Be!==2&&Be!==9||We!==i||(Be=7),Fn(i)},m.then(s,s);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Qy(m)?(Be=0,nn=null,B_(s)):(Be=0,nn=null,Gr(i,s,m,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(!_||S0(_)){Be=0,nn=null;var C=S.sibling;if(C!==null)Ne=C;else{var U=S.return;U!==null?(Ne=U,Ru(U)):Ne=null}break t}}Be=0,nn=null,Gr(i,s,m,5);break;case 6:Be=0,nn=null,Gr(i,s,m,6);break;case 8:Xh(),at=6;break e;default:throw Error(r(462))}}WC();break}catch(G){L_(i,G)}while(!0);return ii=Os=null,L.H=l,L.A=d,Ve=a,Ne!==null?0:(We=null,Ie=0,$l(),at)}function WC(){for(;Ne!==null&&!or();)V_(Ne)}function V_(i){var s=h_(i.alternate,i,fi);i.memoizedProps=i.pendingProps,s===null?Ru(i):Ne=s}function B_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=a_(a,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=a_(a,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:dh(s);default:p_(a,s),s=Ne=zy(s,fi),s=h_(a,s,fi)}i.memoizedProps=i.pendingProps,s===null?Ru(i):Ne=s}function Gr(i,s,a,l){ii=Os=null,dh(s),Pr=null,lo=0;var d=s.return;try{if(jC(i,d,s,a,Ie)){at=1,_u(i,hn(a,i.current)),Ne=null;return}}catch(m){if(d!==null)throw Ne=d,m;at=1,_u(i,hn(a,i.current)),Ne=null;return}s.flags&32768?(Le||l===1?i=!0:Vr||(Ie&536870912)!==0?i=!1:(Hi=i=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),z_(s,i)):Ru(s)}function Ru(i){var s=i;do{if((s.flags&32768)!==0){z_(s,Hi);return}i=s.return;var a=VC(s.alternate,s,fi);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=i}while(s!==null);at===0&&(at=5)}function z_(i,s){do{var a=BC(i.alternate,i);if(a!==null){a.flags&=32767,Ne=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=a}while(i!==null);at=6,Ne=null}function H_(i,s,a,l,d,m,_,S,C){i.cancelPendingCommit=null;do Nu();while(Rt!==0);if((Ve&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Hf,Cx(i,a,m,_,S,C),i===We&&(Ne=We=null,Ie=0),zr=s,qi=i,Hr=a,Kh=m,Wh=d,M_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZC(Qn,function(){return K_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,d=Z.p,Z.p=2,_=Ve,Ve|=4;try{zC(i,s,a)}finally{Ve=_,Z.p=d,L.T=l}}Rt=1,F_(),G_(),q_()}}function F_(){if(Rt===1){Rt=0;var i=qi,s=zr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=Z.p;Z.p=2;var d=Ve;Ve|=4;try{x_(s,i);var m=cd,_=Oy(i.containerInfo),S=m.focusedElem,C=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&Dy(S.ownerDocument.documentElement,S)){if(C!==null&&jf(S)){var U=C.start,G=C.end;if(G===void 0&&(G=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(G,S.value.length);else{var $=S.ownerDocument||document,V=$&&$.defaultView||window;if(V.getSelection){var B=V.getSelection(),me=S.textContent.length,ce=Math.min(C.start,me),Fe=C.end===void 0?ce:Math.min(C.end,me);!B.extend&&ce>Fe&&(_=Fe,Fe=ce,ce=_);var k=Ny(S,ce),O=Ny(S,Fe);if(k&&O&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var j=$.createRange();j.setStart(k.node,k.offset),B.removeAllRanges(),ce>Fe?(B.addRange(j),B.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),B.addRange(j))}}}}for($=[],B=S;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var Y=$[S];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}zu=!!ud,cd=ud=null}finally{Ve=d,Z.p=l,L.T=a}}i.current=s,Rt=2}}function G_(){if(Rt===2){Rt=0;var i=qi,s=zr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=Z.p;Z.p=2;var d=Ve;Ve|=4;try{S_(i,s.alternate,s)}finally{Ve=d,Z.p=l,L.T=a}}Rt=3}}function q_(){if(Rt===4||Rt===3){Rt=0,Xn();var i=qi,s=zr,a=Hr,l=M_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Rt=5:(Rt=0,zr=qi=null,Y_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Gi=null),gf(a),s=s.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(ke,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=L.T,d=Z.p,Z.p=2,L.T=null;try{for(var m=i.onRecoverableError,_=0;_<l.length;_++){var S=l[_];m(S.value,{componentStack:S.stack})}}finally{L.T=s,Z.p=d}}(Hr&3)!==0&&Nu(),Fn(i),d=i.pendingLanes,(a&4194090)!==0&&(d&42)!==0?i===$h?vo++:(vo=0,$h=i):vo=0,_o(0)}}function Y_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Qa(s)))}function Nu(i){return F_(),G_(),q_(),K_()}function K_(){if(Rt!==5)return!1;var i=qi,s=Kh;Kh=0;var a=gf(Hr),l=L.T,d=Z.p;try{Z.p=32>a?32:a,L.T=null,a=Wh,Wh=null;var m=qi,_=Hr;if(Rt=0,zr=qi=null,Hr=0,(Ve&6)!==0)throw Error(r(331));var S=Ve;if(Ve|=4,D_(m.current),A_(m,m.current,_,a),Ve=S,_o(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(ke,m)}catch{}return!0}finally{Z.p=d,L.T=l,Y_(i,s)}}function W_(i,s,a){s=hn(a,s),s=Ah(i.stateNode,s,2),i=Pi(i,s,2),i!==null&&(Pa(i,2),Fn(i))}function Ke(i,s,a){if(i.tag===3)W_(i,i,a);else for(;s!==null;){if(s.tag===3){W_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){i=hn(a,i),a=Zv(2),l=Pi(s,a,2),l!==null&&(Jv(a,l,s,i),Pa(l,2),Fn(l));break}}s=s.return}}function Jh(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new GC;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(Fh=!0,d.add(a),i=$C.bind(null,i,s,a),s.then(i,i))}function $C(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,We===i&&(Ie&a)===a&&(at===4||at===3&&(Ie&62914560)===Ie&&300>zt()-Yh?(Ve&2)===0&&Fr(i,0):Gh|=a,Br===Ie&&(Br=0)),Fn(i)}function $_(i,s){s===0&&(s=qg()),i=xr(i,s),i!==null&&(Pa(i,s),Fn(i))}function XC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),$_(i,a)}function QC(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,d=i.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),$_(i,a)}function ZC(i,s){return wn(i,s)}var Du=null,qr=null,ed=!1,Ou=!1,td=!1,Us=0;function Fn(i){i!==qr&&i.next===null&&(qr===null?Du=qr=i:qr=qr.next=i),Ou=!0,ed||(ed=!0,eA())}function _o(i,s){if(!td&&Ou){td=!0;do for(var a=!1,l=Du;l!==null;){if(i!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var _=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-tt(42|i)+1)-1,m&=d&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,J_(l,m))}else m=Ie,m=jl(l,l===We?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ka(l,m)||(a=!0,J_(l,m));l=l.next}while(a);td=!1}}function JC(){X_()}function X_(){Ou=ed=!1;var i=0;Us!==0&&(lA()&&(i=Us),Us=0);for(var s=zt(),a=null,l=Du;l!==null;){var d=l.next,m=Q_(l,s);m===0?(l.next=null,a===null?Du=d:a.next=d,d===null&&(qr=a)):(a=l,(i!==0||(m&3)!==0)&&(Ou=!0)),l=d}_o(i)}function Q_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,d=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-tt(m),S=1<<_,C=d[_];C===-1?((S&a)===0||(S&l)!==0)&&(d[_]=xx(S,s)):C<=s&&(i.expiredLanes|=S),m&=~S}if(s=We,a=Ie,a=jl(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Be===2||Be===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ka(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&un(l),gf(a)){case 2:case 8:a=cr;break;case 32:a=Qn;break;case 268435456:a=fe;break;default:a=Qn}return l=Z_.bind(null,i),a=wn(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&un(l),i.callbackPriority=2,i.callbackNode=null,2}function Z_(i,s){if(Rt!==0&&Rt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Nu()&&i.callbackNode!==a)return null;var l=Ie;return l=jl(i,i===We?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(k_(i,l,s),Q_(i,zt()),i.callbackNode!=null&&i.callbackNode===a?Z_.bind(null,i):null)}function J_(i,s){if(Nu())return null;k_(i,s,!0)}function eA(){cA(function(){(Ve&6)!==0?wn(ur,JC):X_()})}function nd(){return Us===0&&(Us=Gg()),Us}function e0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Hl(""+i)}function t0(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function tA(i,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=e0((d[Ft]||null).action),_=l.submitter;_&&(s=(s=_[Ft]||null)?e0(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var S=new Yl("action","action",null,l,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var C=_?t0(d,_):new FormData(d);Eh(a,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(S.preventDefault(),C=_?t0(d,_):new FormData(d),Eh(a,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var id=0;id<zf.length;id++){var sd=zf[id],nA=sd.toLowerCase(),iA=sd[0].toUpperCase()+sd.slice(1);xn(nA,"on"+iA)}xn(ky,"onAnimationEnd"),xn(Py,"onAnimationIteration"),xn(Ly,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(bC,"onTransitionRun"),xn(SC,"onTransitionStart"),xn(EC,"onTransitionCancel"),xn(jy,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function n0(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,U=S.currentTarget;if(S=S.listener,C!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=U;try{m(d)}catch(G){vu(G)}d.currentTarget=null,m=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,U=S.currentTarget,S=S.listener,C!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=U;try{m(d)}catch(G){vu(G)}d.currentTarget=null,m=C}}}}function De(i,s){var a=s[yf];a===void 0&&(a=s[yf]=new Set);var l=i+"__bubble";a.has(l)||(i0(s,i,2,!1),a.add(l))}function rd(i,s,a){var l=0;s&&(l|=4),i0(a,i,l,s)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function ad(i){if(!i[Mu]){i[Mu]=!0,Xg.forEach(function(a){a!=="selectionchange"&&(sA.has(a)||rd(a,!1,i),rd(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Mu]||(s[Mu]=!0,rd("selectionchange",!1,s))}}function i0(i,s,a,l){switch(A0(s)){case 2:var d=OA;break;case 8:d=MA;break;default:d=bd}a=d.bind(null,s,a,i),d=void 0,!Rf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?i.addEventListener(s,a,{capture:!0,passive:d}):i.addEventListener(s,a,!0):d!==void 0?i.addEventListener(s,a,{passive:d}):i.addEventListener(s,a,!1)}function od(i,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=hr(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=m=_;continue e}S=S.parentNode}}l=l.return}cy(function(){var U=m,G=Cf(a),$=[];e:{var V=Uy.get(i);if(V!==void 0){var B=Yl,me=i;switch(i){case"keypress":if(Gl(a)===0)break e;case"keydown":case"keyup":B=Zx;break;case"focusin":me="focus",B=Mf;break;case"focusout":me="blur",B=Mf;break;case"beforeblur":case"afterblur":B=Mf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=tC;break;case ky:case Py:case Ly:B=Fx;break;case jy:B=iC;break;case"scroll":case"scrollend":B=Ux;break;case"wheel":B=rC;break;case"copy":case"cut":case"paste":B=qx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=my;break;case"toggle":case"beforetoggle":B=oC}var ce=(s&4)!==0,Fe=!ce&&(i==="scroll"||i==="scrollend"),k=ce?V!==null?V+"Capture":null:V;ce=[];for(var O=U,j;O!==null;){var Y=O;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||k===null||(Y=Ua(O,k),Y!=null&&ce.push(So(O,Y,j))),Fe)break;O=O.return}0<ce.length&&(V=new B(V,me,null,a,G),$.push({event:V,listeners:ce}))}}if((s&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",B=i==="mouseout"||i==="pointerout",V&&a!==xf&&(me=a.relatedTarget||a.fromElement)&&(hr(me)||me[fr]))break e;if((B||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,B?(me=a.relatedTarget||a.toElement,B=U,me=me?hr(me):null,me!==null&&(Fe=u(me),ce=me.tag,me!==Fe||ce!==5&&ce!==27&&ce!==6)&&(me=null)):(B=null,me=U),B!==me)){if(ce=dy,Y="onMouseLeave",k="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(ce=my,Y="onPointerLeave",k="onPointerEnter",O="pointer"),Fe=B==null?V:ja(B),j=me==null?V:ja(me),V=new ce(Y,O+"leave",B,a,G),V.target=Fe,V.relatedTarget=j,Y=null,hr(G)===U&&(ce=new ce(k,O+"enter",me,a,G),ce.target=j,ce.relatedTarget=Fe,Y=ce),Fe=Y,B&&me)t:{for(ce=B,k=me,O=0,j=ce;j;j=Yr(j))O++;for(j=0,Y=k;Y;Y=Yr(Y))j++;for(;0<O-j;)ce=Yr(ce),O--;for(;0<j-O;)k=Yr(k),j--;for(;O--;){if(ce===k||k!==null&&ce===k.alternate)break t;ce=Yr(ce),k=Yr(k)}ce=null}else ce=null;B!==null&&s0($,V,B,ce,!1),me!==null&&Fe!==null&&s0($,Fe,me,ce,!0)}}e:{if(V=U?ja(U):window,B=V.nodeName&&V.nodeName.toLowerCase(),B==="select"||B==="input"&&V.type==="file")var oe=Ty;else if(Sy(V))if(wy)oe=yC;else{oe=mC;var we=pC}else B=V.nodeName,!B||B.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?U&&wf(U.elementType)&&(oe=Ty):oe=gC;if(oe&&(oe=oe(i,U))){Ey($,oe,a,G);break e}we&&we(i,V,U),i==="focusout"&&U&&V.type==="number"&&U.memoizedProps.value!=null&&Tf(V,"number",V.value)}switch(we=U?ja(U):window,i){case"focusin":(Sy(we)||we.contentEditable==="true")&&(Er=we,Uf=U,Ya=null);break;case"focusout":Ya=Uf=Er=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,My($,a,G);break;case"selectionchange":if(_C)break;case"keydown":case"keyup":My($,a,G)}var ue;if(kf)e:{switch(i){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Sr?_y(i,a)&&(he="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(gy&&a.locale!=="ko"&&(Sr||he!=="onCompositionStart"?he==="onCompositionEnd"&&Sr&&(ue=fy()):(Oi=G,Nf="value"in Oi?Oi.value:Oi.textContent,Sr=!0)),we=Iu(U,he),0<we.length&&(he=new py(he,i,null,a,G),$.push({event:he,listeners:we}),ue?he.data=ue:(ue=by(a),ue!==null&&(he.data=ue)))),(ue=uC?cC(i,a):fC(i,a))&&(he=Iu(U,"onBeforeInput"),0<he.length&&(we=new py("onBeforeInput","beforeinput",null,a,G),$.push({event:we,listeners:he}),we.data=ue)),tA($,i,U,a,G)}n0($,s)})}function So(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Iu(i,s){for(var a=s+"Capture",l=[];i!==null;){var d=i,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ua(i,a),d!=null&&l.unshift(So(i,d,m)),d=Ua(i,s),d!=null&&l.push(So(i,d,m))),i.tag===3)return l;i=i.return}return[]}function Yr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function s0(i,s,a,l,d){for(var m=s._reactName,_=[];a!==null&&a!==l;){var S=a,C=S.alternate,U=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||U===null||(C=U,d?(U=Ua(a,m),U!=null&&_.unshift(So(a,U,C))):d||(U=Ua(a,m),U!=null&&_.push(So(a,U,C)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var rA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function r0(i){return(typeof i=="string"?i:""+i).replace(rA,`
`).replace(aA,"")}function a0(i,s){return s=r0(s),r0(i)===s}function ku(){}function He(i,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||vr(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&vr(i,""+l);break;case"className":Vl(i,"class",l);break;case"tabIndex":Vl(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(i,a,l);break;case"style":ly(i,l,m);break;case"data":if(s!=="object"){Vl(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Hl(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&He(i,s,"name",d.name,d,null),He(i,s,"formEncType",d.formEncType,d,null),He(i,s,"formMethod",d.formMethod,d,null),He(i,s,"formTarget",d.formTarget,d,null)):(He(i,s,"encType",d.encType,d,null),He(i,s,"method",d.method,d,null),He(i,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Hl(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ku);break;case"onScroll":l!=null&&De("scroll",i);break;case"onScrollEnd":l!=null&&De("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Hl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":De("beforetoggle",i),De("toggle",i),Ul(i,"popover",l);break;case"xlinkActuate":Zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ul(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lx.get(a)||a,Ul(i,a,l))}}function ld(i,s,a,l,d,m){switch(a){case"style":ly(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?vr(i,l):(typeof l=="number"||typeof l=="bigint")&&vr(i,""+l);break;case"onScroll":l!=null&&De("scroll",i);break;case"onScrollEnd":l!=null&&De("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=i[Ft]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,d);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ul(i,a,l)}}}function Nt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",i),De("load",i);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,m,_,a,null)}}d&&He(i,s,"srcSet",a.srcSet,a,null),l&&He(i,s,"src",a.src,a,null);return;case"input":De("invalid",i);var S=m=_=d=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":d=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":U=G;break;case"value":m=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:He(i,s,l,G,a,null)}}sy(i,m,S,C,U,_,d,!1),Bl(i);return;case"select":De("invalid",i),l=_=m=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:He(i,s,d,S,a,null)}s=m,a=_,i.multiple=!!l,s!=null?yr(i,!!l,s,!1):a!=null&&yr(i,!!l,a,!0);return;case"textarea":De("invalid",i),m=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:He(i,s,_,S,a,null)}ay(i,l,d,m),Bl(i);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:He(i,s,C,l,a,null)}return;case"dialog":De("beforetoggle",i),De("toggle",i),De("cancel",i),De("close",i);break;case"iframe":case"object":De("load",i);break;case"video":case"audio":for(l=0;l<bo.length;l++)De(bo[l],i);break;case"image":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"embed":case"source":case"link":De("error",i),De("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,U,l,a,null)}return;default:if(wf(s)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&ld(i,s,G,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&He(i,s,S,l,a,null))}function oA(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,S=null,C=null,U=null,G=null;for(B in a){var $=a[B];if(a.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(B)||He(i,s,B,null,l,$)}}for(var V in l){var B=l[V];if($=a[V],l.hasOwnProperty(V)&&(B!=null||$!=null))switch(V){case"type":m=B;break;case"name":d=B;break;case"checked":U=B;break;case"defaultChecked":G=B;break;case"value":_=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:B!==$&&He(i,s,V,B,l,$)}}Ef(i,_,S,C,U,G,m,d);return;case"select":B=_=S=V=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":B=C;default:l.hasOwnProperty(m)||He(i,s,m,null,l,C)}for(d in l)if(m=l[d],C=a[d],l.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":V=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==C&&He(i,s,d,m,l,C)}s=S,a=_,l=B,V!=null?yr(i,!!a,V,!1):!!l!=!!a&&(s!=null?yr(i,!!a,s,!0):yr(i,!!a,a?[]:"",!1));return;case"textarea":B=V=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:He(i,s,S,null,l,d)}for(_ in l)if(d=l[_],m=a[_],l.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":V=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&He(i,s,_,d,l,m)}ry(i,V,B);return;case"option":for(var me in a)if(V=a[me],a.hasOwnProperty(me)&&V!=null&&!l.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:He(i,s,me,null,l,V)}for(C in l)if(V=l[C],B=a[C],l.hasOwnProperty(C)&&V!==B&&(V!=null||B!=null))switch(C){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:He(i,s,C,V,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)V=a[ce],a.hasOwnProperty(ce)&&V!=null&&!l.hasOwnProperty(ce)&&He(i,s,ce,null,l,V);for(U in l)if(V=l[U],B=a[U],l.hasOwnProperty(U)&&V!==B&&(V!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:He(i,s,U,V,l,B)}return;default:if(wf(s)){for(var Fe in a)V=a[Fe],a.hasOwnProperty(Fe)&&V!==void 0&&!l.hasOwnProperty(Fe)&&ld(i,s,Fe,void 0,l,V);for(G in l)V=l[G],B=a[G],!l.hasOwnProperty(G)||V===B||V===void 0&&B===void 0||ld(i,s,G,V,l,B);return}}for(var k in a)V=a[k],a.hasOwnProperty(k)&&V!=null&&!l.hasOwnProperty(k)&&He(i,s,k,null,l,V);for($ in l)V=l[$],B=a[$],!l.hasOwnProperty($)||V===B||V==null&&B==null||He(i,s,$,V,l,B)}var ud=null,cd=null;function Pu(i){return i.nodeType===9?i:i.ownerDocument}function o0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function fd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hd=null;function lA(){var i=window.event;return i&&i.type==="popstate"?i===hd?!1:(hd=i,!0):(hd=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(i){return c0.resolve(null).then(i).catch(fA)}:u0;function fA(i){setTimeout(function(){throw i})}function Ki(i){return i==="head"}function f0(i,s){var a=s,l=0,d=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var _=i.ownerDocument;if(a&1&&Eo(_.documentElement),a&2&&Eo(_.body),a&4)for(a=_.head,Eo(a),_=a.firstChild;_;){var S=_.nextSibling,C=_.nodeName;_[La]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=S}}if(d===0){i.removeChild(m),Do(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Do(s)}function dd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),vf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function hA(i,s,a,l){for(;i.nodeType===1;){var d=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[La])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function dA(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=An(i.nextSibling),i===null))return null;return i}function pd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function pA(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function An(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var md=null;function h0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function d0(i,s,a){switch(s=Pu(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Eo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);vf(i)}var vn=new Map,p0=new Set;function Lu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hi=Z.d;Z.d={f:mA,r:gA,D:yA,C:vA,L:_A,m:bA,X:EA,S:SA,M:TA};function mA(){var i=hi.f(),s=Au();return i||s}function gA(i){var s=dr(i);s!==null&&s.tag===5&&s.type==="form"?kv(s):hi.r(i)}var Kr=typeof document>"u"?null:document;function m0(i,s,a){var l=Kr;if(l&&typeof s=="string"&&s){var d=fn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),p0.has(d)||(p0.add(d),i={rel:i,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Nt(s,"link",i),_t(s),l.head.appendChild(s)))}}function yA(i){hi.D(i),m0("dns-prefetch",i,null)}function vA(i,s){hi.C(i,s),m0("preconnect",i,s)}function _A(i,s,a){hi.L(i,s,a);var l=Kr;if(l&&i&&s){var d='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+fn(a.imageSizes)+'"]')):d+='[href="'+fn(i)+'"]';var m=d;switch(s){case"style":m=Wr(i);break;case"script":m=$r(i)}vn.has(m)||(i=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),vn.set(m,i),l.querySelector(d)!==null||s==="style"&&l.querySelector(To(m))||s==="script"&&l.querySelector(wo(m))||(s=l.createElement("link"),Nt(s,"link",i),_t(s),l.head.appendChild(s)))}}function bA(i,s){hi.m(i,s);var a=Kr;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(i)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$r(i)}if(!vn.has(m)&&(i=g({rel:"modulepreload",href:i},s),vn.set(m,i),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wo(m)))return}l=a.createElement("link"),Nt(l,"link",i),_t(l),a.head.appendChild(l)}}}function SA(i,s,a){hi.S(i,s,a);var l=Kr;if(l&&i){var d=pr(l).hoistableStyles,m=Wr(i);s=s||"default";var _=d.get(m);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(To(m)))S.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},a),(a=vn.get(m))&&gd(i,a);var C=_=l.createElement("link");_t(C),Nt(C,"link",i),C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ju(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(m,_)}}}function EA(i,s){hi.X(i,s);var a=Kr;if(a&&i){var l=pr(a).hoistableScripts,d=$r(i),m=l.get(d);m||(m=a.querySelector(wo(d)),m||(i=g({src:i,async:!0},s),(s=vn.get(d))&&yd(i,s),m=a.createElement("script"),_t(m),Nt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function TA(i,s){hi.M(i,s);var a=Kr;if(a&&i){var l=pr(a).hoistableScripts,d=$r(i),m=l.get(d);m||(m=a.querySelector(wo(d)),m||(i=g({src:i,async:!0,type:"module"},s),(s=vn.get(d))&&yd(i,s),m=a.createElement("script"),_t(m),Nt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function g0(i,s,a,l){var d=(d=Q.current)?Lu(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Wr(a.href),a=pr(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Wr(a.href);var m=pr(d).hoistableStyles,_=m.get(i);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=d.querySelector(To(i)))&&!m._p&&(_.instance=m,_.state.loading=5),vn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vn.set(i,a),m||wA(d,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$r(a),a=pr(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wr(i){return'href="'+fn(i)+'"'}function To(i){return'link[rel="stylesheet"]['+i+"]"}function y0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function wA(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Nt(s,"link",a),_t(s),i.head.appendChild(s))}function $r(i){return'[src="'+fn(i)+'"]'}function wo(i){return"script[async]"+i}function v0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,_t(l),l;var d=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),_t(l),Nt(l,"style",d),ju(l,a.precedence,i),s.instance=l;case"stylesheet":d=Wr(a.href);var m=i.querySelector(To(d));if(m)return s.state.loading|=4,s.instance=m,_t(m),m;l=y0(a),(d=vn.get(d))&&gd(l,d),m=(i.ownerDocument||i).createElement("link"),_t(m);var _=m;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Nt(m,"link",l),s.state.loading|=4,ju(m,a.precedence,i),s.instance=m;case"script":return m=$r(a.src),(d=i.querySelector(wo(m)))?(s.instance=d,_t(d),d):(l=a,(d=vn.get(m))&&(l=g({},a),yd(l,d)),i=i.ownerDocument||i,d=i.createElement("script"),_t(d),Nt(d,"link",l),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ju(l,a.precedence,i));return s.instance}function ju(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function gd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function yd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Uu=null;function _0(i,s,a){if(Uu===null){var l=new Map,d=Uu=new Map;d.set(a,l)}else d=Uu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),d=0;d<a.length;d++){var m=a[d];if(!(m[La]||m[It]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=i+_;var S=l.get(_);S?S.push(m):l.set(_,[m])}}return l}function b0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function xA(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var xo=null;function CA(){}function AA(i,s,a){if(xo===null)throw Error(r(475));var l=xo;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Wr(a.href),m=i.querySelector(To(d));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Vu.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=m,_t(m);return}m=i.ownerDocument||i,a=y0(a),(d=vn.get(d))&&gd(a,d),m=m.createElement("link"),_t(m);var _=m;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Nt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Vu.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function RA(){if(xo===null)throw Error(r(475));var i=xo;return i.stylesheets&&i.count===0&&vd(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&vd(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bu=null;function vd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bu=new Map,s.forEach(NA,i),Bu=null,Vu.call(i))}function NA(i,s){if(!(s.state.loading&4)){var a=Bu.get(i);if(a)var l=a.get(null);else{a=new Map,Bu.set(i,a);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=s.instance,_=d.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,d),a.set(_,d),this.count++,l=Vu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Co={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function DA(i,s,a,l,d,m,_,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.hiddenUpdates=pf(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function E0(i,s,a,l,d,m,_,S,C,U,G,$){return i=new DA(i,s,a,_,S,C,U,$),s=1,m===!0&&(s|=24),m=Jt(3,null,null,s),i.current=m,m.stateNode=i,s=Jf(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},ih(m),i}function T0(i){return i?(i=Cr,i):Cr}function w0(i,s,a,l,d,m){d=T0(d),l.context===null?l.context=d:l.pendingContext=d,l=ki(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Pi(i,l,s),a!==null&&(rn(a,i,s),to(a,i,s))}function x0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function _d(i,s){x0(i,s),(i=i.alternate)&&x0(i,s)}function C0(i){if(i.tag===13){var s=xr(i,67108864);s!==null&&rn(s,i,67108864),_d(i,67108864)}}var zu=!0;function OA(i,s,a,l){var d=L.T;L.T=null;var m=Z.p;try{Z.p=2,bd(i,s,a,l)}finally{Z.p=m,L.T=d}}function MA(i,s,a,l){var d=L.T;L.T=null;var m=Z.p;try{Z.p=8,bd(i,s,a,l)}finally{Z.p=m,L.T=d}}function bd(i,s,a,l){if(zu){var d=Sd(l);if(d===null)od(i,s,l,Hu,a),R0(i,l);else if(kA(d,i,s,a,l))l.stopPropagation();else if(R0(i,l),s&4&&-1<IA.indexOf(i)){for(;d!==null;){var m=dr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Ss(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-tt(_);S.entanglements[1]|=C,_&=~C}Fn(m),(Ve&6)===0&&(xu=zt()+500,_o(0))}}break;case 13:S=xr(m,2),S!==null&&rn(S,m,2),Au(),_d(m,2)}if(m=Sd(l),m===null&&od(i,s,l,Hu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else od(i,s,l,null,a)}}function Sd(i){return i=Cf(i),Ed(i)}var Hu=null;function Ed(i){if(Hu=null,i=hr(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Hu=i,null}function A0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case ur:return 2;case cr:return 8;case Qn:case X:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Td=!1,Wi=null,$i=null,Xi=null,Ao=new Map,Ro=new Map,Qi=[],IA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(i,s){switch(i){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ao.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(s.pointerId)}}function No(i,s,a,l,d,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=dr(s),s!==null&&C0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function kA(i,s,a,l,d){switch(s){case"focusin":return Wi=No(Wi,i,s,a,l,d),!0;case"dragenter":return $i=No($i,i,s,a,l,d),!0;case"mouseover":return Xi=No(Xi,i,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ao.set(m,No(Ao.get(m)||null,i,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Ro.set(m,No(Ro.get(m)||null,i,s,a,l,d)),!0}return!1}function N0(i){var s=hr(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Ax(i.priority,function(){if(a.tag===13){var l=sn();l=mf(l);var d=xr(a,l);d!==null&&rn(d,a,l),_d(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Sd(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);xf=l,a.target.dispatchEvent(l),xf=null}else return s=dr(a),s!==null&&C0(s),i.blockedOn=a,!1;s.shift()}return!0}function D0(i,s,a){Fu(i)&&a.delete(s)}function PA(){Td=!1,Wi!==null&&Fu(Wi)&&(Wi=null),$i!==null&&Fu($i)&&($i=null),Xi!==null&&Fu(Xi)&&(Xi=null),Ao.forEach(D0),Ro.forEach(D0)}function Gu(i,s){i.blockedOn===s&&(i.blockedOn=null,Td||(Td=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PA)))}var qu=null;function O0(i){qu!==i&&(qu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qu===i&&(qu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],d=i[s+2];if(typeof l!="function"){if(Ed(l||a)===null)continue;break}var m=dr(a);m!==null&&(i.splice(s,3),s-=3,Eh(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Do(i){function s(C){return Gu(C,i)}Wi!==null&&Gu(Wi,i),$i!==null&&Gu($i,i),Xi!==null&&Gu(Xi,i),Ao.forEach(s),Ro.forEach(s);for(var a=0;a<Qi.length;a++){var l=Qi[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)N0(a),a.blockedOn===null&&Qi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],_=d[Ft]||null;if(typeof m=="function")_||O0(a);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[Ft]||null)S=_.formAction;else if(Ed(d)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),O0(a)}}}function wd(i){this._internalRoot=i}Yu.prototype.render=wd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=sn();w0(a,l,i,s,null,null)},Yu.prototype.unmount=wd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;w0(i.current,2,null,i,null,null),Au(),s[fr]=null}};function Yu(i){this._internalRoot=i}Yu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Wg();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Qi.length&&s!==0&&s<Qi[a].priority;a++);Qi.splice(a,0,i),a===0&&N0(i)}};var M0=e.version;if(M0!=="19.1.1")throw Error(r(527,M0,"19.1.1"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var LA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{ke=Ku.inject(LA),Me=Ku}catch{}}return Mo.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",d=Wv,m=$v,_=Xv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=E0(i,1,!1,null,null,a,l,d,m,_,S,null),i[fr]=s.current,ad(i),new wd(s)},Mo.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,d="",m=Wv,_=$v,S=Xv,C=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),s=E0(i,1,!0,s,a??null,l,d,m,_,S,C,U),s.context=T0(null),a=s.current,l=sn(),l=mf(l),d=ki(l),d.callback=null,Pi(a,d,l),a=l,s.current.lanes=a,Pa(s,a),Fn(s),i[fr]=s.current,ad(i),new Yu(s)},Mo.version="19.1.1",Mo}var H0;function KA(){if(H0)return Ad.exports;H0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ad.exports=YA(),Ad.exports}var WA=KA();const $A=sm(WA);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F0="popstate";function XA(t={}){function e(r,o){let{pathname:u,search:c,hash:f}=r.location;return cp("",{pathname:u,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:tl(o)}return ZA(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substring(2,10)}function G0(t,e){return{usr:t.state,key:t.key,idx:e}}function cp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||r||QA()}}function tl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZA(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,f="POP",p=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function y(){f="POP";let R=g(),N=R==null?null:R-h;h=R,p&&p({action:f,location:w.location,delta:N})}function v(R,N){f="PUSH";let D=cp(w.location,R,N);h=g()+1;let M=G0(D,h),K=w.createHref(D);try{c.pushState(M,"",K)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(K)}u&&p&&p({action:f,location:w.location,delta:1})}function b(R,N){f="REPLACE";let D=cp(w.location,R,N);h=g();let M=G0(D,h),K=w.createHref(D);c.replaceState(M,"",K),u&&p&&p({action:f,location:w.location,delta:0})}function E(R){return JA(R)}let w={get action(){return f},get location(){return t(o,c)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(F0,y),p=R,()=>{o.removeEventListener(F0,y),p=null}},createHref(R){return e(o,R)},createURL:E,encodeLocation(R){let N=E(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:b,go(R){return c.go(R)}};return w}function JA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bE(t,e,n="/"){return eR(t,e,n,!1)}function eR(t,e,n,r){let o=typeof e=="string"?ba(e):e,u=bi(o.pathname||"/",n);if(u==null)return null;let c=SE(t);tR(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=hR(u);f=cR(c[p],h,r)}return f}function SE(t,e=[],n=[],r=""){let o=(u,c,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let h=yi([r,p.relativePath]),g=n.concat(p);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),SE(u.children,e,g,h)),!(u.path==null&&!u.index)&&e.push({path:h,score:lR(h,u.index),routesMeta:g})};return t.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,c);else for(let p of EE(u.path))o(u,c,p)}),e}function EE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=EE(r.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function tR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nR=/^:[\w-]+$/,iR=3,sR=2,rR=1,aR=10,oR=-2,q0=t=>t==="*";function lR(t,e){let n=t.split("/"),r=n.length;return n.some(q0)&&(r+=oR),e&&(r+=sR),n.filter(o=>!q0(o)).reduce((o,u)=>o+(nR.test(u)?iR:u===""?rR:aR),r)}function uR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function cR(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],h=f===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},g),v=p.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:yi([u,y.pathname]),pathnameBase:gR(yi([u,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(u=yi([u,y.pathnameBase]))}return c}function mc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fR(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},v)=>{if(g==="*"){let E=f[v]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const b=f[v];return y&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:c,pattern:t}}function fR(t,e=!1,n=!0){Pn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function hR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dR(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:pR(n,e):e,search:yR(r),hash:vR(o)}}function pR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Od(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rm(t){let e=mR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function am(t,e,n,r=!1){let o;typeof t=="string"?o=ba(t):(o={...t},et(!o.pathname||!o.pathname.includes("?"),Od("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Od("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Od("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}f=y>=0?e[y]:"/"}let p=dR(o,f),h=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(h||g)&&(p.pathname+="/"),p}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),gR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _R(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var TE=["POST","PUT","PATCH","DELETE"];new Set(TE);var bR=["GET",...TE];new Set(bR);var Sa=A.createContext(null);Sa.displayName="DataRouter";var qc=A.createContext(null);qc.displayName="DataRouterState";A.createContext(!1);var wE=A.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var SR=A.createContext(new Map);SR.displayName="Fetchers";var ER=A.createContext(null);ER.displayName="Await";var jn=A.createContext(null);jn.displayName="Navigation";var _l=A.createContext(null);_l.displayName="Location";var Un=A.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var om=A.createContext(null);om.displayName="RouteError";function TR(t,{relative:e}={}){et(Ea(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(jn),{hash:o,pathname:u,search:c}=bl(t,{relative:e}),f=u;return n!=="/"&&(f=u==="/"?n:yi([n,u])),r.createHref({pathname:f,search:c,hash:o})}function Ea(){return A.useContext(_l)!=null}function Wn(){return et(Ea(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(_l).location}var xE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(t){A.useContext(jn).static||A.useLayoutEffect(t)}function ps(){let{isDataRoute:t}=A.useContext(Un);return t?jR():wR()}function wR(){et(Ea(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Sa),{basename:e,navigator:n}=A.useContext(jn),{matches:r}=A.useContext(Un),{pathname:o}=Wn(),u=JSON.stringify(rm(r)),c=A.useRef(!1);return CE(()=>{c.current=!0}),A.useCallback((p,h={})=>{if(Pn(c.current,xE),!c.current)return;if(typeof p=="number"){n.go(p);return}let g=am(p,JSON.parse(u),o,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:yi([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,u,o,t])}A.createContext(null);function xR(){let{matches:t}=A.useContext(Un),e=t[t.length-1];return e?e.params:{}}function bl(t,{relative:e}={}){let{matches:n}=A.useContext(Un),{pathname:r}=Wn(),o=JSON.stringify(rm(n));return A.useMemo(()=>am(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function CR(t,e){return AE(t,e)}function AE(t,e,n,r){var N;et(Ea(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(jn),{matches:u}=A.useContext(Un),c=u[u.length-1],f=c?c.params:{},p=c?c.pathname:"/",h=c?c.pathnameBase:"/",g=c&&c.route;{let D=g&&g.path||"";RE(p,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Wn(),v;if(e){let D=typeof e=="string"?ba(e):e;et(h==="/"||((N=D.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=y;let b=v.pathname||"/",E=b;if(h!=="/"){let D=h.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=bE(t,{pathname:E});Pn(g||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=OR(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:yi([h,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?h:yi([h,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),u,n,r);return e&&R?A.createElement(_l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function AR(){let t=LR(),e=_R(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:u},"ErrorBoundary")," or"," ",A.createElement("code",{style:u},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:o},n):null,c)}var RR=A.createElement(AR,null),NR=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Un.Provider,{value:this.props.routeContext},A.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DR({routeContext:t,match:e,children:n}){let r=A.useContext(Sa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Un.Provider,{value:t},n)}function OR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:g,errors:y}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,h,g)=>{let y,v=!1,b=null,E=null;n&&(y=u&&h.route.id?u[h.route.id]:void 0,b=h.route.errorElement||RR,c&&(f<0&&g===0?(RE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):f===g&&(v=!0,E=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,g+1)),R=()=>{let N;return y?N=b:v?N=E:h.route.Component?N=A.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=p,A.createElement(DR,{match:h,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?A.createElement(NR,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):R()},null)}function lm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MR(t){let e=A.useContext(Sa);return et(e,lm(t)),e}function IR(t){let e=A.useContext(qc);return et(e,lm(t)),e}function kR(t){let e=A.useContext(Un);return et(e,lm(t)),e}function um(t){let e=kR(t),n=e.matches[e.matches.length-1];return et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function PR(){return um("useRouteId")}function LR(){var r;let t=A.useContext(om),e=IR("useRouteError"),n=um("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function jR(){let{router:t}=MR("useNavigate"),e=um("useNavigate"),n=A.useRef(!1);return CE(()=>{n.current=!0}),A.useCallback(async(o,u={})=>{Pn(n.current,xE),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var Y0={};function RE(t,e,n){!e&&!Y0[t]&&(Y0[t]=!0,Pn(!1,n))}A.memo(UR);function UR({routes:t,future:e,state:n}){return AE(t,void 0,n,e)}function Md({to:t,replace:e,state:n,relative:r}){et(Ea(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(jn);Pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=A.useContext(Un),{pathname:c}=Wn(),f=ps(),p=am(t,rm(u),c,r==="path"),h=JSON.stringify(p);return A.useEffect(()=>{f(JSON.parse(h),{replace:e,state:n,relative:r})},[f,h,r,e,n]),null}function Rn(t){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){et(!Ea(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=ba(n));let{pathname:p="/",search:h="",hash:g="",state:y=null,key:v="default"}=n,b=A.useMemo(()=>{let E=bi(p,c);return E==null?null:{location:{pathname:E,search:h,hash:g,state:y,key:v},navigationType:r}},[c,p,h,g,y,v,r]);return Pn(b!=null,`<Router basename="${c}"> is not able to match the URL "${p}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:A.createElement(jn.Provider,{value:f},A.createElement(_l.Provider,{children:e,value:b}))}function BR({children:t,location:e}){return CR(fp(t),e)}function fp(t,e=[]){let n=[];return A.Children.forEach(t,(r,o)=>{if(!A.isValidElement(r))return;let u=[...e,o];if(r.type===A.Fragment){n.push.apply(n,fp(r.props.children,u));return}et(r.type===Rn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=fp(r.props.children,u)),n.push(c)}),n}var ic="get",sc="application/x-www-form-urlencoded";function Yc(t){return t!=null&&typeof t.tagName=="string"}function zR(t){return Yc(t)&&t.tagName.toLowerCase()==="button"}function HR(t){return Yc(t)&&t.tagName.toLowerCase()==="form"}function FR(t){return Yc(t)&&t.tagName.toLowerCase()==="input"}function GR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qR(t,e){return t.button===0&&(!e||e==="_self")&&!GR(t)}var Wu=null;function YR(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var KR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(t){return t!=null&&!KR.has(t)?(Pn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sc}"`),null):t}function WR(t,e){let n,r,o,u,c;if(HR(t)){let f=t.getAttribute("action");r=f?bi(f,e):null,n=t.getAttribute("method")||ic,o=Id(t.getAttribute("enctype"))||sc,u=new FormData(t)}else if(zR(t)||FR(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(r=p?bi(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||ic,o=Id(t.getAttribute("formenctype"))||Id(f.getAttribute("enctype"))||sc,u=new FormData(f,t),!YR()){let{name:h,type:g,value:y}=t;if(g==="image"){let v=h?`${h}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else h&&u.append(h,y)}}else{if(Yc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ic,r=null,o=sc,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $R(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&bi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function XR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZR(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await XR(u,n);return c.links?c.links():[]}return[]}));return nN(r.flat(1).filter(QR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function K0(t,e,n,r,o,u){let c=(p,h)=>n[h]?p.route.id!==n[h].route.id:!0,f=(p,h)=>{var g;return n[h].pathname!==p.pathname||((g=n[h].route.path)==null?void 0:g.endsWith("*"))&&n[h].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,h)=>c(p,h)||f(p,h)):u==="data"?e.filter((p,h)=>{var y;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function JR(t,e,{includeHydrateFallback:n}={}){return eN(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function eN(t){return[...new Set(t)]}function tN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nN(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(tN(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function NE(){let t=A.useContext(Sa);return cm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iN(){let t=A.useContext(qc);return cm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fm=A.createContext(void 0);fm.displayName="FrameworkContext";function DE(){let t=A.useContext(fm);return cm(t,"You must render this element inside a <HydratedRouter> element"),t}function sN(t,e){let n=A.useContext(fm),[r,o]=A.useState(!1),[u,c]=A.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=e,v=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let w=N=>{N.forEach(D=>{c(D.isIntersecting)})},R=new IntersectionObserver(w,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),A.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{o(!0)},E=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,v,{}]:[u,v,{onFocus:Io(f,b),onBlur:Io(p,E),onMouseEnter:Io(h,b),onMouseLeave:Io(g,E),onTouchStart:Io(y,b)}]:[!1,v,{}]}function Io(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rN({page:t,...e}){let{router:n}=NE(),r=A.useMemo(()=>bE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(oN,{page:t,matches:r,...e}):null}function aN(t){let{manifest:e,routeModules:n}=DE(),[r,o]=A.useState([]);return A.useEffect(()=>{let u=!1;return ZR(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function oN({page:t,matches:e,...n}){let r=Wn(),{manifest:o,routeModules:u}=DE(),{basename:c}=NE(),{loaderData:f,matches:p}=iN(),h=A.useMemo(()=>K0(t,e,p,o,r,"data"),[t,e,p,o,r]),g=A.useMemo(()=>K0(t,e,p,o,r,"assets"),[t,e,p,o,r]),y=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,w=!1;if(e.forEach(N=>{var M;let D=o.routes[N.route.id];!D||!D.hasLoader||(!h.some(K=>K.route.id===N.route.id)&&N.route.id in f&&((M=u[N.route.id])!=null&&M.shouldRevalidate)||D.hasClientLoader?w=!0:E.add(N.route.id))}),E.size===0)return[];let R=$R(t,c,"data");return w&&E.size>0&&R.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[c,f,r,o,h,e,t,u]),v=A.useMemo(()=>JR(g,o),[g,o]),b=aN(g);return A.createElement(A.Fragment,null,y.map(E=>A.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>A.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:w})=>A.createElement("link",{key:E,...w})))}function lN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.7.1")}catch{}function uN({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=XA({window:n,v5Compat:!0}));let o=r.current,[u,c]=A.useState({action:o.action,location:o.location}),f=A.useCallback(p=>{A.startTransition(()=>c(p))},[c]);return A.useLayoutEffect(()=>o.listen(f),[o,f]),A.createElement(VR,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sl=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:f,target:p,to:h,preventScrollReset:g,viewTransition:y,...v},b){let{basename:E}=A.useContext(jn),w=typeof h=="string"&&ME.test(h),R,N=!1;if(typeof h=="string"&&w&&(R=h,OE))try{let J=new URL(window.location.href),ie=h.startsWith("//")?new URL(J.protocol+h):new URL(h),se=bi(ie.pathname,E);ie.origin===J.origin&&se!=null?h=se+ie.search+ie.hash:N=!0}catch{Pn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=TR(h,{relative:o}),[M,K,I]=sN(r,v),H=dN(h,{replace:c,state:f,target:p,preventScrollReset:g,relative:o,viewTransition:y});function q(J){e&&e(J),J.defaultPrevented||H(J)}let F=A.createElement("a",{...v,...I,href:R||D,onClick:N||u?e:q,ref:lN(b,K),target:p,"data-discover":!w&&n==="render"?"true":void 0});return M&&!w?A.createElement(A.Fragment,null,F,A.createElement(rN,{page:D})):F});Sl.displayName="Link";var cN=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:f,children:p,...h},g){let y=bl(c,{relative:h.relative}),v=Wn(),b=A.useContext(qc),{navigator:E,basename:w}=A.useContext(jn),R=b!=null&&vN(y)&&f===!0,N=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,D=v.pathname,M=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),M=M?M.toLowerCase():null,N=N.toLowerCase()),M&&w&&(M=bi(M,w)||M);const K=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let I=D===N||!o&&D.startsWith(N)&&D.charAt(K)==="/",H=M!=null&&(M===N||!o&&M.startsWith(N)&&M.charAt(N.length)==="/"),q={isActive:I,isPending:H,isTransitioning:R},F=I?e:void 0,J;typeof r=="function"?J=r(q):J=[r,I?"active":null,H?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ie=typeof u=="function"?u(q):u;return A.createElement(Sl,{...h,"aria-current":F,className:J,ref:g,style:ie,to:c,viewTransition:f},typeof p=="function"?p(q):p)});cN.displayName="NavLink";var fN=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=ic,action:f,onSubmit:p,relative:h,preventScrollReset:g,viewTransition:y,...v},b)=>{let E=gN(),w=yN(f,{relative:h}),R=c.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&ME.test(f),D=M=>{if(p&&p(M),M.defaultPrevented)return;M.preventDefault();let K=M.nativeEvent.submitter,I=(K==null?void 0:K.getAttribute("formmethod"))||c;E(K||M.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:h,preventScrollReset:g,viewTransition:y})};return A.createElement("form",{ref:b,method:R,action:w,onSubmit:r?p:D,...v,"data-discover":!N&&t==="render"?"true":void 0})});fN.displayName="Form";function hN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(t){let e=A.useContext(Sa);return et(e,hN(t)),e}function dN(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let f=ps(),p=Wn(),h=bl(t,{relative:u});return A.useCallback(g=>{if(qR(g,e)){g.preventDefault();let y=n!==void 0?n:tl(p)===tl(h);f(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[p,f,h,n,r,e,t,o,u,c])}var pN=0,mN=()=>`__${String(++pN)}__`;function gN(){let{router:t}=IE("useSubmit"),{basename:e}=A.useContext(jn),n=PR();return A.useCallback(async(r,o={})=>{let{action:u,method:c,encType:f,formData:p,body:h}=WR(r,e);if(o.navigate===!1){let g=o.fetcherKey||mN();await t.fetch(g,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function yN(t,{relative:e}={}){let{basename:n}=A.useContext(jn),r=A.useContext(Un);et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...bl(t||".",{relative:e})},c=Wn();if(t==null){u.search=c.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yi([n,u.pathname])),tl(u)}function vN(t,{relative:e}={}){let n=A.useContext(wE);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IE("useViewTransitionState"),o=bl(t,{relative:e});if(!n.isTransitioning)return!1;let u=bi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=bi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mc(o.pathname,c)!=null||mc(o.pathname,u)!=null}const _N=()=>{};var W0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Ta(e)},Ta=function(t){return new Error("Firebase Database ("+kE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],f=t[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,f=c?t[o+1]:0,p=o+2<t.length,h=p?t[o+2]:0,g=u>>2,y=(u&3)<<4|f>>4;let v=(f&15)<<2|h>>6,b=h&63;p||(b=64,c||(v=64)),r.push(n[g],n[y],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const h=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||f==null||h==null||y==null)throw new SN;const v=u<<2|f>>4;if(r.push(v),h!==64){const b=f<<4&240|h>>2;if(r.push(b),y!==64){const E=h<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LE=function(t){const e=PE(t);return hm.encodeByteArray(e,!0)},gc=function(t){return LE(t).replace(/\./g,"")},yc=function(t){try{return hm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){return jE(void 0,t)}function jE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!TN(n)||(t[n]=jE(t[n],e[n]));return t}function TN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=()=>wN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof W0>"u")return;const t=W0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yc(t[1]);return e&&JSON.parse(e)},dm=()=>{try{return _N()||xN()||CN()||AN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UE=t=>{var e,n;return(n=(e=dm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RN=t=>{const e=UE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VE=()=>{var t;return(t=dm())===null||t===void 0?void 0:t.config},BE=t=>{var e;return(e=dm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(c)),""].join(".")}const Fo={};function DN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fo))Fo[e]?t.emulator.push(e):t.prod.push(e);return t}function ON(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $0=!1;function HE(t,e){if(typeof window>"u"||typeof document>"u"||!wa(window.location.host)||Fo[t]===e||Fo[t]||$0)return;Fo[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",u=DN().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function p(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{$0=!0,c()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=ON(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),w=n("learnmore"),R=document.getElementById(w)||document.createElement("a"),N=n("preprendIcon"),D=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;f(M),g(R,w);const K=h();p(D,N),M.append(D,E,R,K),document.body.appendChild(M)}u?(E.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function MN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kN(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PN(){return kE.NODE_ADMIN===!0}function LN(){try{return typeof indexedDB=="object"}catch{return!1}}function jN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="FirebaseError";class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UN,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?VN(u,r):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new ms(o,f,r)}}function VN(t,e){return t.replace(BN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const BN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return JSON.parse(t)}function Ct(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(t){let e={},n={},r={},o="";try{const u=t.split(".");e=nl(yc(u[0])||""),n=nl(yc(u[1])||""),o=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},zN=function(t){const e=GE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HN=function(t){const e=GE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function Qs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(X0(u)&&X0(c)){if(!Qs(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function X0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],p=this.chain_[4],h,g;for(let y=0;y<80;y++){y<40?y<20?(h=f^u&(c^f),g=1518500249):(h=u^c^f,g=1859775393):y<60?(h=u&c|f&(u|c),g=2400959708):(h=u^c^f,g=3395469782);const v=(o<<5|o>>>27)+h+p+g+r[y]&4294967295;p=f,f=c,c=(u<<30|u>>>2)&4294967295,u=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<n;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function GN(t,e){const n=new qN(t,e);return n.subscribe.bind(n)}class qN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kd(){}function Kc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Wc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new El;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XN(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$N(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $N(t){return t===Bs?void 0:t}function XN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const ZN={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},JN=Ge.INFO,eD={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},tD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=eD[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=JN,this._logHandler=tD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const nD=(t,e)=>e.some(n=>t instanceof n);let Q0,Z0;function iD(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,dp=new WeakMap,YE=new WeakMap,Pd=new WeakMap,gm=new WeakMap;function rD(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(as(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,t)}).catch(()=>{}),gm.set(e,t),e}function aD(t){if(dp.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});dp.set(t,e)}let pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){pp=t(pp)}function lD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ld(this),e,...n);return YE.set(r,e.sort?e.sort():[e]),as(r)}:sD().includes(t)?function(...e){return t.apply(Ld(this),e),as(qE.get(this))}:function(...e){return as(t.apply(Ld(this),e))}}function uD(t){return typeof t=="function"?lD(t):(t instanceof IDBTransaction&&aD(t),nD(t,iD())?new Proxy(t,pp):t)}function as(t){if(t instanceof IDBRequest)return rD(t);if(Pd.has(t))return Pd.get(t);const e=uD(t);return e!==t&&(Pd.set(t,e),gm.set(e,t)),e}const Ld=t=>gm.get(t);function cD(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),f=as(c);return r&&c.addEventListener("upgradeneeded",p=>{r(as(c.result),p.oldVersion,p.newVersion,as(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",h=>o(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const fD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],jd=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=hD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||fD.includes(n)))return;const u=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let h=p.store;return r&&(h=h.index(f.shift())),(await Promise.all([h[n](...f),o&&p.done]))[0]};return jd.set(e,u),u}oD(t=>({...t,get:(e,n,r)=>J0(e,n)||t.get(e,n,r),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",eb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new mm("@firebase/app"),mD="@firebase/app-compat",gD="@firebase/analytics-compat",yD="@firebase/analytics",vD="@firebase/app-check-compat",_D="@firebase/app-check",bD="@firebase/auth",SD="@firebase/auth-compat",ED="@firebase/database",TD="@firebase/data-connect",wD="@firebase/database-compat",xD="@firebase/functions",CD="@firebase/functions-compat",AD="@firebase/installations",RD="@firebase/installations-compat",ND="@firebase/messaging",DD="@firebase/messaging-compat",OD="@firebase/performance",MD="@firebase/performance-compat",ID="@firebase/remote-config",kD="@firebase/remote-config-compat",PD="@firebase/storage",LD="@firebase/storage-compat",jD="@firebase/firestore",UD="@firebase/ai",VD="@firebase/firestore-compat",BD="firebase",zD="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",HD={[mp]:"fire-core",[mD]:"fire-core-compat",[yD]:"fire-analytics",[gD]:"fire-analytics-compat",[_D]:"fire-app-check",[vD]:"fire-app-check-compat",[bD]:"fire-auth",[SD]:"fire-auth-compat",[ED]:"fire-rtdb",[TD]:"fire-data-connect",[wD]:"fire-rtdb-compat",[xD]:"fire-fn",[CD]:"fire-fn-compat",[AD]:"fire-iid",[RD]:"fire-iid-compat",[ND]:"fire-fcm",[DD]:"fire-fcm-compat",[OD]:"fire-perf",[MD]:"fire-perf-compat",[ID]:"fire-rc",[kD]:"fire-rc-compat",[PD]:"fire-gcs",[LD]:"fire-gcs-compat",[jD]:"fire-fst",[VD]:"fire-fst-compat",[UD]:"fire-vertex","fire-js":"fire-js",[BD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,FD=new Map,yp=new Map;function tb(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ha(t){const e=t.name;if(yp.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(const n of _c.values())tb(n,t);for(const n of FD.values())tb(n,t);return!0}function ym(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Tl("app","Firebase",GD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=zD;function KE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gp,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=VE()),!n)throw os.create("no-options");const u=_c.get(o);if(u){if(Qs(n,u.options)&&Qs(r,u.config))return u;throw os.create("duplicate-app",{appName:o})}const c=new QN(o);for(const p of yp.values())c.addComponent(p);const f=new qD(n,r,c);return _c.set(o,f),f}function WE(t=gp){const e=_c.get(t);if(!e&&t===gp&&VE())return KE();if(!e)throw os.create("no-app",{appName:t});return e}function ls(t,e,n){var r;let o=(r=HD[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(f.join(" "));return}ha(new Zs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="firebase-heartbeat-database",KD=1,il="firebase-heartbeat-store";let Ud=null;function $E(){return Ud||(Ud=cD(YD,KD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(il)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),Ud}async function WD(t){try{const n=(await $E()).transaction(il),r=await n.objectStore(il).get(XE(t));return await n.done,r}catch(e){if(e instanceof ms)Si.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function nb(t,e){try{const r=(await $E()).transaction(il,"readwrite");await r.objectStore(il).put(e,XE(t)),await r.done}catch(n){if(n instanceof ms)Si.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function XE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1024,XD=30;class QD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ib();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>XD){const c=eO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ib(),{heartbeatsToSend:r,unsentEntries:o}=ZD(this._heartbeatsCache.heartbeats),u=gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Si.warn(n),""}}}function ib(){return new Date().toISOString().substring(0,10)}function ZD(t,e=$D){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),sb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LN()?jN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sb(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}function eO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){ha(new Zs("platform-logger",e=>new dD(e),"PRIVATE")),ha(new Zs("heartbeat",e=>new QD(e),"PRIVATE")),ls(mp,eb,t),ls(mp,eb,"esm2017"),ls("fire-js","")}tO("");function vm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nO=QE,ZE=new Tl("auth","Firebase",QE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new mm("@firebase/auth");function iO(t,...e){bc.logLevel<=Ge.WARN&&bc.warn(`Auth (${Ca}): ${t}`,...e)}function rc(t,...e){bc.logLevel<=Ge.ERROR&&bc.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw bm(t,...e)}function In(t,...e){return bm(t,...e)}function _m(t,e,n){const r=Object.assign(Object.assign({},nO()),{[e]:n});return new Tl("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return _m(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),_m(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZE.create(t,...e)}function de(t,e,...n){if(!t)throw bm(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function Ei(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rO(){return rb()==="http:"||rb()==="https:"}function rb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rO()||IN()||"connection"in navigator)?navigator.onLine:!0}function oO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=pm()||FE()}get(){return aO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cO=new wl(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ys(t,e,n,r,o={}){return eT(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const f=xa(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:p},u);return MN()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&wa(t.emulatorConfig.host)&&(h.credentials="include"),JE.fetch()(await tT(t,t.config.apiHost,n,f),h)})}async function eT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lO),e);try{const o=new hO(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw $u(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const f=u.ok?c.errorMessage:c.error.message,[p,h]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw $u(t,"user-disabled",c);const g=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw _m(t,g,h);Tn(t,g)}}catch(o){if(o instanceof ms)throw o;Tn(t,"network-request-failed",{message:String(o)})}}async function xl(t,e,n,r,o={}){const u=await ys(t,e,n,r,o);return"mfaPendingCredential"in u&&Tn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?Sm(t.config,o):`${t.config.apiScheme}://${o}`;return uO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function fO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),cO.get())})}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=In(t,e,r);return o.customData._tokenResponse=n,o}function ab(t){return t!==void 0&&t.enterprise!==void 0}class dO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pO(t,e){return ys(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){return ys(t,"POST","/v1/accounts:delete",e)}async function Sc(t,e){return ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gO(t,e=!1){const n=Qt(t),r=await n.getIdToken(e),o=Em(r);de(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Go(Vd(o.auth_time)),issuedAtTime:Go(Vd(o.iat)),expirationTime:Go(Vd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vd(t){return Number(t)*1e3}function Em(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const o=yc(n);return o?JSON.parse(o):(rc("Failed to decode base64 JWT payload"),null)}catch(o){return rc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ob(t){const e=Em(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ms&&yO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){var e;const n=t.auth,r=await t.getIdToken(),o=await sl(t,Sc(n,{idToken:r}));de(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?nT(u.providerUserInfo):[],f=bO(t.providerData,c),p=t.isAnonymous,h=!(t.email&&u.passwordHash)&&!(f!=null&&f.length),g=p?h:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new _p(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function _O(t){const e=Qt(t);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bO(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function nT(t){return t.map(e=>{var{providerId:n}=e,r=vm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){const n=await eT(t,{},async()=>{const r=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await tT(t,o,"/v1/token",`key=${u}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:r};return t.emulatorConfig&&wa(t.emulatorConfig.host)&&(p.credentials="include"),JE.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EO(t,e){return ys(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=ob(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await SO(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new ia;return r&&(de(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(de(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(de(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ia,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new _p(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await sl(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gO(this,e)}reload(){return _O(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await sl(this,mO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,c,f,p,h,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,E=(c=n.photoURL)!==null&&c!==void 0?c:void 0,w=(f=n.tenantId)!==null&&f!==void 0?f:void 0,R=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,N=(h=n.createdAt)!==null&&h!==void 0?h:void 0,D=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:M,emailVerified:K,isAnonymous:I,providerData:H,stsTokenManager:q}=n;de(M&&q,e,"internal-error");const F=ia.fromJSON(this.name,q);de(typeof M=="string",e,"internal-error"),Ji(y,e.name),Ji(v,e.name),de(typeof K=="boolean",e,"internal-error"),de(typeof I=="boolean",e,"internal-error"),Ji(b,e.name),Ji(E,e.name),Ji(w,e.name),Ji(R,e.name),Ji(N,e.name),Ji(D,e.name);const J=new On({uid:M,auth:e,email:v,emailVerified:K,displayName:y,isAnonymous:I,photoURL:E,phoneNumber:b,tenantId:w,stsTokenManager:F,createdAt:N,lastLoginAt:D});return H&&Array.isArray(H)&&(J.providerData=H.map(ie=>Object.assign({},ie))),R&&(J._redirectEventId=R),J}static async _fromIdTokenResponse(e,n,r=!1){const o=new ia;o.updateFromServerResponse(n);const u=new On({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ec(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];de(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new ia;f.updateFromIdToken(r);const p=new On({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,h),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function mi(t){Ei(t instanceof Function,"Expected a class definition");let e=lb.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const ub=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e,n){return`firebase:${t}:${e}:${n}`}class sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ac(this.userKey,o.apiKey,u),this.fullPersistenceKey=ac("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sc(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sa(mi(ub),e,r);const o=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let u=o[0]||mi(ub);const c=ac(r,e.config.apiKey,e.name);let f=null;for(const h of n)try{const g=await h._get(c);if(g){let y;if(typeof g=="string"){const v=await Sc(e,{idToken:g}).catch(()=>{});if(!v)break;y=await On._fromGetAccountInfoResponse(e,v,g)}else y=On._fromJSON(e,g);h!==u&&(f=y),u=h;break}}catch{}const p=o.filter(h=>h._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new sa(u,e,r):(u=p[0],f&&await u._set(c,f.toJSON()),await Promise.all(n.map(async h=>{if(h!==u)try{await h._remove(c)}catch{}})),new sa(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sT(t=Bt()){return/firefox\//i.test(t)}function rT(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(t=Bt()){return/crios\//i.test(t)}function oT(t=Bt()){return/iemobile/i.test(t)}function lT(t=Bt()){return/android/i.test(t)}function uT(t=Bt()){return/blackberry/i.test(t)}function cT(t=Bt()){return/webos/i.test(t)}function Tm(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TO(t=Bt()){var e;return Tm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wO(){return kN()&&document.documentMode===10}function fT(t=Bt()){return Tm(t)||lT(t)||cT(t)||uT(t)||/windows phone/i.test(t)||oT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e=[]){let n;switch(t){case"Browser":n=cb(Bt());break;case"Worker":n=`${cb(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,f)=>{try{const p=e(u);c(p)}catch(p){f(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e={}){return ys(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=6;class RO{constructor(e){var n,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:AO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new xO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sc(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(on(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(vi(this));const n=e?Qt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CO(this),n=new RO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(f,this,"internal-error"),f.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vs(t){return Qt(t)}class fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=GN(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DO(t){$c=t}function dT(t){return $c.loadJS(t)}function OO(){return $c.recaptchaEnterpriseScript}function MO(){return $c.gapiScript}function IO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kO{constructor(){this.enterprise=new PO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LO="recaptcha-enterprise",pT="NO_RECAPTCHA";class jO{constructor(e){this.type=LO,this.auth=vs(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,f)=>{pO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const h=new dO(p);return u.tenantId==null?u._agentRecaptchaConfig=h:u._tenantRecaptchaConfigs[u.tenantId]=h,c(h.siteKey)}}).catch(p=>{f(p)})})}function o(u,c,f){const p=window.grecaptcha;ab(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(h=>{c(h)}).catch(()=>{c(pT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kO().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(f=>{if(!n&&ab(window.grecaptcha))o(f,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=OO();p.length!==0&&(p+=f),dT(p).then(()=>{o(f,u,c)}).catch(h=>{c(h)})}}).catch(f=>{c(f)})})}}async function hb(t,e,n,r=!1,o=!1){const u=new jO(t);let c;if(o)c=pT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,h=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function bp(t,e,n,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hb(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hb(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t,e){const n=ym(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:e})}function VO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BO(t,e,n){const r=vs(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=mT(e),{host:c,port:f}=zO(e),p=f===null?"":`:${f}`,h={url:`${u}//${c}${p}/`},g=Object.freeze({host:c,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Qs(h,r.config.emulator)&&Qs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wa(c)?(zE(`${u}//${c}${p}`),HE("Auth",!0)):HO()}function mT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zO(t){const e=mT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:db(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:db(c)}}}function db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function FO(t,e){return ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){return xl(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function YO(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends wm{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,n,"signInWithPassword",GO);case"emailLink":return qO(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,r,"signUpPassword",FO);case"emailLink":return YO(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e){return xl(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="http://localhost";class Js extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=vm(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Js(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ra(e,n)}buildRequest(){const e={requestUri:KO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $O(t){const e=Bo(zo(t)).link,n=e?Bo(zo(e)).deep_link_id:null,r=Bo(zo(t)).deep_link_id;return(r?Bo(zo(r)).link:null)||r||n||e||t}class xm{constructor(e){var n,r,o,u,c,f;const p=Bo(zo(e)),h=(n=p.apiKey)!==null&&n!==void 0?n:null,g=(r=p.oobCode)!==null&&r!==void 0?r:null,y=WO((o=p.mode)!==null&&o!==void 0?o:null);de(h&&g&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=g,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=$O(e);try{return new xm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,n){return rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xm.parseLink(n);return de(r,"argument-error"),rl._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Cl{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Cl{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Cl{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e){return xl(t,"POST","/v1/accounts:signUp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await On._fromIdTokenResponse(e,r,o),c=pb(r);return new er({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=pb(r);return new er({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends ms{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Tc(e,n,r,o)}}function gT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(t,u,e,r):u})}async function QO(t,e,n=!1){const r=await sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return er._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(vi(r));const o="reauthenticate";try{const u=await sl(t,gT(r,o,e,t),n);de(u.idToken,r,"internal-error");const c=Em(u.idToken);de(c,r,"internal-error");const{sub:f}=c;return de(t.uid===f,r,"user-mismatch"),er._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(t,e,n=!1){if(on(t.app))return Promise.reject(vi(t));const r="signIn",o=await gT(t,r,e),u=await er._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function JO(t,e){return yT(vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(t){const e=vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eM(t,e,n){if(on(t.app))return Promise.reject(vi(t));const r=vs(t),c=await bp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vT(t),p}),f=await er._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function tM(t,e,n){return on(t.app)?Promise.reject(vi(t)):JO(Qt(t),Aa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vT(t),r})}function nM(t,e,n,r){return Qt(t).onIdTokenChanged(e,n,r)}function iM(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function sM(t,e,n,r){return Qt(t).onAuthStateChanged(e,n,r)}const wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wc,"1"),this.storage.removeItem(wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=1e3,aM=10;class bT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);wO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aM):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const oM=bT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ST.type="SESSION";const ET=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Xc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(c).map(async h=>h(n.origin,u)),p=await lM(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((f,p)=>{const h=Am("",20);o.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(v.data.response);break;default:clearTimeout(g),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function cM(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function fM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dM(){return TT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebaseLocalStorageDb",pM=1,xc="firebaseLocalStorage",xT="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qc(t,e){return t.transaction([xc],e?"readwrite":"readonly").objectStore(xc)}function mM(){const t=indexedDB.deleteDatabase(wT);return new Al(t).toPromise()}function Sp(){const t=indexedDB.open(wT,pM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xc,{keyPath:xT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xc)?e(r):(r.close(),await mM(),e(await Sp()))})})}async function mb(t,e,n){const r=Qc(t,!0).put({[xT]:e,value:n});return new Al(r).toPromise()}async function gM(t,e){const n=Qc(t,!1).get(e),r=await new Al(n).toPromise();return r===void 0?null:r.value}function gb(t,e){const n=Qc(t,!0).delete(e);return new Al(n).toPromise()}const yM=800,vM=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(dM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fM(),!this.activeServiceWorker)return;this.sender=new uM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await mb(e,wc,"1"),await gb(e,wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Qc(o,!1).getAll();return new Al(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const _M=CT;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){return e?mi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bM(t){return yT(t.auth,new Rm(t),t.bypassAuthState)}function SM(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),ZO(n,new Rm(t),t.bypassAuthState)}async function EM(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),QO(n,new Rm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bM;case"linkViaPopup":case"linkViaRedirect":return EM;case"reauthViaPopup":case"reauthViaRedirect":return SM;default:Tn(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new wl(2e3,1e4);async function wM(t,e,n){if(on(t.app))return Promise.reject(In(t,"operation-not-supported-in-this-environment"));const r=vs(t);sO(t,e,Cm);const o=AT(r,n);return new Gs(r,"signInViaPopup",e,o).executeNotNull()}class Gs extends RT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TM.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="pendingRedirect",oc=new Map;class CM extends RT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const r=await AM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AM(t,e){const n=DM(e),r=NM(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function RM(t,e){oc.set(t._key(),e)}function NM(t){return mi(t._redirectPersistence)}function DM(t){return ac(xM,t.config.apiKey,t.name)}async function OM(t,e,n=!1){if(on(t.app))return Promise.reject(vi(t));const r=vs(t),o=AT(r,e),c=await new CM(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=600*1e3;class IM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MM&&this.cachedEventUids.clear(),this.cachedEventUids.has(yb(e))}saveEventToCache(e){this.cachedEventUids.add(yb(e)),this.lastProcessedEventTime=Date.now()}}function yb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e={}){return ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jM=/^https?/;async function UM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PM(t);for(const n of e)try{if(VM(n))return}catch{}Tn(t,"unauthorized-domain")}function VM(t){const e=vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!jM.test(n))return!1;if(LM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new wl(3e4,6e4);function vb(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zM(t){return new Promise((e,n)=>{var r,o,u;function c(){vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vb(),n(In(t,"network-request-failed"))},timeout:BM.get()})}if(!((o=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Gn().gapi)===null||u===void 0)&&u.load)c();else{const f=IO("iframefcb");return Gn()[f]=()=>{gapi.load?c():n(In(t,"network-request-failed"))},dT(`${MO()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw lc=null,e})}let lc=null;function HM(t){return lc=lc||zM(t),lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new wl(5e3,15e3),GM="__/auth/iframe",qM="emulator/auth/iframe",YM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WM(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sm(e,qM):`https://${t.config.authDomain}/${GM}`,r={apiKey:e.apiKey,appName:t.name,v:Ca},o=KM.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${xa(r).slice(1)}`}async function $M(t){const e=await HM(t),n=Gn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:WM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=In(t,"network-request-failed"),f=Gn().setTimeout(()=>{u(c)},FM.get());function p(){Gn().clearTimeout(f),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QM=500,ZM=600,JM="_blank",eI="http://localhost";class _b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tI(t,e,n,r=QM,o=ZM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},XM),{width:r.toString(),height:o.toString(),top:u,left:c}),h=Bt().toLowerCase();n&&(f=aT(h)?JM:n),sT(h)&&(e=e||eI,p.scrollbars="yes");const g=Object.entries(p).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(TO(h)&&f!=="_self")return nI(e||"",f),new _b(null);const y=window.open(e||"",f,g);de(y,t,"popup-blocked");try{y.focus()}catch{}return new _b(y)}function nI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__/auth/handler",sI="emulator/auth/handler",rI=encodeURIComponent("fac");async function bb(t,e,n,r,o,u){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ca,eventId:o};if(e instanceof Cm){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",hp(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof Cl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const p=await t._getAppCheckToken(),h=p?`#${rI}=${encodeURIComponent(p)}`:"";return`${aI(t)}?${xa(f).slice(1)}${h}`}function aI({config:t}){return t.emulator?Sm(t,sI):`https://${t.authDomain}/${iI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class oI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=OM,this._overrideRedirectResult=RM}async _openPopup(e,n,r,o){var u;Ei((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await bb(e,n,r,vp(),o);return tI(e,c,Am())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await bb(e,n,r,vp(),o);return cM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $M(e),r=new IM(e);return n.register("authEvent",o=>(de(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bd,{type:Bd},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Bd];c!==void 0&&n(!!c),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fT()||rT()||Tm()}}const lI=oI;var Sb="@firebase/auth",Eb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fI(t){ha(new Zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;de(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(t)},h=new NO(r,o,u,p);return VO(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ha(new Zs("auth-internal",e=>{const n=vs(e.getProvider("auth").getImmediate());return(r=>new uI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(Sb,Eb,cI(t)),ls(Sb,Eb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=300,dI=BE("authIdTokenMaxAge")||hI;let Tb=null;const pI=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dI)return;const o=n==null?void 0:n.token;Tb!==o&&(Tb=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mI(t=WE()){const e=ym(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UO(t,{popupRedirectResolver:lI,persistence:[_M,oM,ET]}),r=BE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=pI(u.toString());iM(n,c,()=>c(n.currentUser)),nM(n,f=>c(f))}}const o=UE("auth");return o&&BO(n,`http://${o}`),n}function gI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=In("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",gI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fI("Browser");var yI="firebase",vI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(yI,vI,"app");var wb={};const xb="@firebase/database",Cb="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DT="";function _I(t){DT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ct(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bI(e)}}catch{}return new SI},qs=OT("localStorage"),EI=OT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new mm("@firebase/database"),TI=function(){let t=1;return function(){return t++}}(),MT=function(t){const e=KN(t),n=new FN;n.update(e);const r=n.digest();return hm.encodeByteArray(r)},Rl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Rl.apply(null,r):typeof r=="object"?e+=Ct(r):e+=r,e+=" "}return e};let qo=null,Ab=!0;const wI=function(t,e){ne(!0,"Can't turn on custom loggers persistently."),aa.logLevel=Ge.VERBOSE,qo=aa.log.bind(aa)},Ot=function(...t){if(Ab===!0&&(Ab=!1,qo===null&&EI.get("logging_enabled")===!0&&wI()),qo){const e=Rl.apply(null,t);qo(e)}},Nl=function(t){return function(...e){Ot(t,...e)}},Ep=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rl(...t);aa.error(e)},Ti=function(...t){const e=`FIREBASE FATAL ERROR: ${Rl(...t)}`;throw aa.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+Rl(...t);aa.warn(e)},xI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},CI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},da="[MIN_NAME]",tr="[MAX_NAME]",rr=function(t,e){if(t===e)return 0;if(t===da||e===tr)return-1;if(e===da||t===tr)return 1;{const n=Rb(t),r=Rb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},AI=function(t,e){return t===e?0:t<e?-1:1},ko=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ct(e))},Dm=function(t){if(typeof t!="object"||t===null)return Ct(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ct(e[r]),n+=":",n+=Dm(t[e[r]]);return n+="}",n},IT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const kT=function(t){ne(!Nm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,u,c,f,p;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=f+r,c=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(p=n;p;p-=1)h.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)h.push(u%2?1:0),u=Math.floor(u/2);h.push(o?1:0),h.reverse();const g=h.join("");let y="";for(p=0;p<64;p+=8){let v=parseInt(g.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},RI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},NI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function DI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const OI=new RegExp("^-?(0*)\\d{1,10}$"),MI=-2147483648,II=2147483647,Rb=function(t){if(OI.test(t)){const e=Number(t);if(e>=MI&&e<=II)return e}return null},Ra=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},kI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class uc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}uc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="5",PT="v",LT="s",jT="r",UT="f",VT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BT="ls",zT="p",Tp="ac",HT="websocket",FT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,o,u=!1,c="",f=!1,p=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function jI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qT(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===HT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===FT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);jI(t)&&(n.ns=t.namespace);const o=[];return Mt(n,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.counters_={}}incrementCounter(e,n=1){$n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return EN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd={},Hd={};function Mm(t){const e=t.toString();return zd[e]||(zd[e]=new UI),zd[e]}function VI(t,e){const n=t.toString();return Hd[n]||(Hd[n]=e()),Hd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ra(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="start",zI="close",HI="pLPCommand",FI="pRTLPCB",YT="id",KT="pw",WT="ser",GI="cb",qI="seg",YI="ts",KI="d",WI="dframe",$T=1870,XT=30,$I=$T-XT,XI=25e3,QI=3e4;class Qr{constructor(e,n,r,o,u,c,f){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nl(e),this.stats_=Mm(n),this.urlFn=p=>(this.appCheckToken&&(p[Tp]=this.appCheckToken),qT(n,FT,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(QI)),CI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Im((...u)=>{const[c,f,p,h,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Nb)this.id=f,this.password=p;else if(c===zI)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,f]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,f)},()=>{this.onClosed_()},this.urlFn);const r={};r[Nb]="t",r[WT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[GI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[PT]=Om,this.transportSessionId&&(r[LT]=this.transportSessionId),this.lastSessionId&&(r[BT]=this.lastSessionId),this.applicationId&&(r[zT]=this.applicationId),this.appCheckToken&&(r[Tp]=this.appCheckToken),typeof location<"u"&&location.hostname&&VT.test(location.hostname)&&(r[jT]=UT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qr.forceAllow_=!0}static forceDisallow(){Qr.forceDisallow_=!0}static isAvailable(){return Qr.forceAllow_?!0:!Qr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!RI()&&!NI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=LE(n),o=IT(r,$I);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[WI]="t",r[YT]=e,r[KT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ct(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Im{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TI(),window[HI+this.uniqueCallbackIdentifier]=e,window[FI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Im.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(f){Ot("frame writing exception"),f.stack&&Ot(f.stack),Ot(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ot("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[YT]=this.myID,e[KT]=this.myPW,e[WT]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XT+r.length<=$T;){const c=this.pendingSegs.shift();r=r+"&"+qI+o+"="+c.seg+"&"+YI+o+"="+c.ts+"&"+KI+o+"="+c.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(XI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=16384,JI=45e3;let Cc=null;typeof MozWebSocket<"u"?Cc=MozWebSocket:typeof WebSocket<"u"&&(Cc=WebSocket);class Dn{constructor(e,n,r,o,u,c,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nl(this.connId),this.stats_=Mm(n),this.connURL=Dn.connectionURL_(n,c,f,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,u){const c={};return c[PT]=Om,typeof location<"u"&&location.hostname&&VT.test(location.hostname)&&(c[jT]=UT),n&&(c[LT]=n),r&&(c[BT]=r),o&&(c[Tp]=o),u&&(c[zT]=u),qT(e,HT,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qs.set("previous_websocket_failure",!0);try{let r;PN(),this.mySock=new Cc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Dn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Cc!==null&&!Dn.forceDisallow_}static previouslyFailed(){return qs.isInMemoryStorage||qs.get("previous_websocket_failure")===!0}markConnectionHealthy(){qs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=nl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=IT(n,ZI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dn.responsesRequiredToBeHealthy=2;Dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static get ALL_TRANSPORTS(){return[Qr,Dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Dn&&Dn.isAvailable();let r=n&&!Dn.previouslyFailed();if(e.webSocketOnly&&(n||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Dn];else{const o=this.transports_=[];for(const u of al.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);al.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}al.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=6e4,t2=5e3,n2=10*1024,i2=100*1024,Fd="t",Db="d",s2="s",Ob="r",r2="e",Mb="o",Ib="a",kb="n",Pb="p",a2="h";class o2{constructor(e,n,r,o,u,c,f,p,h,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=f,this.onDisconnect_=p,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nl("c:"+this.id+":"),this.transportManager_=new al(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Yo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>i2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>n2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fd in e){const n=e[Fd];n===Ib?this.upgradeIfSecondaryHealthy_():n===Ob?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Mb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ko("t",e),r=ko("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ib,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ko("t",e),r=ko("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ko(Fd,e);if(Db in e){const r=e[Db];if(n===a2){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===kb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===s2?this.onConnectionShutdown_(r):n===Ob?this.onReset_(r):n===r2?Ep("Server Error: "+r):n===Mb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ep("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Om!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(e2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends ZT{static getInstance(){return new Ac}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=32,jb=768;class qe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function je(){return new qe("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function cs(t){return t.pieces_.length-t.pieceNum_}function Xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new qe(t.pieces_,e)}function km(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function l2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ol(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function JT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qe(e,0)}function lt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof qe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new qe(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function Wt(t,e){const n=xe(t),r=xe(e);if(n===null)return e;if(n===r)return Wt(Xe(t),Xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function u2(t,e){const n=ol(t,0),r=ol(e,0);for(let o=0;o<n.length&&o<r.length;o++){const u=rr(n[o],r[o]);if(u!==0)return u}return n.length===r.length?0:n.length<r.length?-1:1}function Pm(t,e){if(cs(t)!==cs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(cs(t)>cs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class c2{constructor(e,n){this.errorPrefix_=n,this.parts_=ol(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wc(this.parts_[r]);ew(this)}}function f2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wc(e),ew(t)}function h2(t){const e=t.parts_.pop();t.byteLength_-=Wc(e),t.parts_.length>0&&(t.byteLength_-=1)}function ew(t){if(t.byteLength_>jb)throw new Error(t.errorPrefix_+"has a key path longer than "+jb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Lb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lb+") or object contains a cycle "+zs(t))}function zs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends ZT{static getInstance(){return new Lm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=1e3,d2=300*1e3,Ub=30*1e3,p2=1.3,m2=3e4,g2="server_kill",Vb=3;class _i extends QT{constructor(e,n,r,o,u,c,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=_i.nextPersistentConnectionId_++,this.log_=Nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Po,this.maxReconnectDelay_=d2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ac.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(Ct(u)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new El,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const f=c.d;c.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(c).set(u,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,f=>{const p=f.d,h=f.s;_i.warnOnListenWarnings_(p,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),h!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(h,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$n(e,"w")){const r=fa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ub)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=zN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,u){this.initConnection_();const c={p:n,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ct(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ep("Unrecognized action received from server: "+Ct(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>m2&&(this.reconnectDelay_=Po),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*p2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+_i.nextConnectionId_++,u=this.lastSessionId;let c=!1,f=null;const p=function(){f?f.close():(c=!0,r())},h=function(y){ne(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:p,sendRequest:h};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Ot("getToken() completed but was canceled"):(Ot("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,f=new o2(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{Vt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(g2)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Vt(y),p())}}}interrupt(e){Ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hp(this.interruptReasons_)&&(this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>Dm(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new qe(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){Ot("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vb&&(this.reconnectDelay_=Ub,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ot("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+DT.replace(/\./g,"-")]=1,pm()?e["framework.cordova"]=1:FE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ac.getInstance().currentlyOnline();return hp(this.interruptReasons_)&&e}}_i.nextPersistentConnectionId_=0;_i.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ce(da,e),o=new Ce(da,n);return this.compare(r,o)!==0}minPost(){return Ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu;class tw extends Zc{static get __EMPTY_NODE(){return Xu}static set __EMPTY_NODE(e){Xu=e}compare(e,n){return rr(e.name,n.name)}isDefinedOn(e){throw Ta("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ce.MIN}maxPost(){return new Ce(tr,Xu)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Ce(e,Xu)}toString(){return".key"}}const oa=new tw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class wt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??wt.RED,this.left=o??$t.EMPTY_NODE,this.right=u??$t.EMPTY_NODE}copy(e,n,r,o,u){return new wt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return $t.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}wt.RED=!0;wt.BLACK=!1;class y2{copy(e,n,r,o,u){return this}insert(e,n,r){return new wt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $t{constructor(e,n=$t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(e){return new $t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qu(this.root_,null,this.comparator_,!0,e)}}$t.EMPTY_NODE=new y2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t,e){return rr(t.name,e.name)}function jm(t,e){return rr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;function _2(t){wp=t}const nw=function(t){return typeof t=="number"?"number:"+kT(t):"string:"+t},iw=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$n(e,".sv"),"Priority must be a string or number.")}else ne(t===wp||t.isEmpty(),"priority of unexpected type.");ne(t===wp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bb;class Tt{static set __childrenNodeConstructor(e){Bb=e}static get __childrenNodeConstructor(){return Bb}constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),iw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:xe(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||cs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=kT(this.value_):e+=this.value_,this.lazyHash_=MT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=Tt.VALUE_TYPE_ORDER.indexOf(n),u=Tt.VALUE_TYPE_ORDER.indexOf(r);return ne(o>=0,"Unknown leaf type: "+n),ne(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw,rw;function b2(t){sw=t}function S2(t){rw=t}class E2 extends Zc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),u=r.compareTo(o);return u===0?rr(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ce.MIN}maxPost(){return new Ce(tr,new Tt("[PRIORITY-POST]",rw))}makePost(e,n){const r=sw(e);return new Ce(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const ut=new E2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=Math.log(2);class w2{constructor(e){const n=u=>parseInt(Math.log(u)/T2,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rc=function(t,e,n,r){t.sort(e);const o=function(p,h){const g=h-p;let y,v;if(g===0)return null;if(g===1)return y=t[p],v=n?n(y):y,new wt(v,y.node,wt.BLACK,null,null);{const b=parseInt(g/2,10)+p,E=o(p,b),w=o(b+1,h);return y=t[b],v=n?n(y):y,new wt(v,y.node,wt.BLACK,E,w)}},u=function(p){let h=null,g=null,y=t.length;const v=function(E,w){const R=y-E,N=y;y-=E;const D=o(R+1,N),M=t[R],K=n?n(M):M;b(new wt(K,M.node,w,null,D))},b=function(E){h?(h.left=E,h=E):(g=E,h=E)};for(let E=0;E<p.count;++E){const w=p.nextBitIsOne(),R=Math.pow(2,p.count-(E+1));w?v(R,wt.BLACK):(v(R,wt.BLACK),v(R,wt.RED))}return g},c=new w2(t.length),f=u(c);return new $t(r||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;const Xr={};class gi{static get Default(){return ne(Xr&&ut,"ChildrenNode.ts has not been loaded"),Gd=Gd||new gi({".priority":Xr},{".priority":ut}),Gd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=fa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $t?n:null}hasIndex(e){return $n(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==oa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=n.getIterator(Ce.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let f;o?f=Rc(r,e.getCompare()):f=Xr;const p=e.toString(),h=Object.assign({},this.indexSet_);h[p]=e;const g=Object.assign({},this.indexes_);return g[p]=f,new gi(g,h)}addToIndexes(e,n){const r=vc(this.indexes_,(o,u)=>{const c=fa(this.indexSet_,u);if(ne(c,"Missing index implementation for "+u),o===Xr)if(c.isDefinedOn(e.node)){const f=[],p=n.getIterator(Ce.Wrap);let h=p.getNext();for(;h;)h.name!==e.name&&f.push(h),h=p.getNext();return f.push(e),Rc(f,c.getCompare())}else return Xr;else{const f=n.get(e.name);let p=o;return f&&(p=p.remove(new Ce(e.name,f))),p.insert(e,e.node)}});return new gi(r,this.indexSet_)}removeFromIndexes(e,n){const r=vc(this.indexes_,o=>{if(o===Xr)return o;{const u=n.get(e.name);return u?o.remove(new Ce(e.name,u)):o}});return new gi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo;class ye{static get EMPTY_NODE(){return Lo||(Lo=new ye(new $t(jm),null,gi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&iw(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lo}updatePriority(e){return this.children_.isEmpty()?this:new ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Lo:n}}getChild(e){const n=xe(e);return n===null?this:this.getImmediateChild(n).getChild(Xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ce(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?Lo:this.priorityNode_;return new ye(o,c,u)}}updateChild(e,n){const r=xe(e);if(r===null)return n;{ne(xe(e)!==".priority"||cs(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Xe(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,u=!0;if(this.forEachChild(ut,(c,f)=>{n[c]=f.val(e),r++,u&&ye.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const f in n)c[f]=n[f];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+nw(this.getPriority().val())+":"),this.forEachChild(ut,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":MT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new Ce(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ce.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dl?-1:0}withIndex(e){if(e===oa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===oa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ut),o=n.getIterator(ut);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===oa?null:this.indexMap_.get(e.toString())}}ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class x2 extends ye{constructor(){super(new $t(jm),ye.EMPTY_NODE,gi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ye.EMPTY_NODE}isEmpty(){return!1}}const Dl=new x2;Object.defineProperties(Ce,{MIN:{value:new Ce(da,ye.EMPTY_NODE)},MAX:{value:new Ce(tr,Dl)}});tw.__EMPTY_NODE=ye.EMPTY_NODE;Tt.__childrenNodeConstructor=ye;_2(Dl);S2(Dl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=!0;function xt(t,e=null){if(t===null)return ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,xt(e))}if(!(t instanceof Array)&&C2){const n=[];let r=!1;if(Mt(t,(c,f)=>{if(c.substring(0,1)!=="."){const p=xt(f);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),n.push(new Ce(c,p)))}}),n.length===0)return ye.EMPTY_NODE;const u=Rc(n,v2,c=>c.name,jm);if(r){const c=Rc(n,ut.getCompare());return new ye(u,xt(e),new gi({".priority":c},{".priority":ut}))}else return new ye(u,xt(e),gi.Default)}else{let n=ye.EMPTY_NODE;return Mt(t,(r,o)=>{if($n(t,r)&&r.substring(0,1)!=="."){const u=xt(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(xt(e))}}b2(xt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends Zc{constructor(e){super(),this.indexPath_=e,ne(!Oe(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),u=r.compareTo(o);return u===0?rr(e.name,n.name):u}makePost(e,n){const r=xt(e),o=ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ce(n,o)}maxPost(){const e=ye.EMPTY_NODE.updateChild(this.indexPath_,Dl);return new Ce(tr,e)}toString(){return ol(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2 extends Zc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?rr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ce.MIN}maxPost(){return Ce.MAX}makePost(e,n){const r=xt(e);return new Ce(n,r)}toString(){return".value"}}const N2=new R2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){return{type:"value",snapshotNode:t}}function pa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ll(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ul(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function D2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.index_=e}updateChild(e,n,r,o,u,c){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(o).equals(r.getChild(o))&&f.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(ll(n,f)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?c.trackChildChange(pa(n,r)):c.trackChildChange(ul(n,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ut,(o,u)=>{n.hasChild(o)||r.trackChildChange(ll(o,u))}),n.isLeafNode()||n.forEachChild(ut,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(ul(o,u,c))}else r.trackChildChange(pa(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ye.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.indexedFilter_=new Um(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cl.getStartPost_(e),this.endPost_=cl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,u,c){return this.matches(new Ce(n,r))||(r=ye.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,u,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ye.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ye.EMPTY_NODE);const u=this;return n.forEachChild(ut,(c,f)=>{u.matches(new Ce(c,f))||(o=o.updateImmediateChild(c,ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new cl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,u,c){return this.rangedFilter_.matches(new Ce(n,r))||(r=ye.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,u,c):this.fullLimitUpdateChild_(e,n,r,u,c)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=ye.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ye.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const f=u.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ye.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const f=u.getNext();c<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?c++:o=o.updateImmediateChild(f.name,ye.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,b)=>y(b,v)}else c=this.index_.getCompare();const f=e;ne(f.numChildren()===this.limit_,"");const p=new Ce(n,r),h=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),g=this.rangedFilter_.matches(p);if(f.hasChild(n)){const y=f.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||f.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const b=v==null?1:c(v,p);if(g&&!r.isEmpty()&&b>=0)return u!=null&&u.trackChildChange(ul(n,r,y)),f.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(ll(n,y));const w=f.updateImmediateChild(n,ye.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(pa(v.name,v.node)),w.updateImmediateChild(v.name,v.node)):w}}else return r.isEmpty()?e:g&&c(h,p)>=0?(u!=null&&(u.trackChildChange(ll(h.name,h.node)),u.trackChildChange(pa(n,r))),f.updateImmediateChild(n,r).updateImmediateChild(h.name,ye.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ut}copy(){const e=new Vm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function M2(t){return t.loadsAllData()?new Um(t.getIndex()):t.hasLimit()?new O2(t):new cl(t)}function zb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ut?n="$priority":t.index_===N2?n="$value":t.index_===oa?n="$key":(ne(t.index_ instanceof A2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ct(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ct(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ct(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ct(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ct(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Hb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ut&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends QT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Nl("p:rest:"),this.listens_={}}listen(e,n,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=Nc.getListenId_(e,r),f={};this.listens_[c]=f;const p=zb(e._queryParams);this.restRequest_(u+".json",p,(h,g)=>{let y=g;if(h===404&&(y=null,h=null),h===null&&this.onDataUpdate_(u,y,!1,r),fa(this.listens_,c)===f){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",o(v,null)}})}unlisten(e,n){const r=Nc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=zb(e._queryParams),r=e._path.toString(),o=new El;return this.restRequest_(r+".json",n,(u,c)=>{let f=c;u===404&&(f=null,u=null),u===null?(this.onDataUpdate_(r,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xa(n);this.log_("Sending REST request for "+c);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&f.readyState===4){this.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=nl(f.responseText)}catch{Vt("Failed to parse JSON response for "+c+": "+f.responseText)}r(null,p)}else f.status!==401&&f.status!==404&&Vt("Got unsuccessful REST response for "+c+" Status: "+f.status),r(f.status);r=null}},f.open("GET",c,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.rootNode_=ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(){return{value:null,children:new Map}}function ow(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=xe(e);t.children.has(r)||t.children.set(r,Dc());const o=t.children.get(r);e=Xe(e),ow(o,e,n)}}function xp(t,e,n){t.value!==null?n(e,t.value):k2(t,(r,o)=>{const u=new qe(e.toString()+"/"+r);xp(o,u,n)})}function k2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mt(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=10*1e3,L2=30*1e3,j2=300*1e3;class U2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new P2(e);const r=Fb+(L2-Fb)*Math.random();Yo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Mt(e,(o,u)=>{u>0&&$n(this.statsToReport_,o)&&(n[o]=u,r=!0)}),r&&this.server_.reportStats(n),Yo(this.reportStats_.bind(this),Math.floor(Math.random()*2*j2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mn||(Mn={}));function Bm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mn.ACK_USER_WRITE,this.source=Bm()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new qe(e));return new Oc(je(),n,this.revert)}}else return ne(xe(this.path)===e,"operationForChild called for unrelated child."),new Oc(Xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.source=e,this.path=n,this.type=Mn.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new fl(this.source,je()):new fl(this.source,Xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mn.OVERWRITE}operationForChild(e){return Oe(this.path)?new nr(this.source,je(),this.snap.getImmediateChild(e)):new nr(this.source,Xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mn.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new qe(e));return n.isEmpty()?null:n.value?new nr(this.source,je(),n.value):new ma(this.source,je(),n)}else return ne(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ma(this.source,Xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function B2(t,e,n,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(D2(c.childName,c.snapshotNode))}),jo(t,o,"child_removed",e,r,n),jo(t,o,"child_added",e,r,n),jo(t,o,"child_moved",u,r,n),jo(t,o,"child_changed",e,r,n),jo(t,o,"value",e,r,n),o}function jo(t,e,n,r,o,u){const c=r.filter(f=>f.type===n);c.sort((f,p)=>H2(t,f,p)),c.forEach(f=>{const p=z2(t,f,u);o.forEach(h=>{h.respondsTo(f.type)&&e.push(h.createEvent(p,t.query_))})})}function z2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function H2(t,e,n){if(e.childName==null||n.childName==null)throw Ta("Should only compare child_ events.");const r=new Ce(e.childName,e.snapshotNode),o=new Ce(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e){return{eventCache:t,serverCache:e}}function Ko(t,e,n,r){return Jc(new ir(e,n,r),t.serverCache)}function lw(t,e,n,r){return Jc(t.eventCache,new ir(e,n,r))}function Cp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd;const F2=()=>(qd||(qd=new $t(AI)),qd);class $e{static fromObject(e){let n=new $e(null);return Mt(e,(r,o)=>{n=n.set(new qe(r),o)}),n}constructor(e,n=F2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:je(),value:this.value};if(Oe(e))return null;{const r=xe(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Xe(e),n);return u!=null?{path:lt(new qe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=xe(e),r=this.children.get(n);return r!==null?r.subtree(Xe(e)):new $e(null)}}set(e,n){if(Oe(e))return new $e(n,this.children);{const r=xe(e),u=(this.children.get(r)||new $e(null)).set(Xe(e),n),c=this.children.insert(r,u);return new $e(this.value,c)}}remove(e){if(Oe(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=xe(e),r=this.children.get(n);if(r){const o=r.remove(Xe(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new $e(null):new $e(this.value,u)}else return this}}get(e){if(Oe(e))return this.value;{const n=xe(e),r=this.children.get(n);return r?r.get(Xe(e)):null}}setTree(e,n){if(Oe(e))return n;{const r=xe(e),u=(this.children.get(r)||new $e(null)).setTree(Xe(e),n);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new $e(this.value,c)}}fold(e){return this.fold_(je(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(lt(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,je(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(Oe(e))return null;{const u=xe(e),c=this.children.get(u);return c?c.findOnPath_(Xe(e),lt(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,je(),n)}foreachOnPath_(e,n,r){if(Oe(e))return this;{this.value&&r(n,this.value);const o=xe(e),u=this.children.get(o);return u?u.foreachOnPath_(Xe(e),lt(n,o),r):new $e(null)}}foreach(e){this.foreach_(je(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(lt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.writeTree_=e}static empty(){return new kn(new $e(null))}}function Wo(t,e,n){if(Oe(e))return new kn(new $e(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Wt(o,e);return u=u.updateChild(c,n),new kn(t.writeTree_.set(o,u))}else{const o=new $e(n),u=t.writeTree_.setTree(e,o);return new kn(u)}}}function Ap(t,e,n){let r=t;return Mt(n,(o,u)=>{r=Wo(r,lt(e,o),u)}),r}function Gb(t,e){if(Oe(e))return kn.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new kn(n)}}function Rp(t,e){return ar(t,e)!=null}function ar(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Wt(n.path,e)):null}function qb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ut,(r,o)=>{e.push(new Ce(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new Ce(r,o.value))}),e}function us(t,e){if(Oe(e))return t;{const n=ar(t,e);return n!=null?new kn(new $e(n)):new kn(t.writeTree_.subtree(e))}}function Np(t){return t.writeTree_.isEmpty()}function ga(t,e){return uw(je(),t.writeTree_,e)}function uw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(ne(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=uw(lt(t,o),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(lt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){return dw(e,t)}function G2(t,e,n,r,o){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Wo(t.visibleWrites,e,n)),t.lastWriteId=r}function q2(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ap(t.visibleWrites,e,n),t.lastWriteId=r}function Y2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function K2(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const f=t.allWrites[c];f.visible&&(c>=n&&W2(f,r.path)?o=!1:Sn(r.path,f.path)&&(u=!0)),c--}if(o){if(u)return $2(t),!0;if(r.snap)t.visibleWrites=Gb(t.visibleWrites,r.path);else{const f=r.children;Mt(f,p=>{t.visibleWrites=Gb(t.visibleWrites,lt(r.path,p))})}return!0}else return!1}function W2(t,e){if(t.snap)return Sn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sn(lt(t.path,n),e))return!0;return!1}function $2(t){t.visibleWrites=cw(t.allWrites,X2,je()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function X2(t){return t.visible}function cw(t,e,n){let r=kn.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let f;if(u.snap)Sn(n,c)?(f=Wt(n,c),r=Wo(r,f,u.snap)):Sn(c,n)&&(f=Wt(c,n),r=Wo(r,je(),u.snap.getChild(f)));else if(u.children){if(Sn(n,c))f=Wt(n,c),r=Ap(r,f,u.children);else if(Sn(c,n))if(f=Wt(c,n),Oe(f))r=Ap(r,je(),u.children);else{const p=fa(u.children,xe(f));if(p){const h=p.getChild(Xe(f));r=Wo(r,je(),h)}}}else throw Ta("WriteRecord should have .snap or .children")}}return r}function fw(t,e,n,r,o){if(!r&&!o){const u=ar(t.visibleWrites,e);if(u!=null)return u;{const c=us(t.visibleWrites,e);if(Np(c))return n;if(n==null&&!Rp(c,je()))return null;{const f=n||ye.EMPTY_NODE;return ga(c,f)}}}else{const u=us(t.visibleWrites,e);if(!o&&Np(u))return n;if(!o&&n==null&&!Rp(u,je()))return null;{const c=function(h){return(h.visible||o)&&(!r||!~r.indexOf(h.writeId))&&(Sn(h.path,e)||Sn(e,h.path))},f=cw(t.allWrites,c,e),p=n||ye.EMPTY_NODE;return ga(f,p)}}}function Q2(t,e,n){let r=ye.EMPTY_NODE;const o=ar(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ut,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(n){const u=us(t.visibleWrites,e);return n.forEachChild(ut,(c,f)=>{const p=ga(us(u,new qe(c)),f);r=r.updateImmediateChild(c,p)}),qb(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=us(t.visibleWrites,e);return qb(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Z2(t,e,n,r,o){ne(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=lt(e,n);if(Rp(t.visibleWrites,u))return null;{const c=us(t.visibleWrites,u);return Np(c)?o.getChild(n):ga(c,o.getChild(n))}}function J2(t,e,n,r){const o=lt(e,n),u=ar(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(n)){const c=us(t.visibleWrites,o);return ga(c,r.getNode().getImmediateChild(n))}else return null}function ek(t,e){return ar(t.visibleWrites,e)}function tk(t,e,n,r,o,u,c){let f;const p=us(t.visibleWrites,e),h=ar(p,je());if(h!=null)f=h;else if(n!=null)f=ga(p,n);else return[];if(f=f.withIndex(c),!f.isEmpty()&&!f.isLeafNode()){const g=[],y=c.getCompare(),v=u?f.getReverseIteratorFrom(r,c):f.getIteratorFrom(r,c);let b=v.getNext();for(;b&&g.length<o;)y(b,r)!==0&&g.push(b),b=v.getNext();return g}else return[]}function nk(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function Mc(t,e,n,r){return fw(t.writeTree,t.treePath,e,n,r)}function Gm(t,e){return Q2(t.writeTree,t.treePath,e)}function Yb(t,e,n,r){return Z2(t.writeTree,t.treePath,e,n,r)}function Ic(t,e){return ek(t.writeTree,lt(t.treePath,e))}function ik(t,e,n,r,o,u){return tk(t.writeTree,t.treePath,e,n,r,o,u)}function qm(t,e,n){return J2(t.writeTree,t.treePath,e,n)}function hw(t,e){return dw(lt(t.treePath,e),t.writeTree)}function dw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,ul(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,ll(r,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,pa(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,ul(r,e.snapshotNode,o.oldSnap));else throw Ta("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const pw=new rk;class Ym{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sr(this.viewCache_),u=ik(this.writes_,o,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return{filter:t}}function ok(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lk(t,e,n,r,o){const u=new sk;let c,f;if(n.type===Mn.OVERWRITE){const h=n;h.source.fromUser?c=Dp(t,e,h.path,h.snap,r,o,u):(ne(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered()&&!Oe(h.path),c=kc(t,e,h.path,h.snap,r,o,f,u))}else if(n.type===Mn.MERGE){const h=n;h.source.fromUser?c=ck(t,e,h.path,h.children,r,o,u):(ne(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered(),c=Op(t,e,h.path,h.children,r,o,f,u))}else if(n.type===Mn.ACK_USER_WRITE){const h=n;h.revert?c=dk(t,e,h.path,r,o,u):c=fk(t,e,h.path,h.affectedTree,r,o,u)}else if(n.type===Mn.LISTEN_COMPLETE)c=hk(t,e,n.path,r,u);else throw Ta("Unknown operation type: "+n.type);const p=u.getChanges();return uk(e,c,p),{viewCache:c,changes:p}}function uk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Cp(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(aw(Cp(e)))}}function mw(t,e,n,r,o,u){const c=e.eventCache;if(Ic(r,n)!=null)return e;{let f,p;if(Oe(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=sr(e),g=h instanceof ye?h:ye.EMPTY_NODE,y=Gm(r,g);f=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const h=Mc(r,sr(e));f=t.filter.updateFullNode(e.eventCache.getNode(),h,u)}else{const h=xe(n);if(h===".priority"){ne(cs(n)===1,"Can't have a priority with additional path components");const g=c.getNode();p=e.serverCache.getNode();const y=Yb(r,n,g,p);y!=null?f=t.filter.updatePriority(g,y):f=c.getNode()}else{const g=Xe(n);let y;if(c.isCompleteForChild(h)){p=e.serverCache.getNode();const v=Yb(r,n,c.getNode(),p);v!=null?y=c.getNode().getImmediateChild(h).updateChild(g,v):y=c.getNode().getImmediateChild(h)}else y=qm(r,h,e.serverCache);y!=null?f=t.filter.updateChild(c.getNode(),h,y,g,o,u):f=c.getNode()}}return Ko(e,f,c.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function kc(t,e,n,r,o,u,c,f){const p=e.serverCache;let h;const g=c?t.filter:t.filter.getIndexedFilter();if(Oe(n))h=g.updateFullNode(p.getNode(),r,null);else if(g.filtersNodes()&&!p.isFiltered()){const b=p.getNode().updateChild(n,r);h=g.updateFullNode(p.getNode(),b,null)}else{const b=xe(n);if(!p.isCompleteForPath(n)&&cs(n)>1)return e;const E=Xe(n),R=p.getNode().getImmediateChild(b).updateChild(E,r);b===".priority"?h=g.updatePriority(p.getNode(),R):h=g.updateChild(p.getNode(),b,R,E,pw,null)}const y=lw(e,h,p.isFullyInitialized()||Oe(n),g.filtersNodes()),v=new Ym(o,y,u);return mw(t,y,n,o,v,f)}function Dp(t,e,n,r,o,u,c){const f=e.eventCache;let p,h;const g=new Ym(o,e,u);if(Oe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,c),p=Ko(e,h,!0,t.filter.filtersNodes());else{const y=xe(n);if(y===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),p=Ko(e,h,f.isFullyInitialized(),f.isFiltered());else{const v=Xe(n),b=f.getNode().getImmediateChild(y);let E;if(Oe(v))E=r;else{const w=g.getCompleteChild(y);w!=null?km(v)===".priority"&&w.getChild(JT(v)).isEmpty()?E=w:E=w.updateChild(v,r):E=ye.EMPTY_NODE}if(b.equals(E))p=e;else{const w=t.filter.updateChild(f.getNode(),y,E,v,g,c);p=Ko(e,w,f.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function Kb(t,e){return t.eventCache.isCompleteForChild(e)}function ck(t,e,n,r,o,u,c){let f=e;return r.foreach((p,h)=>{const g=lt(n,p);Kb(e,xe(g))&&(f=Dp(t,f,g,h,o,u,c))}),r.foreach((p,h)=>{const g=lt(n,p);Kb(e,xe(g))||(f=Dp(t,f,g,h,o,u,c))}),f}function Wb(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Op(t,e,n,r,o,u,c,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,h;Oe(n)?h=r:h=new $e(null).setTree(n,r);const g=e.serverCache.getNode();return h.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),E=Wb(t,b,v);p=kc(t,p,new qe(y),E,o,u,c,f)}}),h.children.inorderTraversal((y,v)=>{const b=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!b){const E=e.serverCache.getNode().getImmediateChild(y),w=Wb(t,E,v);p=kc(t,p,new qe(y),w,o,u,c,f)}}),p}function fk(t,e,n,r,o,u,c){if(Ic(o,n)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(Oe(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return kc(t,e,n,p.getNode().getChild(n),o,u,f,c);if(Oe(n)){let h=new $e(null);return p.getNode().forEachChild(oa,(g,y)=>{h=h.set(new qe(g),y)}),Op(t,e,n,h,o,u,f,c)}else return e}else{let h=new $e(null);return r.foreach((g,y)=>{const v=lt(n,g);p.isCompleteForPath(v)&&(h=h.set(g,p.getNode().getChild(v)))}),Op(t,e,n,h,o,u,f,c)}}function hk(t,e,n,r,o){const u=e.serverCache,c=lw(e,u.getNode(),u.isFullyInitialized()||Oe(n),u.isFiltered());return mw(t,c,n,r,pw,o)}function dk(t,e,n,r,o,u){let c;if(Ic(r,n)!=null)return e;{const f=new Ym(r,e,o),p=e.eventCache.getNode();let h;if(Oe(n)||xe(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Mc(r,sr(e));else{const y=e.serverCache.getNode();ne(y instanceof ye,"serverChildren would be complete if leaf node"),g=Gm(r,y)}g=g,h=t.filter.updateFullNode(p,g,u)}else{const g=xe(n);let y=qm(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=p.getImmediateChild(g)),y!=null?h=t.filter.updateChild(p,g,y,Xe(n),f,u):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(p,g,ye.EMPTY_NODE,Xe(n),f,u):h=p,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Mc(r,sr(e)),c.isLeafNode()&&(h=t.filter.updateFullNode(h,c,u)))}return c=e.serverCache.isFullyInitialized()||Ic(r,je())!=null,Ko(e,h,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Um(r.getIndex()),u=M2(r);this.processor_=ak(u);const c=n.serverCache,f=n.eventCache,p=o.updateFullNode(ye.EMPTY_NODE,c.getNode(),null),h=u.updateFullNode(ye.EMPTY_NODE,f.getNode(),null),g=new ir(p,c.isFullyInitialized(),o.filtersNodes()),y=new ir(h,f.isFullyInitialized(),u.filtersNodes());this.viewCache_=Jc(y,g),this.eventGenerator_=new V2(this.query_)}get query(){return this.query_}}function mk(t){return t.viewCache_.serverCache.getNode()}function gk(t,e){const n=sr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function $b(t){return t.eventRegistrations_.length===0}function yk(t,e){t.eventRegistrations_.push(e)}function Xb(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Qb(t,e,n,r){e.type===Mn.MERGE&&e.source.queryId!==null&&(ne(sr(t.viewCache_),"We should always have a full cache before handling merges"),ne(Cp(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=lk(t.processor_,o,e,n,r);return ok(t.processor_,u.viewCache),ne(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,gw(t,u.changes,u.viewCache.eventCache.getNode(),null)}function vk(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(u,c)=>{r.push(pa(u,c))}),n.isFullyInitialized()&&r.push(aw(n.getNode())),gw(t,r,n.getNode(),e)}function gw(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return B2(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;class _k{constructor(){this.views=new Map}}function bk(t){ne(!Pc,"__referenceConstructor has already been defined"),Pc=t}function Sk(){return ne(Pc,"Reference.ts has not been loaded"),Pc}function Ek(t){return t.views.size===0}function Km(t,e,n,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return ne(u!=null,"SyncTree gave us an op for an invalid query."),Qb(u,e,n,r)}else{let u=[];for(const c of t.views.values())u=u.concat(Qb(c,e,n,r));return u}}function Tk(t,e,n,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let f=Mc(n,o?r:null),p=!1;f?p=!0:r instanceof ye?(f=Gm(n,r),p=!1):(f=ye.EMPTY_NODE,p=!1);const h=Jc(new ir(f,p,!1),new ir(r,o,!1));return new pk(e,h)}return c}function wk(t,e,n,r,o,u){const c=Tk(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),yk(c,n),vk(c,n)}function xk(t,e,n,r){const o=e._queryIdentifier,u=[];let c=[];const f=fs(t);if(o==="default")for(const[p,h]of t.views.entries())c=c.concat(Xb(h,n,r)),$b(h)&&(t.views.delete(p),h.query._queryParams.loadsAllData()||u.push(h.query));else{const p=t.views.get(o);p&&(c=c.concat(Xb(p,n,r)),$b(p)&&(t.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return f&&!fs(t)&&u.push(new(Sk())(e._repo,e._path)),{removed:u,events:c}}function yw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function la(t,e){let n=null;for(const r of t.views.values())n=n||gk(r,e);return n}function vw(t,e){if(e._queryParams.loadsAllData())return ef(t);{const r=e._queryIdentifier;return t.views.get(r)}}function _w(t,e){return vw(t,e)!=null}function fs(t){return ef(t)!=null}function ef(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;function Ck(t){ne(!Lc,"__referenceConstructor has already been defined"),Lc=t}function Ak(){return ne(Lc,"Reference.ts has not been loaded"),Lc}let Rk=1;class Zb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=nk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bw(t,e,n,r,o){return G2(t.pendingWriteTree_,e,n,r,o),o?Na(t,new nr(Bm(),e,n)):[]}function Nk(t,e,n,r){q2(t.pendingWriteTree_,e,n,r);const o=$e.fromObject(n);return Na(t,new ma(Bm(),e,o))}function rs(t,e,n=!1){const r=Y2(t.pendingWriteTree_,e);if(K2(t.pendingWriteTree_,e)){let u=new $e(null);return r.snap!=null?u=u.set(je(),!0):Mt(r.children,c=>{u=u.set(new qe(c),!0)}),Na(t,new Oc(r.path,u,n))}else return[]}function tf(t,e,n){return Na(t,new nr(zm(),e,n))}function Dk(t,e,n){const r=$e.fromObject(n);return Na(t,new ma(zm(),e,r))}function Ok(t,e){return Na(t,new fl(zm(),e))}function Mk(t,e,n){const r=$m(t,n);if(r){const o=Xm(r),u=o.path,c=o.queryId,f=Wt(u,e),p=new fl(Hm(c),f);return Qm(t,u,p)}else return[]}function Mp(t,e,n,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let f=[];if(c&&(e._queryIdentifier==="default"||_w(c,e))){const p=xk(c,e,n,r);Ek(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const h=p.removed;if(f=p.events,!o){const g=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(v,b)=>fs(b));if(g&&!y){const v=t.syncPointTree_.subtree(u);if(!v.isEmpty()){const b=Pk(v);for(let E=0;E<b.length;++E){const w=b[E],R=w.query,N=Tw(t,w);t.listenProvider_.startListening($o(R),jc(t,R),N.hashFn,N.onComplete)}}}!y&&h.length>0&&!r&&(g?t.listenProvider_.stopListening($o(e),null):h.forEach(v=>{const b=t.queryToTagMap.get(nf(v));t.listenProvider_.stopListening($o(v),b)}))}Lk(t,h)}return f}function Ik(t,e,n,r){const o=$m(t,r);if(o!=null){const u=Xm(o),c=u.path,f=u.queryId,p=Wt(c,e),h=new nr(Hm(f),p,n);return Qm(t,c,h)}else return[]}function kk(t,e,n,r){const o=$m(t,r);if(o){const u=Xm(o),c=u.path,f=u.queryId,p=Wt(c,e),h=$e.fromObject(n),g=new ma(Hm(f),p,h);return Qm(t,c,g)}else return[]}function Jb(t,e,n,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(v,b)=>{const E=Wt(v,o);u=u||la(b,E),c=c||fs(b)});let f=t.syncPointTree_.get(o);f?(c=c||fs(f),u=u||la(f,je())):(f=new _k,t.syncPointTree_=t.syncPointTree_.set(o,f));let p;u!=null?p=!0:(p=!1,u=ye.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,E)=>{const w=la(E,je());w&&(u=u.updateImmediateChild(b,w))}));const h=_w(f,e);if(!h&&!e._queryParams.loadsAllData()){const v=nf(e);ne(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const b=jk();t.queryToTagMap.set(v,b),t.tagToQueryMap.set(b,v)}const g=Fm(t.pendingWriteTree_,o);let y=wk(f,e,n,g,u,p);if(!h&&!c&&!r){const v=vw(f,e);y=y.concat(Uk(t,e,v))}return y}function Wm(t,e,n){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,f)=>{const p=Wt(c,e),h=la(f,p);if(h)return h});return fw(o,e,u,n,!0)}function Na(t,e){return Sw(e,t.syncPointTree_,null,Fm(t.pendingWriteTree_,je()))}function Sw(t,e,n,r){if(Oe(t.path))return Ew(t,e,n,r);{const o=e.get(je());n==null&&o!=null&&(n=la(o,je()));let u=[];const c=xe(t.path),f=t.operationForChild(c),p=e.children.get(c);if(p&&f){const h=n?n.getImmediateChild(c):null,g=hw(r,c);u=u.concat(Sw(f,p,h,g))}return o&&(u=u.concat(Km(o,t,r,n))),u}}function Ew(t,e,n,r){const o=e.get(je());n==null&&o!=null&&(n=la(o,je()));let u=[];return e.children.inorderTraversal((c,f)=>{const p=n?n.getImmediateChild(c):null,h=hw(r,c),g=t.operationForChild(c);g&&(u=u.concat(Ew(g,f,p,h)))}),o&&(u=u.concat(Km(o,t,r,n))),u}function Tw(t,e){const n=e.query,r=jc(t,n);return{hashFn:()=>(mk(e)||ye.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?Mk(t,n._path,r):Ok(t,n._path);{const u=DI(o,n);return Mp(t,n,null,u)}}}}function jc(t,e){const n=nf(e);return t.queryToTagMap.get(n)}function nf(t){return t._path.toString()+"$"+t._queryIdentifier}function $m(t,e){return t.tagToQueryMap.get(e)}function Xm(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qe(t.substr(0,e))}}function Qm(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const o=Fm(t.pendingWriteTree_,e);return Km(r,n,o,null)}function Pk(t){return t.fold((e,n,r)=>{if(n&&fs(n))return[ef(n)];{let o=[];return n&&(o=yw(n)),Mt(r,(u,c)=>{o=o.concat(c)}),o}})}function $o(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ak())(t._repo,t._path):t}function Lk(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=nf(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function jk(){return Rk++}function Uk(t,e,n){const r=e._path,o=jc(t,e),u=Tw(t,n),c=t.listenProvider_.startListening($o(e),o,u.hashFn,u.onComplete),f=t.syncPointTree_.subtree(r);if(o)ne(!fs(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((h,g,y)=>{if(!Oe(h)&&g&&fs(g))return[ef(g).query];{let v=[];return g&&(v=v.concat(yw(g).map(b=>b.query))),Mt(y,(b,E)=>{v=v.concat(E)}),v}});for(let h=0;h<p.length;++h){const g=p[h];t.listenProvider_.stopListening($o(g),jc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Zm(n)}node(){return this.node_}}class Jm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=lt(this.path_,e);return new Jm(this.syncTree_,n)}node(){return Wm(this.syncTree_,this.path_)}}const Vk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},eS=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Bk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return zk(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Bk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},zk=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const o=e.node();if(ne(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},ww=function(t,e,n,r){return eg(e,new Jm(n,t),r)},xw=function(t,e,n){return eg(t,new Zm(e),n)};function eg(t,e,n){const r=t.getPriority().val(),o=eS(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,f=eS(c.getValue(),e,n);return f!==c.getValue()||o!==c.getPriority().val()?new Tt(f,xt(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new Tt(o))),c.forEachChild(ut,(f,p)=>{const h=eg(p,e.getImmediateChild(f),n);h!==p&&(u=u.updateImmediateChild(f,h))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ng(t,e){let n=e instanceof qe?e:new qe(e),r=t,o=xe(n);for(;o!==null;){const u=fa(r.node.children,o)||{children:{},childCount:0};r=new tg(o,r,u),n=Xe(n),o=xe(n)}return r}function Da(t){return t.node.value}function Cw(t,e){t.node.value=e,Ip(t)}function Aw(t){return t.node.childCount>0}function Hk(t){return Da(t)===void 0&&!Aw(t)}function sf(t,e){Mt(t.node.children,(n,r)=>{e(new tg(n,t,r))})}function Rw(t,e,n,r){n&&e(t),sf(t,o=>{Rw(o,e,!0)})}function Fk(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ol(t){return new qe(t.parent===null?t.name:Ol(t.parent)+"/"+t.name)}function Ip(t){t.parent!==null&&Gk(t.parent,t.name,t)}function Gk(t,e,n){const r=Hk(n),o=$n(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Ip(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Ip(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/[\[\].#$\/\u0000-\u001F\u007F]/,Yk=/[\[\].#$\u0000-\u001F\u007F]/,Yd=10*1024*1024,ig=function(t){return typeof t=="string"&&t.length!==0&&!qk.test(t)},Nw=function(t){return typeof t=="string"&&t.length!==0&&!Yk.test(t)},Kk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Nw(t)},Wk=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Nm(t)||t&&typeof t=="object"&&$n(t,".sv")},Dw=function(t,e,n,r){r&&e===void 0||rf(Kc(t,"value"),e,n)},rf=function(t,e,n){const r=n instanceof qe?new c2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+zs(r));if(typeof e=="function")throw new Error(t+"contains a function "+zs(r)+" with contents = "+e.toString());if(Nm(e))throw new Error(t+"contains "+e.toString()+" "+zs(r));if(typeof e=="string"&&e.length>Yd/3&&Wc(e)>Yd)throw new Error(t+"contains a string greater than "+Yd+" utf8 bytes "+zs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Mt(e,(c,f)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!ig(c)))throw new Error(t+" contains an invalid key ("+c+") "+zs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);f2(r,c),rf(t,f,r),h2(r)}),o&&u)throw new Error(t+' contains ".value" child '+zs(r)+" in addition to actual children.")}},$k=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const u=ol(r);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!ig(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(u2);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&Sn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},Xk=function(t,e,n,r){const o=Kc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];Mt(e,(c,f)=>{const p=new qe(c);if(rf(o,f,lt(n,p)),km(p)===".priority"&&!Wk(f))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),$k(o,u)},Ow=function(t,e,n,r){if(!Nw(n))throw new Error(Kc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Qk=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ow(t,e,n)},Mw=function(t,e){if(xe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Zk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ig(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Kk(n))throw new Error(Kc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function af(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();n!==null&&!Pm(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&t.eventLists_.push(n)}function Iw(t,e,n){af(t,n),kw(t,r=>Pm(r,e))}function Ln(t,e,n){af(t,n),kw(t,r=>Sn(r,e)||Sn(e,r))}function kw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(eP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();qo&&Ot("event: "+n.toString()),Ra(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="repo_interrupt",nP=25;class iP{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dc(),this.transactionQueueTree_=new tg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sP(t,e,n){if(t.stats_=Mm(t.repoInfo_),t.forceRestClient_||kI())t.server_=new Nc(t.repoInfo_,(r,o,u,c)=>{tS(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>nS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _i(t.repoInfo_,e,(r,o,u,c)=>{tS(t,r,o,u,c)},r=>{nS(t,r)},r=>{rP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=VI(t.repoInfo_,()=>new U2(t.stats_,t.server_)),t.infoData_=new I2,t.infoSyncTree_=new Zb({startListening:(r,o,u,c)=>{let f=[];const p=t.infoData_.getNode(r._path);return p.isEmpty()||(f=tf(t.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),f},stopListening:()=>{}}),sg(t,"connected",!1),t.serverSyncTree_=new Zb({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(f,p)=>{const h=c(f,p);Ln(t.eventQueue_,r._path,h)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function Pw(t){const n=t.infoData_.getNode(new qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function of(t){return Vk({timestamp:Pw(t)})}function tS(t,e,n,r,o){t.dataUpdateCount++;const u=new qe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(r){const p=vc(n,h=>xt(h));c=kk(t.serverSyncTree_,u,p,o)}else{const p=xt(n);c=Ik(t.serverSyncTree_,u,p,o)}else if(r){const p=vc(n,h=>xt(h));c=Dk(t.serverSyncTree_,u,p)}else{const p=xt(n);c=tf(t.serverSyncTree_,u,p)}let f=u;c.length>0&&(f=ya(t,u)),Ln(t.eventQueue_,f,c)}function nS(t,e){sg(t,"connected",e),e===!1&&lP(t)}function rP(t,e){Mt(e,(n,r)=>{sg(t,n,r)})}function sg(t,e,n){const r=new qe("/.info/"+e),o=xt(n);t.infoData_.updateSnapshot(r,o);const u=tf(t.infoSyncTree_,r,o);Ln(t.eventQueue_,r,u)}function rg(t){return t.nextWriteId_++}function aP(t,e,n,r,o){lf(t,"set",{path:e.toString(),value:n,priority:r});const u=of(t),c=xt(n,r),f=Wm(t.serverSyncTree_,e),p=xw(c,f,u),h=rg(t),g=bw(t.serverSyncTree_,e,p,h,!0);af(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,b)=>{const E=v==="ok";E||Vt("set at "+e+" failed: "+v);const w=rs(t.serverSyncTree_,h,!E);Ln(t.eventQueue_,e,w),kp(t,o,v,b)});const y=og(t,e);ya(t,y),Ln(t.eventQueue_,y,[])}function oP(t,e,n,r){lf(t,"update",{path:e.toString(),value:n});let o=!0;const u=of(t),c={};if(Mt(n,(f,p)=>{o=!1,c[f]=ww(lt(e,f),xt(p),t.serverSyncTree_,u)}),o)Ot("update() called with empty data.  Don't do anything."),kp(t,r,"ok",void 0);else{const f=rg(t),p=Nk(t.serverSyncTree_,e,c,f);af(t.eventQueue_,p),t.server_.merge(e.toString(),n,(h,g)=>{const y=h==="ok";y||Vt("update at "+e+" failed: "+h);const v=rs(t.serverSyncTree_,f,!y),b=v.length>0?ya(t,e):e;Ln(t.eventQueue_,b,v),kp(t,r,h,g)}),Mt(n,h=>{const g=og(t,lt(e,h));ya(t,g)}),Ln(t.eventQueue_,e,[])}}function lP(t){lf(t,"onDisconnectEvents");const e=of(t),n=Dc();xp(t.onDisconnect_,je(),(o,u)=>{const c=ww(o,u,t.serverSyncTree_,e);ow(n,o,c)});let r=[];xp(n,je(),(o,u)=>{r=r.concat(tf(t.serverSyncTree_,o,u));const c=og(t,o);ya(t,c)}),t.onDisconnect_=Dc(),Ln(t.eventQueue_,je(),r)}function uP(t,e,n){let r;xe(e._path)===".info"?r=Jb(t.infoSyncTree_,e,n):r=Jb(t.serverSyncTree_,e,n),Iw(t.eventQueue_,e._path,r)}function iS(t,e,n){let r;xe(e._path)===".info"?r=Mp(t.infoSyncTree_,e,n):r=Mp(t.serverSyncTree_,e,n),Iw(t.eventQueue_,e._path,r)}function cP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tP)}function lf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ot(n,...e)}function kp(t,e,n,r){e&&Ra(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function Lw(t,e,n){return Wm(t.serverSyncTree_,e,n)||ye.EMPTY_NODE}function ag(t,e=t.transactionQueueTree_){if(e||uf(t,e),Da(e)){const n=Uw(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&fP(t,Ol(e),n)}else Aw(e)&&sf(e,n=>{ag(t,n)})}function fP(t,e,n){const r=n.map(h=>h.currentWriteId),o=Lw(t,e,r);let u=o;const c=o.hash();for(let h=0;h<n.length;h++){const g=n[h];ne(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Wt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const f=u.val(!0),p=e;t.server_.put(p.toString(),f,h=>{lf(t,"transaction put response",{path:p.toString(),status:h});let g=[];if(h==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(rs(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();uf(t,ng(t.transactionQueueTree_,e)),ag(t,t.transactionQueueTree_),Ln(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)Ra(y[v])}else{if(h==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Vt("transaction at "+p.toString()+" failed: "+h);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=h}ya(t,e)}},c)}function ya(t,e){const n=jw(t,e),r=Ol(n),o=Uw(t,n);return hP(t,o,r),r}function hP(t,e,n){if(e.length===0)return;const r=[];let o=[];const c=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],h=Wt(n,p.path);let g=!1,y;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)g=!0,y=p.abortReason,o=o.concat(rs(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=nP)g=!0,y="maxretry",o=o.concat(rs(t.serverSyncTree_,p.currentWriteId,!0));else{const v=Lw(t,p.path,c);p.currentInputSnapshot=v;const b=e[f].update(v.val());if(b!==void 0){rf("transaction failed: Data returned ",b,p.path);let E=xt(b);typeof b=="object"&&b!=null&&$n(b,".priority")||(E=E.updatePriority(v.getPriority()));const R=p.currentWriteId,N=of(t),D=xw(E,v,N);p.currentOutputSnapshotRaw=E,p.currentOutputSnapshotResolved=D,p.currentWriteId=rg(t),c.splice(c.indexOf(R),1),o=o.concat(bw(t.serverSyncTree_,p.path,D,p.currentWriteId,p.applyLocally)),o=o.concat(rs(t.serverSyncTree_,R,!0))}else g=!0,y="nodata",o=o.concat(rs(t.serverSyncTree_,p.currentWriteId,!0))}Ln(t.eventQueue_,n,o),o=[],g&&(e[f].status=2,function(v){setTimeout(v,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?r.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):r.push(()=>e[f].onComplete(new Error(y),!1,null))))}uf(t,t.transactionQueueTree_);for(let f=0;f<r.length;f++)Ra(r[f]);ag(t,t.transactionQueueTree_)}function jw(t,e){let n,r=t.transactionQueueTree_;for(n=xe(e);n!==null&&Da(r)===void 0;)r=ng(r,n),e=Xe(e),n=xe(e);return r}function Uw(t,e){const n=[];return Vw(t,e,n),n.sort((r,o)=>r.order-o.order),n}function Vw(t,e,n){const r=Da(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);sf(e,o=>{Vw(t,o,n)})}function uf(t,e){const n=Da(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,Cw(e,n.length>0?n:void 0)}sf(e,r=>{uf(t,r)})}function og(t,e){const n=Ol(jw(t,e)),r=ng(t.transactionQueueTree_,e);return Fk(r,o=>{Kd(t,o)}),Kd(t,r),Rw(r,o=>{Kd(t,o)}),n}function Kd(t,e){const n=Da(e);if(n){const r=[];let o=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ne(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(ne(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(rs(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Cw(e,void 0):n.length=u+1,Ln(t.eventQueue_,Ol(e),o);for(let c=0;c<r.length;c++)Ra(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function pP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const sS=function(t,e){const n=mP(t),r=n.namespace;n.domain==="firebase.com"&&Ti(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||xI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new GT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new qe(n.pathString)}},mP=function(t){let e="",n="",r="",o="",u="",c=!0,f="https",p=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(f=t.substring(0,h-1),t=t.substring(h+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=dP(t.substring(g,y)));const v=pP(t.substring(Math.min(t.length,y)));h=e.indexOf(":"),h>=0?(c=f==="https"||f==="wss",p=parseInt(e.substring(h+1),10)):h=e.length;const b=e.slice(0,h);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),u=r}"ns"in v&&(u=v.ns)}return{host:e,port:p,domain:n,subdomain:r,secure:c,scheme:f,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gP=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=rS.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=rS.charAt(e[o]);return ne(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ct(this.snapshot.exportVal())}}class vP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return Oe(this._path)?null:km(this._path)}get ref(){return new _s(this._repo,this._path)}get _queryIdentifier(){const e=Hb(this._queryParams),n=Dm(e);return n==="{}"?"default":n}get _queryObject(){return Hb(this._queryParams)}isEqual(e){if(e=Qt(e),!(e instanceof lg))return!1;const n=this._repo===e._repo,r=Pm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+l2(this._path)}}class _s extends lg{constructor(e,n){super(e,n,new Vm,!1)}get parent(){const e=JT(this._path);return e===null?null:new _s(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Uc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new qe(e),r=hl(this.ref,e);return new Uc(this._node.getChild(n),r,ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Uc(o,hl(this.ref,r),ut)))}hasChild(e){const n=new qe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qe(t,e){return t=Qt(t),t._checkNotDeleted("ref"),e!==void 0?hl(t._root,e):t._root}function hl(t,e){return t=Qt(t),xe(t._path)===null?Qk("child","path",e):Ow("child","path",e),new _s(t._repo,lt(t._path,e))}function Zu(t,e){t=Qt(t),Mw("push",t._path),Dw("push",e,t._path,!0);const n=Pw(t._repo),r=gP(n),o=hl(t,r),u=hl(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function es(t,e){t=Qt(t),Mw("set",t._path),Dw("set",e,t._path,!1);const n=new El;return aP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function bP(t,e){Xk("update",e,t._path);const n=new El;return oP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class ug{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new yP("value",this,new Uc(e.snapshotNode,new _s(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vP(this,e,n):null}matches(e){return e instanceof ug?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function SP(t,e,n,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const p=n,h=(g,y)=>{iS(t._repo,t,f),p(g,y)};h.userCallback=n.userCallback,h.context=n.context,n=h}const c=new _P(n,u||void 0),f=new ug(c);return uP(t._repo,t,f),()=>iS(t._repo,t,f)}function Fs(t,e,n,r){return SP(t,"value",e,n,r)}bk(_s);Ck(_s);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="FIREBASE_DATABASE_EMULATOR_HOST",Pp={};let TP=!1;function wP(t,e,n,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),c=wa(u);t.repoInfo_=new GT(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function xP(t,e,n,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||Ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ot("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=sS(u,o),f=c.repoInfo,p;typeof process<"u"&&wb&&(p=wb[EP]),p?(u=`http://${p}?ns=${f.namespace}`,c=sS(u,o),f=c.repoInfo):c.repoInfo.secure;const h=new LI(t.name,t.options,e);Zk("Invalid Firebase Database URL",c),Oe(c.path)||Ti("Database URL must point to the root of a Firebase Database (not including a child path).");const g=AP(f,t,h,new PI(t,n));return new RP(g,t)}function CP(t,e){const n=Pp[e];(!n||n[t.key]!==t)&&Ti(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cP(t),delete n[t.key]}function AP(t,e,n,r){let o=Pp[e.name];o||(o={},Pp[e.name]=o);let u=o[t.toURLString()];return u&&Ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new iP(t,TP,n,r),o[t.toURLString()]=u,u}class RP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _s(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ti("Cannot call "+e+" on a deleted database.")}}function an(t=WE(),e){const n=ym(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=RN("database");r&&NP(n,...r)}return n}function NP(t,e,n,r={}){t=Qt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Qs(r,u.repoInfo_.emulatorOptions))return;Ti("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new uc(uc.OWNER);else if(r.mockUserToken){const f=typeof r.mockUserToken=="string"?r.mockUserToken:NN(r.mockUserToken,t.app.options.projectId);c=new uc(f)}wa(e)&&(zE(e),HE("Database",!0)),wP(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){_I(Ca),ha(new Zs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return xP(r,o,u,n)},"PUBLIC").setMultipleInstances(!0)),ls(xb,Cb,t),ls(xb,Cb,"esm2017")}_i.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_i.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DP();var OP={apiKey:"AIzaSyBGZDKKuWAkUaxV1rB-fkH1tYjj_kLcQSM",authDomain:"personal-webpage-4fee5.firebaseapp.com",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com",projectId:"personal-webpage-4fee5",storageBucket:"personal-webpage-4fee5.firebasestorage.app",messagingSenderId:"436484530906",appId:"1:436484530906:web:b29b6e67621aa2009cfbe3",measurementId:"G-3QP9ZY1ZF7",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com"};const Bw=KE(OP),Ws=mI(Bw);an(Bw);const cg=A.createContext({});function fg(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const hg=typeof window<"u",zw=hg?A.useLayoutEffect:A.useEffect,cf=A.createContext(null);function dg(t,e){t.indexOf(e)===-1&&t.push(e)}function pg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wi=(t,e,n)=>n>e?e:n<t?t:n;let mg=()=>{};const xi={},Hw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Fw(t){return typeof t=="object"&&t!==null}const Gw=t=>/^0[^.\s]+$/u.test(t);function gg(t){let e;return()=>(e===void 0&&(e=t()),e)}const En=t=>t,MP=(t,e)=>n=>e(t(n)),Ml=(...t)=>t.reduce(MP),dl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class yg{constructor(){this.subscriptions=[]}add(e){return dg(this.subscriptions,e),()=>pg(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qn=t=>t*1e3,Yn=t=>t/1e3;function qw(t,e){return e?t*(1e3/e):0}const Yw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IP=1e-7,kP=12;function PP(t,e,n,r,o){let u,c,f=0;do c=e+(n-e)/2,u=Yw(c,r,o)-t,u>0?n=c:e=c;while(Math.abs(u)>IP&&++f<kP);return c}function Il(t,e,n,r){if(t===e&&n===r)return En;const o=u=>PP(u,0,1,t,n);return u=>u===0||u===1?u:Yw(o(u),e,r)}const Kw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ww=t=>e=>1-t(1-e),$w=Il(.33,1.53,.69,.99),vg=Ww($w),Xw=Kw(vg),Qw=t=>(t*=2)<1?.5*vg(t):.5*(2-Math.pow(2,-10*(t-1))),_g=t=>1-Math.sin(Math.acos(t)),Zw=Ww(_g),Jw=Kw(_g),LP=Il(.42,0,1,1),jP=Il(0,0,.58,1),e1=Il(.42,0,.58,1),UP=t=>Array.isArray(t)&&typeof t[0]!="number",t1=t=>Array.isArray(t)&&typeof t[0]=="number",VP={linear:En,easeIn:LP,easeInOut:e1,easeOut:jP,circIn:_g,circInOut:Jw,circOut:Zw,backIn:vg,backInOut:Xw,backOut:$w,anticipate:Qw},BP=t=>typeof t=="string",aS=t=>{if(t1(t)){mg(t.length===4);const[e,n,r,o]=t;return Il(e,n,r,o)}else if(BP(t))return VP[t];return t},Ju=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zP(t,e){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(g){c.has(g)&&(h.schedule(g),t()),g(f)}const h={schedule:(g,y=!1,v=!1)=>{const E=v&&o?n:r;return y&&c.add(g),E.has(g)||E.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(f=g,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,h.process(g))}};return h}const HP=40;function n1(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Ju.reduce((M,K)=>(M[K]=zP(u),M),{}),{setup:f,read:p,resolveKeyframes:h,preUpdate:g,update:y,preRender:v,render:b,postRender:E}=c,w=()=>{const M=xi.useManualTiming?o.timestamp:performance.now();n=!1,xi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(M-o.timestamp,HP),1)),o.timestamp=M,o.isProcessing=!0,f.process(o),p.process(o),h.process(o),g.process(o),y.process(o),v.process(o),b.process(o),E.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(w))},R=()=>{n=!0,r=!0,o.isProcessing||t(w)};return{schedule:Ju.reduce((M,K)=>{const I=c[K];return M[K]=(H,q=!1,F=!1)=>(n||R(),I.schedule(H,q,F)),M},{}),cancel:M=>{for(let K=0;K<Ju.length;K++)c[Ju[K]].cancel(M)},state:o,steps:c}}const{schedule:Je,cancel:hs,state:Dt,steps:Wd}=n1(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0);let cc;function FP(){cc=void 0}const Xt={now:()=>(cc===void 0&&Xt.set(Dt.isProcessing||xi.useManualTiming?Dt.timestamp:performance.now()),cc),set:t=>{cc=t,queueMicrotask(FP)}},i1=t=>e=>typeof e=="string"&&e.startsWith(t),bg=i1("--"),GP=i1("var(--"),Sg=t=>GP(t)?qP.test(t.split("/*")[0].trim()):!1,qP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pl={...Oa,transform:t=>wi(0,1,t)},ec={...Oa,default:1},Xo=t=>Math.round(t*1e5)/1e5,Eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YP(t){return t==null}const KP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tg=(t,e)=>n=>!!(typeof n=="string"&&KP.test(n)&&n.startsWith(t)||e&&!YP(n)&&Object.prototype.hasOwnProperty.call(n,e)),s1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,f]=r.match(Eg);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},WP=t=>wi(0,255,t),$d={...Oa,transform:t=>Math.round(WP(t))},Ys={test:Tg("rgb","red"),parse:s1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$d.transform(t)+", "+$d.transform(e)+", "+$d.transform(n)+", "+Xo(pl.transform(r))+")"};function $P(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Lp={test:Tg("#"),parse:$P,transform:Ys.transform},kl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ts=kl("deg"),Kn=kl("%"),ge=kl("px"),XP=kl("vh"),QP=kl("vw"),oS={...Kn,parse:t=>Kn.parse(t)/100,transform:t=>Kn.transform(t*100)},Zr={test:Tg("hsl","hue"),parse:s1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kn.transform(Xo(e))+", "+Kn.transform(Xo(n))+", "+Xo(pl.transform(r))+")"},mt={test:t=>Ys.test(t)||Lp.test(t)||Zr.test(t),parse:t=>Ys.test(t)?Ys.parse(t):Zr.test(t)?Zr.parse(t):Lp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ys.transform(t):Zr.transform(t),getAnimatableNone:t=>{const e=mt.parse(t);return e.alpha=0,mt.transform(e)}},ZP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Eg))==null?void 0:e.length)||0)+(((n=t.match(ZP))==null?void 0:n.length)||0)>0}const r1="number",a1="color",eL="var",tL="var(",lS="${}",nL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ml(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const f=e.replace(nL,p=>(mt.test(p)?(r.color.push(u),o.push(a1),n.push(mt.parse(p))):p.startsWith(tL)?(r.var.push(u),o.push(eL),n.push(p)):(r.number.push(u),o.push(r1),n.push(parseFloat(p))),++u,lS)).split(lS);return{values:n,split:f,indexes:r,types:o}}function o1(t){return ml(t).values}function l1(t){const{split:e,types:n}=ml(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const f=n[c];f===r1?u+=Xo(o[c]):f===a1?u+=mt.transform(o[c]):u+=o[c]}return u}}const iL=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function sL(t){const e=o1(t);return l1(t)(e.map(iL))}const ds={test:JP,parse:o1,createTransformer:l1,getAnimatableNone:sL};function Xd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,c=0;if(!e)o=u=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;o=Xd(p,f,t+1/3),u=Xd(p,f,t),c=Xd(p,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Vc(t,e){return n=>n>0?e:t}const it=(t,e,n)=>t+(e-t)*n,Qd=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},aL=[Lp,Ys,Zr],oL=t=>aL.find(e=>e.test(t));function uS(t){const e=oL(t);if(!e)return!1;let n=e.parse(t);return e===Zr&&(n=rL(n)),n}const cS=(t,e)=>{const n=uS(t),r=uS(e);if(!n||!r)return Vc(t,e);const o={...n};return u=>(o.red=Qd(n.red,r.red,u),o.green=Qd(n.green,r.green,u),o.blue=Qd(n.blue,r.blue,u),o.alpha=it(n.alpha,r.alpha,u),Ys.transform(o))},jp=new Set(["none","hidden"]);function lL(t,e){return jp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uL(t,e){return n=>it(t,e,n)}function wg(t){return typeof t=="number"?uL:typeof t=="string"?Sg(t)?Vc:mt.test(t)?cS:hL:Array.isArray(t)?u1:typeof t=="object"?mt.test(t)?cS:cL:Vc}function u1(t,e){const n=[...t],r=n.length,o=t.map((u,c)=>wg(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function cL(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=wg(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function fL(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],f=t.values[c]??0;n[o]=f,r[u]++}return n}const hL=(t,e)=>{const n=ds.createTransformer(e),r=ml(t),o=ml(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?jp.has(t)&&!o.values.length||jp.has(e)&&!r.values.length?lL(t,e):Ml(u1(fL(r,o),o.values),n):Vc(t,e)};function c1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):wg(t)(t,e)}const dL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Je.update(e,n),stop:()=>hs(e),now:()=>Dt.isProcessing?Dt.timestamp:Xt.now()}},f1=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=Math.round(t(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bc=2e4;function xg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Bc;)e+=n,r=t.next(e);return e>=Bc?1/0:e}function pL(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(xg(r),Bc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Yn(o)}}const mL=5;function h1(t,e,n){const r=Math.max(e-mL,0);return qw(n-t(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zd=.001;function gL({duration:t=ot.duration,bounce:e=ot.bounce,velocity:n=ot.velocity,mass:r=ot.mass}){let o,u,c=1-e;c=wi(ot.minDamping,ot.maxDamping,c),t=wi(ot.minDuration,ot.maxDuration,Yn(t)),c<1?(o=h=>{const g=h*c,y=g*t,v=g-n,b=Up(h,c),E=Math.exp(-y);return Zd-v/b*E},u=h=>{const y=h*c*t,v=y*n+n,b=Math.pow(c,2)*Math.pow(h,2)*t,E=Math.exp(-y),w=Up(Math.pow(h,2),c);return(-o(h)+Zd>0?-1:1)*((v-b)*E)/w}):(o=h=>{const g=Math.exp(-h*t),y=(h-n)*t+1;return-Zd+g*y},u=h=>{const g=Math.exp(-h*t),y=(n-h)*(t*t);return g*y});const f=5/t,p=vL(o,u,f);if(t=qn(t),isNaN(p))return{stiffness:ot.stiffness,damping:ot.damping,duration:t};{const h=Math.pow(p,2)*r;return{stiffness:h,damping:c*2*Math.sqrt(r*h),duration:t}}}const yL=12;function vL(t,e,n){let r=n;for(let o=1;o<yL;o++)r=r-t(r)/e(r);return r}function Up(t,e){return t*Math.sqrt(1-e*e)}const _L=["duration","bounce"],bL=["stiffness","damping","mass"];function fS(t,e){return e.some(n=>t[n]!==void 0)}function SL(t){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...t};if(!fS(t,bL)&&fS(t,_L))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*wi(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:u}}else{const n=gL(t);e={...e,...n,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function zc(t=ot.visualDuration,e=ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:h,mass:g,duration:y,velocity:v,isResolvedFromDuration:b}=SL({...n,velocity:-Yn(n.velocity||0)}),E=v||0,w=h/(2*Math.sqrt(p*g)),R=c-u,N=Yn(Math.sqrt(p/g)),D=Math.abs(R)<5;r||(r=D?ot.restSpeed.granular:ot.restSpeed.default),o||(o=D?ot.restDelta.granular:ot.restDelta.default);let M;if(w<1){const I=Up(N,w);M=H=>{const q=Math.exp(-w*N*H);return c-q*((E+w*N*R)/I*Math.sin(I*H)+R*Math.cos(I*H))}}else if(w===1)M=I=>c-Math.exp(-N*I)*(R+(E+N*R)*I);else{const I=N*Math.sqrt(w*w-1);M=H=>{const q=Math.exp(-w*N*H),F=Math.min(I*H,300);return c-q*((E+w*N*R)*Math.sinh(F)+I*R*Math.cosh(F))/I}}const K={calculatedDuration:b&&y||null,next:I=>{const H=M(I);if(b)f.done=I>=y;else{let q=I===0?E:0;w<1&&(q=I===0?qn(E):h1(M,I,H));const F=Math.abs(q)<=r,J=Math.abs(c-H)<=o;f.done=F&&J}return f.value=f.done?c:H,f},toString:()=>{const I=Math.min(xg(K),Bc),H=f1(q=>K.next(I*q).value,I,30);return I+"ms "+H},toTransition:()=>{}};return K}zc.applyToOptions=t=>{const e=pL(t,100,zc);return t.ease=e.ease,t.duration=qn(e.duration),t.type="keyframes",t};function Vp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:p,restDelta:h=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},b=F=>f!==void 0&&F<f||p!==void 0&&F>p,E=F=>f===void 0?p:p===void 0||Math.abs(f-F)<Math.abs(p-F)?f:p;let w=n*e;const R=y+w,N=c===void 0?R:c(R);N!==R&&(w=N-y);const D=F=>-w*Math.exp(-F/r),M=F=>N+D(F),K=F=>{const J=D(F),ie=M(F);v.done=Math.abs(J)<=h,v.value=v.done?N:ie};let I,H;const q=F=>{b(v.value)&&(I=F,H=zc({keyframes:[v.value,E(v.value)],velocity:h1(M,F,v.value),damping:o,stiffness:u,restDelta:h,restSpeed:g}))};return q(0),{calculatedDuration:null,next:F=>{let J=!1;return!H&&I===void 0&&(J=!0,K(F),q(F)),I!==void 0&&F>=I?H.next(F-I):(!J&&K(F),v)}}}function EL(t,e,n){const r=[],o=n||xi.mix||c1,u=t.length-1;for(let c=0;c<u;c++){let f=o(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||En:e;f=Ml(p,f)}r.push(f)}return r}function TL(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(mg(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=EL(e,r,o),p=f.length,h=g=>{if(c&&g<t[0])return e[0];let y=0;if(p>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=dl(t[y],t[y+1],g);return f[y](v)};return n?g=>h(wi(t[0],t[u-1],g)):h}function wL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=dl(0,e,r);t.push(it(n,1,o))}}function xL(t){const e=[0];return wL(e,t.length-1),e}function CL(t,e){return t.map(n=>n*e)}function AL(t,e){return t.map(()=>e||e1).splice(0,t.length-1)}function Qo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=UP(r)?r.map(aS):aS(r),u={done:!1,value:e[0]},c=CL(n&&n.length===e.length?n:xL(e),t),f=TL(c,e,{ease:Array.isArray(o)?o:AL(e,o)});return{calculatedDuration:t,next:p=>(u.value=f(p),u.done=p>=t,u)}}const RL=t=>t!==null;function Cg(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(RL),f=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!f||r===void 0?u[f]:r}const NL={decay:Vp,inertia:Vp,tween:Qo,keyframes:Qo,spring:zc};function d1(t){typeof t.type=="string"&&(t.type=NL[t.type])}class Ag{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const DL=t=>t/100;class Rg extends Ag{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Xt.now()&&this.tick(Xt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;d1(e);const{type:n=Qo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:f}=e;const p=n||Qo;p!==Qo&&typeof f[0]!="number"&&(this.mixKeyframes=Ml(DL,c1(f[0],f[1])),f=[0,100]);const h=p({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=xg(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:b,type:E,onUpdate:w,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?N<0:N>o;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let M=this.currentTime,K=r;if(y){const F=Math.min(this.currentTime,o)/f;let J=Math.floor(F),ie=F%1;!ie&&F>=1&&(ie=1),ie===1&&J--,J=Math.min(J,y+1),!!(J%2)&&(v==="reverse"?(ie=1-ie,b&&(ie-=b/f)):v==="mirror"&&(K=c)),M=wi(0,1,ie)*f}const I=D?{done:!1,value:g[0]}:K.next(M);u&&(I.value=u(I.value));let{done:H}=I;!D&&p!==null&&(H=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return q&&E!==Vp&&(I.value=Cg(g,this.options,R,this.speed)),w&&w(I.value),q&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Yn(this.calculatedDuration)}get time(){return Yn(this.currentTime)}set time(e){var n;e=qn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yn(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:e=dL,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function OL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ks=t=>t*180/Math.PI,Bp=t=>{const e=Ks(Math.atan2(t[1],t[0]));return zp(e)},ML={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bp,rotateZ:Bp,skewX:t=>Ks(Math.atan(t[1])),skewY:t=>Ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zp=t=>(t=t%360,t<0&&(t+=360),t),hS=Bp,dS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),IL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dS,scaleY:pS,scale:t=>(dS(t)+pS(t))/2,rotateX:t=>zp(Ks(Math.atan2(t[6],t[5]))),rotateY:t=>zp(Ks(Math.atan2(-t[2],t[0]))),rotateZ:hS,rotate:hS,skewX:t=>Ks(Math.atan(t[4])),skewY:t=>Ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hp(t){return t.includes("scale")?1:0}function Fp(t,e){if(!t||t==="none")return Hp(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=IL,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ML,o=f}if(!o)return Hp(e);const u=r[e],c=o[1].split(",").map(PL);return typeof u=="function"?u(c):c[u]}const kL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fp(n,e)};function PL(t){return parseFloat(t.trim())}const Ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ia=new Set(Ma),mS=t=>t===Oa||t===ge,LL=new Set(["x","y","z"]),jL=Ma.filter(t=>!LL.has(t));function UL(t){const e=[];return jL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $s={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fp(e,"x"),y:(t,{transform:e})=>Fp(e,"y")};$s.translateX=$s.x;$s.translateY=$s.y;const Xs=new Set;let Gp=!1,qp=!1,Yp=!1;function p1(){if(qp){const t=Array.from(Xs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=UL(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{var f;(f=r.getValue(u))==null||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qp=!1,Gp=!1,Xs.forEach(t=>t.complete(Yp)),Xs.clear()}function m1(){Xs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qp=!0)})}function VL(){Yp=!0,m1(),p1(),Yp=!1}class Ng{constructor(e,n,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xs.add(this),Gp||(Gp=!0,Je.read(m1),Je.resolveKeyframes(p1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}OL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xs.delete(this)}cancel(){this.state==="scheduled"&&(Xs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BL=t=>t.startsWith("--");function zL(t,e,n){BL(e)?t.style.setProperty(e,n):t.style[e]=n}const HL=gg(()=>window.ScrollTimeline!==void 0),FL={};function GL(t,e){const n=gg(t);return()=>FL[e]??n()}const g1=GL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ho=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function y1(t,e){if(t)return typeof t=="function"?g1()?f1(t,e):"ease-out":t1(t)?Ho(t):Array.isArray(t)?t.map(n=>y1(n,e)||gS.easeOut):gS[t]}function qL(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:p}={},h=void 0){const g={[e]:n};p&&(g.offset=p);const y=y1(f,o);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(g,v)}function v1(t){return typeof t=="function"&&"applyToOptions"in t}function YL({type:t,...e}){return v1(t)&&g1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class KL extends Ag{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,mg(typeof e.type!="string");const h=YL(e);this.animation=qL(n,r,o,h,u),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Cg(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):zL(n,r,g),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yn(Number(e))}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&HL()?(this.animation.timeline=e,En):n(this)}}const _1={anticipate:Qw,backInOut:Xw,circInOut:Jw};function WL(t){return t in _1}function $L(t){typeof t.ease=="string"&&WL(t.ease)&&(t.ease=_1[t.ease])}const yS=10;class XL extends KL{constructor(e){$L(e),d1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Rg({...c,autoplay:!1}),p=qn(this.finishedTime??this.time);n.setWithVelocity(f.sample(p-yS).value,f.sample(p).value,yS),f.stop()}}const vS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ds.test(t)||t==="0")&&!t.startsWith("url("));function QL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ZL(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=vS(o,e),f=vS(u,e);return!c||!f?!1:QL(t)||(n==="spring"||v1(n))&&r}function Kp(t){t.duration=0,t.type}const JL=new Set(["opacity","clipPath","filter","transform"]),e3=gg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t3(t){var g;const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:h}=e.owner.getProps();return e3()&&n&&JL.has(n)&&(n!=="transform"||!h)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const n3=40;class i3 extends Ag{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:p,motionValue:h,element:g,...y}){var E;super(),this.stop=()=>{var w,R;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Xt.now();const v={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:h,element:g,...y},b=(g==null?void 0:g.KeyframeResolver)||Ng;this.keyframeResolver=new b(f,(w,R,N)=>this.onKeyframesResolved(w,R,v,!N),p,h,g),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:p,isHandoff:h,onUpdate:g}=r;this.resolvedAt=Xt.now(),ZL(e,u,c,f)||((xi.instantAnimations||!p)&&(g==null||g(Cg(e,r,n))),e[0]=e[e.length-1],Kp(r),r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>n3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!h&&t3(v)?new XL({...v,element:v.motionValue.owner.current}):new Rg(v);b.finished.then(()=>this.notifyFinished()).catch(En),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),VL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const s3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r3(t){const e=s3.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function b1(t,e,n=1){const[r,o]=r3(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return Hw(c)?parseFloat(c):c}return Sg(o)?b1(o,e,n+1):o}function Dg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const S1=new Set(["width","height","top","left","right","bottom",...Ma]),a3={test:t=>t==="auto",parse:t=>t},E1=t=>e=>e.test(t),T1=[Oa,ge,Kn,ts,QP,XP,a3],_S=t=>T1.find(E1(t));function o3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Gw(t):!0}const l3=new Set(["brightness","contrast","saturate","opacity"]);function u3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Eg)||[];if(!r)return t;const o=n.replace(r,"");let u=l3.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const c3=/\b([a-z-]*)\(.*?\)/gu,Wp={...ds,getAnimatableNone:t=>{const e=t.match(c3);return e?e.map(u3).join(" "):t}},bS={...Oa,transform:Math.round},f3={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:ts,skewX:ts,skewY:ts,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:pl,originX:oS,originY:oS,originZ:ge},Og={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...f3,zIndex:bS,fillOpacity:pl,strokeOpacity:pl,numOctaves:bS},h3={...Og,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Wp,WebkitFilter:Wp},w1=t=>h3[t];function x1(t,e){let n=w1(t);return n!==Wp&&(n=ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const d3=new Set(["auto","none","0"]);function p3(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!d3.has(u)&&ml(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=x1(n,o)}class m3 extends Ng{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),Sg(h))){const g=b1(h,n.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!S1.has(r)||e.length!==2)return;const[o,u]=e,c=_S(o),f=_S(u);if(c!==f)if(mS(c)&&mS(f))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else $s[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||o3(e[o]))&&r.push(o);r.length&&p3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$s[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=$s[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([p,h])=>{e.getValue(p).set(h)}),this.resolveNoneKeyframes()}}function g3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const C1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function A1(t){return Fw(t)&&"offsetHeight"in t}const SS=30,y3=t=>!isNaN(parseFloat(t));class v3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=Xt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=y3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>SS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,SS);return qw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function va(t,e){return new v3(t,e)}const{schedule:Mg}=n1(queueMicrotask,!1),Nn={x:!1,y:!1};function R1(){return Nn.x||Nn.y}function _3(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function N1(t,e){const n=g3(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function ES(t){return!(t.pointerType==="touch"||R1())}function b3(t,e,n={}){const[r,o,u]=N1(t,n),c=f=>{if(!ES(f))return;const{target:p}=f,h=e(p,f);if(typeof h!="function"||!p)return;const g=y=>{ES(y)&&(h(y),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,o)};return r.forEach(f=>{f.addEventListener("pointerenter",c,o)}),u}const D1=(t,e)=>e?t===e?!0:D1(t,e.parentElement):!1,Ig=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,S3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E3(t){return S3.has(t.tagName)||t.tabIndex!==-1}const fc=new WeakSet;function TS(t){return e=>{e.key==="Enter"&&t(e)}}function Jd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=TS(()=>{if(fc.has(n))return;Jd(n,"down");const o=TS(()=>{Jd(n,"up")}),u=()=>Jd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function wS(t){return Ig(t)&&!R1()}function w3(t,e,n={}){const[r,o,u]=N1(t,n),c=f=>{const p=f.currentTarget;if(!wS(f))return;fc.add(p);const h=e(p,f),g=(b,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),fc.has(p)&&fc.delete(p),wS(b)&&typeof h=="function"&&h(b,{success:E})},y=b=>{g(b,p===window||p===document||n.useGlobalTarget||D1(p,b.target))},v=b=>{g(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),A1(f)&&(f.addEventListener("focus",h=>T3(h,o)),!E3(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function O1(t){return Fw(t)&&"ownerSVGElement"in t}function x3(t){return O1(t)&&t.tagName==="svg"}const Lt=t=>!!(t&&t.getVelocity),C3=[...T1,mt,ds],A3=t=>C3.find(E1(t)),kg=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class R3 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=A1(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N3({children:t,isPresent:e,anchorX:n,root:r}){const o=A.useId(),u=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=A.useContext(kg);return A.useInsertionEffect(()=>{const{width:p,height:h,top:g,left:y,right:v}=c.current;if(e||!u.current||!p||!h)return;const b=n==="left"?`left: ${y}`:`right: ${v}`;u.current.dataset.motionPopId=o;const E=document.createElement("style");f&&(E.nonce=f);const w=r??document.head;return w.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${g}px !important;
          }
        `),()=>{w.contains(E)&&w.removeChild(E)}},[e]),x.jsx(R3,{isPresent:e,childRef:u,sizeRef:c,children:A.cloneElement(t,{ref:u})})}const D3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:f,root:p})=>{const h=fg(O3),g=A.useId();let y=!0,v=A.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:o,onExitComplete:b=>{h.set(b,!0);for(const E of h.values())if(!E)return;r&&r()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,r]);return u&&y&&(v={...v}),A.useMemo(()=>{h.forEach((b,E)=>h.set(E,!1))},[n]),A.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),c==="popLayout"&&(t=x.jsx(N3,{isPresent:n,anchorX:f,root:p,children:t})),x.jsx(cf.Provider,{value:v,children:t})};function O3(){return new Map}function M1(t=!0){const e=A.useContext(cf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=A.useId();A.useEffect(()=>{if(t)return o(u)},[t]);const c=A.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,c]:[!0]}const tc=t=>t.key||"";function xS(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const I1=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:f="left",root:p})=>{const[h,g]=M1(c),y=A.useMemo(()=>xS(t),[t]),v=c&&!h?[]:y.map(tc),b=A.useRef(!0),E=A.useRef(y),w=fg(()=>new Map),[R,N]=A.useState(y),[D,M]=A.useState(y);zw(()=>{b.current=!1,E.current=y;for(let H=0;H<D.length;H++){const q=tc(D[H]);v.includes(q)?w.delete(q):w.get(q)!==!0&&w.set(q,!1)}},[D,v.length,v.join("-")]);const K=[];if(y!==R){let H=[...y];for(let q=0;q<D.length;q++){const F=D[q],J=tc(F);v.includes(J)||(H.splice(q,0,F),K.push(F))}return u==="wait"&&K.length&&(H=K),M(xS(H)),N(y),null}const{forceRender:I}=A.useContext(cg);return x.jsx(x.Fragment,{children:D.map(H=>{const q=tc(H),F=c&&!h?!1:y===D||v.includes(q),J=()=>{if(w.has(q))w.set(q,!0);else return;let ie=!0;w.forEach(se=>{se||(ie=!1)}),ie&&(I==null||I(),M(E.current),c&&(g==null||g()),r&&r())};return x.jsx(D3,{isPresent:F,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:F?void 0:J,anchorX:f,children:H},q)})})},k1=A.createContext({strict:!1}),CS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_a={};for(const t in CS)_a[t]={isEnabled:e=>CS[t].some(n=>!!e[n])};function M3(t){for(const e in t)_a[e]={..._a[e],...t[e]}}const I3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||I3.has(t)}let P1=t=>!Hc(t);function k3(t){typeof t=="function"&&(P1=e=>e.startsWith("on")?!Hc(e):t(e))}try{k3(require("@emotion/is-prop-valid").default)}catch{}function P3(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(P1(o)||n===!0&&Hc(o)||!e&&!Hc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const ff=A.createContext({});function hf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gl(t){return typeof t=="string"||Array.isArray(t)}const Pg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lg=["initial",...Pg];function df(t){return hf(t.animate)||Lg.some(e=>gl(t[e]))}function L1(t){return!!(df(t)||t.variants)}function L3(t,e){if(df(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gl(n)?n:void 0,animate:gl(r)?r:void 0}}return t.inherit!==!1?e:{}}function j3(t){const{initial:e,animate:n}=L3(t,A.useContext(ff));return A.useMemo(()=>({initial:e,animate:n}),[AS(e),AS(n)])}function AS(t){return Array.isArray(t)?t.join(" "):t}const yl={};function U3(t){for(const e in t)yl[e]=t[e],bg(e)&&(yl[e].isCSSVariable=!0)}function j1(t,{layout:e,layoutId:n}){return Ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yl[t]||t==="opacity")}const V3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B3=Ma.length;function z3(t,e,n){let r="",o=!0;for(let u=0;u<B3;u++){const c=Ma[u],f=t[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const h=C1(f,Og[c]);if(!p){o=!1;const g=V3[c]||c;r+=`${g}(${h}) `}n&&(e[c]=h)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function jg(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,f=!1;for(const p in e){const h=e[p];if(Ia.has(p)){c=!0;continue}else if(bg(p)){o[p]=h;continue}else{const g=C1(h,Og[p]);p.startsWith("origin")?(f=!0,u[p]=g):r[p]=g}}if(e.transform||(c||n?r.transform=z3(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:p="50%",originY:h="50%",originZ:g=0}=u;r.transformOrigin=`${p} ${h} ${g}`}}const Ug=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function U1(t,e,n){for(const r in e)!Lt(e[r])&&!j1(r,n)&&(t[r]=e[r])}function H3({transformTemplate:t},e){return A.useMemo(()=>{const n=Ug();return jg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function F3(t,e){const n=t.style||{},r={};return U1(r,n,t),Object.assign(r,H3(t,e)),r}function G3(t,e){const n={},r=F3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const q3={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y3={offset:"strokeDashoffset",array:"strokeDasharray"};function K3(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?q3:Y3;t[u.offset]=ge.transform(-r);const c=ge.transform(e),f=ge.transform(n);t[u.array]=`${c} ${f}`}function V1(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...f},p,h,g){if(jg(t,f,h),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&K3(y,o,u,c,!1)}const B1=()=>({...Ug(),attrs:{}}),z1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W3(t,e,n,r){const o=A.useMemo(()=>{const u=B1();return V1(u,e,z1(r),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};U1(u,t.style,t),o.style={...u,...o.style}}return o}const $3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vg(t){return typeof t!="string"||t.includes("-")?!1:!!($3.indexOf(t)>-1||/[A-Z]/u.test(t))}function X3(t,e,n,{latestValues:r},o,u=!1){const f=(Vg(t)?W3:G3)(e,r,o,t),p=P3(e,typeof t=="string",u),h=t!==A.Fragment?{...p,...f,ref:n}:{},{children:g}=e,y=A.useMemo(()=>Lt(g)?g.get():g,[g]);return A.createElement(t,{...h,children:y})}function RS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Bg(t,e,n,r){if(typeof e=="function"){const[o,u]=RS(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=RS(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function hc(t){return Lt(t)?t.get():t}function Q3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:Z3(n,r,o,t),renderState:e()}}function Z3(t,e,n,r){const o={},u=r(t,{});for(const v in u)o[v]=hc(u[v]);let{initial:c,animate:f}=t;const p=df(t),h=L1(t);e&&h&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?f:c;if(y&&typeof y!="boolean"&&!hf(y)){const v=Array.isArray(y)?y:[y];for(let b=0;b<v.length;b++){const E=Bg(t,v[b]);if(E){const{transitionEnd:w,transition:R,...N}=E;for(const D in N){let M=N[D];if(Array.isArray(M)){const K=g?M.length-1:0;M=M[K]}M!==null&&(o[D]=M)}for(const D in w)o[D]=w[D]}}}return o}const H1=t=>(e,n)=>{const r=A.useContext(ff),o=A.useContext(cf),u=()=>Q3(t,e,r,o);return n?u():fg(u)};function zg(t,e,n){var u;const{style:r}=t,o={};for(const c in r)(Lt(r[c])||e.style&&Lt(e.style[c])||j1(c,t)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const J3=H1({scrapeMotionValuesFromProps:zg,createRenderState:Ug});function F1(t,e,n){const r=zg(t,e,n);for(const o in t)if(Lt(t[o])||Lt(e[o])){const u=Ma.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const e4=H1({scrapeMotionValuesFromProps:F1,createRenderState:B1}),t4=Symbol.for("motionComponentSymbol");function Jr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n4(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Jr(n)&&(n.current=r))},[e])}const Hg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i4="framerAppearId",G1="data-"+Hg(i4),q1=A.createContext({});function s4(t,e,n,r,o){var w,R;const{visualElement:u}=A.useContext(ff),c=A.useContext(k1),f=A.useContext(cf),p=A.useContext(kg).reducedMotion,h=A.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const g=h.current,y=A.useContext(q1);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&r4(h.current,n,o,y);const v=A.useRef(!1);A.useInsertionEffect(()=>{g&&v.current&&g.update(n,f)});const b=n[G1],E=A.useRef(!!b&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,b))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,b)));return zw(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),A.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,b)}),E.current=!1),g.enteringChildren=void 0)}),g}function r4(t,e,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:h,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Y1(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||f&&Jr(f),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:p,layoutRoot:h})}function Y1(t){if(t)return t.options.allowProjection!==!1?t.projection:Y1(t.parent)}function ep(t,{forwardMotionProps:e=!1}={},n,r){n&&M3(n);const o=Vg(t)?e4:J3;function u(f,p){let h;const g={...A.useContext(kg),...f,layoutId:a4(f)},{isStatic:y}=g,v=j3(f),b=o(f,y);if(!y&&hg){o4();const E=l4(g);h=E.MeasureLayout,v.visualElement=s4(t,b,g,r,E.ProjectionNode)}return x.jsxs(ff.Provider,{value:v,children:[h&&v.visualElement?x.jsx(h,{visualElement:v.visualElement,...g}):null,X3(t,f,n4(b,v.visualElement,p),b,y,e)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(u);return c[t4]=t,c}function a4({layoutId:t}){const e=A.useContext(cg).id;return e&&t!==void 0?e+"-"+t:t}function o4(t,e){A.useContext(k1).strict}function l4(t){const{drag:e,layout:n}=_a;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function u4(t,e){if(typeof Proxy>"u")return ep;const n=new Map,r=(u,c)=>ep(u,c,t,e),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(n.has(c)||n.set(c,ep(c,void 0,t,e)),n.get(c))})}function K1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function c4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function f4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tp(t){return t===void 0||t===1}function $p({scale:t,scaleX:e,scaleY:n}){return!tp(t)||!tp(e)||!tp(n)}function Hs(t){return $p(t)||W1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function W1(t){return NS(t.x)||NS(t.y)}function NS(t){return t&&t!=="0%"}function Fc(t,e,n){const r=t-n,o=e*r;return n+o}function DS(t,e,n,r,o){return o!==void 0&&(t=Fc(t,o,r)),Fc(t,n,r)+e}function Xp(t,e=0,n=1,r,o){t.min=DS(t.min,e,n,r,o),t.max=DS(t.max,e,n,r,o)}function $1(t,{x:e,y:n}){Xp(t.x,e.translate,e.scale,e.originPoint),Xp(t.y,n.translate,n.scale,n.originPoint)}const OS=.999999999999,MS=1.0000000000001;function h4(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,c;for(let f=0;f<o;f++){u=n[f],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ta(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,$1(t,c)),r&&Hs(u.latestValues)&&ta(t,u.latestValues))}e.x<MS&&e.x>OS&&(e.x=1),e.y<MS&&e.y>OS&&(e.y=1)}function ea(t,e){t.min=t.min+e,t.max=t.max+e}function IS(t,e,n,r,o=.5){const u=it(t.min,t.max,o);Xp(t,e,n,u,r)}function ta(t,e){IS(t.x,e.x,e.scaleX,e.scale,e.originX),IS(t.y,e.y,e.scaleY,e.scale,e.originY)}function X1(t,e){return K1(f4(t.getBoundingClientRect(),e))}function d4(t,e,n){const r=X1(t,n),{scroll:o}=e;return o&&(ea(r.x,o.offset.x),ea(r.y,o.offset.y)),r}const kS=()=>({translate:0,scale:1,origin:0,originPoint:0}),na=()=>({x:kS(),y:kS()}),PS=()=>({min:0,max:0}),ht=()=>({x:PS(),y:PS()}),Qp={current:null},Q1={current:!1};function p4(){if(Q1.current=!0,!!hg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qp.current=t.matches;t.addEventListener("change",e),e()}else Qp.current=!1}const m4=new WeakMap;function g4(t,e,n){for(const r in e){const o=e[r],u=n[r];if(Lt(o))t.addValue(r,o);else if(Lt(u))t.addValue(r,va(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,va(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ng,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Xt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Je.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=df(n),this.isVariantNode=L1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const b=y[v];p[v]!==void 0&&Lt(b)&&b.set(p[v])}}mount(e){var n;this.current=e,m4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),Q1.current||p4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qp.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),hs(this.notifyUpdate),hs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ia.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _a){const n=_a[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LS.length;r++){const o=LS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=g4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=va(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Hw(r)||Gw(r))?r=parseFloat(r):!A3(r)&&ds.test(n)&&(r=x1(e,n)),this.setBaseTarget(e,Lt(r)?r.get():r)),Lt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Bg(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Lt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Mg.render(this.render)}}class Z1 extends y4{constructor(){super(...arguments),this.KeyframeResolver=m3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function J1(t,{style:e,vars:n},r,o){const u=t.style;let c;for(c in e)u[c]=e[c];o==null||o.applyProjectionStyles(u,r);for(c in n)u.setProperty(c,n[c])}function v4(t){return window.getComputedStyle(t)}class _4 extends Z1{constructor(){super(...arguments),this.type="html",this.renderInstance=J1}readValueFromInstance(e,n){var r;if(Ia.has(n))return(r=this.projection)!=null&&r.isProjecting?Hp(n):kL(e,n);{const o=v4(e),u=(bg(n)?o.getPropertyValue(n):o[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return X1(e,n)}build(e,n,r){jg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zg(e,n,r)}}const ex=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b4(t,e,n,r){J1(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(ex.has(o)?o:Hg(o),e.attrs[o])}class S4 extends Z1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ia.has(n)){const r=w1(n);return r&&r.default||0}return n=ex.has(n)?n:Hg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return F1(e,n,r)}build(e,n,r){V1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,o){b4(e,n,r,o)}mount(e){this.isSVGTag=z1(e.tagName),super.mount(e)}}const E4=(t,e)=>Vg(t)?new S4(e):new _4(e,{allowProjection:t!==A.Fragment});function ua(t,e,n){const r=t.getProps();return Bg(r,e,n!==void 0?n:r.custom,t)}const Zp=t=>Array.isArray(t);function T4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,va(n))}function w4(t){return Zp(t)?t[t.length-1]||0:t}function x4(t,e){const n=ua(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const f=w4(u[c]);T4(t,c,f)}}function C4(t){return!!(Lt(t)&&t.add)}function Jp(t,e){const n=t.getValue("willChange");if(C4(n))return n.add(e);if(!n&&xi.WillChange){const r=new xi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function tx(t){return t.props[G1]}const A4=t=>t!==null;function R4(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(A4),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const N4={type:"spring",stiffness:500,damping:25,restSpeed:10},D4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O4={type:"keyframes",duration:.8},M4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I4=(t,{keyframes:e})=>e.length>2?O4:Ia.has(t)?t.startsWith("scale")?D4(e[1]):N4:M4;function k4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:f,from:p,elapsed:h,...g}){return!!Object.keys(g).length}const Fg=(t,e,n,r={},o,u)=>c=>{const f=Dg(r,t)||{},p=f.delay||r.delay||0;let{elapsed:h=0}=r;h=h-qn(p);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-h,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:u?void 0:o};k4(f)||Object.assign(g,I4(t,g)),g.duration&&(g.duration=qn(g.duration)),g.repeatDelay&&(g.repeatDelay=qn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Kp(g),g.delay===0&&(y=!0)),(xi.instantAnimations||xi.skipAnimations)&&(y=!0,Kp(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,y&&!u&&e.get()!==void 0){const v=R4(g.keyframes,f);if(v!==void 0){Je.update(()=>{g.onUpdate(v),g.onComplete()});return}}return f.isSync?new Rg(g):new i3(g)};function P4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nx(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(u=r);const p=[],h=o&&t.animationState&&t.animationState.getState()[o];for(const g in f){const y=t.getValue(g,t.latestValues[g]??null),v=f[g];if(v===void 0||h&&P4(h,g))continue;const b={delay:n,...Dg(u||{},g)},E=y.get();if(E!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===E&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=tx(t);if(N){const D=window.MotionHandoffAnimation(N,g,Je);D!==null&&(b.startTime=D,w=!0)}}Jp(t,g),y.start(Fg(g,y,v,t.shouldReduceMotion&&S1.has(g)?{type:!1}:b,t,w));const R=y.animation;R&&p.push(R)}return c&&Promise.all(p).then(()=>{Je.update(()=>{c&&x4(t,c)})}),p}function ix(t,e,n,r=0,o=1){const u=Array.from(t).sort((h,g)=>h.sortNodePosition(g)).indexOf(e),c=t.size,f=(c-1)*r;return typeof n=="function"?n(u,c):o===1?u*r:f-u*r}function em(t,e,n={}){var p;const r=ua(t,e,n.type==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(nx(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return L4(t,e,h,g,y,v,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,g]=f==="beforeChildren"?[u,c]:[c,u];return h().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function L4(t,e,n=0,r=0,o=0,u=1,c){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(em(p,e,{...c,delay:n+(typeof r=="function"?0:r)+ix(t.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function j4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>em(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=em(t,e,n);else{const o=typeof e=="function"?ua(t,e,n.custom):e;r=Promise.all(nx(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function sx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const U4=Lg.length;function rx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<U4;n++){const r=Lg[n],o=t.props[r];(gl(o)||o===!1)&&(e[r]=o)}return e}const V4=[...Pg].reverse(),B4=Pg.length;function z4(t){return e=>Promise.all(e.map(({animation:n,options:r})=>j4(t,n,r)))}function H4(t){let e=z4(t),n=jS(),r=!0;const o=p=>(h,g)=>{var v;const y=ua(t,g,p==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:b,transitionEnd:E,...w}=y;h={...h,...w,...E}}return h};function u(p){e=p(t)}function c(p){const{props:h}=t,g=rx(t.parent)||{},y=[],v=new Set;let b={},E=1/0;for(let R=0;R<B4;R++){const N=V4[R],D=n[N],M=h[N]!==void 0?h[N]:g[N],K=gl(M),I=N===p?D.isActive:null;I===!1&&(E=R);let H=M===g[N]&&M!==h[N]&&K;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),D.protectedKeys={...b},!D.isActive&&I===null||!M&&!D.prevProp||hf(M)||typeof M=="boolean")continue;const q=F4(D.prevProp,M);let F=q||N===p&&D.isActive&&!H&&K||R>E&&K,J=!1;const ie=Array.isArray(M)?M:[M];let se=ie.reduce(o(N),{});I===!1&&(se={});const{prevResolvedValues:le={}}=D,Ae={...le,...se},Se=Z=>{F=!0,v.has(Z)&&(J=!0,v.delete(Z)),D.needsAnimating[Z]=!0;const ae=t.getValue(Z);ae&&(ae.liveStyle=!1)};for(const Z in Ae){const ae=se[Z],re=le[Z];if(b.hasOwnProperty(Z))continue;let T=!1;Zp(ae)&&Zp(re)?T=!sx(ae,re):T=ae!==re,T?ae!=null?Se(Z):v.add(Z):ae!==void 0&&v.has(Z)?Se(Z):D.protectedKeys[Z]=!0}D.prevProp=M,D.prevResolvedValues=se,D.isActive&&(b={...b,...se}),r&&t.blockInitialAnimation&&(F=!1);const pe=H&&q;F&&(!pe||J)&&y.push(...ie.map(Z=>{const ae={type:N};if(typeof Z=="string"&&r&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,T=ua(re,Z);if(re.enteringChildren&&T){const{delayChildren:z}=T.transition||{};ae.delay=ix(re.enteringChildren,t,z)}}return{animation:Z,options:ae}}))}if(v.size){const R={};if(typeof h.initial!="boolean"){const N=ua(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(R.transition=N.transition)}v.forEach(N=>{const D=t.getBaseTarget(N),M=t.getValue(N);M&&(M.liveStyle=!0),R[N]=D??null}),y.push({animation:R})}let w=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(y):Promise.resolve()}function f(p,h){var y;if(n[p].isActive===h)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(p,h)}),n[p].isActive=h;const g=c(p);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>n,reset:()=>{n=jS(),r=!0}}}function F4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sx(e,t):!1}function Vs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jS(){return{animate:Vs(!0),whileInView:Vs(),whileHover:Vs(),whileTap:Vs(),whileDrag:Vs(),whileFocus:Vs(),exit:Vs()}}class bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class G4 extends bs{constructor(e){super(e),e.animationState||(e.animationState=H4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let q4=0;class Y4 extends bs{constructor(){super(...arguments),this.id=q4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const K4={animation:{Feature:G4},exit:{Feature:Y4}};function vl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pl(t){return{point:{x:t.pageX,y:t.pageY}}}const W4=t=>e=>Ig(e)&&t(e,Pl(e));function Zo(t,e,n,r){return vl(t,e,W4(n),r)}const ax=1e-4,$4=1-ax,X4=1+ax,ox=.01,Q4=0-ox,Z4=0+ox;function Ut(t){return t.max-t.min}function J4(t,e,n){return Math.abs(t-e)<=n}function US(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=Ut(n)/Ut(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$4&&t.scale<=X4||isNaN(t.scale))&&(t.scale=1),(t.translate>=Q4&&t.translate<=Z4||isNaN(t.translate))&&(t.translate=0)}function Jo(t,e,n,r){US(t.x,e.x,n.x,r?r.originX:void 0),US(t.y,e.y,n.y,r?r.originY:void 0)}function VS(t,e,n){t.min=n.min+e.min,t.max=t.min+Ut(e)}function ej(t,e,n){VS(t.x,e.x,n.x),VS(t.y,e.y,n.y)}function BS(t,e,n){t.min=e.min-n.min,t.max=t.min+Ut(e)}function el(t,e,n){BS(t.x,e.x,n.x),BS(t.y,e.y,n.y)}function bn(t){return[t("x"),t("y")]}const lx=({current:t})=>t?t.ownerDocument.defaultView:null,zS=(t,e)=>Math.abs(t-e);function tj(t,e){const n=zS(t.x,e.x),r=zS(t.y,e.y);return Math.sqrt(n**2+r**2)}class ux{constructor(e,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ip(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,E=tj(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!E)return;const{point:w}=v,{timestamp:R}=Dt;this.history.push({...w,timestamp:R});const{onStart:N,onMove:D}=this.handlers;b||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=np(b,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:E,onSessionEnd:w,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=ip(v.type==="pointercancel"?this.lastMoveEventInfo:np(b,this.transformPagePoint),this.history);this.startEvent&&E&&E(v,N),w&&w(v,N)},!Ig(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const f=Pl(e),p=np(f,this.transformPagePoint),{point:h}=p,{timestamp:g}=Dt;this.history=[{...h,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,ip(p,this.history)),this.removeListeners=Ml(Zo(this.contextWindow,"pointermove",this.handlePointerMove),Zo(this.contextWindow,"pointerup",this.handlePointerUp),Zo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hs(this.updatePoint)}}function np(t,e){return e?{point:e(t.point)}:t}function HS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ip({point:t},e){return{point:t,delta:HS(t,cx(e)),offset:HS(t,nj(e)),velocity:ij(e,.1)}}function nj(t){return t[0]}function cx(t){return t[t.length-1]}function ij(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=cx(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>qn(e)));)n--;if(!r)return{x:0,y:0};const u=Yn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function sj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function FS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rj(t,{top:e,left:n,bottom:r,right:o}){return{x:FS(t.x,n,o),y:FS(t.y,e,r)}}function GS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function aj(t,e){return{x:GS(t.x,e.x),y:GS(t.y,e.y)}}function oj(t,e){let n=.5;const r=Ut(t),o=Ut(e);return o>r?n=dl(e.min,e.max-r,t.min):r>o&&(n=dl(t.min,t.max-o,e.min)),wi(0,1,n)}function lj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tm=.35;function uj(t=tm){return t===!1?t=0:t===!0&&(t=tm),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:YS(t,e),max:YS(t,n)}}function YS(t,e){return typeof t=="number"?t:t[e]||0}const cj=new WeakMap;class fj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pl(y).point)},c=(y,v)=>{const{drag:b,dragPropagation:E,onDragStart:w}=this.getProps();if(b&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_3(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(N=>{let D=this.getAxisMotionValue(N).get()||0;if(Kn.test(D)){const{projection:M}=this.visualElement;if(M&&M.layout){const K=M.layout.layoutBox[N];K&&(D=Ut(K)*(parseFloat(D)/100))}}this.originPoint[N]=D}),w&&Je.postRender(()=>w(y,v)),Jp(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},f=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:E,onDirectionLock:w,onDrag:R}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=v;if(E&&this.currentDirection===null){this.currentDirection=hj(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),R&&R(y,v)},p=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>bn(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ux(e,{onSessionStart:u,onStart:c,onMove:f,onSessionEnd:p,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:lx(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Je.postRender(()=>f(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!nc(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=sj(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&Jr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rj(r.layoutBox,e):this.constraints=!1,this.elastic=uj(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=lj(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=d4(r,o.root,this.visualElement.getTransformPagePoint());let c=aj(o.layout.layoutBox,u);if(n){const f=n(c4(c));this.hasMutatedConstraints=!!f,f&&(c=K1(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},h=bn(g=>{if(!nc(g,n,this.currentDirection))return;let y=p&&p[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,b=o?40:1e7,E={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,E)});return Promise.all(h).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jp(this.visualElement,e),r.start(Fg(e,r,0,n,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(n=>{const{drag:r}=this.getProps();if(!nc(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[n];u.set(e[n]-it(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=oj({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(c=>{if(!nc(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:h}=this.constraints[c];f.set(it(p,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;cj.set(this.visualElement,this);const e=this.visualElement.current,n=Zo(e,"pointerdown",p=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Jr(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Je.read(r);const c=vl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(bn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=p[g].translate,y.set(y.get()+p[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=tm,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dj extends bs{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new fj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const KS=t=>(e,n)=>{t&&Je.postRender(()=>t(e,n))};class pj extends bs{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new ux(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:KS(e),onStart:KS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Je.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Zo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=WS(t,e.target.x),r=WS(t,e.target.y);return`${n}% ${r}%`}},mj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ds.parse(t);if(o.length>5)return r;const u=ds.createTransformer(t),c=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const h=it(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),u(o)}};let sp=!1;class gj extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;U3(yj),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),sp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,sp=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Je.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;sp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fx(t){const[e,n]=M1(),r=A.useContext(cg);return x.jsx(gj,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(q1),isPresent:e,safeToRemove:n})}const yj={borderRadius:{...Uo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uo,borderTopRightRadius:Uo,borderBottomLeftRadius:Uo,borderBottomRightRadius:Uo,boxShadow:mj};function vj(t,e,n){const r=Lt(t)?t:va(t);return r.start(Fg("",r,e,n)),r.animation}const _j=(t,e)=>t.depth-e.depth;class bj{constructor(){this.children=[],this.isDirty=!1}add(e){dg(this.children,e),this.isDirty=!0}remove(e){pg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_j),this.isDirty=!1,this.children.forEach(e)}}function Sj(t,e){const n=Xt.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(hs(r),t(u-e))};return Je.setup(r,!0),()=>hs(r)}const hx=["TopLeft","TopRight","BottomLeft","BottomRight"],Ej=hx.length,$S=t=>typeof t=="string"?parseFloat(t):t,XS=t=>typeof t=="number"||ge.test(t);function Tj(t,e,n,r,o,u){o?(t.opacity=it(0,n.opacity??1,wj(r)),t.opacityExit=it(e.opacity??1,0,xj(r))):u&&(t.opacity=it(e.opacity??1,n.opacity??1,r));for(let c=0;c<Ej;c++){const f=`border${hx[c]}Radius`;let p=QS(e,f),h=QS(n,f);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||XS(p)===XS(h)?(t[f]=Math.max(it($S(p),$S(h),r),0),(Kn.test(h)||Kn.test(p))&&(t[f]+="%")):t[f]=h}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function QS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wj=dx(0,.5,Zw),xj=dx(.5,.95,En);function dx(t,e,n){return r=>r<t?0:r>e?1:n(dl(t,e,r))}function ZS(t,e){t.min=e.min,t.max=e.max}function _n(t,e){ZS(t.x,e.x),ZS(t.y,e.y)}function JS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function eE(t,e,n,r,o){return t-=e,t=Fc(t,1/n,r),o!==void 0&&(t=Fc(t,1/o,r)),t}function Cj(t,e=0,n=1,r=.5,o,u=t,c=t){if(Kn.test(e)&&(e=parseFloat(e),e=it(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=it(u.min,u.max,r);t===u&&(f-=e),t.min=eE(t.min,e,n,f,o),t.max=eE(t.max,e,n,f,o)}function tE(t,e,[n,r,o],u,c){Cj(t,e[n],e[r],e[o],e.scale,u,c)}const Aj=["x","scaleX","originX"],Rj=["y","scaleY","originY"];function nE(t,e,n,r){tE(t.x,e,Aj,n?n.x:void 0,r?r.x:void 0),tE(t.y,e,Rj,n?n.y:void 0,r?r.y:void 0)}function iE(t){return t.translate===0&&t.scale===1}function px(t){return iE(t.x)&&iE(t.y)}function sE(t,e){return t.min===e.min&&t.max===e.max}function Nj(t,e){return sE(t.x,e.x)&&sE(t.y,e.y)}function rE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mx(t,e){return rE(t.x,e.x)&&rE(t.y,e.y)}function aE(t){return Ut(t.x)/Ut(t.y)}function oE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Dj{constructor(){this.members=[]}add(e){dg(this.members,e),e.scheduleRender()}remove(e){if(pg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Oj(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:y,rotateY:v,skewX:b,skewY:E}=n;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),E&&(r+=`skewY(${E}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(r+=`scale(${f}, ${p})`),r||"none"}const rp=["","X","Y","Z"],Mj=1e3;let Ij=0;function ap(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function gx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Je,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&gx(r)}function yx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},f=e==null?void 0:e()){this.id=Ij++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lj),this.nodes.forEach(Bj),this.nodes.forEach(zj),this.nodes.forEach(jj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new bj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new yg),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=O1(c)&&!x3(c),this.instance=c;const{layoutId:f,layout:p,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{y=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,g&&g(),g=Sj(v,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(cE)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&h&&(f||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||Yj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:R}=h.getProps(),N=!this.targetLayout||!mx(this.targetLayout,b),D=!y&&v;if(this.options.layoutRoot||this.resumeFrom||D||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Dg(E,"layout"),onPlay:w,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(g,D)}else y||cE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vj),this.nodes.forEach(kj),this.nodes.forEach(Pj)):this.nodes.forEach(uE),this.clearAllSnapshots();const f=Xt.now();Dt.delta=wi(0,1e3/60,f-Dt.timestamp),Dt.timestamp=f,Dt.isProcessing=!0,Wd.update.process(Dt),Wd.preRender.process(Dt),Wd.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Uj),this.sharedNodes.forEach(Fj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ut(this.snapshot.measuredBox.x)&&!Ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!px(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;c&&this.instance&&(f||Hs(this.latestValues)||g)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),Kj(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return ht();const f=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Wj))){const{scroll:g}=this.root;g&&(ea(f.x,g.offset.x),ea(f.y,g.offset.y))}return f}removeElementScroll(c){var p;const f=ht();if(_n(f,c),(p=this.scroll)!=null&&p.wasRoot)return f;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&_n(f,c),ea(f.x,y.offset.x),ea(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const p=ht();_n(p,c);for(let h=0;h<this.path.length;h++){const g=this.path[h];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ta(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Hs(g.latestValues)&&ta(p,g.latestValues)}return Hs(this.latestValues)&&ta(p,this.latestValues),p}removeTransform(c){const f=ht();_n(f,c);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!Hs(h.latestValues))continue;$p(h.latestValues)&&h.updateSnapshot();const g=ht(),y=h.measurePageBox();_n(g,y),nE(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Hs(this.latestValues)&&nE(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),el(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ej(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),$1(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),el(this.relativeTargetOrigin,this.target,b.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$p(this.parent.latestValues)||W1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(p=!1),p)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;_n(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;h4(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ht());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JS(this.prevProjectionDelta.x,this.projectionDelta.x),JS(this.prevProjectionDelta.y,this.projectionDelta.y)),Jo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!oE(this.projectionDelta.x,this.prevProjectionDelta.x)||!oE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=na(),this.projectionDelta=na(),this.projectionDeltaWithTransform=na()}setAnimationOrigin(c,f=!1){const p=this.snapshot,h=p?p.latestValues:{},g={...this.latestValues},y=na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=ht(),b=p?p.source:void 0,E=this.layout?this.layout.source:void 0,w=b!==E,R=this.getStack(),N=!R||R.members.length<=1,D=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(qj));this.animationProgress=0;let M;this.mixTargetDelta=K=>{const I=K/1e3;fE(y.x,c.x,I),fE(y.y,c.y,I),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(el(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gj(this.relativeTarget,this.relativeTargetOrigin,v,I),M&&Nj(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=ht()),_n(M,this.relativeTarget)),w&&(this.animationValues=g,Tj(g,h,this.latestValues,I,D,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,p,h;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(h=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||h.stop(),this.pendingAnimation&&(hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{dc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=va(0)),this.currentAnimation=vj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:h,latestValues:g}=c;if(!(!f||!p||!h)){if(this!==c&&this.layout&&h&&vx(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||ht();const y=Ut(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+y;const v=Ut(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+v}_n(f,p),ta(f,g),Jo(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Dj),this.sharedNodes.get(c).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const h={};p.z&&ap("z",c,h,this.animationValues);for(let g=0;g<rp.length;g++)ap(`rotate${rp[g]}`,c,h,this.animationValues),ap(`skew${rp[g]}`,c,h,this.animationValues);c.render();for(const g in h)c.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=hc(f==null?void 0:f.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=hc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=h.animationValues||h.latestValues;this.applyTransformsToTarget();let y=Oj(this.projectionDeltaWithTransform,this.treeScale,g);p&&(y=p(g,y)),c.transform=y;const{x:v,y:b}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in yl){if(g[E]===void 0)continue;const{correct:w,applyTo:R,isCSSVariable:N}=yl[E],D=y==="none"?g[E]:w(g[E],h);if(R){const M=R.length;for(let K=0;K<M;K++)c[R[K]]=D}else N?this.options.visualElement.renderState.vars[E]=D:c[E]=D}this.options.layoutId&&(c.pointerEvents=h===this?hc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(lE),this.root.sharedNodes.clear()}}}function kj(t){t.updateLayout()}function Pj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?bn(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],b=Ut(v);v.min=r[y].min,v.max=v.min+b}):vx(u,e.layoutBox,r)&&bn(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],b=Ut(r[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const f=na();Jo(f,r,e.layoutBox);const p=na();c?Jo(p,t.applyTransform(o,!0),e.measuredBox):Jo(p,r,e.layoutBox);const h=!px(f);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const E=ht();el(E,e.layoutBox,v.layoutBox);const w=ht();el(w,r,b.layoutBox),mx(E,w)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=E,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:p,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Lj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Uj(t){t.clearSnapshot()}function lE(t){t.clearMeasurements()}function uE(t){t.isLayoutDirty=!1}function Vj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Bj(t){t.resolveTargetDelta()}function zj(t){t.calcProjection()}function Hj(t){t.resetSkewAndRotation()}function Fj(t){t.removeLeadSnapshot()}function fE(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hE(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function Gj(t,e,n,r){hE(t.x,e.x,n.x,r),hE(t.y,e.y,n.y,r)}function qj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yj={duration:.45,ease:[.4,0,.1,1]},dE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pE=dE("applewebkit/")&&!dE("chrome/")?Math.round:En;function mE(t){t.min=pE(t.min),t.max=pE(t.max)}function Kj(t){mE(t.x),mE(t.y)}function vx(t,e,n){return t==="position"||t==="preserve-aspect"&&!J4(aE(e),aE(n),.2)}function Wj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $j=yx({attachResizeListener:(t,e)=>vl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),op={current:void 0},_x=yx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!op.current){const t=new $j({});t.mount(window),t.setOptions({layoutScroll:!0}),op.current=t}return op.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xj={pan:{Feature:pj},drag:{Feature:dj,ProjectionNode:_x,MeasureLayout:fx}};function gE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&Je.postRender(()=>u(e,Pl(e)))}class Qj extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=b3(e,(n,r)=>(gE(this.node,r,"Start"),o=>gE(this.node,o,"End"))))}unmount(){}}class Zj extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ml(vl(this.node.current,"focus",()=>this.onFocus()),vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&Je.postRender(()=>u(e,Pl(e)))}class Jj extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=w3(e,(n,r)=>(yE(this.node,r,"Start"),(o,{success:u})=>yE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nm=new WeakMap,lp=new WeakMap,e6=t=>{const e=nm.get(t.target);e&&e(t)},t6=t=>{t.forEach(e6)};function n6({root:t,...e}){const n=t||document;lp.has(n)||lp.set(n,{});const r=lp.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(t6,{root:t,...e})),r[o]}function i6(t,e,n){const r=n6(e);return nm.set(t,n),r.observe(t),()=>{nm.delete(t),r.unobserve(t)}}const s6={some:0,all:1};class r6 extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:s6[o]},f=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,u&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=h?g:y;v&&v(p)};return i6(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(a6(e,n))&&this.startObserver()}unmount(){}}function a6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const o6={inView:{Feature:r6},tap:{Feature:Jj},focus:{Feature:Zj},hover:{Feature:Qj}},l6={layout:{ProjectionNode:_x,MeasureLayout:fx}},u6={...K4,...o6,...Xj,...l6},ca=u4(u6,E4);var pc={exports:{}},c6=pc.exports,vE;function f6(){return vE||(vE=1,function(t,e){(function(n,r){t.exports=r(Gc())})(typeof self<"u"?self:c6,n=>(()=>{var r={2:(f,p,h)=>{var g=h(2199),y=h(4664),v=h(5950);f.exports=function(b){return g(b,v,y)}},79:(f,p,h)=>{var g=h(3702),y=h(80),v=h(4739),b=h(8655),E=h(1175);function w(R){var N=-1,D=R==null?0:R.length;for(this.clear();++N<D;){var M=R[N];this.set(M[0],M[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=b,w.prototype.set=E,f.exports=w},80:(f,p,h)=>{var g=h(6025),y=Array.prototype.splice;f.exports=function(v){var b=this.__data__,E=g(b,v);return!(E<0||(E==b.length-1?b.pop():y.call(b,E,1),--this.size,0))}},270:(f,p,h)=>{var g=h(7068),y=h(346);f.exports=function v(b,E,w,R,N){return b===E||(b==null||E==null||!y(b)&&!y(E)?b!=b&&E!=E:g(b,E,w,R,v,N))}},289:(f,p,h)=>{var g=h(2651);f.exports=function(y){return g(this,y).get(y)}},294:f=>{f.exports=function(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=9007199254740991}},317:f=>{f.exports=function(p){var h=-1,g=Array(p.size);return p.forEach(function(y,v){g[++h]=[v,y]}),g}},346:f=>{f.exports=function(p){return p!=null&&typeof p=="object"}},361:f=>{var p=/^(?:0|[1-9]\d*)$/;f.exports=function(h,g){var y=typeof h;return!!(g=g??9007199254740991)&&(y=="number"||y!="symbol"&&p.test(h))&&h>-1&&h%1==0&&h<g}},392:f=>{f.exports=function(p,h){return p==null?void 0:p[h]}},659:(f,p,h)=>{var g=h(1873),y=Object.prototype,v=y.hasOwnProperty,b=y.toString,E=g?g.toStringTag:void 0;f.exports=function(w){var R=v.call(w,E),N=w[E];try{w[E]=void 0;var D=!0}catch{}var M=b.call(w);return D&&(R?w[E]=N:delete w[E]),M}},689:(f,p,h)=>{var g=h(2),y=Object.prototype.hasOwnProperty;f.exports=function(v,b,E,w,R,N){var D=1&E,M=g(v),K=M.length;if(K!=g(b).length&&!D)return!1;for(var I=K;I--;){var H=M[I];if(!(D?H in b:y.call(b,H)))return!1}var q=N.get(v),F=N.get(b);if(q&&F)return q==b&&F==v;var J=!0;N.set(v,b),N.set(b,v);for(var ie=D;++I<K;){var se=v[H=M[I]],le=b[H];if(w)var Ae=D?w(le,se,H,b,v,N):w(se,le,H,v,b,N);if(!(Ae===void 0?se===le||R(se,le,E,w,N):Ae)){J=!1;break}ie||(ie=H=="constructor")}if(J&&!ie){var Se=v.constructor,pe=b.constructor;Se==pe||!("constructor"in v)||!("constructor"in b)||typeof Se=="function"&&Se instanceof Se&&typeof pe=="function"&&pe instanceof pe||(J=!1)}return N.delete(v),N.delete(b),J}},695:(f,p,h)=>{var g=h(8096),y=h(2428),v=h(6449),b=h(3656),E=h(361),w=h(7167),R=Object.prototype.hasOwnProperty;f.exports=function(N,D){var M=v(N),K=!M&&y(N),I=!M&&!K&&b(N),H=!M&&!K&&!I&&w(N),q=M||K||I||H,F=q?g(N.length,String):[],J=F.length;for(var ie in N)!D&&!R.call(N,ie)||q&&(ie=="length"||I&&(ie=="offset"||ie=="parent")||H&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||E(ie,J))||F.push(ie);return F}},938:f=>{f.exports=function(p){var h=this.__data__,g=h.delete(p);return this.size=h.size,g}},945:(f,p,h)=>{var g=h(79),y=h(8223),v=h(3661);f.exports=function(b,E){var w=this.__data__;if(w instanceof g){var R=w.__data__;if(!y||R.length<199)return R.push([b,E]),this.size=++w.size,this;w=this.__data__=new v(R)}return w.set(b,E),this.size=w.size,this}},1042:(f,p,h)=>{var g=h(6110)(Object,"create");f.exports=g},1175:(f,p,h)=>{var g=h(6025);f.exports=function(y,v){var b=this.__data__,E=g(b,y);return E<0?(++this.size,b.push([y,v])):b[E][1]=v,this}},1380:f=>{f.exports=function(p){return this.__data__.set(p,"__lodash_hash_undefined__"),this}},1420:(f,p,h)=>{var g=h(79);f.exports=function(){this.__data__=new g,this.size=0}},1459:f=>{f.exports=function(p){return this.__data__.has(p)}},1549:(f,p,h)=>{var g=h(2032),y=h(3862),v=h(6721),b=h(2749),E=h(5749);function w(R){var N=-1,D=R==null?0:R.length;for(this.clear();++N<D;){var M=R[N];this.set(M[0],M[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=b,w.prototype.set=E,f.exports=w},1873:(f,p,h)=>{var g=h(9325).Symbol;f.exports=g},1882:(f,p,h)=>{var g=h(2552),y=h(3805);f.exports=function(v){if(!y(v))return!1;var b=g(v);return b=="[object Function]"||b=="[object GeneratorFunction]"||b=="[object AsyncFunction]"||b=="[object Proxy]"}},1986:(f,p,h)=>{var g=h(1873),y=h(7828),v=h(5288),b=h(5911),E=h(317),w=h(4247),R=g?g.prototype:void 0,N=R?R.valueOf:void 0;f.exports=function(D,M,K,I,H,q,F){switch(K){case"[object DataView]":if(D.byteLength!=M.byteLength||D.byteOffset!=M.byteOffset)return!1;D=D.buffer,M=M.buffer;case"[object ArrayBuffer]":return!(D.byteLength!=M.byteLength||!q(new y(D),new y(M)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+D,+M);case"[object Error]":return D.name==M.name&&D.message==M.message;case"[object RegExp]":case"[object String]":return D==M+"";case"[object Map]":var J=E;case"[object Set]":var ie=1&I;if(J||(J=w),D.size!=M.size&&!ie)return!1;var se=F.get(D);if(se)return se==M;I|=2,F.set(D,M);var le=b(J(D),J(M),I,H,q,F);return F.delete(D),le;case"[object Symbol]":if(N)return N.call(D)==N.call(M)}return!1}},2032:(f,p,h)=>{var g=h(1042);f.exports=function(){this.__data__=g?g(null):{},this.size=0}},2199:(f,p,h)=>{var g=h(4528),y=h(6449);f.exports=function(v,b,E){var w=b(v);return y(v)?w:g(w,E(v))}},2404:(f,p,h)=>{var g=h(270);f.exports=function(y,v){return g(y,v)}},2428:(f,p,h)=>{var g=h(7534),y=h(346),v=Object.prototype,b=v.hasOwnProperty,E=v.propertyIsEnumerable,w=g(function(){return arguments}())?g:function(R){return y(R)&&b.call(R,"callee")&&!E.call(R,"callee")};f.exports=w},2552:(f,p,h)=>{var g=h(1873),y=h(659),v=h(9350),b=g?g.toStringTag:void 0;f.exports=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":b&&b in Object(E)?y(E):v(E)}},2651:(f,p,h)=>{var g=h(4218);f.exports=function(y,v){var b=y.__data__;return g(v)?b[typeof v=="string"?"string":"hash"]:b.map}},2749:(f,p,h)=>{var g=h(1042),y=Object.prototype.hasOwnProperty;f.exports=function(v){var b=this.__data__;return g?b[v]!==void 0:y.call(b,v)}},2804:(f,p,h)=>{var g=h(6110)(h(9325),"Promise");f.exports=g},2949:(f,p,h)=>{var g=h(2651);f.exports=function(y,v){var b=g(this,y),E=b.size;return b.set(y,v),this.size+=b.size==E?0:1,this}},3040:(f,p,h)=>{var g=h(1549),y=h(79),v=h(8223);f.exports=function(){this.size=0,this.__data__={hash:new g,map:new(v||y),string:new g}}},3146:(f,p,h)=>{for(var g=h(3491),y=typeof window>"u"?h.g:window,v=["moz","webkit"],b="AnimationFrame",E=y["request"+b],w=y["cancel"+b]||y["cancelRequest"+b],R=0;!E&&R<v.length;R++)E=y[v[R]+"Request"+b],w=y[v[R]+"Cancel"+b]||y[v[R]+"CancelRequest"+b];if(!E||!w){var N=0,D=0,M=[],K=1e3/60;E=function(I){if(M.length===0){var H=g(),q=Math.max(0,K-(H-N));N=q+H,setTimeout(function(){var F=M.slice(0);M.length=0;for(var J=0;J<F.length;J++)if(!F[J].cancelled)try{F[J].callback(N)}catch(ie){setTimeout(function(){throw ie},0)}},Math.round(q))}return M.push({handle:++D,callback:I,cancelled:!1}),D},w=function(I){for(var H=0;H<M.length;H++)M[H].handle===I&&(M[H].cancelled=!0)}}f.exports=function(I){return E.call(y,I)},f.exports.cancel=function(){w.apply(y,arguments)},f.exports.polyfill=function(I){I||(I=y),I.requestAnimationFrame=E,I.cancelAnimationFrame=w}},3345:f=>{f.exports=function(){return[]}},3491:function(f){(function(){var p,h,g,y,v,b;typeof performance<"u"&&performance!==null&&performance.now?f.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(f.exports=function(){return(p()-v)/1e6},h=process.hrtime,y=(p=function(){var E;return 1e9*(E=h())[0]+E[1]})(),b=1e9*process.uptime(),v=y-b):Date.now?(f.exports=function(){return Date.now()-g},g=Date.now()):(f.exports=function(){return new Date().getTime()-g},g=new Date().getTime())}).call(this)},3605:f=>{f.exports=function(p){return this.__data__.get(p)}},3650:(f,p,h)=>{var g=h(4335)(Object.keys,Object);f.exports=g},3656:(f,p,h)=>{f=h.nmd(f);var g=h(9325),y=h(9935),v=p&&!p.nodeType&&p,b=v&&f&&!f.nodeType&&f,E=b&&b.exports===v?g.Buffer:void 0,w=(E?E.isBuffer:void 0)||y;f.exports=w},3661:(f,p,h)=>{var g=h(3040),y=h(7670),v=h(289),b=h(4509),E=h(2949);function w(R){var N=-1,D=R==null?0:R.length;for(this.clear();++N<D;){var M=R[N];this.set(M[0],M[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=b,w.prototype.set=E,f.exports=w},3702:f=>{f.exports=function(){this.__data__=[],this.size=0}},3805:f=>{f.exports=function(p){var h=typeof p;return p!=null&&(h=="object"||h=="function")}},3862:f=>{f.exports=function(p){var h=this.has(p)&&delete this.__data__[p];return this.size-=h?1:0,h}},4218:f=>{f.exports=function(p){var h=typeof p;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?p!=="__proto__":p===null}},4247:f=>{f.exports=function(p){var h=-1,g=Array(p.size);return p.forEach(function(y){g[++h]=y}),g}},4248:f=>{f.exports=function(p,h){for(var g=-1,y=p==null?0:p.length;++g<y;)if(h(p[g],g,p))return!0;return!1}},4335:f=>{f.exports=function(p,h){return function(g){return p(h(g))}}},4509:(f,p,h)=>{var g=h(2651);f.exports=function(y){return g(this,y).has(y)}},4528:f=>{f.exports=function(p,h){for(var g=-1,y=h.length,v=p.length;++g<y;)p[v+g]=h[g];return p}},4664:(f,p,h)=>{var g=h(9770),y=h(3345),v=Object.prototype.propertyIsEnumerable,b=Object.getOwnPropertySymbols,E=b?function(w){return w==null?[]:(w=Object(w),g(b(w),function(R){return v.call(w,R)}))}:y;f.exports=E},4739:(f,p,h)=>{var g=h(6025);f.exports=function(y){var v=this.__data__,b=g(v,y);return b<0?void 0:v[b][1]}},4840:(f,p,h)=>{var g=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g;f.exports=g},4894:(f,p,h)=>{var g=h(1882),y=h(294);f.exports=function(v){return v!=null&&y(v.length)&&!g(v)}},4901:(f,p,h)=>{var g=h(2552),y=h(294),v=h(346),b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1,f.exports=function(E){return v(E)&&y(E.length)&&!!b[g(E)]}},5083:(f,p,h)=>{var g=h(1882),y=h(7296),v=h(3805),b=h(7473),E=/^\[object .+?Constructor\]$/,w=Function.prototype,R=Object.prototype,N=w.toString,D=R.hasOwnProperty,M=RegExp("^"+N.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");f.exports=function(K){return!(!v(K)||y(K))&&(g(K)?M:E).test(b(K))}},5288:f=>{f.exports=function(p,h){return p===h||p!=p&&h!=h}},5481:(f,p,h)=>{var g=h(9325)["__core-js_shared__"];f.exports=g},5527:f=>{var p=Object.prototype;f.exports=function(h){var g=h&&h.constructor;return h===(typeof g=="function"&&g.prototype||p)}},5580:(f,p,h)=>{var g=h(6110)(h(9325),"DataView");f.exports=g},5749:(f,p,h)=>{var g=h(1042);f.exports=function(y,v){var b=this.__data__;return this.size+=this.has(y)?0:1,b[y]=g&&v===void 0?"__lodash_hash_undefined__":v,this}},5861:(f,p,h)=>{var g=h(5580),y=h(8223),v=h(2804),b=h(6545),E=h(8303),w=h(2552),R=h(7473),N="[object Map]",D="[object Promise]",M="[object Set]",K="[object WeakMap]",I="[object DataView]",H=R(g),q=R(y),F=R(v),J=R(b),ie=R(E),se=w;(g&&se(new g(new ArrayBuffer(1)))!=I||y&&se(new y)!=N||v&&se(v.resolve())!=D||b&&se(new b)!=M||E&&se(new E)!=K)&&(se=function(le){var Ae=w(le),Se=Ae=="[object Object]"?le.constructor:void 0,pe=Se?R(Se):"";if(pe)switch(pe){case H:return I;case q:return N;case F:return D;case J:return M;case ie:return K}return Ae}),f.exports=se},5911:(f,p,h)=>{var g=h(8859),y=h(4248),v=h(9219);f.exports=function(b,E,w,R,N,D){var M=1&w,K=b.length,I=E.length;if(K!=I&&!(M&&I>K))return!1;var H=D.get(b),q=D.get(E);if(H&&q)return H==E&&q==b;var F=-1,J=!0,ie=2&w?new g:void 0;for(D.set(b,E),D.set(E,b);++F<K;){var se=b[F],le=E[F];if(R)var Ae=M?R(le,se,F,E,b,D):R(se,le,F,b,E,D);if(Ae!==void 0){if(Ae)continue;J=!1;break}if(ie){if(!y(E,function(Se,pe){if(!v(ie,pe)&&(se===Se||N(se,Se,w,R,D)))return ie.push(pe)})){J=!1;break}}else if(se!==le&&!N(se,le,w,R,D)){J=!1;break}}return D.delete(b),D.delete(E),J}},5950:(f,p,h)=>{var g=h(695),y=h(8984),v=h(4894);f.exports=function(b){return v(b)?g(b):y(b)}},6009:(f,p,h)=>{f=h.nmd(f);var g=h(4840),y=p&&!p.nodeType&&p,v=y&&f&&!f.nodeType&&f,b=v&&v.exports===y&&g.process,E=function(){try{return v&&v.require&&v.require("util").types||b&&b.binding&&b.binding("util")}catch{}}();f.exports=E},6025:(f,p,h)=>{var g=h(5288);f.exports=function(y,v){for(var b=y.length;b--;)if(g(y[b][0],v))return b;return-1}},6110:(f,p,h)=>{var g=h(5083),y=h(392);f.exports=function(v,b){var E=y(v,b);return g(E)?E:void 0}},6449:f=>{var p=Array.isArray;f.exports=p},6545:(f,p,h)=>{var g=h(6110)(h(9325),"Set");f.exports=g},6721:(f,p,h)=>{var g=h(1042),y=Object.prototype.hasOwnProperty;f.exports=function(v){var b=this.__data__;if(g){var E=b[v];return E==="__lodash_hash_undefined__"?void 0:E}return y.call(b,v)?b[v]:void 0}},7068:(f,p,h)=>{var g=h(7217),y=h(5911),v=h(1986),b=h(689),E=h(5861),w=h(6449),R=h(3656),N=h(7167),D="[object Arguments]",M="[object Array]",K="[object Object]",I=Object.prototype.hasOwnProperty;f.exports=function(H,q,F,J,ie,se){var le=w(H),Ae=w(q),Se=le?M:E(H),pe=Ae?M:E(q),L=(Se=Se==D?K:Se)==K,Z=(pe=pe==D?K:pe)==K,ae=Se==pe;if(ae&&R(H)){if(!R(q))return!1;le=!0,L=!1}if(ae&&!L)return se||(se=new g),le||N(H)?y(H,q,F,J,ie,se):v(H,q,Se,F,J,ie,se);if(!(1&F)){var re=L&&I.call(H,"__wrapped__"),T=Z&&I.call(q,"__wrapped__");if(re||T){var z=re?H.value():H,W=T?q.value():q;return se||(se=new g),ie(z,W,F,J,se)}}return!!ae&&(se||(se=new g),b(H,q,F,J,ie,se))}},7167:(f,p,h)=>{var g=h(4901),y=h(7301),v=h(6009),b=v&&v.isTypedArray,E=b?y(b):g;f.exports=E},7217:(f,p,h)=>{var g=h(79),y=h(1420),v=h(938),b=h(3605),E=h(9817),w=h(945);function R(N){var D=this.__data__=new g(N);this.size=D.size}R.prototype.clear=y,R.prototype.delete=v,R.prototype.get=b,R.prototype.has=E,R.prototype.set=w,f.exports=R},7296:(f,p,h)=>{var g,y=h(5481),v=(g=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"";f.exports=function(b){return!!v&&v in b}},7301:f=>{f.exports=function(p){return function(h){return p(h)}}},7473:f=>{var p=Function.prototype.toString;f.exports=function(h){if(h!=null){try{return p.call(h)}catch{}try{return h+""}catch{}}return""}},7534:(f,p,h)=>{var g=h(2552),y=h(346);f.exports=function(v){return y(v)&&g(v)=="[object Arguments]"}},7670:(f,p,h)=>{var g=h(2651);f.exports=function(y){var v=g(this,y).delete(y);return this.size-=v?1:0,v}},7828:(f,p,h)=>{var g=h(9325).Uint8Array;f.exports=g},8096:f=>{f.exports=function(p,h){for(var g=-1,y=Array(p);++g<p;)y[g]=h(g);return y}},8223:(f,p,h)=>{var g=h(6110)(h(9325),"Map");f.exports=g},8303:(f,p,h)=>{var g=h(6110)(h(9325),"WeakMap");f.exports=g},8655:(f,p,h)=>{var g=h(6025);f.exports=function(y){return g(this.__data__,y)>-1}},8859:(f,p,h)=>{var g=h(3661),y=h(1380),v=h(1459);function b(E){var w=-1,R=E==null?0:E.length;for(this.__data__=new g;++w<R;)this.add(E[w])}b.prototype.add=b.prototype.push=y,b.prototype.has=v,f.exports=b},8984:(f,p,h)=>{var g=h(5527),y=h(3650),v=Object.prototype.hasOwnProperty;f.exports=function(b){if(!g(b))return y(b);var E=[];for(var w in Object(b))v.call(b,w)&&w!="constructor"&&E.push(w);return E}},9155:f=>{f.exports=n},9219:f=>{f.exports=function(p,h){return p.has(h)}},9325:(f,p,h)=>{var g=h(4840),y=typeof self=="object"&&self&&self.Object===Object&&self,v=g||y||Function("return this")();f.exports=v},9350:f=>{var p=Object.prototype.toString;f.exports=function(h){return p.call(h)}},9770:f=>{f.exports=function(p,h){for(var g=-1,y=p==null?0:p.length,v=0,b=[];++g<y;){var E=p[g];h(E,g,p)&&(b[v++]=E)}return b}},9817:f=>{f.exports=function(p){return this.__data__.has(p)}},9905:(f,p,h)=>{h.d(p,{default:()=>ae});var g=h(3146),y=h.n(g);const v=function(re){return new RegExp(/<[a-z][\s\S]*>/i).test(re)},b=function(re,T){return Math.floor(Math.random()*(T-re+1))+re};var E="TYPE_CHARACTER",w="REMOVE_CHARACTER",R="REMOVE_ALL",N="REMOVE_LAST_VISIBLE_NODE",D="PAUSE_FOR",M="CALL_FUNCTION",K="ADD_HTML_TAG_ELEMENT",I="CHANGE_DELETE_SPEED",H="CHANGE_DELAY",q="CHANGE_CURSOR",F="PASTE_STRING",J="HTML_TAG";function ie(re){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},ie(re)}function se(re,T){var z=Object.keys(re);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(re);T&&(W=W.filter(function(ee){return Object.getOwnPropertyDescriptor(re,ee).enumerable})),z.push.apply(z,W)}return z}function le(re){for(var T=1;T<arguments.length;T++){var z=arguments[T]!=null?arguments[T]:{};T%2?se(Object(z),!0).forEach(function(W){L(re,W,z[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(z)):se(Object(z)).forEach(function(W){Object.defineProperty(re,W,Object.getOwnPropertyDescriptor(z,W))})}return re}function Ae(re){return function(T){if(Array.isArray(T))return Se(T)}(re)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(re)||function(T,z){if(T){if(typeof T=="string")return Se(T,z);var W={}.toString.call(T).slice(8,-1);return W==="Object"&&T.constructor&&(W=T.constructor.name),W==="Map"||W==="Set"?Array.from(T):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?Se(T,z):void 0}}(re)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Se(re,T){(T==null||T>re.length)&&(T=re.length);for(var z=0,W=Array(T);z<T;z++)W[z]=re[z];return W}function pe(re,T){for(var z=0;z<T.length;z++){var W=T[z];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(re,Z(W.key),W)}}function L(re,T,z){return(T=Z(T))in re?Object.defineProperty(re,T,{value:z,enumerable:!0,configurable:!0,writable:!0}):re[T]=z,re}function Z(re){var T=function(z){if(ie(z)!="object"||!z)return z;var W=z[Symbol.toPrimitive];if(W!==void 0){var ee=W.call(z,"string");if(ie(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}(re);return ie(T)=="symbol"?T:T+""}const ae=function(){function re(W,ee){var P=this;if(function(Q,te){if(!(Q instanceof te))throw new TypeError("Cannot call a class as a function")}(this,re),L(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),L(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),L(this,"setupWrapperElement",function(){P.state.elements.container&&(P.state.elements.wrapper.className=P.options.wrapperClassName,P.state.elements.cursor.className=P.options.cursorClassName,P.state.elements.cursor.innerHTML=P.options.cursor,P.state.elements.container.innerHTML="",P.state.elements.container.appendChild(P.state.elements.wrapper),P.state.elements.container.appendChild(P.state.elements.cursor))}),L(this,"start",function(){return P.state.eventLoopPaused=!1,P.runEventLoop(),P}),L(this,"pause",function(){return P.state.eventLoopPaused=!0,P}),L(this,"stop",function(){return P.state.eventLoop&&((0,g.cancel)(P.state.eventLoop),P.state.eventLoop=null),P}),L(this,"pauseFor",function(Q){return P.addEventToQueue(D,{ms:Q}),P}),L(this,"typeOutAllStrings",function(){return typeof P.options.strings=="string"?(P.typeString(P.options.strings).pauseFor(P.options.pauseFor),P):(P.options.strings.forEach(function(Q){P.typeString(Q).pauseFor(P.options.pauseFor).deleteAll(P.options.deleteSpeed)}),P)}),L(this,"typeString",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v(Q))return P.typeOutHTMLString(Q,te);if(Q){var ve=(P.options||{}).stringSplitter,Ye=typeof ve=="function"?ve(Q):Q.split("");P.typeCharacters(Ye,te)}return P}),L(this,"pasteString",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v(Q)?P.typeOutHTMLString(Q,te,!0):(Q&&P.addEventToQueue(F,{character:Q,node:te}),P)}),L(this,"typeOutHTMLString",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ve=arguments.length>2?arguments[2]:void 0,Ye=function(wn){var un=document.createElement("div");return un.innerHTML=wn,un.childNodes}(Q);if(Ye.length>0)for(var Ue=0;Ue<Ye.length;Ue++){var gt=Ye[Ue],ln=gt.innerHTML;gt&&gt.nodeType!==3?(gt.innerHTML="",P.addEventToQueue(K,{node:gt,parentNode:te}),ve?P.pasteString(ln,gt):P.typeString(ln,gt)):gt.textContent&&(ve?P.pasteString(gt.textContent,te):P.typeString(gt.textContent,te))}return P}),L(this,"deleteAll",function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return P.addEventToQueue(R,{speed:Q}),P}),L(this,"changeDeleteSpeed",function(Q){if(!Q)throw new Error("Must provide new delete speed");return P.addEventToQueue(I,{speed:Q}),P}),L(this,"changeDelay",function(Q){if(!Q)throw new Error("Must provide new delay");return P.addEventToQueue(H,{delay:Q}),P}),L(this,"changeCursor",function(Q){if(!Q)throw new Error("Must provide new cursor");return P.addEventToQueue(q,{cursor:Q}),P}),L(this,"deleteChars",function(Q){if(!Q)throw new Error("Must provide amount of characters to delete");for(var te=0;te<Q;te++)P.addEventToQueue(w);return P}),L(this,"callFunction",function(Q,te){if(!Q||typeof Q!="function")throw new Error("Callback must be a function");return P.addEventToQueue(M,{cb:Q,thisArg:te}),P}),L(this,"typeCharacters",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(ve){P.addEventToQueue(E,{character:ve,node:te})}),P}),L(this,"removeCharacters",function(Q){if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(){P.addEventToQueue(w)}),P}),L(this,"addEventToQueue",function(Q,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return P.addEventToStateProperty(Q,te,ve,"eventQueue")}),L(this,"addReverseCalledEvent",function(Q,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return P.options.loop?P.addEventToStateProperty(Q,te,ve,"reverseCalledEvents"):P}),L(this,"addEventToStateProperty",function(Q,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ye=arguments.length>3?arguments[3]:void 0,Ue={eventName:Q,eventArgs:te||{}};return P.state[Ye]=ve?[Ue].concat(Ae(P.state[Ye])):[].concat(Ae(P.state[Ye]),[Ue]),P}),L(this,"runEventLoop",function(){P.state.lastFrameTime||(P.state.lastFrameTime=Date.now());var Q=Date.now(),te=Q-P.state.lastFrameTime;if(!P.state.eventQueue.length){if(!P.options.loop)return;P.state.eventQueue=Ae(P.state.calledEvents),P.state.calledEvents=[],P.options=le({},P.state.initialOptions)}if(P.state.eventLoop=y()(P.runEventLoop),!P.state.eventLoopPaused){if(P.state.pauseUntil){if(Q<P.state.pauseUntil)return;P.state.pauseUntil=null}var ve,Ye=Ae(P.state.eventQueue),Ue=Ye.shift();if(!(te<=(ve=Ue.eventName===N||Ue.eventName===w?P.options.deleteSpeed==="natural"?b(40,80):P.options.deleteSpeed:P.options.delay==="natural"?b(120,160):P.options.delay))){var gt=Ue.eventName,ln=Ue.eventArgs;switch(P.logInDevMode({currentEvent:Ue,state:P.state,delay:ve}),gt){case F:case E:var wn=ln.character,un=ln.node,or=document.createTextNode(wn),Xn=or;P.options.onCreateTextNode&&typeof P.options.onCreateTextNode=="function"&&(Xn=P.options.onCreateTextNode(wn,or)),Xn&&(un?un.appendChild(Xn):P.state.elements.wrapper.appendChild(Xn)),P.state.visibleNodes=[].concat(Ae(P.state.visibleNodes),[{type:"TEXT_NODE",character:wn,node:Xn}]);break;case w:Ye.unshift({eventName:N,eventArgs:{removingCharacterNode:!0}});break;case D:var zt=Ue.eventArgs.ms;P.state.pauseUntil=Date.now()+parseInt(zt);break;case M:var lr=Ue.eventArgs,ur=lr.cb,cr=lr.thisArg;ur.call(cr,{elements:P.state.elements});break;case K:var Qn=Ue.eventArgs,X=Qn.node,fe=Qn.parentNode;fe?fe.appendChild(X):P.state.elements.wrapper.appendChild(X),P.state.visibleNodes=[].concat(Ae(P.state.visibleNodes),[{type:J,node:X,parentNode:fe||P.state.elements.wrapper}]);break;case R:var Ee=P.state.visibleNodes,be=ln.speed,ke=[];be&&ke.push({eventName:I,eventArgs:{speed:be,temp:!0}});for(var Me=0,st=Ee.length;Me<st;Me++)ke.push({eventName:N,eventArgs:{removingCharacterNode:!1}});be&&ke.push({eventName:I,eventArgs:{speed:P.options.deleteSpeed,temp:!0}}),Ye.unshift.apply(Ye,ke);break;case N:var tt=Ue.eventArgs.removingCharacterNode;if(P.state.visibleNodes.length){var Ht=P.state.visibleNodes.pop(),Ai=Ht.type,Ri=Ht.node,Ni=Ht.character;P.options.onRemoveNode&&typeof P.options.onRemoveNode=="function"&&P.options.onRemoveNode({node:Ri,character:Ni}),Ri&&Ri.parentNode.removeChild(Ri),Ai===J&&tt&&Ye.unshift({eventName:N,eventArgs:{}})}break;case I:P.options.deleteSpeed=Ue.eventArgs.speed;break;case H:P.options.delay=Ue.eventArgs.delay;break;case q:P.options.cursor=Ue.eventArgs.cursor,P.state.elements.cursor.innerHTML=Ue.eventArgs.cursor}P.options.loop&&(Ue.eventName===N||Ue.eventArgs&&Ue.eventArgs.temp||(P.state.calledEvents=[].concat(Ae(P.state.calledEvents),[Ue]))),P.state.eventQueue=Ye,P.state.lastFrameTime=Q}}}),W)if(typeof W=="string"){var Re=document.querySelector(W);if(!Re)throw new Error("Could not find container element");this.state.elements.container=Re}else this.state.elements.container=W;ee&&(this.options=le(le({},this.options),ee)),this.state.initialOptions=le({},this.options),this.init()}var T,z;return T=re,(z=[{key:"init",value:function(){var W,ee;this.setupWrapperElement(),this.addEventToQueue(q,{cursor:this.options.cursor},!0),this.addEventToQueue(R,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(W=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ee=document.createElement("style")).appendChild(document.createTextNode(W)),document.head.appendChild(ee),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(W){this.options.devMode&&console.log(W)}}])&&pe(T.prototype,z),Object.defineProperty(T,"prototype",{writable:!1}),re}()},9935:f=>{f.exports=function(){return!1}}},o={};function u(f){var p=o[f];if(p!==void 0)return p.exports;var h=o[f]={id:f,loaded:!1,exports:{}};return r[f].call(h.exports,h,h.exports,u),h.loaded=!0,h.exports}u.n=f=>{var p=f&&f.__esModule?()=>f.default:()=>f;return u.d(p,{a:p}),p},u.d=(f,p)=>{for(var h in p)u.o(p,h)&&!u.o(f,h)&&Object.defineProperty(f,h,{enumerable:!0,get:p[h]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u.o=(f,p)=>Object.prototype.hasOwnProperty.call(f,p),u.nmd=f=>(f.paths=[],f.children||(f.children=[]),f);var c={};return(()=>{u.d(c,{default:()=>K});var f=u(9155),p=u.n(f),h=u(9905),g=u(2404),y=u.n(g);function v(I){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},v(I)}function b(I,H){for(var q=0;q<H.length;q++){var F=H[q];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,D(F.key),F)}}function E(I,H){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,F){return q.__proto__=F,q},E(I,H)}function w(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function R(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!I})()}function N(I){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},N(I)}function D(I){var H=function(q){if(v(q)!="object"||!q)return q;var F=q[Symbol.toPrimitive];if(F!==void 0){var J=F.call(q,"string");if(v(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(I);return v(H)=="symbol"?H:H+""}var M=function(I){(function(ie,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(se&&se.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),se&&E(ie,se)})(J,I);var H,q,F=function(ie){var se=R();return function(){var le,Ae=N(ie);if(se){var Se=N(this).constructor;le=Reflect.construct(Ae,arguments,Se)}else le=Ae.apply(this,arguments);return function(pe,L){if(L&&(v(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(pe)}(this,le)}}(J);function J(){var ie,se,le,Ae;(function(Z,ae){if(!(Z instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,J);for(var Se=arguments.length,pe=new Array(Se),L=0;L<Se;L++)pe[L]=arguments[L];return se=w(ie=F.call.apply(F,[this].concat(pe))),Ae={instance:null},(le=D(le="state"))in se?Object.defineProperty(se,le,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):se[le]=Ae,ie}return H=J,(q=[{key:"componentDidMount",value:function(){var ie=this,se=new h.default(this.typewriter,this.props.options);this.setState({instance:se},function(){var le=ie.props.onInit;le&&le(se)})}},{key:"componentDidUpdate",value:function(ie){y()(this.props.options,ie.options)||this.setState({instance:new h.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var ie=this,se=this.props.component;return p().createElement(se,{ref:function(le){return ie.typewriter=le},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&b(H.prototype,q),Object.defineProperty(H,"prototype",{writable:!1}),J}(f.Component);M.defaultProps={component:"div"};const K=M})(),c.default})())}(pc)),pc.exports}var h6=f6();const d6=sm(h6),im=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],p6=6e4,bx=A.createContext({currentIndex:0}),m6=({children:t})=>{const[e,n]=A.useState(0);return A.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%im.length)},p6);return()=>clearInterval(r)},[]),x.jsx(bx.Provider,{value:{currentIndex:e},children:t})},Ci=()=>{const{currentIndex:t}=A.useContext(bx);return{backgroundElement:x.jsx(I1,{mode:"wait",children:x.jsx(ca.div,{className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${im[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}},t)}),currentIndex:t,imageUrl:im[t]}},g6=()=>{const t=ps(),{backgroundElement:e}=Ci();return x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white",children:[e,x.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md p-6 sm:p-10 rounded-2xl w-full max-w-md text-center shadow-xl space-y-6 animate-fade-in",children:[x.jsx("h1",{className:"text-2xl sm:text-4xl font-extrabold text-[#f9f6f1] mb-4 tracking-wider whitespace-nowrap",children:x.jsx(d6,{options:{strings:[""],autoStart:!0,loop:!1,delay:60,deleteSpeed:30},onInit:n=>{n.start().typeString("")}})}),x.jsx("p",{className:"text-gray-300 text-sm sm:text-base tracking-wide",children:"As dusk falls, the story begins."}),x.jsx("button",{onClick:()=>t("/login"),className:"btn-primary px-6 py-2",children:""})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_E=t=>{const e=v6(t);return e.charAt(0).toUpperCase()+e.slice(1)},Sx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...f},p)=>A.createElement("svg",{ref:p,...b6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Sx("lucide",o),...!u&&!_6(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,g])=>A.createElement(h,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=(t,e)=>{const n=A.forwardRef(({className:r,...o},u)=>A.createElement(S6,{ref:u,iconNode:e,className:Sx(`lucide-${y6(_E(t))}`,`lucide-${t}`,r),...o}));return n.displayName=_E(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],T6=Ex("eye-off",E6);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x6=Ex("eye",w6),C6=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(""),[o,u]=A.useState(""),[c,f]=A.useState(!1),[p,h]=A.useState(""),[g,y]=A.useState(!1),v=ps(),{backgroundElement:b}=Ci();A.useRef(null),A.useRef(null),A.useEffect(()=>{r(""),u(""),h("")},[t]);const E=async R=>{R.preventDefault(),h(""),y(!0);try{t?(await eM(Ws,n,o),v("/profile")):(await tM(Ws,n,o),v("/chat"))}catch(N){h(N.message)}finally{y(!1)}},w=async()=>{const R=new di;try{const D=(await wM(Ws,R)).user,M=an(),K=Qe(M,`users/${D.uid}`);Fs(K,I=>{I.exists()||es(K,{nickname:D.displayName||"",avatarUrl:D.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),v("/chat")}catch(N){h(N.message)}};return x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden",children:[b,x.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl",children:[x.jsxs("div",{className:"flex justify-center space-x-4",children:[x.jsx("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`,children:"Login"}),x.jsx("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`,children:"Sign Up"})]}),x.jsxs("form",{onSubmit:E,className:"space-y-4",children:[x.jsx("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:R=>r(R.target.value),required:!0}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:R=>u(R.target.value),required:!0}),x.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password",children:c?x.jsx(T6,{size:20}):x.jsx(x6,{size:20})})]}),p&&x.jsx("p",{className:"text-red-400 text-sm text-center",children:p}),x.jsx("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]",children:t?"Sign Up":"Login"})]}),x.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition",children:[x.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]}),x.jsxs("p",{className:"text-center text-sm text-white/80",children:[t?"Already have an account?":"Don't have an account?"," ",x.jsx("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition",children:t?"Login":"Sign up"})]})]})]})},A6=({user:t,isFriend:e,onClose:n,onStartChat:r,onAddFriend:o})=>x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-xs flex flex-col items-center",children:[x.jsx("img",{src:t.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-24 h-24 rounded-full object-cover"}),x.jsx("h2",{className:"text-xl font-bold text-white",children:t.nickname}),t.statusMessage&&x.jsx("p",{className:"text-sm italic text-gray-400 text-center px-2",children:t.statusMessage}),e?x.jsx("button",{onClick:r,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 hover:brightness-110 transition",children:""}):x.jsx("button",{onClick:o,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transition-all duration-200",children:" "}),x.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white mt-4",children:""})]})});function R6(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const N6="dhtqetylj",D6="Chatroom_Avatars",Vo=(t,e)=>[t,e].sort().join("_"),O6=()=>{const[t,e]=A.useState(""),[n,r]=A.useState([]),[o,u]=A.useState(""),[c,f]=A.useState([]),[p,h]=A.useState([]),[g,y]=A.useState("public"),[v,b]=A.useState(""),[E,w]=A.useState(""),[R,N]=A.useState(""),[D,M]=A.useState("#bfa382"),[K,I]=A.useState(!1),[H,q]=A.useState(!1),[F,J]=A.useState(""),[ie,se]=A.useState([]),le=ps(),{backgroundElement:Ae}=Ci(),Se=A.useRef(null),[pe,L]=A.useState([]),[Z,ae]=A.useState(!1),[re,T]=A.useState([]),[z,W]=A.useState(""),[ee,P]=A.useState(null),[Re,Q]=A.useState(!1),te=Ws.currentUser;A.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),A.useEffect(()=>{const X=setTimeout(()=>{var fe;(fe=Se.current)==null||fe.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(X)},[n]),A.useEffect(()=>{if(!te){le("/login");return}const X=an(),fe=Qe(X,`users/${te.uid}`);Fs(fe,ke=>{const Me=ke.val();Me&&(w(Me.nickname||""),N(Me.avatarUrl||""),M(Me.themeColor||"#bfa382"))});const Ee=Qe(X,"users");Fs(Ee,ke=>{const Me=ke.val();if(Me){const st=Object.entries(Me).filter(([tt])=>tt!==te.uid).map(([tt,Ht])=>({uid:tt,nickname:Ht.nickname,avatarUrl:Ht.avatarUrl,statusMessage:Ht.statusMessage||""}));f(st)}});const be=Qe(X,"groups");Fs(be,ke=>{const Me=ke.val();if(Me){const st=Object.entries(Me).map(([tt,Ht])=>({id:tt,name:Ht.name,members:Ht.members}));h(st)}})},[te,le]),A.useEffect(()=>{const X=an();if(!te)return;let fe;if(g==="public")fe=Qe(X,"messages/public");else if(v)fe=Qe(X,`messages/groups/${v}`);else{const Ee=Vo(te.uid,g);fe=Qe(X,`messages/private/${Ee}`)}Fs(fe,Ee=>{const be=Ee.val();if(be){const ke=Object.entries(be).map(([Me,st])=>({id:Me,...st}));r(ke)}else r([])})},[g,v]),A.useEffect(()=>{if(!te)return;const X=an(),fe=Qe(X,`users/${te.uid}/friends`);Fs(fe,Ee=>{const be=Ee.val();L(be?Object.keys(be):[])})},[te]);const ve=async()=>{if(!o.trim())return;const X=an();if(!te)return;if(g!=="public"&&v===""&&!pe.includes(g)){alert(" ");return}const fe=Date.now(),Ee={text:R6(o),sender:te.uid,nickname:E,avatarUrl:R,timestamp:fe};let be;if(g==="public")be=Qe(X,"messages/public");else if(v)be=Qe(X,`messages/groups/${v}`);else{const Me=Vo(te.uid,g);be=Qe(X,`messages/private/${Me}`)}const ke=Zu(be);await es(ke,Ee),u(""),Notification.permission==="granted"&&te&&new Notification(" ",{body:" ",icon:R||"/image/default-avatar.jpg"})},Ye=async X=>{const Ee=`https://g.tenor.com/v1/search?q=${X}&key=LIVDSRZULELA&limit=20`,ke=await(await fetch(Ee)).json();T(ke.results||[])},Ue=X=>{const fe=document.getElementById(`msg-${X}`);fe&&(fe.classList.add("animate-shatter"),setTimeout(()=>{gt(X)},500))},gt=async X=>{if(!te)return;const fe=an();let Ee;if(g==="public")Ee=Qe(fe,`messages/public/${X}`);else if(v)Ee=Qe(fe,`messages/groups/${v}/${X}`);else{const be=Vo(te.uid,g);Ee=Qe(fe,`messages/private/${be}/${X}`)}await es(Ee,null)},ln=async X=>{if(!te)return;const fe=an(),Ee=Date.now(),be={text:"",gifUrl:X,sender:te.uid,nickname:E,avatarUrl:R,timestamp:Ee};let ke;if(g==="public")ke=Qe(fe,"messages/public");else if(v)ke=Qe(fe,`messages/groups/${v}`);else{const st=Vo(te.uid,g);ke=Qe(fe,`messages/private/${st}`)}const Me=Zu(ke);await es(Me,be),ae(!1)},wn=async X=>{var be;const fe=(be=X.target.files)==null?void 0:be[0];if(!fe||!te)return;const Ee=new FormData;Ee.append("file",fe),Ee.append("upload_preset",D6),Ee.append("folder","chat-images");try{const Me=await(await fetch(`https://api.cloudinary.com/v1_1/${N6}/image/upload`,{method:"POST",body:Ee})).json(),st=an(),tt=Date.now(),Ht={text:"",imageUrl:Me.secure_url,sender:te.uid,nickname:E,avatarUrl:R,timestamp:tt};let Ai;if(g==="public")Ai=Qe(st,"messages/public");else if(v)Ai=Qe(st,`messages/groups/${v}`);else{const Ni=Vo(te.uid,g);Ai=Qe(st,`messages/private/${Ni}`)}const Ri=Zu(Ai);await es(Ri,Ht)}catch(ke){console.error(":",ke)}},un=async X=>{if(!te)return;const fe=an(),Ee=Qe(fe,`users/${te.uid}/friends/${X}`),be=Qe(fe,`users/${X}/friends/${te.uid}`);await es(Ee,!0),await es(be,!0)},or=()=>{y("public"),b(""),I(!1)},Xn=X=>{y(X),b(""),I(!1)},zt=X=>{y(""),b(X),I(!1)},lr=()=>{le("/profile"),I(!1)},ur=async()=>{await Ws.signOut(),le("")},cr=async()=>{if(!F.trim()||ie.length===0){alert("");return}const X=an();if(!te)return;const fe=Qe(X,"groups"),Ee=Zu(fe),be={};ie.forEach(ke=>be[ke]=!0),be[te.uid]=!0,await es(Ee,{name:F,members:be}),q(!1),J(""),se([])},Qn=X=>new Date(X).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return x.jsxs(x.Fragment,{children:[Ae,Z&&x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md",children:[x.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:" GIF "}),x.jsx("input",{type:"text",value:z,onChange:X=>W(X.target.value),placeholder:"...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{onClick:()=>Ye(z),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition",children:""})}),x.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto",children:re.map(X=>x.jsx("img",{src:X.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>ln(X.media[0].tinygif.url)},X.id))}),x.jsx("div",{className:"flex justify-center pt-4",children:x.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-white",children:""})})]})}),Re&&ee&&x.jsx(A6,{user:ee,isFriend:pe.includes(ee.uid),onStartChat:()=>{y(ee.uid),b(""),Q(!1)},onAddFriend:()=>un(ee.uid),onClose:()=>Q(!1)}),H&&x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4",children:[x.jsx("h2",{className:"text-xl font-bold",children:""}),x.jsx("input",{type:"text",value:F,onChange:X=>J(X.target.value),placeholder:"",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),x.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:c.filter(X=>pe.includes(X.uid)).length===0?x.jsx("div",{className:"text-gray-400 text-center py-4",children:" "}):c.filter(X=>pe.includes(X.uid)).map(X=>x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("input",{type:"checkbox",value:X.uid,onChange:fe=>{fe.target.checked?se(Ee=>[...Ee,X.uid]):se(Ee=>Ee.filter(be=>be!==X.uid))}}),x.jsx("span",{children:X.nickname})]},X.uid))}),x.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[x.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 rounded-lg bg-gray-600",children:"Cancel"}),x.jsx("button",{onClick:cr,className:"px-4 py-2 rounded-lg bg-green-600",children:"Create"})]})]})}),x.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[x.jsxs("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${K?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`,children:[x.jsx("button",{onClick:or,className:"text-lg font-bold hover:underline",style:{color:D},children:" Public Chat"}),x.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"All Users"}),x.jsx("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto",children:c&&c.map(X=>x.jsxs("div",{className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition",children:[x.jsxs("button",{onClick:()=>Xn(X.uid),className:"flex items-center space-x-2",children:[x.jsx("img",{src:X.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),x.jsx("span",{children:X.nickname})]}),!pe.includes(X.uid)&&x.jsx("button",{onClick:()=>un(X.uid),className:"text-green-400 hover:text-green-300 text-lg",children:""})]},X.uid))}),x.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Groups"}),x.jsx("div",{className:"flex flex-col space-y-2",children:p.filter(X=>X.members[te?te.uid:0]).map(X=>x.jsxs("button",{onClick:()=>zt(X.id),className:"hover:bg-white/10 p-2 rounded transition",children:[" ",X.name]},X.id))}),x.jsx("button",{onClick:()=>q(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition",children:" Create Group"}),x.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-white/20",children:[x.jsx("button",{onClick:()=>le("/"),className:"text-sm hover:underline",style:{color:D},children:""}),x.jsx("button",{onClick:lr,className:"text-sm hover:underline",style:{color:D},children:"Profile"}),x.jsx("button",{onClick:ur,className:"text-sm text-red-400 hover:underline",children:"Logout"})]})]}),x.jsxs("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner",children:[x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x.jsx("div",{className:"p-4",children:x.jsx("input",{type:"text",placeholder:" ",value:t,onChange:X=>e(X.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})}),n.filter(X=>{var be;if(!t.trim())return!0;const fe=t.toLowerCase();return(be=X.text)==null?void 0:be.toLowerCase().includes(fe)}).length===0?x.jsx("div",{className:"text-center text-gray-400 mt-10",children:" "}):n.filter(X=>{var be;if(!t.trim())return!0;const fe=t.toLowerCase();return(be=X.text)==null?void 0:be.toLowerCase().includes(fe)}).map(X=>x.jsx("div",{id:`msg-${X.id}`,className:`flex ${X.sender===(te==null?void 0:te.uid)?"justify-end":"justify-start"} fade-in`,children:x.jsxs("div",{className:"flex items-end space-x-2",children:[X.sender!==(te==null?void 0:te.uid)&&x.jsx("img",{src:X.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onClick:()=>{const fe=c.find(Ee=>Ee.uid===X.sender);fe&&(P(fe),Q(!0))}}),x.jsxs("div",{className:"flex flex-col items-start max-w-xs",children:[X.sender===(te==null?void 0:te.uid)&&x.jsx("button",{onClick:()=>Ue(X.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"",children:""}),x.jsxs("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:X.sender===(te==null?void 0:te.uid)?D:"#d1d5db",color:X.sender===(te==null?void 0:te.uid)?"white":"black"},children:[X.text&&x.jsx("span",{children:X.text}),X.imageUrl&&x.jsx("img",{src:X.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(X.imageUrl,"_blank")}),X.gifUrl&&x.jsx("img",{src:X.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(X.gifUrl,"_blank")})]}),x.jsx("span",{className:"text-xs text-gray-400 mt-1 ml-2",children:Qn(X.timestamp)})]}),X.sender===(te==null?void 0:te.uid)&&x.jsx("img",{src:X.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})]})})),x.jsx("div",{ref:Se})]}),x.jsxs("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2",children:[x.jsx("input",{type:"text",value:o,onChange:X=>u(X.target.value),onKeyDown:X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),ve())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),x.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:wn}),x.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:D},children:""}),x.jsx("button",{onClick:()=>ae(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:D},children:""}),x.jsx("button",{onClick:ve,style:{backgroundColor:D},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",children:"Send"})]})]})]})]})},up=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],M6=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(null),[o,u]=A.useState(""),[c,f]=A.useState(up[2].color),[p,h]=A.useState(""),[g,y]=A.useState(!0),v=ps(),b="dhtqetylj",E="Chatroom_Avatars",w=Ws.currentUser,R=A.useRef(null),{backgroundElement:N}=Ci();A.useEffect(()=>{if(!w){v("/login");return}const I=an(),H=Qe(I,`users/${w.uid}`);Fs(H,q=>{const F=q.val();F&&(e(F.nickname||""),h(F.statusMessage||""),u(F.avatarUrl||""),f(F.themeColor||up[2].color)),y(!1)})},[w,v]);async function D(I){const H=new FormData;return H.append("file",I),H.append("upload_preset",E),H.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${b}/image/upload`,{method:"POST",body:H})).json()).secure_url}const M=async()=>{if(!w)return;const I=an(),H=Qe(I,`users/${w.uid}`);let q=o;n&&(q=await D(n)),await bP(H,{nickname:t,statusMessage:p,themeColor:c,avatarUrl:q}),v("/chat")},K=I=>{var q;const H=(q=I.target.files)==null?void 0:q[0];H&&(r(H),u(URL.createObjectURL(H)))};return g?x.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading Profile..."}):x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4",children:[N,x.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Update Your Profile"}),x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var I;return(I=R.current)==null?void 0:I.click()}}),x.jsx("input",{type:"file",accept:"image/*",ref:R,onChange:K,className:"hidden"})]}),x.jsx("input",{type:"text",value:t,onChange:I=>e(I.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),x.jsx("input",{type:"text",value:p,onChange:I=>h(I.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),x.jsx("div",{className:"flex space-x-3 justify-center",children:up.map(I=>x.jsx("button",{type:"button",onClick:()=>f(I.color),style:{backgroundColor:I.color},className:`w-8 h-8 rounded-full border-2 ${c===I.color?"border-white":"border-transparent"} transition-all`},I.color))}),x.jsx("button",{onClick:M,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c},children:"Save"})]})]})},I6=()=>{const{backgroundElement:t}=Ci();return x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center px-4 py-12 bg-black text-white font-zen",children:[t,x.jsxs("div",{className:"z-10 grid grid-cols-1 md:grid-cols-2 gap-10 max-w-6xl w-full",children:[x.jsx("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl shadow-xl p-8 space-y-6 animate-fade-in",children:x.jsxs("div",{className:"relative z-10 bg-black/60 p-6 rounded-xl space-y-6 text-white",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-wider text-[#f9f6f1]",children:"About Me"}),x.jsx("p",{className:"text-gray-300 leading-relaxed",children:" Chang0608  "}),x.jsx("p",{className:"text-gray-300 leading-relaxed",children:" Firebase + React GIF "}),x.jsx("p",{className:"text-gray-400 leading-relaxed",children:""}),x.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[x.jsx("li",{children:"React / TypeScript / TailwindCSS"}),x.jsx("li",{children:"Firebase Auth, Firestore, Hosting, Storage"}),x.jsx("li",{children:"Python / C / C++ bitonic sortOpenACC HPC "}),x.jsx("li",{children:"Git "})]}),x.jsx("p",{className:"text-gray-300 leading-relaxed",children:" "}),x.jsxs("p",{className:"text-sm text-gray-500",children:["",x.jsx("br",{}),""]})]})}),x.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-white/5 backdrop-blur-md rounded-2xl p-6 space-y-4 w-full max-w-sm h-fit shadow-xl animate-fade-in",children:[x.jsx("img",{src:"/image/profile-symbolic.png",alt:"Profile Symbol",className:"rounded-full w-24 h-24 object-cover shadow-md ring-2 ring-white/20 hover:ring-[#bfa382] transition"}),x.jsx("p",{className:"text-sm text-gray-300 italic text-center",children:""}),x.jsx("div",{className:"w-full border-t border-white/20 pt-2"}),x.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-white",children:[x.jsx("a",{href:"https://github.com/Chang0608",className:"hover:text-[#bfa382] transition",target:"_blank",children:"GitHub"}),x.jsx("a",{href:"mailto:caillou0608@email.com",className:"hover:text-[#bfa382] transition",children:"Email"})]})]})]})]})},Tx=({solved:t,total:e})=>{const n=Math.round(t/e*100);return x.jsx("div",{className:"w-24 h-2 rounded-full bg-white/10 overflow-hidden shadow-inner",title:` ${t} / ${e} ${n}%`,children:x.jsx("div",{className:"h-full bg-[#bfa382] transition-all duration-300",style:{width:`${n}%`}})})},k6=({name:t,title:e,description:n,tags:r,repo:o,progress:u})=>{const c=ps();return x.jsxs(ca.div,{layoutId:`project-card-${t}`,onClick:()=>c(`/projects/${t}`),className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4 cursor-pointer",style:{willChange:"transform"},children:[x.jsxs("div",{className:"flex justify-between items-center gap-4",children:[x.jsx("h2",{className:"text-xl font-bold text-white",children:e}),u&&x.jsx(Tx,{solved:u.solved,total:u.total})]}),x.jsx("p",{className:"text-sm text-gray-300",children:n}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:r.map((f,p)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:f},p))}),x.jsx("div",{className:"pt-3 flex gap-4",onClick:f=>f.stopPropagation(),children:o&&x.jsx("a",{href:o,target:"_blank",rel:"noreferrer",className:"text-white hover:underline text-sm",children:" GitHub"})})]})},P6=[{name:"chatroom",title:"Chatroom ",description:"GIF  Firebase  React ",tags:["React","Firebase","Tailwind"],link:"/projects/chatroom",repo:"https://github.com/chang0608/chatroom",progress:{solved:95,total:100}},{name:"cses-marathon",title:"CSES Marathon",description:" CSES ",tags:["C++","Algorithm","Competitive"],link:"/projects/cses-marathon",repo:"https://github.com/chang0608/cses-marathon",progress:{solved:0,total:100}},{name:"hpc-practice-log",title:"HPC ",description:" MPICUDAOpenACC ",tags:["MPI","CUDA","OpenACC"],link:"/projects/hpc-practice-log",repo:"https://github.com/chang0608/hpc-practice-log",progress:{solved:5,total:100}}];function L6(){const{backgroundElement:t}=Ci();return x.jsxs(ca.div,{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4},children:[t,x.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[x.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"Projects"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:P6.map(e=>x.jsx(k6,{...e},e.name))})]})]})}function j6(){const{backgroundElement:t}=Ci(),{projectName:e}=xR(),n=ps();return x.jsxs("div",{className:"fixed inset-0 z-50",children:[x.jsx("div",{className:"absolute inset-0 -z-10",children:t}),x.jsxs(ca.div,{layoutId:`project-card-${e}`,className:"absolute inset-0 bg-black/30 rounded-2xl overflow-hidden backdrop-blur-sm",transition:{duration:.45,ease:[.4,0,.2,1]},children:[x.jsxs(ca.div,{className:"flex h-full",initial:{opacity:0},animate:{opacity:1},transition:{delay:.25,duration:.3},children:[x.jsxs("div",{className:"w-64 bg-[rgba(0,0,0,0.4)] backdrop-blur-md border-r shadow-inner border-white/10 p-4",children:[x.jsxs("p",{className:"text-[#bfa382] font-semibold mb-4",children:["Project: ",e]}),x.jsxs("ul",{className:"space-y-2 text-sm",children:[x.jsx("li",{className:"hover:bg-white/10 px-3 py-1 rounded cursor-pointer",children:" 1"}),x.jsx("li",{className:"hover:bg-white/10 px-3 py-1 rounded cursor-pointer",children:" 2"})]})]}),x.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[x.jsx("h1",{className:"text-3xl font-bold mb-4",children:e}),x.jsxs("p",{className:"text-gray-400",children:[" ",e,"  (logs  solutions)"]})]}),x.jsx("div",{className:"w-80 bg-[rgba(0,0,0,0.35)] backdrop-blur-md shadow-inner border-l border-white/10 p-4",children:x.jsx("p",{className:"text-gray-400",children:"AI Panel "})})]}),x.jsx(ca.button,{onClick:()=>n("/projects"),className:"absolute top-4 right-4 text-gray-400 hover:text-white z-50",initial:{opacity:0},animate:{opacity:1},transition:{delay:.35,duration:.2},children:""})]})]})}const U6=({title:t,tech:e,tags:n,description:r,codeLink:o,onClick:u,progress:c})=>x.jsxs("div",{onClick:u,className:"cursor-pointer bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow-md",children:x.jsx("img",{src:`/icons/${e.toLowerCase()}.png`,alt:e,className:"w-6 h-6 object-contain"})}),x.jsx("h2",{className:"text-xl font-bold text-white",children:t}),typeof c=="object"&&x.jsx(Tx,{solved:c.solved,total:c.total})]}),x.jsx("p",{className:"text-sm text-gray-300",children:r}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.map((f,p)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:f},p))}),x.jsx("div",{className:"pt-2",children:x.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white hover:underline",children:" View Code"})})]}),V6=({open:t,onClose:e,title:n,tech:r,tags:o,description:u,reflection:c,codeLink:f,resultImage:p})=>t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-black/90 text-white p-6 rounded-2xl w-full max-w-2xl shadow-xl relative animate-fade-in space-y-6 overflow-y-auto max-h-[90vh]",children:[x.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-white text-xl",onClick:e,children:""}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow",children:x.jsx("img",{src:`/icons/${r.toLowerCase()}.png`,alt:r,className:"w-6 h-6 object-contain"})}),x.jsx("h2",{className:"text-2xl font-bold text-[#f9f6f1]",children:n})]}),x.jsx("p",{className:"text-sm text-gray-300",children:u}),p&&x.jsx("img",{src:p,alt:"Result Preview",className:"w-full rounded-lg border border-white/10"}),c&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white/90 mb-1",children:" Reflection"}),x.jsx("p",{className:"text-sm text-gray-400 leading-relaxed whitespace-pre-line",children:c})]}),x.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-[#bfa382]",children:o.map((h,g)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:h},g))}),x.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-sm text-[#bfa382] hover:underline",children:" View Code"})]})}):null,B6=()=>{const{backgroundElement:t}=Ci(),[e,n]=A.useState(null),r=[{title:"Sobel Filter",tech:"CUDA",tags:["CUDA","Shared Memory","Edge Detection"],description:"Use shared memory to optimize image edge detection using a 5x5 Sobel kernel.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/cuda/sobel",reflection:` CUDA  host  device kernel device  host  CUDA 

       Sobel mask  __constant__  constant memory  threads  global memory 

      
      -  kernel  gridDim  blockDim 
      - 
      -  shared memory `,resultImage:"/images/sobel-output.png"},{title:"Bitonic Sort",tech:"MPI",tags:["MPI","Scatter","Parallel Sort"],description:"Parallel sort using MPI scatter/gather with compare-exchange logic.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/mpi/bitonic-sort"},{title:"MNIST Inference",tech:"OpenACC",tags:["OpenACC","Neural Network","GPU"],description:"Accelerated MNIST digit classification using OpenACC for dense layer ops.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/openacc/mnist-inference"},{title:"MPI Exercises",tech:"MPI",tags:["MPI","Point-to-Point","Collective","Topology"],description:"Practice real MPI examples from ANLs tutorial: Ring, Pi, PingPong and more  all tested and documented by me.",codeLink:"/notes/mpi",progress:{solved:4,total:22}}];return x.jsxs("div",{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen",children:[t,x.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[x.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"HPC "}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.map((o,u)=>x.jsx(U6,{...o,onClick:()=>n(o)},u)),e&&x.jsx(V6,{open:!0,onClose:()=>n(null),title:e.title,tech:e.tech,tags:e.tags,description:e.description,codeLink:e.codeLink,reflection:e.reflection,resultImage:e.resultImage})]})]})]})},z6=()=>{const t=Wn(),e=[{name:"",path:"/"},{name:"",path:"/chat"},{name:"",path:"/projects"},{name:"",path:"/about"}];return x.jsx("nav",{className:"fixed top-0 left-0 z-50 w-full transition-all duration-300 opacity-0 -translate-y-6 hover:opacity-100 hover:translate-y-0 bg-black/40 backdrop-blur-md border-b border-white/10 shadow-sm",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-8 py-3 flex justify-between items-center text-white",children:[x.jsx("div",{className:"font-bold text-lg tracking-wide",children:""}),x.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base font-zen",children:e.map(n=>x.jsx("li",{children:x.jsx(Sl,{to:n.path,className:`px-3 py-1 rounded-xl transition-all duration-200 ${t.pathname===n.path?"bg-[#bfa382] text-white":"hover:bg-white/10"}`,children:n.name})},n.path))})]})})},wx=[{id:"point-to-point",title:"Point-to-Point Communication",description:"Basic MPI_Send and MPI_Recv communication patterns",exercises:[{id:"ring",title:"Ring Communication",tags:["MPI","SendRecv","Topology"],solved:!0,reflection:` MPI  MPI_Send  MPI_Recv 
  
   rank=0  rank=n-1  deadlock next / prev  send/recv 
  
   process  blocking  blocking 
  
   MPI `,concepts:[],codeLink:"https://github.com//repo/mpi/ring",path:"/notes/mpi/ring"},{id:"pi",title:"Approximating Pi with MPI_Reduce",tags:["MPI","Reduction","Numerical Integration"],solved:!0,reflection:`
  
   ( int_0^1 \frac{4}{1+x^2} dx = pi )  ( x = 	an	heta )  arc tangent
   pi
  
   MPI  MPI_Reduce  process  reduce  root process  pi 
  
   collective `,concepts:[{title:"  4/(1+x) dx = ",content:" 4 / (1 + x)  arctangent  tan(x) "},{title:"MPI_Reduce ",content:`MPI_Reduce  process  root

MPI_Reduce(&local_result, &global_result, 1, MPI_DOUBLE, MPI_SUM, 0, MPI_COMM_WORLD);`}],codeLink:"https://github.com//repo/mpi/pi",path:"/notes/mpi/pi"}]}],H6=()=>x.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[x.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:""}),wx.map(t=>x.jsxs("div",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:t.title}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.exercises.map(e=>x.jsxs(Sl,{to:e.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[x.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:e.title}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:e.tags.map((n,r)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:n},r))})]},e.id))})]},t.id))]}),F6=()=>{const{backgroundElement:t}=Ci();return x.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[t,x.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:"MPI "}),wx.map(e=>x.jsxs("div",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:e.title}),x.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.exercises.map(n=>x.jsxs(Sl,{to:n.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[x.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:n.title}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.tags.map((r,o)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:r},o))})]},n.id))})]},e.id))]})};function G6({user:t}){const e=Wn();return x.jsx(I1,{mode:"wait",children:x.jsxs(BR,{location:e,children:[x.jsx(Rn,{path:"/",element:x.jsx(g6,{})}),x.jsx(Rn,{path:"/login",element:t?x.jsx(Md,{to:"/chat"}):x.jsx(C6,{})}),x.jsx(Rn,{path:"/chat",element:t?x.jsx(O6,{}):x.jsx(Md,{to:"/login"})}),x.jsx(Rn,{path:"/profile",element:t?x.jsx(M6,{}):x.jsx(Md,{to:"/login"})}),x.jsx(Rn,{path:"/about",element:x.jsx(I6,{})}),x.jsx(Rn,{path:"/projects",element:x.jsx(L6,{})}),x.jsx(Rn,{path:"/projects/:projectName/*",element:x.jsx(j6,{})}),x.jsx(Rn,{path:"/hpc",element:x.jsx(B6,{})}),x.jsx(Rn,{path:"/notes",element:x.jsx(H6,{})}),x.jsx(Rn,{path:"/notes/mpi",element:x.jsx(F6,{})})]},e.pathname)})}function q6(){const[t,e]=A.useState(null),[n,r]=A.useState(!0);return A.useEffect(()=>{const o=sM(Ws,u=>{e(u),r(!1)});return()=>o()},[]),n?x.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading..."}):x.jsxs(uN,{children:[x.jsx(z6,{}),x.jsx(G6,{user:t})]})}$A.createRoot(document.getElementById("root")).render(x.jsx(zA.StrictMode,{children:x.jsx(m6,{children:x.jsx(q6,{})})}));
