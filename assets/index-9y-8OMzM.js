(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ed={exports:{}},xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function C1(){if(C0)return xo;C0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return xo.Fragment=e,xo.jsx=n,xo.jsxs=n,xo}var x0;function x1(){return x0||(x0=1,Ed.exports=C1()),Ed.exports}var L=x1(),Td={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function A1(){if(A0)return _e;A0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function C(T,H,W){this.props=T,this.context=H,this.refs=w,this.updater=W||_}C.prototype.isReactComponent={},C.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function x(){}x.prototype=C.prototype;function M(T,H,W){this.props=T,this.context=H,this.refs=w,this.updater=W||_}var N=M.prototype=new x;N.constructor=M,S(N,C.prototype),N.isPureReactComponent=!0;var q=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function K(T,H,W,ee,k,Re){return W=Re.ref,{$$typeof:t,type:T,key:H,ref:W!==void 0?W:null,props:Re}}function F(T,H){return K(T.type,H,void 0,void 0,void 0,T.props)}function J(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function ie(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return H[W]})}var se=/\/+/g;function le(T,H){return typeof T=="object"&&T!==null&&T.key!=null?ie(""+T.key):H.toString(36)}function Ae(){}function Se(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ae,Ae):(T.status="pending",T.then(function(H){T.status==="pending"&&(T.status="fulfilled",T.value=H)},function(H){T.status==="pending"&&(T.status="rejected",T.reason=H)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ye(T,H,W,ee,k){var Re=typeof T;(Re==="undefined"||Re==="boolean")&&(T=null);var $=!1;if(T===null)$=!0;else switch(Re){case"bigint":case"string":case"number":$=!0;break;case"object":switch(T.$$typeof){case t:case e:$=!0;break;case g:return $=T._init,ye($(T._payload),H,W,ee,k)}}if($)return k=k(T),$=ee===""?"."+le(T,0):ee,q(k)?(W="",$!=null&&(W=$.replace(se,"$&/")+"/"),ye(k,H,W,"",function(Ye){return Ye})):k!=null&&(J(k)&&(k=F(k,W+(k.key==null||T&&T.key===k.key?"":(""+k.key).replace(se,"$&/")+"/")+$)),H.push(k)),1;$=0;var te=ee===""?".":ee+":";if(q(T))for(var ve=0;ve<T.length;ve++)ee=T[ve],Re=te+le(ee,ve),$+=ye(ee,H,W,Re,k);else if(ve=v(T),typeof ve=="function")for(T=ve.call(T),ve=0;!(ee=T.next()).done;)ee=ee.value,Re=te+le(ee,ve++),$+=ye(ee,H,W,Re,k);else if(Re==="object"){if(typeof T.then=="function")return ye(Se(T),H,W,ee,k);throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return $}function P(T,H,W){if(T==null)return T;var ee=[],k=0;return ye(T,ee,"","",function(Re){return H.call(W,Re,k++)}),ee}function Z(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var ae=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function re(){}return _e.Children={map:P,forEach:function(T,H,W){P(T,function(){H.apply(this,arguments)},W)},count:function(T){var H=0;return P(T,function(){H++}),H},toArray:function(T){return P(T,function(H){return H})||[]},only:function(T){if(!J(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},_e.Component=C,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=M,_e.StrictMode=r,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_e.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},_e.cache=function(T){return function(){return T.apply(null,arguments)}},_e.cloneElement=function(T,H,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=S({},T.props),k=T.key,Re=void 0;if(H!=null)for($ in H.ref!==void 0&&(Re=void 0),H.key!==void 0&&(k=""+H.key),H)!z.call(H,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&H.ref===void 0||(ee[$]=H[$]);var $=arguments.length-2;if($===1)ee.children=W;else if(1<$){for(var te=Array($),ve=0;ve<$;ve++)te[ve]=arguments[ve+2];ee.children=te}return K(T.type,k,void 0,void 0,Re,ee)},_e.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},_e.createElement=function(T,H,W){var ee,k={},Re=null;if(H!=null)for(ee in H.key!==void 0&&(Re=""+H.key),H)z.call(H,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(k[ee]=H[ee]);var $=arguments.length-2;if($===1)k.children=W;else if(1<$){for(var te=Array($),ve=0;ve<$;ve++)te[ve]=arguments[ve+2];k.children=te}if(T&&T.defaultProps)for(ee in $=T.defaultProps,$)k[ee]===void 0&&(k[ee]=$[ee]);return K(T,Re,void 0,void 0,null,k)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(T){return{$$typeof:f,render:T}},_e.isValidElement=J,_e.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:Z}},_e.memo=function(T,H){return{$$typeof:h,type:T,compare:H===void 0?null:H}},_e.startTransition=function(T){var H=D.T,W={};D.T=W;try{var ee=T(),k=D.S;k!==null&&k(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(re,ae)}catch(Re){ae(Re)}finally{D.T=H}},_e.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_e.use=function(T){return D.H.use(T)},_e.useActionState=function(T,H,W){return D.H.useActionState(T,H,W)},_e.useCallback=function(T,H){return D.H.useCallback(T,H)},_e.useContext=function(T){return D.H.useContext(T)},_e.useDebugValue=function(){},_e.useDeferredValue=function(T,H){return D.H.useDeferredValue(T,H)},_e.useEffect=function(T,H,W){var ee=D.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(T,H)},_e.useId=function(){return D.H.useId()},_e.useImperativeHandle=function(T,H,W){return D.H.useImperativeHandle(T,H,W)},_e.useInsertionEffect=function(T,H){return D.H.useInsertionEffect(T,H)},_e.useLayoutEffect=function(T,H){return D.H.useLayoutEffect(T,H)},_e.useMemo=function(T,H){return D.H.useMemo(T,H)},_e.useOptimistic=function(T,H){return D.H.useOptimistic(T,H)},_e.useReducer=function(T,H,W){return D.H.useReducer(T,H,W)},_e.useRef=function(T){return D.H.useRef(T)},_e.useState=function(T){return D.H.useState(T)},_e.useSyncExternalStore=function(T,H,W){return D.H.useSyncExternalStore(T,H,W)},_e.useTransition=function(){return D.H.useTransition()},_e.version="19.1.0",_e}var R0;function zc(){return R0||(R0=1,Td.exports=A1()),Td.exports}var R=zc();const R1=Qp(R);var wd={exports:{}},Ao={},Cd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function N1(){return N0||(N0=1,function(t){function e(P,Z){var ae=P.length;P.push(Z);e:for(;0<ae;){var re=ae-1>>>1,T=P[re];if(0<o(T,Z))P[re]=Z,P[ae]=T,ae=re;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var Z=P[0],ae=P.pop();if(ae!==Z){P[0]=ae;e:for(var re=0,T=P.length,H=T>>>1;re<H;){var W=2*(re+1)-1,ee=P[W],k=W+1,Re=P[k];if(0>o(ee,ae))k<T&&0>o(Re,ee)?(P[re]=Re,P[k]=ae,re=k):(P[re]=ee,P[W]=ae,re=W);else if(k<T&&0>o(Re,ae))P[re]=Re,P[k]=ae,re=k;else break e}}return Z}function o(P,Z){var ae=P.sortIndex-Z.sortIndex;return ae!==0?ae:P.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],h=[],g=1,y=null,v=3,_=!1,S=!1,w=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function q(P){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=P)r(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(h)}}function D(P){if(w=!1,q(P),!S)if(n(p)!==null)S=!0,z||(z=!0,le());else{var Z=n(h);Z!==null&&ye(D,Z.startTime-P)}}var z=!1,K=-1,F=5,J=-1;function ie(){return C?!0:!(t.unstable_now()-J<F)}function se(){if(C=!1,z){var P=t.unstable_now();J=P;var Z=!0;try{e:{S=!1,w&&(w=!1,M(K),K=-1),_=!0;var ae=v;try{t:{for(q(P),y=n(p);y!==null&&!(y.expirationTime>P&&ie());){var re=y.callback;if(typeof re=="function"){y.callback=null,v=y.priorityLevel;var T=re(y.expirationTime<=P);if(P=t.unstable_now(),typeof T=="function"){y.callback=T,q(P),Z=!0;break t}y===n(p)&&r(p),q(P)}else r(p);y=n(p)}if(y!==null)Z=!0;else{var H=n(h);H!==null&&ye(D,H.startTime-P),Z=!1}}break e}finally{y=null,v=ae,_=!1}Z=void 0}}finally{Z?le():z=!1}}}var le;if(typeof N=="function")le=function(){N(se)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Se=Ae.port2;Ae.port1.onmessage=se,le=function(){Se.postMessage(null)}}else le=function(){x(se,0)};function ye(P,Z){K=x(function(){P(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(P){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var ae=v;v=Z;try{return P()}finally{v=ae}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ae=v;v=P;try{return Z()}finally{v=ae}},t.unstable_scheduleCallback=function(P,Z,ae){var re=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?re+ae:re):ae=re,P){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ae+T,P={id:g++,callback:Z,priorityLevel:P,startTime:ae,expirationTime:T,sortIndex:-1},ae>re?(P.sortIndex=ae,e(h,P),n(p)===null&&P===n(h)&&(w?(M(K),K=-1):w=!0,ye(D,ae-re))):(P.sortIndex=T,e(p,P),S||_||(S=!0,z||(z=!0,le()))),P},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(P){var Z=v;return function(){var ae=v;v=Z;try{return P.apply(this,arguments)}finally{v=ae}}}}(xd)),xd}var O0;function O1(){return O0||(O0=1,Cd.exports=N1()),Cd.exports}var Ad={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function D1(){if(D0)return kt;D0=1;var t=zc();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:h,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(p,h,null,g)},kt.flushSync=function(p){var h=c.T,g=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=h,r.p=g,r.d.f()}},kt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(p,h))},kt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},kt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},kt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(p)},kt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},kt.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=f(h.as,h.crossOrigin);r.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(p)},kt.requestFormReset=function(p){r.d.r(p)},kt.unstable_batchedUpdates=function(p,h){return p(h)},kt.useFormState=function(p,h,g){return c.H.useFormState(p,h,g)},kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},kt.version="19.1.0",kt}var M0;function M1(){if(M0)return Ad.exports;M0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ad.exports=D1(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function I1(){if(I0)return Ao;I0=1;var t=O1(),e=zc(),n=M1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(u(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return f(d),i;if(m===l)return f(d),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,E=d.child;E;){if(E===a){b=!0,a=d,l=m;break}if(E===l){b=!0,l=d,a=m;break}E=E.sibling}if(!b){for(E=m.child;E;){if(E===a){b=!0,a=m,l=d;break}if(E===l){b=!0,l=m,a=d;break}E=E.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),N=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var Ae=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case N:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case q:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case F:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}var ye=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},re=[],T=-1;function H(i){return{current:i}}function W(i){0>T||(i.current=re[T],re[T]=null,T--)}function ee(i,s){T++,re[T]=i.current,i.current=s}var k=H(null),Re=H(null),$=H(null),te=H(null);function ve(i,s){switch(ee($,s),ee(Re,i),ee(k,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?J_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=J_(s),i=e0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(k),ee(k,i)}function Ye(){W(k),W(Re),W($)}function je(i){i.memoizedState!==null&&ee(te,i);var s=k.current,a=e0(s,i.type);s!==a&&(ee(Re,i),ee(k,a))}function mt(i){Re.current===i&&(W(k),W(Re)),te.current===i&&(W(te),So._currentValue=ae)}var ln=Object.prototype.hasOwnProperty,wn=t.unstable_scheduleCallback,un=t.unstable_cancelCallback,ir=t.unstable_shouldYield,Wn=t.unstable_requestPaint,zt=t.unstable_now,sr=t.unstable_getCurrentPriorityLevel,rr=t.unstable_ImmediatePriority,ar=t.unstable_UserBlockingPriority,Xn=t.unstable_NormalPriority,Q=t.unstable_LowPriority,fe=t.unstable_IdlePriority,Ee=t.log,be=t.unstable_setDisableYieldValue,ke=null,Me=null;function st(i){if(typeof Ee=="function"&&be(i),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(ke,i)}catch{}}var et=Math.clz32?Math.clz32:xi,Ht=Math.log,Ci=Math.LN2;function xi(i){return i>>>=0,i===0?32:31-(Ht(i)/Ci|0)|0}var Ai=256,kl=4194304;function vs(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ll(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?d=vs(l):(b&=E,b!==0?d=vs(b):a||(a=E&~i,a!==0&&(d=vs(a))))):(E=l&~m,E!==0?d=vs(E):b!==0?d=vs(b):a||(a=l&~i,a!==0&&(d=vs(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function Na(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function hx(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pg(){var i=Ai;return Ai<<=1,(Ai&4194048)===0&&(Ai=256),i}function Ug(){var i=kl;return kl<<=1,(kl&62914560)===0&&(kl=4194304),i}function ff(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Oa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function dx(i,s,a,l,d,m){var b=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var E=i.entanglements,A=i.expirationTimes,j=i.hiddenUpdates;for(a=b&~a;0<a;){var G=31-et(a),X=1<<G;E[G]=0,A[G]=-1;var V=j[G];if(V!==null)for(j[G]=null,G=0;G<V.length;G++){var B=V[G];B!==null&&(B.lane&=-536870913)}a&=~X}l!==0&&jg(i,l,0),m!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=m&~(b&~s))}function jg(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-et(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function Vg(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-et(a),d=1<<l;d&s|i[l]&s&&(i[l]|=s),a&=~d}}function hf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function df(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bg(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:_0(i.type))}function px(i,s){var a=Z.p;try{return Z.p=i,s()}finally{Z.p=a}}var Ri=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Ri,Ft="__reactProps$"+Ri,or="__reactContainer$"+Ri,pf="__reactEvents$"+Ri,mx="__reactListeners$"+Ri,gx="__reactHandles$"+Ri,zg="__reactResources$"+Ri,Da="__reactMarker$"+Ri;function mf(i){delete i[Mt],delete i[Ft],delete i[pf],delete i[mx],delete i[gx]}function lr(i){var s=i[Mt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[or]||a[Mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=s0(i);i!==null;){if(a=i[Mt])return a;i=s0(i)}return s}i=a,a=i.parentNode}return null}function ur(i){if(i=i[Mt]||i[or]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ma(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function cr(i){var s=i[zg];return s||(s=i[zg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(i){i[Da]=!0}var Hg=new Set,Fg={};function _s(i,s){fr(i,s),fr(i+"Capture",s)}function fr(i,s){for(Fg[i]=s,i=0;i<s.length;i++)Hg.add(s[i])}var yx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gg={},qg={};function vx(i){return ln.call(qg,i)?!0:ln.call(Gg,i)?!1:yx.test(i)?qg[i]=!0:(Gg[i]=!0,!1)}function Pl(i,s,a){if(vx(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Ul(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Qn(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var gf,Yg;function hr(i){if(gf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);gf=s&&s[1]||"",Yg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gf+i+Yg}var yf=!1;function vf(i,s){if(!i||yf)return"";yf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var V=B}Reflect.construct(i,[],X)}else{try{X.call()}catch(B){V=B}i.call(X.prototype)}}else{try{throw Error()}catch(B){V=B}(X=i())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&V&&typeof B.stack=="string")return[B.stack,V.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],E=m[1];if(b&&E){var A=b.split(`
`),j=E.split(`
`);for(d=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(l===A.length||d===j.length)for(l=A.length-1,d=j.length-1;1<=l&&0<=d&&A[l]!==j[d];)d--;for(;1<=l&&0<=d;l--,d--)if(A[l]!==j[d]){if(l!==1||d!==1)do if(l--,d--,0>d||A[l]!==j[d]){var G=`
`+A[l].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=l&&0<=d);break}}}finally{yf=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?hr(a):""}function _x(i){switch(i.tag){case 26:case 27:case 5:return hr(i.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 15:return vf(i.type,!1);case 11:return vf(i.type.render,!1);case 1:return vf(i.type,!0);case 31:return hr("Activity");default:return""}}function Kg(i){try{var s="";do s+=_x(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bx(i){var s=Wg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function jl(i){i._valueTracker||(i._valueTracker=bx(i))}function Xg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Wg(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Vl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Sx=/[\n"\\]/g;function fn(i){return i.replace(Sx,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _f(i,s,a,l,d,m,b,E){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?bf(i,b,cn(s)):a!=null?bf(i,b,cn(a)):l!=null&&i.removeAttribute("value"),d==null&&m!=null&&(i.defaultChecked=!!m),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+cn(E):i.removeAttribute("name")}function Qg(i,s,a,l,d,m,b,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,E||s===i.value||(i.value=s),i.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=E?i.checked:!!l,i.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function bf(i,s,a){s==="number"&&Vl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function dr(i,s,a,l){if(i=i.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<i.length;a++)d=s.hasOwnProperty("$"+i[a].value),i[a].selected!==d&&(i[a].selected=d),d&&l&&(i[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,d=0;d<i.length;d++){if(i[d].value===a){i[d].selected=!0,l&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function $g(i,s,a){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+cn(a):""}function Zg(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ye(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function pr(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Ex=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jg(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||Ex.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function ey(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Jg(i,d,l)}else for(var m in s)s.hasOwnProperty(m)&&Jg(i,m,s[m])}function Sf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(i){return wx.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ef=null;function Tf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var mr=null,gr=null;function ty(i){var s=ur(i);if(s&&(i=s.stateNode)){var a=i[Ft]||null;e:switch(i=s.stateNode,s.type){case"input":if(_f(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var d=l[Ft]||null;if(!d)throw Error(r(90));_f(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Xg(l)}break e;case"textarea":$g(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&dr(i,!!a.multiple,s,!1)}}}var wf=!1;function ny(i,s,a){if(wf)return i(s,a);wf=!0;try{var l=i(s);return l}finally{if(wf=!1,(mr!==null||gr!==null)&&(Cu(),mr&&(s=mr,i=gr,gr=mr=null,ty(s),i)))for(s=0;s<i.length;s++)ty(i[s])}}function Ia(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=!1;if($n)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Cf=!1}var Ni=null,xf=null,zl=null;function iy(){if(zl)return zl;var i,s=xf,a=s.length,l,d="value"in Ni?Ni.value:Ni.textContent,m=d.length;for(i=0;i<a&&s[i]===d[i];i++);var b=a-i;for(l=1;l<=b&&s[a-l]===d[m-l];l++);return zl=d.slice(i,1<l?1-l:void 0)}function Hl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Fl(){return!0}function sy(){return!1}function Gt(i){function s(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(a=i[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Fl:sy,this.isPropagationStopped=sy,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),s}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Gt(bs),La=g({},bs,{view:0,detail:0}),Cx=Gt(La),Af,Rf,Pa,ql=g({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pa&&(Pa&&i.type==="mousemove"?(Af=i.screenX-Pa.screenX,Rf=i.screenY-Pa.screenY):Rf=Af=0,Pa=i),Af)},movementY:function(i){return"movementY"in i?i.movementY:Rf}}),ry=Gt(ql),xx=g({},ql,{dataTransfer:0}),Ax=Gt(xx),Rx=g({},La,{relatedTarget:0}),Nf=Gt(Rx),Nx=g({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ox=Gt(Nx),Dx=g({},bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mx=Gt(Dx),Ix=g({},bs,{data:0}),ay=Gt(Ix),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Px[i])?!!s[i]:!1}function Of(){return Ux}var jx=g({},La,{key:function(i){if(i.key){var s=kx[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Lx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(i){return i.type==="keypress"?Hl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Vx=Gt(jx),Bx=g({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=Gt(Bx),zx=g({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),Hx=Gt(zx),Fx=g({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gx=Gt(Fx),qx=g({},ql,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=Gt(qx),Kx=g({},bs,{newState:0,oldState:0}),Wx=Gt(Kx),Xx=[9,13,27,32],Df=$n&&"CompositionEvent"in window,Ua=null;$n&&"documentMode"in document&&(Ua=document.documentMode);var Qx=$n&&"TextEvent"in window&&!Ua,ly=$n&&(!Df||Ua&&8<Ua&&11>=Ua),uy=" ",cy=!1;function fy(i,s){switch(i){case"keyup":return Xx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yr=!1;function $x(i,s){switch(i){case"compositionend":return hy(s);case"keypress":return s.which!==32?null:(cy=!0,uy);case"textInput":return i=s.data,i===uy&&cy?null:i;default:return null}}function Zx(i,s){if(yr)return i==="compositionend"||!Df&&fy(i,s)?(i=iy(),zl=xf=Ni=null,yr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ly&&s.locale!=="ko"?null:s.data;default:return null}}var Jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Jx[i.type]:s==="textarea"}function py(i,s,a,l){mr?gr?gr.push(l):gr=[l]:mr=l,s=Du(s,"onChange"),0<s.length&&(a=new Gl("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var ja=null,Va=null;function eA(i){W_(i,0)}function Yl(i){var s=Ma(i);if(Xg(s))return i}function my(i,s){if(i==="change")return s}var gy=!1;if($n){var Mf;if($n){var If="oninput"in document;if(!If){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),If=typeof yy.oninput=="function"}Mf=If}else Mf=!1;gy=Mf&&(!document.documentMode||9<document.documentMode)}function vy(){ja&&(ja.detachEvent("onpropertychange",_y),Va=ja=null)}function _y(i){if(i.propertyName==="value"&&Yl(Va)){var s=[];py(s,Va,i,Tf(i)),ny(eA,s)}}function tA(i,s,a){i==="focusin"?(vy(),ja=s,Va=a,ja.attachEvent("onpropertychange",_y)):i==="focusout"&&vy()}function nA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yl(Va)}function iA(i,s){if(i==="click")return Yl(s)}function sA(i,s){if(i==="input"||i==="change")return Yl(s)}function rA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Zt=typeof Object.is=="function"?Object.is:rA;function Ba(i,s){if(Zt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ln.call(s,d)||!Zt(i[d],s[d]))return!1}return!0}function by(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sy(i,s){var a=by(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=by(a)}}function Ey(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ey(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ty(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vl(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Vl(i.document)}return s}function kf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var aA=$n&&"documentMode"in document&&11>=document.documentMode,vr=null,Lf=null,za=null,Pf=!1;function wy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||vr==null||vr!==Vl(l)||(l=vr,"selectionStart"in l&&kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),za&&Ba(za,l)||(za=l,l=Du(Lf,"onSelect"),0<l.length&&(s=new Gl("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=vr)))}function Ss(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var _r={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Uf={},Cy={};$n&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Es(i){if(Uf[i])return Uf[i];if(!_r[i])return i;var s=_r[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Cy)return Uf[i]=s[a];return i}var xy=Es("animationend"),Ay=Es("animationiteration"),Ry=Es("animationstart"),oA=Es("transitionrun"),lA=Es("transitionstart"),uA=Es("transitioncancel"),Ny=Es("transitionend"),Oy=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function Cn(i,s){Oy.set(i,s),_s(s,[i])}var Dy=new WeakMap;function hn(i,s){if(typeof i=="object"&&i!==null){var a=Dy.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Kg(s)},Dy.set(i,s),s)}return{value:i,source:s,stack:Kg(s)}}var dn=[],br=0,Vf=0;function Kl(){for(var i=br,s=Vf=br=0;s<i;){var a=dn[s];dn[s++]=null;var l=dn[s];dn[s++]=null;var d=dn[s];dn[s++]=null;var m=dn[s];if(dn[s++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&My(a,d,m)}}function Wl(i,s,a,l){dn[br++]=i,dn[br++]=s,dn[br++]=a,dn[br++]=l,Vf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Bf(i,s,a,l){return Wl(i,s,a,l),Xl(i)}function Sr(i,s){return Wl(i,null,null,s),Xl(i)}function My(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(d=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,d&&s!==null&&(d=31-et(a),i=m.hiddenUpdates,l=i[d],l===null?i[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function Xl(i){if(50<ho)throw ho=0,Yh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Er={};function cA(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(i,s,a,l){return new cA(i,s,a,l)}function zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zn(i,s){var a=i.alternate;return a===null?(a=Jt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Iy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ql(i,s,a,l,d,m){var b=0;if(l=i,typeof i=="function")zf(i)&&(b=1);else if(typeof i=="string")b=h1(i,a,k.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=Jt(31,a,s,d),i.elementType=J,i.lanes=m,i;case S:return Ts(a.children,d,m,s);case w:b=8,d|=24;break;case C:return i=Jt(12,a,s,d|2),i.elementType=C,i.lanes=m,i;case D:return i=Jt(13,a,s,d),i.elementType=D,i.lanes=m,i;case z:return i=Jt(19,a,s,d),i.elementType=z,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:case N:b=10;break e;case M:b=9;break e;case q:b=11;break e;case K:b=14;break e;case F:b=16,l=null;break e}b=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Jt(b,a,s,d),s.elementType=i,s.type=l,s.lanes=m,s}function Ts(i,s,a,l){return i=Jt(7,i,l,s),i.lanes=a,i}function Hf(i,s,a){return i=Jt(6,i,null,s),i.lanes=a,i}function Ff(i,s,a){return s=Jt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Tr=[],wr=0,$l=null,Zl=0,pn=[],mn=0,ws=null,Jn=1,ei="";function Cs(i,s){Tr[wr++]=Zl,Tr[wr++]=$l,$l=i,Zl=s}function ky(i,s,a){pn[mn++]=Jn,pn[mn++]=ei,pn[mn++]=ws,ws=i;var l=Jn;i=ei;var d=32-et(l)-1;l&=~(1<<d),a+=1;var m=32-et(s)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Jn=1<<32-et(s)+d|a<<d|l,ei=m+i}else Jn=1<<m|a<<d|l,ei=i}function Gf(i){i.return!==null&&(Cs(i,1),ky(i,1,0))}function qf(i){for(;i===$l;)$l=Tr[--wr],Tr[wr]=null,Zl=Tr[--wr],Tr[wr]=null;for(;i===ws;)ws=pn[--mn],pn[mn]=null,ei=pn[--mn],pn[mn]=null,Jn=pn[--mn],pn[mn]=null}var Ut=null,rt=null,Pe=!1,xs=null,Un=!1,Yf=Error(r(519));function As(i){var s=Error(r(418,""));throw Ga(hn(s,i)),Yf}function Ly(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Mt]=i,s[Ft]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<mo.length;a++)Oe(mo[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Qg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),jl(s);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Zg(s,l.value,l.defaultValue,l.children),jl(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Z_(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=Mu),s=!0):s=!1,s||As(i)}function Py(i){for(Ut=i.return;Ut;)switch(Ut.tag){case 5:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ut=Ut.return}}function Ha(i){if(i!==Ut)return!1;if(!Pe)return Py(i),Pe=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||ld(i.type,i.memoizedProps)),a=!a),a&&rt&&As(i),Py(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){rt=An(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}rt=null}}else s===27?(s=rt,qi(i.type)?(i=hd,hd=null,rt=i):rt=s):rt=Ut?An(i.stateNode.nextSibling):null;return!0}function Fa(){rt=Ut=null,Pe=!1}function Uy(){var i=xs;return i!==null&&(Kt===null?Kt=i:Kt.push.apply(Kt,i),xs=null),i}function Ga(i){xs===null?xs=[i]:xs.push(i)}var Kf=H(null),Rs=null,ti=null;function Oi(i,s,a){ee(Kf,s._currentValue),s._currentValue=a}function ni(i){i._currentValue=Kf.current,W(Kf)}function Wf(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Xf(i,s,a,l){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var A=0;A<s.length;A++)if(E.context===s[A]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Wf(m.return,a,i),l||(b=null);break e}m=E.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Wf(b,a,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function qa(i,s,a,l){i=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var E=d.type;Zt(d.pendingProps.value,b.value)||(i!==null?i.push(E):i=[E])}}else if(d===te.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(So):i=[So])}d=d.return}i!==null&&Xf(s,i,a,l),s.flags|=262144}function Jl(i){for(i=i.firstContext;i!==null;){if(!Zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ns(i){Rs=i,ti=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function It(i){return jy(Rs,i)}function eu(i,s){return Rs===null&&Ns(i),jy(i,s)}function jy(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ti===null){if(i===null)throw Error(r(308));ti=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ti=ti.next=s;return a}var fA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},hA=t.unstable_scheduleCallback,dA=t.unstable_NormalPriority,gt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new fA,data:new Map,refCount:0}}function Ya(i){i.refCount--,i.refCount===0&&hA(dA,function(){i.controller.abort()})}var Ka=null,$f=0,Cr=0,xr=null;function pA(i,s){if(Ka===null){var a=Ka=[];$f=0,Cr=Jh(),xr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,s.then(Vy,Vy),s}function Vy(){if(--$f===0&&Ka!==null){xr!==null&&(xr.status="fulfilled");var i=Ka;Ka=null,Cr=0,xr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function mA(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var By=P.S;P.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&pA(i,s),By!==null&&By(i,s)};var Os=H(null);function Zf(){var i=Os.current;return i!==null?i:We.pooledCache}function tu(i,s){s===null?ee(Os,Os.current):ee(Os,s.pool)}function zy(){var i=Zf();return i===null?null:{parent:gt._currentValue,pool:i}}var Wa=Error(r(460)),Hy=Error(r(474)),nu=Error(r(542)),Jf={then:function(){}};function Fy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function iu(){}function Gy(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(iu,iu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Yy(i),i;default:if(typeof s.status=="string")s.then(iu,iu);else{if(i=We,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Yy(i),i}throw Xa=s,Wa}}var Xa=null;function qy(){if(Xa===null)throw Error(r(459));var i=Xa;return Xa=null,i}function Yy(i){if(i===Wa||i===nu)throw Error(r(483))}var Di=!1;function eh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Mi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ii(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Xl(i),My(i,null,a),s}return Wl(i,l,s,a),Xl(i)}function Qa(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Vg(i,a)}}function nh(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var ih=!1;function $a(){if(ih){var i=xr;if(i!==null)throw i}}function Za(i,s,a,l){ih=!1;var d=i.updateQueue;Di=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,j=A.next;A.next=null,b===null?m=j:b.next=j,b=A;var G=i.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==b&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=A))}if(m!==null){var X=d.baseState;b=0,G=j=A=null,E=m;do{var V=E.lane&-536870913,B=V!==E.lane;if(B?(Ie&V)===V:(l&V)===V){V!==0&&V===Cr&&(ih=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=i,ce=E;V=s;var Fe=a;switch(ce.tag){case 1:if(pe=ce.payload,typeof pe=="function"){X=pe.call(Fe,X,V);break e}X=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ce.payload,V=typeof pe=="function"?pe.call(Fe,X,V):pe,V==null)break e;X=g({},X,V);break e;case 2:Di=!0}}V=E.callback,V!==null&&(i.flags|=64,B&&(i.flags|=8192),B=d.callbacks,B===null?d.callbacks=[V]:B.push(V))}else B={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=B,A=X):G=G.next=B,b|=V;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;B=E,E=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);G===null&&(A=X),d.baseState=A,d.firstBaseUpdate=j,d.lastBaseUpdate=G,m===null&&(d.shared.lanes=0),zi|=b,i.lanes=b,i.memoizedState=X}}function Ky(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Wy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Ky(a[i],s)}var Ar=H(null),su=H(0);function Xy(i,s){i=ui,ee(su,i),ee(Ar,s),ui=i|s.baseLanes}function sh(){ee(su,ui),ee(Ar,Ar.current)}function rh(){ui=su.current,W(Ar),W(su)}var ki=0,Te=null,ze=null,dt=null,ru=!1,Rr=!1,Ds=!1,au=0,Ja=0,Nr=null,gA=0;function ct(){throw Error(r(321))}function ah(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Zt(i[a],s[a]))return!1;return!0}function oh(i,s,a,l,d,m){return ki=m,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=i===null||i.memoizedState===null?Mv:Iv,Ds=!1,m=a(l,d),Ds=!1,Rr&&(m=$y(s,a,l,d)),Qy(i),m}function Qy(i){P.H=hu;var s=ze!==null&&ze.next!==null;if(ki=0,dt=ze=Te=null,ru=!1,Ja=0,Nr=null,s)throw Error(r(300));i===null||_t||(i=i.dependencies,i!==null&&Jl(i)&&(_t=!0))}function $y(i,s,a,l){Te=i;var d=0;do{if(Rr&&(Nr=null),Ja=0,Rr=!1,25<=d)throw Error(r(301));if(d+=1,dt=ze=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=TA,m=s(a,l)}while(Rr);return m}function yA(){var i=P.H,s=i.useState()[0];return s=typeof s.then=="function"?eo(s):s,i=i.useState()[0],(ze!==null?ze.memoizedState:null)!==i&&(Te.flags|=1024),s}function lh(){var i=au!==0;return au=0,i}function uh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function ch(i){if(ru){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ru=!1}ki=0,dt=ze=Te=null,Rr=!1,Ja=au=0,Nr=null}function qt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Te.memoizedState=dt=i:dt=dt.next=i,dt}function pt(){if(ze===null){var i=Te.alternate;i=i!==null?i.memoizedState:null}else i=ze.next;var s=dt===null?Te.memoizedState:dt.next;if(s!==null)dt=s,ze=i;else{if(i===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ze=i,i={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},dt===null?Te.memoizedState=dt=i:dt=dt.next=i}return dt}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(i){var s=Ja;return Ja+=1,Nr===null&&(Nr=[]),i=Gy(Nr,i,s),s=Te,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?Mv:Iv),i}function ou(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return eo(i);if(i.$$typeof===N)return It(i)}throw Error(r(438,String(i)))}function hh(i){var s=null,a=Te.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=fh(),Te.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=ie;return s.index++,a}function ii(i,s){return typeof s=="function"?s(i):s}function lu(i){var s=pt();return dh(s,ze,i)}function dh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=i.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}s.baseQueue=d=m,l.pending=null}if(m=i.baseState,d===null)i.memoizedState=m;else{s=d.next;var E=b=null,A=null,j=s,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ie&X)===X:(ki&X)===X){var V=j.revertLane;if(V===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Cr&&(G=!0);else if((ki&V)===V){j=j.next,V===Cr&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},A===null?(E=A=X,b=m):A=A.next=X,Te.lanes|=V,zi|=V;X=j.action,Ds&&a(m,X),m=j.hasEagerState?j.eagerState:a(m,X)}else V={lane:X,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},A===null?(E=A=V,b=m):A=A.next=V,Te.lanes|=X,zi|=X;j=j.next}while(j!==null&&j!==s);if(A===null?b=m:A.next=E,!Zt(m,i.memoizedState)&&(_t=!0,G&&(a=xr,a!==null)))throw a;i.memoizedState=m,i.baseState=b,i.baseQueue=A,l.lastRenderedState=m}return d===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function ph(i){var s=pt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=i(m,b.action),b=b.next;while(b!==d);Zt(m,s.memoizedState)||(_t=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Zy(i,s,a){var l=Te,d=pt(),m=Pe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var b=!Zt((ze||d).memoizedState,a);b&&(d.memoizedState=a,_t=!0),d=d.queue;var E=tv.bind(null,l,d,i);if(to(2048,8,E,[i]),d.getSnapshot!==s||b||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Or(9,uu(),ev.bind(null,l,d,a,s),null),We===null)throw Error(r(349));m||(ki&124)!==0||Jy(l,s,a)}return a}function Jy(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Te.updateQueue,s===null?(s=fh(),Te.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function ev(i,s,a,l){s.value=a,s.getSnapshot=l,nv(s)&&iv(i)}function tv(i,s,a){return a(function(){nv(s)&&iv(i)})}function nv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Zt(i,a)}catch{return!0}}function iv(i){var s=Sr(i,2);s!==null&&rn(s,i,2)}function mh(i){var s=qt();if(typeof i=="function"){var a=i;if(i=a(),Ds){st(!0);try{a()}finally{st(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:i},s}function sv(i,s,a,l){return i.baseState=a,dh(i,ze,typeof l=="function"?l:ii)}function vA(i,s,a,l,d){if(fu(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};P.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,rv(s,m)):(m.next=a.next,s.pending=a.next=m)}}function rv(i,s){var a=s.action,l=s.payload,d=i.state;if(s.isTransition){var m=P.T,b={};P.T=b;try{var E=a(d,l),A=P.S;A!==null&&A(b,E),av(i,s,E)}catch(j){gh(i,s,j)}finally{P.T=m}}else try{m=a(d,l),av(i,s,m)}catch(j){gh(i,s,j)}}function av(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ov(i,s,l)},function(l){return gh(i,s,l)}):ov(i,s,a)}function ov(i,s,a){s.status="fulfilled",s.value=a,lv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,rv(i,a)))}function gh(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,lv(s),s=s.next;while(s!==l)}i.action=null}function lv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function uv(i,s){return s}function cv(i,s){if(Pe){var a=We.formState;if(a!==null){e:{var l=Te;if(Pe){if(rt){t:{for(var d=rt,m=Un;d.nodeType!==8;){if(!m){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){rt=An(d.nextSibling),l=d.data==="F!";break e}}As(l)}l=!1}l&&(s=a[0])}}return a=qt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:s},a.queue=l,a=Nv.bind(null,Te,l),l.dispatch=a,l=mh(!1),m=Sh.bind(null,Te,!1,l.queue),l=qt(),d={state:s,dispatch:null,action:i,pending:null},l.queue=d,a=vA.bind(null,Te,d,m,a),d.dispatch=a,l.memoizedState=i,[s,a,!1]}function fv(i){var s=pt();return hv(s,ze,i)}function hv(i,s,a){if(s=dh(i,s,uv)[0],i=lu(ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=eo(s)}catch(b){throw b===Wa?nu:b}else l=s;s=pt();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Te.flags|=2048,Or(9,uu(),_A.bind(null,d,a),null)),[l,m,i]}function _A(i,s){i.action=s}function dv(i){var s=pt(),a=ze;if(a!==null)return hv(s,a,i);pt(),s=s.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Or(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Te.updateQueue,s===null&&(s=fh(),Te.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function uu(){return{destroy:void 0,resource:void 0}}function pv(){return pt().memoizedState}function cu(i,s,a,l){var d=qt();l=l===void 0?null:l,Te.flags|=i,d.memoizedState=Or(1|s,uu(),a,l)}function to(i,s,a,l){var d=pt();l=l===void 0?null:l;var m=d.memoizedState.inst;ze!==null&&l!==null&&ah(l,ze.memoizedState.deps)?d.memoizedState=Or(s,m,a,l):(Te.flags|=i,d.memoizedState=Or(1|s,m,a,l))}function mv(i,s){cu(8390656,8,i,s)}function gv(i,s){to(2048,8,i,s)}function yv(i,s){return to(4,2,i,s)}function vv(i,s){return to(4,4,i,s)}function _v(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function bv(i,s,a){a=a!=null?a.concat([i]):null,to(4,4,_v.bind(null,s,i),a)}function yh(){}function Sv(i,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&ah(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Ev(i,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&ah(s,l[1]))return l[0];if(l=i(),Ds){st(!0);try{i()}finally{st(!1)}}return a.memoizedState=[l,s],l}function vh(i,s,a){return a===void 0||(ki&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=C_(),Te.lanes|=i,zi|=i,a)}function Tv(i,s,a,l){return Zt(a,s)?a:Ar.current!==null?(i=vh(i,a,l),Zt(i,s)||(_t=!0),i):(ki&42)===0?(_t=!0,i.memoizedState=a):(i=C_(),Te.lanes|=i,zi|=i,s)}function wv(i,s,a,l,d){var m=Z.p;Z.p=m!==0&&8>m?m:8;var b=P.T,E={};P.T=E,Sh(i,!1,s,a);try{var A=d(),j=P.S;if(j!==null&&j(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=mA(A,l);no(i,s,G,sn(i))}else no(i,s,l,sn(i))}catch(X){no(i,s,{then:function(){},status:"rejected",reason:X},sn())}finally{Z.p=m,P.T=b}}function bA(){}function _h(i,s,a,l){if(i.tag!==5)throw Error(r(476));var d=Cv(i).queue;wv(i,d,s,ae,a===null?bA:function(){return xv(i),a(l)})}function Cv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function xv(i){var s=Cv(i).next.queue;no(i,s,{},sn())}function bh(){return It(So)}function Av(){return pt().memoizedState}function Rv(){return pt().memoizedState}function SA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=sn();i=Mi(a);var l=Ii(s,i,a);l!==null&&(rn(l,s,a),Qa(l,s,a)),s={cache:Qf()},i.payload=s;return}s=s.return}}function EA(i,s,a){var l=sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fu(i)?Ov(s,a):(a=Bf(i,s,a,l),a!==null&&(rn(a,i,l),Dv(a,s,l)))}function Nv(i,s,a){var l=sn();no(i,s,a,l)}function no(i,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(i))Ov(s,d);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,E=m(b,a);if(d.hasEagerState=!0,d.eagerState=E,Zt(E,b))return Wl(i,s,d,0),We===null&&Kl(),!1}catch{}finally{}if(a=Bf(i,s,d,l),a!==null)return rn(a,i,l),Dv(a,s,l),!0}return!1}function Sh(i,s,a,l){if(l={lane:2,revertLane:Jh(),action:l,hasEagerState:!1,eagerState:null,next:null},fu(i)){if(s)throw Error(r(479))}else s=Bf(i,a,l,2),s!==null&&rn(s,i,2)}function fu(i){var s=i.alternate;return i===Te||s!==null&&s===Te}function Ov(i,s){Rr=ru=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Dv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Vg(i,a)}}var hu={readContext:It,use:ou,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},Mv={readContext:It,use:ou,useCallback:function(i,s){return qt().memoizedState=[i,s===void 0?null:s],i},useContext:It,useEffect:mv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,cu(4194308,4,_v.bind(null,s,i),a)},useLayoutEffect:function(i,s){return cu(4194308,4,i,s)},useInsertionEffect:function(i,s){cu(4,2,i,s)},useMemo:function(i,s){var a=qt();s=s===void 0?null:s;var l=i();if(Ds){st(!0);try{i()}finally{st(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=qt();if(a!==void 0){var d=a(s);if(Ds){st(!0);try{a(s)}finally{st(!1)}}}else d=s;return l.memoizedState=l.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},l.queue=i,i=i.dispatch=EA.bind(null,Te,i),[l.memoizedState,i]},useRef:function(i){var s=qt();return i={current:i},s.memoizedState=i},useState:function(i){i=mh(i);var s=i.queue,a=Nv.bind(null,Te,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:yh,useDeferredValue:function(i,s){var a=qt();return vh(a,i,s)},useTransition:function(){var i=mh(!1);return i=wv.bind(null,Te,i.queue,!0,!1),qt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Te,d=qt();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),We===null)throw Error(r(349));(Ie&124)!==0||Jy(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,mv(tv.bind(null,l,m,i),[i]),l.flags|=2048,Or(9,uu(),ev.bind(null,l,m,a,s),null),a},useId:function(){var i=qt(),s=We.identifierPrefix;if(Pe){var a=ei,l=Jn;a=(l&~(1<<32-et(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=au++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=gA++,s="«"+s+"r"+a.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:bh,useFormState:cv,useActionState:cv,useOptimistic:function(i){var s=qt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Sh.bind(null,Te,!0,a),a.dispatch=s,[i,s]},useMemoCache:hh,useCacheRefresh:function(){return qt().memoizedState=SA.bind(null,Te)}},Iv={readContext:It,use:ou,useCallback:Sv,useContext:It,useEffect:gv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:lu,useRef:pv,useState:function(){return lu(ii)},useDebugValue:yh,useDeferredValue:function(i,s){var a=pt();return Tv(a,ze.memoizedState,i,s)},useTransition:function(){var i=lu(ii)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:eo(i),s]},useSyncExternalStore:Zy,useId:Av,useHostTransitionStatus:bh,useFormState:fv,useActionState:fv,useOptimistic:function(i,s){var a=pt();return sv(a,ze,i,s)},useMemoCache:hh,useCacheRefresh:Rv},TA={readContext:It,use:ou,useCallback:Sv,useContext:It,useEffect:gv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:ph,useRef:pv,useState:function(){return ph(ii)},useDebugValue:yh,useDeferredValue:function(i,s){var a=pt();return ze===null?vh(a,i,s):Tv(a,ze.memoizedState,i,s)},useTransition:function(){var i=ph(ii)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:eo(i),s]},useSyncExternalStore:Zy,useId:Av,useHostTransitionStatus:bh,useFormState:dv,useActionState:dv,useOptimistic:function(i,s){var a=pt();return ze!==null?sv(a,ze,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:hh,useCacheRefresh:Rv},Dr=null,io=0;function du(i){var s=io;return io+=1,Dr===null&&(Dr=[]),Gy(Dr,i,s)}function so(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function pu(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function kv(i){var s=i._init;return s(i._payload)}function Lv(i){function s(I,O){if(i){var U=I.deletions;U===null?(I.deletions=[O],I.flags|=16):U.push(O)}}function a(I,O){if(!i)return null;for(;O!==null;)s(I,O),O=O.sibling;return null}function l(I){for(var O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function d(I,O){return I=Zn(I,O),I.index=0,I.sibling=null,I}function m(I,O,U){return I.index=U,i?(U=I.alternate,U!==null?(U=U.index,U<O?(I.flags|=67108866,O):U):(I.flags|=67108866,O)):(I.flags|=1048576,O)}function b(I){return i&&I.alternate===null&&(I.flags|=67108866),I}function E(I,O,U,Y){return O===null||O.tag!==6?(O=Hf(U,I.mode,Y),O.return=I,O):(O=d(O,U),O.return=I,O)}function A(I,O,U,Y){var oe=U.type;return oe===S?G(I,O,U.props.children,Y,U.key):O!==null&&(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===F&&kv(oe)===O.type)?(O=d(O,U.props),so(O,U),O.return=I,O):(O=Ql(U.type,U.key,U.props,null,I.mode,Y),so(O,U),O.return=I,O)}function j(I,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Ff(U,I.mode,Y),O.return=I,O):(O=d(O,U.children||[]),O.return=I,O)}function G(I,O,U,Y,oe){return O===null||O.tag!==7?(O=Ts(U,I.mode,Y,oe),O.return=I,O):(O=d(O,U),O.return=I,O)}function X(I,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hf(""+O,I.mode,U),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return U=Ql(O.type,O.key,O.props,null,I.mode,U),so(U,O),U.return=I,U;case _:return O=Ff(O,I.mode,U),O.return=I,O;case F:var Y=O._init;return O=Y(O._payload),X(I,O,U)}if(ye(O)||le(O))return O=Ts(O,I.mode,U,null),O.return=I,O;if(typeof O.then=="function")return X(I,du(O),U);if(O.$$typeof===N)return X(I,eu(I,O),U);pu(I,O)}return null}function V(I,O,U,Y){var oe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return oe!==null?null:E(I,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===oe?A(I,O,U,Y):null;case _:return U.key===oe?j(I,O,U,Y):null;case F:return oe=U._init,U=oe(U._payload),V(I,O,U,Y)}if(ye(U)||le(U))return oe!==null?null:G(I,O,U,Y,null);if(typeof U.then=="function")return V(I,O,du(U),Y);if(U.$$typeof===N)return V(I,O,eu(I,U),Y);pu(I,U)}return null}function B(I,O,U,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(U)||null,E(O,I,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return I=I.get(Y.key===null?U:Y.key)||null,A(O,I,Y,oe);case _:return I=I.get(Y.key===null?U:Y.key)||null,j(O,I,Y,oe);case F:var we=Y._init;return Y=we(Y._payload),B(I,O,U,Y,oe)}if(ye(Y)||le(Y))return I=I.get(U)||null,G(O,I,Y,oe,null);if(typeof Y.then=="function")return B(I,O,U,du(Y),oe);if(Y.$$typeof===N)return B(I,O,U,eu(O,Y),oe);pu(O,Y)}return null}function pe(I,O,U,Y){for(var oe=null,we=null,ue=O,he=O=0,St=null;ue!==null&&he<U.length;he++){ue.index>he?(St=ue,ue=null):St=ue.sibling;var Le=V(I,ue,U[he],Y);if(Le===null){ue===null&&(ue=St);break}i&&ue&&Le.alternate===null&&s(I,ue),O=m(Le,O,he),we===null?oe=Le:we.sibling=Le,we=Le,ue=St}if(he===U.length)return a(I,ue),Pe&&Cs(I,he),oe;if(ue===null){for(;he<U.length;he++)ue=X(I,U[he],Y),ue!==null&&(O=m(ue,O,he),we===null?oe=ue:we.sibling=ue,we=ue);return Pe&&Cs(I,he),oe}for(ue=l(ue);he<U.length;he++)St=B(ue,I,he,U[he],Y),St!==null&&(i&&St.alternate!==null&&ue.delete(St.key===null?he:St.key),O=m(St,O,he),we===null?oe=St:we.sibling=St,we=St);return i&&ue.forEach(function(Qi){return s(I,Qi)}),Pe&&Cs(I,he),oe}function ce(I,O,U,Y){if(U==null)throw Error(r(151));for(var oe=null,we=null,ue=O,he=O=0,St=null,Le=U.next();ue!==null&&!Le.done;he++,Le=U.next()){ue.index>he?(St=ue,ue=null):St=ue.sibling;var Qi=V(I,ue,Le.value,Y);if(Qi===null){ue===null&&(ue=St);break}i&&ue&&Qi.alternate===null&&s(I,ue),O=m(Qi,O,he),we===null?oe=Qi:we.sibling=Qi,we=Qi,ue=St}if(Le.done)return a(I,ue),Pe&&Cs(I,he),oe;if(ue===null){for(;!Le.done;he++,Le=U.next())Le=X(I,Le.value,Y),Le!==null&&(O=m(Le,O,he),we===null?oe=Le:we.sibling=Le,we=Le);return Pe&&Cs(I,he),oe}for(ue=l(ue);!Le.done;he++,Le=U.next())Le=B(ue,I,he,Le.value,Y),Le!==null&&(i&&Le.alternate!==null&&ue.delete(Le.key===null?he:Le.key),O=m(Le,O,he),we===null?oe=Le:we.sibling=Le,we=Le);return i&&ue.forEach(function(w1){return s(I,w1)}),Pe&&Cs(I,he),oe}function Fe(I,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:e:{for(var oe=U.key;O!==null;){if(O.key===oe){if(oe=U.type,oe===S){if(O.tag===7){a(I,O.sibling),Y=d(O,U.props.children),Y.return=I,I=Y;break e}}else if(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===F&&kv(oe)===O.type){a(I,O.sibling),Y=d(O,U.props),so(Y,U),Y.return=I,I=Y;break e}a(I,O);break}else s(I,O);O=O.sibling}U.type===S?(Y=Ts(U.props.children,I.mode,Y,U.key),Y.return=I,I=Y):(Y=Ql(U.type,U.key,U.props,null,I.mode,Y),so(Y,U),Y.return=I,I=Y)}return b(I);case _:e:{for(oe=U.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(I,O.sibling),Y=d(O,U.children||[]),Y.return=I,I=Y;break e}else{a(I,O);break}else s(I,O);O=O.sibling}Y=Ff(U,I.mode,Y),Y.return=I,I=Y}return b(I);case F:return oe=U._init,U=oe(U._payload),Fe(I,O,U,Y)}if(ye(U))return pe(I,O,U,Y);if(le(U)){if(oe=le(U),typeof oe!="function")throw Error(r(150));return U=oe.call(U),ce(I,O,U,Y)}if(typeof U.then=="function")return Fe(I,O,du(U),Y);if(U.$$typeof===N)return Fe(I,O,eu(I,U),Y);pu(I,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(I,O.sibling),Y=d(O,U),Y.return=I,I=Y):(a(I,O),Y=Hf(U,I.mode,Y),Y.return=I,I=Y),b(I)):a(I,O)}return function(I,O,U,Y){try{io=0;var oe=Fe(I,O,U,Y);return Dr=null,oe}catch(ue){if(ue===Wa||ue===nu)throw ue;var we=Jt(29,ue,null,I.mode);return we.lanes=Y,we.return=I,we}finally{}}}var Mr=Lv(!0),Pv=Lv(!1),gn=H(null),jn=null;function Li(i){var s=i.alternate;ee(yt,yt.current&1),ee(gn,i),jn===null&&(s===null||Ar.current!==null||s.memoizedState!==null)&&(jn=i)}function Uv(i){if(i.tag===22){if(ee(yt,yt.current),ee(gn,i),jn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(jn=i)}}else Pi()}function Pi(){ee(yt,yt.current),ee(gn,gn.current)}function si(i){W(gn),jn===i&&(jn=null),W(yt)}var yt=H(0);function mu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Eh(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Th={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=sn(),d=Mi(l);d.payload=s,a!=null&&(d.callback=a),s=Ii(i,d,l),s!==null&&(rn(s,i,l),Qa(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=sn(),d=Mi(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Ii(i,d,l),s!==null&&(rn(s,i,l),Qa(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=sn(),l=Mi(a);l.tag=2,s!=null&&(l.callback=s),s=Ii(i,l,a),s!==null&&(rn(s,i,a),Qa(s,i,a))}};function jv(i,s,a,l,d,m,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ba(a,l)||!Ba(d,m):!0}function Vv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Th.enqueueReplaceState(s,s.state,null)}function Ms(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=g({},a));for(var d in i)a[d]===void 0&&(a[d]=i[d])}return a}var gu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Bv(i){gu(i)}function zv(i){console.error(i)}function Hv(i){gu(i)}function yu(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Fv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function wh(i,s,a){return a=Mi(a),a.tag=3,a.payload={element:null},a.callback=function(){yu(i,s)},a}function Gv(i){return i=Mi(i),i.tag=3,i}function qv(i,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;i.payload=function(){return d(m)},i.callback=function(){Fv(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Fv(s,a,l),typeof d!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function wA(i,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&qa(s,a,d,!0),a=gn.current,a!==null){switch(a.tag){case 13:return jn===null?Wh():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Jf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Qh(i,l,d)),!1;case 22:return a.flags|=65536,l===Jf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Qh(i,l,d)),!1}throw Error(r(435,a.tag))}return Qh(i,l,d),Wh(),!1}if(Pe)return s=gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Yf&&(i=Error(r(422),{cause:l}),Ga(hn(i,a)))):(l!==Yf&&(s=Error(r(423),{cause:l}),Ga(hn(s,a))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,l=hn(l,a),d=wh(i.stateNode,l,d),nh(i,d),at!==4&&(at=2)),!1;var m=Error(r(520),{cause:l});if(m=hn(m,a),fo===null?fo=[m]:fo.push(m),at!==4&&(at=2),s===null)return!0;l=hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=d&-d,a.lanes|=i,i=wh(a.stateNode,l,i),nh(a,i),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gv(d),qv(d,i,a,l),nh(a,d),!1}a=a.return}while(a!==null);return!1}var Yv=Error(r(461)),_t=!1;function xt(i,s,a,l){s.child=i===null?Pv(s,null,a,l):Mr(s,i.child,a,l)}function Kv(i,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return Ns(s),l=oh(i,s,a,b,m,d),E=lh(),i!==null&&!_t?(uh(i,s,d),ri(i,s,d)):(Pe&&E&&Gf(s),s.flags|=1,xt(i,s,l,d),s.child)}function Wv(i,s,a,l,d){if(i===null){var m=a.type;return typeof m=="function"&&!zf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Xv(i,s,m,l,d)):(i=Ql(a.type,null,l,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Mh(i,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ba,a(b,l)&&i.ref===s.ref)return ri(i,s,d)}return s.flags|=1,i=Zn(m,l),i.ref=s.ref,i.return=s,s.child=i}function Xv(i,s,a,l,d){if(i!==null){var m=i.memoizedProps;if(Ba(m,l)&&i.ref===s.ref)if(_t=!1,s.pendingProps=l=m,Mh(i,d))(i.flags&131072)!==0&&(_t=!0);else return s.lanes=i.lanes,ri(i,s,d)}return Ch(i,s,a,l,d)}function Qv(i,s,a){var l=s.pendingProps,d=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(d=s.child=i.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return $v(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&tu(s,m!==null?m.cachePool:null),m!==null?Xy(s,m):sh(),Uv(s);else return s.lanes=s.childLanes=536870912,$v(i,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(tu(s,m.cachePool),Xy(s,m),Pi(),s.memoizedState=null):(i!==null&&tu(s,null),sh(),Pi());return xt(i,s,d,a),s.child}function $v(i,s,a,l){var d=Zf();return d=d===null?null:{parent:gt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&tu(s,null),sh(),Uv(s),i!==null&&qa(i,s,l,!0),null}function vu(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Ch(i,s,a,l,d){return Ns(s),a=oh(i,s,a,l,void 0,d),l=lh(),i!==null&&!_t?(uh(i,s,d),ri(i,s,d)):(Pe&&l&&Gf(s),s.flags|=1,xt(i,s,a,d),s.child)}function Zv(i,s,a,l,d,m){return Ns(s),s.updateQueue=null,a=$y(s,l,a,d),Qy(i),l=lh(),i!==null&&!_t?(uh(i,s,m),ri(i,s,m)):(Pe&&l&&Gf(s),s.flags|=1,xt(i,s,a,m),s.child)}function Jv(i,s,a,l,d){if(Ns(s),s.stateNode===null){var m=Er,b=a.contextType;typeof b=="object"&&b!==null&&(m=It(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Th,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},eh(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?It(b):Er,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Eh(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Th.enqueueReplaceState(m,m.state,null),Za(s,l,m,d),$a(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){m=s.stateNode;var E=s.memoizedProps,A=Ms(a,E);m.props=A;var j=m.context,G=a.contextType;b=Er,typeof G=="object"&&G!==null&&(b=It(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||j!==b)&&Vv(s,m,l,b),Di=!1;var V=s.memoizedState;m.state=V,Za(s,l,m,d),$a(),j=s.memoizedState,E||V!==j||Di?(typeof X=="function"&&(Eh(s,a,X,l),j=s.memoizedState),(A=Di||jv(s,a,A,l,V,j,b))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=j),m.props=l,m.state=j,m.context=b,l=A):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,th(i,s),b=s.memoizedProps,G=Ms(a,b),m.props=G,X=s.pendingProps,V=m.context,j=a.contextType,A=Er,typeof j=="object"&&j!==null&&(A=It(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==X||V!==A)&&Vv(s,m,l,A),Di=!1,V=s.memoizedState,m.state=V,Za(s,l,m,d),$a();var B=s.memoizedState;b!==X||V!==B||Di||i!==null&&i.dependencies!==null&&Jl(i.dependencies)?(typeof E=="function"&&(Eh(s,a,E,l),B=s.memoizedState),(G=Di||jv(s,a,G,l,V,B,A)||i!==null&&i.dependencies!==null&&Jl(i.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,B,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,B,A)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=B),m.props=l,m.state=B,m.context=A,l=G):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),l=!1)}return m=l,vu(i,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&l?(s.child=Mr(s,i.child,null,d),s.child=Mr(s,null,a,d)):xt(i,s,a,d),s.memoizedState=m.state,i=s.child):i=ri(i,s,d),i}function e_(i,s,a,l){return Fa(),s.flags|=256,xt(i,s,a,l),s.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(i){return{baseLanes:i,cachePool:zy()}}function Rh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=yn),i}function t_(i,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=i!==null&&i.memoizedState===null?!1:(yt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Pe){if(d?Li(s):Pi(),Pe){var E=rt,A;if(A=E){e:{for(A=E,E=Un;A.nodeType!==8;){if(!E){E=null;break e}if(A=An(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(s.memoizedState={dehydrated:E,treeContext:ws!==null?{id:Jn,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},A=Jt(18,null,null,0),A.stateNode=E,A.return=s,s.child=A,Ut=s,rt=null,A=!0):A=!1}A||As(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return fd(E)?s.lanes=32:s.lanes=536870912,null;si(s)}return E=l.children,l=l.fallback,d?(Pi(),d=s.mode,E=_u({mode:"hidden",children:E},d),l=Ts(l,d,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,d=s.child,d.memoizedState=Ah(a),d.childLanes=Rh(i,b,a),s.memoizedState=xh,l):(Li(s),Nh(s,E))}if(A=i.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(m)s.flags&256?(Li(s),s.flags&=-257,s=Oh(i,s,a)):s.memoizedState!==null?(Pi(),s.child=i.child,s.flags|=128,s=null):(Pi(),d=l.fallback,E=s.mode,l=_u({mode:"visible",children:l.children},E),d=Ts(d,E,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,Mr(s,i.child,null,a),l=s.child,l.memoizedState=Ah(a),l.childLanes=Rh(i,b,a),s.memoizedState=xh,s=d);else if(Li(s),fd(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var j=b.dgst;b=j,l=Error(r(419)),l.stack="",l.digest=b,Ga({value:l,source:null,stack:null}),s=Oh(i,s,a)}else if(_t||qa(i,s,a,!1),b=(a&i.childLanes)!==0,_t||b){if(b=We,b!==null&&(l=a&-a,l=(l&42)!==0?1:hf(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==A.retryLane))throw A.retryLane=l,Sr(i,l),rn(b,i,l),Yv;E.data==="$?"||Wh(),s=Oh(i,s,a)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=A.treeContext,rt=An(E.nextSibling),Ut=s,Pe=!0,xs=null,Un=!1,i!==null&&(pn[mn++]=Jn,pn[mn++]=ei,pn[mn++]=ws,Jn=i.id,ei=i.overflow,ws=s),s=Nh(s,l.children),s.flags|=4096);return s}return d?(Pi(),d=l.fallback,E=s.mode,A=i.child,j=A.sibling,l=Zn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,j!==null?d=Zn(j,d):(d=Ts(d,E,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,E=i.child.memoizedState,E===null?E=Ah(a):(A=E.cachePool,A!==null?(j=gt._currentValue,A=A.parent!==j?{parent:j,pool:j}:A):A=zy(),E={baseLanes:E.baseLanes|a,cachePool:A}),d.memoizedState=E,d.childLanes=Rh(i,b,a),s.memoizedState=xh,l):(Li(s),a=i.child,i=a.sibling,a=Zn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=a,s.memoizedState=null,a)}function Nh(i,s){return s=_u({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function _u(i,s){return i=Jt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Oh(i,s,a){return Mr(s,i.child,null,a),i=Nh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function n_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Wf(i.return,s,a)}function Dh(i,s,a,l,d){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function i_(i,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(xt(i,s,l.children,a),l=yt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n_(i,a,s);else if(i.tag===19)n_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(ee(yt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)i=a.alternate,i!==null&&mu(i)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Dh(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&mu(i)===null){s.child=d;break}i=d.sibling,d.sibling=a,a=d,d=i}Dh(s,!0,a,null,m);break;case"together":Dh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ri(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),zi|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(qa(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Zn(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Zn(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Mh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Jl(i)))}function CA(i,s,a){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Oi(s,gt,i.memoizedState.cache),Fa();break;case 27:case 5:je(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Oi(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Li(s),s.flags|=128,null):(a&s.child.childLanes)!==0?t_(i,s,a):(Li(s),i=ri(i,s,a),i!==null?i.sibling:null);Li(s);break;case 19:var d=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(qa(i,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return i_(i,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ee(yt,yt.current),l)break;return null;case 22:case 23:return s.lanes=0,Qv(i,s,a);case 24:Oi(s,gt,i.memoizedState.cache)}return ri(i,s,a)}function s_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)_t=!0;else{if(!Mh(i,a)&&(s.flags&128)===0)return _t=!1,CA(i,s,a);_t=(i.flags&131072)!==0}else _t=!1,Pe&&(s.flags&1048576)!==0&&ky(s,Zl,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")zf(l)?(i=Ms(l,i),s.tag=1,s=Jv(null,s,l,i,a)):(s.tag=0,s=Ch(null,s,l,i,a));else{if(l!=null){if(d=l.$$typeof,d===q){s.tag=11,s=Kv(null,s,l,i,a);break e}else if(d===K){s.tag=14,s=Wv(null,s,l,i,a);break e}}throw s=Se(l)||l,Error(r(306,s,""))}}return s;case 0:return Ch(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=Ms(l,s.pendingProps),Jv(i,s,l,d,a);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,th(i,s),Za(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Oi(s,gt,l),l!==m.cache&&Xf(s,[gt],a,!0),$a(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=e_(i,s,l,a);break e}else if(l!==d){d=hn(Error(r(424)),s),Ga(d),s=e_(i,s,l,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=An(i.firstChild),Ut=s,Pe=!0,xs=null,Un=!0,a=Pv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fa(),l===d){s=ri(i,s,a);break e}xt(i,s,l,a)}s=s.child}return s;case 26:return vu(i,s),i===null?(a=l0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Pe||(a=s.type,i=s.pendingProps,l=Iu($.current).createElement(a),l[Mt]=s,l[Ft]=i,Rt(l,a,i),vt(l),s.stateNode=l):s.memoizedState=l0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return je(s),i===null&&Pe&&(l=s.stateNode=r0(s.type,s.pendingProps,$.current),Ut=s,Un=!0,d=rt,qi(s.type)?(hd=d,rt=An(l.firstChild)):rt=d),xt(i,s,s.pendingProps.children,a),vu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Pe&&((d=l=rt)&&(l=JA(l,s.type,s.pendingProps,Un),l!==null?(s.stateNode=l,Ut=s,rt=An(l.firstChild),Un=!1,d=!0):d=!1),d||As(s)),je(s),d=s.type,m=s.pendingProps,b=i!==null?i.memoizedProps:null,l=m.children,ld(d,m)?l=null:b!==null&&ld(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=oh(i,s,yA,null,null,a),So._currentValue=d),vu(i,s),xt(i,s,l,a),s.child;case 6:return i===null&&Pe&&((i=a=rt)&&(a=e1(a,s.pendingProps,Un),a!==null?(s.stateNode=a,Ut=s,rt=null,i=!0):i=!1),i||As(s)),null;case 13:return t_(i,s,a);case 4:return ve(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Mr(s,null,l,a):xt(i,s,l,a),s.child;case 11:return Kv(i,s,s.type,s.pendingProps,a);case 7:return xt(i,s,s.pendingProps,a),s.child;case 8:return xt(i,s,s.pendingProps.children,a),s.child;case 12:return xt(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Oi(s,s.type,l.value),xt(i,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Ns(s),d=It(d),l=l(d),s.flags|=1,xt(i,s,l,a),s.child;case 14:return Wv(i,s,s.type,s.pendingProps,a);case 15:return Xv(i,s,s.type,s.pendingProps,a);case 19:return i_(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=_u(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Zn(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Qv(i,s,a);case 24:return Ns(s),l=It(gt),i===null?(d=Zf(),d===null&&(d=We,m=Qf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},eh(s),Oi(s,gt,d)):((i.lanes&a)!==0&&(th(i,s),Za(s,null,null,a),$a()),d=i.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Oi(s,gt,l)):(l=m.cache,Oi(s,gt,l),l!==d.cache&&Xf(s,[gt],a,!0))),xt(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ai(i){i.flags|=4}function r_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!d0(s)){if(s=gn.current,s!==null&&((Ie&4194048)===Ie?jn!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||s!==jn))throw Xa=Jf,Hy;i.flags|=8192}}function bu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ug():536870912,i.lanes|=s,Pr|=s)}function ro(i,s){if(!Pe)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function tt(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function xA(i,s,a){var l=s.pendingProps;switch(qf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ni(gt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ha(s)?ai(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uy())),tt(s),null;case 26:return a=s.memoizedState,i===null?(ai(s),a!==null?(tt(s),r_(s,a)):(tt(s),s.flags&=-16777217)):a?a!==i.memoizedState?(ai(s),tt(s),r_(s,a)):(tt(s),s.flags&=-16777217):(i.memoizedProps!==l&&ai(s),tt(s),s.flags&=-16777217),null;case 27:mt(s),a=$.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return tt(s),null}i=k.current,Ha(s)?Ly(s):(i=r0(d,l,a),s.stateNode=i,ai(s))}return tt(s),null;case 5:if(mt(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return tt(s),null}if(i=k.current,Ha(s))Ly(s);else{switch(d=Iu($.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}i[Mt]=s,i[Ft]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(Rt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ai(s)}}return tt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ai(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=$.current,Ha(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,d=Ut,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}i[Mt]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Z_(i.nodeValue,a)),i||As(s)}else i=Iu(i).createTextNode(l),i[Mt]=s,s.stateNode=i}return tt(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ha(s),l!==null&&l.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Mt]=s}else Fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),d=!1}else d=Uy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(si(s),s):(si(s),null)}if(si(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),bu(s,s.updateQueue),tt(s),null;case 4:return Ye(),i===null&&id(s.stateNode.containerInfo),tt(s),null;case 10:return ni(s.type),tt(s),null;case 19:if(W(yt),d=s.memoizedState,d===null)return tt(s),null;if(l=(s.flags&128)!==0,m=d.rendering,m===null)if(l)ro(d,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=mu(i),m!==null){for(s.flags|=128,ro(d,!1),i=m.updateQueue,s.updateQueue=i,bu(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Iy(a,i),a=a.sibling;return ee(yt,yt.current&1|2),s.child}i=i.sibling}d.tail!==null&&zt()>Tu&&(s.flags|=128,l=!0,ro(d,!1),s.lanes=4194304)}else{if(!l)if(i=mu(m),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,bu(s,i),ro(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Pe)return tt(s),null}else 2*zt()-d.renderingStartTime>Tu&&a!==536870912&&(s.flags|=128,l=!0,ro(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(i=d.last,i!==null?i.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=zt(),s.sibling=null,i=yt.current,ee(yt,l?i&1|2:i&1),s):(tt(s),null);case 22:case 23:return si(s),rh(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),a=s.updateQueue,a!==null&&bu(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&W(Os),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ni(gt),tt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function AA(i,s){switch(qf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ni(gt),Ye(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return mt(s),null;case 13:if(si(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return W(yt),null;case 4:return Ye(),null;case 10:return ni(s.type),null;case 22:case 23:return si(s),rh(),i!==null&&W(Os),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ni(gt),null;case 25:return null;default:return null}}function a_(i,s){switch(qf(s),s.tag){case 3:ni(gt),Ye();break;case 26:case 27:case 5:mt(s);break;case 4:Ye();break;case 13:si(s);break;case 19:W(yt);break;case 10:ni(s.type);break;case 22:case 23:si(s),rh(),i!==null&&W(Os);break;case 24:ni(gt)}}function ao(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&i)===i){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(E){Ke(s,s.return,E)}}function Ui(i,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&i)===i){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,d=s;var A=a,j=E;try{j()}catch(G){Ke(d,A,G)}}}l=l.next}while(l!==m)}}catch(G){Ke(s,s.return,G)}}function o_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Wy(s,a)}catch(l){Ke(i,i.return,l)}}}function l_(i,s,a){a.props=Ms(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(i,s,l)}}function oo(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(d){Ke(i,s,d)}}function Vn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ke(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ke(i,s,d)}else a.current=null}function u_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ke(i,i.return,d)}}function Ih(i,s,a){try{var l=i.stateNode;WA(l,i.type,a,s),l[Ft]=s}catch(d){Ke(i,i.return,d)}}function c_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qi(i.type)||i.tag===4}function kh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Mu));else if(l!==4&&(l===27&&qi(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Lh(i,s,a),i=i.sibling;i!==null;)Lh(i,s,a),i=i.sibling}function Su(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&qi(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Su(i,s,a),i=i.sibling;i!==null;)Su(i,s,a),i=i.sibling}function f_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Rt(s,l,a),s[Mt]=i,s[Ft]=a}catch(m){Ke(i,i.return,m)}}var oi=!1,ft=!1,Ph=!1,h_=typeof WeakSet=="function"?WeakSet:Set,bt=null;function RA(i,s){if(i=i.containerInfo,ad=Vu,i=Ty(i),kf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,E=-1,A=-1,j=0,G=0,X=i,V=null;t:for(;;){for(var B;X!==a||d!==0&&X.nodeType!==3||(E=b+d),X!==m||l!==0&&X.nodeType!==3||(A=b+l),X.nodeType===3&&(b+=X.nodeValue.length),(B=X.firstChild)!==null;)V=X,X=B;for(;;){if(X===i)break t;if(V===a&&++j===d&&(E=b),V===m&&++G===l&&(A=b),(B=X.nextSibling)!==null)break;X=V,V=X.parentNode}X=B}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(od={focusedElem:i,selectionRange:a},Vu=!1,bt=s;bt!==null;)if(s=bt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,bt=i;else for(;bt!==null;){switch(s=bt,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var pe=Ms(a.type,d,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(pe,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(ce){Ke(a,a.return,ce)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)cd(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,bt=i;break}bt=s.return}}function d_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(i,a),l&4&&ao(5,a);break;case 1:if(ji(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(b){Ke(a,a.return,b)}else{var d=Ms(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Ke(a,a.return,b)}}l&64&&o_(a),l&512&&oo(a,a.return);break;case 3:if(ji(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Wy(i,s)}catch(b){Ke(a,a.return,b)}}break;case 27:s===null&&l&4&&f_(a);case 26:case 5:ji(i,a),s===null&&l&4&&u_(a),l&512&&oo(a,a.return);break;case 12:ji(i,a);break;case 13:ji(i,a),l&4&&g_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=UA.bind(null,a),t1(i,a))));break;case 22:if(l=a.memoizedState!==null||oi,!l){s=s!==null&&s.memoizedState!==null||ft,d=oi;var m=ft;oi=l,(ft=s)&&!m?Vi(i,a,(a.subtreeFlags&8772)!==0):ji(i,a),oi=d,ft=m}break;case 30:break;default:ji(i,a)}}function p_(i){var s=i.alternate;s!==null&&(i.alternate=null,p_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&mf(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ze=null,Yt=!1;function li(i,s,a){for(a=a.child;a!==null;)m_(i,s,a),a=a.sibling}function m_(i,s,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(ke,a)}catch{}switch(a.tag){case 26:ft||Vn(a,s),li(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Vn(a,s);var l=Ze,d=Yt;qi(a.type)&&(Ze=a.stateNode,Yt=!1),li(i,s,a),yo(a.stateNode),Ze=l,Yt=d;break;case 5:ft||Vn(a,s);case 6:if(l=Ze,d=Yt,Ze=null,li(i,s,a),Ze=l,Yt=d,Ze!==null)if(Yt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(m){Ke(a,s,m)}else try{Ze.removeChild(a.stateNode)}catch(m){Ke(a,s,m)}break;case 18:Ze!==null&&(Yt?(i=Ze,i0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Co(i)):i0(Ze,a.stateNode));break;case 4:l=Ze,d=Yt,Ze=a.stateNode.containerInfo,Yt=!0,li(i,s,a),Ze=l,Yt=d;break;case 0:case 11:case 14:case 15:ft||Ui(2,a,s),ft||Ui(4,a,s),li(i,s,a);break;case 1:ft||(Vn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,s,l)),li(i,s,a);break;case 21:li(i,s,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,li(i,s,a),ft=l;break;default:li(i,s,a)}}function g_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Co(i)}catch(a){Ke(s,s.return,a)}}function NA(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new h_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new h_),s;default:throw Error(r(435,i.tag))}}function Uh(i,s){var a=NA(i);s.forEach(function(l){var d=jA.bind(null,i,l);a.has(l)||(a.add(l),l.then(d,d))})}function en(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=i,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(qi(E.type)){Ze=E.stateNode,Yt=!1;break e}break;case 5:Ze=E.stateNode,Yt=!1;break e;case 3:case 4:Ze=E.stateNode.containerInfo,Yt=!0;break e}E=E.return}if(Ze===null)throw Error(r(160));m_(m,b,d),Ze=null,Yt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)y_(s,i),s=s.sibling}var xn=null;function y_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:en(s,i),tn(i),l&4&&(Ui(3,i,i.return),ao(3,i),Ui(5,i,i.return));break;case 1:en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),l&64&&oi&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=xn;if(en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Da]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Rt(m,l,a),m[Mt]=i,vt(m),l=m;break e;case"link":var b=f0("link","href",d).get(l+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(m=b[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}m=d.createElement(l),Rt(m,l,a),d.head.appendChild(m);break;case"meta":if(b=f0("meta","content",d).get(l+(a.content||""))){for(E=0;E<b.length;E++)if(m=b[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}m=d.createElement(l),Rt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[Mt]=i,vt(m),l=m}i.stateNode=l}else h0(d,i.type,i.stateNode);else i.stateNode=c0(d,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?h0(d,i.type,i.stateNode):c0(d,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Ih(i,i.memoizedProps,a.memoizedProps)}break;case 27:en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),a!==null&&l&4&&Ih(i,i.memoizedProps,a.memoizedProps);break;case 5:if(en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),i.flags&32){d=i.stateNode;try{pr(d,"")}catch(B){Ke(i,i.return,B)}}l&4&&i.stateNode!=null&&(d=i.memoizedProps,Ih(i,d,a!==null?a.memoizedProps:d)),l&1024&&(Ph=!0);break;case 6:if(en(s,i),tn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(B){Ke(i,i.return,B)}}break;case 3:if(Pu=null,d=xn,xn=ku(s.containerInfo),en(s,i),xn=d,tn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(B){Ke(i,i.return,B)}Ph&&(Ph=!1,v_(i));break;case 4:l=xn,xn=ku(i.stateNode.containerInfo),en(s,i),tn(i),xn=l;break;case 12:en(s,i),tn(i);break;case 13:en(s,i),tn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fh=zt()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Uh(i,l)));break;case 22:d=i.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,j=oi,G=ft;if(oi=j||d,ft=G||A,en(s,i),ft=G,oi=j,tn(i),l&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||A||oi||ft||Is(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){A=a=s;try{if(m=A.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=A.stateNode;var X=A.memoizedProps.style,V=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(B){Ke(A,A.return,B)}}}else if(s.tag===6){if(a===null){A=s;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(B){Ke(A,A.return,B)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uh(i,a))));break;case 19:en(s,i),tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Uh(i,l)));break;case 30:break;case 21:break;default:en(s,i),tn(i)}}function tn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=kh(i);Su(i,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(pr(b,""),a.flags&=-33);var E=kh(i);Su(i,E,b);break;case 3:case 4:var A=a.stateNode.containerInfo,j=kh(i);Lh(i,j,A);break;default:throw Error(r(161))}}catch(G){Ke(i,i.return,G)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function v_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;v_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ji(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)d_(i,s.alternate,s),s=s.sibling}function Is(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ui(4,s,s.return),Is(s);break;case 1:Vn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&l_(s,s.return,a),Is(s);break;case 27:yo(s.stateNode);case 26:case 5:Vn(s,s.return),Is(s);break;case 22:s.memoizedState===null&&Is(s);break;case 30:Is(s);break;default:Is(s)}i=i.sibling}}function Vi(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=i,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Vi(d,m,a),ao(4,m);break;case 1:if(Vi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){Ke(l,l.return,j)}if(l=m,d=l.updateQueue,d!==null){var E=l.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Ky(A[d],E)}catch(j){Ke(l,l.return,j)}}a&&b&64&&o_(m),oo(m,m.return);break;case 27:f_(m);case 26:case 5:Vi(d,m,a),a&&l===null&&b&4&&u_(m),oo(m,m.return);break;case 12:Vi(d,m,a);break;case 13:Vi(d,m,a),a&&b&4&&g_(d,m);break;case 22:m.memoizedState===null&&Vi(d,m,a),oo(m,m.return);break;case 30:break;default:Vi(d,m,a)}s=s.sibling}}function jh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ya(a))}function Vh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ya(i))}function Bn(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)__(i,s,a,l),s=s.sibling}function __(i,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(i,s,a,l),d&2048&&ao(9,s);break;case 1:Bn(i,s,a,l);break;case 3:Bn(i,s,a,l),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ya(i)));break;case 12:if(d&2048){Bn(i,s,a,l),i=s.stateNode;try{var m=s.memoizedProps,b=m.id,E=m.onPostCommit;typeof E=="function"&&E(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){Ke(s,s.return,A)}}else Bn(i,s,a,l);break;case 13:Bn(i,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?Bn(i,s,a,l):lo(i,s):m._visibility&2?Bn(i,s,a,l):(m._visibility|=2,Ir(i,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&jh(b,s);break;case 24:Bn(i,s,a,l),d&2048&&Vh(s.alternate,s);break;default:Bn(i,s,a,l)}}function Ir(i,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,b=s,E=a,A=l,j=b.flags;switch(b.tag){case 0:case 11:case 15:Ir(m,b,E,A,d),ao(8,b);break;case 23:break;case 22:var G=b.stateNode;b.memoizedState!==null?G._visibility&2?Ir(m,b,E,A,d):lo(m,b):(G._visibility|=2,Ir(m,b,E,A,d)),d&&j&2048&&jh(b.alternate,b);break;case 24:Ir(m,b,E,A,d),d&&j&2048&&Vh(b.alternate,b);break;default:Ir(m,b,E,A,d)}s=s.sibling}}function lo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,d=l.flags;switch(l.tag){case 22:lo(a,l),d&2048&&jh(l.alternate,l);break;case 24:lo(a,l),d&2048&&Vh(l.alternate,l);break;default:lo(a,l)}s=s.sibling}}var uo=8192;function kr(i){if(i.subtreeFlags&uo)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 26:kr(i),i.flags&uo&&i.memoizedState!==null&&p1(xn,i.memoizedState,i.memoizedProps);break;case 5:kr(i);break;case 3:case 4:var s=xn;xn=ku(i.stateNode.containerInfo),kr(i),xn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=uo,uo=16777216,kr(i),uo=s):kr(i));break;default:kr(i)}}function S_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function co(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];bt=l,T_(l,i)}S_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(i),i=i.sibling}function E_(i){switch(i.tag){case 0:case 11:case 15:co(i),i.flags&2048&&Ui(9,i,i.return);break;case 3:co(i);break;case 12:co(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Eu(i)):co(i);break;default:co(i)}}function Eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];bt=l,T_(l,i)}S_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ui(8,s,s.return),Eu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Eu(s));break;default:Eu(s)}i=i.sibling}}function T_(i,s){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:Ui(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ya(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,bt=l;else e:for(a=i;bt!==null;){l=bt;var d=l.sibling,m=l.return;if(p_(l),l===a){bt=null;break e}if(d!==null){d.return=m,bt=d;break e}bt=m}}}var OA={getCacheForType:function(i){var s=It(gt),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},DA=typeof WeakMap=="function"?WeakMap:Map,Ve=0,We=null,Ne=null,Ie=0,Be=0,nn=null,Bi=!1,Lr=!1,Bh=!1,ui=0,at=0,zi=0,ks=0,zh=0,yn=0,Pr=0,fo=null,Kt=null,Hh=!1,Fh=0,Tu=1/0,wu=null,Hi=null,At=0,Fi=null,Ur=null,jr=0,Gh=0,qh=null,w_=null,ho=0,Yh=null;function sn(){if((Ve&2)!==0&&Ie!==0)return Ie&-Ie;if(P.T!==null){var i=Cr;return i!==0?i:Jh()}return Bg()}function C_(){yn===0&&(yn=(Ie&536870912)===0||Pe?Pg():536870912);var i=gn.current;return i!==null&&(i.flags|=32),yn}function rn(i,s,a){(i===We&&(Be===2||Be===9)||i.cancelPendingCommit!==null)&&(Vr(i,0),Gi(i,Ie,yn,!1)),Oa(i,a),((Ve&2)===0||i!==We)&&(i===We&&((Ve&2)===0&&(ks|=a),at===4&&Gi(i,Ie,yn,!1)),zn(i))}function x_(i,s,a){if((Ve&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Na(i,s),d=l?kA(i,s):Xh(i,s,!0),m=l;do{if(d===0){Lr&&!l&&Gi(i,s,0,!1);break}else{if(a=i.current.alternate,m&&!MA(a)){d=Xh(i,s,!1),m=!1;continue}if(d===2){if(m=s,i.errorRecoveryDisabledLanes&m)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var E=i;d=fo;var A=E.current.memoizedState.isDehydrated;if(A&&(Vr(E,b).flags|=256),b=Xh(E,b,!1),b!==2){if(Bh&&!A){E.errorRecoveryDisabledLanes|=m,ks|=m,d=4;break e}m=Kt,Kt=d,m!==null&&(Kt===null?Kt=m:Kt.push.apply(Kt,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Vr(i,0),Gi(i,s,0,!0);break}e:{switch(l=i,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Gi(l,s,yn,!Bi);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Fh+300-zt(),10<d)){if(Gi(l,s,yn,!Bi),Ll(l,0,!0)!==0)break e;l.timeoutHandle=t0(A_.bind(null,l,a,Kt,wu,Hh,s,yn,ks,Pr,Bi,m,2,-0,0),d);break e}A_(l,a,Kt,wu,Hh,s,yn,ks,Pr,Bi,m,0,-0,0)}}break}while(!0);zn(i)}function A_(i,s,a,l,d,m,b,E,A,j,G,X,V,B){if(i.timeoutHandle=-1,X=s.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(bo={stylesheets:null,count:0,unsuspend:d1},b_(s),X=m1(),X!==null)){i.cancelPendingCommit=X(k_.bind(null,i,s,m,a,l,d,b,E,A,G,1,V,B)),Gi(i,m,b,!j);return}k_(i,s,m,a,l,d,b,E,A)}function MA(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Zt(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gi(i,s,a,l){s&=~zh,s&=~ks,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var d=s;0<d;){var m=31-et(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&jg(i,a,s)}function Cu(){return(Ve&6)===0?(po(0),!1):!0}function Kh(){if(Ne!==null){if(Be===0)var i=Ne.return;else i=Ne,ti=Rs=null,ch(i),Dr=null,io=0,i=Ne;for(;i!==null;)a_(i.alternate,i),i=i.return;Ne=null}}function Vr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,QA(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Kh(),We=i,Ne=a=Zn(i.current,null),Ie=s,Be=0,nn=null,Bi=!1,Lr=Na(i,s),Bh=!1,Pr=yn=zh=ks=zi=at=0,Kt=fo=null,Hh=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var d=31-et(l),m=1<<d;s|=i[d],l&=~m}return ui=s,Kl(),a}function R_(i,s){Te=null,P.H=hu,s===Wa||s===nu?(s=qy(),Be=3):s===Hy?(s=qy(),Be=4):Be=s===Yv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nn=s,Ne===null&&(at=1,yu(i,hn(s,i.current)))}function N_(){var i=P.H;return P.H=hu,i===null?hu:i}function O_(){var i=P.A;return P.A=OA,i}function Wh(){at=4,Bi||(Ie&4194048)!==Ie&&gn.current!==null||(Lr=!0),(zi&134217727)===0&&(ks&134217727)===0||We===null||Gi(We,Ie,yn,!1)}function Xh(i,s,a){var l=Ve;Ve|=2;var d=N_(),m=O_();(We!==i||Ie!==s)&&(wu=null,Vr(i,s)),s=!1;var b=at;e:do try{if(Be!==0&&Ne!==null){var E=Ne,A=nn;switch(Be){case 8:Kh(),b=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(s=!0);var j=Be;if(Be=0,nn=null,Br(i,E,A,j),a&&Lr){b=0;break e}break;default:j=Be,Be=0,nn=null,Br(i,E,A,j)}}IA(),b=at;break}catch(G){R_(i,G)}while(!0);return s&&i.shellSuspendCounter++,ti=Rs=null,Ve=l,P.H=d,P.A=m,Ne===null&&(We=null,Ie=0,Kl()),b}function IA(){for(;Ne!==null;)D_(Ne)}function kA(i,s){var a=Ve;Ve|=2;var l=N_(),d=O_();We!==i||Ie!==s?(wu=null,Tu=zt()+500,Vr(i,s)):Lr=Na(i,s);e:do try{if(Be!==0&&Ne!==null){s=Ne;var m=nn;t:switch(Be){case 1:Be=0,nn=null,Br(i,s,m,1);break;case 2:case 9:if(Fy(m)){Be=0,nn=null,M_(s);break}s=function(){Be!==2&&Be!==9||We!==i||(Be=7),zn(i)},m.then(s,s);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Fy(m)?(Be=0,nn=null,M_(s)):(Be=0,nn=null,Br(i,s,m,7));break;case 5:var b=null;switch(Ne.tag){case 26:b=Ne.memoizedState;case 5:case 27:var E=Ne;if(!b||d0(b)){Be=0,nn=null;var A=E.sibling;if(A!==null)Ne=A;else{var j=E.return;j!==null?(Ne=j,xu(j)):Ne=null}break t}}Be=0,nn=null,Br(i,s,m,5);break;case 6:Be=0,nn=null,Br(i,s,m,6);break;case 8:Kh(),at=6;break e;default:throw Error(r(462))}}LA();break}catch(G){R_(i,G)}while(!0);return ti=Rs=null,P.H=l,P.A=d,Ve=a,Ne!==null?0:(We=null,Ie=0,Kl(),at)}function LA(){for(;Ne!==null&&!ir();)D_(Ne)}function D_(i){var s=s_(i.alternate,i,ui);i.memoizedProps=i.pendingProps,s===null?xu(i):Ne=s}function M_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Zv(a,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=Zv(a,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:ch(s);default:a_(a,s),s=Ne=Iy(s,ui),s=s_(a,s,ui)}i.memoizedProps=i.pendingProps,s===null?xu(i):Ne=s}function Br(i,s,a,l){ti=Rs=null,ch(s),Dr=null,io=0;var d=s.return;try{if(wA(i,d,s,a,Ie)){at=1,yu(i,hn(a,i.current)),Ne=null;return}}catch(m){if(d!==null)throw Ne=d,m;at=1,yu(i,hn(a,i.current)),Ne=null;return}s.flags&32768?(Pe||l===1?i=!0:Lr||(Ie&536870912)!==0?i=!1:(Bi=i=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(s,i)):xu(s)}function xu(i){var s=i;do{if((s.flags&32768)!==0){I_(s,Bi);return}i=s.return;var a=xA(s.alternate,s,ui);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=i}while(s!==null);at===0&&(at=5)}function I_(i,s){do{var a=AA(i.alternate,i);if(a!==null){a.flags&=32767,Ne=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=a}while(i!==null);at=6,Ne=null}function k_(i,s,a,l,d,m,b,E,A){i.cancelPendingCommit=null;do Au();while(At!==0);if((Ve&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Vf,dx(i,a,m,b,E,A),i===We&&(Ne=We=null,Ie=0),Ur=s,Fi=i,jr=a,Gh=m,qh=d,w_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VA(Xn,function(){return V_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,d=Z.p,Z.p=2,b=Ve,Ve|=4;try{RA(i,s,a)}finally{Ve=b,Z.p=d,P.T=l}}At=1,L_(),P_(),U_()}}function L_(){if(At===1){At=0;var i=Fi,s=Ur,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=Z.p;Z.p=2;var d=Ve;Ve|=4;try{y_(s,i);var m=od,b=Ty(i.containerInfo),E=m.focusedElem,A=m.selectionRange;if(b!==E&&E&&E.ownerDocument&&Ey(E.ownerDocument.documentElement,E)){if(A!==null&&kf(E)){var j=A.start,G=A.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,V=X&&X.defaultView||window;if(V.getSelection){var B=V.getSelection(),pe=E.textContent.length,ce=Math.min(A.start,pe),Fe=A.end===void 0?ce:Math.min(A.end,pe);!B.extend&&ce>Fe&&(b=Fe,Fe=ce,ce=b);var I=Sy(E,ce),O=Sy(E,Fe);if(I&&O&&(B.rangeCount!==1||B.anchorNode!==I.node||B.anchorOffset!==I.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=X.createRange();U.setStart(I.node,I.offset),B.removeAllRanges(),ce>Fe?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Vu=!!ad,od=ad=null}finally{Ve=d,Z.p=l,P.T=a}}i.current=s,At=2}}function P_(){if(At===2){At=0;var i=Fi,s=Ur,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=Z.p;Z.p=2;var d=Ve;Ve|=4;try{d_(i,s.alternate,s)}finally{Ve=d,Z.p=l,P.T=a}}At=3}}function U_(){if(At===4||At===3){At=0,Wn();var i=Fi,s=Ur,a=jr,l=w_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?At=5:(At=0,Ur=Fi=null,j_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Hi=null),df(a),s=s.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(ke,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=P.T,d=Z.p,Z.p=2,P.T=null;try{for(var m=i.onRecoverableError,b=0;b<l.length;b++){var E=l[b];m(E.value,{componentStack:E.stack})}}finally{P.T=s,Z.p=d}}(jr&3)!==0&&Au(),zn(i),d=i.pendingLanes,(a&4194090)!==0&&(d&42)!==0?i===Yh?ho++:(ho=0,Yh=i):ho=0,po(0)}}function j_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ya(s)))}function Au(i){return L_(),P_(),U_(),V_()}function V_(){if(At!==5)return!1;var i=Fi,s=Gh;Gh=0;var a=df(jr),l=P.T,d=Z.p;try{Z.p=32>a?32:a,P.T=null,a=qh,qh=null;var m=Fi,b=jr;if(At=0,Ur=Fi=null,jr=0,(Ve&6)!==0)throw Error(r(331));var E=Ve;if(Ve|=4,E_(m.current),__(m,m.current,b,a),Ve=E,po(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(ke,m)}catch{}return!0}finally{Z.p=d,P.T=l,j_(i,s)}}function B_(i,s,a){s=hn(a,s),s=wh(i.stateNode,s,2),i=Ii(i,s,2),i!==null&&(Oa(i,2),zn(i))}function Ke(i,s,a){if(i.tag===3)B_(i,i,a);else for(;s!==null;){if(s.tag===3){B_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hi===null||!Hi.has(l))){i=hn(a,i),a=Gv(2),l=Ii(s,a,2),l!==null&&(qv(a,l,s,i),Oa(l,2),zn(l));break}}s=s.return}}function Qh(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new DA;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(Bh=!0,d.add(a),i=PA.bind(null,i,s,a),s.then(i,i))}function PA(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,We===i&&(Ie&a)===a&&(at===4||at===3&&(Ie&62914560)===Ie&&300>zt()-Fh?(Ve&2)===0&&Vr(i,0):zh|=a,Pr===Ie&&(Pr=0)),zn(i)}function z_(i,s){s===0&&(s=Ug()),i=Sr(i,s),i!==null&&(Oa(i,s),zn(i))}function UA(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),z_(i,a)}function jA(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,d=i.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),z_(i,a)}function VA(i,s){return wn(i,s)}var Ru=null,zr=null,$h=!1,Nu=!1,Zh=!1,Ls=0;function zn(i){i!==zr&&i.next===null&&(zr===null?Ru=zr=i:zr=zr.next=i),Nu=!0,$h||($h=!0,zA())}function po(i,s){if(!Zh&&Nu){Zh=!0;do for(var a=!1,l=Ru;l!==null;){if(i!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-et(42|i)+1)-1,m&=d&~(b&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,q_(l,m))}else m=Ie,m=Ll(l,l===We?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Na(l,m)||(a=!0,q_(l,m));l=l.next}while(a);Zh=!1}}function BA(){H_()}function H_(){Nu=$h=!1;var i=0;Ls!==0&&(XA()&&(i=Ls),Ls=0);for(var s=zt(),a=null,l=Ru;l!==null;){var d=l.next,m=F_(l,s);m===0?(l.next=null,a===null?Ru=d:a.next=d,d===null&&(zr=a)):(a=l,(i!==0||(m&3)!==0)&&(Nu=!0)),l=d}po(i)}function F_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,d=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var b=31-et(m),E=1<<b,A=d[b];A===-1?((E&a)===0||(E&l)!==0)&&(d[b]=hx(E,s)):A<=s&&(i.expiredLanes|=E),m&=~E}if(s=We,a=Ie,a=Ll(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Be===2||Be===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Na(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&un(l),df(a)){case 2:case 8:a=ar;break;case 32:a=Xn;break;case 268435456:a=fe;break;default:a=Xn}return l=G_.bind(null,i),a=wn(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&un(l),i.callbackPriority=2,i.callbackNode=null,2}function G_(i,s){if(At!==0&&At!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Au()&&i.callbackNode!==a)return null;var l=Ie;return l=Ll(i,i===We?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(x_(i,l,s),F_(i,zt()),i.callbackNode!=null&&i.callbackNode===a?G_.bind(null,i):null)}function q_(i,s){if(Au())return null;x_(i,s,!0)}function zA(){$A(function(){(Ve&6)!==0?wn(rr,BA):H_()})}function Jh(){return Ls===0&&(Ls=Pg()),Ls}function Y_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Bl(""+i)}function K_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function HA(i,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=Y_((d[Ft]||null).action),b=l.submitter;b&&(s=(s=b[Ft]||null)?Y_(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var E=new Gl("action","action",null,l,d);i.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var A=b?K_(d,b):new FormData(d);_h(a,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=b?K_(d,b):new FormData(d),_h(a,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var ed=0;ed<jf.length;ed++){var td=jf[ed],FA=td.toLowerCase(),GA=td[0].toUpperCase()+td.slice(1);Cn(FA,"on"+GA)}Cn(xy,"onAnimationEnd"),Cn(Ay,"onAnimationIteration"),Cn(Ry,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(oA,"onTransitionRun"),Cn(lA,"onTransitionStart"),Cn(uA,"onTransitionCancel"),Cn(Ny,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_s("onBeforeInput",["compositionend","keypress","textInput","paste"]),_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function W_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var E=l[b],A=E.instance,j=E.currentTarget;if(E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=j;try{m(d)}catch(G){gu(G)}d.currentTarget=null,m=A}else for(b=0;b<l.length;b++){if(E=l[b],A=E.instance,j=E.currentTarget,E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=j;try{m(d)}catch(G){gu(G)}d.currentTarget=null,m=A}}}}function Oe(i,s){var a=s[pf];a===void 0&&(a=s[pf]=new Set);var l=i+"__bubble";a.has(l)||(X_(s,i,2,!1),a.add(l))}function nd(i,s,a){var l=0;s&&(l|=4),X_(a,i,l,s)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function id(i){if(!i[Ou]){i[Ou]=!0,Hg.forEach(function(a){a!=="selectionchange"&&(qA.has(a)||nd(a,!1,i),nd(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ou]||(s[Ou]=!0,nd("selectionchange",!1,s))}}function X_(i,s,a,l){switch(_0(s)){case 2:var d=v1;break;case 8:d=_1;break;default:d=yd}a=d.bind(null,s,a,i),d=void 0,!Cf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?i.addEventListener(s,a,{capture:!0,passive:d}):i.addEventListener(s,a,!0):d!==void 0?i.addEventListener(s,a,{passive:d}):i.addEventListener(s,a,!1)}function sd(i,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===d)break;if(b===4)for(b=l.return;b!==null;){var A=b.tag;if((A===3||A===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;E!==null;){if(b=lr(E),b===null)return;if(A=b.tag,A===5||A===6||A===26||A===27){l=m=b;continue e}E=E.parentNode}}l=l.return}ny(function(){var j=m,G=Tf(a),X=[];e:{var V=Oy.get(i);if(V!==void 0){var B=Gl,pe=i;switch(i){case"keypress":if(Hl(a)===0)break e;case"keydown":case"keyup":B=Vx;break;case"focusin":pe="focus",B=Nf;break;case"focusout":pe="blur",B=Nf;break;case"beforeblur":case"afterblur":B=Nf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Hx;break;case xy:case Ay:case Ry:B=Ox;break;case Ny:B=Gx;break;case"scroll":case"scrollend":B=Cx;break;case"wheel":B=Yx;break;case"copy":case"cut":case"paste":B=Mx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=oy;break;case"toggle":case"beforetoggle":B=Wx}var ce=(s&4)!==0,Fe=!ce&&(i==="scroll"||i==="scrollend"),I=ce?V!==null?V+"Capture":null:V;ce=[];for(var O=j,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||I===null||(Y=Ia(O,I),Y!=null&&ce.push(go(O,Y,U))),Fe)break;O=O.return}0<ce.length&&(V=new B(V,pe,null,a,G),X.push({event:V,listeners:ce}))}}if((s&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",B=i==="mouseout"||i==="pointerout",V&&a!==Ef&&(pe=a.relatedTarget||a.fromElement)&&(lr(pe)||pe[or]))break e;if((B||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,B?(pe=a.relatedTarget||a.toElement,B=j,pe=pe?lr(pe):null,pe!==null&&(Fe=u(pe),ce=pe.tag,pe!==Fe||ce!==5&&ce!==27&&ce!==6)&&(pe=null)):(B=null,pe=j),B!==pe)){if(ce=ry,Y="onMouseLeave",I="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(ce=oy,Y="onPointerLeave",I="onPointerEnter",O="pointer"),Fe=B==null?V:Ma(B),U=pe==null?V:Ma(pe),V=new ce(Y,O+"leave",B,a,G),V.target=Fe,V.relatedTarget=U,Y=null,lr(G)===j&&(ce=new ce(I,O+"enter",pe,a,G),ce.target=U,ce.relatedTarget=Fe,Y=ce),Fe=Y,B&&pe)t:{for(ce=B,I=pe,O=0,U=ce;U;U=Hr(U))O++;for(U=0,Y=I;Y;Y=Hr(Y))U++;for(;0<O-U;)ce=Hr(ce),O--;for(;0<U-O;)I=Hr(I),U--;for(;O--;){if(ce===I||I!==null&&ce===I.alternate)break t;ce=Hr(ce),I=Hr(I)}ce=null}else ce=null;B!==null&&Q_(X,V,B,ce,!1),pe!==null&&Fe!==null&&Q_(X,Fe,pe,ce,!0)}}e:{if(V=j?Ma(j):window,B=V.nodeName&&V.nodeName.toLowerCase(),B==="select"||B==="input"&&V.type==="file")var oe=my;else if(dy(V))if(gy)oe=sA;else{oe=nA;var we=tA}else B=V.nodeName,!B||B.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?j&&Sf(j.elementType)&&(oe=my):oe=iA;if(oe&&(oe=oe(i,j))){py(X,oe,a,G);break e}we&&we(i,V,j),i==="focusout"&&j&&V.type==="number"&&j.memoizedProps.value!=null&&bf(V,"number",V.value)}switch(we=j?Ma(j):window,i){case"focusin":(dy(we)||we.contentEditable==="true")&&(vr=we,Lf=j,za=null);break;case"focusout":za=Lf=vr=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,wy(X,a,G);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":wy(X,a,G)}var ue;if(Df)e:{switch(i){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else yr?fy(i,a)&&(he="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(ly&&a.locale!=="ko"&&(yr||he!=="onCompositionStart"?he==="onCompositionEnd"&&yr&&(ue=iy()):(Ni=G,xf="value"in Ni?Ni.value:Ni.textContent,yr=!0)),we=Du(j,he),0<we.length&&(he=new ay(he,i,null,a,G),X.push({event:he,listeners:we}),ue?he.data=ue:(ue=hy(a),ue!==null&&(he.data=ue)))),(ue=Qx?$x(i,a):Zx(i,a))&&(he=Du(j,"onBeforeInput"),0<he.length&&(we=new ay("onBeforeInput","beforeinput",null,a,G),X.push({event:we,listeners:he}),we.data=ue)),HA(X,i,j,a,G)}W_(X,s)})}function go(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Du(i,s){for(var a=s+"Capture",l=[];i!==null;){var d=i,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ia(i,a),d!=null&&l.unshift(go(i,d,m)),d=Ia(i,s),d!=null&&l.push(go(i,d,m))),i.tag===3)return l;i=i.return}return[]}function Hr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Q_(i,s,a,l,d){for(var m=s._reactName,b=[];a!==null&&a!==l;){var E=a,A=E.alternate,j=E.stateNode;if(E=E.tag,A!==null&&A===l)break;E!==5&&E!==26&&E!==27||j===null||(A=j,d?(j=Ia(a,m),j!=null&&b.unshift(go(a,j,A))):d||(j=Ia(a,m),j!=null&&b.push(go(a,j,A)))),a=a.return}b.length!==0&&i.push({event:s,listeners:b})}var YA=/\r\n?/g,KA=/\u0000|\uFFFD/g;function $_(i){return(typeof i=="string"?i:""+i).replace(YA,`
`).replace(KA,"")}function Z_(i,s){return s=$_(s),$_(i)===s}function Mu(){}function He(i,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pr(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pr(i,""+l);break;case"className":Ul(i,"class",l);break;case"tabIndex":Ul(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(i,a,l);break;case"style":ey(i,l,m);break;case"data":if(s!=="object"){Ul(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Bl(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&He(i,s,"name",d.name,d,null),He(i,s,"formEncType",d.formEncType,d,null),He(i,s,"formMethod",d.formMethod,d,null),He(i,s,"formTarget",d.formTarget,d,null)):(He(i,s,"encType",d.encType,d,null),He(i,s,"method",d.method,d,null),He(i,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Bl(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Mu);break;case"onScroll":l!=null&&Oe("scroll",i);break;case"onScrollEnd":l!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Bl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),Pl(i,"popover",l);break;case"xlinkActuate":Qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pl(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tx.get(a)||a,Pl(i,a,l))}}function rd(i,s,a,l,d,m){switch(a){case"style":ey(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?pr(i,l):(typeof l=="number"||typeof l=="bigint")&&pr(i,""+l);break;case"onScroll":l!=null&&Oe("scroll",i);break;case"onScrollEnd":l!=null&&Oe("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=i[Ft]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,d);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Pl(i,a,l)}}}function Rt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,m,b,a,null)}}d&&He(i,s,"srcSet",a.srcSet,a,null),l&&He(i,s,"src",a.src,a,null);return;case"input":Oe("invalid",i);var E=m=b=d=null,A=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":d=G;break;case"type":b=G;break;case"checked":A=G;break;case"defaultChecked":j=G;break;case"value":m=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:He(i,s,l,G,a,null)}}Qg(i,m,E,A,j,b,d,!1),jl(i);return;case"select":Oe("invalid",i),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:He(i,s,d,E,a,null)}s=m,a=b,i.multiple=!!l,s!=null?dr(i,!!l,s,!1):a!=null&&dr(i,!!l,a,!0);return;case"textarea":Oe("invalid",i),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:He(i,s,b,E,a,null)}Zg(i,l,d,m),jl(i);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:He(i,s,A,l,a,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(l=0;l<mo.length;l++)Oe(mo[l],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,j,l,a,null)}return;default:if(Sf(s)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&rd(i,s,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&He(i,s,E,l,a,null))}function WA(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,E=null,A=null,j=null,G=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":A=X;default:l.hasOwnProperty(B)||He(i,s,B,null,l,X)}}for(var V in l){var B=l[V];if(X=a[V],l.hasOwnProperty(V)&&(B!=null||X!=null))switch(V){case"type":m=B;break;case"name":d=B;break;case"checked":j=B;break;case"defaultChecked":G=B;break;case"value":b=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:B!==X&&He(i,s,V,B,l,X)}}_f(i,b,E,A,j,G,m,d);return;case"select":B=b=E=V=null;for(m in a)if(A=a[m],a.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":B=A;default:l.hasOwnProperty(m)||He(i,s,m,null,l,A)}for(d in l)if(m=l[d],A=a[d],l.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":V=m;break;case"defaultValue":E=m;break;case"multiple":b=m;default:m!==A&&He(i,s,d,m,l,A)}s=E,a=b,l=B,V!=null?dr(i,!!a,V,!1):!!l!=!!a&&(s!=null?dr(i,!!a,s,!0):dr(i,!!a,a?[]:"",!1));return;case"textarea":B=V=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:He(i,s,E,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":V=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&He(i,s,b,d,l,m)}$g(i,V,B);return;case"option":for(var pe in a)if(V=a[pe],a.hasOwnProperty(pe)&&V!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:He(i,s,pe,null,l,V)}for(A in l)if(V=l[A],B=a[A],l.hasOwnProperty(A)&&V!==B&&(V!=null||B!=null))switch(A){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:He(i,s,A,V,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)V=a[ce],a.hasOwnProperty(ce)&&V!=null&&!l.hasOwnProperty(ce)&&He(i,s,ce,null,l,V);for(j in l)if(V=l[j],B=a[j],l.hasOwnProperty(j)&&V!==B&&(V!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:He(i,s,j,V,l,B)}return;default:if(Sf(s)){for(var Fe in a)V=a[Fe],a.hasOwnProperty(Fe)&&V!==void 0&&!l.hasOwnProperty(Fe)&&rd(i,s,Fe,void 0,l,V);for(G in l)V=l[G],B=a[G],!l.hasOwnProperty(G)||V===B||V===void 0&&B===void 0||rd(i,s,G,V,l,B);return}}for(var I in a)V=a[I],a.hasOwnProperty(I)&&V!=null&&!l.hasOwnProperty(I)&&He(i,s,I,null,l,V);for(X in l)V=l[X],B=a[X],!l.hasOwnProperty(X)||V===B||V==null&&B==null||He(i,s,X,V,l,B)}var ad=null,od=null;function Iu(i){return i.nodeType===9?i:i.ownerDocument}function J_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ld(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ud=null;function XA(){var i=window.event;return i&&i.type==="popstate"?i===ud?!1:(ud=i,!0):(ud=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(i){return n0.resolve(null).then(i).catch(ZA)}:t0;function ZA(i){setTimeout(function(){throw i})}function qi(i){return i==="head"}function i0(i,s){var a=s,l=0,d=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=i.ownerDocument;if(a&1&&yo(b.documentElement),a&2&&yo(b.body),a&4)for(a=b.head,yo(a),b=a.firstChild;b;){var E=b.nextSibling,A=b.nodeName;b[Da]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=E}}if(d===0){i.removeChild(m),Co(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Co(s)}function cd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),mf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function JA(i,s,a,l){for(;i.nodeType===1;){var d=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Da])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function e1(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=An(i.nextSibling),i===null))return null;return i}function fd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function t1(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function An(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var hd=null;function s0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function r0(i,s,a){switch(s=Iu(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function yo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);mf(i)}var vn=new Map,a0=new Set;function ku(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ci=Z.d;Z.d={f:n1,r:i1,D:s1,C:r1,L:a1,m:o1,X:u1,S:l1,M:c1};function n1(){var i=ci.f(),s=Cu();return i||s}function i1(i){var s=ur(i);s!==null&&s.tag===5&&s.type==="form"?xv(s):ci.r(i)}var Fr=typeof document>"u"?null:document;function o0(i,s,a){var l=Fr;if(l&&typeof s=="string"&&s){var d=fn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),a0.has(d)||(a0.add(d),i={rel:i,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Rt(s,"link",i),vt(s),l.head.appendChild(s)))}}function s1(i){ci.D(i),o0("dns-prefetch",i,null)}function r1(i,s){ci.C(i,s),o0("preconnect",i,s)}function a1(i,s,a){ci.L(i,s,a);var l=Fr;if(l&&i&&s){var d='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+fn(a.imageSizes)+'"]')):d+='[href="'+fn(i)+'"]';var m=d;switch(s){case"style":m=Gr(i);break;case"script":m=qr(i)}vn.has(m)||(i=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),vn.set(m,i),l.querySelector(d)!==null||s==="style"&&l.querySelector(vo(m))||s==="script"&&l.querySelector(_o(m))||(s=l.createElement("link"),Rt(s,"link",i),vt(s),l.head.appendChild(s)))}}function o1(i,s){ci.m(i,s);var a=Fr;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(i)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=qr(i)}if(!vn.has(m)&&(i=g({rel:"modulepreload",href:i},s),vn.set(m,i),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_o(m)))return}l=a.createElement("link"),Rt(l,"link",i),vt(l),a.head.appendChild(l)}}}function l1(i,s,a){ci.S(i,s,a);var l=Fr;if(l&&i){var d=cr(l).hoistableStyles,m=Gr(i);s=s||"default";var b=d.get(m);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(vo(m)))E.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},a),(a=vn.get(m))&&dd(i,a);var A=b=l.createElement("link");vt(A),Rt(A,"link",i),A._p=new Promise(function(j,G){A.onload=j,A.onerror=G}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lu(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:E},d.set(m,b)}}}function u1(i,s){ci.X(i,s);var a=Fr;if(a&&i){var l=cr(a).hoistableScripts,d=qr(i),m=l.get(d);m||(m=a.querySelector(_o(d)),m||(i=g({src:i,async:!0},s),(s=vn.get(d))&&pd(i,s),m=a.createElement("script"),vt(m),Rt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function c1(i,s){ci.M(i,s);var a=Fr;if(a&&i){var l=cr(a).hoistableScripts,d=qr(i),m=l.get(d);m||(m=a.querySelector(_o(d)),m||(i=g({src:i,async:!0,type:"module"},s),(s=vn.get(d))&&pd(i,s),m=a.createElement("script"),vt(m),Rt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function l0(i,s,a,l){var d=(d=$.current)?ku(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Gr(a.href),a=cr(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Gr(a.href);var m=cr(d).hoistableStyles,b=m.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,b),(m=d.querySelector(vo(i)))&&!m._p&&(b.instance=m,b.state.loading=5),vn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vn.set(i,a),m||f1(d,i,a,b.state))),s&&l===null)throw Error(r(528,""));return b}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qr(a),a=cr(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Gr(i){return'href="'+fn(i)+'"'}function vo(i){return'link[rel="stylesheet"]['+i+"]"}function u0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function f1(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Rt(s,"link",a),vt(s),i.head.appendChild(s))}function qr(i){return'[src="'+fn(i)+'"]'}function _o(i){return"script[async]"+i}function c0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,vt(l),l;var d=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),vt(l),Rt(l,"style",d),Lu(l,a.precedence,i),s.instance=l;case"stylesheet":d=Gr(a.href);var m=i.querySelector(vo(d));if(m)return s.state.loading|=4,s.instance=m,vt(m),m;l=u0(a),(d=vn.get(d))&&dd(l,d),m=(i.ownerDocument||i).createElement("link"),vt(m);var b=m;return b._p=new Promise(function(E,A){b.onload=E,b.onerror=A}),Rt(m,"link",l),s.state.loading|=4,Lu(m,a.precedence,i),s.instance=m;case"script":return m=qr(a.src),(d=i.querySelector(_o(m)))?(s.instance=d,vt(d),d):(l=a,(d=vn.get(m))&&(l=g({},a),pd(l,d)),i=i.ownerDocument||i,d=i.createElement("script"),vt(d),Rt(d,"link",l),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Lu(l,a.precedence,i));return s.instance}function Lu(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===s)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function dd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function pd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Pu=null;function f0(i,s,a){if(Pu===null){var l=new Map,d=Pu=new Map;d.set(a,l)}else d=Pu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),d=0;d<a.length;d++){var m=a[d];if(!(m[Da]||m[Mt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=i+b;var E=l.get(b);E?E.push(m):l.set(b,[m])}}return l}function h0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function h1(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function d0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var bo=null;function d1(){}function p1(i,s,a){if(bo===null)throw Error(r(475));var l=bo;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Gr(a.href),m=i.querySelector(vo(d));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Uu.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=m,vt(m);return}m=i.ownerDocument||i,a=u0(a),(d=vn.get(d))&&dd(a,d),m=m.createElement("link"),vt(m);var b=m;b._p=new Promise(function(E,A){b.onload=E,b.onerror=A}),Rt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Uu.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function m1(){if(bo===null)throw Error(r(475));var i=bo;return i.stylesheets&&i.count===0&&md(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&md(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ju=null;function md(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ju=new Map,s.forEach(g1,i),ju=null,Uu.call(i))}function g1(i,s){if(!(s.state.loading&4)){var a=ju.get(i);if(a)var l=a.get(null);else{a=new Map,ju.set(i,a);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=s.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Uu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var So={$$typeof:N,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function y1(i,s,a,l,d,m,b,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ff(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.hiddenUpdates=ff(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function p0(i,s,a,l,d,m,b,E,A,j,G,X){return i=new y1(i,s,a,b,E,A,j,X),s=1,m===!0&&(s|=24),m=Jt(3,null,null,s),i.current=m,m.stateNode=i,s=Qf(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},eh(m),i}function m0(i){return i?(i=Er,i):Er}function g0(i,s,a,l,d,m){d=m0(d),l.context===null?l.context=d:l.pendingContext=d,l=Mi(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ii(i,l,s),a!==null&&(rn(a,i,s),Qa(a,i,s))}function y0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function gd(i,s){y0(i,s),(i=i.alternate)&&y0(i,s)}function v0(i){if(i.tag===13){var s=Sr(i,67108864);s!==null&&rn(s,i,67108864),gd(i,67108864)}}var Vu=!0;function v1(i,s,a,l){var d=P.T;P.T=null;var m=Z.p;try{Z.p=2,yd(i,s,a,l)}finally{Z.p=m,P.T=d}}function _1(i,s,a,l){var d=P.T;P.T=null;var m=Z.p;try{Z.p=8,yd(i,s,a,l)}finally{Z.p=m,P.T=d}}function yd(i,s,a,l){if(Vu){var d=vd(l);if(d===null)sd(i,s,l,Bu,a),b0(i,l);else if(S1(d,i,s,a,l))l.stopPropagation();else if(b0(i,l),s&4&&-1<b1.indexOf(i)){for(;d!==null;){var m=ur(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=vs(m.pendingLanes);if(b!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var A=1<<31-et(b);E.entanglements[1]|=A,b&=~A}zn(m),(Ve&6)===0&&(Tu=zt()+500,po(0))}}break;case 13:E=Sr(m,2),E!==null&&rn(E,m,2),Cu(),gd(m,2)}if(m=vd(l),m===null&&sd(i,s,l,Bu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else sd(i,s,l,null,a)}}function vd(i){return i=Tf(i),_d(i)}var Bu=null;function _d(i){if(Bu=null,i=lr(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Bu=i,null}function _0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case rr:return 2;case ar:return 8;case Xn:case Q:return 32;case fe:return 268435456;default:return 32}default:return 32}}var bd=!1,Yi=null,Ki=null,Wi=null,Eo=new Map,To=new Map,Xi=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(i,s){switch(i){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Eo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(s.pointerId)}}function wo(i,s,a,l,d,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=ur(s),s!==null&&v0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function S1(i,s,a,l,d){switch(s){case"focusin":return Yi=wo(Yi,i,s,a,l,d),!0;case"dragenter":return Ki=wo(Ki,i,s,a,l,d),!0;case"mouseover":return Wi=wo(Wi,i,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return Eo.set(m,wo(Eo.get(m)||null,i,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,To.set(m,wo(To.get(m)||null,i,s,a,l,d)),!0}return!1}function S0(i){var s=lr(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,px(i.priority,function(){if(a.tag===13){var l=sn();l=hf(l);var d=Sr(a,l);d!==null&&rn(d,a,l),gd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=vd(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Ef=l,a.target.dispatchEvent(l),Ef=null}else return s=ur(a),s!==null&&v0(s),i.blockedOn=a,!1;s.shift()}return!0}function E0(i,s,a){zu(i)&&a.delete(s)}function E1(){bd=!1,Yi!==null&&zu(Yi)&&(Yi=null),Ki!==null&&zu(Ki)&&(Ki=null),Wi!==null&&zu(Wi)&&(Wi=null),Eo.forEach(E0),To.forEach(E0)}function Hu(i,s){i.blockedOn===s&&(i.blockedOn=null,bd||(bd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,E1)))}var Fu=null;function T0(i){Fu!==i&&(Fu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fu===i&&(Fu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],d=i[s+2];if(typeof l!="function"){if(_d(l||a)===null)continue;break}var m=ur(a);m!==null&&(i.splice(s,3),s-=3,_h(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Co(i){function s(A){return Hu(A,i)}Yi!==null&&Hu(Yi,i),Ki!==null&&Hu(Ki,i),Wi!==null&&Hu(Wi,i),Eo.forEach(s),To.forEach(s);for(var a=0;a<Xi.length;a++){var l=Xi[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Xi.length&&(a=Xi[0],a.blockedOn===null);)S0(a),a.blockedOn===null&&Xi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[Ft]||null;if(typeof m=="function")b||T0(a);else if(b){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Ft]||null)E=b.formAction;else if(_d(d)!==null)continue}else E=b.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),T0(a)}}}function Sd(i){this._internalRoot=i}Gu.prototype.render=Sd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=sn();g0(a,l,i,s,null,null)},Gu.prototype.unmount=Sd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;g0(i.current,2,null,i,null,null),Cu(),s[or]=null}};function Gu(i){this._internalRoot=i}Gu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Bg();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Xi.length&&s!==0&&s<Xi[a].priority;a++);Xi.splice(a,0,i),a===0&&S0(i)}};var w0=e.version;if(w0!=="19.1.0")throw Error(r(527,w0,"19.1.0"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var T1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ke=qu.inject(T1),Me=qu}catch{}}return Ao.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",d=Bv,m=zv,b=Hv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=p0(i,1,!1,null,null,a,l,d,m,b,E,null),i[or]=s.current,id(i),new Sd(s)},Ao.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,d="",m=Bv,b=zv,E=Hv,A=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),s=p0(i,1,!0,s,a??null,l,d,m,b,E,A,j),s.context=m0(null),a=s.current,l=sn(),l=hf(l),d=Mi(l),d.callback=null,Ii(a,d,l),a=l,s.current.lanes=a,Oa(s,a),zn(s),i[or]=s.current,id(i),new Gu(s)},Ao.version="19.1.0",Ao}var k0;function k1(){if(k0)return wd.exports;k0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wd.exports=I1(),wd.exports}var L1=k1();const P1=Qp(L1);var Ro={},L0;function U1(){if(L0)return Ro;L0=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.parse=c,Ro.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,_){const S=new u,w=v.length;if(w<2)return S;const C=(_==null?void 0:_.decode)||g;let x=0;do{const M=v.indexOf("=",x);if(M===-1)break;const N=v.indexOf(";",x),q=N===-1?w:N;if(M>q){x=v.lastIndexOf(";",M-1)+1;continue}const D=f(v,x,M),z=p(v,M,D),K=v.slice(D,z);if(S[K]===void 0){let F=f(v,M+1,q),J=p(v,q,F);const ie=C(v.slice(F,J));S[K]=ie}x=q+1}while(x<w);return S}function f(v,_,S){do{const w=v.charCodeAt(_);if(w!==32&&w!==9)return _}while(++_<S);return S}function p(v,_,S){for(;_>S;){const w=v.charCodeAt(--_);if(w!==32&&w!==9)return _+1}return S}function h(v,_,S){const w=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=w(_);if(!e.test(C))throw new TypeError(`argument val is invalid: ${_}`);let x=v+"="+C;if(!S)return x;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);x+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);x+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);x+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);x+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(x+="; HttpOnly"),S.secure&&(x+="; Secure"),S.partitioned&&(x+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return x}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return o.call(v)==="[object Date]"}return Ro}U1();var P0="popstate";function j1(t={}){function e(r,o){let{pathname:u,search:c,hash:f}=r.location;return sp("",{pathname:u,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:$o(o)}return B1(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V1(){return Math.random().toString(36).substring(2,10)}function U0(t,e){return{usr:t.state,key:t.key,idx:e}}function sp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||r||V1()}}function $o({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function B1(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,f="POP",p=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function y(){f="POP";let C=g(),x=C==null?null:C-h;h=C,p&&p({action:f,location:w.location,delta:x})}function v(C,x){f="PUSH";let M=sp(w.location,C,x);h=g()+1;let N=U0(M,h),q=w.createHref(M);try{c.pushState(N,"",q)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(q)}u&&p&&p({action:f,location:w.location,delta:1})}function _(C,x){f="REPLACE";let M=sp(w.location,C,x);h=g();let N=U0(M,h),q=w.createHref(M);c.replaceState(N,"",q),u&&p&&p({action:f,location:w.location,delta:0})}function S(C){let x=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof C=="string"?C:$o(C);return M=M.replace(/ $/,"%20"),Je(x,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,x)}let w={get action(){return f},get location(){return t(o,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(P0,y),p=C,()=>{o.removeEventListener(P0,y),p=null}},createHref(C){return e(o,C)},createURL:S,encodeLocation(C){let x=S(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:_,go(C){return c.go(C)}};return w}function mE(t,e,n="/"){return z1(t,e,n,!1)}function z1(t,e,n,r){let o=typeof e=="string"?ma(e):e,u=vi(o.pathname||"/",n);if(u==null)return null;let c=gE(t);H1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=J1(u);f=$1(c[p],h,r)}return f}function gE(t,e=[],n=[],r=""){let o=(u,c,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let h=mi([r,p.relativePath]),g=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),gE(u.children,e,g,h)),!(u.path==null&&!u.index)&&e.push({path:h,score:X1(h,u.index),routesMeta:g})};return t.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,c);else for(let p of yE(u.path))o(u,c,p)}),e}function yE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=yE(r.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function H1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Q1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F1=/^:[\w-]+$/,G1=3,q1=2,Y1=1,K1=10,W1=-2,j0=t=>t==="*";function X1(t,e){let n=t.split("/"),r=n.length;return n.some(j0)&&(r+=W1),e&&(r+=q1),n.filter(o=>!j0(o)).reduce((o,u)=>o+(F1.test(u)?G1:u===""?Y1:K1),r)}function Q1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function $1(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],h=f===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},g),v=p.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:mi([u,y.pathname]),pathnameBase:iR(mi([u,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(u=mi([u,y.pathnameBase]))}return c}function hc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Z1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},v)=>{if(g==="*"){let S=f[v]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const _=f[v];return y&&!_?h[g]=void 0:h[g]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:c,pattern:t}}function Z1(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function J1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eR(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:tR(n,e):e,search:sR(r),hash:rR(o)}}function tR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $p(t){let e=nR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zp(t,e,n,r=!1){let o;typeof t=="string"?o=ma(t):(o={...t},Je(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}f=y>=0?e[y]:"/"}let p=eR(o,f),h=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(h||g)&&(p.pathname+="/"),p}var mi=t=>t.join("/").replace(/\/\/+/g,"/"),iR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var vE=["POST","PUT","PATCH","DELETE"];new Set(vE);var oR=["GET",...vE];new Set(oR);var ga=R.createContext(null);ga.displayName="DataRouter";var Hc=R.createContext(null);Hc.displayName="DataRouterState";var _E=R.createContext({isTransitioning:!1});_E.displayName="ViewTransition";var lR=R.createContext(new Map);lR.displayName="Fetchers";var uR=R.createContext(null);uR.displayName="Await";var Pn=R.createContext(null);Pn.displayName="Navigation";var yl=R.createContext(null);yl.displayName="Location";var Yn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var Jp=R.createContext(null);Jp.displayName="RouteError";function cR(t,{relative:e}={}){Je(ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Pn),{hash:o,pathname:u,search:c}=vl(t,{relative:e}),f=u;return n!=="/"&&(f=u==="/"?n:mi([n,u])),r.createHref({pathname:f,search:c,hash:o})}function ya(){return R.useContext(yl)!=null}function wi(){return Je(ya(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(yl).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(t){R.useContext(Pn).static||R.useLayoutEffect(t)}function va(){let{isDataRoute:t}=R.useContext(Yn);return t?TR():fR()}function fR(){Je(ya(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(ga),{basename:e,navigator:n}=R.useContext(Pn),{matches:r}=R.useContext(Yn),{pathname:o}=wi(),u=JSON.stringify($p(r)),c=R.useRef(!1);return SE(()=>{c.current=!0}),R.useCallback((p,h={})=>{if(kn(c.current,bE),!c.current)return;if(typeof p=="number"){n.go(p);return}let g=Zp(p,JSON.parse(u),o,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:mi([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,u,o,t])}R.createContext(null);function vl(t,{relative:e}={}){let{matches:n}=R.useContext(Yn),{pathname:r}=wi(),o=JSON.stringify($p(n));return R.useMemo(()=>Zp(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function hR(t,e){return EE(t,e)}function EE(t,e,n,r){var M;Je(ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=R.useContext(Pn),{matches:c}=R.useContext(Yn),f=c[c.length-1],p=f?f.params:{},h=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let N=y&&y.path||"";TE(h,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=wi(),_;if(e){let N=typeof e=="string"?ma(e):e;Je(g==="/"||((M=N.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),_=N}else _=v;let S=_.pathname||"/",w=S;if(g!=="/"){let N=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=!u&&n&&n.matches&&n.matches.length>0?n.matches:mE(t,{pathname:w});kn(y||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),kn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=yR(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:mi([g,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:mi([g,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,n,r);return e&&x?R.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},x):x}function dR(){let t=ER(),e=aR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,c)}var pR=R.createElement(dR,null),mR=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Yn.Provider,{value:this.props.routeContext},R.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gR({routeContext:t,match:e,children:n}){let r=R.useContext(ga);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Yn.Provider,{value:t},n)}function yR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:g,errors:y}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,h,g)=>{let y,v=!1,_=null,S=null;n&&(y=u&&h.route.id?u[h.route.id]:void 0,_=h.route.errorElement||pR,c&&(f<0&&g===0?(TE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):f===g&&(v=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,g+1)),C=()=>{let x;return y?x=_:v?x=S:h.route.Component?x=R.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=p,R.createElement(gR,{match:h,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?R.createElement(mR,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function em(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vR(t){let e=R.useContext(ga);return Je(e,em(t)),e}function _R(t){let e=R.useContext(Hc);return Je(e,em(t)),e}function bR(t){let e=R.useContext(Yn);return Je(e,em(t)),e}function tm(t){let e=bR(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function SR(){return tm("useRouteId")}function ER(){var r;let t=R.useContext(Jp),e=_R("useRouteError"),n=tm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function TR(){let{router:t}=vR("useNavigate"),e=tm("useNavigate"),n=R.useRef(!1);return SE(()=>{n.current=!0}),R.useCallback(async(o,u={})=>{kn(n.current,bE),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var V0={};function TE(t,e,n){!e&&!V0[t]&&(V0[t]=!0,kn(!1,n))}R.memo(wR);function wR({routes:t,future:e,state:n}){return EE(t,void 0,n,e)}function Nd({to:t,replace:e,state:n,relative:r}){Je(ya(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(Pn);kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(Yn),{pathname:c}=wi(),f=va(),p=Zp(t,$p(u),c,r==="path"),h=JSON.stringify(p);return R.useEffect(()=>{f(JSON.parse(h),{replace:e,state:n,relative:r})},[f,h,r,e,n]),null}function Kr(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Je(!ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=ma(n));let{pathname:p="/",search:h="",hash:g="",state:y=null,key:v="default"}=n,_=R.useMemo(()=>{let S=vi(p,c);return S==null?null:{location:{pathname:S,search:h,hash:g,state:y,key:v},navigationType:r}},[c,p,h,g,y,v,r]);return kn(_!=null,`<Router basename="${c}"> is not able to match the URL "${p}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:R.createElement(Pn.Provider,{value:f},R.createElement(yl.Provider,{children:e,value:_}))}function xR({children:t,location:e}){return hR(rp(t),e)}function rp(t,e=[]){let n=[];return R.Children.forEach(t,(r,o)=>{if(!R.isValidElement(r))return;let u=[...e,o];if(r.type===R.Fragment){n.push.apply(n,rp(r.props.children,u));return}Je(r.type===Kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=rp(r.props.children,u)),n.push(c)}),n}var tc="get",nc="application/x-www-form-urlencoded";function Fc(t){return t!=null&&typeof t.tagName=="string"}function AR(t){return Fc(t)&&t.tagName.toLowerCase()==="button"}function RR(t){return Fc(t)&&t.tagName.toLowerCase()==="form"}function NR(t){return Fc(t)&&t.tagName.toLowerCase()==="input"}function OR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DR(t,e){return t.button===0&&(!e||e==="_self")&&!OR(t)}var Yu=null;function MR(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var IR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(t){return t!=null&&!IR.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):t}function kR(t,e){let n,r,o,u,c;if(RR(t)){let f=t.getAttribute("action");r=f?vi(f,e):null,n=t.getAttribute("method")||tc,o=Od(t.getAttribute("enctype"))||nc,u=new FormData(t)}else if(AR(t)||NR(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(r=p?vi(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||tc,o=Od(t.getAttribute("formenctype"))||Od(f.getAttribute("enctype"))||nc,u=new FormData(f,t),!MR()){let{name:h,type:g,value:y}=t;if(g==="image"){let v=h?`${h}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else h&&u.append(h,y)}}else{if(Fc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tc,r=null,o=nc,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}function nm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function LR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UR(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await LR(u,n);return c.links?c.links():[]}return[]}));return zR(r.flat(1).filter(PR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B0(t,e,n,r,o,u){let c=(p,h)=>n[h]?p.route.id!==n[h].route.id:!0,f=(p,h)=>{var g;return n[h].pathname!==p.pathname||((g=n[h].route.path)==null?void 0:g.endsWith("*"))&&n[h].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,h)=>c(p,h)||f(p,h)):u==="data"?e.filter((p,h)=>{var y;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function jR(t,e,{includeHydrateFallback:n}={}){return VR(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function VR(t){return[...new Set(t)]}function BR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function zR(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(BR(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}var HR=new Set([100,101,204,205]);function FR(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&vi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wE(){let t=R.useContext(ga);return nm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GR(){let t=R.useContext(Hc);return nm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var im=R.createContext(void 0);im.displayName="FrameworkContext";function CE(){let t=R.useContext(im);return nm(t,"You must render this element inside a <HydratedRouter> element"),t}function qR(t,e){let n=R.useContext(im),[r,o]=R.useState(!1),[u,c]=R.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=e,v=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let w=x=>{x.forEach(M=>{c(M.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),R.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,v,{}]:[u,v,{onFocus:No(f,_),onBlur:No(p,S),onMouseEnter:No(h,_),onMouseLeave:No(g,S),onTouchStart:No(y,_)}]:[!1,v,{}]}function No(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YR({page:t,...e}){let{router:n}=wE(),r=R.useMemo(()=>mE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(WR,{page:t,matches:r,...e}):null}function KR(t){let{manifest:e,routeModules:n}=CE(),[r,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return UR(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function WR({page:t,matches:e,...n}){let r=wi(),{manifest:o,routeModules:u}=CE(),{basename:c}=wE(),{loaderData:f,matches:p}=GR(),h=R.useMemo(()=>B0(t,e,p,o,r,"data"),[t,e,p,o,r]),g=R.useMemo(()=>B0(t,e,p,o,r,"assets"),[t,e,p,o,r]),y=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(x=>{var N;let M=o.routes[x.route.id];!M||!M.hasLoader||(!h.some(q=>q.route.id===x.route.id)&&x.route.id in f&&((N=u[x.route.id])!=null&&N.shouldRevalidate)||M.hasClientLoader?w=!0:S.add(x.route.id))}),S.size===0)return[];let C=FR(t,c);return w&&S.size>0&&C.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[c,f,r,o,h,e,t,u]),v=R.useMemo(()=>jR(g,o),[g,o]),_=KR(g);return R.createElement(R.Fragment,null,y.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),_.map(({key:S,link:w})=>R.createElement("link",{key:S,...w})))}function XR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xE&&(window.__reactRouterVersion="7.5.2")}catch{}function QR({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=j1({window:n,v5Compat:!0}));let o=r.current,[u,c]=R.useState({action:o.action,location:o.location}),f=R.useCallback(p=>{R.startTransition(()=>c(p))},[c]);return R.useLayoutEffect(()=>o.listen(f),[o,f]),R.createElement(CR,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sm=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:f,target:p,to:h,preventScrollReset:g,viewTransition:y,...v},_){let{basename:S}=R.useContext(Pn),w=typeof h=="string"&&AE.test(h),C,x=!1;if(typeof h=="string"&&w&&(C=h,xE))try{let J=new URL(window.location.href),ie=h.startsWith("//")?new URL(J.protocol+h):new URL(h),se=vi(ie.pathname,S);ie.origin===J.origin&&se!=null?h=se+ie.search+ie.hash:x=!0}catch{kn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=cR(h,{relative:o}),[N,q,D]=qR(r,v),z=eN(h,{replace:c,state:f,target:p,preventScrollReset:g,relative:o,viewTransition:y});function K(J){e&&e(J),J.defaultPrevented||z(J)}let F=R.createElement("a",{...v,...D,href:C||M,onClick:x||u?e:K,ref:XR(_,q),target:p,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?R.createElement(R.Fragment,null,F,R.createElement(YR,{page:M})):F});sm.displayName="Link";var $R=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:f,children:p,...h},g){let y=vl(c,{relative:h.relative}),v=wi(),_=R.useContext(Hc),{navigator:S,basename:w}=R.useContext(Pn),C=_!=null&&rN(y)&&f===!0,x=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,M=v.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(M=M.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&w&&(N=vi(N,w)||N);const q=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=M===x||!o&&M.startsWith(x)&&M.charAt(q)==="/",z=N!=null&&(N===x||!o&&N.startsWith(x)&&N.charAt(x.length)==="/"),K={isActive:D,isPending:z,isTransitioning:C},F=D?e:void 0,J;typeof r=="function"?J=r(K):J=[r,D?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ie=typeof u=="function"?u(K):u;return R.createElement(sm,{...h,"aria-current":F,className:J,ref:g,style:ie,to:c,viewTransition:f},typeof p=="function"?p(K):p)});$R.displayName="NavLink";var ZR=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=tc,action:f,onSubmit:p,relative:h,preventScrollReset:g,viewTransition:y,...v},_)=>{let S=iN(),w=sN(f,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",x=typeof f=="string"&&AE.test(f),M=N=>{if(p&&p(N),N.defaultPrevented)return;N.preventDefault();let q=N.nativeEvent.submitter,D=(q==null?void 0:q.getAttribute("formmethod"))||c;S(q||N.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:h,preventScrollReset:g,viewTransition:y})};return R.createElement("form",{ref:_,method:C,action:w,onSubmit:r?p:M,...v,"data-discover":!x&&t==="render"?"true":void 0})});ZR.displayName="Form";function JR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(t){let e=R.useContext(ga);return Je(e,JR(t)),e}function eN(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let f=va(),p=wi(),h=vl(t,{relative:u});return R.useCallback(g=>{if(DR(g,e)){g.preventDefault();let y=n!==void 0?n:$o(p)===$o(h);f(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[p,f,h,n,r,e,t,o,u,c])}var tN=0,nN=()=>`__${String(++tN)}__`;function iN(){let{router:t}=RE("useSubmit"),{basename:e}=R.useContext(Pn),n=SR();return R.useCallback(async(r,o={})=>{let{action:u,method:c,encType:f,formData:p,body:h}=kR(r,e);if(o.navigate===!1){let g=o.fetcherKey||nN();await t.fetch(g,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function sN(t,{relative:e}={}){let{basename:n}=R.useContext(Pn),r=R.useContext(Yn);Je(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...vl(t||".",{relative:e})},c=wi();if(t==null){u.search=c.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mi([n,u.pathname])),$o(u)}function rN(t,e={}){let n=R.useContext(_E);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RE("useViewTransitionState"),o=vl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=vi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=vi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hc(o.pathname,c)!=null||hc(o.pathname,u)!=null}new TextEncoder;[...HR];const aN=()=>{};var z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw _a(e)},_a=function(t){return new Error("Firebase Database ("+NE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},oN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],f=t[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,f=c?t[o+1]:0,p=o+2<t.length,h=p?t[o+2]:0,g=u>>2,y=(u&3)<<4|f>>4;let v=(f&15)<<2|h>>6,_=h&63;p||(_=64,c||(v=64)),r.push(n[g],n[y],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const h=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||f==null||h==null||y==null)throw new lN;const v=u<<2|f>>4;if(r.push(v),h!==64){const _=f<<4&240|h>>2;if(r.push(_),y!==64){const S=h<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DE=function(t){const e=OE(t);return rm.encodeByteArray(e,!0)},dc=function(t){return DE(t).replace(/\./g,"")},pc=function(t){try{return rm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){return ME(void 0,t)}function ME(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!cN(n)||(t[n]=ME(t[n],e[n]));return t}function cN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=()=>fN().__FIREBASE_DEFAULTS__,dN=()=>{if(typeof process>"u"||typeof z0>"u")return;const t=z0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pc(t[1]);return e&&JSON.parse(e)},am=()=>{try{return aN()||hN()||dN()||pN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IE=t=>{var e,n;return(n=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mN=t=>{const e=IE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kE=()=>{var t;return(t=am())===null||t===void 0?void 0:t.config},LE=t=>{var e;return(e=am())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dc(JSON.stringify(n)),dc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function yN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _N(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bN(){return NE.NODE_ADMIN===!0}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function EN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="FirebaseError";class hs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TN,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?wN(u,r):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new hs(o,f,r)}}function wN(t,e){return t.replace(CN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const CN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){return JSON.parse(t)}function Ct(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(t){let e={},n={},r={},o="";try{const u=t.split(".");e=Zo(pc(u[0])||""),n=Zo(pc(u[1])||""),o=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},xN=function(t){const e=UE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},AN=function(t){const e=UE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function aa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ap(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mc(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(H0(u)&&H0(c)){if(!Ks(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function H0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Uo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],p=this.chain_[4],h,g;for(let y=0;y<80;y++){y<40?y<20?(h=f^u&(c^f),g=1518500249):(h=u^c^f,g=1859775393):y<60?(h=u&c|f&(u|c),g=2400959708):(h=u^c^f,g=3395469782);const v=(o<<5|o>>>27)+h+p+g+r[y]&4294967295;p=f,f=c,c=(u<<30|u>>>2)&4294967295,u=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<n;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function NN(t,e){const n=new ON(t,e);return n.subscribe.bind(n)}class ON{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dd(){}function Gc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _l;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LN(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kN(t){return t===Us?void 0:t}function LN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const UN={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},jN=Ge.INFO,VN={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},BN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=VN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lm{constructor(e){this.name=e,this._logLevel=jN,this._logHandler=BN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const zN=(t,e)=>e.some(n=>t instanceof n);let F0,G0;function HN(){return F0||(F0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FN(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,op=new WeakMap,VE=new WeakMap,Md=new WeakMap,um=new WeakMap;function GN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(ss(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,t)}).catch(()=>{}),um.set(e,t),e}function qN(t){if(op.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});op.set(t,e)}let lp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YN(t){lp=t(lp)}function KN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Id(this),e,...n);return VE.set(r,e.sort?e.sort():[e]),ss(r)}:FN().includes(t)?function(...e){return t.apply(Id(this),e),ss(jE.get(this))}:function(...e){return ss(t.apply(Id(this),e))}}function WN(t){return typeof t=="function"?KN(t):(t instanceof IDBTransaction&&qN(t),zN(t,HN())?new Proxy(t,lp):t)}function ss(t){if(t instanceof IDBRequest)return GN(t);if(Md.has(t))return Md.get(t);const e=WN(t);return e!==t&&(Md.set(t,e),um.set(e,t)),e}const Id=t=>um.get(t);function XN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),f=ss(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ss(c.result),p.oldVersion,p.newVersion,ss(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",h=>o(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const QN=["get","getKey","getAll","getAllKeys","count"],$N=["put","add","delete","clear"],kd=new Map;function q0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=$N.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||QN.includes(n)))return;const u=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let h=p.store;return r&&(h=h.index(f.shift())),(await Promise.all([h[n](...f),o&&p.done]))[0]};return kd.set(e,u),u}YN(t=>({...t,get:(e,n,r)=>q0(e,n)||t.get(e,n,r),has:(e,n)=>!!q0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const up="@firebase/app",Y0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new lm("@firebase/app"),eO="@firebase/app-compat",tO="@firebase/analytics-compat",nO="@firebase/analytics",iO="@firebase/app-check-compat",sO="@firebase/app-check",rO="@firebase/auth",aO="@firebase/auth-compat",oO="@firebase/database",lO="@firebase/data-connect",uO="@firebase/database-compat",cO="@firebase/functions",fO="@firebase/functions-compat",hO="@firebase/installations",dO="@firebase/installations-compat",pO="@firebase/messaging",mO="@firebase/messaging-compat",gO="@firebase/performance",yO="@firebase/performance-compat",vO="@firebase/remote-config",_O="@firebase/remote-config-compat",bO="@firebase/storage",SO="@firebase/storage-compat",EO="@firebase/firestore",TO="@firebase/vertexai",wO="@firebase/firestore-compat",CO="firebase",xO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",AO={[up]:"fire-core",[eO]:"fire-core-compat",[nO]:"fire-analytics",[tO]:"fire-analytics-compat",[sO]:"fire-app-check",[iO]:"fire-app-check-compat",[rO]:"fire-auth",[aO]:"fire-auth-compat",[oO]:"fire-rtdb",[lO]:"fire-data-connect",[uO]:"fire-rtdb-compat",[cO]:"fire-fn",[fO]:"fire-fn-compat",[hO]:"fire-iid",[dO]:"fire-iid-compat",[pO]:"fire-fcm",[mO]:"fire-fcm-compat",[gO]:"fire-perf",[yO]:"fire-perf-compat",[vO]:"fire-rc",[_O]:"fire-rc-compat",[bO]:"fire-gcs",[SO]:"fire-gcs-compat",[EO]:"fire-fst",[wO]:"fire-fst-compat",[TO]:"fire-vertex","fire-js":"fire-js",[CO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,RO=new Map,fp=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if(fp.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,t);for(const n of gc.values())K0(n,t);for(const n of RO.values())K0(n,t);return!0}function cm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new bl("app","Firebase",NO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=xO;function BE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw rs.create("no-options");const u=gc.get(o);if(u){if(Ks(n,u.options)&&Ks(r,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const c=new PN(o);for(const p of fp.values())c.addComponent(p);const f=new OO(n,r,c);return gc.set(o,f),f}function zE(t=cp){const e=gc.get(t);if(!e&&t===cp&&kE())return BE();if(!e)throw rs.create("no-app",{appName:t});return e}function as(t,e,n){var r;let o=(r=AO[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(f.join(" "));return}oa(new Ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="firebase-heartbeat-database",MO=1,Jo="firebase-heartbeat-store";let Ld=null;function HE(){return Ld||(Ld=XN(DO,MO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),Ld}async function IO(t){try{const n=(await HE()).transaction(Jo),r=await n.objectStore(Jo).get(FE(t));return await n.done,r}catch(e){if(e instanceof hs)_i.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function W0(t,e){try{const r=(await HE()).transaction(Jo,"readwrite");await r.objectStore(Jo).put(e,FE(t)),await r.done}catch(n){if(n instanceof hs)_i.warn(n.message);else{const r=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function FE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1024,LO=30;class PO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=X0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>LO){const c=VO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X0(),{heartbeatsToSend:r,unsentEntries:o}=UO(this._heartbeatsCache.heartbeats),u=dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _i.warn(n),""}}}function X0(){return new Date().toISOString().substring(0,10)}function UO(t,e=kO){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Q0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Q0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?EN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Q0(t){return dc(JSON.stringify({version:2,heartbeats:t})).length}function VO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){oa(new Ws("platform-logger",e=>new ZN(e),"PRIVATE")),oa(new Ws("heartbeat",e=>new PO(e),"PRIVATE")),as(up,Y0,t),as(up,Y0,"esm2017"),as("fire-js","")}BO("");function fm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zO=GE,qE=new bl("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new lm("@firebase/auth");function HO(t,...e){yc.logLevel<=Ge.WARN&&yc.warn(`Auth (${Sa}): ${t}`,...e)}function ic(t,...e){yc.logLevel<=Ge.ERROR&&yc.error(`Auth (${Sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw dm(t,...e)}function Mn(t,...e){return dm(t,...e)}function hm(t,e,n){const r=Object.assign(Object.assign({},zO()),{[e]:n});return new bl("auth","Firebase",r).create(e,{appName:t.name})}function gi(t){return hm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),hm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qE.create(t,...e)}function de(t,e,...n){if(!t)throw dm(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ic(e),new Error(e)}function bi(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GO(){return $0()==="http:"||$0()==="https:"}function $0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GO()||vN()||"connection"in navigator)?navigator.onLine:!0}function YO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=om()||PE()}get(){return qO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e){bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XO=new Sl(3e4,6e4);function ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ps(t,e,n,r,o={}){return KE(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const f=ba(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:p},u);return yN()||(h.referrerPolicy="no-referrer"),YE.fetch()(await WE(t,t.config.apiHost,n,f),h)})}async function KE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KO),e);try{const o=new $O(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ku(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const f=u.ok?c.errorMessage:c.error.message,[p,h]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ku(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ku(t,"user-disabled",c);const g=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hm(t,g,h);Tn(t,g)}}catch(o){if(o instanceof hs)throw o;Tn(t,"network-request-failed",{message:String(o)})}}async function El(t,e,n,r,o={}){const u=await ps(t,e,n,r,o);return"mfaPendingCredential"in u&&Tn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function WE(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?pm(t.config,o):`${t.config.apiScheme}://${o}`;return WO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function QO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $O{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),XO.get())})}}function Ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Mn(t,e,r);return o.customData._tokenResponse=n,o}function Z0(t){return t!==void 0&&t.enterprise!==void 0}class ZO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JO(t,e){return ps(t,"GET","/v2/recaptchaConfig",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function vc(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tD(t,e=!1){const n=$t(t),r=await n.getIdToken(e),o=mm(r);de(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Bo(Pd(o.auth_time)),issuedAtTime:Bo(Pd(o.iat)),expirationTime:Bo(Pd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pd(t){return Number(t)*1e3}function mm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=pc(n);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function J0(t){const e=mm(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hs&&nD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bo(this.lastLoginAt),this.creationTime=Bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){var e;const n=t.auth,r=await t.getIdToken(),o=await el(t,vc(n,{idToken:r}));de(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?XE(u.providerUserInfo):[],f=rD(t.providerData,c),p=t.isAnonymous,h=!(t.email&&u.passwordHash)&&!(f!=null&&f.length),g=p?h:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new dp(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function sD(t){const e=$t(t);await _c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rD(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function XE(t){return t.map(e=>{var{providerId:n}=e,r=fm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e){const n=await KE(t,{},async()=>{const r=ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await WE(t,o,"/v1/token",`key=${u}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",YE.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oD(t,e){return ps(t,"POST","/v2/accounts:revokeToken",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=J0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await aD(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new ea;return r&&(de(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(de(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(de(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new dp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tD(this,e)}reload(){return sD(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await el(this,eD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,c,f,p,h,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,_=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,S=(c=n.photoURL)!==null&&c!==void 0?c:void 0,w=(f=n.tenantId)!==null&&f!==void 0?f:void 0,C=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,x=(h=n.createdAt)!==null&&h!==void 0?h:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:N,emailVerified:q,isAnonymous:D,providerData:z,stsTokenManager:K}=n;de(N&&K,e,"internal-error");const F=ea.fromJSON(this.name,K);de(typeof N=="string",e,"internal-error"),$i(y,e.name),$i(v,e.name),de(typeof q=="boolean",e,"internal-error"),de(typeof D=="boolean",e,"internal-error"),$i(_,e.name),$i(S,e.name),$i(w,e.name),$i(C,e.name),$i(x,e.name),$i(M,e.name);const J=new On({uid:N,auth:e,email:v,emailVerified:q,displayName:y,isAnonymous:D,photoURL:S,phoneNumber:_,tenantId:w,stsTokenManager:F,createdAt:x,lastLoginAt:M});return z&&Array.isArray(z)&&(J.providerData=z.map(ie=>Object.assign({},ie))),C&&(J._redirectEventId=C),J}static async _fromIdTokenResponse(e,n,r=!1){const o=new ea;o.updateFromServerResponse(n);const u=new On({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await _c(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];de(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?XE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new ea;f.updateFromIdToken(r);const p=new On({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,h),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;function di(t){bi(t instanceof Function,"Expected a class definition");let e=eb.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QE.type="NONE";const tb=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=sc(this.userKey,o.apiKey,u),this.fullPersistenceKey=sc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vc(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ta(di(tb),e,r);const o=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let u=o[0]||di(tb);const c=sc(r,e.config.apiKey,e.name);let f=null;for(const h of n)try{const g=await h._get(c);if(g){let y;if(typeof g=="string"){const v=await vc(e,{idToken:g}).catch(()=>{});if(!v)break;y=await On._fromGetAccountInfoResponse(e,v,g)}else y=On._fromJSON(e,g);h!==u&&(f=y),u=h;break}}catch{}const p=o.filter(h=>h._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ta(u,e,r):(u=p[0],f&&await u._set(c,f.toJSON()),await Promise.all(n.map(async h=>{if(h!==u)try{await h._remove(c)}catch{}})),new ta(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nT(e))return"Blackberry";if(iT(e))return"Webos";if(ZE(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(tT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $E(t=Bt()){return/firefox\//i.test(t)}function ZE(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(t=Bt()){return/crios\//i.test(t)}function eT(t=Bt()){return/iemobile/i.test(t)}function tT(t=Bt()){return/android/i.test(t)}function nT(t=Bt()){return/blackberry/i.test(t)}function iT(t=Bt()){return/webos/i.test(t)}function gm(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lD(t=Bt()){var e;return gm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uD(){return _N()&&document.documentMode===10}function sT(t=Bt()){return gm(t)||tT(t)||iT(t)||nT(t)||/windows phone/i.test(t)||eT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e=[]){let n;switch(t){case"Browser":n=nb(Bt());break;case"Worker":n=`${nb(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,f)=>{try{const p=e(u);c(p)}catch(p){f(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e={}){return ps(t,"GET","/v2/passwordPolicy",ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=6;class dD{constructor(e){var n,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:hD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ib(this),this.idTokenSubscription=new ib(this),this.beforeStateQueue=new cD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vc(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(on(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(gi(this));const n=e?$t(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fD(this),n=new dD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(f,this,"internal-error"),f.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ms(t){return $t(t)}class ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=NN(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(t){Yc=t}function aT(t){return Yc.loadJS(t)}function gD(){return Yc.recaptchaEnterpriseScript}function yD(){return Yc.gapiScript}function vD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _D{constructor(){this.enterprise=new bD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SD="recaptcha-enterprise",oT="NO_RECAPTCHA";class ED{constructor(e){this.type=SD,this.auth=ms(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,f)=>{JO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const h=new ZO(p);return u.tenantId==null?u._agentRecaptchaConfig=h:u._tenantRecaptchaConfigs[u.tenantId]=h,c(h.siteKey)}}).catch(p=>{f(p)})})}function o(u,c,f){const p=window.grecaptcha;Z0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(h=>{c(h)}).catch(()=>{c(oT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _D().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(f=>{if(!n&&Z0(window.grecaptcha))o(f,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=gD();p.length!==0&&(p+=f),aT(p).then(()=>{o(f,u,c)}).catch(h=>{c(h)})}}).catch(f=>{c(f)})})}}async function sb(t,e,n,r=!1,o=!1){const u=new ED(t);let c;if(o)c=oT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,h=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function pp(t,e,n,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await sb(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await sb(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){const n=cm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ks(u,e??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:e})}function wD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CD(t,e,n){const r=ms(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=lT(e),{host:c,port:f}=xD(e),p=f===null?"":`:${f}`,h={url:`${u}//${c}${p}/`},g=Object.freeze({host:c,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Ks(h,r.config.emulator)&&Ks(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,AD()}function lT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xD(t){const e=lT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:rb(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:rb(c)}}}function rb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function RD(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return El(t,"POST","/v1/accounts:signInWithPassword",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e){return El(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}async function DD(t,e){return El(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends ym{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",ND);case"emailLink":return OD(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,r,"signUpPassword",RD);case"emailLink":return DD(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e){return El(t,"POST","/v1/accounts:signInWithIdp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="http://localhost";class Xs extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=fm(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Xs(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,na(e,n)}buildRequest(){const e={requestUri:MD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ba(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kD(t){const e=Po(Uo(t)).link,n=e?Po(Uo(e)).deep_link_id:null,r=Po(Uo(t)).deep_link_id;return(r?Po(Uo(r)).link:null)||r||n||e||t}class vm{constructor(e){var n,r,o,u,c,f;const p=Po(Uo(e)),h=(n=p.apiKey)!==null&&n!==void 0?n:null,g=(r=p.oobCode)!==null&&r!==void 0?r:null,y=ID((o=p.mode)!==null&&o!==void 0?o:null);de(h&&g&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=g,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=kD(e);try{return new vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,n){return tl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vm.parseLink(n);return de(r,"argument-error"),tl._fromEmailAndCode(e,r.code,r.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends _m{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Tl{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Tl{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Tl{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e){return El(t,"POST","/v1/accounts:signUp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await On._fromIdTokenResponse(e,r,o),c=ab(r);return new Qs({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=ab(r);return new Qs({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function ab(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends hs{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new bc(e,n,r,o)}}function uT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bc._fromErrorAndOperation(t,u,e,r):u})}async function PD(t,e,n=!1){const r=await el(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(gi(r));const o="reauthenticate";try{const u=await el(t,uT(r,o,e,t),n);de(u.idToken,r,"internal-error");const c=mm(u.idToken);de(c,r,"internal-error");const{sub:f}=c;return de(t.uid===f,r,"user-mismatch"),Qs._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t,e,n=!1){if(on(t.app))return Promise.reject(gi(t));const r="signIn",o=await uT(t,r,e),u=await Qs._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function jD(t,e){return cT(ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t){const e=ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VD(t,e,n){if(on(t.app))return Promise.reject(gi(t));const r=ms(t),c=await pp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fT(t),p}),f=await Qs._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function BD(t,e,n){return on(t.app)?Promise.reject(gi(t)):jD($t(t),Ea.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fT(t),r})}function zD(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function HD(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function FD(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1e3,qD=10;class dT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);uD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qD):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dT.type="LOCAL";const YD=dT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pT.type="SESSION";const mT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Kc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(c).map(async h=>h(n.origin,u)),p=await KD(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((f,p)=>{const h=bm("",20);o.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(v.data.response);break;default:clearTimeout(g),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function XD(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function QD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $D(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZD(){return gT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",JD=1,Ec="firebaseLocalStorage",vT="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wc(t,e){return t.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function eM(){const t=indexedDB.deleteDatabase(yT);return new wl(t).toPromise()}function mp(){const t=indexedDB.open(yT,JD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ec,{keyPath:vT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ec)?e(r):(r.close(),await eM(),e(await mp()))})})}async function ob(t,e,n){const r=Wc(t,!0).put({[vT]:e,value:n});return new wl(r).toPromise()}async function tM(t,e){const n=Wc(t,!1).get(e),r=await new wl(n).toPromise();return r===void 0?null:r.value}function lb(t,e){const n=Wc(t,!0).delete(e);return new wl(n).toPromise()}const nM=800,iM=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QD(),!this.activeServiceWorker)return;this.sender=new WD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$D()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await ob(e,Sc,"1"),await lb(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ob(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wc(o,!1).getAll();return new wl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const sM=_T;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){return e?di(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends ym{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rM(t){return cT(t.auth,new Sm(t),t.bypassAuthState)}function aM(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),UD(n,new Sm(t),t.bypassAuthState)}async function oM(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),PD(n,new Sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rM;case"linkViaPopup":case"linkViaRedirect":return oM;case"reauthViaPopup":case"reauthViaRedirect":return aM;default:Tn(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Sl(2e3,1e4);async function uM(t,e,n){if(on(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const r=ms(t);FO(t,e,_m);const o=bT(r,n);return new zs(r,"signInViaPopup",e,o).executeNotNull()}class zs extends ST{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lM.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="pendingRedirect",rc=new Map;class fM extends ST{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const r=await hM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hM(t,e){const n=mM(e),r=pM(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function dM(t,e){rc.set(t._key(),e)}function pM(t){return di(t._redirectPersistence)}function mM(t){return sc(cM,t.config.apiKey,t.name)}async function gM(t,e,n=!1){if(on(t.app))return Promise.reject(gi(t));const r=ms(t),o=bT(r,e),c=await new fM(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=10*60*1e3;class vM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_M(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ET(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yM&&this.cachedEventUids.clear(),this.cachedEventUids.has(ub(e))}saveEventToCache(e){this.cachedEventUids.add(ub(e)),this.lastProcessedEventTime=Date.now()}}function ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ET({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _M(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EM=/^https?/;async function TM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bM(t);for(const n of e)try{if(wM(n))return}catch{}Tn(t,"unauthorized-domain")}function wM(t){const e=hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!EM.test(n))return!1;if(SM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new Sl(3e4,6e4);function cb(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xM(t){return new Promise((e,n)=>{var r,o,u;function c(){cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cb(),n(Mn(t,"network-request-failed"))},timeout:CM.get()})}if(!((o=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Hn().gapi)===null||u===void 0)&&u.load)c();else{const f=vD("iframefcb");return Hn()[f]=()=>{gapi.load?c():n(Mn(t,"network-request-failed"))},aT(`${yD()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw ac=null,e})}let ac=null;function AM(t){return ac=ac||xM(t),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new Sl(5e3,15e3),NM="__/auth/iframe",OM="emulator/auth/iframe",DM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IM(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pm(e,OM):`https://${t.config.authDomain}/${NM}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},o=MM.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ba(r).slice(1)}`}async function kM(t){const e=await AM(t),n=Hn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:IM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Mn(t,"network-request-failed"),f=Hn().setTimeout(()=>{u(c)},RM.get());function p(){Hn().clearTimeout(f),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PM=500,UM=600,jM="_blank",VM="http://localhost";class fb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BM(t,e,n,r=PM,o=UM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},LM),{width:r.toString(),height:o.toString(),top:u,left:c}),h=Bt().toLowerCase();n&&(f=JE(h)?jM:n),$E(h)&&(e=e||VM,p.scrollbars="yes");const g=Object.entries(p).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(lD(h)&&f!=="_self")return zM(e||"",f),new fb(null);const y=window.open(e||"",f,g);de(y,t,"popup-blocked");try{y.focus()}catch{}return new fb(y)}function zM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="__/auth/handler",FM="emulator/auth/handler",GM=encodeURIComponent("fac");async function hb(t,e,n,r,o,u){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:o};if(e instanceof _m){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ap(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof Tl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const p=await t._getAppCheckToken(),h=p?`#${GM}=${encodeURIComponent(p)}`:"";return`${qM(t)}?${ba(f).slice(1)}${h}`}function qM({config:t}){return t.emulator?pm(t,FM):`https://${t.authDomain}/${HM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class YM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=gM,this._overrideRedirectResult=dM}async _openPopup(e,n,r,o){var u;bi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await hb(e,n,r,hp(),o);return BM(e,c,bm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await hb(e,n,r,hp(),o);return XD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kM(e),r=new vM(e);return n.register("authEvent",o=>(de(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ud,{type:Ud},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Ud];c!==void 0&&n(!!c),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||ZE()||gm()}}const KM=YM;var db="@firebase/auth",pb="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QM(t){oa(new Ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;de(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(t)},h=new pD(r,o,u,p);return wD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oa(new Ws("auth-internal",e=>{const n=ms(e.getProvider("auth").getImmediate());return(r=>new WM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(db,pb,XM(t)),as(db,pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=5*60,ZM=LE("authIdTokenMaxAge")||$M;let mb=null;const JM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZM)return;const o=n==null?void 0:n.token;mb!==o&&(mb=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eI(t=zE()){const e=cm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TD(t,{popupRedirectResolver:KM,persistence:[sM,YD,mT]}),r=LE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=JM(u.toString());HD(n,c,()=>c(n.currentUser)),zD(n,f=>c(f))}}const o=IE("auth");return o&&CD(n,`http://${o}`),n}function tI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Mn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",tI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QM("Browser");var nI="firebase",iI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(nI,iI,"app");var gb={};const yb="@firebase/database",vb="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT="";function sI(t){TT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ct(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rI(e)}}catch{}return new aI},Hs=wT("localStorage"),oI=wT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new lm("@firebase/database"),lI=function(){let t=1;return function(){return t++}}(),CT=function(t){const e=MN(t),n=new RN;n.update(e);const r=n.digest();return rm.encodeByteArray(r)},Cl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Cl.apply(null,r):typeof r=="object"?e+=Ct(r):e+=r,e+=" "}return e};let zo=null,_b=!0;const uI=function(t,e){ne(!0,"Can't turn on custom loggers persistently."),ia.logLevel=Ge.VERBOSE,zo=ia.log.bind(ia)},Ot=function(...t){if(_b===!0&&(_b=!1,zo===null&&oI.get("logging_enabled")===!0&&uI()),zo){const e=Cl.apply(null,t);zo(e)}},xl=function(t){return function(...e){Ot(t,...e)}},gp=function(...t){const e="FIREBASE INTERNAL ERROR: "+Cl(...t);ia.error(e)},Si=function(...t){const e=`FIREBASE FATAL ERROR: ${Cl(...t)}`;throw ia.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+Cl(...t);ia.warn(e)},cI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Em=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},la="[MIN_NAME]",$s="[MAX_NAME]",tr=function(t,e){if(t===e)return 0;if(t===la||e===$s)return-1;if(e===la||t===$s)return 1;{const n=bb(t),r=bb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},hI=function(t,e){return t===e?0:t<e?-1:1},Oo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ct(e))},Tm=function(t){if(typeof t!="object"||t===null)return Ct(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ct(e[r]),n+=":",n+=Tm(t[e[r]]);return n+="}",n},xT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function Dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const AT=function(t){ne(!Em(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,u,c,f,p;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=f+r,c=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(p=n;p;p-=1)h.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)h.push(u%2?1:0),u=Math.floor(u/2);h.push(o?1:0),h.reverse();const g=h.join("");let y="";for(p=0;p<64;p+=8){let v=parseInt(g.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},dI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const gI=new RegExp("^-?(0*)\\d{1,10}$"),yI=-2147483648,vI=2147483647,bb=function(t){if(gI.test(t)){const e=Number(t);if(e>=yI&&e<=vI)return e}return null},Ta=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},_I=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ho=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class oc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="5",RT="v",NT="s",OT="r",DT="f",MT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IT="ls",kT="p",yp="ac",LT="websocket",PT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,o,u=!1,c="",f=!1,p=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function EI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function jT(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===LT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===PT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EI(t)&&(n.ns=t.namespace);const o=[];return Dt(n,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.counters_={}}incrementCounter(e,n=1){Kn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return uN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={},Vd={};function Cm(t){const e=t.toString();return jd[e]||(jd[e]=new TI),jd[e]}function wI(t,e){const n=t.toString();return Vd[n]||(Vd[n]=e()),Vd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ta(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="start",xI="close",AI="pLPCommand",RI="pRTLPCB",VT="id",BT="pw",zT="ser",NI="cb",OI="seg",DI="ts",MI="d",II="dframe",HT=1870,FT=30,kI=HT-FT,LI=25e3,PI=3e4;class Wr{constructor(e,n,r,o,u,c,f){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(e),this.stats_=Cm(n),this.urlFn=p=>(this.appCheckToken&&(p[yp]=this.appCheckToken),jT(n,PT,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(PI)),fI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xm((...u)=>{const[c,f,p,h,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Sb)this.id=f,this.password=p;else if(c===xI)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,f]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,f)},()=>{this.onClosed_()},this.urlFn);const r={};r[Sb]="t",r[zT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RT]=wm,this.transportSessionId&&(r[NT]=this.transportSessionId),this.lastSessionId&&(r[IT]=this.lastSessionId),this.applicationId&&(r[kT]=this.applicationId),this.appCheckToken&&(r[yp]=this.appCheckToken),typeof location<"u"&&location.hostname&&MT.test(location.hostname)&&(r[OT]=DT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wr.forceAllow_=!0}static forceDisallow(){Wr.forceDisallow_=!0}static isAvailable(){return Wr.forceAllow_?!0:!Wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dI()&&!pI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=DE(n),o=xT(r,kI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[II]="t",r[VT]=e,r[BT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ct(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xm{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lI(),window[AI+this.uniqueCallbackIdentifier]=e,window[RI+this.uniqueCallbackIdentifier]=n,this.myIFrame=xm.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(f){Ot("frame writing exception"),f.stack&&Ot(f.stack),Ot(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ot("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VT]=this.myID,e[BT]=this.myPW,e[zT]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FT+r.length<=HT;){const c=this.pendingSegs.shift();r=r+"&"+OI+o+"="+c.seg+"&"+DI+o+"="+c.ts+"&"+MI+o+"="+c.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(LI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=16384,jI=45e3;let Tc=null;typeof MozWebSocket<"u"?Tc=MozWebSocket:typeof WebSocket<"u"&&(Tc=WebSocket);class Nn{constructor(e,n,r,o,u,c,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=Cm(n),this.connURL=Nn.connectionURL_(n,c,f,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,u){const c={};return c[RT]=wm,typeof location<"u"&&location.hostname&&MT.test(location.hostname)&&(c[OT]=DT),n&&(c[NT]=n),r&&(c[IT]=r),o&&(c[yp]=o),u&&(c[kT]=u),jT(e,LT,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hs.set("previous_websocket_failure",!0);try{let r;bN(),this.mySock=new Tc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Tc!==null&&!Nn.forceDisallow_}static previouslyFailed(){return Hs.isInMemoryStorage||Hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=xT(n,UI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static get ALL_TRANSPORTS(){return[Wr,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Nn&&Nn.isAvailable();let r=n&&!Nn.previouslyFailed();if(e.webSocketOnly&&(n||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nn];else{const o=this.transports_=[];for(const u of nl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);nl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=6e4,BI=5e3,zI=10*1024,HI=100*1024,Bd="t",Eb="d",FI="s",Tb="r",GI="e",wb="o",Cb="a",xb="n",Ab="p",qI="h";class YI{constructor(e,n,r,o,u,c,f,p,h,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=f,this.onDisconnect_=p,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new nl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ho(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bd in e){const n=e[Bd];n===Cb?this.upgradeIfSecondaryHealthy_():n===Tb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Oo("t",e),r=Oo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ab,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Cb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Oo("t",e),r=Oo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Oo(Bd,e);if(Eb in e){const r=e[Eb];if(n===qI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===xb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===FI?this.onConnectionShutdown_(r):n===Tb?this.onReset_(r):n===GI?gp("Server Error: "+r):n===wb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wm!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ho(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ho(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ab,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends qT{static getInstance(){return new wc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=32,Nb=768;class qe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ue(){return new qe("")}function Ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ls(t){return t.pieces_.length-t.pieceNum_}function Qe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new qe(t.pieces_,e)}function Am(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function KI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function il(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function YT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qe(e,0)}function lt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof qe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new qe(n,0)}function De(t){return t.pieceNum_>=t.pieces_.length}function Wt(t,e){const n=Ce(t),r=Ce(e);if(n===null)return e;if(n===r)return Wt(Qe(t),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function WI(t,e){const n=il(t,0),r=il(e,0);for(let o=0;o<n.length&&o<r.length;o++){const u=tr(n[o],r[o]);if(u!==0)return u}return n.length===r.length?0:n.length<r.length?-1:1}function Rm(t,e){if(ls(t)!==ls(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ls(t)>ls(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class XI{constructor(e,n){this.errorPrefix_=n,this.parts_=il(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qc(this.parts_[r]);KT(this)}}function QI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qc(e),KT(t)}function $I(t){const e=t.parts_.pop();t.byteLength_-=qc(e),t.parts_.length>0&&(t.byteLength_-=1)}function KT(t){if(t.byteLength_>Nb)throw new Error(t.errorPrefix_+"has a key path longer than "+Nb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Rb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rb+") or object contains a cycle "+js(t))}function js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends qT{static getInstance(){return new Nm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=1e3,ZI=60*5*1e3,Ob=30*1e3,JI=1.3,ek=3e4,tk="server_kill",Db=3;class yi extends GT{constructor(e,n,r,o,u,c,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=yi.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Do,this.maxReconnectDelay_=ZI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(Ct(u)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new _l,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const f=c.d;c.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(c).set(u,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,f=>{const p=f.d,h=f.s;yi.warnOnListenWarnings_(p,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),h!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(h,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kn(e,"w")){const r=aa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||AN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ob)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,u){this.initConnection_();const c={p:n,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ct(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):gp("Unrecognized action received from server: "+Ct(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ek&&(this.reconnectDelay_=Do),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+yi.nextConnectionId_++,u=this.lastSessionId;let c=!1,f=null;const p=function(){f?f.close():(c=!0,r())},h=function(y){ne(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:p,sendRequest:h};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Ot("getToken() completed but was canceled"):(Ot("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,f=new YI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Vt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(tk)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Vt(y),p())}}}interrupt(e){Ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ap(this.interruptReasons_)&&(this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>Tm(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new qe(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){Ot("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Db&&(this.reconnectDelay_=Ob,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ot("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Db&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+TT.replace(/\./g,"-")]=1,om()?e["framework.cordova"]=1:PE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wc.getInstance().currentlyOnline();return ap(this.interruptReasons_)&&e}}yi.nextPersistentConnectionId_=0;yi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new xe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new xe(la,e),o=new xe(la,n);return this.compare(r,o)!==0}minPost(){return xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;class WT extends Xc{static get __EMPTY_NODE(){return Wu}static set __EMPTY_NODE(e){Wu=e}compare(e,n){return tr(e.name,n.name)}isDefinedOn(e){throw _a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return xe.MIN}maxPost(){return new xe($s,Wu)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,Wu)}toString(){return".key"}}const sa=new WT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=o??Xt.EMPTY_NODE,this.right=u??Xt.EMPTY_NODE}copy(e,n,r,o,u){return new Tt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Xt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Tt.RED=!0;Tt.BLACK=!1;class nk{copy(e,n,r,o,u){return this}insert(e,n,r){return new Tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xt{constructor(e,n=Xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xu(this.root_,null,this.comparator_,!0,e)}}Xt.EMPTY_NODE=new nk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){return tr(t.name,e.name)}function Om(t,e){return tr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp;function sk(t){vp=t}const XT=function(t){return typeof t=="number"?"number:"+AT(t):"string:"+t},QT=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kn(e,".sv"),"Priority must be a string or number.")}else ne(t===vp||t.isEmpty(),"priority of unexpected type.");ne(t===vp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mb;class Et{static set __childrenNodeConstructor(e){Mb=e}static get __childrenNodeConstructor(){return Mb}constructor(e,n=Et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return De(e)?this:Ce(e)===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ce(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||ls(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+XT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=AT(this.value_):e+=this.value_,this.lazyHash_=CT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Et.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=Et.VALUE_TYPE_ORDER.indexOf(n),u=Et.VALUE_TYPE_ORDER.indexOf(r);return ne(o>=0,"Unknown leaf type: "+n),ne(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $T,ZT;function rk(t){$T=t}function ak(t){ZT=t}class ok extends Xc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),u=r.compareTo(o);return u===0?tr(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe($s,new Et("[PRIORITY-POST]",ZT))}makePost(e,n){const r=$T(e);return new xe(n,new Et("[PRIORITY-POST]",r))}toString(){return".priority"}}const ut=new ok;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=Math.log(2);class uk{constructor(e){const n=u=>parseInt(Math.log(u)/lk,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cc=function(t,e,n,r){t.sort(e);const o=function(p,h){const g=h-p;let y,v;if(g===0)return null;if(g===1)return y=t[p],v=n?n(y):y,new Tt(v,y.node,Tt.BLACK,null,null);{const _=parseInt(g/2,10)+p,S=o(p,_),w=o(_+1,h);return y=t[_],v=n?n(y):y,new Tt(v,y.node,Tt.BLACK,S,w)}},u=function(p){let h=null,g=null,y=t.length;const v=function(S,w){const C=y-S,x=y;y-=S;const M=o(C+1,x),N=t[C],q=n?n(N):N;_(new Tt(q,N.node,w,null,M))},_=function(S){h?(h.left=S,h=S):(g=S,h=S)};for(let S=0;S<p.count;++S){const w=p.nextBitIsOne(),C=Math.pow(2,p.count-(S+1));w?v(C,Tt.BLACK):(v(C,Tt.BLACK),v(C,Tt.RED))}return g},c=new uk(t.length),f=u(c);return new Xt(r||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;const Yr={};class pi{static get Default(){return ne(Yr&&ut,"ChildrenNode.ts has not been loaded"),zd=zd||new pi({".priority":Yr},{".priority":ut}),zd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=aa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xt?n:null}hasIndex(e){return Kn(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=n.getIterator(xe.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let f;o?f=Cc(r,e.getCompare()):f=Yr;const p=e.toString(),h=Object.assign({},this.indexSet_);h[p]=e;const g=Object.assign({},this.indexes_);return g[p]=f,new pi(g,h)}addToIndexes(e,n){const r=mc(this.indexes_,(o,u)=>{const c=aa(this.indexSet_,u);if(ne(c,"Missing index implementation for "+u),o===Yr)if(c.isDefinedOn(e.node)){const f=[],p=n.getIterator(xe.Wrap);let h=p.getNext();for(;h;)h.name!==e.name&&f.push(h),h=p.getNext();return f.push(e),Cc(f,c.getCompare())}else return Yr;else{const f=n.get(e.name);let p=o;return f&&(p=p.remove(new xe(e.name,f))),p.insert(e,e.node)}});return new pi(r,this.indexSet_)}removeFromIndexes(e,n){const r=mc(this.indexes_,o=>{if(o===Yr)return o;{const u=n.get(e.name);return u?o.remove(new xe(e.name,u)):o}});return new pi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class ge{static get EMPTY_NODE(){return Mo||(Mo=new ge(new Xt(Om),null,pi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QT(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mo}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Mo:n}}getChild(e){const n=Ce(e);return n===null?this:this.getImmediateChild(n).getChild(Qe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new xe(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?Mo:this.priorityNode_;return new ge(o,c,u)}}updateChild(e,n){const r=Ce(e);if(r===null)return n;{ne(Ce(e)!==".priority"||ls(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Qe(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,u=!0;if(this.forEachChild(ut,(c,f)=>{n[c]=f.val(e),r++,u&&ge.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const f in n)c[f]=n[f];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+XT(this.getPriority().val())+":"),this.forEachChild(ut,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":CT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new xe(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new xe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new xe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,xe.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Al?-1:0}withIndex(e){if(e===sa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===sa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ut),o=n.getIterator(ut);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===sa?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ck extends ge{constructor(){super(new Xt(Om),ge.EMPTY_NODE,pi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const Al=new ck;Object.defineProperties(xe,{MIN:{value:new xe(la,ge.EMPTY_NODE)},MAX:{value:new xe($s,Al)}});WT.__EMPTY_NODE=ge.EMPTY_NODE;Et.__childrenNodeConstructor=ge;sk(Al);ak(Al);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=!0;function wt(t,e=null){if(t===null)return ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Et(n,wt(e))}if(!(t instanceof Array)&&fk){const n=[];let r=!1;if(Dt(t,(c,f)=>{if(c.substring(0,1)!=="."){const p=wt(f);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),n.push(new xe(c,p)))}}),n.length===0)return ge.EMPTY_NODE;const u=Cc(n,ik,c=>c.name,Om);if(r){const c=Cc(n,ut.getCompare());return new ge(u,wt(e),new pi({".priority":c},{".priority":ut}))}else return new ge(u,wt(e),pi.Default)}else{let n=ge.EMPTY_NODE;return Dt(t,(r,o)=>{if(Kn(t,r)&&r.substring(0,1)!=="."){const u=wt(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(wt(e))}}rk(wt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends Xc{constructor(e){super(),this.indexPath_=e,ne(!De(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),u=r.compareTo(o);return u===0?tr(e.name,n.name):u}makePost(e,n){const r=wt(e),o=ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new xe(n,o)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,Al);return new xe($s,e)}toString(){return il(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends Xc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?tr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,n){const r=wt(e);return new xe(n,r)}toString(){return".value"}}const pk=new dk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return{type:"value",snapshotNode:t}}function ua(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function mk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.index_=e}updateChild(e,n,r,o,u,c){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(o).equals(r.getChild(o))&&f.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(sl(n,f)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?c.trackChildChange(ua(n,r)):c.trackChildChange(rl(n,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ut,(o,u)=>{n.hasChild(o)||r.trackChildChange(sl(o,u))}),n.isLeafNode()||n.forEachChild(ut,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(rl(o,u,c))}else r.trackChildChange(ua(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.indexedFilter_=new Dm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=al.getStartPost_(e),this.endPost_=al.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,u,c){return this.matches(new xe(n,r))||(r=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,u,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ge.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ge.EMPTY_NODE);const u=this;return n.forEachChild(ut,(c,f)=>{u.matches(new xe(c,f))||(o=o.updateImmediateChild(c,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new al(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,u,c){return this.rangedFilter_.matches(new xe(n,r))||(r=ge.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,u,c):this.fullLimitUpdateChild_(e,n,r,u,c)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ge.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const f=u.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ge.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const f=u.getNext();c<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?c++:o=o.updateImmediateChild(f.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,_)=>y(_,v)}else c=this.index_.getCompare();const f=e;ne(f.numChildren()===this.limit_,"");const p=new xe(n,r),h=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),g=this.rangedFilter_.matches(p);if(f.hasChild(n)){const y=f.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||f.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const _=v==null?1:c(v,p);if(g&&!r.isEmpty()&&_>=0)return u!=null&&u.trackChildChange(rl(n,r,y)),f.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(sl(n,y));const w=f.updateImmediateChild(n,ge.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(ua(v.name,v.node)),w.updateImmediateChild(v.name,v.node)):w}}else return r.isEmpty()?e:g&&c(h,p)>=0?(u!=null&&(u.trackChildChange(sl(h.name,h.node)),u.trackChildChange(ua(n,r))),f.updateImmediateChild(n,r).updateImmediateChild(h.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:la}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$s}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ut}copy(){const e=new Mm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yk(t){return t.loadsAllData()?new Dm(t.getIndex()):t.hasLimit()?new gk(t):new al(t)}function Ib(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ut?n="$priority":t.index_===pk?n="$value":t.index_===sa?n="$key":(ne(t.index_ instanceof hk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ct(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ct(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ct(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ct(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ct(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ut&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends GT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=xl("p:rest:"),this.listens_={}}listen(e,n,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=xc.getListenId_(e,r),f={};this.listens_[c]=f;const p=Ib(e._queryParams);this.restRequest_(u+".json",p,(h,g)=>{let y=g;if(h===404&&(y=null,h=null),h===null&&this.onDataUpdate_(u,y,!1,r),aa(this.listens_,c)===f){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",o(v,null)}})}unlisten(e,n){const r=xc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ib(e._queryParams),r=e._path.toString(),o=new _l;return this.restRequest_(r+".json",n,(u,c)=>{let f=c;u===404&&(f=null,u=null),u===null?(this.onDataUpdate_(r,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ba(n);this.log_("Sending REST request for "+c);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&f.readyState===4){this.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=Zo(f.responseText)}catch{Vt("Failed to parse JSON response for "+c+": "+f.responseText)}r(null,p)}else f.status!==401&&f.status!==404&&Vt("Got unsuccessful REST response for "+c+" Status: "+f.status),r(f.status);r=null}},f.open("GET",c,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(){return{value:null,children:new Map}}function ew(t,e,n){if(De(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ce(e);t.children.has(r)||t.children.set(r,Ac());const o=t.children.get(r);e=Qe(e),ew(o,e,n)}}function _p(t,e,n){t.value!==null?n(e,t.value):_k(t,(r,o)=>{const u=new qe(e.toString()+"/"+r);_p(o,u,n)})}function _k(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Dt(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=10*1e3,Sk=30*1e3,Ek=5*60*1e3;class Tk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bk(e);const r=Lb+(Sk-Lb)*Math.random();Ho(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Dt(e,(o,u)=>{u>0&&Kn(this.statsToReport_,o)&&(n[o]=u,r=!0)}),r&&this.server_.reportStats(n),Ho(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ek))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Dn||(Dn={}));function Im(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function km(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Dn.ACK_USER_WRITE,this.source=Im()}operationForChild(e){if(De(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new qe(e));return new Rc(Ue(),n,this.revert)}}else return ne(Ce(this.path)===e,"operationForChild called for unrelated child."),new Rc(Qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.source=e,this.path=n,this.type=Dn.LISTEN_COMPLETE}operationForChild(e){return De(this.path)?new ol(this.source,Ue()):new ol(this.source,Qe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Dn.OVERWRITE}operationForChild(e){return De(this.path)?new Zs(this.source,Ue(),this.snap.getImmediateChild(e)):new Zs(this.source,Qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Dn.MERGE}operationForChild(e){if(De(this.path)){const n=this.children.subtree(new qe(e));return n.isEmpty()?null:n.value?new Zs(this.source,Ue(),n.value):new ca(this.source,Ue(),n)}else return ne(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ca(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(De(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ck(t,e,n,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(mk(c.childName,c.snapshotNode))}),Io(t,o,"child_removed",e,r,n),Io(t,o,"child_added",e,r,n),Io(t,o,"child_moved",u,r,n),Io(t,o,"child_changed",e,r,n),Io(t,o,"value",e,r,n),o}function Io(t,e,n,r,o,u){const c=r.filter(f=>f.type===n);c.sort((f,p)=>Ak(t,f,p)),c.forEach(f=>{const p=xk(t,f,u);o.forEach(h=>{h.respondsTo(f.type)&&e.push(h.createEvent(p,t.query_))})})}function xk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ak(t,e,n){if(e.childName==null||n.childName==null)throw _a("Should only compare child_ events.");const r=new xe(e.childName,e.snapshotNode),o=new xe(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e){return{eventCache:t,serverCache:e}}function Fo(t,e,n,r){return Qc(new Js(e,n,r),t.serverCache)}function tw(t,e,n,r){return Qc(t.eventCache,new Js(e,n,r))}function bp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd;const Rk=()=>(Hd||(Hd=new Xt(hI)),Hd);class Xe{static fromObject(e){let n=new Xe(null);return Dt(e,(r,o)=>{n=n.set(new qe(r),o)}),n}constructor(e,n=Rk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ue(),value:this.value};if(De(e))return null;{const r=Ce(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Qe(e),n);return u!=null?{path:lt(new qe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(De(e))return this;{const n=Ce(e),r=this.children.get(n);return r!==null?r.subtree(Qe(e)):new Xe(null)}}set(e,n){if(De(e))return new Xe(n,this.children);{const r=Ce(e),u=(this.children.get(r)||new Xe(null)).set(Qe(e),n),c=this.children.insert(r,u);return new Xe(this.value,c)}}remove(e){if(De(e))return this.children.isEmpty()?new Xe(null):new Xe(null,this.children);{const n=Ce(e),r=this.children.get(n);if(r){const o=r.remove(Qe(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new Xe(null):new Xe(this.value,u)}else return this}}get(e){if(De(e))return this.value;{const n=Ce(e),r=this.children.get(n);return r?r.get(Qe(e)):null}}setTree(e,n){if(De(e))return n;{const r=Ce(e),u=(this.children.get(r)||new Xe(null)).setTree(Qe(e),n);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new Xe(this.value,c)}}fold(e){return this.fold_(Ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(lt(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ue(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(De(e))return null;{const u=Ce(e),c=this.children.get(u);return c?c.findOnPath_(Qe(e),lt(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ue(),n)}foreachOnPath_(e,n,r){if(De(e))return this;{this.value&&r(n,this.value);const o=Ce(e),u=this.children.get(o);return u?u.foreachOnPath_(Qe(e),lt(n,o),r):new Xe(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(lt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.writeTree_=e}static empty(){return new In(new Xe(null))}}function Go(t,e,n){if(De(e))return new In(new Xe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Wt(o,e);return u=u.updateChild(c,n),new In(t.writeTree_.set(o,u))}else{const o=new Xe(n),u=t.writeTree_.setTree(e,o);return new In(u)}}}function Sp(t,e,n){let r=t;return Dt(n,(o,u)=>{r=Go(r,lt(e,o),u)}),r}function Pb(t,e){if(De(e))return In.empty();{const n=t.writeTree_.setTree(e,new Xe(null));return new In(n)}}function Ep(t,e){return nr(t,e)!=null}function nr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Wt(n.path,e)):null}function Ub(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ut,(r,o)=>{e.push(new xe(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new xe(r,o.value))}),e}function os(t,e){if(De(e))return t;{const n=nr(t,e);return n!=null?new In(new Xe(n)):new In(t.writeTree_.subtree(e))}}function Tp(t){return t.writeTree_.isEmpty()}function fa(t,e){return nw(Ue(),t.writeTree_,e)}function nw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(ne(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=nw(lt(t,o),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(lt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){return aw(e,t)}function Nk(t,e,n,r,o){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Go(t.visibleWrites,e,n)),t.lastWriteId=r}function Ok(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Sp(t.visibleWrites,e,n),t.lastWriteId=r}function Dk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Mk(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const f=t.allWrites[c];f.visible&&(c>=n&&Ik(f,r.path)?o=!1:Sn(r.path,f.path)&&(u=!0)),c--}if(o){if(u)return kk(t),!0;if(r.snap)t.visibleWrites=Pb(t.visibleWrites,r.path);else{const f=r.children;Dt(f,p=>{t.visibleWrites=Pb(t.visibleWrites,lt(r.path,p))})}return!0}else return!1}function Ik(t,e){if(t.snap)return Sn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sn(lt(t.path,n),e))return!0;return!1}function kk(t){t.visibleWrites=iw(t.allWrites,Lk,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Lk(t){return t.visible}function iw(t,e,n){let r=In.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let f;if(u.snap)Sn(n,c)?(f=Wt(n,c),r=Go(r,f,u.snap)):Sn(c,n)&&(f=Wt(c,n),r=Go(r,Ue(),u.snap.getChild(f)));else if(u.children){if(Sn(n,c))f=Wt(n,c),r=Sp(r,f,u.children);else if(Sn(c,n))if(f=Wt(c,n),De(f))r=Sp(r,Ue(),u.children);else{const p=aa(u.children,Ce(f));if(p){const h=p.getChild(Qe(f));r=Go(r,Ue(),h)}}}else throw _a("WriteRecord should have .snap or .children")}}return r}function sw(t,e,n,r,o){if(!r&&!o){const u=nr(t.visibleWrites,e);if(u!=null)return u;{const c=os(t.visibleWrites,e);if(Tp(c))return n;if(n==null&&!Ep(c,Ue()))return null;{const f=n||ge.EMPTY_NODE;return fa(c,f)}}}else{const u=os(t.visibleWrites,e);if(!o&&Tp(u))return n;if(!o&&n==null&&!Ep(u,Ue()))return null;{const c=function(h){return(h.visible||o)&&(!r||!~r.indexOf(h.writeId))&&(Sn(h.path,e)||Sn(e,h.path))},f=iw(t.allWrites,c,e),p=n||ge.EMPTY_NODE;return fa(f,p)}}}function Pk(t,e,n){let r=ge.EMPTY_NODE;const o=nr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ut,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(n){const u=os(t.visibleWrites,e);return n.forEachChild(ut,(c,f)=>{const p=fa(os(u,new qe(c)),f);r=r.updateImmediateChild(c,p)}),Ub(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=os(t.visibleWrites,e);return Ub(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Uk(t,e,n,r,o){ne(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=lt(e,n);if(Ep(t.visibleWrites,u))return null;{const c=os(t.visibleWrites,u);return Tp(c)?o.getChild(n):fa(c,o.getChild(n))}}function jk(t,e,n,r){const o=lt(e,n),u=nr(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(n)){const c=os(t.visibleWrites,o);return fa(c,r.getNode().getImmediateChild(n))}else return null}function Vk(t,e){return nr(t.visibleWrites,e)}function Bk(t,e,n,r,o,u,c){let f;const p=os(t.visibleWrites,e),h=nr(p,Ue());if(h!=null)f=h;else if(n!=null)f=fa(p,n);else return[];if(f=f.withIndex(c),!f.isEmpty()&&!f.isLeafNode()){const g=[],y=c.getCompare(),v=u?f.getReverseIteratorFrom(r,c):f.getIteratorFrom(r,c);let _=v.getNext();for(;_&&g.length<o;)y(_,r)!==0&&g.push(_),_=v.getNext();return g}else return[]}function zk(){return{visibleWrites:In.empty(),allWrites:[],lastWriteId:-1}}function Nc(t,e,n,r){return sw(t.writeTree,t.treePath,e,n,r)}function Um(t,e){return Pk(t.writeTree,t.treePath,e)}function jb(t,e,n,r){return Uk(t.writeTree,t.treePath,e,n,r)}function Oc(t,e){return Vk(t.writeTree,lt(t.treePath,e))}function Hk(t,e,n,r,o,u){return Bk(t.writeTree,t.treePath,e,n,r,o,u)}function jm(t,e,n){return jk(t.writeTree,t.treePath,e,n)}function rw(t,e){return aw(lt(t.treePath,e),t.writeTree)}function aw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,rl(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,sl(r,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,ua(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,rl(r,e.snapshotNode,o.oldSnap));else throw _a("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ow=new Gk;class Vm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Js(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:er(this.viewCache_),u=Hk(this.writes_,o,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){return{filter:t}}function Yk(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Kk(t,e,n,r,o){const u=new Fk;let c,f;if(n.type===Dn.OVERWRITE){const h=n;h.source.fromUser?c=wp(t,e,h.path,h.snap,r,o,u):(ne(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered()&&!De(h.path),c=Dc(t,e,h.path,h.snap,r,o,f,u))}else if(n.type===Dn.MERGE){const h=n;h.source.fromUser?c=Xk(t,e,h.path,h.children,r,o,u):(ne(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered(),c=Cp(t,e,h.path,h.children,r,o,f,u))}else if(n.type===Dn.ACK_USER_WRITE){const h=n;h.revert?c=Zk(t,e,h.path,r,o,u):c=Qk(t,e,h.path,h.affectedTree,r,o,u)}else if(n.type===Dn.LISTEN_COMPLETE)c=$k(t,e,n.path,r,u);else throw _a("Unknown operation type: "+n.type);const p=u.getChanges();return Wk(e,c,p),{viewCache:c,changes:p}}function Wk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=bp(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(JT(bp(e)))}}function lw(t,e,n,r,o,u){const c=e.eventCache;if(Oc(r,n)!=null)return e;{let f,p;if(De(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=er(e),g=h instanceof ge?h:ge.EMPTY_NODE,y=Um(r,g);f=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const h=Nc(r,er(e));f=t.filter.updateFullNode(e.eventCache.getNode(),h,u)}else{const h=Ce(n);if(h===".priority"){ne(ls(n)===1,"Can't have a priority with additional path components");const g=c.getNode();p=e.serverCache.getNode();const y=jb(r,n,g,p);y!=null?f=t.filter.updatePriority(g,y):f=c.getNode()}else{const g=Qe(n);let y;if(c.isCompleteForChild(h)){p=e.serverCache.getNode();const v=jb(r,n,c.getNode(),p);v!=null?y=c.getNode().getImmediateChild(h).updateChild(g,v):y=c.getNode().getImmediateChild(h)}else y=jm(r,h,e.serverCache);y!=null?f=t.filter.updateChild(c.getNode(),h,y,g,o,u):f=c.getNode()}}return Fo(e,f,c.isFullyInitialized()||De(n),t.filter.filtersNodes())}}function Dc(t,e,n,r,o,u,c,f){const p=e.serverCache;let h;const g=c?t.filter:t.filter.getIndexedFilter();if(De(n))h=g.updateFullNode(p.getNode(),r,null);else if(g.filtersNodes()&&!p.isFiltered()){const _=p.getNode().updateChild(n,r);h=g.updateFullNode(p.getNode(),_,null)}else{const _=Ce(n);if(!p.isCompleteForPath(n)&&ls(n)>1)return e;const S=Qe(n),C=p.getNode().getImmediateChild(_).updateChild(S,r);_===".priority"?h=g.updatePriority(p.getNode(),C):h=g.updateChild(p.getNode(),_,C,S,ow,null)}const y=tw(e,h,p.isFullyInitialized()||De(n),g.filtersNodes()),v=new Vm(o,y,u);return lw(t,y,n,o,v,f)}function wp(t,e,n,r,o,u,c){const f=e.eventCache;let p,h;const g=new Vm(o,e,u);if(De(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,c),p=Fo(e,h,!0,t.filter.filtersNodes());else{const y=Ce(n);if(y===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),p=Fo(e,h,f.isFullyInitialized(),f.isFiltered());else{const v=Qe(n),_=f.getNode().getImmediateChild(y);let S;if(De(v))S=r;else{const w=g.getCompleteChild(y);w!=null?Am(v)===".priority"&&w.getChild(YT(v)).isEmpty()?S=w:S=w.updateChild(v,r):S=ge.EMPTY_NODE}if(_.equals(S))p=e;else{const w=t.filter.updateChild(f.getNode(),y,S,v,g,c);p=Fo(e,w,f.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function Vb(t,e){return t.eventCache.isCompleteForChild(e)}function Xk(t,e,n,r,o,u,c){let f=e;return r.foreach((p,h)=>{const g=lt(n,p);Vb(e,Ce(g))&&(f=wp(t,f,g,h,o,u,c))}),r.foreach((p,h)=>{const g=lt(n,p);Vb(e,Ce(g))||(f=wp(t,f,g,h,o,u,c))}),f}function Bb(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Cp(t,e,n,r,o,u,c,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,h;De(n)?h=r:h=new Xe(null).setTree(n,r);const g=e.serverCache.getNode();return h.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const _=e.serverCache.getNode().getImmediateChild(y),S=Bb(t,_,v);p=Dc(t,p,new qe(y),S,o,u,c,f)}}),h.children.inorderTraversal((y,v)=>{const _=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!_){const S=e.serverCache.getNode().getImmediateChild(y),w=Bb(t,S,v);p=Dc(t,p,new qe(y),w,o,u,c,f)}}),p}function Qk(t,e,n,r,o,u,c){if(Oc(o,n)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(De(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return Dc(t,e,n,p.getNode().getChild(n),o,u,f,c);if(De(n)){let h=new Xe(null);return p.getNode().forEachChild(sa,(g,y)=>{h=h.set(new qe(g),y)}),Cp(t,e,n,h,o,u,f,c)}else return e}else{let h=new Xe(null);return r.foreach((g,y)=>{const v=lt(n,g);p.isCompleteForPath(v)&&(h=h.set(g,p.getNode().getChild(v)))}),Cp(t,e,n,h,o,u,f,c)}}function $k(t,e,n,r,o){const u=e.serverCache,c=tw(e,u.getNode(),u.isFullyInitialized()||De(n),u.isFiltered());return lw(t,c,n,r,ow,o)}function Zk(t,e,n,r,o,u){let c;if(Oc(r,n)!=null)return e;{const f=new Vm(r,e,o),p=e.eventCache.getNode();let h;if(De(n)||Ce(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Nc(r,er(e));else{const y=e.serverCache.getNode();ne(y instanceof ge,"serverChildren would be complete if leaf node"),g=Um(r,y)}g=g,h=t.filter.updateFullNode(p,g,u)}else{const g=Ce(n);let y=jm(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=p.getImmediateChild(g)),y!=null?h=t.filter.updateChild(p,g,y,Qe(n),f,u):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(p,g,ge.EMPTY_NODE,Qe(n),f,u):h=p,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Nc(r,er(e)),c.isLeafNode()&&(h=t.filter.updateFullNode(h,c,u)))}return c=e.serverCache.isFullyInitialized()||Oc(r,Ue())!=null,Fo(e,h,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Dm(r.getIndex()),u=yk(r);this.processor_=qk(u);const c=n.serverCache,f=n.eventCache,p=o.updateFullNode(ge.EMPTY_NODE,c.getNode(),null),h=u.updateFullNode(ge.EMPTY_NODE,f.getNode(),null),g=new Js(p,c.isFullyInitialized(),o.filtersNodes()),y=new Js(h,f.isFullyInitialized(),u.filtersNodes());this.viewCache_=Qc(y,g),this.eventGenerator_=new wk(this.query_)}get query(){return this.query_}}function e2(t){return t.viewCache_.serverCache.getNode()}function t2(t,e){const n=er(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!De(e)&&!n.getImmediateChild(Ce(e)).isEmpty())?n.getChild(e):null}function zb(t){return t.eventRegistrations_.length===0}function n2(t,e){t.eventRegistrations_.push(e)}function Hb(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Fb(t,e,n,r){e.type===Dn.MERGE&&e.source.queryId!==null&&(ne(er(t.viewCache_),"We should always have a full cache before handling merges"),ne(bp(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=Kk(t.processor_,o,e,n,r);return Yk(t.processor_,u.viewCache),ne(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,uw(t,u.changes,u.viewCache.eventCache.getNode(),null)}function i2(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(u,c)=>{r.push(ua(u,c))}),n.isFullyInitialized()&&r.push(JT(n.getNode())),uw(t,r,n.getNode(),e)}function uw(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return Ck(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;class s2{constructor(){this.views=new Map}}function r2(t){ne(!Mc,"__referenceConstructor has already been defined"),Mc=t}function a2(){return ne(Mc,"Reference.ts has not been loaded"),Mc}function o2(t){return t.views.size===0}function Bm(t,e,n,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return ne(u!=null,"SyncTree gave us an op for an invalid query."),Fb(u,e,n,r)}else{let u=[];for(const c of t.views.values())u=u.concat(Fb(c,e,n,r));return u}}function l2(t,e,n,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let f=Nc(n,o?r:null),p=!1;f?p=!0:r instanceof ge?(f=Um(n,r),p=!1):(f=ge.EMPTY_NODE,p=!1);const h=Qc(new Js(f,p,!1),new Js(r,o,!1));return new Jk(e,h)}return c}function u2(t,e,n,r,o,u){const c=l2(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),n2(c,n),i2(c,n)}function c2(t,e,n,r){const o=e._queryIdentifier,u=[];let c=[];const f=us(t);if(o==="default")for(const[p,h]of t.views.entries())c=c.concat(Hb(h,n,r)),zb(h)&&(t.views.delete(p),h.query._queryParams.loadsAllData()||u.push(h.query));else{const p=t.views.get(o);p&&(c=c.concat(Hb(p,n,r)),zb(p)&&(t.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return f&&!us(t)&&u.push(new(a2())(e._repo,e._path)),{removed:u,events:c}}function cw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ra(t,e){let n=null;for(const r of t.views.values())n=n||t2(r,e);return n}function fw(t,e){if(e._queryParams.loadsAllData())return $c(t);{const r=e._queryIdentifier;return t.views.get(r)}}function hw(t,e){return fw(t,e)!=null}function us(t){return $c(t)!=null}function $c(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;function f2(t){ne(!Ic,"__referenceConstructor has already been defined"),Ic=t}function h2(){return ne(Ic,"Reference.ts has not been loaded"),Ic}let d2=1;class Gb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=zk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dw(t,e,n,r,o){return Nk(t.pendingWriteTree_,e,n,r,o),o?wa(t,new Zs(Im(),e,n)):[]}function p2(t,e,n,r){Ok(t.pendingWriteTree_,e,n,r);const o=Xe.fromObject(n);return wa(t,new ca(Im(),e,o))}function is(t,e,n=!1){const r=Dk(t.pendingWriteTree_,e);if(Mk(t.pendingWriteTree_,e)){let u=new Xe(null);return r.snap!=null?u=u.set(Ue(),!0):Dt(r.children,c=>{u=u.set(new qe(c),!0)}),wa(t,new Rc(r.path,u,n))}else return[]}function Zc(t,e,n){return wa(t,new Zs(km(),e,n))}function m2(t,e,n){const r=Xe.fromObject(n);return wa(t,new ca(km(),e,r))}function g2(t,e){return wa(t,new ol(km(),e))}function y2(t,e,n){const r=Hm(t,n);if(r){const o=Fm(r),u=o.path,c=o.queryId,f=Wt(u,e),p=new ol(Lm(c),f);return Gm(t,u,p)}else return[]}function xp(t,e,n,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let f=[];if(c&&(e._queryIdentifier==="default"||hw(c,e))){const p=c2(c,e,n,r);o2(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const h=p.removed;if(f=p.events,!o){const g=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(v,_)=>us(_));if(g&&!y){const v=t.syncPointTree_.subtree(u);if(!v.isEmpty()){const _=b2(v);for(let S=0;S<_.length;++S){const w=_[S],C=w.query,x=gw(t,w);t.listenProvider_.startListening(qo(C),kc(t,C),x.hashFn,x.onComplete)}}}!y&&h.length>0&&!r&&(g?t.listenProvider_.stopListening(qo(e),null):h.forEach(v=>{const _=t.queryToTagMap.get(Jc(v));t.listenProvider_.stopListening(qo(v),_)}))}S2(t,h)}return f}function v2(t,e,n,r){const o=Hm(t,r);if(o!=null){const u=Fm(o),c=u.path,f=u.queryId,p=Wt(c,e),h=new Zs(Lm(f),p,n);return Gm(t,c,h)}else return[]}function _2(t,e,n,r){const o=Hm(t,r);if(o){const u=Fm(o),c=u.path,f=u.queryId,p=Wt(c,e),h=Xe.fromObject(n),g=new ca(Lm(f),p,h);return Gm(t,c,g)}else return[]}function qb(t,e,n,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(v,_)=>{const S=Wt(v,o);u=u||ra(_,S),c=c||us(_)});let f=t.syncPointTree_.get(o);f?(c=c||us(f),u=u||ra(f,Ue())):(f=new s2,t.syncPointTree_=t.syncPointTree_.set(o,f));let p;u!=null?p=!0:(p=!1,u=ge.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((_,S)=>{const w=ra(S,Ue());w&&(u=u.updateImmediateChild(_,w))}));const h=hw(f,e);if(!h&&!e._queryParams.loadsAllData()){const v=Jc(e);ne(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const _=E2();t.queryToTagMap.set(v,_),t.tagToQueryMap.set(_,v)}const g=Pm(t.pendingWriteTree_,o);let y=u2(f,e,n,g,u,p);if(!h&&!c&&!r){const v=fw(f,e);y=y.concat(T2(t,e,v))}return y}function zm(t,e,n){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,f)=>{const p=Wt(c,e),h=ra(f,p);if(h)return h});return sw(o,e,u,n,!0)}function wa(t,e){return pw(e,t.syncPointTree_,null,Pm(t.pendingWriteTree_,Ue()))}function pw(t,e,n,r){if(De(t.path))return mw(t,e,n,r);{const o=e.get(Ue());n==null&&o!=null&&(n=ra(o,Ue()));let u=[];const c=Ce(t.path),f=t.operationForChild(c),p=e.children.get(c);if(p&&f){const h=n?n.getImmediateChild(c):null,g=rw(r,c);u=u.concat(pw(f,p,h,g))}return o&&(u=u.concat(Bm(o,t,r,n))),u}}function mw(t,e,n,r){const o=e.get(Ue());n==null&&o!=null&&(n=ra(o,Ue()));let u=[];return e.children.inorderTraversal((c,f)=>{const p=n?n.getImmediateChild(c):null,h=rw(r,c),g=t.operationForChild(c);g&&(u=u.concat(mw(g,f,p,h)))}),o&&(u=u.concat(Bm(o,t,r,n))),u}function gw(t,e){const n=e.query,r=kc(t,n);return{hashFn:()=>(e2(e)||ge.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?y2(t,n._path,r):g2(t,n._path);{const u=mI(o,n);return xp(t,n,null,u)}}}}function kc(t,e){const n=Jc(e);return t.queryToTagMap.get(n)}function Jc(t){return t._path.toString()+"$"+t._queryIdentifier}function Hm(t,e){return t.tagToQueryMap.get(e)}function Fm(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qe(t.substr(0,e))}}function Gm(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const o=Pm(t.pendingWriteTree_,e);return Bm(r,n,o,null)}function b2(t){return t.fold((e,n,r)=>{if(n&&us(n))return[$c(n)];{let o=[];return n&&(o=cw(n)),Dt(r,(u,c)=>{o=o.concat(c)}),o}})}function qo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(h2())(t._repo,t._path):t}function S2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=Jc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function E2(){return d2++}function T2(t,e,n){const r=e._path,o=kc(t,e),u=gw(t,n),c=t.listenProvider_.startListening(qo(e),o,u.hashFn,u.onComplete),f=t.syncPointTree_.subtree(r);if(o)ne(!us(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((h,g,y)=>{if(!De(h)&&g&&us(g))return[$c(g).query];{let v=[];return g&&(v=v.concat(cw(g).map(_=>_.query))),Dt(y,(_,S)=>{v=v.concat(S)}),v}});for(let h=0;h<p.length;++h){const g=p[h];t.listenProvider_.stopListening(qo(g),kc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new qm(n)}node(){return this.node_}}class Ym{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=lt(this.path_,e);return new Ym(this.syncTree_,n)}node(){return zm(this.syncTree_,this.path_)}}const w2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Yb=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return C2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return x2(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},C2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},x2=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const o=e.node();if(ne(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},yw=function(t,e,n,r){return Km(e,new Ym(n,t),r)},vw=function(t,e,n){return Km(t,new qm(e),n)};function Km(t,e,n){const r=t.getPriority().val(),o=Yb(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,f=Yb(c.getValue(),e,n);return f!==c.getValue()||o!==c.getPriority().val()?new Et(f,wt(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new Et(o))),c.forEachChild(ut,(f,p)=>{const h=Km(p,e.getImmediateChild(f),n);h!==p&&(u=u.updateImmediateChild(f,h))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Xm(t,e){let n=e instanceof qe?e:new qe(e),r=t,o=Ce(n);for(;o!==null;){const u=aa(r.node.children,o)||{children:{},childCount:0};r=new Wm(o,r,u),n=Qe(n),o=Ce(n)}return r}function Ca(t){return t.node.value}function _w(t,e){t.node.value=e,Ap(t)}function bw(t){return t.node.childCount>0}function A2(t){return Ca(t)===void 0&&!bw(t)}function ef(t,e){Dt(t.node.children,(n,r)=>{e(new Wm(n,t,r))})}function Sw(t,e,n,r){n&&e(t),ef(t,o=>{Sw(o,e,!0)})}function R2(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Rl(t){return new qe(t.parent===null?t.name:Rl(t.parent)+"/"+t.name)}function Ap(t){t.parent!==null&&N2(t.parent,t.name,t)}function N2(t,e,n){const r=A2(n),o=Kn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Ap(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Ap(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=/[\[\].#$\/\u0000-\u001F\u007F]/,D2=/[\[\].#$\u0000-\u001F\u007F]/,Fd=10*1024*1024,Qm=function(t){return typeof t=="string"&&t.length!==0&&!O2.test(t)},Ew=function(t){return typeof t=="string"&&t.length!==0&&!D2.test(t)},M2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ew(t)},I2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Em(t)||t&&typeof t=="object"&&Kn(t,".sv")},Tw=function(t,e,n,r){r&&e===void 0||tf(Gc(t,"value"),e,n)},tf=function(t,e,n){const r=n instanceof qe?new XI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+js(r));if(typeof e=="function")throw new Error(t+"contains a function "+js(r)+" with contents = "+e.toString());if(Em(e))throw new Error(t+"contains "+e.toString()+" "+js(r));if(typeof e=="string"&&e.length>Fd/3&&qc(e)>Fd)throw new Error(t+"contains a string greater than "+Fd+" utf8 bytes "+js(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Dt(e,(c,f)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Qm(c)))throw new Error(t+" contains an invalid key ("+c+") "+js(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QI(r,c),tf(t,f,r),$I(r)}),o&&u)throw new Error(t+' contains ".value" child '+js(r)+" in addition to actual children.")}},k2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const u=il(r);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Qm(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(WI);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&Sn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},L2=function(t,e,n,r){const o=Gc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];Dt(e,(c,f)=>{const p=new qe(c);if(tf(o,f,lt(n,p)),Am(p)===".priority"&&!I2(f))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),k2(o,u)},ww=function(t,e,n,r){if(!Ew(n))throw new Error(Gc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},P2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ww(t,e,n)},Cw=function(t,e){if(Ce(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},U2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!M2(n))throw new Error(Gc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nf(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();n!==null&&!Rm(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&t.eventLists_.push(n)}function xw(t,e,n){nf(t,n),Aw(t,r=>Rm(r,e))}function Ln(t,e,n){nf(t,n),Aw(t,r=>Sn(r,e)||Sn(e,r))}function Aw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(V2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function V2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();zo&&Ot("event: "+n.toString()),Ta(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="repo_interrupt",z2=25;class H2{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ac(),this.transactionQueueTree_=new Wm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function F2(t,e,n){if(t.stats_=Cm(t.repoInfo_),t.forceRestClient_||_I())t.server_=new xc(t.repoInfo_,(r,o,u,c)=>{Kb(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Wb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new yi(t.repoInfo_,e,(r,o,u,c)=>{Kb(t,r,o,u,c)},r=>{Wb(t,r)},r=>{G2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=wI(t.repoInfo_,()=>new Tk(t.stats_,t.server_)),t.infoData_=new vk,t.infoSyncTree_=new Gb({startListening:(r,o,u,c)=>{let f=[];const p=t.infoData_.getNode(r._path);return p.isEmpty()||(f=Zc(t.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),f},stopListening:()=>{}}),$m(t,"connected",!1),t.serverSyncTree_=new Gb({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(f,p)=>{const h=c(f,p);Ln(t.eventQueue_,r._path,h)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function Rw(t){const n=t.infoData_.getNode(new qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function sf(t){return w2({timestamp:Rw(t)})}function Kb(t,e,n,r,o){t.dataUpdateCount++;const u=new qe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(r){const p=mc(n,h=>wt(h));c=_2(t.serverSyncTree_,u,p,o)}else{const p=wt(n);c=v2(t.serverSyncTree_,u,p,o)}else if(r){const p=mc(n,h=>wt(h));c=m2(t.serverSyncTree_,u,p)}else{const p=wt(n);c=Zc(t.serverSyncTree_,u,p)}let f=u;c.length>0&&(f=ha(t,u)),Ln(t.eventQueue_,f,c)}function Wb(t,e){$m(t,"connected",e),e===!1&&K2(t)}function G2(t,e){Dt(e,(n,r)=>{$m(t,n,r)})}function $m(t,e,n){const r=new qe("/.info/"+e),o=wt(n);t.infoData_.updateSnapshot(r,o);const u=Zc(t.infoSyncTree_,r,o);Ln(t.eventQueue_,r,u)}function Zm(t){return t.nextWriteId_++}function q2(t,e,n,r,o){rf(t,"set",{path:e.toString(),value:n,priority:r});const u=sf(t),c=wt(n,r),f=zm(t.serverSyncTree_,e),p=vw(c,f,u),h=Zm(t),g=dw(t.serverSyncTree_,e,p,h,!0);nf(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,_)=>{const S=v==="ok";S||Vt("set at "+e+" failed: "+v);const w=is(t.serverSyncTree_,h,!S);Ln(t.eventQueue_,e,w),Rp(t,o,v,_)});const y=eg(t,e);ha(t,y),Ln(t.eventQueue_,y,[])}function Y2(t,e,n,r){rf(t,"update",{path:e.toString(),value:n});let o=!0;const u=sf(t),c={};if(Dt(n,(f,p)=>{o=!1,c[f]=yw(lt(e,f),wt(p),t.serverSyncTree_,u)}),o)Ot("update() called with empty data.  Don't do anything."),Rp(t,r,"ok",void 0);else{const f=Zm(t),p=p2(t.serverSyncTree_,e,c,f);nf(t.eventQueue_,p),t.server_.merge(e.toString(),n,(h,g)=>{const y=h==="ok";y||Vt("update at "+e+" failed: "+h);const v=is(t.serverSyncTree_,f,!y),_=v.length>0?ha(t,e):e;Ln(t.eventQueue_,_,v),Rp(t,r,h,g)}),Dt(n,h=>{const g=eg(t,lt(e,h));ha(t,g)}),Ln(t.eventQueue_,e,[])}}function K2(t){rf(t,"onDisconnectEvents");const e=sf(t),n=Ac();_p(t.onDisconnect_,Ue(),(o,u)=>{const c=yw(o,u,t.serverSyncTree_,e);ew(n,o,c)});let r=[];_p(n,Ue(),(o,u)=>{r=r.concat(Zc(t.serverSyncTree_,o,u));const c=eg(t,o);ha(t,c)}),t.onDisconnect_=Ac(),Ln(t.eventQueue_,Ue(),r)}function W2(t,e,n){let r;Ce(e._path)===".info"?r=qb(t.infoSyncTree_,e,n):r=qb(t.serverSyncTree_,e,n),xw(t.eventQueue_,e._path,r)}function Xb(t,e,n){let r;Ce(e._path)===".info"?r=xp(t.infoSyncTree_,e,n):r=xp(t.serverSyncTree_,e,n),xw(t.eventQueue_,e._path,r)}function X2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(B2)}function rf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ot(n,...e)}function Rp(t,e,n,r){e&&Ta(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function Nw(t,e,n){return zm(t.serverSyncTree_,e,n)||ge.EMPTY_NODE}function Jm(t,e=t.transactionQueueTree_){if(e||af(t,e),Ca(e)){const n=Dw(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&Q2(t,Rl(e),n)}else bw(e)&&ef(e,n=>{Jm(t,n)})}function Q2(t,e,n){const r=n.map(h=>h.currentWriteId),o=Nw(t,e,r);let u=o;const c=o.hash();for(let h=0;h<n.length;h++){const g=n[h];ne(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Wt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const f=u.val(!0),p=e;t.server_.put(p.toString(),f,h=>{rf(t,"transaction put response",{path:p.toString(),status:h});let g=[];if(h==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(is(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();af(t,Xm(t.transactionQueueTree_,e)),Jm(t,t.transactionQueueTree_),Ln(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)Ta(y[v])}else{if(h==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Vt("transaction at "+p.toString()+" failed: "+h);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=h}ha(t,e)}},c)}function ha(t,e){const n=Ow(t,e),r=Rl(n),o=Dw(t,n);return $2(t,o,r),r}function $2(t,e,n){if(e.length===0)return;const r=[];let o=[];const c=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],h=Wt(n,p.path);let g=!1,y;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)g=!0,y=p.abortReason,o=o.concat(is(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=z2)g=!0,y="maxretry",o=o.concat(is(t.serverSyncTree_,p.currentWriteId,!0));else{const v=Nw(t,p.path,c);p.currentInputSnapshot=v;const _=e[f].update(v.val());if(_!==void 0){tf("transaction failed: Data returned ",_,p.path);let S=wt(_);typeof _=="object"&&_!=null&&Kn(_,".priority")||(S=S.updatePriority(v.getPriority()));const C=p.currentWriteId,x=sf(t),M=vw(S,v,x);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=M,p.currentWriteId=Zm(t),c.splice(c.indexOf(C),1),o=o.concat(dw(t.serverSyncTree_,p.path,M,p.currentWriteId,p.applyLocally)),o=o.concat(is(t.serverSyncTree_,C,!0))}else g=!0,y="nodata",o=o.concat(is(t.serverSyncTree_,p.currentWriteId,!0))}Ln(t.eventQueue_,n,o),o=[],g&&(e[f].status=2,function(v){setTimeout(v,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?r.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):r.push(()=>e[f].onComplete(new Error(y),!1,null))))}af(t,t.transactionQueueTree_);for(let f=0;f<r.length;f++)Ta(r[f]);Jm(t,t.transactionQueueTree_)}function Ow(t,e){let n,r=t.transactionQueueTree_;for(n=Ce(e);n!==null&&Ca(r)===void 0;)r=Xm(r,n),e=Qe(e),n=Ce(e);return r}function Dw(t,e){const n=[];return Mw(t,e,n),n.sort((r,o)=>r.order-o.order),n}function Mw(t,e,n){const r=Ca(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);ef(e,o=>{Mw(t,o,n)})}function af(t,e){const n=Ca(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,_w(e,n.length>0?n:void 0)}ef(e,r=>{af(t,r)})}function eg(t,e){const n=Rl(Ow(t,e)),r=Xm(t.transactionQueueTree_,e);return R2(r,o=>{Gd(t,o)}),Gd(t,r),Sw(r,o=>{Gd(t,o)}),n}function Gd(t,e){const n=Ca(e);if(n){const r=[];let o=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ne(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(ne(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(is(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?_w(e,void 0):n.length=u+1,Ln(t.eventQueue_,Rl(e),o);for(let c=0;c<r.length;c++)Ta(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function J2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Qb=function(t,e){const n=eL(t),r=n.namespace;n.domain==="firebase.com"&&Si(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Si("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new UT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new qe(n.pathString)}},eL=function(t){let e="",n="",r="",o="",u="",c=!0,f="https",p=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(f=t.substring(0,h-1),t=t.substring(h+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=Z2(t.substring(g,y)));const v=J2(t.substring(Math.min(t.length,y)));h=e.indexOf(":"),h>=0?(c=f==="https"||f==="wss",p=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),u=r}"ns"in v&&(u=v.ns)}return{host:e,port:p,domain:n,subdomain:r,secure:c,scheme:f,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tL=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=$b.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=$b.charAt(e[o]);return ne(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ct(this.snapshot.exportVal())}}class iL{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return De(this._path)?null:Am(this._path)}get ref(){return new gs(this._repo,this._path)}get _queryIdentifier(){const e=kb(this._queryParams),n=Tm(e);return n==="{}"?"default":n}get _queryObject(){return kb(this._queryParams)}isEqual(e){if(e=$t(e),!(e instanceof tg))return!1;const n=this._repo===e._repo,r=Rm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+KI(this._path)}}class gs extends tg{constructor(e,n){super(e,n,new Mm,!1)}get parent(){const e=YT(this._path);return e===null?null:new gs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Lc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new qe(e),r=ll(this.ref,e);return new Lc(this._node.getChild(n),r,ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Lc(o,ll(this.ref,r),ut)))}hasChild(e){const n=new qe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $e(t,e){return t=$t(t),t._checkNotDeleted("ref"),e!==void 0?ll(t._root,e):t._root}function ll(t,e){return t=$t(t),Ce(t._path)===null?P2("child","path",e):ww("child","path",e),new gs(t._repo,lt(t._path,e))}function Qu(t,e){t=$t(t),Cw("push",t._path),Tw("push",e,t._path,!0);const n=Rw(t._repo),r=tL(n),o=ll(t,r),u=ll(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function Zi(t,e){t=$t(t),Cw("set",t._path),Tw("set",e,t._path,!1);const n=new _l;return q2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function rL(t,e){L2("update",e,t._path);const n=new _l;return Y2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class ng{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new nL("value",this,new Lc(e.snapshotNode,new gs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iL(this,e,n):null}matches(e){return e instanceof ng?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function aL(t,e,n,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const p=n,h=(g,y)=>{Xb(t._repo,t,f),p(g,y)};h.userCallback=n.userCallback,h.context=n.context,n=h}const c=new sL(n,u||void 0),f=new ng(c);return W2(t._repo,t,f),()=>Xb(t._repo,t,f)}function Bs(t,e,n,r){return aL(t,"value",e,n,r)}r2(gs);f2(gs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="FIREBASE_DATABASE_EMULATOR_HOST",Np={};let lL=!1;function uL(t,e,n,r){t.repoInfo_=new UT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function cL(t,e,n,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||Si("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ot("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=Qb(u,o),f=c.repoInfo,p;typeof process<"u"&&gb&&(p=gb[oL]),p?(u=`http://${p}?ns=${f.namespace}`,c=Qb(u,o),f=c.repoInfo):c.repoInfo.secure;const h=new SI(t.name,t.options,e);U2("Invalid Firebase Database URL",c),De(c.path)||Si("Database URL must point to the root of a Firebase Database (not including a child path).");const g=hL(f,t,h,new bI(t,n));return new dL(g,t)}function fL(t,e){const n=Np[e];(!n||n[t.key]!==t)&&Si(`Database ${e}(${t.repoInfo_}) has already been deleted.`),X2(t),delete n[t.key]}function hL(t,e,n,r){let o=Np[e.name];o||(o={},Np[e.name]=o);let u=o[t.toURLString()];return u&&Si("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new H2(t,lL,n,r),o[t.toURLString()]=u,u}class dL{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(F2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gs(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Si("Cannot call "+e+" on a deleted database.")}}function an(t=zE(),e){const n=cm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=mN("database");r&&pL(n,...r)}return n}function pL(t,e,n,r={}){t=$t(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Ks(r,u.repoInfo_.emulatorOptions))return;Si("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Si('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new oc(oc.OWNER);else if(r.mockUserToken){const f=typeof r.mockUserToken=="string"?r.mockUserToken:gN(r.mockUserToken,t.app.options.projectId);c=new oc(f)}uL(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){sI(Sa),oa(new Ws("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return cL(r,o,u,n)},"PUBLIC").setMultipleInstances(!0)),as(yb,vb,t),as(yb,vb,"esm2017")}yi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};yi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mL();var gL={apiKey:"AIzaSyBGZDKKuWAkUaxV1rB-fkH1tYjj_kLcQSM",authDomain:"personal-webpage-4fee5.firebaseapp.com",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com",projectId:"personal-webpage-4fee5",storageBucket:"personal-webpage-4fee5.firebasestorage.app",messagingSenderId:"436484530906",appId:"1:436484530906:web:b29b6e67621aa2009cfbe3",measurementId:"G-3QP9ZY1ZF7",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com"};const Iw=BE(gL),qs=eI(Iw);an(Iw);var lc={exports:{}},yL=lc.exports,Zb;function vL(){return Zb||(Zb=1,function(t,e){(function(n,r){t.exports=r(zc())})(typeof self<"u"?self:yL,n=>(()=>{var r={2:(f,p,h)=>{var g=h(2199),y=h(4664),v=h(5950);f.exports=function(_){return g(_,v,y)}},79:(f,p,h)=>{var g=h(3702),y=h(80),v=h(4739),_=h(8655),S=h(1175);function w(C){var x=-1,M=C==null?0:C.length;for(this.clear();++x<M;){var N=C[x];this.set(N[0],N[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},80:(f,p,h)=>{var g=h(6025),y=Array.prototype.splice;f.exports=function(v){var _=this.__data__,S=g(_,v);return!(S<0||(S==_.length-1?_.pop():y.call(_,S,1),--this.size,0))}},270:(f,p,h)=>{var g=h(7068),y=h(346);f.exports=function v(_,S,w,C,x){return _===S||(_==null||S==null||!y(_)&&!y(S)?_!=_&&S!=S:g(_,S,w,C,v,x))}},289:(f,p,h)=>{var g=h(2651);f.exports=function(y){return g(this,y).get(y)}},294:f=>{f.exports=function(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=9007199254740991}},317:f=>{f.exports=function(p){var h=-1,g=Array(p.size);return p.forEach(function(y,v){g[++h]=[v,y]}),g}},346:f=>{f.exports=function(p){return p!=null&&typeof p=="object"}},361:f=>{var p=/^(?:0|[1-9]\d*)$/;f.exports=function(h,g){var y=typeof h;return!!(g=g??9007199254740991)&&(y=="number"||y!="symbol"&&p.test(h))&&h>-1&&h%1==0&&h<g}},392:f=>{f.exports=function(p,h){return p==null?void 0:p[h]}},659:(f,p,h)=>{var g=h(1873),y=Object.prototype,v=y.hasOwnProperty,_=y.toString,S=g?g.toStringTag:void 0;f.exports=function(w){var C=v.call(w,S),x=w[S];try{w[S]=void 0;var M=!0}catch{}var N=_.call(w);return M&&(C?w[S]=x:delete w[S]),N}},689:(f,p,h)=>{var g=h(2),y=Object.prototype.hasOwnProperty;f.exports=function(v,_,S,w,C,x){var M=1&S,N=g(v),q=N.length;if(q!=g(_).length&&!M)return!1;for(var D=q;D--;){var z=N[D];if(!(M?z in _:y.call(_,z)))return!1}var K=x.get(v),F=x.get(_);if(K&&F)return K==_&&F==v;var J=!0;x.set(v,_),x.set(_,v);for(var ie=M;++D<q;){var se=v[z=N[D]],le=_[z];if(w)var Ae=M?w(le,se,z,_,v,x):w(se,le,z,v,_,x);if(!(Ae===void 0?se===le||C(se,le,S,w,x):Ae)){J=!1;break}ie||(ie=z=="constructor")}if(J&&!ie){var Se=v.constructor,ye=_.constructor;Se==ye||!("constructor"in v)||!("constructor"in _)||typeof Se=="function"&&Se instanceof Se&&typeof ye=="function"&&ye instanceof ye||(J=!1)}return x.delete(v),x.delete(_),J}},695:(f,p,h)=>{var g=h(8096),y=h(2428),v=h(6449),_=h(3656),S=h(361),w=h(7167),C=Object.prototype.hasOwnProperty;f.exports=function(x,M){var N=v(x),q=!N&&y(x),D=!N&&!q&&_(x),z=!N&&!q&&!D&&w(x),K=N||q||D||z,F=K?g(x.length,String):[],J=F.length;for(var ie in x)!M&&!C.call(x,ie)||K&&(ie=="length"||D&&(ie=="offset"||ie=="parent")||z&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||S(ie,J))||F.push(ie);return F}},938:f=>{f.exports=function(p){var h=this.__data__,g=h.delete(p);return this.size=h.size,g}},945:(f,p,h)=>{var g=h(79),y=h(8223),v=h(3661);f.exports=function(_,S){var w=this.__data__;if(w instanceof g){var C=w.__data__;if(!y||C.length<199)return C.push([_,S]),this.size=++w.size,this;w=this.__data__=new v(C)}return w.set(_,S),this.size=w.size,this}},1042:(f,p,h)=>{var g=h(6110)(Object,"create");f.exports=g},1175:(f,p,h)=>{var g=h(6025);f.exports=function(y,v){var _=this.__data__,S=g(_,y);return S<0?(++this.size,_.push([y,v])):_[S][1]=v,this}},1380:f=>{f.exports=function(p){return this.__data__.set(p,"__lodash_hash_undefined__"),this}},1420:(f,p,h)=>{var g=h(79);f.exports=function(){this.__data__=new g,this.size=0}},1459:f=>{f.exports=function(p){return this.__data__.has(p)}},1549:(f,p,h)=>{var g=h(2032),y=h(3862),v=h(6721),_=h(2749),S=h(5749);function w(C){var x=-1,M=C==null?0:C.length;for(this.clear();++x<M;){var N=C[x];this.set(N[0],N[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},1873:(f,p,h)=>{var g=h(9325).Symbol;f.exports=g},1882:(f,p,h)=>{var g=h(2552),y=h(3805);f.exports=function(v){if(!y(v))return!1;var _=g(v);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}},1986:(f,p,h)=>{var g=h(1873),y=h(7828),v=h(5288),_=h(5911),S=h(317),w=h(4247),C=g?g.prototype:void 0,x=C?C.valueOf:void 0;f.exports=function(M,N,q,D,z,K,F){switch(q){case"[object DataView]":if(M.byteLength!=N.byteLength||M.byteOffset!=N.byteOffset)return!1;M=M.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(M.byteLength!=N.byteLength||!K(new y(M),new y(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+M,+N);case"[object Error]":return M.name==N.name&&M.message==N.message;case"[object RegExp]":case"[object String]":return M==N+"";case"[object Map]":var J=S;case"[object Set]":var ie=1&D;if(J||(J=w),M.size!=N.size&&!ie)return!1;var se=F.get(M);if(se)return se==N;D|=2,F.set(M,N);var le=_(J(M),J(N),D,z,K,F);return F.delete(M),le;case"[object Symbol]":if(x)return x.call(M)==x.call(N)}return!1}},2032:(f,p,h)=>{var g=h(1042);f.exports=function(){this.__data__=g?g(null):{},this.size=0}},2199:(f,p,h)=>{var g=h(4528),y=h(6449);f.exports=function(v,_,S){var w=_(v);return y(v)?w:g(w,S(v))}},2404:(f,p,h)=>{var g=h(270);f.exports=function(y,v){return g(y,v)}},2428:(f,p,h)=>{var g=h(7534),y=h(346),v=Object.prototype,_=v.hasOwnProperty,S=v.propertyIsEnumerable,w=g(function(){return arguments}())?g:function(C){return y(C)&&_.call(C,"callee")&&!S.call(C,"callee")};f.exports=w},2552:(f,p,h)=>{var g=h(1873),y=h(659),v=h(9350),_=g?g.toStringTag:void 0;f.exports=function(S){return S==null?S===void 0?"[object Undefined]":"[object Null]":_&&_ in Object(S)?y(S):v(S)}},2651:(f,p,h)=>{var g=h(4218);f.exports=function(y,v){var _=y.__data__;return g(v)?_[typeof v=="string"?"string":"hash"]:_.map}},2749:(f,p,h)=>{var g=h(1042),y=Object.prototype.hasOwnProperty;f.exports=function(v){var _=this.__data__;return g?_[v]!==void 0:y.call(_,v)}},2804:(f,p,h)=>{var g=h(6110)(h(9325),"Promise");f.exports=g},2949:(f,p,h)=>{var g=h(2651);f.exports=function(y,v){var _=g(this,y),S=_.size;return _.set(y,v),this.size+=_.size==S?0:1,this}},3040:(f,p,h)=>{var g=h(1549),y=h(79),v=h(8223);f.exports=function(){this.size=0,this.__data__={hash:new g,map:new(v||y),string:new g}}},3146:(f,p,h)=>{for(var g=h(3491),y=typeof window>"u"?h.g:window,v=["moz","webkit"],_="AnimationFrame",S=y["request"+_],w=y["cancel"+_]||y["cancelRequest"+_],C=0;!S&&C<v.length;C++)S=y[v[C]+"Request"+_],w=y[v[C]+"Cancel"+_]||y[v[C]+"CancelRequest"+_];if(!S||!w){var x=0,M=0,N=[],q=1e3/60;S=function(D){if(N.length===0){var z=g(),K=Math.max(0,q-(z-x));x=K+z,setTimeout(function(){var F=N.slice(0);N.length=0;for(var J=0;J<F.length;J++)if(!F[J].cancelled)try{F[J].callback(x)}catch(ie){setTimeout(function(){throw ie},0)}},Math.round(K))}return N.push({handle:++M,callback:D,cancelled:!1}),M},w=function(D){for(var z=0;z<N.length;z++)N[z].handle===D&&(N[z].cancelled=!0)}}f.exports=function(D){return S.call(y,D)},f.exports.cancel=function(){w.apply(y,arguments)},f.exports.polyfill=function(D){D||(D=y),D.requestAnimationFrame=S,D.cancelAnimationFrame=w}},3345:f=>{f.exports=function(){return[]}},3491:function(f){(function(){var p,h,g,y,v,_;typeof performance<"u"&&performance!==null&&performance.now?f.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(f.exports=function(){return(p()-v)/1e6},h=process.hrtime,y=(p=function(){var S;return 1e9*(S=h())[0]+S[1]})(),_=1e9*process.uptime(),v=y-_):Date.now?(f.exports=function(){return Date.now()-g},g=Date.now()):(f.exports=function(){return new Date().getTime()-g},g=new Date().getTime())}).call(this)},3605:f=>{f.exports=function(p){return this.__data__.get(p)}},3650:(f,p,h)=>{var g=h(4335)(Object.keys,Object);f.exports=g},3656:(f,p,h)=>{f=h.nmd(f);var g=h(9325),y=h(9935),v=p&&!p.nodeType&&p,_=v&&f&&!f.nodeType&&f,S=_&&_.exports===v?g.Buffer:void 0,w=(S?S.isBuffer:void 0)||y;f.exports=w},3661:(f,p,h)=>{var g=h(3040),y=h(7670),v=h(289),_=h(4509),S=h(2949);function w(C){var x=-1,M=C==null?0:C.length;for(this.clear();++x<M;){var N=C[x];this.set(N[0],N[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},3702:f=>{f.exports=function(){this.__data__=[],this.size=0}},3805:f=>{f.exports=function(p){var h=typeof p;return p!=null&&(h=="object"||h=="function")}},3862:f=>{f.exports=function(p){var h=this.has(p)&&delete this.__data__[p];return this.size-=h?1:0,h}},4218:f=>{f.exports=function(p){var h=typeof p;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?p!=="__proto__":p===null}},4247:f=>{f.exports=function(p){var h=-1,g=Array(p.size);return p.forEach(function(y){g[++h]=y}),g}},4248:f=>{f.exports=function(p,h){for(var g=-1,y=p==null?0:p.length;++g<y;)if(h(p[g],g,p))return!0;return!1}},4335:f=>{f.exports=function(p,h){return function(g){return p(h(g))}}},4509:(f,p,h)=>{var g=h(2651);f.exports=function(y){return g(this,y).has(y)}},4528:f=>{f.exports=function(p,h){for(var g=-1,y=h.length,v=p.length;++g<y;)p[v+g]=h[g];return p}},4664:(f,p,h)=>{var g=h(9770),y=h(3345),v=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols,S=_?function(w){return w==null?[]:(w=Object(w),g(_(w),function(C){return v.call(w,C)}))}:y;f.exports=S},4739:(f,p,h)=>{var g=h(6025);f.exports=function(y){var v=this.__data__,_=g(v,y);return _<0?void 0:v[_][1]}},4840:(f,p,h)=>{var g=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g;f.exports=g},4894:(f,p,h)=>{var g=h(1882),y=h(294);f.exports=function(v){return v!=null&&y(v.length)&&!g(v)}},4901:(f,p,h)=>{var g=h(2552),y=h(294),v=h(346),_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1,f.exports=function(S){return v(S)&&y(S.length)&&!!_[g(S)]}},5083:(f,p,h)=>{var g=h(1882),y=h(7296),v=h(3805),_=h(7473),S=/^\[object .+?Constructor\]$/,w=Function.prototype,C=Object.prototype,x=w.toString,M=C.hasOwnProperty,N=RegExp("^"+x.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");f.exports=function(q){return!(!v(q)||y(q))&&(g(q)?N:S).test(_(q))}},5288:f=>{f.exports=function(p,h){return p===h||p!=p&&h!=h}},5481:(f,p,h)=>{var g=h(9325)["__core-js_shared__"];f.exports=g},5527:f=>{var p=Object.prototype;f.exports=function(h){var g=h&&h.constructor;return h===(typeof g=="function"&&g.prototype||p)}},5580:(f,p,h)=>{var g=h(6110)(h(9325),"DataView");f.exports=g},5749:(f,p,h)=>{var g=h(1042);f.exports=function(y,v){var _=this.__data__;return this.size+=this.has(y)?0:1,_[y]=g&&v===void 0?"__lodash_hash_undefined__":v,this}},5861:(f,p,h)=>{var g=h(5580),y=h(8223),v=h(2804),_=h(6545),S=h(8303),w=h(2552),C=h(7473),x="[object Map]",M="[object Promise]",N="[object Set]",q="[object WeakMap]",D="[object DataView]",z=C(g),K=C(y),F=C(v),J=C(_),ie=C(S),se=w;(g&&se(new g(new ArrayBuffer(1)))!=D||y&&se(new y)!=x||v&&se(v.resolve())!=M||_&&se(new _)!=N||S&&se(new S)!=q)&&(se=function(le){var Ae=w(le),Se=Ae=="[object Object]"?le.constructor:void 0,ye=Se?C(Se):"";if(ye)switch(ye){case z:return D;case K:return x;case F:return M;case J:return N;case ie:return q}return Ae}),f.exports=se},5911:(f,p,h)=>{var g=h(8859),y=h(4248),v=h(9219);f.exports=function(_,S,w,C,x,M){var N=1&w,q=_.length,D=S.length;if(q!=D&&!(N&&D>q))return!1;var z=M.get(_),K=M.get(S);if(z&&K)return z==S&&K==_;var F=-1,J=!0,ie=2&w?new g:void 0;for(M.set(_,S),M.set(S,_);++F<q;){var se=_[F],le=S[F];if(C)var Ae=N?C(le,se,F,S,_,M):C(se,le,F,_,S,M);if(Ae!==void 0){if(Ae)continue;J=!1;break}if(ie){if(!y(S,function(Se,ye){if(!v(ie,ye)&&(se===Se||x(se,Se,w,C,M)))return ie.push(ye)})){J=!1;break}}else if(se!==le&&!x(se,le,w,C,M)){J=!1;break}}return M.delete(_),M.delete(S),J}},5950:(f,p,h)=>{var g=h(695),y=h(8984),v=h(4894);f.exports=function(_){return v(_)?g(_):y(_)}},6009:(f,p,h)=>{f=h.nmd(f);var g=h(4840),y=p&&!p.nodeType&&p,v=y&&f&&!f.nodeType&&f,_=v&&v.exports===y&&g.process,S=function(){try{return v&&v.require&&v.require("util").types||_&&_.binding&&_.binding("util")}catch{}}();f.exports=S},6025:(f,p,h)=>{var g=h(5288);f.exports=function(y,v){for(var _=y.length;_--;)if(g(y[_][0],v))return _;return-1}},6110:(f,p,h)=>{var g=h(5083),y=h(392);f.exports=function(v,_){var S=y(v,_);return g(S)?S:void 0}},6449:f=>{var p=Array.isArray;f.exports=p},6545:(f,p,h)=>{var g=h(6110)(h(9325),"Set");f.exports=g},6721:(f,p,h)=>{var g=h(1042),y=Object.prototype.hasOwnProperty;f.exports=function(v){var _=this.__data__;if(g){var S=_[v];return S==="__lodash_hash_undefined__"?void 0:S}return y.call(_,v)?_[v]:void 0}},7068:(f,p,h)=>{var g=h(7217),y=h(5911),v=h(1986),_=h(689),S=h(5861),w=h(6449),C=h(3656),x=h(7167),M="[object Arguments]",N="[object Array]",q="[object Object]",D=Object.prototype.hasOwnProperty;f.exports=function(z,K,F,J,ie,se){var le=w(z),Ae=w(K),Se=le?N:S(z),ye=Ae?N:S(K),P=(Se=Se==M?q:Se)==q,Z=(ye=ye==M?q:ye)==q,ae=Se==ye;if(ae&&C(z)){if(!C(K))return!1;le=!0,P=!1}if(ae&&!P)return se||(se=new g),le||x(z)?y(z,K,F,J,ie,se):v(z,K,Se,F,J,ie,se);if(!(1&F)){var re=P&&D.call(z,"__wrapped__"),T=Z&&D.call(K,"__wrapped__");if(re||T){var H=re?z.value():z,W=T?K.value():K;return se||(se=new g),ie(H,W,F,J,se)}}return!!ae&&(se||(se=new g),_(z,K,F,J,ie,se))}},7167:(f,p,h)=>{var g=h(4901),y=h(7301),v=h(6009),_=v&&v.isTypedArray,S=_?y(_):g;f.exports=S},7217:(f,p,h)=>{var g=h(79),y=h(1420),v=h(938),_=h(3605),S=h(9817),w=h(945);function C(x){var M=this.__data__=new g(x);this.size=M.size}C.prototype.clear=y,C.prototype.delete=v,C.prototype.get=_,C.prototype.has=S,C.prototype.set=w,f.exports=C},7296:(f,p,h)=>{var g,y=h(5481),v=(g=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"";f.exports=function(_){return!!v&&v in _}},7301:f=>{f.exports=function(p){return function(h){return p(h)}}},7473:f=>{var p=Function.prototype.toString;f.exports=function(h){if(h!=null){try{return p.call(h)}catch{}try{return h+""}catch{}}return""}},7534:(f,p,h)=>{var g=h(2552),y=h(346);f.exports=function(v){return y(v)&&g(v)=="[object Arguments]"}},7670:(f,p,h)=>{var g=h(2651);f.exports=function(y){var v=g(this,y).delete(y);return this.size-=v?1:0,v}},7828:(f,p,h)=>{var g=h(9325).Uint8Array;f.exports=g},8096:f=>{f.exports=function(p,h){for(var g=-1,y=Array(p);++g<p;)y[g]=h(g);return y}},8223:(f,p,h)=>{var g=h(6110)(h(9325),"Map");f.exports=g},8303:(f,p,h)=>{var g=h(6110)(h(9325),"WeakMap");f.exports=g},8655:(f,p,h)=>{var g=h(6025);f.exports=function(y){return g(this.__data__,y)>-1}},8859:(f,p,h)=>{var g=h(3661),y=h(1380),v=h(1459);function _(S){var w=-1,C=S==null?0:S.length;for(this.__data__=new g;++w<C;)this.add(S[w])}_.prototype.add=_.prototype.push=y,_.prototype.has=v,f.exports=_},8984:(f,p,h)=>{var g=h(5527),y=h(3650),v=Object.prototype.hasOwnProperty;f.exports=function(_){if(!g(_))return y(_);var S=[];for(var w in Object(_))v.call(_,w)&&w!="constructor"&&S.push(w);return S}},9155:f=>{f.exports=n},9219:f=>{f.exports=function(p,h){return p.has(h)}},9325:(f,p,h)=>{var g=h(4840),y=typeof self=="object"&&self&&self.Object===Object&&self,v=g||y||Function("return this")();f.exports=v},9350:f=>{var p=Object.prototype.toString;f.exports=function(h){return p.call(h)}},9770:f=>{f.exports=function(p,h){for(var g=-1,y=p==null?0:p.length,v=0,_=[];++g<y;){var S=p[g];h(S,g,p)&&(_[v++]=S)}return _}},9817:f=>{f.exports=function(p){return this.__data__.has(p)}},9905:(f,p,h)=>{h.d(p,{default:()=>ae});var g=h(3146),y=h.n(g);const v=function(re){return new RegExp(/<[a-z][\s\S]*>/i).test(re)},_=function(re,T){return Math.floor(Math.random()*(T-re+1))+re};var S="TYPE_CHARACTER",w="REMOVE_CHARACTER",C="REMOVE_ALL",x="REMOVE_LAST_VISIBLE_NODE",M="PAUSE_FOR",N="CALL_FUNCTION",q="ADD_HTML_TAG_ELEMENT",D="CHANGE_DELETE_SPEED",z="CHANGE_DELAY",K="CHANGE_CURSOR",F="PASTE_STRING",J="HTML_TAG";function ie(re){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},ie(re)}function se(re,T){var H=Object.keys(re);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(re);T&&(W=W.filter(function(ee){return Object.getOwnPropertyDescriptor(re,ee).enumerable})),H.push.apply(H,W)}return H}function le(re){for(var T=1;T<arguments.length;T++){var H=arguments[T]!=null?arguments[T]:{};T%2?se(Object(H),!0).forEach(function(W){P(re,W,H[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(H)):se(Object(H)).forEach(function(W){Object.defineProperty(re,W,Object.getOwnPropertyDescriptor(H,W))})}return re}function Ae(re){return function(T){if(Array.isArray(T))return Se(T)}(re)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(re)||function(T,H){if(T){if(typeof T=="string")return Se(T,H);var W={}.toString.call(T).slice(8,-1);return W==="Object"&&T.constructor&&(W=T.constructor.name),W==="Map"||W==="Set"?Array.from(T):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?Se(T,H):void 0}}(re)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Se(re,T){(T==null||T>re.length)&&(T=re.length);for(var H=0,W=Array(T);H<T;H++)W[H]=re[H];return W}function ye(re,T){for(var H=0;H<T.length;H++){var W=T[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(re,Z(W.key),W)}}function P(re,T,H){return(T=Z(T))in re?Object.defineProperty(re,T,{value:H,enumerable:!0,configurable:!0,writable:!0}):re[T]=H,re}function Z(re){var T=function(H){if(ie(H)!="object"||!H)return H;var W=H[Symbol.toPrimitive];if(W!==void 0){var ee=W.call(H,"string");if(ie(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(re);return ie(T)=="symbol"?T:T+""}const ae=function(){function re(W,ee){var k=this;if(function($,te){if(!($ instanceof te))throw new TypeError("Cannot call a class as a function")}(this,re),P(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),P(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),P(this,"setupWrapperElement",function(){k.state.elements.container&&(k.state.elements.wrapper.className=k.options.wrapperClassName,k.state.elements.cursor.className=k.options.cursorClassName,k.state.elements.cursor.innerHTML=k.options.cursor,k.state.elements.container.innerHTML="",k.state.elements.container.appendChild(k.state.elements.wrapper),k.state.elements.container.appendChild(k.state.elements.cursor))}),P(this,"start",function(){return k.state.eventLoopPaused=!1,k.runEventLoop(),k}),P(this,"pause",function(){return k.state.eventLoopPaused=!0,k}),P(this,"stop",function(){return k.state.eventLoop&&((0,g.cancel)(k.state.eventLoop),k.state.eventLoop=null),k}),P(this,"pauseFor",function($){return k.addEventToQueue(M,{ms:$}),k}),P(this,"typeOutAllStrings",function(){return typeof k.options.strings=="string"?(k.typeString(k.options.strings).pauseFor(k.options.pauseFor),k):(k.options.strings.forEach(function($){k.typeString($).pauseFor(k.options.pauseFor).deleteAll(k.options.deleteSpeed)}),k)}),P(this,"typeString",function($){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v($))return k.typeOutHTMLString($,te);if($){var ve=(k.options||{}).stringSplitter,Ye=typeof ve=="function"?ve($):$.split("");k.typeCharacters(Ye,te)}return k}),P(this,"pasteString",function($){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v($)?k.typeOutHTMLString($,te,!0):($&&k.addEventToQueue(F,{character:$,node:te}),k)}),P(this,"typeOutHTMLString",function($){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ve=arguments.length>2?arguments[2]:void 0,Ye=function(wn){var un=document.createElement("div");return un.innerHTML=wn,un.childNodes}($);if(Ye.length>0)for(var je=0;je<Ye.length;je++){var mt=Ye[je],ln=mt.innerHTML;mt&&mt.nodeType!==3?(mt.innerHTML="",k.addEventToQueue(q,{node:mt,parentNode:te}),ve?k.pasteString(ln,mt):k.typeString(ln,mt)):mt.textContent&&(ve?k.pasteString(mt.textContent,te):k.typeString(mt.textContent,te))}return k}),P(this,"deleteAll",function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return k.addEventToQueue(C,{speed:$}),k}),P(this,"changeDeleteSpeed",function($){if(!$)throw new Error("Must provide new delete speed");return k.addEventToQueue(D,{speed:$}),k}),P(this,"changeDelay",function($){if(!$)throw new Error("Must provide new delay");return k.addEventToQueue(z,{delay:$}),k}),P(this,"changeCursor",function($){if(!$)throw new Error("Must provide new cursor");return k.addEventToQueue(K,{cursor:$}),k}),P(this,"deleteChars",function($){if(!$)throw new Error("Must provide amount of characters to delete");for(var te=0;te<$;te++)k.addEventToQueue(w);return k}),P(this,"callFunction",function($,te){if(!$||typeof $!="function")throw new Error("Callback must be a function");return k.addEventToQueue(N,{cb:$,thisArg:te}),k}),P(this,"typeCharacters",function($){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!$||!Array.isArray($))throw new Error("Characters must be an array");return $.forEach(function(ve){k.addEventToQueue(S,{character:ve,node:te})}),k}),P(this,"removeCharacters",function($){if(!$||!Array.isArray($))throw new Error("Characters must be an array");return $.forEach(function(){k.addEventToQueue(w)}),k}),P(this,"addEventToQueue",function($,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return k.addEventToStateProperty($,te,ve,"eventQueue")}),P(this,"addReverseCalledEvent",function($,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return k.options.loop?k.addEventToStateProperty($,te,ve,"reverseCalledEvents"):k}),P(this,"addEventToStateProperty",function($,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ye=arguments.length>3?arguments[3]:void 0,je={eventName:$,eventArgs:te||{}};return k.state[Ye]=ve?[je].concat(Ae(k.state[Ye])):[].concat(Ae(k.state[Ye]),[je]),k}),P(this,"runEventLoop",function(){k.state.lastFrameTime||(k.state.lastFrameTime=Date.now());var $=Date.now(),te=$-k.state.lastFrameTime;if(!k.state.eventQueue.length){if(!k.options.loop)return;k.state.eventQueue=Ae(k.state.calledEvents),k.state.calledEvents=[],k.options=le({},k.state.initialOptions)}if(k.state.eventLoop=y()(k.runEventLoop),!k.state.eventLoopPaused){if(k.state.pauseUntil){if($<k.state.pauseUntil)return;k.state.pauseUntil=null}var ve,Ye=Ae(k.state.eventQueue),je=Ye.shift();if(!(te<=(ve=je.eventName===x||je.eventName===w?k.options.deleteSpeed==="natural"?_(40,80):k.options.deleteSpeed:k.options.delay==="natural"?_(120,160):k.options.delay))){var mt=je.eventName,ln=je.eventArgs;switch(k.logInDevMode({currentEvent:je,state:k.state,delay:ve}),mt){case F:case S:var wn=ln.character,un=ln.node,ir=document.createTextNode(wn),Wn=ir;k.options.onCreateTextNode&&typeof k.options.onCreateTextNode=="function"&&(Wn=k.options.onCreateTextNode(wn,ir)),Wn&&(un?un.appendChild(Wn):k.state.elements.wrapper.appendChild(Wn)),k.state.visibleNodes=[].concat(Ae(k.state.visibleNodes),[{type:"TEXT_NODE",character:wn,node:Wn}]);break;case w:Ye.unshift({eventName:x,eventArgs:{removingCharacterNode:!0}});break;case M:var zt=je.eventArgs.ms;k.state.pauseUntil=Date.now()+parseInt(zt);break;case N:var sr=je.eventArgs,rr=sr.cb,ar=sr.thisArg;rr.call(ar,{elements:k.state.elements});break;case q:var Xn=je.eventArgs,Q=Xn.node,fe=Xn.parentNode;fe?fe.appendChild(Q):k.state.elements.wrapper.appendChild(Q),k.state.visibleNodes=[].concat(Ae(k.state.visibleNodes),[{type:J,node:Q,parentNode:fe||k.state.elements.wrapper}]);break;case C:var Ee=k.state.visibleNodes,be=ln.speed,ke=[];be&&ke.push({eventName:D,eventArgs:{speed:be,temp:!0}});for(var Me=0,st=Ee.length;Me<st;Me++)ke.push({eventName:x,eventArgs:{removingCharacterNode:!1}});be&&ke.push({eventName:D,eventArgs:{speed:k.options.deleteSpeed,temp:!0}}),Ye.unshift.apply(Ye,ke);break;case x:var et=je.eventArgs.removingCharacterNode;if(k.state.visibleNodes.length){var Ht=k.state.visibleNodes.pop(),Ci=Ht.type,xi=Ht.node,Ai=Ht.character;k.options.onRemoveNode&&typeof k.options.onRemoveNode=="function"&&k.options.onRemoveNode({node:xi,character:Ai}),xi&&xi.parentNode.removeChild(xi),Ci===J&&et&&Ye.unshift({eventName:x,eventArgs:{}})}break;case D:k.options.deleteSpeed=je.eventArgs.speed;break;case z:k.options.delay=je.eventArgs.delay;break;case K:k.options.cursor=je.eventArgs.cursor,k.state.elements.cursor.innerHTML=je.eventArgs.cursor}k.options.loop&&(je.eventName===x||je.eventArgs&&je.eventArgs.temp||(k.state.calledEvents=[].concat(Ae(k.state.calledEvents),[je]))),k.state.eventQueue=Ye,k.state.lastFrameTime=$}}}),W)if(typeof W=="string"){var Re=document.querySelector(W);if(!Re)throw new Error("Could not find container element");this.state.elements.container=Re}else this.state.elements.container=W;ee&&(this.options=le(le({},this.options),ee)),this.state.initialOptions=le({},this.options),this.init()}var T,H;return T=re,(H=[{key:"init",value:function(){var W,ee;this.setupWrapperElement(),this.addEventToQueue(K,{cursor:this.options.cursor},!0),this.addEventToQueue(C,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(W=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ee=document.createElement("style")).appendChild(document.createTextNode(W)),document.head.appendChild(ee),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(W){this.options.devMode&&console.log(W)}}])&&ye(T.prototype,H),Object.defineProperty(T,"prototype",{writable:!1}),re}()},9935:f=>{f.exports=function(){return!1}}},o={};function u(f){var p=o[f];if(p!==void 0)return p.exports;var h=o[f]={id:f,loaded:!1,exports:{}};return r[f].call(h.exports,h,h.exports,u),h.loaded=!0,h.exports}u.n=f=>{var p=f&&f.__esModule?()=>f.default:()=>f;return u.d(p,{a:p}),p},u.d=(f,p)=>{for(var h in p)u.o(p,h)&&!u.o(f,h)&&Object.defineProperty(f,h,{enumerable:!0,get:p[h]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u.o=(f,p)=>Object.prototype.hasOwnProperty.call(f,p),u.nmd=f=>(f.paths=[],f.children||(f.children=[]),f);var c={};return(()=>{u.d(c,{default:()=>q});var f=u(9155),p=u.n(f),h=u(9905),g=u(2404),y=u.n(g);function v(D){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},v(D)}function _(D,z){for(var K=0;K<z.length;K++){var F=z[K];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,M(F.key),F)}}function S(D,z){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,F){return K.__proto__=F,K},S(D,z)}function w(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function C(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!D})()}function x(D){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},x(D)}function M(D){var z=function(K){if(v(K)!="object"||!K)return K;var F=K[Symbol.toPrimitive];if(F!==void 0){var J=F.call(K,"string");if(v(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(D);return v(z)=="symbol"?z:z+""}var N=function(D){(function(ie,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(se&&se.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),se&&S(ie,se)})(J,D);var z,K,F=function(ie){var se=C();return function(){var le,Ae=x(ie);if(se){var Se=x(this).constructor;le=Reflect.construct(Ae,arguments,Se)}else le=Ae.apply(this,arguments);return function(ye,P){if(P&&(v(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(ye)}(this,le)}}(J);function J(){var ie,se,le,Ae;(function(Z,ae){if(!(Z instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,J);for(var Se=arguments.length,ye=new Array(Se),P=0;P<Se;P++)ye[P]=arguments[P];return se=w(ie=F.call.apply(F,[this].concat(ye))),Ae={instance:null},(le=M(le="state"))in se?Object.defineProperty(se,le,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):se[le]=Ae,ie}return z=J,(K=[{key:"componentDidMount",value:function(){var ie=this,se=new h.default(this.typewriter,this.props.options);this.setState({instance:se},function(){var le=ie.props.onInit;le&&le(se)})}},{key:"componentDidUpdate",value:function(ie){y()(this.props.options,ie.options)||this.setState({instance:new h.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var ie=this,se=this.props.component;return p().createElement(se,{ref:function(le){return ie.typewriter=le},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&_(z.prototype,K),Object.defineProperty(z,"prototype",{writable:!1}),J}(f.Component);N.defaultProps={component:"div"};const q=N})(),c.default})())}(lc)),lc.exports}var _L=vL();const bL=Qp(_L),ig=R.createContext({});function sg(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const rg=typeof window<"u",kw=rg?R.useLayoutEffect:R.useEffect,of=R.createContext(null),ag=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class SL extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function EL({children:t,isPresent:e,anchorX:n}){const r=R.useId(),o=R.useRef(null),u=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=R.useContext(ag);return R.useInsertionEffect(()=>{const{width:f,height:p,top:h,left:g,right:y}=u.current;if(e||!o.current||!f||!p)return;const v=n==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const _=document.createElement("style");return c&&(_.nonce=c),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[e]),L.jsx(SL,{isPresent:e,childRef:o,sizeRef:u,children:R.cloneElement(t,{ref:o})})}const TL=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:f})=>{const p=sg(wL),h=R.useId();let g=!0,y=R.useMemo(()=>(g=!1,{id:h,initial:e,isPresent:n,custom:o,onExitComplete:v=>{p.set(v,!0);for(const _ of p.values())if(!_)return;r&&r()},register:v=>(p.set(v,!1),()=>p.delete(v))}),[n,p,r]);return u&&g&&(y={...y}),R.useMemo(()=>{p.forEach((v,_)=>p.set(_,!1))},[n]),R.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),c==="popLayout"&&(t=L.jsx(EL,{isPresent:n,anchorX:f,children:t})),L.jsx(of.Provider,{value:y,children:t})};function wL(){return new Map}function Lw(t=!0){const e=R.useContext(of);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=R.useId();R.useEffect(()=>{if(t)return o(u)},[t]);const c=R.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,c]:[!0]}const $u=t=>t.key||"";function Jb(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const CL=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:f="left"})=>{const[p,h]=Lw(c),g=R.useMemo(()=>Jb(t),[t]),y=c&&!p?[]:g.map($u),v=R.useRef(!0),_=R.useRef(g),S=sg(()=>new Map),[w,C]=R.useState(g),[x,M]=R.useState(g);kw(()=>{v.current=!1,_.current=g;for(let D=0;D<x.length;D++){const z=$u(x[D]);y.includes(z)?S.delete(z):S.get(z)!==!0&&S.set(z,!1)}},[x,y.length,y.join("-")]);const N=[];if(g!==w){let D=[...g];for(let z=0;z<x.length;z++){const K=x[z],F=$u(K);y.includes(F)||(D.splice(z,0,K),N.push(K))}return u==="wait"&&N.length&&(D=N),M(Jb(D)),C(g),null}const{forceRender:q}=R.useContext(ig);return L.jsx(L.Fragment,{children:x.map(D=>{const z=$u(D),K=c&&!p?!1:g===x||y.includes(z),F=()=>{if(S.has(z))S.set(z,!0);else return;let J=!0;S.forEach(ie=>{ie||(J=!1)}),J&&(q==null||q(),M(_.current),c&&(h==null||h()),r&&r())};return L.jsx(TL,{isPresent:K,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:K?void 0:F,anchorX:f,children:D},z)})})};function og(t,e){t.indexOf(e)===-1&&t.push(e)}function lg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ei=(t,e,n)=>n>e?e:n<t?t:n;let ug=()=>{};const Ti={},Pw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Uw=t=>/^0[^.\s]+$/u.test(t);function cg(t){let e;return()=>(e===void 0&&(e=t()),e)}const En=t=>t,xL=(t,e)=>n=>e(t(n)),Nl=(...t)=>t.reduce(xL),ul=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class fg{constructor(){this.subscriptions=[]}add(e){return og(this.subscriptions,e),()=>lg(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fn=t=>t*1e3,Gn=t=>t/1e3;function jw(t,e){return e?t*(1e3/e):0}const Vw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,AL=1e-7,RL=12;function NL(t,e,n,r,o){let u,c,f=0;do c=e+(n-e)/2,u=Vw(c,r,o)-t,u>0?n=c:e=c;while(Math.abs(u)>AL&&++f<RL);return c}function Ol(t,e,n,r){if(t===e&&n===r)return En;const o=u=>NL(u,0,1,t,n);return u=>u===0||u===1?u:Vw(o(u),e,r)}const Bw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zw=t=>e=>1-t(1-e),Hw=Ol(.33,1.53,.69,.99),hg=zw(Hw),Fw=Bw(hg),Gw=t=>(t*=2)<1?.5*hg(t):.5*(2-Math.pow(2,-10*(t-1))),dg=t=>1-Math.sin(Math.acos(t)),qw=zw(dg),Yw=Bw(dg),OL=Ol(.42,0,1,1),DL=Ol(0,0,.58,1),Kw=Ol(.42,0,.58,1),ML=t=>Array.isArray(t)&&typeof t[0]!="number",Ww=t=>Array.isArray(t)&&typeof t[0]=="number",IL={linear:En,easeIn:OL,easeInOut:Kw,easeOut:DL,circIn:dg,circInOut:Yw,circOut:qw,backIn:hg,backInOut:Fw,backOut:Hw,anticipate:Gw},kL=t=>typeof t=="string",eS=t=>{if(Ww(t)){ug(t.length===4);const[e,n,r,o]=t;return Ol(e,n,r,o)}else if(kL(t))return IL[t];return t},Zu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],tS={value:null};function LL(t,e){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},p=0;function h(y){c.has(y)&&(g.schedule(y),t()),p++,y(f)}const g={schedule:(y,v=!1,_=!1)=>{const w=_&&o?n:r;return v&&c.add(y),w.has(y)||w.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(f=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(h),e&&tS.value&&tS.value.frameloop[e].push(p),p=0,n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const PL=40;function Xw(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Zu.reduce((N,q)=>(N[q]=LL(u,e?q:void 0),N),{}),{setup:f,read:p,resolveKeyframes:h,preUpdate:g,update:y,preRender:v,render:_,postRender:S}=c,w=()=>{const N=Ti.useManualTiming?o.timestamp:performance.now();n=!1,Ti.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(N-o.timestamp,PL),1)),o.timestamp=N,o.isProcessing=!0,f.process(o),p.process(o),h.process(o),g.process(o),y.process(o),v.process(o),_.process(o),S.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(w))},C=()=>{n=!0,r=!0,o.isProcessing||t(w)};return{schedule:Zu.reduce((N,q)=>{const D=c[q];return N[q]=(z,K=!1,F=!1)=>(n||C(),D.schedule(z,K,F)),N},{}),cancel:N=>{for(let q=0;q<Zu.length;q++)c[Zu[q]].cancel(N)},state:o,steps:c}}const{schedule:it,cancel:cs,state:Nt,steps:qd}=Xw(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0);let uc;function UL(){uc=void 0}const Qt={now:()=>(uc===void 0&&Qt.set(Nt.isProcessing||Ti.useManualTiming?Nt.timestamp:performance.now()),uc),set:t=>{uc=t,queueMicrotask(UL)}},Qw=t=>e=>typeof e=="string"&&e.startsWith(t),pg=Qw("--"),jL=Qw("var(--"),mg=t=>jL(t)?VL.test(t.split("/*")[0].trim()):!1,VL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cl={...xa,transform:t=>Ei(0,1,t)},Ju={...xa,default:1},Yo=t=>Math.round(t*1e5)/1e5,gg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BL(t){return t==null}const zL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yg=(t,e)=>n=>!!(typeof n=="string"&&zL.test(n)&&n.startsWith(t)||e&&!BL(n)&&Object.prototype.hasOwnProperty.call(n,e)),$w=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,f]=r.match(gg);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},HL=t=>Ei(0,255,t),Yd={...xa,transform:t=>Math.round(HL(t))},Fs={test:yg("rgb","red"),parse:$w("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yd.transform(t)+", "+Yd.transform(e)+", "+Yd.transform(n)+", "+Yo(cl.transform(r))+")"};function FL(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Op={test:yg("#"),parse:FL,transform:Fs.transform},Dl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ji=Dl("deg"),qn=Dl("%"),me=Dl("px"),GL=Dl("vh"),qL=Dl("vw"),nS={...qn,parse:t=>qn.parse(t)/100,transform:t=>qn.transform(t*100)},Xr={test:yg("hsl","hue"),parse:$w("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qn.transform(Yo(e))+", "+qn.transform(Yo(n))+", "+Yo(cl.transform(r))+")"},Lt={test:t=>Fs.test(t)||Op.test(t)||Xr.test(t),parse:t=>Fs.test(t)?Fs.parse(t):Xr.test(t)?Xr.parse(t):Op.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fs.transform(t):Xr.transform(t)},YL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gg))==null?void 0:e.length)||0)+(((n=t.match(YL))==null?void 0:n.length)||0)>0}const Zw="number",Jw="color",WL="var",XL="var(",iS="${}",QL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const f=e.replace(QL,p=>(Lt.test(p)?(r.color.push(u),o.push(Jw),n.push(Lt.parse(p))):p.startsWith(XL)?(r.var.push(u),o.push(WL),n.push(p)):(r.number.push(u),o.push(Zw),n.push(parseFloat(p))),++u,iS)).split(iS);return{values:n,split:f,indexes:r,types:o}}function eC(t){return fl(t).values}function tC(t){const{split:e,types:n}=fl(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const f=n[c];f===Zw?u+=Yo(o[c]):f===Jw?u+=Lt.transform(o[c]):u+=o[c]}return u}}const $L=t=>typeof t=="number"?0:t;function ZL(t){const e=eC(t);return tC(t)(e.map($L))}const fs={test:KL,parse:eC,createTransformer:tC,getAnimatableNone:ZL};function Kd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,c=0;if(!e)o=u=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;o=Kd(p,f,t+1/3),u=Kd(p,f,t),c=Kd(p,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Pc(t,e){return n=>n>0?e:t}const nt=(t,e,n)=>t+(e-t)*n,Wd=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},eP=[Op,Fs,Xr],tP=t=>eP.find(e=>e.test(t));function sS(t){const e=tP(t);if(!e)return!1;let n=e.parse(t);return e===Xr&&(n=JL(n)),n}const rS=(t,e)=>{const n=sS(t),r=sS(e);if(!n||!r)return Pc(t,e);const o={...n};return u=>(o.red=Wd(n.red,r.red,u),o.green=Wd(n.green,r.green,u),o.blue=Wd(n.blue,r.blue,u),o.alpha=nt(n.alpha,r.alpha,u),Fs.transform(o))},Dp=new Set(["none","hidden"]);function nP(t,e){return Dp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iP(t,e){return n=>nt(t,e,n)}function vg(t){return typeof t=="number"?iP:typeof t=="string"?mg(t)?Pc:Lt.test(t)?rS:aP:Array.isArray(t)?nC:typeof t=="object"?Lt.test(t)?rS:sP:Pc}function nC(t,e){const n=[...t],r=n.length,o=t.map((u,c)=>vg(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function sP(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=vg(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function rP(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],f=t.values[c]??0;n[o]=f,r[u]++}return n}const aP=(t,e)=>{const n=fs.createTransformer(e),r=fl(t),o=fl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Dp.has(t)&&!o.values.length||Dp.has(e)&&!r.values.length?nP(t,e):Nl(nC(rP(r,o),o.values),n):Pc(t,e)};function iC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):vg(t)(t,e)}const oP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>cs(e),now:()=>Nt.isProcessing?Nt.timestamp:Qt.now()}},sC=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Uc=2e4;function _g(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Uc;)e+=n,r=t.next(e);return e>=Uc?1/0:e}function lP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(_g(r),Uc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Gn(o)}}const uP=5;function rC(t,e,n){const r=Math.max(e-uP,0);return jw(n-t(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aS=.001;function cP({duration:t=ot.duration,bounce:e=ot.bounce,velocity:n=ot.velocity,mass:r=ot.mass}){let o,u,c=1-e;c=Ei(ot.minDamping,ot.maxDamping,c),t=Ei(ot.minDuration,ot.maxDuration,Gn(t)),c<1?(o=h=>{const g=h*c,y=g*t,v=g-n,_=Mp(h,c),S=Math.exp(-y);return aS-v/_*S},u=h=>{const y=h*c*t,v=y*n+n,_=Math.pow(c,2)*Math.pow(h,2)*t,S=Math.exp(-y),w=Mp(Math.pow(h,2),c);return(-o(h)+aS>0?-1:1)*((v-_)*S)/w}):(o=h=>{const g=Math.exp(-h*t),y=(h-n)*t+1;return-.001+g*y},u=h=>{const g=Math.exp(-h*t),y=(n-h)*(t*t);return g*y});const f=5/t,p=hP(o,u,f);if(t=Fn(t),isNaN(p))return{stiffness:ot.stiffness,damping:ot.damping,duration:t};{const h=Math.pow(p,2)*r;return{stiffness:h,damping:c*2*Math.sqrt(r*h),duration:t}}}const fP=12;function hP(t,e,n){let r=n;for(let o=1;o<fP;o++)r=r-t(r)/e(r);return r}function Mp(t,e){return t*Math.sqrt(1-e*e)}const dP=["duration","bounce"],pP=["stiffness","damping","mass"];function oS(t,e){return e.some(n=>t[n]!==void 0)}function mP(t){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...t};if(!oS(t,pP)&&oS(t,dP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*Ei(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:u}}else{const n=cP(t);e={...e,...n,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function jc(t=ot.visualDuration,e=ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:h,mass:g,duration:y,velocity:v,isResolvedFromDuration:_}=mP({...n,velocity:-Gn(n.velocity||0)}),S=v||0,w=h/(2*Math.sqrt(p*g)),C=c-u,x=Gn(Math.sqrt(p/g)),M=Math.abs(C)<5;r||(r=M?ot.restSpeed.granular:ot.restSpeed.default),o||(o=M?ot.restDelta.granular:ot.restDelta.default);let N;if(w<1){const D=Mp(x,w);N=z=>{const K=Math.exp(-w*x*z);return c-K*((S+w*x*C)/D*Math.sin(D*z)+C*Math.cos(D*z))}}else if(w===1)N=D=>c-Math.exp(-x*D)*(C+(S+x*C)*D);else{const D=x*Math.sqrt(w*w-1);N=z=>{const K=Math.exp(-w*x*z),F=Math.min(D*z,300);return c-K*((S+w*x*C)*Math.sinh(F)+D*C*Math.cosh(F))/D}}const q={calculatedDuration:_&&y||null,next:D=>{const z=N(D);if(_)f.done=D>=y;else{let K=D===0?S:0;w<1&&(K=D===0?Fn(S):rC(N,D,z));const F=Math.abs(K)<=r,J=Math.abs(c-z)<=o;f.done=F&&J}return f.value=f.done?c:z,f},toString:()=>{const D=Math.min(_g(q),Uc),z=sC(K=>q.next(D*K).value,D,30);return D+"ms "+z},toTransition:()=>{}};return q}jc.applyToOptions=t=>{const e=lP(t,100,jc);return t.ease=e.ease,t.duration=Fn(e.duration),t.type="keyframes",t};function Ip({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:p,restDelta:h=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},_=F=>f!==void 0&&F<f||p!==void 0&&F>p,S=F=>f===void 0?p:p===void 0||Math.abs(f-F)<Math.abs(p-F)?f:p;let w=n*e;const C=y+w,x=c===void 0?C:c(C);x!==C&&(w=x-y);const M=F=>-w*Math.exp(-F/r),N=F=>x+M(F),q=F=>{const J=M(F),ie=N(F);v.done=Math.abs(J)<=h,v.value=v.done?x:ie};let D,z;const K=F=>{_(v.value)&&(D=F,z=jc({keyframes:[v.value,S(v.value)],velocity:rC(N,F,v.value),damping:o,stiffness:u,restDelta:h,restSpeed:g}))};return K(0),{calculatedDuration:null,next:F=>{let J=!1;return!z&&D===void 0&&(J=!0,q(F),K(F)),D!==void 0&&F>=D?z.next(F-D):(!J&&q(F),v)}}}function gP(t,e,n){const r=[],o=n||Ti.mix||iC,u=t.length-1;for(let c=0;c<u;c++){let f=o(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||En:e;f=Nl(p,f)}r.push(f)}return r}function yP(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(ug(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=gP(e,r,o),p=f.length,h=g=>{if(c&&g<t[0])return e[0];let y=0;if(p>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=ul(t[y],t[y+1],g);return f[y](v)};return n?g=>h(Ei(t[0],t[u-1],g)):h}function vP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=ul(0,e,r);t.push(nt(n,1,o))}}function _P(t){const e=[0];return vP(e,t.length-1),e}function bP(t,e){return t.map(n=>n*e)}function SP(t,e){return t.map(()=>e||Kw).splice(0,t.length-1)}function Ko({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=ML(r)?r.map(eS):eS(r),u={done:!1,value:e[0]},c=bP(n&&n.length===e.length?n:_P(e),t),f=yP(c,e,{ease:Array.isArray(o)?o:SP(e,o)});return{calculatedDuration:t,next:p=>(u.value=f(p),u.done=p>=t,u)}}const EP=t=>t!==null;function bg(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(EP),f=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!f||r===void 0?u[f]:r}const TP={decay:Ip,inertia:Ip,tween:Ko,keyframes:Ko,spring:jc};function aC(t){typeof t.type=="string"&&(t.type=TP[t.type])}class Sg{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const wP=t=>t/100;class oC extends Sg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Qt.now()&&this.tick(Qt.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aC(e);const{type:n=Ko,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:f}=e;const p=n||Ko;p!==Ko&&typeof f[0]!="number"&&(this.mixKeyframes=Nl(wP,iC(f[0],f[1])),f=[0,100]);const h=p({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=_g(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:_,type:S,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-h*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?x<0:x>o;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let N=this.currentTime,q=r;if(y){const F=Math.min(this.currentTime,o)/f;let J=Math.floor(F),ie=F%1;!ie&&F>=1&&(ie=1),ie===1&&J--,J=Math.min(J,y+1),!!(J%2)&&(v==="reverse"?(ie=1-ie,_&&(ie-=_/f)):v==="mirror"&&(q=c)),N=Ei(0,1,ie)*f}const D=M?{done:!1,value:g[0]}:q.next(N);u&&(D.value=u(D.value));let{done:z}=D;!M&&p!==null&&(z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return K&&S!==Ip&&(D.value=bg(g,this.options,C,this.speed)),w&&w(D.value),K&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Gn(this.calculatedDuration)}get time(){return Gn(this.currentTime)}set time(e){e=Fn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=oP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function CP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Gs=t=>t*180/Math.PI,kp=t=>{const e=Gs(Math.atan2(t[1],t[0]));return Lp(e)},xP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kp,rotateZ:kp,skewX:t=>Gs(Math.atan(t[1])),skewY:t=>Gs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lp=t=>(t=t%360,t<0&&(t+=360),t),lS=kp,uS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uS,scaleY:cS,scale:t=>(uS(t)+cS(t))/2,rotateX:t=>Lp(Gs(Math.atan2(t[6],t[5]))),rotateY:t=>Lp(Gs(Math.atan2(-t[2],t[0]))),rotateZ:lS,rotate:lS,skewX:t=>Gs(Math.atan(t[4])),skewY:t=>Gs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fS(t){return t.includes("scale")?1:0}function Pp(t,e){if(!t||t==="none")return fS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=AP,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xP,o=f}if(!o)return fS(e);const u=r[e],c=o[1].split(",").map(NP);return typeof u=="function"?u(c):c[u]}const RP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Pp(n,e)};function NP(t){return parseFloat(t.trim())}const Aa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ra=new Set(Aa),hS=t=>t===xa||t===me,OP=new Set(["x","y","z"]),DP=Aa.filter(t=>!OP.has(t));function MP(t){const e=[];return DP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const da={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pp(e,"x"),y:(t,{transform:e})=>Pp(e,"y")};da.translateX=da.x;da.translateY=da.y;const Ys=new Set;let Up=!1,jp=!1,Vp=!1;function lC(){if(jp){const t=Array.from(Ys).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=MP(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{var f;(f=r.getValue(u))==null||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jp=!1,Up=!1,Ys.forEach(t=>t.complete(Vp)),Ys.clear()}function uC(){Ys.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jp=!0)})}function IP(){Vp=!0,uC(),lC(),Vp=!1}class Eg{constructor(e,n,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ys.add(this),Up||(Up=!0,it.read(uC),it.resolveKeyframes(lC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}CP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ys.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ys.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kP=t=>t.startsWith("--");function LP(t,e,n){kP(e)?t.style.setProperty(e,n):t.style[e]=n}const PP=cg(()=>window.ScrollTimeline!==void 0),UP={};function jP(t,e){const n=cg(t);return()=>UP[e]??n()}const cC=jP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jo([0,.65,.55,1]),circOut:jo([.55,0,1,.45]),backIn:jo([.31,.01,.66,-.59]),backOut:jo([.33,1.53,.69,.99])};function fC(t,e){if(t)return typeof t=="function"?cC()?sC(t,e):"ease-out":Ww(t)?jo(t):Array.isArray(t)?t.map(n=>fC(n,e)||dS.easeOut):dS[t]}function VP(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:p}={},h=void 0){const g={[e]:n};p&&(g.offset=p);const y=fC(f,o);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(g,v)}function hC(t){return typeof t=="function"&&"applyToOptions"in t}function BP({type:t,...e}){return hC(t)&&cC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zP extends Sg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,ug(typeof e.type!="string");const h=BP(e);this.animation=VP(n,r,o,h,u),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=bg(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):LP(n,r,g),this.animation.cancel()}p==null||p(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Gn(Number(e))}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Fn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&PP()?(this.animation.timeline=e,En):n(this)}}const dC={anticipate:Gw,backInOut:Fw,circInOut:Yw};function HP(t){return t in dC}function FP(t){typeof t.ease=="string"&&HP(t.ease)&&(t.ease=dC[t.ease])}const pS=10;class GP extends zP{constructor(e){FP(e),aC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new oC({...c,autoplay:!1}),p=Fn(this.finishedTime??this.time);n.setWithVelocity(f.sample(p-pS).value,f.sample(p).value,pS),f.stop()}}const mS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fs.test(t)||t==="0")&&!t.startsWith("url("));function qP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function YP(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=mS(o,e),f=mS(u,e);return!c||!f?!1:qP(t)||(n==="spring"||hC(n))&&r}const KP=new Set(["opacity","clipPath","filter","transform"]),WP=cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XP(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return WP()&&n&&KP.has(n)&&(n!=="transform"||!p)&&!f&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const QP=40;class $P extends Sg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:p,motionValue:h,element:g,...y}){var S;super(),this.stop=()=>{var w,C;this._animation?(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)):(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Qt.now();const v={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:h,element:g,...y},_=(g==null?void 0:g.KeyframeResolver)||Eg;this.keyframeResolver=new _(f,(w,C,x)=>this.onKeyframesResolved(w,C,v,!x),p,h,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:p,isHandoff:h,onUpdate:g}=r;this.resolvedAt=Qt.now(),YP(e,u,c,f)||((Ti.instantAnimations||!p)&&(g==null||g(bg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>QP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!h&&XP(v)?new GP({...v,element:v.motionValue.owner.current}):new oC(v);_.finished.then(()=>this.notifyFinished()).catch(En),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||IP(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const ZP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JP(t){const e=ZP.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function pC(t,e,n=1){const[r,o]=JP(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return Pw(c)?parseFloat(c):c}return mg(o)?pC(o,e,n+1):o}function Tg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mC=new Set(["width","height","top","left","right","bottom",...Aa]),eU={test:t=>t==="auto",parse:t=>t},gC=t=>e=>e.test(t),yC=[xa,me,qn,Ji,qL,GL,eU],gS=t=>yC.find(gC(t));function tU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Uw(t):!0}const nU=new Set(["brightness","contrast","saturate","opacity"]);function iU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gg)||[];if(!r)return t;const o=n.replace(r,"");let u=nU.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const sU=/\b([a-z-]*)\(.*?\)/gu,Bp={...fs,getAnimatableNone:t=>{const e=t.match(sU);return e?e.map(iU).join(" "):t}},yS={...xa,transform:Math.round},rU={rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:Ju,scaleX:Ju,scaleY:Ju,scaleZ:Ju,skew:Ji,skewX:Ji,skewY:Ji,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:cl,originX:nS,originY:nS,originZ:me},wg={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me,...rU,zIndex:yS,fillOpacity:cl,strokeOpacity:cl,numOctaves:yS},aU={...wg,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Bp,WebkitFilter:Bp},vC=t=>aU[t];function _C(t,e){let n=vC(t);return n!==Bp&&(n=fs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oU=new Set(["auto","none","0"]);function lU(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!oU.has(u)&&fl(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=_C(n,o)}class uU extends Eg{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),mg(h))){const g=pC(h,n.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!mC.has(r)||e.length!==2)return;const[o,u]=e,c=gS(o),f=gS(u);if(c!==f)if(hS(c)&&hS(f))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||tU(e[o]))&&r.push(o);r.length&&lU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=da[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([p,h])=>{e.getValue(p).set(h)}),this.resolveNoneKeyframes()}}function cU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:Cg}=Xw(queueMicrotask,!1),Rn={x:!1,y:!1};function bC(){return Rn.x||Rn.y}function fU(t){return t==="x"||t==="y"?Rn[t]?null:(Rn[t]=!0,()=>{Rn[t]=!1}):Rn.x||Rn.y?null:(Rn.x=Rn.y=!0,()=>{Rn.x=Rn.y=!1})}function SC(t,e){const n=cU(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function vS(t){return!(t.pointerType==="touch"||bC())}function hU(t,e,n={}){const[r,o,u]=SC(t,n),c=f=>{if(!vS(f))return;const{target:p}=f,h=e(p,f);if(typeof h!="function"||!p)return;const g=y=>{vS(y)&&(h(y),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,o)};return r.forEach(f=>{f.addEventListener("pointerenter",c,o)}),u}const EC=(t,e)=>e?t===e?!0:EC(t,e.parentElement):!1,xg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pU(t){return dU.has(t.tagName)||t.tabIndex!==-1}const Vo=new WeakSet;function _S(t){return e=>{e.key==="Enter"&&t(e)}}function Xd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=_S(()=>{if(Vo.has(n))return;Xd(n,"down");const o=_S(()=>{Xd(n,"up")}),u=()=>Xd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function bS(t){return xg(t)&&!bC()}function gU(t,e,n={}){const[r,o,u]=SC(t,n),c=f=>{const p=f.currentTarget;if(!bS(f)||Vo.has(p))return;Vo.add(p);const h=e(p,f),g=(_,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!bS(_)||!Vo.has(p))&&(Vo.delete(p),typeof h=="function"&&h(_,{success:S}))},y=_=>{g(_,p===window||p===document||n.useGlobalTarget||EC(p,_.target))},v=_=>{g(_,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f instanceof HTMLElement&&(f.addEventListener("focus",h=>mU(h,o)),!pU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}const SS=30,yU=t=>!isNaN(parseFloat(t));class vU{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,f;const u=Qt.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fg);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>SS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,SS);return jw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(t,e){return new vU(t,e)}const _U=[...yC,Lt,fs],bU=t=>_U.find(gC(t)),TC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wC=R.createContext({strict:!1}),ES={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pa={};for(const t in ES)pa[t]={isEnabled:e=>ES[t].some(n=>!!e[n])};function SU(t){for(const e in t)pa[e]={...pa[e],...t[e]}}const EU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EU.has(t)}let CC=t=>!Vc(t);function TU(t){t&&(CC=e=>e.startsWith("on")?!Vc(e):t(e))}try{TU(require("@emotion/is-prop-valid").default)}catch{}function wU(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(CC(o)||n===!0&&Vc(o)||!e&&!Vc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function CU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const lf=R.createContext({});function uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dl(t){return typeof t=="string"||Array.isArray(t)}const Ag=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rg=["initial",...Ag];function cf(t){return uf(t.animate)||Rg.some(e=>dl(t[e]))}function xC(t){return!!(cf(t)||t.variants)}function xU(t,e){if(cf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||dl(n)?n:void 0,animate:dl(r)?r:void 0}}return t.inherit!==!1?e:{}}function AU(t){const{initial:e,animate:n}=xU(t,R.useContext(lf));return R.useMemo(()=>({initial:e,animate:n}),[TS(e),TS(n)])}function TS(t){return Array.isArray(t)?t.join(" "):t}const RU=Symbol.for("motionComponentSymbol");function Qr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NU(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qr(n)&&(n.current=r))},[e])}const Ng=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OU="framerAppearId",AC="data-"+Ng(OU),RC=R.createContext({});function DU(t,e,n,r,o){var w,C;const{visualElement:u}=R.useContext(lf),c=R.useContext(wC),f=R.useContext(of),p=R.useContext(ag).reducedMotion,h=R.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const g=h.current,y=R.useContext(RC);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&MU(h.current,n,o,y);const v=R.useRef(!1);R.useInsertionEffect(()=>{g&&v.current&&g.update(n,f)});const _=n[AC],S=R.useRef(!!_&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,_))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,_)));return kw(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Cg.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),R.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,_)}),S.current=!1))}),g}function MU(t,e,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:h,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NC(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||f&&Qr(f),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:p,layoutRoot:h})}function NC(t){if(t)return t.options.allowProjection!==!1?t.projection:NC(t.parent)}function IU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&SU(t);function u(f,p){let h;const g={...R.useContext(ag),...f,layoutId:kU(f)},{isStatic:y}=g,v=AU(f),_=r(f,y);if(!y&&rg){LU();const S=PU(g);h=S.MeasureLayout,v.visualElement=DU(o,_,g,e,S.ProjectionNode)}return L.jsxs(lf.Provider,{value:v,children:[h&&v.visualElement?L.jsx(h,{visualElement:v.visualElement,...g}):null,n(o,f,NU(_,v.visualElement,p),_,y,v.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=R.forwardRef(u);return c[RU]=o,c}function kU({layoutId:t}){const e=R.useContext(ig).id;return e&&t!==void 0?e+"-"+t:t}function LU(t,e){R.useContext(wC).strict}function PU(t){const{drag:e,layout:n}=pa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pl={};function UU(t){for(const e in t)pl[e]=t[e],pg(e)&&(pl[e].isCSSVariable=!0)}function OC(t,{layout:e,layoutId:n}){return Ra.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pl[t]||t==="opacity")}const Pt=t=>!!(t&&t.getVelocity),jU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VU=Aa.length;function BU(t,e,n){let r="",o=!0;for(let u=0;u<VU;u++){const c=Aa[u],f=t[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const h=TC(f,wg[c]);if(!p){o=!1;const g=jU[c]||c;r+=`${g}(${h}) `}n&&(e[c]=h)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Og(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,f=!1;for(const p in e){const h=e[p];if(Ra.has(p)){c=!0;continue}else if(pg(p)){o[p]=h;continue}else{const g=TC(h,wg[p]);p.startsWith("origin")?(f=!0,u[p]=g):r[p]=g}}if(e.transform||(c||n?r.transform=BU(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:p="50%",originY:h="50%",originZ:g=0}=u;r.transformOrigin=`${p} ${h} ${g}`}}const Dg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DC(t,e,n){for(const r in e)!Pt(e[r])&&!OC(r,n)&&(t[r]=e[r])}function zU({transformTemplate:t},e){return R.useMemo(()=>{const n=Dg();return Og(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HU(t,e){const n=t.style||{},r={};return DC(r,n,t),Object.assign(r,zU(t,e)),r}function FU(t,e){const n={},r=HU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const GU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mg(t){return typeof t!="string"||t.includes("-")?!1:!!(GU.indexOf(t)>-1||/[A-Z]/u.test(t))}const qU={offset:"stroke-dashoffset",array:"stroke-dasharray"},YU={offset:"strokeDashoffset",array:"strokeDasharray"};function KU(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?qU:YU;t[u.offset]=me.transform(-r);const c=me.transform(e),f=me.transform(n);t[u.array]=`${c} ${f}`}function MC(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...f},p,h){if(Og(t,f,h),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&KU(g,o,u,c,!1)}const IC=()=>({...Dg(),attrs:{}}),kC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WU(t,e,n,r){const o=R.useMemo(()=>{const u=IC();return MC(u,e,kC(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};DC(u,t.style,t),o.style={...u,...o.style}}return o}function XU(t=!1){return(n,r,o,{latestValues:u},c)=>{const p=(Mg(n)?WU:FU)(r,u,c,n),h=wU(r,typeof n=="string",t),g=n!==R.Fragment?{...h,...p,ref:o}:{},{children:y}=r,v=R.useMemo(()=>Pt(y)?y.get():y,[y]);return R.createElement(n,{...g,children:v})}}function wS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ig(t,e,n,r){if(typeof e=="function"){const[o,u]=wS(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=wS(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function cc(t){return Pt(t)?t.get():t}function QU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:$U(n,r,o,t),renderState:e()}}const LC=t=>(e,n)=>{const r=R.useContext(lf),o=R.useContext(of),u=()=>QU(t,e,r,o);return n?u():sg(u)};function $U(t,e,n,r){const o={},u=r(t,{});for(const v in u)o[v]=cc(u[v]);let{initial:c,animate:f}=t;const p=cf(t),h=xC(t);e&&h&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?f:c;if(y&&typeof y!="boolean"&&!uf(y)){const v=Array.isArray(y)?y:[y];for(let _=0;_<v.length;_++){const S=Ig(t,v[_]);if(S){const{transitionEnd:w,transition:C,...x}=S;for(const M in x){let N=x[M];if(Array.isArray(N)){const q=g?N.length-1:0;N=N[q]}N!==null&&(o[M]=N)}for(const M in w)o[M]=w[M]}}}return o}function kg(t,e,n){var u;const{style:r}=t,o={};for(const c in r)(Pt(r[c])||e.style&&Pt(e.style[c])||OC(c,t)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const ZU={useVisualState:LC({scrapeMotionValuesFromProps:kg,createRenderState:Dg})};function PC(t,e,n){const r=kg(t,e,n);for(const o in t)if(Pt(t[o])||Pt(e[o])){const u=Aa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const JU={useVisualState:LC({scrapeMotionValuesFromProps:PC,createRenderState:IC})};function e3(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Mg(r)?JU:ZU,preloadedFeatures:t,useRender:XU(o),createVisualElement:e,Component:r};return IU(c)}}function ml(t,e,n){const r=t.getProps();return Ig(r,e,n!==void 0?n:r.custom,t)}const zp=t=>Array.isArray(t);function t3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hl(n))}function n3(t){return zp(t)?t[t.length-1]||0:t}function i3(t,e){const n=ml(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const f=n3(u[c]);t3(t,c,f)}}function s3(t){return!!(Pt(t)&&t.add)}function Hp(t,e){const n=t.getValue("willChange");if(s3(n))return n.add(e);if(!n&&Ti.WillChange){const r=new Ti.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function UC(t){return t.props[AC]}const r3=t=>t!==null;function a3(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(r3),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const o3={type:"spring",stiffness:500,damping:25,restSpeed:10},l3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u3={type:"keyframes",duration:.8},c3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f3=(t,{keyframes:e})=>e.length>2?u3:Ra.has(t)?t.startsWith("scale")?l3(e[1]):o3:c3;function h3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:f,from:p,elapsed:h,...g}){return!!Object.keys(g).length}const Lg=(t,e,n,r={},o,u)=>c=>{const f=Tg(r,t)||{},p=f.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Fn(p);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-h,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:u?void 0:o};h3(f)||Object.assign(g,f3(t,g)),g.duration&&(g.duration=Fn(g.duration)),g.repeatDelay&&(g.repeatDelay=Fn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(Ti.instantAnimations||Ti.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!f.type&&!f.ease,y&&!u&&e.get()!==void 0){const v=a3(g.keyframes,f);if(v!==void 0){it.update(()=>{g.onUpdate(v),g.onComplete()});return}}return new $P(g)};function d3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jC(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(u=r);const p=[],h=o&&t.animationState&&t.animationState.getState()[o];for(const g in f){const y=t.getValue(g,t.latestValues[g]??null),v=f[g];if(v===void 0||h&&d3(h,g))continue;const _={delay:n,...Tg(u||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===S&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const x=UC(t);if(x){const M=window.MotionHandoffAnimation(x,g,it);M!==null&&(_.startTime=M,w=!0)}}Hp(t,g),y.start(Lg(g,y,v,t.shouldReduceMotion&&mC.has(g)?{type:!1}:_,t,w));const C=y.animation;C&&p.push(C)}return c&&Promise.all(p).then(()=>{it.update(()=>{c&&i3(t,c)})}),p}function Fp(t,e,n={}){var p;const r=ml(t,e,n.type==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(jC(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return p3(t,e,g+h,y,v,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,g]=f==="beforeChildren"?[u,c]:[c,u];return h().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function p3(t,e,n=0,r=0,o=1,u){const c=[],f=(t.variantChildren.size-1)*r,p=o===1?(h=0)=>h*r:(h=0)=>f-h*r;return Array.from(t.variantChildren).sort(m3).forEach((h,g)=>{h.notify("AnimationStart",e),c.push(Fp(h,e,{...u,delay:n+p(g)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(c)}function m3(t,e){return t.sortNodePosition(e)}function g3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Fp(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=Fp(t,e,n);else{const o=typeof e=="function"?ml(t,e,n.custom):e;r=Promise.all(jC(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function VC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const y3=Rg.length;function BC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<y3;n++){const r=Rg[n],o=t.props[r];(dl(o)||o===!1)&&(e[r]=o)}return e}const v3=[...Ag].reverse(),_3=Ag.length;function b3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>g3(t,n,r)))}function S3(t){let e=b3(t),n=CS(),r=!0;const o=p=>(h,g)=>{var v;const y=ml(t,g,p==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:_,transitionEnd:S,...w}=y;h={...h,...w,...S}}return h};function u(p){e=p(t)}function c(p){const{props:h}=t,g=BC(t.parent)||{},y=[],v=new Set;let _={},S=1/0;for(let C=0;C<_3;C++){const x=v3[C],M=n[x],N=h[x]!==void 0?h[x]:g[x],q=dl(N),D=x===p?M.isActive:null;D===!1&&(S=C);let z=N===g[x]&&N!==h[x]&&q;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),M.protectedKeys={..._},!M.isActive&&D===null||!N&&!M.prevProp||uf(N)||typeof N=="boolean")continue;const K=E3(M.prevProp,N);let F=K||x===p&&M.isActive&&!z&&q||C>S&&q,J=!1;const ie=Array.isArray(N)?N:[N];let se=ie.reduce(o(x),{});D===!1&&(se={});const{prevResolvedValues:le={}}=M,Ae={...le,...se},Se=Z=>{F=!0,v.has(Z)&&(J=!0,v.delete(Z)),M.needsAnimating[Z]=!0;const ae=t.getValue(Z);ae&&(ae.liveStyle=!1)};for(const Z in Ae){const ae=se[Z],re=le[Z];if(_.hasOwnProperty(Z))continue;let T=!1;zp(ae)&&zp(re)?T=!VC(ae,re):T=ae!==re,T?ae!=null?Se(Z):v.add(Z):ae!==void 0&&v.has(Z)?Se(Z):M.protectedKeys[Z]=!0}M.prevProp=N,M.prevResolvedValues=se,M.isActive&&(_={..._,...se}),r&&t.blockInitialAnimation&&(F=!1),F&&(!(z&&K)||J)&&y.push(...ie.map(Z=>({animation:Z,options:{type:x}})))}if(v.size){const C={};if(typeof h.initial!="boolean"){const x=ml(t,Array.isArray(h.initial)?h.initial[0]:h.initial);x&&x.transition&&(C.transition=x.transition)}v.forEach(x=>{const M=t.getBaseTarget(x),N=t.getValue(x);N&&(N.liveStyle=!0),C[x]=M??null}),y.push({animation:C})}let w=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(y):Promise.resolve()}function f(p,h){var y;if(n[p].isActive===h)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(p,h)}),n[p].isActive=h;const g=c(p);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>n,reset:()=>{n=CS(),r=!0}}}function E3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VC(e,t):!1}function Ps(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CS(){return{animate:Ps(!0),whileInView:Ps(),whileHover:Ps(),whileTap:Ps(),whileDrag:Ps(),whileFocus:Ps(),exit:Ps()}}class ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class T3 extends ys{constructor(e){super(e),e.animationState||(e.animationState=S3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let w3=0;class C3 extends ys{constructor(){super(...arguments),this.id=w3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const x3={animation:{Feature:T3},exit:{Feature:C3}};function gl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ml(t){return{point:{x:t.pageX,y:t.pageY}}}const A3=t=>e=>xg(e)&&t(e,Ml(e));function Wo(t,e,n,r){return gl(t,e,A3(n),r)}function zC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function R3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const HC=1e-4,O3=1-HC,D3=1+HC,FC=.01,M3=0-FC,I3=0+FC;function jt(t){return t.max-t.min}function k3(t,e,n){return Math.abs(t-e)<=n}function xS(t,e,n,r=.5){t.origin=r,t.originPoint=nt(e.min,e.max,t.origin),t.scale=jt(n)/jt(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=O3&&t.scale<=D3||isNaN(t.scale))&&(t.scale=1),(t.translate>=M3&&t.translate<=I3||isNaN(t.translate))&&(t.translate=0)}function Xo(t,e,n,r){xS(t.x,e.x,n.x,r?r.originX:void 0),xS(t.y,e.y,n.y,r?r.originY:void 0)}function AS(t,e,n){t.min=n.min+e.min,t.max=t.min+jt(e)}function L3(t,e,n){AS(t.x,e.x,n.x),AS(t.y,e.y,n.y)}function RS(t,e,n){t.min=e.min-n.min,t.max=t.min+jt(e)}function Qo(t,e,n){RS(t.x,e.x,n.x),RS(t.y,e.y,n.y)}const NS=()=>({translate:0,scale:1,origin:0,originPoint:0}),$r=()=>({x:NS(),y:NS()}),OS=()=>({min:0,max:0}),ht=()=>({x:OS(),y:OS()});function bn(t){return[t("x"),t("y")]}function Qd(t){return t===void 0||t===1}function Gp({scale:t,scaleX:e,scaleY:n}){return!Qd(t)||!Qd(e)||!Qd(n)}function Vs(t){return Gp(t)||GC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GC(t){return DS(t.x)||DS(t.y)}function DS(t){return t&&t!=="0%"}function Bc(t,e,n){const r=t-n,o=e*r;return n+o}function MS(t,e,n,r,o){return o!==void 0&&(t=Bc(t,o,r)),Bc(t,n,r)+e}function qp(t,e=0,n=1,r,o){t.min=MS(t.min,e,n,r,o),t.max=MS(t.max,e,n,r,o)}function qC(t,{x:e,y:n}){qp(t.x,e.translate,e.scale,e.originPoint),qp(t.y,n.translate,n.scale,n.originPoint)}const IS=.999999999999,kS=1.0000000000001;function P3(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,c;for(let f=0;f<o;f++){u=n[f],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Jr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,qC(t,c)),r&&Vs(u.latestValues)&&Jr(t,u.latestValues))}e.x<kS&&e.x>IS&&(e.x=1),e.y<kS&&e.y>IS&&(e.y=1)}function Zr(t,e){t.min=t.min+e,t.max=t.max+e}function LS(t,e,n,r,o=.5){const u=nt(t.min,t.max,o);qp(t,e,n,u,r)}function Jr(t,e){LS(t.x,e.x,e.scaleX,e.scale,e.originX),LS(t.y,e.y,e.scaleY,e.scale,e.originY)}function YC(t,e){return zC(N3(t.getBoundingClientRect(),e))}function U3(t,e,n){const r=YC(t,n),{scroll:o}=e;return o&&(Zr(r.x,o.offset.x),Zr(r.y,o.offset.y)),r}const KC=({current:t})=>t?t.ownerDocument.defaultView:null,PS=(t,e)=>Math.abs(t-e);function j3(t,e){const n=PS(t.x,e.x),r=PS(t.y,e.y);return Math.sqrt(n**2+r**2)}class WC{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Zd(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=j3(y.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:S}=y,{timestamp:w}=Nt;this.history.push({...S,timestamp:w});const{onStart:C,onMove:x}=this.handlers;v||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=$d(v,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Zd(y.type==="pointercancel"?this.lastMoveEventInfo:$d(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,C),S&&S(y,C)},!xg(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Ml(e),f=$d(c,this.transformPagePoint),{point:p}=f,{timestamp:h}=Nt;this.history=[{...p,timestamp:h}];const{onSessionStart:g}=n;g&&g(e,Zd(f,this.history)),this.removeListeners=Nl(Wo(this.contextWindow,"pointermove",this.handlePointerMove),Wo(this.contextWindow,"pointerup",this.handlePointerUp),Wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cs(this.updatePoint)}}function $d(t,e){return e?{point:e(t.point)}:t}function US(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zd({point:t},e){return{point:t,delta:US(t,XC(e)),offset:US(t,V3(e)),velocity:B3(e,.1)}}function V3(t){return t[0]}function XC(t){return t[t.length-1]}function B3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=XC(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Fn(e)));)n--;if(!r)return{x:0,y:0};const u=Gn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function z3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nt(n,t,r.max):Math.min(t,n)),t}function jS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function H3(t,{top:e,left:n,bottom:r,right:o}){return{x:jS(t.x,n,o),y:jS(t.y,e,r)}}function VS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function F3(t,e){return{x:VS(t.x,e.x),y:VS(t.y,e.y)}}function G3(t,e){let n=.5;const r=jt(t),o=jt(e);return o>r?n=ul(e.min,e.max-r,t.min):r>o&&(n=ul(t.min,t.max-o,e.min)),Ei(0,1,n)}function q3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Yp=.35;function Y3(t=Yp){return t===!1?t=0:t===!0&&(t=Yp),{x:BS(t,"left","right"),y:BS(t,"top","bottom")}}function BS(t,e,n){return{min:zS(t,e),max:zS(t,n)}}function zS(t,e){return typeof t=="number"?t:t[e]||0}const K3=new WeakMap;class W3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ml(g).point)},u=(g,y)=>{const{drag:v,dragPropagation:_,onDragStart:S}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fU(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(C=>{let x=this.getAxisMotionValue(C).get()||0;if(qn.test(x)){const{projection:M}=this.visualElement;if(M&&M.layout){const N=M.layout.layoutBox[C];N&&(x=jt(N)*(parseFloat(x)/100))}}this.originPoint[C]=x}),S&&it.postRender(()=>S(g,y)),Hp(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:S,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=y;if(_&&this.currentDirection===null){this.currentDirection=X3(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),w&&w(g,y)},f=(g,y)=>this.stop(g,y),p=()=>bn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new WC(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:KC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&it.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!ec(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=z3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&Qr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=H3(r.layoutBox,e):this.constraints=!1,this.elastic=Y3(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=q3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=U3(r,o.root,this.visualElement.getTransformPagePoint());let c=F3(o.layout.layoutBox,u);if(n){const f=n(R3(c));this.hasMutatedConstraints=!!f,f&&(c=zC(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},h=bn(g=>{if(!ec(g,n,this.currentDirection))return;let y=p&&p[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(h).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Hp(this.visualElement,e),r.start(Lg(e,r,0,n,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(n=>{const{drag:r}=this.getProps();if(!ec(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[n];u.set(e[n]-nt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=G3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(c=>{if(!ec(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:h}=this.constraints[c];f.set(nt(p,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;K3.set(this.visualElement,this);const e=this.visualElement.current,n=Wo(e,"pointerdown",p=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Qr(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),it.read(r);const c=gl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(bn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=p[g].translate,y.set(y.get()+p[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Yp,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function ec(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Q3 extends ys{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new W3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const HS=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class $3 extends ys{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new WC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:HS(e),onStart:HS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&it.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ko={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=FS(t,e.target.x),r=FS(t,e.target.y);return`${n}% ${r}%`}},Z3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=fs.parse(t);if(o.length>5)return r;const u=fs.createTransformer(t),c=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const h=nt(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),u(o)}};class J3 extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;UU(ej),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),fc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||it.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QC(t){const[e,n]=Lw(),r=R.useContext(ig);return L.jsx(J3,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(RC),isPresent:e,safeToRemove:n})}const ej={borderRadius:{...ko,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ko,borderTopRightRadius:ko,borderBottomLeftRadius:ko,borderBottomRightRadius:ko,boxShadow:Z3};function tj(t,e,n){const r=Pt(t)?t:hl(t);return r.start(Lg("",r,e,n)),r.animation}function nj(t){return t instanceof SVGElement&&t.tagName!=="svg"}const ij=(t,e)=>t.depth-e.depth;class sj{constructor(){this.children=[],this.isDirty=!1}add(e){og(this.children,e),this.isDirty=!0}remove(e){lg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ij),this.isDirty=!1,this.children.forEach(e)}}function rj(t,e){const n=Qt.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(cs(r),t(u-e))};return it.setup(r,!0),()=>cs(r)}const $C=["TopLeft","TopRight","BottomLeft","BottomRight"],aj=$C.length,GS=t=>typeof t=="string"?parseFloat(t):t,qS=t=>typeof t=="number"||me.test(t);function oj(t,e,n,r,o,u){o?(t.opacity=nt(0,n.opacity??1,lj(r)),t.opacityExit=nt(e.opacity??1,0,uj(r))):u&&(t.opacity=nt(e.opacity??1,n.opacity??1,r));for(let c=0;c<aj;c++){const f=`border${$C[c]}Radius`;let p=YS(e,f),h=YS(n,f);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||qS(p)===qS(h)?(t[f]=Math.max(nt(GS(p),GS(h),r),0),(qn.test(h)||qn.test(p))&&(t[f]+="%")):t[f]=h}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,r))}function YS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lj=ZC(0,.5,qw),uj=ZC(.5,.95,En);function ZC(t,e,n){return r=>r<t?0:r>e?1:n(ul(t,e,r))}function KS(t,e){t.min=e.min,t.max=e.max}function _n(t,e){KS(t.x,e.x),KS(t.y,e.y)}function WS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XS(t,e,n,r,o){return t-=e,t=Bc(t,1/n,r),o!==void 0&&(t=Bc(t,1/o,r)),t}function cj(t,e=0,n=1,r=.5,o,u=t,c=t){if(qn.test(e)&&(e=parseFloat(e),e=nt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=nt(u.min,u.max,r);t===u&&(f-=e),t.min=XS(t.min,e,n,f,o),t.max=XS(t.max,e,n,f,o)}function QS(t,e,[n,r,o],u,c){cj(t,e[n],e[r],e[o],e.scale,u,c)}const fj=["x","scaleX","originX"],hj=["y","scaleY","originY"];function $S(t,e,n,r){QS(t.x,e,fj,n?n.x:void 0,r?r.x:void 0),QS(t.y,e,hj,n?n.y:void 0,r?r.y:void 0)}function ZS(t){return t.translate===0&&t.scale===1}function JC(t){return ZS(t.x)&&ZS(t.y)}function JS(t,e){return t.min===e.min&&t.max===e.max}function dj(t,e){return JS(t.x,e.x)&&JS(t.y,e.y)}function eE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ex(t,e){return eE(t.x,e.x)&&eE(t.y,e.y)}function tE(t){return jt(t.x)/jt(t.y)}function nE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pj{constructor(){this.members=[]}add(e){og(this.members,e),e.scheduleRender()}remove(e){if(lg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mj(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:y,rotateY:v,skewX:_,skewY:S}=n;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),S&&(r+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(r+=`scale(${f}, ${p})`),r||"none"}const Jd=["","X","Y","Z"],gj={visibility:"hidden"},iE=1e3;let yj=0;function ep(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function tx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&tx(r)}function nx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},f=e==null?void 0:e()){this.id=yj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bj),this.nodes.forEach(Cj),this.nodes.forEach(xj),this.nodes.forEach(Sj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new sj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fg),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nj(c),this.instance=c;const{layoutId:p,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(h||p)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=rj(v,250),fc.hasAnimatedSinceResize&&(fc.hasAnimatedSinceResize=!1,this.nodes.forEach(rE))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||g.getDefaultTransition()||Dj,{onLayoutAnimationStart:C,onLayoutAnimationComplete:x}=g.getProps(),M=!this.targetLayout||!ex(this.targetLayout,S),N=!v&&_;if(this.options.layoutRoot||this.resumeFrom||N||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,N);const q={...Tg(w,"layout"),onPlay:C,onComplete:x};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else v||rE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Aj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sE);return}this.isUpdating||this.nodes.forEach(Tj),this.isUpdating=!1,this.nodes.forEach(wj),this.nodes.forEach(vj),this.nodes.forEach(_j),this.clearAllSnapshots();const f=Qt.now();Nt.delta=Ei(0,1e3/60,f-Nt.timestamp),Nt.timestamp=f,Nt.isProcessing=!0,qd.update.process(Nt),qd.preRender.process(Nt),qd.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ej),this.sharedNodes.forEach(Rj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jt(this.snapshot.measuredBox.x)&&!jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!JC(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;c&&(f||Vs(this.latestValues)||g)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),Mj(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return ht();const f=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Ij))){const{scroll:g}=this.root;g&&(Zr(f.x,g.offset.x),Zr(f.y,g.offset.y))}return f}removeElementScroll(c){var p;const f=ht();if(_n(f,c),(p=this.scroll)!=null&&p.wasRoot)return f;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&_n(f,c),Zr(f.x,y.offset.x),Zr(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const p=ht();_n(p,c);for(let h=0;h<this.path.length;h++){const g=this.path[h];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Jr(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vs(g.latestValues)&&Jr(p,g.latestValues)}return Vs(this.latestValues)&&Jr(p,this.latestValues),p}removeTransform(c){const f=ht();_n(f,c);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!Vs(h.latestValues))continue;Gp(h.latestValues)&&h.updateSnapshot();const g=ht(),y=h.measurePageBox();_n(g,y),$S(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Vs(this.latestValues)&&$S(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Qo(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),qC(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Qo(this.relativeTargetOrigin,this.target,_.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gp(this.parent.latestValues)||GC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(p=!1),p)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;_n(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;P3(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ht());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WS(this.prevProjectionDelta.x,this.projectionDelta.x),WS(this.prevProjectionDelta.y,this.projectionDelta.y)),Xo(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!nE(this.projectionDelta.x,this.prevProjectionDelta.x)||!nE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$r(),this.projectionDelta=$r(),this.projectionDeltaWithTransform=$r()}setAnimationOrigin(c,f=!1){const p=this.snapshot,h=p?p.latestValues:{},g={...this.latestValues},y=$r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=ht(),_=p?p.source:void 0,S=this.layout?this.layout.source:void 0,w=_!==S,C=this.getStack(),x=!C||C.members.length<=1,M=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(Oj));this.animationProgress=0;let N;this.mixTargetDelta=q=>{const D=q/1e3;aE(y.x,c.x,D),aE(y.y,c.y,D),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nj(this.relativeTarget,this.relativeTargetOrigin,v,D),N&&dj(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ht()),_n(N,this.relativeTarget)),w&&(this.animationValues=g,oj(g,h,this.latestValues,D,M,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{fc.hasAnimatedSinceResize=!0,this.currentAnimation=tj(0,iE,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:h,latestValues:g}=c;if(!(!f||!p||!h)){if(this!==c&&this.layout&&h&&ix(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||ht();const y=jt(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+y;const v=jt(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+v}_n(f,p),Jr(f,g),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new pj),this.sharedNodes.get(c).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const h={};p.z&&ep("z",c,h,this.animationValues);for(let g=0;g<Jd.length;g++)ep(`rotate${Jd[g]}`,c,h,this.animationValues),ep(`skew${Jd[g]}`,c,h,this.animationValues);c.render();for(const g in h)c.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return gj;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=cc(c==null?void 0:c.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=cc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Vs(this.latestValues)&&(_.transform=p?p({},""):"none",this.hasProjected=!1),_}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),f.transform=mj(this.projectionDeltaWithTransform,this.treeScale,g),p&&(f.transform=p(g,f.transform));const{x:y,y:v}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,h.animationValues?f.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:f.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in pl){if(g[_]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:C}=pl[_],x=f.transform==="none"?g[_]:S(g[_],h);if(w){const M=w.length;for(let N=0;N<M;N++)f[w[N]]=x}else C?this.options.visualElement.renderState.vars[_]=x:f[_]=x}return this.options.layoutId&&(f.pointerEvents=h===this?cc(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(sE),this.root.sharedNodes.clear()}}}function vj(t){t.updateLayout()}function _j(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?bn(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=jt(v);v.min=r[y].min,v.max=v.min+_}):ix(u,e.layoutBox,r)&&bn(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=jt(r[y]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+_)});const f=$r();Xo(f,r,e.layoutBox);const p=$r();c?Xo(p,t.applyTransform(o,!0),e.measuredBox):Xo(p,r,e.layoutBox);const h=!JC(f);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const S=ht();Qo(S,e.layoutBox,v.layoutBox);const w=ht();Qo(w,r,_.layoutBox),ex(S,w)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:p,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Sj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ej(t){t.clearSnapshot()}function sE(t){t.clearMeasurements()}function Tj(t){t.isLayoutDirty=!1}function wj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Cj(t){t.resolveTargetDelta()}function xj(t){t.calcProjection()}function Aj(t){t.resetSkewAndRotation()}function Rj(t){t.removeLeadSnapshot()}function aE(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oE(t,e,n,r){t.min=nt(e.min,n.min,r),t.max=nt(e.max,n.max,r)}function Nj(t,e,n,r){oE(t.x,e.x,n.x,r),oE(t.y,e.y,n.y,r)}function Oj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Dj={duration:.45,ease:[.4,0,.1,1]},lE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uE=lE("applewebkit/")&&!lE("chrome/")?Math.round:En;function cE(t){t.min=uE(t.min),t.max=uE(t.max)}function Mj(t){cE(t.x),cE(t.y)}function ix(t,e,n){return t==="position"||t==="preserve-aspect"&&!k3(tE(e),tE(n),.2)}function Ij(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const kj=nx({attachResizeListener:(t,e)=>gl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tp={current:void 0},sx=nx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tp.current){const t=new kj({});t.mount(window),t.setOptions({layoutScroll:!0}),tp.current=t}return tp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Lj={pan:{Feature:$3},drag:{Feature:Q3,ProjectionNode:sx,MeasureLayout:QC}};function fE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&it.postRender(()=>u(e,Ml(e)))}class Pj extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=hU(e,(n,r)=>(fE(this.node,r,"Start"),o=>fE(this.node,o,"End"))))}unmount(){}}class Uj extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nl(gl(this.node.current,"focus",()=>this.onFocus()),gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&it.postRender(()=>u(e,Ml(e)))}class jj extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=gU(e,(n,r)=>(hE(this.node,r,"Start"),(o,{success:u})=>hE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kp=new WeakMap,np=new WeakMap,Vj=t=>{const e=Kp.get(t.target);e&&e(t)},Bj=t=>{t.forEach(Vj)};function zj({root:t,...e}){const n=t||document;np.has(n)||np.set(n,{});const r=np.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(Bj,{root:t,...e})),r[o]}function Hj(t,e,n){const r=zj(e);return Kp.set(t,n),r.observe(t),()=>{Kp.delete(t),r.unobserve(t)}}const Fj={some:0,all:1};class Gj extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Fj[o]},f=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,u&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=h?g:y;v&&v(p)};return Hj(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qj(e,n))&&this.startObserver()}unmount(){}}function qj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Yj={inView:{Feature:Gj},tap:{Feature:jj},focus:{Feature:Uj},hover:{Feature:Pj}},Kj={layout:{ProjectionNode:sx,MeasureLayout:QC}},Wp={current:null},rx={current:!1};function Wj(){if(rx.current=!0,!!rg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wp.current=t.matches;t.addListener(e),e()}else Wp.current=!1}const Xj=new WeakMap;function Qj(t,e,n){for(const r in e){const o=e[r],u=n[r];if(Pt(o))t.addValue(r,o);else if(Pt(u))t.addValue(r,hl(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,hl(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $j{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Eg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Qt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,it.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=cf(n),this.isVariantNode=xC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const _=y[v];p[v]!==void 0&&Pt(_)&&_.set(p[v],!1)}}mount(e){this.current=e,Xj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rx.current||Wj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cs(this.notifyUpdate),cs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ra.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pa){const n=pa[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dE.length;r++){const o=dE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Qj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Pw(r)||Uw(r))?r=parseFloat(r):!bU(r)&&fs.test(n)&&(r=_C(e,n)),this.setBaseTarget(e,Pt(r)?r.get():r)),Pt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Ig(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Pt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ax extends $j{constructor(){super(...arguments),this.KeyframeResolver=uU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ox(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in n)t.style.setProperty(u,n[u])}function Zj(t){return window.getComputedStyle(t)}class Jj extends ax{constructor(){super(...arguments),this.type="html",this.renderInstance=ox}readValueFromInstance(e,n){if(Ra.has(n))return RP(e,n);{const r=Zj(e),o=(pg(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YC(e,n)}build(e,n,r){Og(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kg(e,n,r)}}const lx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e4(t,e,n,r){ox(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(lx.has(o)?o:Ng(o),e.attrs[o])}class t4 extends ax{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ra.has(n)){const r=vC(n);return r&&r.default||0}return n=lx.has(n)?n:Ng(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PC(e,n,r)}build(e,n,r){MC(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){e4(e,n,r,o)}mount(e){this.isSVGTag=kC(e.tagName),super.mount(e)}}const n4=(t,e)=>Mg(t)?new t4(e):new Jj(e,{allowProjection:t!==R.Fragment}),i4=e3({...x3,...Yj,...Lj,...Kj},n4),s4=CU(i4),Xp=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],r4=6e4,ux=R.createContext({currentIndex:0}),a4=({children:t})=>{const[e,n]=R.useState(0);return R.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%Xp.length)},r4);return()=>clearInterval(r)},[]),L.jsx(ux.Provider,{value:{currentIndex:e},children:t})},Il=()=>{const{currentIndex:t}=R.useContext(ux);return{backgroundElement:L.jsx(CL,{mode:"wait",children:L.jsx(s4.div,{className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Xp[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}},t)}),currentIndex:t,imageUrl:Xp[t]}},o4=()=>{const t=va(),{backgroundElement:e}=Il();return L.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white",children:[e,L.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md px-12 py-10 rounded-2xl max-w-3xl w-full text-center shadow-xl space-y-6 animate-fade-in",children:[L.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-wider leading-relaxed text-white whitespace-nowrap",children:L.jsx(bL,{options:{strings:["夜の帳が降りる頃、物語は始まる。"],autoStart:!0,loop:!1,delay:60,deleteSpeed:30},onInit:n=>{n.start().typeString("夜の帳が降りる頃、物語は始まる。")}})}),L.jsx("p",{className:"text-gray-300 text-sm sm:text-base tracking-wide",children:"As dusk falls, the story begins."}),L.jsx("button",{onClick:()=>t("/login"),className:"btn-primary px-6 py-2",children:"はじめる"})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pE=t=>{const e=u4(t);return e.charAt(0).toUpperCase()+e.slice(1)},cx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),c4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...f},p)=>R.createElement("svg",{ref:p,...f4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cx("lucide",o),...!u&&!c4(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,g])=>R.createElement(h,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=(t,e)=>{const n=R.forwardRef(({className:r,...o},u)=>R.createElement(h4,{ref:u,iconNode:e,className:cx(`lucide-${l4(pE(t))}`,`lucide-${t}`,r),...o}));return n.displayName=pE(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],p4=fx("eye-off",d4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g4=fx("eye",m4),y4=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(""),[o,u]=R.useState(""),[c,f]=R.useState(!1),[p,h]=R.useState(""),[g,y]=R.useState(!1),v=va(),{backgroundElement:_}=Il();R.useRef(null),R.useRef(null),R.useEffect(()=>{r(""),u(""),h("")},[t]);const S=async C=>{C.preventDefault(),h(""),y(!0);try{t?(await VD(qs,n,o),v("/profile")):(await BD(qs,n,o),v("/chat"))}catch(x){h(x.message)}finally{y(!1)}},w=async()=>{const C=new fi;try{const M=(await uM(qs,C)).user,N=an(),q=$e(N,`users/${M.uid}`);Bs(q,D=>{D.exists()||Zi(q,{nickname:M.displayName||"匿名使用者",avatarUrl:M.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),v("/chat")}catch(x){h(x.message)}};return L.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden",children:[_,L.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl",children:[L.jsxs("div",{className:"flex justify-center space-x-4",children:[L.jsx("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`,children:"Login"}),L.jsx("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`,children:"Sign Up"})]}),L.jsxs("form",{onSubmit:S,className:"space-y-4",children:[L.jsx("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:C=>r(C.target.value),required:!0}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:C=>u(C.target.value),required:!0}),L.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password",children:c?L.jsx(p4,{size:20}):L.jsx(g4,{size:20})})]}),p&&L.jsx("p",{className:"text-red-400 text-sm text-center",children:p}),L.jsx("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]",children:t?"Sign Up":"Login"})]}),L.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition",children:[L.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]}),L.jsxs("p",{className:"text-center text-sm text-white/80",children:[t?"Already have an account?":"Don't have an account?"," ",L.jsx("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition",children:t?"Login":"Sign up"})]})]})]})},v4=({user:t,isFriend:e,onClose:n,onStartChat:r,onAddFriend:o})=>L.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-xs flex flex-col items-center",children:[L.jsx("img",{src:t.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-24 h-24 rounded-full object-cover"}),L.jsx("h2",{className:"text-xl font-bold text-white",children:t.nickname}),t.statusMessage&&L.jsx("p",{className:"text-sm italic text-gray-400 text-center px-2",children:t.statusMessage}),e?L.jsx("button",{onClick:r,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 hover:brightness-110 transition",children:"開始聊天"}):L.jsx("button",{onClick:o,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transition-all duration-200",children:"➕ 加好友"}),L.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white mt-4",children:"關閉"})]})});function _4(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const b4="dhtqetylj",S4="Chatroom_Avatars",Lo=(t,e)=>[t,e].sort().join("_"),E4=()=>{const[t,e]=R.useState(""),[n,r]=R.useState([]),[o,u]=R.useState(""),[c,f]=R.useState([]),[p,h]=R.useState([]),[g,y]=R.useState("public"),[v,_]=R.useState(""),[S,w]=R.useState(""),[C,x]=R.useState(""),[M,N]=R.useState("#bfa382"),[q,D]=R.useState(!1),[z,K]=R.useState(!1),[F,J]=R.useState(""),[ie,se]=R.useState([]),le=va(),{backgroundElement:Ae}=Il(),Se=R.useRef(null),[ye,P]=R.useState([]),[Z,ae]=R.useState(!1),[re,T]=R.useState([]),[H,W]=R.useState(""),[ee,k]=R.useState(null),[Re,$]=R.useState(!1),te=qs.currentUser;R.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),R.useEffect(()=>{const Q=setTimeout(()=>{var fe;(fe=Se.current)==null||fe.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(Q)},[n]),R.useEffect(()=>{if(!te){le("/login");return}const Q=an(),fe=$e(Q,`users/${te.uid}`);Bs(fe,ke=>{const Me=ke.val();Me&&(w(Me.nickname||""),x(Me.avatarUrl||""),N(Me.themeColor||"#bfa382"))});const Ee=$e(Q,"users");Bs(Ee,ke=>{const Me=ke.val();if(Me){const st=Object.entries(Me).filter(([et])=>et!==te.uid).map(([et,Ht])=>({uid:et,nickname:Ht.nickname,avatarUrl:Ht.avatarUrl,statusMessage:Ht.statusMessage||""}));f(st)}});const be=$e(Q,"groups");Bs(be,ke=>{const Me=ke.val();if(Me){const st=Object.entries(Me).map(([et,Ht])=>({id:et,name:Ht.name,members:Ht.members}));h(st)}})},[te,le]),R.useEffect(()=>{const Q=an();if(!te)return;let fe;if(g==="public")fe=$e(Q,"messages/public");else if(v)fe=$e(Q,`messages/groups/${v}`);else{const Ee=Lo(te.uid,g);fe=$e(Q,`messages/private/${Ee}`)}Bs(fe,Ee=>{const be=Ee.val();if(be){const ke=Object.entries(be).map(([Me,st])=>({id:Me,...st}));r(ke)}else r([])})},[g,v]),R.useEffect(()=>{if(!te)return;const Q=an(),fe=$e(Q,`users/${te.uid}/friends`);Bs(fe,Ee=>{const be=Ee.val();P(be?Object.keys(be):[])})},[te]);const ve=async()=>{if(!o.trim())return;const Q=an();if(!te)return;if(g!=="public"&&v===""&&!ye.includes(g)){alert("你必須先加對方為好友才能私訊喔 🌸");return}const fe=Date.now(),Ee={text:_4(o),sender:te.uid,nickname:S,avatarUrl:C,timestamp:fe};let be;if(g==="public")be=$e(Q,"messages/public");else if(v)be=$e(Q,`messages/groups/${v}`);else{const Me=Lo(te.uid,g);be=$e(Q,`messages/private/${Me}`)}const ke=Qu(be);await Zi(ke,Ee),u(""),Notification.permission==="granted"&&te&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:C||"/image/default-avatar.jpg"})},Ye=async Q=>{const Ee=`https://g.tenor.com/v1/search?q=${Q}&key=LIVDSRZULELA&limit=20`,ke=await(await fetch(Ee)).json();T(ke.results||[])},je=Q=>{const fe=document.getElementById(`msg-${Q}`);fe&&(fe.classList.add("animate-shatter"),setTimeout(()=>{mt(Q)},500))},mt=async Q=>{if(!te)return;const fe=an();let Ee;if(g==="public")Ee=$e(fe,`messages/public/${Q}`);else if(v)Ee=$e(fe,`messages/groups/${v}/${Q}`);else{const be=Lo(te.uid,g);Ee=$e(fe,`messages/private/${be}/${Q}`)}await Zi(Ee,null)},ln=async Q=>{if(!te)return;const fe=an(),Ee=Date.now(),be={text:"",gifUrl:Q,sender:te.uid,nickname:S,avatarUrl:C,timestamp:Ee};let ke;if(g==="public")ke=$e(fe,"messages/public");else if(v)ke=$e(fe,`messages/groups/${v}`);else{const st=Lo(te.uid,g);ke=$e(fe,`messages/private/${st}`)}const Me=Qu(ke);await Zi(Me,be),ae(!1)},wn=async Q=>{var be;const fe=(be=Q.target.files)==null?void 0:be[0];if(!fe||!te)return;const Ee=new FormData;Ee.append("file",fe),Ee.append("upload_preset",S4),Ee.append("folder","chat-images");try{const Me=await(await fetch(`https://api.cloudinary.com/v1_1/${b4}/image/upload`,{method:"POST",body:Ee})).json(),st=an(),et=Date.now(),Ht={text:"",imageUrl:Me.secure_url,sender:te.uid,nickname:S,avatarUrl:C,timestamp:et};let Ci;if(g==="public")Ci=$e(st,"messages/public");else if(v)Ci=$e(st,`messages/groups/${v}`);else{const Ai=Lo(te.uid,g);Ci=$e(st,`messages/private/${Ai}`)}const xi=Qu(Ci);await Zi(xi,Ht)}catch(ke){console.error("上傳圖片失敗:",ke)}},un=async Q=>{if(!te)return;const fe=an(),Ee=$e(fe,`users/${te.uid}/friends/${Q}`),be=$e(fe,`users/${Q}/friends/${te.uid}`);await Zi(Ee,!0),await Zi(be,!0)},ir=()=>{y("public"),_(""),D(!1)},Wn=Q=>{y(Q),_(""),D(!1)},zt=Q=>{y(""),_(Q),D(!1)},sr=()=>{le("/profile"),D(!1)},rr=async()=>{await qs.signOut(),le("")},ar=async()=>{if(!F.trim()||ie.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const Q=an();if(!te)return;const fe=$e(Q,"groups"),Ee=Qu(fe),be={};ie.forEach(ke=>be[ke]=!0),be[te.uid]=!0,await Zi(Ee,{name:F,members:be}),K(!1),J(""),se([])},Xn=Q=>new Date(Q).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return L.jsxs(L.Fragment,{children:[Ae,Z&&L.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md",children:[L.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"搜尋 GIF ✨"}),L.jsx("input",{type:"text",value:H,onChange:Q=>W(Q.target.value),placeholder:"輸入關鍵字...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),L.jsx("div",{className:"flex justify-end",children:L.jsx("button",{onClick:()=>Ye(H),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition",children:"搜尋"})}),L.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto",children:re.map(Q=>L.jsx("img",{src:Q.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>ln(Q.media[0].tinygif.url)},Q.id))}),L.jsx("div",{className:"flex justify-center pt-4",children:L.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-white",children:"關閉"})})]})}),Re&&ee&&L.jsx(v4,{user:ee,isFriend:ye.includes(ee.uid),onStartChat:()=>{y(ee.uid),_(""),$(!1)},onAddFriend:()=>un(ee.uid),onClose:()=>$(!1)}),z&&L.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:L.jsxs("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4",children:[L.jsx("h2",{className:"text-xl font-bold",children:"創建新群組"}),L.jsx("input",{type:"text",value:F,onChange:Q=>J(Q.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),L.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:c.filter(Q=>ye.includes(Q.uid)).length===0?L.jsx("div",{className:"text-gray-400 text-center py-4",children:"尚未加任何好友，無法建立群組喔 🌸"}):c.filter(Q=>ye.includes(Q.uid)).map(Q=>L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("input",{type:"checkbox",value:Q.uid,onChange:fe=>{fe.target.checked?se(Ee=>[...Ee,Q.uid]):se(Ee=>Ee.filter(be=>be!==Q.uid))}}),L.jsx("span",{children:Q.nickname})]},Q.uid))}),L.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[L.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 rounded-lg bg-gray-600",children:"Cancel"}),L.jsx("button",{onClick:ar,className:"px-4 py-2 rounded-lg bg-green-600",children:"Create"})]})]})}),L.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[L.jsxs("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${q?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`,children:[L.jsx("button",{onClick:ir,className:"text-lg font-bold hover:underline",style:{color:M},children:"🌎 Public Chat"}),L.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"All Users"}),L.jsx("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto",children:c&&c.map(Q=>L.jsxs("div",{className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition",children:[L.jsxs("button",{onClick:()=>Wn(Q.uid),className:"flex items-center space-x-2",children:[L.jsx("img",{src:Q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),L.jsx("span",{children:Q.nickname})]}),!ye.includes(Q.uid)&&L.jsx("button",{onClick:()=>un(Q.uid),className:"text-green-400 hover:text-green-300 text-lg",children:"➕"})]},Q.uid))}),L.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Groups"}),L.jsx("div",{className:"flex flex-col space-y-2",children:p.filter(Q=>Q.members[te?te.uid:0]).map(Q=>L.jsxs("button",{onClick:()=>zt(Q.id),className:"hover:bg-white/10 p-2 rounded transition",children:["🧑‍🤝‍🧑 ",Q.name]},Q.id))}),L.jsx("button",{onClick:()=>K(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition",children:"➕ Create Group"}),L.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-white/20",children:[L.jsx("button",{onClick:()=>le("/"),className:"text-sm hover:underline",style:{color:M},children:"🏠"}),L.jsx("button",{onClick:sr,className:"text-sm hover:underline",style:{color:M},children:"Profile"}),L.jsx("button",{onClick:rr,className:"text-sm text-red-400 hover:underline",children:"Logout"})]})]}),L.jsxs("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner",children:[L.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[L.jsx("div",{className:"p-4",children:L.jsx("input",{type:"text",placeholder:"搜尋訊息 🔍",value:t,onChange:Q=>e(Q.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})}),n.filter(Q=>{var be;if(!t.trim())return!0;const fe=t.toLowerCase();return(be=Q.text)==null?void 0:be.toLowerCase().includes(fe)}).length===0?L.jsx("div",{className:"text-center text-gray-400 mt-10",children:"沒有找到相關訊息喔 🌸"}):n.filter(Q=>{var be;if(!t.trim())return!0;const fe=t.toLowerCase();return(be=Q.text)==null?void 0:be.toLowerCase().includes(fe)}).map(Q=>L.jsx("div",{id:`msg-${Q.id}`,className:`flex ${Q.sender===(te==null?void 0:te.uid)?"justify-end":"justify-start"} fade-in`,children:L.jsxs("div",{className:"flex items-end space-x-2",children:[Q.sender!==(te==null?void 0:te.uid)&&L.jsx("img",{src:Q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onClick:()=>{const fe=c.find(Ee=>Ee.uid===Q.sender);fe&&(k(fe),$(!0))}}),L.jsxs("div",{className:"flex flex-col items-start max-w-xs",children:[Q.sender===(te==null?void 0:te.uid)&&L.jsx("button",{onClick:()=>je(Q.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"收回訊息",children:"↩️"}),L.jsxs("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:Q.sender===(te==null?void 0:te.uid)?M:"#d1d5db",color:Q.sender===(te==null?void 0:te.uid)?"white":"black"},children:[Q.text&&L.jsx("span",{children:Q.text}),Q.imageUrl&&L.jsx("img",{src:Q.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(Q.imageUrl,"_blank")}),Q.gifUrl&&L.jsx("img",{src:Q.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(Q.gifUrl,"_blank")})]}),L.jsx("span",{className:"text-xs text-gray-400 mt-1 ml-2",children:Xn(Q.timestamp)})]}),Q.sender===(te==null?void 0:te.uid)&&L.jsx("img",{src:Q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})]})})),L.jsx("div",{ref:Se})]}),L.jsxs("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2",children:[L.jsx("input",{type:"text",value:o,onChange:Q=>u(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),ve())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),L.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:wn}),L.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:M},children:"🖼️"}),L.jsx("button",{onClick:()=>ae(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:M},children:"🔎"}),L.jsx("button",{onClick:ve,style:{backgroundColor:M},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",children:"Send"})]})]})]})]})},ip=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],T4=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(null),[o,u]=R.useState(""),[c,f]=R.useState(ip[2].color),[p,h]=R.useState(""),[g,y]=R.useState(!0),v=va(),_="dhtqetylj",S="Chatroom_Avatars",w=qs.currentUser,C=R.useRef(null),{backgroundElement:x}=Il();R.useEffect(()=>{if(!w){v("/login");return}const D=an(),z=$e(D,`users/${w.uid}`);Bs(z,K=>{const F=K.val();F&&(e(F.nickname||""),h(F.statusMessage||""),u(F.avatarUrl||""),f(F.themeColor||ip[2].color)),y(!1)})},[w,v]);async function M(D){const z=new FormData;return z.append("file",D),z.append("upload_preset",S),z.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${_}/image/upload`,{method:"POST",body:z})).json()).secure_url}const N=async()=>{if(!w)return;const D=an(),z=$e(D,`users/${w.uid}`);let K=o;n&&(K=await M(n)),await rL(z,{nickname:t,statusMessage:p,themeColor:c,avatarUrl:K}),v("/chat")},q=D=>{var K;const z=(K=D.target.files)==null?void 0:K[0];z&&(r(z),u(URL.createObjectURL(z)))};return g?L.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading Profile..."}):L.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4",children:[x,L.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center",children:[L.jsx("h1",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Update Your Profile"}),L.jsxs("div",{className:"relative",children:[L.jsx("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var D;return(D=C.current)==null?void 0:D.click()}}),L.jsx("input",{type:"file",accept:"image/*",ref:C,onChange:q,className:"hidden"})]}),L.jsx("input",{type:"text",value:t,onChange:D=>e(D.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),L.jsx("input",{type:"text",value:p,onChange:D=>h(D.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),L.jsx("div",{className:"flex space-x-3 justify-center",children:ip.map(D=>L.jsx("button",{type:"button",onClick:()=>f(D.color),style:{backgroundColor:D.color},className:`w-8 h-8 rounded-full border-2 ${c===D.color?"border-white":"border-transparent"} transition-all`},D.color))}),L.jsx("button",{onClick:N,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c},children:"Save"})]})]})},w4=()=>{const{backgroundElement:t}=Il();return L.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center px-4 py-12 bg-black text-white font-zen",children:[t,L.jsxs("div",{className:"z-10 grid grid-cols-1 md:grid-cols-2 gap-10 max-w-6xl w-full",children:[L.jsx("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl shadow-xl p-8 space-y-6 animate-fade-in",children:L.jsxs("div",{className:"relative z-10 bg-black/60 p-6 rounded-xl space-y-6 text-white",children:[L.jsx("h1",{className:"text-3xl font-bold tracking-wider text-[#f9f6f1]",children:"About Me"}),L.jsx("p",{className:"text-gray-300 leading-relaxed",children:"嗨，我是 Chang0608，目前就讀於清華大學資訊工程學系。 我喜歡在深夜寫程式，對於能「活起來」的介面特別著迷：像是會回話的聊天室、會打字的首頁、會閃爍的霓虹背景。 對我來說，程式不只是工具，而是一種溫柔的表達形式。"}),L.jsx("p",{className:"text-gray-300 leading-relaxed",children:"過去我完成了一個以 Firebase + React 為主的聊天室專案，支援使用者登入、私聊群聊、訊息搜尋、撤回、GIF 傳送、個人主題設定……甚至還打造了一個日系霧氣打字風格的進場畫面。那不只是一個作品，更像是一段能與自己對話的夜晚。"}),L.jsx("p",{className:"text-gray-400 leading-relaxed",children:"技術上，我熟悉："}),L.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[L.jsx("li",{children:"React / TypeScript / TailwindCSS"}),L.jsx("li",{children:"Firebase 全家桶：Auth, Firestore, Hosting, Storage"}),L.jsx("li",{children:"Python / C / C++，並有 bitonic sort、OpenACC 平行化、HPC 專題等經驗"}),L.jsx("li",{children:"具備測資能力，會寫單元測試、Git 使用熟練"})]}),L.jsx("p",{className:"text-gray-300 leading-relaxed",children:"我曾是台北前三志願高中程式校隊成員，拿過市賽獎項與自主學習佳作。 進入大學後接觸到更多實戰型專案，也開始打磨出自己對「乾淨程式碼」與「有靈魂介面」的執著。"}),L.jsxs("p",{className:"text-sm text-gray-500",children:["「夜の帳が降りる頃、物語は始まる。」",L.jsx("br",{}),"我想寫的，從來不只是程式，而是自己的成長日誌。"]})]})}),L.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-white/5 backdrop-blur-md rounded-2xl p-6 space-y-4 w-full max-w-sm h-fit shadow-xl animate-fade-in",children:[L.jsx("img",{src:"/image/profile-symbolic.jpg",alt:"Profile Symbol",className:"rounded-full w-24 h-24 object-cover shadow-md"}),L.jsx("p",{className:"text-sm text-gray-300 italic text-center",children:"“靜靜寫程式，也是在認識自己。”"}),L.jsx("div",{className:"w-full border-t border-white/20 pt-2"}),L.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-white",children:[L.jsx("a",{href:"https://github.com/你的帳號",className:"hover:text-[#bfa382] transition",target:"_blank",children:"GitHub"}),L.jsx("a",{href:"mailto:chang0608@email.com",className:"hover:text-[#bfa382] transition",children:"Email"})]})]})]})]})},C4=()=>{const t=wi(),e=[{name:"首頁",path:"/"},{name:"聊天室",path:"/chat"},{name:"作品集",path:"/projects"},{name:"關於我",path:"/about"}];return L.jsx("nav",{className:"fixed top-0 left-0 z-50 w-full transition-all duration-300 opacity-0 -translate-y-6 hover:opacity-100 hover:translate-y-0 bg-black/40 backdrop-blur-md border-b border-white/10 shadow-sm",children:L.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-8 py-3 flex justify-between items-center text-white",children:[L.jsx("div",{className:"font-bold text-lg tracking-wide",children:"夜の技術帖"}),L.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base font-zen",children:e.map(n=>L.jsx("li",{children:L.jsx(sm,{to:n.path,className:`px-3 py-1 rounded-xl transition-all duration-200 ${t.pathname===n.path?"bg-[#bfa382] text-white":"hover:bg-white/10"}`,children:n.name})},n.path))})]})})};function x4(){const[t,e]=R.useState(null),[n,r]=R.useState(!0);return R.useEffect(()=>{const o=FD(qs,u=>{e(u),r(!1)});return()=>o()},[]),n?L.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading..."}):L.jsxs(QR,{children:[t&&L.jsx(C4,{}),L.jsxs(xR,{children:[L.jsx(Kr,{path:"/",element:L.jsx(o4,{})}),L.jsx(Kr,{path:"/login",element:t?L.jsx(Nd,{to:"/chat"}):L.jsx(y4,{})}),L.jsx(Kr,{path:"/chat",element:t?L.jsx(E4,{}):L.jsx(Nd,{to:"/login"})}),L.jsx(Kr,{path:"/profile",element:t?L.jsx(T4,{}):L.jsx(Nd,{to:"/login"})}),L.jsx(Kr,{path:"/about",element:L.jsx(w4,{})})]})]})}P1.createRoot(document.getElementById("root")).render(L.jsx(R1.StrictMode,{children:L.jsx(a4,{children:L.jsx(x4,{})})}));
