(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bd={exports:{}},_o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function TR(){if(E0)return _o;E0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return _o.Fragment=e,_o.jsx=n,_o.jsxs=n,_o}var T0;function CR(){return T0||(T0=1,bd.exports=TR()),bd.exports}var P=CR(),Sd={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function wR(){if(C0)return de;C0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function D(w,F,Q){this.props=w,this.context=F,this.refs=N,this.updater=Q||S}D.prototype.isReactComponent={},D.prototype.setState=function(w,F){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,F,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function R(){}R.prototype=D.prototype;function j(w,F,Q){this.props=w,this.context=F,this.refs=N,this.updater=Q||S}var L=j.prototype=new R;L.constructor=j,E(L,D.prototype),L.isPureReactComponent=!0;var K=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function Z(w,F,Q,X,ie,Ce){return Q=Ce.ref,{$$typeof:t,type:w,key:F,ref:Q!==void 0?Q:null,props:Ce}}function $(w,F){return Z(w.type,F,void 0,void 0,void 0,w.props)}function ae(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function Te(w){var F={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Q){return F[Q]})}var We=/\/+/g;function qe(w,F){return typeof w=="object"&&w!==null&&w.key!=null?Te(""+w.key):F.toString(36)}function yn(){}function Gt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(yn,yn):(w.status="pending",w.then(function(F){w.status==="pending"&&(w.status="fulfilled",w.value=F)},function(F){w.status==="pending"&&(w.status="rejected",w.reason=F)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Xe(w,F,Q,X,ie){var Ce=typeof w;(Ce==="undefined"||Ce==="boolean")&&(w=null);var le=!1;if(w===null)le=!0;else switch(Ce){case"bigint":case"string":case"number":le=!0;break;case"object":switch(w.$$typeof){case t:case e:le=!0;break;case g:return le=w._init,Xe(le(w._payload),F,Q,X,ie)}}if(le)return ie=ie(w),le=X===""?"."+qe(w,0):X,K(ie)?(Q="",le!=null&&(Q=le.replace(We,"$&/")+"/"),Xe(ie,F,Q,"",function(Dn){return Dn})):ie!=null&&(ae(ie)&&(ie=$(ie,Q+(ie.key==null||w&&w.key===ie.key?"":(""+ie.key).replace(We,"$&/")+"/")+le)),F.push(ie)),1;le=0;var te=X===""?".":X+":";if(K(w))for(var Ve=0;Ve<w.length;Ve++)X=w[Ve],Ce=te+qe(X,Ve),le+=Xe(X,F,Q,Ce,ie);else if(Ve=_(w),typeof Ve=="function")for(w=Ve.call(w),Ve=0;!(X=w.next()).done;)X=X.value,Ce=te+qe(X,Ve++),le+=Xe(X,F,Q,Ce,ie);else if(Ce==="object"){if(typeof w.then=="function")return Xe(Gt(w),F,Q,X,ie);throw F=String(w),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return le}function V(w,F,Q){if(w==null)return w;var X=[],ie=0;return Xe(w,X,"","",function(Ce){return F.call(Q,Ce,ie++)}),X}function G(w){if(w._status===-1){var F=w._result;F=F(),F.then(function(Q){(w._status===0||w._status===-1)&&(w._status=1,w._result=Q)},function(Q){(w._status===0||w._status===-1)&&(w._status=2,w._result=Q)}),w._status===-1&&(w._status=0,w._result=F)}if(w._status===1)return w._result.default;throw w._result}var ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ae(){}return de.Children={map:V,forEach:function(w,F,Q){V(w,function(){F.apply(this,arguments)},Q)},count:function(w){var F=0;return V(w,function(){F++}),F},toArray:function(w){return V(w,function(F){return F})||[]},only:function(w){if(!ae(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},de.Component=D,de.Fragment=n,de.Profiler=o,de.PureComponent=j,de.StrictMode=r,de.Suspense=d,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,de.__COMPILER_RUNTIME={__proto__:null,c:function(w){return U.H.useMemoCache(w)}},de.cache=function(w){return function(){return w.apply(null,arguments)}},de.cloneElement=function(w,F,Q){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=E({},w.props),ie=w.key,Ce=void 0;if(F!=null)for(le in F.ref!==void 0&&(Ce=void 0),F.key!==void 0&&(ie=""+F.key),F)!W.call(F,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&F.ref===void 0||(X[le]=F[le]);var le=arguments.length-2;if(le===1)X.children=Q;else if(1<le){for(var te=Array(le),Ve=0;Ve<le;Ve++)te[Ve]=arguments[Ve+2];X.children=te}return Z(w.type,ie,void 0,void 0,Ce,X)},de.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},de.createElement=function(w,F,Q){var X,ie={},Ce=null;if(F!=null)for(X in F.key!==void 0&&(Ce=""+F.key),F)W.call(F,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ie[X]=F[X]);var le=arguments.length-2;if(le===1)ie.children=Q;else if(1<le){for(var te=Array(le),Ve=0;Ve<le;Ve++)te[Ve]=arguments[Ve+2];ie.children=te}if(w&&w.defaultProps)for(X in le=w.defaultProps,le)ie[X]===void 0&&(ie[X]=le[X]);return Z(w,Ce,void 0,void 0,null,ie)},de.createRef=function(){return{current:null}},de.forwardRef=function(w){return{$$typeof:h,render:w}},de.isValidElement=ae,de.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:G}},de.memo=function(w,F){return{$$typeof:m,type:w,compare:F===void 0?null:F}},de.startTransition=function(w){var F=U.T,Q={};U.T=Q;try{var X=w(),ie=U.S;ie!==null&&ie(Q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ae,ee)}catch(Ce){ee(Ce)}finally{U.T=F}},de.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},de.use=function(w){return U.H.use(w)},de.useActionState=function(w,F,Q){return U.H.useActionState(w,F,Q)},de.useCallback=function(w,F){return U.H.useCallback(w,F)},de.useContext=function(w){return U.H.useContext(w)},de.useDebugValue=function(){},de.useDeferredValue=function(w,F){return U.H.useDeferredValue(w,F)},de.useEffect=function(w,F,Q){var X=U.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(w,F)},de.useId=function(){return U.H.useId()},de.useImperativeHandle=function(w,F,Q){return U.H.useImperativeHandle(w,F,Q)},de.useInsertionEffect=function(w,F){return U.H.useInsertionEffect(w,F)},de.useLayoutEffect=function(w,F){return U.H.useLayoutEffect(w,F)},de.useMemo=function(w,F){return U.H.useMemo(w,F)},de.useOptimistic=function(w,F){return U.H.useOptimistic(w,F)},de.useReducer=function(w,F,Q){return U.H.useReducer(w,F,Q)},de.useRef=function(w){return U.H.useRef(w)},de.useState=function(w){return U.H.useState(w)},de.useSyncExternalStore=function(w,F,Q){return U.H.useSyncExternalStore(w,F,Q)},de.useTransition=function(){return U.H.useTransition()},de.version="19.1.0",de}var w0;function Wp(){return w0||(w0=1,Sd.exports=wR()),Sd.exports}var C=Wp();const AR=fE(C);var Ed={exports:{}},bo={},Td={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function xR(){return A0||(A0=1,function(t){function e(V,G){var ee=V.length;V.push(G);e:for(;0<ee;){var Ae=ee-1>>>1,w=V[Ae];if(0<o(w,G))V[Ae]=G,V[ee]=w,ee=Ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],ee=V.pop();if(ee!==G){V[0]=ee;e:for(var Ae=0,w=V.length,F=w>>>1;Ae<F;){var Q=2*(Ae+1)-1,X=V[Q],ie=Q+1,Ce=V[ie];if(0>o(X,ee))ie<w&&0>o(Ce,X)?(V[Ae]=Ce,V[ie]=ee,Ae=ie):(V[Ae]=X,V[Q]=ee,Ae=Q);else if(ie<w&&0>o(Ce,ee))V[Ae]=Ce,V[ie]=ee,Ae=ie;else break e}}return G}function o(V,G){var ee=V.sortIndex-G.sortIndex;return ee!==0?ee:V.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,y=null,_=3,S=!1,E=!1,N=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function K(V){for(var G=n(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=V)r(m),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(m)}}function U(V){if(N=!1,K(V),!E)if(n(d)!==null)E=!0,W||(W=!0,qe());else{var G=n(m);G!==null&&Xe(U,G.startTime-V)}}var W=!1,Z=-1,$=5,ae=-1;function Te(){return D?!0:!(t.unstable_now()-ae<$)}function We(){if(D=!1,W){var V=t.unstable_now();ae=V;var G=!0;try{e:{E=!1,N&&(N=!1,j(Z),Z=-1),S=!0;var ee=_;try{t:{for(K(V),y=n(d);y!==null&&!(y.expirationTime>V&&Te());){var Ae=y.callback;if(typeof Ae=="function"){y.callback=null,_=y.priorityLevel;var w=Ae(y.expirationTime<=V);if(V=t.unstable_now(),typeof w=="function"){y.callback=w,K(V),G=!0;break t}y===n(d)&&r(d),K(V)}else r(d);y=n(d)}if(y!==null)G=!0;else{var F=n(m);F!==null&&Xe(U,F.startTime-V),G=!1}}break e}finally{y=null,_=ee,S=!1}G=void 0}}finally{G?qe():W=!1}}}var qe;if(typeof L=="function")qe=function(){L(We)};else if(typeof MessageChannel<"u"){var yn=new MessageChannel,Gt=yn.port2;yn.port1.onmessage=We,qe=function(){Gt.postMessage(null)}}else qe=function(){R(We,0)};function Xe(V,G){Z=R(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var ee=_;_=G;try{return V()}finally{_=ee}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=_;_=V;try{return G()}finally{_=ee}},t.unstable_scheduleCallback=function(V,G,ee){var Ae=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ae+ee:Ae):ee=Ae,V){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,V={id:g++,callback:G,priorityLevel:V,startTime:ee,expirationTime:w,sortIndex:-1},ee>Ae?(V.sortIndex=ee,e(m,V),n(d)===null&&V===n(m)&&(N?(j(Z),Z=-1):N=!0,Xe(U,ee-Ae))):(V.sortIndex=w,e(d,V),E||S||(E=!0,W||(W=!0,qe()))),V},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(V){var G=_;return function(){var ee=_;_=G;try{return V.apply(this,arguments)}finally{_=ee}}}}(Cd)),Cd}var x0;function RR(){return x0||(x0=1,Td.exports=xR()),Td.exports}var wd={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function NR(){if(R0)return Nt;R0=1;var t=Wp();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(d,m,null,g)},Nt.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},Nt.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},Nt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Nt.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Nt.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},Nt.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Nt.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},Nt.requestFormReset=function(d){r.d.r(d)},Nt.unstable_batchedUpdates=function(d,m){return d(m)},Nt.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},Nt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Nt.version="19.1.0",Nt}var N0;function DR(){if(N0)return wd.exports;N0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wd.exports=NR(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function MR(){if(D0)return bo;D0=1;var t=RR(),e=Wp(),n=DR();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(u(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return h(f),i;if(p===l)return h(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=p;break}if(b===l){v=!0,l=f,a=p;break}b=b.sibling}if(!v){for(b=p.child;b;){if(b===a){v=!0,a=p,l=f;break}if(b===l){v=!0,l=p,a=f;break}b=b.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function qe(i){return i===null||typeof i!="object"?null:(i=We&&i[We]||i["@@iterator"],typeof i=="function"?i:null)}var yn=Symbol.for("react.client.reference");function Gt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===yn?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList";case ae:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case L:return(i.displayName||"Context")+".Provider";case j:return(i._context.displayName||"Context")+".Consumer";case K:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return s=i.displayName||null,s!==null?s:Gt(i.type)||"Memo";case $:s=i._payload,i=i._init;try{return Gt(i(s))}catch{}}return null}var Xe=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ae=[],w=-1;function F(i){return{current:i}}function Q(i){0>w||(i.current=Ae[w],Ae[w]=null,w--)}function X(i,s){w++,Ae[w]=i.current,i.current=s}var ie=F(null),Ce=F(null),le=F(null),te=F(null);function Ve(i,s){switch(X(le,s),X(Ce,i),X(ie,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?$_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=$_(s),i=Q_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(ie),X(ie,i)}function Dn(){Q(ie),Q(Ce),Q(le)}function _a(i){i.memoizedState!==null&&X(te,i);var s=ie.current,a=Q_(s,i.type);s!==a&&(X(Ce,i),X(ie,a))}function Ks(i){Ce.current===i&&(Q(ie),Q(Ce)),te.current===i&&(Q(te),po._currentValue=ee)}var ba=Object.prototype.hasOwnProperty,Sa=t.unstable_scheduleCallback,Ws=t.unstable_cancelCallback,rf=t.unstable_shouldYield,af=t.unstable_requestPaint,tn=t.unstable_now,of=t.unstable_getCurrentPriorityLevel,xl=t.unstable_ImmediatePriority,Rl=t.unstable_UserBlockingPriority,Xs=t.unstable_NormalPriority,q=t.unstable_LowPriority,he=t.unstable_IdlePriority,ve=t.log,Ee=t.unstable_setDisableYieldValue,Be=null,xe=null;function lt(i){if(typeof ve=="function"&&Ee(i),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Be,i)}catch{}}var st=Math.clz32?Math.clz32:lf,Mn=Math.log,$s=Math.LN2;function lf(i){return i>>>=0,i===0?32:31-(Mn(i)/$s|0)|0}var Qs=256,Nl=4194304;function ls(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Dl(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=ls(l):(v&=b,v!==0?f=ls(v):a||(a=b&~i,a!==0&&(f=ls(a))))):(b=l&~p,b!==0?f=ls(b):v!==0?f=ls(v):a||(a=l&~i,a!==0&&(f=ls(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function Ea(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function cA(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ig(){var i=Qs;return Qs<<=1,(Qs&4194048)===0&&(Qs=256),i}function kg(){var i=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),i}function uf(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ta(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fA(i,s,a,l,f,p){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var b=i.entanglements,T=i.expirationTimes,O=i.hiddenUpdates;for(a=v&~a;0<a;){var B=31-st(a),H=1<<B;b[B]=0,T[B]=-1;var I=O[B];if(I!==null)for(O[B]=null,B=0;B<I.length;B++){var k=I[B];k!==null&&(k.lane&=-536870913)}a&=~H}l!==0&&Lg(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(v&~s))}function Lg(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-st(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function Pg(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-st(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function cf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ff(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ug(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:g0(i.type))}function hA(i,s){var a=G.p;try{return G.p=i,s()}finally{G.p=a}}var yi=Math.random().toString(36).slice(2),xt="__reactFiber$"+yi,Pt="__reactProps$"+yi,Zs="__reactContainer$"+yi,hf="__reactEvents$"+yi,dA="__reactListeners$"+yi,pA="__reactHandles$"+yi,Vg="__reactResources$"+yi,Ca="__reactMarker$"+yi;function df(i){delete i[xt],delete i[Pt],delete i[hf],delete i[dA],delete i[pA]}function Js(i){var s=i[xt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Zs]||a[xt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=t0(i);i!==null;){if(a=i[xt])return a;i=t0(i)}return s}i=a,a=i.parentNode}return null}function er(i){if(i=i[xt]||i[Zs]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function wa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function tr(i){var s=i[Vg];return s||(s=i[Vg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(i){i[Ca]=!0}var Bg=new Set,jg={};function us(i,s){nr(i,s),nr(i+"Capture",s)}function nr(i,s){for(jg[i]=s,i=0;i<s.length;i++)Bg.add(s[i])}var mA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zg={},Hg={};function gA(i){return ba.call(Hg,i)?!0:ba.call(zg,i)?!1:mA.test(i)?Hg[i]=!0:(zg[i]=!0,!1)}function Ml(i,s,a){if(gA(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Ol(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Fn(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var pf,Fg;function ir(i){if(pf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);pf=s&&s[1]||"",Fg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pf+i+Fg}var mf=!1;function gf(i,s){if(!i||mf)return"";mf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(k){var I=k}Reflect.construct(i,[],H)}else{try{H.call()}catch(k){I=k}i.call(H.prototype)}}else{try{throw Error()}catch(k){I=k}(H=i())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(k){if(k&&I&&typeof k.stack=="string")return[k.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),v=p[0],b=p[1];if(v&&b){var T=v.split(`
`),O=b.split(`
`);for(f=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(l===T.length||f===O.length)for(l=T.length-1,f=O.length-1;1<=l&&0<=f&&T[l]!==O[f];)f--;for(;1<=l&&0<=f;l--,f--)if(T[l]!==O[f]){if(l!==1||f!==1)do if(l--,f--,0>f||T[l]!==O[f]){var B=`
`+T[l].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=l&&0<=f);break}}}finally{mf=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?ir(a):""}function yA(i){switch(i.tag){case 26:case 27:case 5:return ir(i.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 15:return gf(i.type,!1);case 11:return gf(i.type.render,!1);case 1:return gf(i.type,!0);case 31:return ir("Activity");default:return""}}function qg(i){try{var s="";do s+=yA(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vA(i){var s=Gg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Il(i){i._valueTracker||(i._valueTracker=vA(i))}function Yg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Gg(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _A=/[\n"\\]/g;function sn(i){return i.replace(_A,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yf(i,s,a,l,f,p,v,b){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+nn(s)):i.value!==""+nn(s)&&(i.value=""+nn(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?vf(i,v,nn(s)):a!=null?vf(i,v,nn(a)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+nn(b):i.removeAttribute("name")}function Kg(i,s,a,l,f,p,v,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,b||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=b?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function vf(i,s,a){s==="number"&&kl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function sr(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Wg(i,s,a){if(s!=null&&(s=""+nn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+nn(a):""}function Xg(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function rr(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var bA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $g(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||bA.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Qg(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&$g(i,f,l)}else for(var p in s)s.hasOwnProperty(p)&&$g(i,p,s[p])}function _f(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(i){return EA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var bf=null;function Sf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ar=null,or=null;function Zg(i){var s=er(i);if(s&&(i=s.stateNode)){var a=i[Pt]||null;e:switch(i=s.stateNode,s.type){case"input":if(yf(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Pt]||null;if(!f)throw Error(r(90));yf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Yg(l)}break e;case"textarea":Wg(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&sr(i,!!a.multiple,s,!1)}}}var Ef=!1;function Jg(i,s,a){if(Ef)return i(s,a);Ef=!0;try{var l=i(s);return l}finally{if(Ef=!1,(ar!==null||or!==null)&&(bu(),ar&&(s=ar,i=or,or=ar=null,Zg(s),i)))for(s=0;s<i.length;s++)Zg(i[s])}}function Aa(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=!1;if(qn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Tf=!1}var vi=null,Cf=null,Pl=null;function ey(){if(Pl)return Pl;var i,s=Cf,a=s.length,l,f="value"in vi?vi.value:vi.textContent,p=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&s[a-l]===f[p-l];l++);return Pl=f.slice(i,1<l?1-l:void 0)}function Ul(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Vl(){return!0}function ty(){return!1}function Ut(i){function s(a,l,f,p,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(a=i[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Vl:ty,this.isPropagationStopped=ty,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),s}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Ut(cs),Ra=g({},cs,{view:0,detail:0}),TA=Ut(Ra),wf,Af,Na,jl=g({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Na&&(Na&&i.type==="mousemove"?(wf=i.screenX-Na.screenX,Af=i.screenY-Na.screenY):Af=wf=0,Na=i),wf)},movementY:function(i){return"movementY"in i?i.movementY:Af}}),ny=Ut(jl),CA=g({},jl,{dataTransfer:0}),wA=Ut(CA),AA=g({},Ra,{relatedTarget:0}),xf=Ut(AA),xA=g({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),RA=Ut(xA),NA=g({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),DA=Ut(NA),MA=g({},cs,{data:0}),iy=Ut(MA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=kA[i])?!!s[i]:!1}function Rf(){return LA}var PA=g({},Ra,{key:function(i){if(i.key){var s=OA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ul(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?IA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(i){return i.type==="keypress"?Ul(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ul(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),UA=Ut(PA),VA=g({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=Ut(VA),BA=g({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),jA=Ut(BA),zA=g({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=Ut(zA),FA=g({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),qA=Ut(FA),GA=g({},cs,{newState:0,oldState:0}),YA=Ut(GA),KA=[9,13,27,32],Nf=qn&&"CompositionEvent"in window,Da=null;qn&&"documentMode"in document&&(Da=document.documentMode);var WA=qn&&"TextEvent"in window&&!Da,ry=qn&&(!Nf||Da&&8<Da&&11>=Da),ay=" ",oy=!1;function ly(i,s){switch(i){case"keyup":return KA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lr=!1;function XA(i,s){switch(i){case"compositionend":return uy(s);case"keypress":return s.which!==32?null:(oy=!0,ay);case"textInput":return i=s.data,i===ay&&oy?null:i;default:return null}}function $A(i,s){if(lr)return i==="compositionend"||!Nf&&ly(i,s)?(i=ey(),Pl=Cf=vi=null,lr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ry&&s.locale!=="ko"?null:s.data;default:return null}}var QA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!QA[i.type]:s==="textarea"}function fy(i,s,a,l){ar?or?or.push(l):or=[l]:ar=l,s=Au(s,"onChange"),0<s.length&&(a=new Bl("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Ma=null,Oa=null;function ZA(i){G_(i,0)}function zl(i){var s=wa(i);if(Yg(s))return i}function hy(i,s){if(i==="change")return s}var dy=!1;if(qn){var Df;if(qn){var Mf="oninput"in document;if(!Mf){var py=document.createElement("div");py.setAttribute("oninput","return;"),Mf=typeof py.oninput=="function"}Df=Mf}else Df=!1;dy=Df&&(!document.documentMode||9<document.documentMode)}function my(){Ma&&(Ma.detachEvent("onpropertychange",gy),Oa=Ma=null)}function gy(i){if(i.propertyName==="value"&&zl(Oa)){var s=[];fy(s,Oa,i,Sf(i)),Jg(ZA,s)}}function JA(i,s,a){i==="focusin"?(my(),Ma=s,Oa=a,Ma.attachEvent("onpropertychange",gy)):i==="focusout"&&my()}function ex(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zl(Oa)}function tx(i,s){if(i==="click")return zl(s)}function nx(i,s){if(i==="input"||i==="change")return zl(s)}function ix(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Yt=typeof Object.is=="function"?Object.is:ix;function Ia(i,s){if(Yt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ba.call(s,f)||!Yt(i[f],s[f]))return!1}return!0}function yy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vy(i,s){var a=yy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yy(a)}}function _y(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?_y(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function by(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=kl(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=kl(i.document)}return s}function Of(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var sx=qn&&"documentMode"in document&&11>=document.documentMode,ur=null,If=null,ka=null,kf=!1;function Sy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||ur==null||ur!==kl(l)||(l=ur,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ka&&Ia(ka,l)||(ka=l,l=Au(If,"onSelect"),0<l.length&&(s=new Bl("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=ur)))}function fs(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var cr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Lf={},Ey={};qn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function hs(i){if(Lf[i])return Lf[i];if(!cr[i])return i;var s=cr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ey)return Lf[i]=s[a];return i}var Ty=hs("animationend"),Cy=hs("animationiteration"),wy=hs("animationstart"),rx=hs("transitionrun"),ax=hs("transitionstart"),ox=hs("transitioncancel"),Ay=hs("transitionend"),xy=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function vn(i,s){xy.set(i,s),us(s,[i])}var Ry=new WeakMap;function rn(i,s){if(typeof i=="object"&&i!==null){var a=Ry.get(i);return a!==void 0?a:(s={value:i,source:s,stack:qg(s)},Ry.set(i,s),s)}return{value:i,source:s,stack:qg(s)}}var an=[],fr=0,Uf=0;function Hl(){for(var i=fr,s=Uf=fr=0;s<i;){var a=an[s];an[s++]=null;var l=an[s];an[s++]=null;var f=an[s];an[s++]=null;var p=an[s];if(an[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}p!==0&&Ny(a,f,p)}}function Fl(i,s,a,l){an[fr++]=i,an[fr++]=s,an[fr++]=a,an[fr++]=l,Uf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Vf(i,s,a,l){return Fl(i,s,a,l),ql(i)}function hr(i,s){return Fl(i,null,null,s),ql(i)}function Ny(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=i.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&s!==null&&(f=31-st(a),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function ql(i){if(50<ro)throw ro=0,qh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var dr={};function lx(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(i,s,a,l){return new lx(i,s,a,l)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gn(i,s){var a=i.alternate;return a===null?(a=Kt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Dy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Gl(i,s,a,l,f,p){var v=0;if(l=i,typeof i=="function")Bf(i)&&(v=1);else if(typeof i=="string")v=cR(i,a,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ae:return i=Kt(31,a,s,f),i.elementType=ae,i.lanes=p,i;case E:return ds(a.children,f,p,s);case N:v=8,f|=24;break;case D:return i=Kt(12,a,s,f|2),i.elementType=D,i.lanes=p,i;case U:return i=Kt(13,a,s,f),i.elementType=U,i.lanes=p,i;case W:return i=Kt(19,a,s,f),i.elementType=W,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case L:v=10;break e;case j:v=9;break e;case K:v=11;break e;case Z:v=14;break e;case $:v=16,l=null;break e}v=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Kt(v,a,s,f),s.elementType=i,s.type=l,s.lanes=p,s}function ds(i,s,a,l){return i=Kt(7,i,l,s),i.lanes=a,i}function jf(i,s,a){return i=Kt(6,i,null,s),i.lanes=a,i}function zf(i,s,a){return s=Kt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var pr=[],mr=0,Yl=null,Kl=0,on=[],ln=0,ps=null,Yn=1,Kn="";function ms(i,s){pr[mr++]=Kl,pr[mr++]=Yl,Yl=i,Kl=s}function My(i,s,a){on[ln++]=Yn,on[ln++]=Kn,on[ln++]=ps,ps=i;var l=Yn;i=Kn;var f=32-st(l)-1;l&=~(1<<f),a+=1;var p=32-st(s)+f;if(30<p){var v=f-f%5;p=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Yn=1<<32-st(s)+f|a<<f|l,Kn=p+i}else Yn=1<<p|a<<f|l,Kn=i}function Hf(i){i.return!==null&&(ms(i,1),My(i,1,0))}function Ff(i){for(;i===Yl;)Yl=pr[--mr],pr[mr]=null,Kl=pr[--mr],pr[mr]=null;for(;i===ps;)ps=on[--ln],on[ln]=null,Kn=on[--ln],on[ln]=null,Yn=on[--ln],on[ln]=null}var Ot=null,Je=null,Ne=!1,gs=null,On=!1,qf=Error(r(519));function ys(i){var s=Error(r(418,""));throw Ua(rn(s,i)),qf}function Oy(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[xt]=i,s[Pt]=l,a){case"dialog":be("cancel",s),be("close",s);break;case"iframe":case"object":case"embed":be("load",s);break;case"video":case"audio":for(a=0;a<oo.length;a++)be(oo[a],s);break;case"source":be("error",s);break;case"img":case"image":case"link":be("error",s),be("load",s);break;case"details":be("toggle",s);break;case"input":be("invalid",s),Kg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Il(s);break;case"select":be("invalid",s);break;case"textarea":be("invalid",s),Xg(s,l.value,l.defaultValue,l.children),Il(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||X_(s.textContent,a)?(l.popover!=null&&(be("beforetoggle",s),be("toggle",s)),l.onScroll!=null&&be("scroll",s),l.onScrollEnd!=null&&be("scrollend",s),l.onClick!=null&&(s.onclick=xu),s=!0):s=!1,s||ys(i)}function Iy(i){for(Ot=i.return;Ot;)switch(Ot.tag){case 5:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Ot=Ot.return}}function La(i){if(i!==Ot)return!1;if(!Ne)return Iy(i),Ne=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||ad(i.type,i.memoizedProps)),a=!a),a&&Je&&ys(i),Iy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){Je=bn(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}Je=null}}else s===27?(s=Je,ki(i.type)?(i=cd,cd=null,Je=i):Je=s):Je=Ot?bn(i.stateNode.nextSibling):null;return!0}function Pa(){Je=Ot=null,Ne=!1}function ky(){var i=gs;return i!==null&&(jt===null?jt=i:jt.push.apply(jt,i),gs=null),i}function Ua(i){gs===null?gs=[i]:gs.push(i)}var Gf=F(null),vs=null,Wn=null;function _i(i,s,a){X(Gf,s._currentValue),s._currentValue=a}function Xn(i){i._currentValue=Gf.current,Q(Gf)}function Yf(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Kf(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var T=0;T<s.length;T++)if(b.context===s[T]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),Yf(p.return,a,i),l||(v=null);break e}p=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,p=v.alternate,p!==null&&(p.lanes|=a),Yf(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Va(i,s,a,l){i=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var b=f.type;Yt(f.pendingProps.value,v.value)||(i!==null?i.push(b):i=[b])}}else if(f===te.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(po):i=[po])}f=f.return}i!==null&&Kf(s,i,a,l),s.flags|=262144}function Wl(i){for(i=i.firstContext;i!==null;){if(!Yt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _s(i){vs=i,Wn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Rt(i){return Ly(vs,i)}function Xl(i,s){return vs===null&&_s(i),Ly(i,s)}function Ly(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Wn===null){if(i===null)throw Error(r(308));Wn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wn=Wn.next=s;return a}var ux=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},cx=t.unstable_scheduleCallback,fx=t.unstable_NormalPriority,ft={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new ux,data:new Map,refCount:0}}function Ba(i){i.refCount--,i.refCount===0&&cx(fx,function(){i.controller.abort()})}var ja=null,Xf=0,gr=0,yr=null;function hx(i,s){if(ja===null){var a=ja=[];Xf=0,gr=Qh(),yr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xf++,s.then(Py,Py),s}function Py(){if(--Xf===0&&ja!==null){yr!==null&&(yr.status="fulfilled");var i=ja;ja=null,gr=0,yr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function dx(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Uy=V.S;V.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&hx(i,s),Uy!==null&&Uy(i,s)};var bs=F(null);function $f(){var i=bs.current;return i!==null?i:ze.pooledCache}function $l(i,s){s===null?X(bs,bs.current):X(bs,s.pool)}function Vy(){var i=$f();return i===null?null:{parent:ft._currentValue,pool:i}}var za=Error(r(460)),By=Error(r(474)),Ql=Error(r(542)),Qf={then:function(){}};function jy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Zl(){}function zy(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Zl,Zl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fy(i),i;default:if(typeof s.status=="string")s.then(Zl,Zl);else{if(i=ze,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fy(i),i}throw Ha=s,za}}var Ha=null;function Hy(){if(Ha===null)throw Error(r(459));var i=Ha;return Ha=null,i}function Fy(i){if(i===za||i===Ql)throw Error(r(483))}var bi=!1;function Zf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Si(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ei(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=ql(i),Ny(i,null,a),s}return Fl(i,l,s,a),ql(i)}function Fa(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Pg(i,a)}}function eh(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var th=!1;function qa(){if(th){var i=yr;if(i!==null)throw i}}function Ga(i,s,a,l){th=!1;var f=i.updateQueue;bi=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var T=b,O=T.next;T.next=null,v===null?p=O:v.next=O,v=T;var B=i.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==v&&(b===null?B.firstBaseUpdate=O:b.next=O,B.lastBaseUpdate=T))}if(p!==null){var H=f.baseState;v=0,B=O=T=null,b=p;do{var I=b.lane&-536870913,k=I!==b.lane;if(k?(we&I)===I:(l&I)===I){I!==0&&I===gr&&(th=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ue=i,se=b;I=s;var Le=a;switch(se.tag){case 1:if(ue=se.payload,typeof ue=="function"){H=ue.call(Le,H,I);break e}H=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=se.payload,I=typeof ue=="function"?ue.call(Le,H,I):ue,I==null)break e;H=g({},H,I);break e;case 2:bi=!0}}I=b.callback,I!==null&&(i.flags|=64,k&&(i.flags|=8192),k=f.callbacks,k===null?f.callbacks=[I]:k.push(I))}else k={lane:I,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(O=B=k,T=H):B=B.next=k,v|=I;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;k=b,b=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);B===null&&(T=H),f.baseState=T,f.firstBaseUpdate=O,f.lastBaseUpdate=B,p===null&&(f.shared.lanes=0),Di|=v,i.lanes=v,i.memoizedState=H}}function qy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Gy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)qy(a[i],s)}var vr=F(null),Jl=F(0);function Yy(i,s){i=ni,X(Jl,i),X(vr,s),ni=i|s.baseLanes}function nh(){X(Jl,ni),X(vr,vr.current)}function ih(){ni=Jl.current,Q(vr),Q(Jl)}var Ti=0,pe=null,Ie=null,ut=null,eu=!1,_r=!1,Ss=!1,tu=0,Ya=0,br=null,px=0;function rt(){throw Error(r(321))}function sh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Yt(i[a],s[a]))return!1;return!0}function rh(i,s,a,l,f,p){return Ti=p,pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=i===null||i.memoizedState===null?Nv:Dv,Ss=!1,p=a(l,f),Ss=!1,_r&&(p=Wy(s,a,l,f)),Ky(i),p}function Ky(i){V.H=ou;var s=Ie!==null&&Ie.next!==null;if(Ti=0,ut=Ie=pe=null,eu=!1,Ya=0,br=null,s)throw Error(r(300));i===null||pt||(i=i.dependencies,i!==null&&Wl(i)&&(pt=!0))}function Wy(i,s,a,l){pe=i;var f=0;do{if(_r&&(br=null),Ya=0,_r=!1,25<=f)throw Error(r(301));if(f+=1,ut=Ie=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}V.H=Sx,p=s(a,l)}while(_r);return p}function mx(){var i=V.H,s=i.useState()[0];return s=typeof s.then=="function"?Ka(s):s,i=i.useState()[0],(Ie!==null?Ie.memoizedState:null)!==i&&(pe.flags|=1024),s}function ah(){var i=tu!==0;return tu=0,i}function oh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function lh(i){if(eu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}eu=!1}Ti=0,ut=Ie=pe=null,_r=!1,Ya=tu=0,br=null}function Vt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?pe.memoizedState=ut=i:ut=ut.next=i,ut}function ct(){if(Ie===null){var i=pe.alternate;i=i!==null?i.memoizedState:null}else i=Ie.next;var s=ut===null?pe.memoizedState:ut.next;if(s!==null)ut=s,Ie=i;else{if(i===null)throw pe.alternate===null?Error(r(467)):Error(r(310));Ie=i,i={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ut===null?pe.memoizedState=ut=i:ut=ut.next=i}return ut}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ka(i){var s=Ya;return Ya+=1,br===null&&(br=[]),i=zy(br,i,s),s=pe,(ut===null?s.memoizedState:ut.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?Nv:Dv),i}function nu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ka(i);if(i.$$typeof===L)return Rt(i)}throw Error(r(438,String(i)))}function ch(i){var s=null,a=pe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=uh(),pe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=Te;return s.index++,a}function $n(i,s){return typeof s=="function"?s(i):s}function iu(i){var s=ct();return fh(s,Ie,i)}function fh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}s.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{s=f.next;var b=v=null,T=null,O=s,B=!1;do{var H=O.lane&-536870913;if(H!==O.lane?(we&H)===H:(Ti&H)===H){var I=O.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),H===gr&&(B=!0);else if((Ti&I)===I){O=O.next,I===gr&&(B=!0);continue}else H={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(b=T=H,v=p):T=T.next=H,pe.lanes|=I,Di|=I;H=O.action,Ss&&a(p,H),p=O.hasEagerState?O.eagerState:a(p,H)}else I={lane:H,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(b=T=I,v=p):T=T.next=I,pe.lanes|=H,Di|=H;O=O.next}while(O!==null&&O!==s);if(T===null?v=p:T.next=b,!Yt(p,i.memoizedState)&&(pt=!0,B&&(a=yr,a!==null)))throw a;i.memoizedState=p,i.baseState=v,i.baseQueue=T,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function hh(i){var s=ct(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do p=i(p,v.action),v=v.next;while(v!==f);Yt(p,s.memoizedState)||(pt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function Xy(i,s,a){var l=pe,f=ct(),p=Ne;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Yt((Ie||f).memoizedState,a);v&&(f.memoizedState=a,pt=!0),f=f.queue;var b=Zy.bind(null,l,f,i);if(Wa(2048,8,b,[i]),f.getSnapshot!==s||v||ut!==null&&ut.memoizedState.tag&1){if(l.flags|=2048,Sr(9,su(),Qy.bind(null,l,f,a,s),null),ze===null)throw Error(r(349));p||(Ti&124)!==0||$y(l,s,a)}return a}function $y(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=pe.updateQueue,s===null?(s=uh(),pe.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Qy(i,s,a,l){s.value=a,s.getSnapshot=l,Jy(s)&&ev(i)}function Zy(i,s,a){return a(function(){Jy(s)&&ev(i)})}function Jy(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Yt(i,a)}catch{return!0}}function ev(i){var s=hr(i,2);s!==null&&Zt(s,i,2)}function dh(i){var s=Vt();if(typeof i=="function"){var a=i;if(i=a(),Ss){lt(!0);try{a()}finally{lt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:i},s}function tv(i,s,a,l){return i.baseState=a,fh(i,Ie,typeof l=="function"?l:$n)}function gx(i,s,a,l,f){if(au(i))throw Error(r(485));if(i=s.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};V.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,nv(s,p)):(p.next=a.next,s.pending=a.next=p)}}function nv(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var p=V.T,v={};V.T=v;try{var b=a(f,l),T=V.S;T!==null&&T(v,b),iv(i,s,b)}catch(O){ph(i,s,O)}finally{V.T=p}}else try{p=a(f,l),iv(i,s,p)}catch(O){ph(i,s,O)}}function iv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sv(i,s,l)},function(l){return ph(i,s,l)}):sv(i,s,a)}function sv(i,s,a){s.status="fulfilled",s.value=a,rv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,nv(i,a)))}function ph(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,rv(s),s=s.next;while(s!==l)}i.action=null}function rv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function av(i,s){return s}function ov(i,s){if(Ne){var a=ze.formState;if(a!==null){e:{var l=pe;if(Ne){if(Je){t:{for(var f=Je,p=On;f.nodeType!==8;){if(!p){f=null;break t}if(f=bn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Je=bn(f.nextSibling),l=f.data==="F!";break e}}ys(l)}l=!1}l&&(s=a[0])}}return a=Vt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:s},a.queue=l,a=Av.bind(null,pe,l),l.dispatch=a,l=dh(!1),p=_h.bind(null,pe,!1,l.queue),l=Vt(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=gx.bind(null,pe,f,p,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function lv(i){var s=ct();return uv(s,Ie,i)}function uv(i,s,a){if(s=fh(i,s,av)[0],i=iu($n)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Ka(s)}catch(v){throw v===za?Ql:v}else l=s;s=ct();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(pe.flags|=2048,Sr(9,su(),yx.bind(null,f,a),null)),[l,p,i]}function yx(i,s){i.action=s}function cv(i){var s=ct(),a=Ie;if(a!==null)return uv(s,a,i);ct(),s=s.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Sr(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=pe.updateQueue,s===null&&(s=uh(),pe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function su(){return{destroy:void 0,resource:void 0}}function fv(){return ct().memoizedState}function ru(i,s,a,l){var f=Vt();l=l===void 0?null:l,pe.flags|=i,f.memoizedState=Sr(1|s,su(),a,l)}function Wa(i,s,a,l){var f=ct();l=l===void 0?null:l;var p=f.memoizedState.inst;Ie!==null&&l!==null&&sh(l,Ie.memoizedState.deps)?f.memoizedState=Sr(s,p,a,l):(pe.flags|=i,f.memoizedState=Sr(1|s,p,a,l))}function hv(i,s){ru(8390656,8,i,s)}function dv(i,s){Wa(2048,8,i,s)}function pv(i,s){return Wa(4,2,i,s)}function mv(i,s){return Wa(4,4,i,s)}function gv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function yv(i,s,a){a=a!=null?a.concat([i]):null,Wa(4,4,gv.bind(null,s,i),a)}function mh(){}function vv(i,s){var a=ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&sh(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function _v(i,s){var a=ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&sh(s,l[1]))return l[0];if(l=i(),Ss){lt(!0);try{i()}finally{lt(!1)}}return a.memoizedState=[l,s],l}function gh(i,s,a){return a===void 0||(Ti&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=E_(),pe.lanes|=i,Di|=i,a)}function bv(i,s,a,l){return Yt(a,s)?a:vr.current!==null?(i=gh(i,a,l),Yt(i,s)||(pt=!0),i):(Ti&42)===0?(pt=!0,i.memoizedState=a):(i=E_(),pe.lanes|=i,Di|=i,s)}function Sv(i,s,a,l,f){var p=G.p;G.p=p!==0&&8>p?p:8;var v=V.T,b={};V.T=b,_h(i,!1,s,a);try{var T=f(),O=V.S;if(O!==null&&O(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=dx(T,l);Xa(i,s,B,Qt(i))}else Xa(i,s,l,Qt(i))}catch(H){Xa(i,s,{then:function(){},status:"rejected",reason:H},Qt())}finally{G.p=p,V.T=v}}function vx(){}function yh(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=Ev(i).queue;Sv(i,f,s,ee,a===null?vx:function(){return Tv(i),a(l)})}function Ev(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:ee},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Tv(i){var s=Ev(i).next.queue;Xa(i,s,{},Qt())}function vh(){return Rt(po)}function Cv(){return ct().memoizedState}function wv(){return ct().memoizedState}function _x(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Qt();i=Si(a);var l=Ei(s,i,a);l!==null&&(Zt(l,s,a),Fa(l,s,a)),s={cache:Wf()},i.payload=s;return}s=s.return}}function bx(i,s,a){var l=Qt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},au(i)?xv(s,a):(a=Vf(i,s,a,l),a!==null&&(Zt(a,i,l),Rv(a,s,l)))}function Av(i,s,a){var l=Qt();Xa(i,s,a,l)}function Xa(i,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(au(i))xv(s,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var v=s.lastRenderedState,b=p(v,a);if(f.hasEagerState=!0,f.eagerState=b,Yt(b,v))return Fl(i,s,f,0),ze===null&&Hl(),!1}catch{}finally{}if(a=Vf(i,s,f,l),a!==null)return Zt(a,i,l),Rv(a,s,l),!0}return!1}function _h(i,s,a,l){if(l={lane:2,revertLane:Qh(),action:l,hasEagerState:!1,eagerState:null,next:null},au(i)){if(s)throw Error(r(479))}else s=Vf(i,a,l,2),s!==null&&Zt(s,i,2)}function au(i){var s=i.alternate;return i===pe||s!==null&&s===pe}function xv(i,s){_r=eu=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Rv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Pg(i,a)}}var ou={readContext:Rt,use:nu,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},Nv={readContext:Rt,use:nu,useCallback:function(i,s){return Vt().memoizedState=[i,s===void 0?null:s],i},useContext:Rt,useEffect:hv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,ru(4194308,4,gv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return ru(4194308,4,i,s)},useInsertionEffect:function(i,s){ru(4,2,i,s)},useMemo:function(i,s){var a=Vt();s=s===void 0?null:s;var l=i();if(Ss){lt(!0);try{i()}finally{lt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=Vt();if(a!==void 0){var f=a(s);if(Ss){lt(!0);try{a(s)}finally{lt(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=bx.bind(null,pe,i),[l.memoizedState,i]},useRef:function(i){var s=Vt();return i={current:i},s.memoizedState=i},useState:function(i){i=dh(i);var s=i.queue,a=Av.bind(null,pe,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:mh,useDeferredValue:function(i,s){var a=Vt();return gh(a,i,s)},useTransition:function(){var i=dh(!1);return i=Sv.bind(null,pe,i.queue,!0,!1),Vt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=pe,f=Vt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ze===null)throw Error(r(349));(we&124)!==0||$y(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,hv(Zy.bind(null,l,p,i),[i]),l.flags|=2048,Sr(9,su(),Qy.bind(null,l,p,a,s),null),a},useId:function(){var i=Vt(),s=ze.identifierPrefix;if(Ne){var a=Kn,l=Yn;a=(l&~(1<<32-st(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=tu++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=px++,s="«"+s+"r"+a.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:vh,useFormState:ov,useActionState:ov,useOptimistic:function(i){var s=Vt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=_h.bind(null,pe,!0,a),a.dispatch=s,[i,s]},useMemoCache:ch,useCacheRefresh:function(){return Vt().memoizedState=_x.bind(null,pe)}},Dv={readContext:Rt,use:nu,useCallback:vv,useContext:Rt,useEffect:dv,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:_v,useReducer:iu,useRef:fv,useState:function(){return iu($n)},useDebugValue:mh,useDeferredValue:function(i,s){var a=ct();return bv(a,Ie.memoizedState,i,s)},useTransition:function(){var i=iu($n)[0],s=ct().memoizedState;return[typeof i=="boolean"?i:Ka(i),s]},useSyncExternalStore:Xy,useId:Cv,useHostTransitionStatus:vh,useFormState:lv,useActionState:lv,useOptimistic:function(i,s){var a=ct();return tv(a,Ie,i,s)},useMemoCache:ch,useCacheRefresh:wv},Sx={readContext:Rt,use:nu,useCallback:vv,useContext:Rt,useEffect:dv,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:_v,useReducer:hh,useRef:fv,useState:function(){return hh($n)},useDebugValue:mh,useDeferredValue:function(i,s){var a=ct();return Ie===null?gh(a,i,s):bv(a,Ie.memoizedState,i,s)},useTransition:function(){var i=hh($n)[0],s=ct().memoizedState;return[typeof i=="boolean"?i:Ka(i),s]},useSyncExternalStore:Xy,useId:Cv,useHostTransitionStatus:vh,useFormState:cv,useActionState:cv,useOptimistic:function(i,s){var a=ct();return Ie!==null?tv(a,Ie,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:ch,useCacheRefresh:wv},Er=null,$a=0;function lu(i){var s=$a;return $a+=1,Er===null&&(Er=[]),zy(Er,i,s)}function Qa(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function uu(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Mv(i){var s=i._init;return s(i._payload)}function Ov(i){function s(x,A){if(i){var M=x.deletions;M===null?(x.deletions=[A],x.flags|=16):M.push(A)}}function a(x,A){if(!i)return null;for(;A!==null;)s(x,A),A=A.sibling;return null}function l(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function f(x,A){return x=Gn(x,A),x.index=0,x.sibling=null,x}function p(x,A,M){return x.index=M,i?(M=x.alternate,M!==null?(M=M.index,M<A?(x.flags|=67108866,A):M):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function v(x){return i&&x.alternate===null&&(x.flags|=67108866),x}function b(x,A,M,z){return A===null||A.tag!==6?(A=jf(M,x.mode,z),A.return=x,A):(A=f(A,M),A.return=x,A)}function T(x,A,M,z){var J=M.type;return J===E?B(x,A,M.props.children,z,M.key):A!==null&&(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Mv(J)===A.type)?(A=f(A,M.props),Qa(A,M),A.return=x,A):(A=Gl(M.type,M.key,M.props,null,x.mode,z),Qa(A,M),A.return=x,A)}function O(x,A,M,z){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=zf(M,x.mode,z),A.return=x,A):(A=f(A,M.children||[]),A.return=x,A)}function B(x,A,M,z,J){return A===null||A.tag!==7?(A=ds(M,x.mode,z,J),A.return=x,A):(A=f(A,M),A.return=x,A)}function H(x,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=jf(""+A,x.mode,M),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return M=Gl(A.type,A.key,A.props,null,x.mode,M),Qa(M,A),M.return=x,M;case S:return A=zf(A,x.mode,M),A.return=x,A;case $:var z=A._init;return A=z(A._payload),H(x,A,M)}if(Xe(A)||qe(A))return A=ds(A,x.mode,M,null),A.return=x,A;if(typeof A.then=="function")return H(x,lu(A),M);if(A.$$typeof===L)return H(x,Xl(x,A),M);uu(x,A)}return null}function I(x,A,M,z){var J=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return J!==null?null:b(x,A,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===J?T(x,A,M,z):null;case S:return M.key===J?O(x,A,M,z):null;case $:return J=M._init,M=J(M._payload),I(x,A,M,z)}if(Xe(M)||qe(M))return J!==null?null:B(x,A,M,z,null);if(typeof M.then=="function")return I(x,A,lu(M),z);if(M.$$typeof===L)return I(x,A,Xl(x,M),z);uu(x,M)}return null}function k(x,A,M,z,J){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return x=x.get(M)||null,b(A,x,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return x=x.get(z.key===null?M:z.key)||null,T(A,x,z,J);case S:return x=x.get(z.key===null?M:z.key)||null,O(A,x,z,J);case $:var me=z._init;return z=me(z._payload),k(x,A,M,z,J)}if(Xe(z)||qe(z))return x=x.get(M)||null,B(A,x,z,J,null);if(typeof z.then=="function")return k(x,A,M,lu(z),J);if(z.$$typeof===L)return k(x,A,M,Xl(A,z),J);uu(A,z)}return null}function ue(x,A,M,z){for(var J=null,me=null,ne=A,re=A=0,gt=null;ne!==null&&re<M.length;re++){ne.index>re?(gt=ne,ne=null):gt=ne.sibling;var Re=I(x,ne,M[re],z);if(Re===null){ne===null&&(ne=gt);break}i&&ne&&Re.alternate===null&&s(x,ne),A=p(Re,A,re),me===null?J=Re:me.sibling=Re,me=Re,ne=gt}if(re===M.length)return a(x,ne),Ne&&ms(x,re),J;if(ne===null){for(;re<M.length;re++)ne=H(x,M[re],z),ne!==null&&(A=p(ne,A,re),me===null?J=ne:me.sibling=ne,me=ne);return Ne&&ms(x,re),J}for(ne=l(ne);re<M.length;re++)gt=k(ne,x,re,M[re],z),gt!==null&&(i&&gt.alternate!==null&&ne.delete(gt.key===null?re:gt.key),A=p(gt,A,re),me===null?J=gt:me.sibling=gt,me=gt);return i&&ne.forEach(function(Bi){return s(x,Bi)}),Ne&&ms(x,re),J}function se(x,A,M,z){if(M==null)throw Error(r(151));for(var J=null,me=null,ne=A,re=A=0,gt=null,Re=M.next();ne!==null&&!Re.done;re++,Re=M.next()){ne.index>re?(gt=ne,ne=null):gt=ne.sibling;var Bi=I(x,ne,Re.value,z);if(Bi===null){ne===null&&(ne=gt);break}i&&ne&&Bi.alternate===null&&s(x,ne),A=p(Bi,A,re),me===null?J=Bi:me.sibling=Bi,me=Bi,ne=gt}if(Re.done)return a(x,ne),Ne&&ms(x,re),J;if(ne===null){for(;!Re.done;re++,Re=M.next())Re=H(x,Re.value,z),Re!==null&&(A=p(Re,A,re),me===null?J=Re:me.sibling=Re,me=Re);return Ne&&ms(x,re),J}for(ne=l(ne);!Re.done;re++,Re=M.next())Re=k(ne,x,re,Re.value,z),Re!==null&&(i&&Re.alternate!==null&&ne.delete(Re.key===null?re:Re.key),A=p(Re,A,re),me===null?J=Re:me.sibling=Re,me=Re);return i&&ne.forEach(function(ER){return s(x,ER)}),Ne&&ms(x,re),J}function Le(x,A,M,z){if(typeof M=="object"&&M!==null&&M.type===E&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var J=M.key;A!==null;){if(A.key===J){if(J=M.type,J===E){if(A.tag===7){a(x,A.sibling),z=f(A,M.props.children),z.return=x,x=z;break e}}else if(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&Mv(J)===A.type){a(x,A.sibling),z=f(A,M.props),Qa(z,M),z.return=x,x=z;break e}a(x,A);break}else s(x,A);A=A.sibling}M.type===E?(z=ds(M.props.children,x.mode,z,M.key),z.return=x,x=z):(z=Gl(M.type,M.key,M.props,null,x.mode,z),Qa(z,M),z.return=x,x=z)}return v(x);case S:e:{for(J=M.key;A!==null;){if(A.key===J)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(x,A.sibling),z=f(A,M.children||[]),z.return=x,x=z;break e}else{a(x,A);break}else s(x,A);A=A.sibling}z=zf(M,x.mode,z),z.return=x,x=z}return v(x);case $:return J=M._init,M=J(M._payload),Le(x,A,M,z)}if(Xe(M))return ue(x,A,M,z);if(qe(M)){if(J=qe(M),typeof J!="function")throw Error(r(150));return M=J.call(M),se(x,A,M,z)}if(typeof M.then=="function")return Le(x,A,lu(M),z);if(M.$$typeof===L)return Le(x,A,Xl(x,M),z);uu(x,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(x,A.sibling),z=f(A,M),z.return=x,x=z):(a(x,A),z=jf(M,x.mode,z),z.return=x,x=z),v(x)):a(x,A)}return function(x,A,M,z){try{$a=0;var J=Le(x,A,M,z);return Er=null,J}catch(ne){if(ne===za||ne===Ql)throw ne;var me=Kt(29,ne,null,x.mode);return me.lanes=z,me.return=x,me}finally{}}}var Tr=Ov(!0),Iv=Ov(!1),un=F(null),In=null;function Ci(i){var s=i.alternate;X(ht,ht.current&1),X(un,i),In===null&&(s===null||vr.current!==null||s.memoizedState!==null)&&(In=i)}function kv(i){if(i.tag===22){if(X(ht,ht.current),X(un,i),In===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(In=i)}}else wi()}function wi(){X(ht,ht.current),X(un,un.current)}function Qn(i){Q(un),In===i&&(In=null),Q(ht)}var ht=F(0);function cu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ud(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function bh(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Sh={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Qt(),f=Si(l);f.payload=s,a!=null&&(f.callback=a),s=Ei(i,f,l),s!==null&&(Zt(s,i,l),Fa(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Qt(),f=Si(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ei(i,f,l),s!==null&&(Zt(s,i,l),Fa(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Qt(),l=Si(a);l.tag=2,s!=null&&(l.callback=s),s=Ei(i,l,a),s!==null&&(Zt(s,i,a),Fa(s,i,a))}};function Lv(i,s,a,l,f,p,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,v):s.prototype&&s.prototype.isPureReactComponent?!Ia(a,l)||!Ia(f,p):!0}function Pv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Sh.enqueueReplaceState(s,s.state,null)}function Es(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=g({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var fu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Uv(i){fu(i)}function Vv(i){console.error(i)}function Bv(i){fu(i)}function hu(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function jv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Eh(i,s,a){return a=Si(a),a.tag=3,a.payload={element:null},a.callback=function(){hu(i,s)},a}function zv(i){return i=Si(i),i.tag=3,i}function Hv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){jv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){jv(s,a,l),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Ex(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Va(s,a,f,!0),a=un.current,a!==null){switch(a.tag){case 13:return In===null?Yh():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Qf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Wh(i,l,f)),!1;case 22:return a.flags|=65536,l===Qf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Wh(i,l,f)),!1}throw Error(r(435,a.tag))}return Wh(i,l,f),Yh(),!1}if(Ne)return s=un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==qf&&(i=Error(r(422),{cause:l}),Ua(rn(i,a)))):(l!==qf&&(s=Error(r(423),{cause:l}),Ua(rn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=rn(l,a),f=Eh(i.stateNode,l,f),eh(i,f),et!==4&&(et=2)),!1;var p=Error(r(520),{cause:l});if(p=rn(p,a),so===null?so=[p]:so.push(p),et!==4&&(et=2),s===null)return!0;l=rn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Eh(a.stateNode,l,i),eh(a,i),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Mi===null||!Mi.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=zv(f),Hv(f,i,a,l),eh(a,f),!1}a=a.return}while(a!==null);return!1}var Fv=Error(r(461)),pt=!1;function St(i,s,a,l){s.child=i===null?Iv(s,null,a,l):Tr(s,i.child,a,l)}function qv(i,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return _s(s),l=rh(i,s,a,v,p,f),b=ah(),i!==null&&!pt?(oh(i,s,f),Zn(i,s,f)):(Ne&&b&&Hf(s),s.flags|=1,St(i,s,l,f),s.child)}function Gv(i,s,a,l,f){if(i===null){var p=a.type;return typeof p=="function"&&!Bf(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,Yv(i,s,p,l,f)):(i=Gl(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(p=i.child,!Dh(i,f)){var v=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ia,a(v,l)&&i.ref===s.ref)return Zn(i,s,f)}return s.flags|=1,i=Gn(p,l),i.ref=s.ref,i.return=s,s.child=i}function Yv(i,s,a,l,f){if(i!==null){var p=i.memoizedProps;if(Ia(p,l)&&i.ref===s.ref)if(pt=!1,s.pendingProps=l=p,Dh(i,f))(i.flags&131072)!==0&&(pt=!0);else return s.lanes=i.lanes,Zn(i,s,f)}return Th(i,s,a,l,f)}function Kv(i,s,a){var l=s.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,i!==null){for(f=s.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return Wv(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&$l(s,p!==null?p.cachePool:null),p!==null?Yy(s,p):nh(),kv(s);else return s.lanes=s.childLanes=536870912,Wv(i,s,p!==null?p.baseLanes|a:a,a)}else p!==null?($l(s,p.cachePool),Yy(s,p),wi(),s.memoizedState=null):(i!==null&&$l(s,null),nh(),wi());return St(i,s,f,a),s.child}function Wv(i,s,a,l){var f=$f();return f=f===null?null:{parent:ft._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},i!==null&&$l(s,null),nh(),kv(s),i!==null&&Va(i,s,l,!0),null}function du(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Th(i,s,a,l,f){return _s(s),a=rh(i,s,a,l,void 0,f),l=ah(),i!==null&&!pt?(oh(i,s,f),Zn(i,s,f)):(Ne&&l&&Hf(s),s.flags|=1,St(i,s,a,f),s.child)}function Xv(i,s,a,l,f,p){return _s(s),s.updateQueue=null,a=Wy(s,l,a,f),Ky(i),l=ah(),i!==null&&!pt?(oh(i,s,p),Zn(i,s,p)):(Ne&&l&&Hf(s),s.flags|=1,St(i,s,a,p),s.child)}function $v(i,s,a,l,f){if(_s(s),s.stateNode===null){var p=dr,v=a.contextType;typeof v=="object"&&v!==null&&(p=Rt(v)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sh,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},Zf(s),v=a.contextType,p.context=typeof v=="object"&&v!==null?Rt(v):dr,p.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(bh(s,a,v,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Sh.enqueueReplaceState(p,p.state,null),Ga(s,l,p,f),qa(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){p=s.stateNode;var b=s.memoizedProps,T=Es(a,b);p.props=T;var O=p.context,B=a.contextType;v=dr,typeof B=="object"&&B!==null&&(v=Rt(B));var H=a.getDerivedStateFromProps;B=typeof H=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||O!==v)&&Pv(s,p,l,v),bi=!1;var I=s.memoizedState;p.state=I,Ga(s,l,p,f),qa(),O=s.memoizedState,b||I!==O||bi?(typeof H=="function"&&(bh(s,a,H,l),O=s.memoizedState),(T=bi||Lv(s,a,T,l,I,O,v))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=O),p.props=l,p.state=O,p.context=v,l=T):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,Jf(i,s),v=s.memoizedProps,B=Es(a,v),p.props=B,H=s.pendingProps,I=p.context,O=a.contextType,T=dr,typeof O=="object"&&O!==null&&(T=Rt(O)),b=a.getDerivedStateFromProps,(O=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==H||I!==T)&&Pv(s,p,l,T),bi=!1,I=s.memoizedState,p.state=I,Ga(s,l,p,f),qa();var k=s.memoizedState;v!==H||I!==k||bi||i!==null&&i.dependencies!==null&&Wl(i.dependencies)?(typeof b=="function"&&(bh(s,a,b,l),k=s.memoizedState),(B=bi||Lv(s,a,B,l,I,k,T)||i!==null&&i.dependencies!==null&&Wl(i.dependencies))?(O||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,k,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,k,T)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=k),p.props=l,p.state=k,p.context=T,l=B):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),l=!1)}return p=l,du(i,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,i!==null&&l?(s.child=Tr(s,i.child,null,f),s.child=Tr(s,null,a,f)):St(i,s,a,f),s.memoizedState=p.state,i=s.child):i=Zn(i,s,f),i}function Qv(i,s,a,l){return Pa(),s.flags|=256,St(i,s,a,l),s.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wh(i){return{baseLanes:i,cachePool:Vy()}}function Ah(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=cn),i}function Zv(i,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,v;if((v=p)||(v=i!==null&&i.memoizedState===null?!1:(ht.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ne){if(f?Ci(s):wi(),Ne){var b=Je,T;if(T=b){e:{for(T=b,b=On;T.nodeType!==8;){if(!b){b=null;break e}if(T=bn(T.nextSibling),T===null){b=null;break e}}b=T}b!==null?(s.memoizedState={dehydrated:b,treeContext:ps!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},T=Kt(18,null,null,0),T.stateNode=b,T.return=s,s.child=T,Ot=s,Je=null,T=!0):T=!1}T||ys(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return ud(b)?s.lanes=32:s.lanes=536870912,null;Qn(s)}return b=l.children,l=l.fallback,f?(wi(),f=s.mode,b=pu({mode:"hidden",children:b},f),l=ds(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,f=s.child,f.memoizedState=wh(a),f.childLanes=Ah(i,v,a),s.memoizedState=Ch,l):(Ci(s),xh(s,b))}if(T=i.memoizedState,T!==null&&(b=T.dehydrated,b!==null)){if(p)s.flags&256?(Ci(s),s.flags&=-257,s=Rh(i,s,a)):s.memoizedState!==null?(wi(),s.child=i.child,s.flags|=128,s=null):(wi(),f=l.fallback,b=s.mode,l=pu({mode:"visible",children:l.children},b),f=ds(f,b,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Tr(s,i.child,null,a),l=s.child,l.memoizedState=wh(a),l.childLanes=Ah(i,v,a),s.memoizedState=Ch,s=f);else if(Ci(s),ud(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var O=v.dgst;v=O,l=Error(r(419)),l.stack="",l.digest=v,Ua({value:l,source:null,stack:null}),s=Rh(i,s,a)}else if(pt||Va(i,s,a,!1),v=(a&i.childLanes)!==0,pt||v){if(v=ze,v!==null&&(l=a&-a,l=(l&42)!==0?1:cf(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,hr(i,l),Zt(v,i,l),Fv;b.data==="$?"||Yh(),s=Rh(i,s,a)}else b.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=T.treeContext,Je=bn(b.nextSibling),Ot=s,Ne=!0,gs=null,On=!1,i!==null&&(on[ln++]=Yn,on[ln++]=Kn,on[ln++]=ps,Yn=i.id,Kn=i.overflow,ps=s),s=xh(s,l.children),s.flags|=4096);return s}return f?(wi(),f=l.fallback,b=s.mode,T=i.child,O=T.sibling,l=Gn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,O!==null?f=Gn(O,f):(f=ds(f,b,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,b=i.child.memoizedState,b===null?b=wh(a):(T=b.cachePool,T!==null?(O=ft._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=Vy(),b={baseLanes:b.baseLanes|a,cachePool:T}),f.memoizedState=b,f.childLanes=Ah(i,v,a),s.memoizedState=Ch,l):(Ci(s),a=i.child,i=a.sibling,a=Gn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function xh(i,s){return s=pu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function pu(i,s){return i=Kt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Rh(i,s,a){return Tr(s,i.child,null,a),i=xh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Jv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Yf(i.return,s,a)}function Nh(i,s,a,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function e_(i,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;if(St(i,s,l.children,a),l=ht.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jv(i,a,s);else if(i.tag===19)Jv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(X(ht,l),f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&cu(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Nh(s,!1,f,a,p);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&cu(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Nh(s,!0,a,null,p);break;case"together":Nh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zn(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Di|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Va(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Gn(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Gn(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Dh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Wl(i)))}function Tx(i,s,a){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),_i(s,ft,i.memoizedState.cache),Pa();break;case 27:case 5:_a(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:_i(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Zv(i,s,a):(Ci(s),i=Zn(i,s,a),i!==null?i.sibling:null);Ci(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Va(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return e_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(ht,ht.current),l)break;return null;case 22:case 23:return s.lanes=0,Kv(i,s,a);case 24:_i(s,ft,i.memoizedState.cache)}return Zn(i,s,a)}function t_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)pt=!0;else{if(!Dh(i,a)&&(s.flags&128)===0)return pt=!1,Tx(i,s,a);pt=(i.flags&131072)!==0}else pt=!1,Ne&&(s.flags&1048576)!==0&&My(s,Kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Bf(l)?(i=Es(l,i),s.tag=1,s=$v(null,s,l,i,a)):(s.tag=0,s=Th(null,s,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===K){s.tag=11,s=qv(null,s,l,i,a);break e}else if(f===Z){s.tag=14,s=Gv(null,s,l,i,a);break e}}throw s=Gt(l)||l,Error(r(306,s,""))}}return s;case 0:return Th(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Es(l,s.pendingProps),$v(i,s,l,f,a);case 3:e:{if(Ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,Jf(i,s),Ga(s,l,null,a);var v=s.memoizedState;if(l=v.cache,_i(s,ft,l),l!==p.cache&&Kf(s,[ft],a,!0),qa(),l=v.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Qv(i,s,l,a);break e}else if(l!==f){f=rn(Error(r(424)),s),Ua(f),s=Qv(i,s,l,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Je=bn(i.firstChild),Ot=s,Ne=!0,gs=null,On=!0,a=Iv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pa(),l===f){s=Zn(i,s,a);break e}St(i,s,l,a)}s=s.child}return s;case 26:return du(i,s),i===null?(a=r0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ne||(a=s.type,i=s.pendingProps,l=Ru(le.current).createElement(a),l[xt]=s,l[Pt]=i,Tt(l,a,i),dt(l),s.stateNode=l):s.memoizedState=r0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return _a(s),i===null&&Ne&&(l=s.stateNode=n0(s.type,s.pendingProps,le.current),Ot=s,On=!0,f=Je,ki(s.type)?(cd=f,Je=bn(l.firstChild)):Je=f),St(i,s,s.pendingProps.children,a),du(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ne&&((f=l=Je)&&(l=Qx(l,s.type,s.pendingProps,On),l!==null?(s.stateNode=l,Ot=s,Je=bn(l.firstChild),On=!1,f=!0):f=!1),f||ys(s)),_a(s),f=s.type,p=s.pendingProps,v=i!==null?i.memoizedProps:null,l=p.children,ad(f,p)?l=null:v!==null&&ad(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=rh(i,s,mx,null,null,a),po._currentValue=f),du(i,s),St(i,s,l,a),s.child;case 6:return i===null&&Ne&&((i=a=Je)&&(a=Zx(a,s.pendingProps,On),a!==null?(s.stateNode=a,Ot=s,Je=null,i=!0):i=!1),i||ys(s)),null;case 13:return Zv(i,s,a);case 4:return Ve(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Tr(s,null,l,a):St(i,s,l,a),s.child;case 11:return qv(i,s,s.type,s.pendingProps,a);case 7:return St(i,s,s.pendingProps,a),s.child;case 8:return St(i,s,s.pendingProps.children,a),s.child;case 12:return St(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,_i(s,s.type,l.value),St(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,_s(s),f=Rt(f),l=l(f),s.flags|=1,St(i,s,l,a),s.child;case 14:return Gv(i,s,s.type,s.pendingProps,a);case 15:return Yv(i,s,s.type,s.pendingProps,a);case 19:return e_(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=pu(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Gn(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Kv(i,s,a);case 24:return _s(s),l=Rt(ft),i===null?(f=$f(),f===null&&(f=ze,p=Wf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},Zf(s),_i(s,ft,f)):((i.lanes&a)!==0&&(Jf(i,s),Ga(s,null,null,a),qa()),f=i.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),_i(s,ft,l)):(l=p.cache,_i(s,ft,l),l!==f.cache&&Kf(s,[ft],a,!0))),St(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Jn(i){i.flags|=4}function n_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!c0(s)){if(s=un.current,s!==null&&((we&4194048)===we?In!==null:(we&62914560)!==we&&(we&536870912)===0||s!==In))throw Ha=Qf,By;i.flags|=8192}}function mu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?kg():536870912,i.lanes|=s,xr|=s)}function Za(i,s){if(!Ne)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function $e(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function Cx(i,s,a){var l=s.pendingProps;switch(Ff(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(s),null;case 1:return $e(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Xn(ft),Dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(La(s)?Jn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ky())),$e(s),null;case 26:return a=s.memoizedState,i===null?(Jn(s),a!==null?($e(s),n_(s,a)):($e(s),s.flags&=-16777217)):a?a!==i.memoizedState?(Jn(s),$e(s),n_(s,a)):($e(s),s.flags&=-16777217):(i.memoizedProps!==l&&Jn(s),$e(s),s.flags&=-16777217),null;case 27:Ks(s),a=le.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Jn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return $e(s),null}i=ie.current,La(s)?Oy(s):(i=n0(f,l,a),s.stateNode=i,Jn(s))}return $e(s),null;case 5:if(Ks(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Jn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return $e(s),null}if(i=ie.current,La(s))Oy(s);else{switch(f=Ru(le.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[xt]=s,i[Pt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;e:switch(Tt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Jn(s)}}return $e(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&Jn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=le.current,La(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ot,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[xt]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X_(i.nodeValue,a)),i||ys(s)}else i=Ru(i).createTextNode(l),i[xt]=s,s.stateNode=i}return $e(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=La(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[xt]=s}else Pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$e(s),f=!1}else f=ky(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Qn(s),s):(Qn(s),null)}if(Qn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),mu(s,s.updateQueue),$e(s),null;case 4:return Dn(),i===null&&td(s.stateNode.containerInfo),$e(s),null;case 10:return Xn(s.type),$e(s),null;case 19:if(Q(ht),f=s.memoizedState,f===null)return $e(s),null;if(l=(s.flags&128)!==0,p=f.rendering,p===null)if(l)Za(f,!1);else{if(et!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(p=cu(i),p!==null){for(s.flags|=128,Za(f,!1),i=p.updateQueue,s.updateQueue=i,mu(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Dy(a,i),a=a.sibling;return X(ht,ht.current&1|2),s.child}i=i.sibling}f.tail!==null&&tn()>vu&&(s.flags|=128,l=!0,Za(f,!1),s.lanes=4194304)}else{if(!l)if(i=cu(p),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,mu(s,i),Za(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ne)return $e(s),null}else 2*tn()-f.renderingStartTime>vu&&a!==536870912&&(s.flags|=128,l=!0,Za(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(i=f.last,i!==null?i.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=tn(),s.sibling=null,i=ht.current,X(ht,l?i&1|2:i&1),s):($e(s),null);case 22:case 23:return Qn(s),ih(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&($e(s),s.subtreeFlags&6&&(s.flags|=8192)):$e(s),a=s.updateQueue,a!==null&&mu(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&Q(bs),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Xn(ft),$e(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function wx(i,s){switch(Ff(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Xn(ft),Dn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ks(s),null;case 13:if(Qn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Pa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Q(ht),null;case 4:return Dn(),null;case 10:return Xn(s.type),null;case 22:case 23:return Qn(s),ih(),i!==null&&Q(bs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Xn(ft),null;case 25:return null;default:return null}}function i_(i,s){switch(Ff(s),s.tag){case 3:Xn(ft),Dn();break;case 26:case 27:case 5:Ks(s);break;case 4:Dn();break;case 13:Qn(s);break;case 19:Q(ht);break;case 10:Xn(s.type);break;case 22:case 23:Qn(s),ih(),i!==null&&Q(bs);break;case 24:Xn(ft)}}function Ja(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var p=a.create,v=a.inst;l=p(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){je(s,s.return,b)}}function Ai(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=s;var T=a,O=b;try{O()}catch(B){je(f,T,B)}}}l=l.next}while(l!==p)}}catch(B){je(s,s.return,B)}}function s_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Gy(s,a)}catch(l){je(i,i.return,l)}}}function r_(i,s,a){a.props=Es(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){je(i,s,l)}}function eo(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){je(i,s,f)}}function kn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){je(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){je(i,s,f)}else a.current=null}function a_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){je(i,i.return,f)}}function Mh(i,s,a){try{var l=i.stateNode;Yx(l,i.type,a,s),l[Pt]=s}catch(f){je(i,i.return,f)}}function o_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ki(i.type)||i.tag===4}function Oh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||o_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ki(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ih(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=xu));else if(l!==4&&(l===27&&ki(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Ih(i,s,a),i=i.sibling;i!==null;)Ih(i,s,a),i=i.sibling}function gu(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&ki(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(gu(i,s,a),i=i.sibling;i!==null;)gu(i,s,a),i=i.sibling}function l_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Tt(s,l,a),s[xt]=i,s[Pt]=a}catch(p){je(i,i.return,p)}}var ei=!1,at=!1,kh=!1,u_=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Ax(i,s){if(i=i.containerInfo,sd=ku,i=by(i),Of(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var v=0,b=-1,T=-1,O=0,B=0,H=i,I=null;t:for(;;){for(var k;H!==a||f!==0&&H.nodeType!==3||(b=v+f),H!==p||l!==0&&H.nodeType!==3||(T=v+l),H.nodeType===3&&(v+=H.nodeValue.length),(k=H.firstChild)!==null;)I=H,H=k;for(;;){if(H===i)break t;if(I===a&&++O===f&&(b=v),I===p&&++B===l&&(T=v),(k=H.nextSibling)!==null)break;H=I,I=H.parentNode}H=k}a=b===-1||T===-1?null:{start:b,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:i,selectionRange:a},ku=!1,mt=s;mt!==null;)if(s=mt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,mt=i;else for(;mt!==null;){switch(s=mt,p=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var ue=Es(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(ue,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(se){je(a,a.return,se)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)ld(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ld(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,mt=i;break}mt=s.return}}function c_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(i,a),l&4&&Ja(5,a);break;case 1:if(xi(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){je(a,a.return,v)}else{var f=Es(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){je(a,a.return,v)}}l&64&&s_(a),l&512&&eo(a,a.return);break;case 3:if(xi(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Gy(i,s)}catch(v){je(a,a.return,v)}}break;case 27:s===null&&l&4&&l_(a);case 26:case 5:xi(i,a),s===null&&l&4&&a_(a),l&512&&eo(a,a.return);break;case 12:xi(i,a);break;case 13:xi(i,a),l&4&&d_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Lx.bind(null,a),Jx(i,a))));break;case 22:if(l=a.memoizedState!==null||ei,!l){s=s!==null&&s.memoizedState!==null||at,f=ei;var p=at;ei=l,(at=s)&&!p?Ri(i,a,(a.subtreeFlags&8772)!==0):xi(i,a),ei=f,at=p}break;case 30:break;default:xi(i,a)}}function f_(i){var s=i.alternate;s!==null&&(i.alternate=null,f_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&df(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ye=null,Bt=!1;function ti(i,s,a){for(a=a.child;a!==null;)h_(i,s,a),a=a.sibling}function h_(i,s,a){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Be,a)}catch{}switch(a.tag){case 26:at||kn(a,s),ti(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||kn(a,s);var l=Ye,f=Bt;ki(a.type)&&(Ye=a.stateNode,Bt=!1),ti(i,s,a),uo(a.stateNode),Ye=l,Bt=f;break;case 5:at||kn(a,s);case 6:if(l=Ye,f=Bt,Ye=null,ti(i,s,a),Ye=l,Bt=f,Ye!==null)if(Bt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(p){je(a,s,p)}else try{Ye.removeChild(a.stateNode)}catch(p){je(a,s,p)}break;case 18:Ye!==null&&(Bt?(i=Ye,e0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),vo(i)):e0(Ye,a.stateNode));break;case 4:l=Ye,f=Bt,Ye=a.stateNode.containerInfo,Bt=!0,ti(i,s,a),Ye=l,Bt=f;break;case 0:case 11:case 14:case 15:at||Ai(2,a,s),at||Ai(4,a,s),ti(i,s,a);break;case 1:at||(kn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,s,l)),ti(i,s,a);break;case 21:ti(i,s,a);break;case 22:at=(l=at)||a.memoizedState!==null,ti(i,s,a),at=l;break;default:ti(i,s,a)}}function d_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vo(i)}catch(a){je(s,s.return,a)}}function xx(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new u_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new u_),s;default:throw Error(r(435,i.tag))}}function Lh(i,s){var a=xx(i);s.forEach(function(l){var f=Px.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function Wt(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=i,v=s,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(ki(b.type)){Ye=b.stateNode,Bt=!1;break e}break;case 5:Ye=b.stateNode,Bt=!1;break e;case 3:case 4:Ye=b.stateNode.containerInfo,Bt=!0;break e}b=b.return}if(Ye===null)throw Error(r(160));h_(p,v,f),Ye=null,Bt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)p_(s,i),s=s.sibling}var _n=null;function p_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wt(s,i),Xt(i),l&4&&(Ai(3,i,i.return),Ja(3,i),Ai(5,i,i.return));break;case 1:Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),l&64&&ei&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_n;if(Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ca]||p[xt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Tt(p,l,a),p[xt]=i,dt(p),l=p;break e;case"link":var v=l0("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(p=v[b],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}p=f.createElement(l),Tt(p,l,a),f.head.appendChild(p);break;case"meta":if(v=l0("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(p=v[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}p=f.createElement(l),Tt(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[xt]=i,dt(p),l=p}i.stateNode=l}else u0(f,i.type,i.stateNode);else i.stateNode=o0(f,l,i.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?u0(f,i.type,i.stateNode):o0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Mh(i,i.memoizedProps,a.memoizedProps)}break;case 27:Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),a!==null&&l&4&&Mh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Wt(s,i),Xt(i),l&512&&(at||a===null||kn(a,a.return)),i.flags&32){f=i.stateNode;try{rr(f,"")}catch(k){je(i,i.return,k)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Mh(i,f,a!==null?a.memoizedProps:f)),l&1024&&(kh=!0);break;case 6:if(Wt(s,i),Xt(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(k){je(i,i.return,k)}}break;case 3:if(Mu=null,f=_n,_n=Nu(s.containerInfo),Wt(s,i),_n=f,Xt(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{vo(s.containerInfo)}catch(k){je(i,i.return,k)}kh&&(kh=!1,m_(i));break;case 4:l=_n,_n=Nu(i.stateNode.containerInfo),Wt(s,i),Xt(i),_n=l;break;case 12:Wt(s,i),Xt(i);break;case 13:Wt(s,i),Xt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zh=tn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Lh(i,l)));break;case 22:f=i.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,O=ei,B=at;if(ei=O||f,at=B||T,Wt(s,i),at=B,ei=O,Xt(i),l&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||T||ei||at||Ts(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(p=T.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=T.stateNode;var H=T.memoizedProps.style,I=H!=null&&H.hasOwnProperty("display")?H.display:null;b.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(k){je(T,T.return,k)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(k){je(T,T.return,k)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lh(i,a))));break;case 19:Wt(s,i),Xt(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Lh(i,l)));break;case 30:break;case 21:break;default:Wt(s,i),Xt(i)}}function Xt(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(o_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=Oh(i);gu(i,p,f);break;case 5:var v=a.stateNode;a.flags&32&&(rr(v,""),a.flags&=-33);var b=Oh(i);gu(i,b,v);break;case 3:case 4:var T=a.stateNode.containerInfo,O=Oh(i);Ih(i,O,T);break;default:throw Error(r(161))}}catch(B){je(i,i.return,B)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function m_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;m_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function xi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)c_(i,s.alternate,s),s=s.sibling}function Ts(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ai(4,s,s.return),Ts(s);break;case 1:kn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&r_(s,s.return,a),Ts(s);break;case 27:uo(s.stateNode);case 26:case 5:kn(s,s.return),Ts(s);break;case 22:s.memoizedState===null&&Ts(s);break;case 30:Ts(s);break;default:Ts(s)}i=i.sibling}}function Ri(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,p=s,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ri(f,p,a),Ja(4,p);break;case 1:if(Ri(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){je(l,l.return,O)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)qy(T[f],b)}catch(O){je(l,l.return,O)}}a&&v&64&&s_(p),eo(p,p.return);break;case 27:l_(p);case 26:case 5:Ri(f,p,a),a&&l===null&&v&4&&a_(p),eo(p,p.return);break;case 12:Ri(f,p,a);break;case 13:Ri(f,p,a),a&&v&4&&d_(f,p);break;case 22:p.memoizedState===null&&Ri(f,p,a),eo(p,p.return);break;case 30:break;default:Ri(f,p,a)}s=s.sibling}}function Ph(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ba(a))}function Uh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ba(i))}function Ln(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g_(i,s,a,l),s=s.sibling}function g_(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(i,s,a,l),f&2048&&Ja(9,s);break;case 1:Ln(i,s,a,l);break;case 3:Ln(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ba(i)));break;case 12:if(f&2048){Ln(i,s,a,l),i=s.stateNode;try{var p=s.memoizedProps,v=p.id,b=p.onPostCommit;typeof b=="function"&&b(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){je(s,s.return,T)}}else Ln(i,s,a,l);break;case 13:Ln(i,s,a,l);break;case 23:break;case 22:p=s.stateNode,v=s.alternate,s.memoizedState!==null?p._visibility&2?Ln(i,s,a,l):to(i,s):p._visibility&2?Ln(i,s,a,l):(p._visibility|=2,Cr(i,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Ph(v,s);break;case 24:Ln(i,s,a,l),f&2048&&Uh(s.alternate,s);break;default:Ln(i,s,a,l)}}function Cr(i,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=i,v=s,b=a,T=l,O=v.flags;switch(v.tag){case 0:case 11:case 15:Cr(p,v,b,T,f),Ja(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?Cr(p,v,b,T,f):to(p,v):(B._visibility|=2,Cr(p,v,b,T,f)),f&&O&2048&&Ph(v.alternate,v);break;case 24:Cr(p,v,b,T,f),f&&O&2048&&Uh(v.alternate,v);break;default:Cr(p,v,b,T,f)}s=s.sibling}}function to(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:to(a,l),f&2048&&Ph(l.alternate,l);break;case 24:to(a,l),f&2048&&Uh(l.alternate,l);break;default:to(a,l)}s=s.sibling}}var no=8192;function wr(i){if(i.subtreeFlags&no)for(i=i.child;i!==null;)y_(i),i=i.sibling}function y_(i){switch(i.tag){case 26:wr(i),i.flags&no&&i.memoizedState!==null&&hR(_n,i.memoizedState,i.memoizedProps);break;case 5:wr(i);break;case 3:case 4:var s=_n;_n=Nu(i.stateNode.containerInfo),wr(i),_n=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=no,no=16777216,wr(i),no=s):wr(i));break;default:wr(i)}}function v_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function io(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];mt=l,b_(l,i)}v_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)__(i),i=i.sibling}function __(i){switch(i.tag){case 0:case 11:case 15:io(i),i.flags&2048&&Ai(9,i,i.return);break;case 3:io(i);break;case 12:io(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yu(i)):io(i);break;default:io(i)}}function yu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];mt=l,b_(l,i)}v_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ai(8,s,s.return),yu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,yu(s));break;default:yu(s)}i=i.sibling}}function b_(i,s){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:Ai(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ba(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,mt=l;else e:for(a=i;mt!==null;){l=mt;var f=l.sibling,p=l.return;if(f_(l),l===a){mt=null;break e}if(f!==null){f.return=p,mt=f;break e}mt=p}}}var Rx={getCacheForType:function(i){var s=Rt(ft),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},Nx=typeof WeakMap=="function"?WeakMap:Map,Me=0,ze=null,_e=null,we=0,Oe=0,$t=null,Ni=!1,Ar=!1,Vh=!1,ni=0,et=0,Di=0,Cs=0,Bh=0,cn=0,xr=0,so=null,jt=null,jh=!1,zh=0,vu=1/0,_u=null,Mi=null,Et=0,Oi=null,Rr=null,Nr=0,Hh=0,Fh=null,S_=null,ro=0,qh=null;function Qt(){if((Me&2)!==0&&we!==0)return we&-we;if(V.T!==null){var i=gr;return i!==0?i:Qh()}return Ug()}function E_(){cn===0&&(cn=(we&536870912)===0||Ne?Ig():536870912);var i=un.current;return i!==null&&(i.flags|=32),cn}function Zt(i,s,a){(i===ze&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)&&(Dr(i,0),Ii(i,we,cn,!1)),Ta(i,a),((Me&2)===0||i!==ze)&&(i===ze&&((Me&2)===0&&(Cs|=a),et===4&&Ii(i,we,cn,!1)),Pn(i))}function T_(i,s,a){if((Me&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Ea(i,s),f=l?Ox(i,s):Kh(i,s,!0),p=l;do{if(f===0){Ar&&!l&&Ii(i,s,0,!1);break}else{if(a=i.current.alternate,p&&!Dx(a)){f=Kh(i,s,!1),p=!1;continue}if(f===2){if(p=s,i.errorRecoveryDisabledLanes&p)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var b=i;f=so;var T=b.current.memoizedState.isDehydrated;if(T&&(Dr(b,v).flags|=256),v=Kh(b,v,!1),v!==2){if(Vh&&!T){b.errorRecoveryDisabledLanes|=p,Cs|=p,f=4;break e}p=jt,jt=f,p!==null&&(jt===null?jt=p:jt.push.apply(jt,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){Dr(i,0),Ii(i,s,0,!0);break}e:{switch(l=i,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ii(l,s,cn,!Ni);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=zh+300-tn(),10<f)){if(Ii(l,s,cn,!Ni),Dl(l,0,!0)!==0)break e;l.timeoutHandle=Z_(C_.bind(null,l,a,jt,_u,jh,s,cn,Cs,xr,Ni,p,2,-0,0),f);break e}C_(l,a,jt,_u,jh,s,cn,Cs,xr,Ni,p,0,-0,0)}}break}while(!0);Pn(i)}function C_(i,s,a,l,f,p,v,b,T,O,B,H,I,k){if(i.timeoutHandle=-1,H=s.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(ho={stylesheets:null,count:0,unsuspend:fR},y_(s),H=dR(),H!==null)){i.cancelPendingCommit=H(M_.bind(null,i,s,p,a,l,f,v,b,T,B,1,I,k)),Ii(i,p,v,!O);return}M_(i,s,p,a,l,f,v,b,T)}function Dx(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Yt(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(i,s,a,l){s&=~Bh,s&=~Cs,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var p=31-st(f),v=1<<p;l[p]=-1,f&=~v}a!==0&&Lg(i,a,s)}function bu(){return(Me&6)===0?(ao(0),!1):!0}function Gh(){if(_e!==null){if(Oe===0)var i=_e.return;else i=_e,Wn=vs=null,lh(i),Er=null,$a=0,i=_e;for(;i!==null;)i_(i.alternate,i),i=i.return;_e=null}}function Dr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,Wx(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Gh(),ze=i,_e=a=Gn(i.current,null),we=s,Oe=0,$t=null,Ni=!1,Ar=Ea(i,s),Vh=!1,xr=cn=Bh=Cs=Di=et=0,jt=so=null,jh=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-st(l),p=1<<f;s|=i[f],l&=~p}return ni=s,Hl(),a}function w_(i,s){pe=null,V.H=ou,s===za||s===Ql?(s=Hy(),Oe=3):s===By?(s=Hy(),Oe=4):Oe=s===Fv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$t=s,_e===null&&(et=1,hu(i,rn(s,i.current)))}function A_(){var i=V.H;return V.H=ou,i===null?ou:i}function x_(){var i=V.A;return V.A=Rx,i}function Yh(){et=4,Ni||(we&4194048)!==we&&un.current!==null||(Ar=!0),(Di&134217727)===0&&(Cs&134217727)===0||ze===null||Ii(ze,we,cn,!1)}function Kh(i,s,a){var l=Me;Me|=2;var f=A_(),p=x_();(ze!==i||we!==s)&&(_u=null,Dr(i,s)),s=!1;var v=et;e:do try{if(Oe!==0&&_e!==null){var b=_e,T=$t;switch(Oe){case 8:Gh(),v=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(s=!0);var O=Oe;if(Oe=0,$t=null,Mr(i,b,T,O),a&&Ar){v=0;break e}break;default:O=Oe,Oe=0,$t=null,Mr(i,b,T,O)}}Mx(),v=et;break}catch(B){w_(i,B)}while(!0);return s&&i.shellSuspendCounter++,Wn=vs=null,Me=l,V.H=f,V.A=p,_e===null&&(ze=null,we=0,Hl()),v}function Mx(){for(;_e!==null;)R_(_e)}function Ox(i,s){var a=Me;Me|=2;var l=A_(),f=x_();ze!==i||we!==s?(_u=null,vu=tn()+500,Dr(i,s)):Ar=Ea(i,s);e:do try{if(Oe!==0&&_e!==null){s=_e;var p=$t;t:switch(Oe){case 1:Oe=0,$t=null,Mr(i,s,p,1);break;case 2:case 9:if(jy(p)){Oe=0,$t=null,N_(s);break}s=function(){Oe!==2&&Oe!==9||ze!==i||(Oe=7),Pn(i)},p.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:jy(p)?(Oe=0,$t=null,N_(s)):(Oe=0,$t=null,Mr(i,s,p,7));break;case 5:var v=null;switch(_e.tag){case 26:v=_e.memoizedState;case 5:case 27:var b=_e;if(!v||c0(v)){Oe=0,$t=null;var T=b.sibling;if(T!==null)_e=T;else{var O=b.return;O!==null?(_e=O,Su(O)):_e=null}break t}}Oe=0,$t=null,Mr(i,s,p,5);break;case 6:Oe=0,$t=null,Mr(i,s,p,6);break;case 8:Gh(),et=6;break e;default:throw Error(r(462))}}Ix();break}catch(B){w_(i,B)}while(!0);return Wn=vs=null,V.H=l,V.A=f,Me=a,_e!==null?0:(ze=null,we=0,Hl(),et)}function Ix(){for(;_e!==null&&!rf();)R_(_e)}function R_(i){var s=t_(i.alternate,i,ni);i.memoizedProps=i.pendingProps,s===null?Su(i):_e=s}function N_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Xv(a,s,s.pendingProps,s.type,void 0,we);break;case 11:s=Xv(a,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:lh(s);default:i_(a,s),s=_e=Dy(s,ni),s=t_(a,s,ni)}i.memoizedProps=i.pendingProps,s===null?Su(i):_e=s}function Mr(i,s,a,l){Wn=vs=null,lh(s),Er=null,$a=0;var f=s.return;try{if(Ex(i,f,s,a,we)){et=1,hu(i,rn(a,i.current)),_e=null;return}}catch(p){if(f!==null)throw _e=f,p;et=1,hu(i,rn(a,i.current)),_e=null;return}s.flags&32768?(Ne||l===1?i=!0:Ar||(we&536870912)!==0?i=!1:(Ni=i=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(s,i)):Su(s)}function Su(i){var s=i;do{if((s.flags&32768)!==0){D_(s,Ni);return}i=s.return;var a=Cx(s.alternate,s,ni);if(a!==null){_e=a;return}if(s=s.sibling,s!==null){_e=s;return}_e=s=i}while(s!==null);et===0&&(et=5)}function D_(i,s){do{var a=wx(i.alternate,i);if(a!==null){a.flags&=32767,_e=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){_e=i;return}_e=i=a}while(i!==null);et=6,_e=null}function M_(i,s,a,l,f,p,v,b,T){i.cancelPendingCommit=null;do Eu();while(Et!==0);if((Me&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Uf,fA(i,a,p,v,b,T),i===ze&&(_e=ze=null,we=0),Rr=s,Oi=i,Nr=a,Hh=p,Fh=f,S_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Ux(Xs,function(){return P_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,f=G.p,G.p=2,v=Me,Me|=4;try{Ax(i,s,a)}finally{Me=v,G.p=f,V.T=l}}Et=1,O_(),I_(),k_()}}function O_(){if(Et===1){Et=0;var i=Oi,s=Rr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var l=G.p;G.p=2;var f=Me;Me|=4;try{p_(s,i);var p=rd,v=by(i.containerInfo),b=p.focusedElem,T=p.selectionRange;if(v!==b&&b&&b.ownerDocument&&_y(b.ownerDocument.documentElement,b)){if(T!==null&&Of(b)){var O=T.start,B=T.end;if(B===void 0&&(B=O),"selectionStart"in b)b.selectionStart=O,b.selectionEnd=Math.min(B,b.value.length);else{var H=b.ownerDocument||document,I=H&&H.defaultView||window;if(I.getSelection){var k=I.getSelection(),ue=b.textContent.length,se=Math.min(T.start,ue),Le=T.end===void 0?se:Math.min(T.end,ue);!k.extend&&se>Le&&(v=Le,Le=se,se=v);var x=vy(b,se),A=vy(b,Le);if(x&&A&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==A.node||k.focusOffset!==A.offset)){var M=H.createRange();M.setStart(x.node,x.offset),k.removeAllRanges(),se>Le?(k.addRange(M),k.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),k.addRange(M))}}}}for(H=[],k=b;k=k.parentNode;)k.nodeType===1&&H.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<H.length;b++){var z=H[b];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ku=!!sd,rd=sd=null}finally{Me=f,G.p=l,V.T=a}}i.current=s,Et=2}}function I_(){if(Et===2){Et=0;var i=Oi,s=Rr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var l=G.p;G.p=2;var f=Me;Me|=4;try{c_(i,s.alternate,s)}finally{Me=f,G.p=l,V.T=a}}Et=3}}function k_(){if(Et===4||Et===3){Et=0,af();var i=Oi,s=Rr,a=Nr,l=S_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Et=5:(Et=0,Rr=Oi=null,L_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Mi=null),ff(a),s=s.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Be,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=V.T,f=G.p,G.p=2,V.T=null;try{for(var p=i.onRecoverableError,v=0;v<l.length;v++){var b=l[v];p(b.value,{componentStack:b.stack})}}finally{V.T=s,G.p=f}}(Nr&3)!==0&&Eu(),Pn(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===qh?ro++:(ro=0,qh=i):ro=0,ao(0)}}function L_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ba(s)))}function Eu(i){return O_(),I_(),k_(),P_()}function P_(){if(Et!==5)return!1;var i=Oi,s=Hh;Hh=0;var a=ff(Nr),l=V.T,f=G.p;try{G.p=32>a?32:a,V.T=null,a=Fh,Fh=null;var p=Oi,v=Nr;if(Et=0,Rr=Oi=null,Nr=0,(Me&6)!==0)throw Error(r(331));var b=Me;if(Me|=4,__(p.current),g_(p,p.current,v,a),Me=b,ao(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Be,p)}catch{}return!0}finally{G.p=f,V.T=l,L_(i,s)}}function U_(i,s,a){s=rn(a,s),s=Eh(i.stateNode,s,2),i=Ei(i,s,2),i!==null&&(Ta(i,2),Pn(i))}function je(i,s,a){if(i.tag===3)U_(i,i,a);else for(;s!==null;){if(s.tag===3){U_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){i=rn(a,i),a=zv(2),l=Ei(s,a,2),l!==null&&(Hv(a,l,s,i),Ta(l,2),Pn(l));break}}s=s.return}}function Wh(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new Nx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Vh=!0,f.add(a),i=kx.bind(null,i,s,a),s.then(i,i))}function kx(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ze===i&&(we&a)===a&&(et===4||et===3&&(we&62914560)===we&&300>tn()-zh?(Me&2)===0&&Dr(i,0):Bh|=a,xr===we&&(xr=0)),Pn(i)}function V_(i,s){s===0&&(s=kg()),i=hr(i,s),i!==null&&(Ta(i,s),Pn(i))}function Lx(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),V_(i,a)}function Px(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),V_(i,a)}function Ux(i,s){return Sa(i,s)}var Tu=null,Or=null,Xh=!1,Cu=!1,$h=!1,ws=0;function Pn(i){i!==Or&&i.next===null&&(Or===null?Tu=Or=i:Or=Or.next=i),Cu=!0,Xh||(Xh=!0,Bx())}function ao(i,s){if(!$h&&Cu){$h=!0;do for(var a=!1,l=Tu;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var v=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-st(42|i)+1)-1,p&=f&~(v&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,H_(l,p))}else p=we,p=Dl(l,l===ze?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ea(l,p)||(a=!0,H_(l,p));l=l.next}while(a);$h=!1}}function Vx(){B_()}function B_(){Cu=Xh=!1;var i=0;ws!==0&&(Kx()&&(i=ws),ws=0);for(var s=tn(),a=null,l=Tu;l!==null;){var f=l.next,p=j_(l,s);p===0?(l.next=null,a===null?Tu=f:a.next=f,f===null&&(Or=a)):(a=l,(i!==0||(p&3)!==0)&&(Cu=!0)),l=f}ao(i)}function j_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var v=31-st(p),b=1<<v,T=f[v];T===-1?((b&a)===0||(b&l)!==0)&&(f[v]=cA(b,s)):T<=s&&(i.expiredLanes|=b),p&=~b}if(s=ze,a=we,a=Dl(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Ws(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ea(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Ws(l),ff(a)){case 2:case 8:a=Rl;break;case 32:a=Xs;break;case 268435456:a=he;break;default:a=Xs}return l=z_.bind(null,i),a=Sa(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Ws(l),i.callbackPriority=2,i.callbackNode=null,2}function z_(i,s){if(Et!==0&&Et!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Eu()&&i.callbackNode!==a)return null;var l=we;return l=Dl(i,i===ze?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(T_(i,l,s),j_(i,tn()),i.callbackNode!=null&&i.callbackNode===a?z_.bind(null,i):null)}function H_(i,s){if(Eu())return null;T_(i,s,!0)}function Bx(){Xx(function(){(Me&6)!==0?Sa(xl,Vx):B_()})}function Qh(){return ws===0&&(ws=Ig()),ws}function F_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ll(""+i)}function q_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function jx(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=F_((f[Pt]||null).action),v=l.submitter;v&&(s=(s=v[Pt]||null)?F_(s.formAction):v.getAttribute("formAction"),s!==null&&(p=s,v=null));var b=new Bl("action","action",null,l,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ws!==0){var T=v?q_(f,v):new FormData(f);yh(a,{pending:!0,data:T,method:f.method,action:p},null,T)}}else typeof p=="function"&&(b.preventDefault(),T=v?q_(f,v):new FormData(f),yh(a,{pending:!0,data:T,method:f.method,action:p},p,T))},currentTarget:f}]})}}for(var Zh=0;Zh<Pf.length;Zh++){var Jh=Pf[Zh],zx=Jh.toLowerCase(),Hx=Jh[0].toUpperCase()+Jh.slice(1);vn(zx,"on"+Hx)}vn(Ty,"onAnimationEnd"),vn(Cy,"onAnimationIteration"),vn(wy,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(rx,"onTransitionRun"),vn(ax,"onTransitionStart"),vn(ox,"onTransitionCancel"),vn(Ay,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function G_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var v=l.length-1;0<=v;v--){var b=l[v],T=b.instance,O=b.currentTarget;if(b=b.listener,T!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=O;try{p(f)}catch(B){fu(B)}f.currentTarget=null,p=T}else for(v=0;v<l.length;v++){if(b=l[v],T=b.instance,O=b.currentTarget,b=b.listener,T!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=O;try{p(f)}catch(B){fu(B)}f.currentTarget=null,p=T}}}}function be(i,s){var a=s[hf];a===void 0&&(a=s[hf]=new Set);var l=i+"__bubble";a.has(l)||(Y_(s,i,2,!1),a.add(l))}function ed(i,s,a){var l=0;s&&(l|=4),Y_(a,i,l,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function td(i){if(!i[wu]){i[wu]=!0,Bg.forEach(function(a){a!=="selectionchange"&&(Fx.has(a)||ed(a,!1,i),ed(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wu]||(s[wu]=!0,ed("selectionchange",!1,s))}}function Y_(i,s,a,l){switch(g0(s)){case 2:var f=gR;break;case 8:f=yR;break;default:f=md}a=f.bind(null,s,a,i),f=void 0,!Tf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function nd(i,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=Js(b),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=p=v;continue e}b=b.parentNode}}l=l.return}Jg(function(){var O=p,B=Sf(a),H=[];e:{var I=xy.get(i);if(I!==void 0){var k=Bl,ue=i;switch(i){case"keypress":if(Ul(a)===0)break e;case"keydown":case"keyup":k=UA;break;case"focusin":ue="focus",k=xf;break;case"focusout":ue="blur",k=xf;break;case"beforeblur":case"afterblur":k=xf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=jA;break;case Ty:case Cy:case wy:k=RA;break;case Ay:k=HA;break;case"scroll":case"scrollend":k=TA;break;case"wheel":k=qA;break;case"copy":case"cut":case"paste":k=DA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=sy;break;case"toggle":case"beforetoggle":k=YA}var se=(s&4)!==0,Le=!se&&(i==="scroll"||i==="scrollend"),x=se?I!==null?I+"Capture":null:I;se=[];for(var A=O,M;A!==null;){var z=A;if(M=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||M===null||x===null||(z=Aa(A,x),z!=null&&se.push(lo(A,z,M))),Le)break;A=A.return}0<se.length&&(I=new k(I,ue,null,a,B),H.push({event:I,listeners:se}))}}if((s&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",k=i==="mouseout"||i==="pointerout",I&&a!==bf&&(ue=a.relatedTarget||a.fromElement)&&(Js(ue)||ue[Zs]))break e;if((k||I)&&(I=B.window===B?B:(I=B.ownerDocument)?I.defaultView||I.parentWindow:window,k?(ue=a.relatedTarget||a.toElement,k=O,ue=ue?Js(ue):null,ue!==null&&(Le=u(ue),se=ue.tag,ue!==Le||se!==5&&se!==27&&se!==6)&&(ue=null)):(k=null,ue=O),k!==ue)){if(se=ny,z="onMouseLeave",x="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(se=sy,z="onPointerLeave",x="onPointerEnter",A="pointer"),Le=k==null?I:wa(k),M=ue==null?I:wa(ue),I=new se(z,A+"leave",k,a,B),I.target=Le,I.relatedTarget=M,z=null,Js(B)===O&&(se=new se(x,A+"enter",ue,a,B),se.target=M,se.relatedTarget=Le,z=se),Le=z,k&&ue)t:{for(se=k,x=ue,A=0,M=se;M;M=Ir(M))A++;for(M=0,z=x;z;z=Ir(z))M++;for(;0<A-M;)se=Ir(se),A--;for(;0<M-A;)x=Ir(x),M--;for(;A--;){if(se===x||x!==null&&se===x.alternate)break t;se=Ir(se),x=Ir(x)}se=null}else se=null;k!==null&&K_(H,I,k,se,!1),ue!==null&&Le!==null&&K_(H,Le,ue,se,!0)}}e:{if(I=O?wa(O):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var J=hy;else if(cy(I))if(dy)J=nx;else{J=ex;var me=JA}else k=I.nodeName,!k||k.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?O&&_f(O.elementType)&&(J=hy):J=tx;if(J&&(J=J(i,O))){fy(H,J,a,B);break e}me&&me(i,I,O),i==="focusout"&&O&&I.type==="number"&&O.memoizedProps.value!=null&&vf(I,"number",I.value)}switch(me=O?wa(O):window,i){case"focusin":(cy(me)||me.contentEditable==="true")&&(ur=me,If=O,ka=null);break;case"focusout":ka=If=ur=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Sy(H,a,B);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":Sy(H,a,B)}var ne;if(Nf)e:{switch(i){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else lr?ly(i,a)&&(re="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(ry&&a.locale!=="ko"&&(lr||re!=="onCompositionStart"?re==="onCompositionEnd"&&lr&&(ne=ey()):(vi=B,Cf="value"in vi?vi.value:vi.textContent,lr=!0)),me=Au(O,re),0<me.length&&(re=new iy(re,i,null,a,B),H.push({event:re,listeners:me}),ne?re.data=ne:(ne=uy(a),ne!==null&&(re.data=ne)))),(ne=WA?XA(i,a):$A(i,a))&&(re=Au(O,"onBeforeInput"),0<re.length&&(me=new iy("onBeforeInput","beforeinput",null,a,B),H.push({event:me,listeners:re}),me.data=ne)),jx(H,i,O,a,B)}G_(H,s)})}function lo(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Au(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Aa(i,a),f!=null&&l.unshift(lo(i,f,p)),f=Aa(i,s),f!=null&&l.push(lo(i,f,p))),i.tag===3)return l;i=i.return}return[]}function Ir(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function K_(i,s,a,l,f){for(var p=s._reactName,v=[];a!==null&&a!==l;){var b=a,T=b.alternate,O=b.stateNode;if(b=b.tag,T!==null&&T===l)break;b!==5&&b!==26&&b!==27||O===null||(T=O,f?(O=Aa(a,p),O!=null&&v.unshift(lo(a,O,T))):f||(O=Aa(a,p),O!=null&&v.push(lo(a,O,T)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var qx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function W_(i){return(typeof i=="string"?i:""+i).replace(qx,`
`).replace(Gx,"")}function X_(i,s){return s=W_(s),W_(i)===s}function xu(){}function ke(i,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||rr(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&rr(i,""+l);break;case"className":Ol(i,"class",l);break;case"tabIndex":Ol(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(i,a,l);break;case"style":Qg(i,l,p);break;case"data":if(s!=="object"){Ol(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ll(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&ke(i,s,"name",f.name,f,null),ke(i,s,"formEncType",f.formEncType,f,null),ke(i,s,"formMethod",f.formMethod,f,null),ke(i,s,"formTarget",f.formTarget,f,null)):(ke(i,s,"encType",f.encType,f,null),ke(i,s,"method",f.method,f,null),ke(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ll(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=xu);break;case"onScroll":l!=null&&be("scroll",i);break;case"onScrollEnd":l!=null&&be("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ll(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":be("beforetoggle",i),be("toggle",i),Ml(i,"popover",l);break;case"xlinkActuate":Fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ml(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=SA.get(a)||a,Ml(i,a,l))}}function id(i,s,a,l,f,p){switch(a){case"style":Qg(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?rr(i,l):(typeof l=="number"||typeof l=="bigint")&&rr(i,""+l);break;case"onScroll":l!=null&&be("scroll",i);break;case"onScrollEnd":l!=null&&be("scrollend",i);break;case"onClick":l!=null&&(i.onclick=xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=i[Pt]||null,p=p!=null?p[a]:null,typeof p=="function"&&i.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ml(i,a,l)}}}function Tt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",i),be("load",i);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var v=a[p];if(v!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ke(i,s,p,v,a,null)}}f&&ke(i,s,"srcSet",a.srcSet,a,null),l&&ke(i,s,"src",a.src,a,null);return;case"input":be("invalid",i);var b=p=v=f=null,T=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var B=a[l];if(B!=null)switch(l){case"name":f=B;break;case"type":v=B;break;case"checked":T=B;break;case"defaultChecked":O=B;break;case"value":p=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:ke(i,s,l,B,a,null)}}Kg(i,p,b,T,O,v,f,!1),Il(i);return;case"select":be("invalid",i),l=v=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:ke(i,s,f,b,a,null)}s=p,a=v,i.multiple=!!l,s!=null?sr(i,!!l,s,!1):a!=null&&sr(i,!!l,a,!0);return;case"textarea":be("invalid",i),p=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ke(i,s,v,b,a,null)}Xg(i,l,f,p),Il(i);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ke(i,s,T,l,a,null)}return;case"dialog":be("beforetoggle",i),be("toggle",i),be("cancel",i),be("close",i);break;case"iframe":case"object":be("load",i);break;case"video":case"audio":for(l=0;l<oo.length;l++)be(oo[l],i);break;case"image":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"embed":case"source":case"link":be("error",i),be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ke(i,s,O,l,a,null)}return;default:if(_f(s)){for(B in a)a.hasOwnProperty(B)&&(l=a[B],l!==void 0&&id(i,s,B,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ke(i,s,b,l,a,null))}function Yx(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,b=null,T=null,O=null,B=null;for(k in a){var H=a[k];if(a.hasOwnProperty(k)&&H!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":T=H;default:l.hasOwnProperty(k)||ke(i,s,k,null,l,H)}}for(var I in l){var k=l[I];if(H=a[I],l.hasOwnProperty(I)&&(k!=null||H!=null))switch(I){case"type":p=k;break;case"name":f=k;break;case"checked":O=k;break;case"defaultChecked":B=k;break;case"value":v=k;break;case"defaultValue":b=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:k!==H&&ke(i,s,I,k,l,H)}}yf(i,v,b,T,O,B,p,f);return;case"select":k=v=b=I=null;for(p in a)if(T=a[p],a.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":k=T;default:l.hasOwnProperty(p)||ke(i,s,p,null,l,T)}for(f in l)if(p=l[f],T=a[f],l.hasOwnProperty(f)&&(p!=null||T!=null))switch(f){case"value":I=p;break;case"defaultValue":b=p;break;case"multiple":v=p;default:p!==T&&ke(i,s,f,p,l,T)}s=b,a=v,l=k,I!=null?sr(i,!!a,I,!1):!!l!=!!a&&(s!=null?sr(i,!!a,s,!0):sr(i,!!a,a?[]:"",!1));return;case"textarea":k=I=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ke(i,s,b,null,l,f)}for(v in l)if(f=l[v],p=a[v],l.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":I=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&ke(i,s,v,f,l,p)}Wg(i,I,k);return;case"option":for(var ue in a)if(I=a[ue],a.hasOwnProperty(ue)&&I!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":i.selected=!1;break;default:ke(i,s,ue,null,l,I)}for(T in l)if(I=l[T],k=a[T],l.hasOwnProperty(T)&&I!==k&&(I!=null||k!=null))switch(T){case"selected":i.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ke(i,s,T,I,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)I=a[se],a.hasOwnProperty(se)&&I!=null&&!l.hasOwnProperty(se)&&ke(i,s,se,null,l,I);for(O in l)if(I=l[O],k=a[O],l.hasOwnProperty(O)&&I!==k&&(I!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:ke(i,s,O,I,l,k)}return;default:if(_f(s)){for(var Le in a)I=a[Le],a.hasOwnProperty(Le)&&I!==void 0&&!l.hasOwnProperty(Le)&&id(i,s,Le,void 0,l,I);for(B in l)I=l[B],k=a[B],!l.hasOwnProperty(B)||I===k||I===void 0&&k===void 0||id(i,s,B,I,l,k);return}}for(var x in a)I=a[x],a.hasOwnProperty(x)&&I!=null&&!l.hasOwnProperty(x)&&ke(i,s,x,null,l,I);for(H in l)I=l[H],k=a[H],!l.hasOwnProperty(H)||I===k||I==null&&k==null||ke(i,s,H,I,l,k)}var sd=null,rd=null;function Ru(i){return i.nodeType===9?i:i.ownerDocument}function $_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ad(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=null;function Kx(){var i=window.event;return i&&i.type==="popstate"?i===od?!1:(od=i,!0):(od=null,!1)}var Z_=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,Xx=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(i){return J_.resolve(null).then(i).catch($x)}:Z_;function $x(i){setTimeout(function(){throw i})}function ki(i){return i==="head"}function e0(i,s){var a=s,l=0,f=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var v=i.ownerDocument;if(a&1&&uo(v.documentElement),a&2&&uo(v.body),a&4)for(a=v.head,uo(a),v=a.firstChild;v;){var b=v.nextSibling,T=v.nodeName;v[Ca]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(f===0){i.removeChild(p),vo(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);vo(s)}function ld(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ld(a),df(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function Qx(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ca])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=bn(i.nextSibling),i===null)break}return null}function Zx(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=bn(i.nextSibling),i===null))return null;return i}function ud(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Jx(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function bn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var cd=null;function t0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function n0(i,s,a){switch(s=Ru(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);df(i)}var fn=new Map,i0=new Set;function Nu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ii=G.d;G.d={f:eR,r:tR,D:nR,C:iR,L:sR,m:rR,X:oR,S:aR,M:lR};function eR(){var i=ii.f(),s=bu();return i||s}function tR(i){var s=er(i);s!==null&&s.tag===5&&s.type==="form"?Tv(s):ii.r(i)}var kr=typeof document>"u"?null:document;function s0(i,s,a){var l=kr;if(l&&typeof s=="string"&&s){var f=sn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),i0.has(f)||(i0.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Tt(s,"link",i),dt(s),l.head.appendChild(s)))}}function nR(i){ii.D(i),s0("dns-prefetch",i,null)}function iR(i,s){ii.C(i,s),s0("preconnect",i,s)}function sR(i,s,a){ii.L(i,s,a);var l=kr;if(l&&i&&s){var f='link[rel="preload"][as="'+sn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(i)+'"]';var p=f;switch(s){case"style":p=Lr(i);break;case"script":p=Pr(i)}fn.has(p)||(i=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),fn.set(p,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(co(p))||s==="script"&&l.querySelector(fo(p))||(s=l.createElement("link"),Tt(s,"link",i),dt(s),l.head.appendChild(s)))}}function rR(i,s){ii.m(i,s);var a=kr;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Pr(i)}if(!fn.has(p)&&(i=g({rel:"modulepreload",href:i},s),fn.set(p,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fo(p)))return}l=a.createElement("link"),Tt(l,"link",i),dt(l),a.head.appendChild(l)}}}function aR(i,s,a){ii.S(i,s,a);var l=kr;if(l&&i){var f=tr(l).hoistableStyles,p=Lr(i);s=s||"default";var v=f.get(p);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(co(p)))b.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},a),(a=fn.get(p))&&fd(i,a);var T=v=l.createElement("link");dt(T),Tt(T,"link",i),T._p=new Promise(function(O,B){T.onload=O,T.onerror=B}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Du(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(p,v)}}}function oR(i,s){ii.X(i,s);var a=kr;if(a&&i){var l=tr(a).hoistableScripts,f=Pr(i),p=l.get(f);p||(p=a.querySelector(fo(f)),p||(i=g({src:i,async:!0},s),(s=fn.get(f))&&hd(i,s),p=a.createElement("script"),dt(p),Tt(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function lR(i,s){ii.M(i,s);var a=kr;if(a&&i){var l=tr(a).hoistableScripts,f=Pr(i),p=l.get(f);p||(p=a.querySelector(fo(f)),p||(i=g({src:i,async:!0,type:"module"},s),(s=fn.get(f))&&hd(i,s),p=a.createElement("script"),dt(p),Tt(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function r0(i,s,a,l){var f=(f=le.current)?Nu(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Lr(a.href),a=tr(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Lr(a.href);var p=tr(f).hoistableStyles,v=p.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,v),(p=f.querySelector(co(i)))&&!p._p&&(v.instance=p,v.state.loading=5),fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fn.set(i,a),p||uR(f,i,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Pr(a),a=tr(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Lr(i){return'href="'+sn(i)+'"'}function co(i){return'link[rel="stylesheet"]['+i+"]"}function a0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function uR(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Tt(s,"link",a),dt(s),i.head.appendChild(s))}function Pr(i){return'[src="'+sn(i)+'"]'}function fo(i){return"script[async]"+i}function o0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return s.instance=l,dt(l),l;var f=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),dt(l),Tt(l,"style",f),Du(l,a.precedence,i),s.instance=l;case"stylesheet":f=Lr(a.href);var p=i.querySelector(co(f));if(p)return s.state.loading|=4,s.instance=p,dt(p),p;l=a0(a),(f=fn.get(f))&&fd(l,f),p=(i.ownerDocument||i).createElement("link"),dt(p);var v=p;return v._p=new Promise(function(b,T){v.onload=b,v.onerror=T}),Tt(p,"link",l),s.state.loading|=4,Du(p,a.precedence,i),s.instance=p;case"script":return p=Pr(a.src),(f=i.querySelector(fo(p)))?(s.instance=f,dt(f),f):(l=a,(f=fn.get(p))&&(l=g({},a),hd(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),dt(f),Tt(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Du(l,a.precedence,i));return s.instance}function Du(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===s)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function fd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function hd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Mu=null;function l0(i,s,a){if(Mu===null){var l=new Map,f=Mu=new Map;f.set(a,l)}else f=Mu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var p=a[f];if(!(p[Ca]||p[xt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(s)||"";v=i+v;var b=l.get(v);b?b.push(p):l.set(v,[p])}}return l}function u0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function cR(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function c0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ho=null;function fR(){}function hR(i,s,a){if(ho===null)throw Error(r(475));var l=ho;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Lr(a.href),p=i.querySelector(co(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Ou.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=p,dt(p);return}p=i.ownerDocument||i,a=a0(a),(f=fn.get(f))&&fd(a,f),p=p.createElement("link"),dt(p);var v=p;v._p=new Promise(function(b,T){v.onload=b,v.onerror=T}),Tt(p,"link",a),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Ou.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function dR(){if(ho===null)throw Error(r(475));var i=ho;return i.stylesheets&&i.count===0&&dd(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&dd(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Ou(){if(this.count--,this.count===0){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Iu=null;function dd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Iu=new Map,s.forEach(pR,i),Iu=null,Ou.call(i))}function pR(i,s){if(!(s.state.loading&4)){var a=Iu.get(i);if(a)var l=a.get(null);else{a=new Map,Iu.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),p=a.get(v)||l,p===l&&a.set(null,f),a.set(v,f),this.count++,l=Ou.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var po={$$typeof:L,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function mR(i,s,a,l,f,p,v,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.hiddenUpdates=uf(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function f0(i,s,a,l,f,p,v,b,T,O,B,H){return i=new mR(i,s,a,v,b,T,O,H),s=1,p===!0&&(s|=24),p=Kt(3,null,null,s),i.current=p,p.stateNode=i,s=Wf(),s.refCount++,i.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},Zf(p),i}function h0(i){return i?(i=dr,i):dr}function d0(i,s,a,l,f,p){f=h0(f),l.context===null?l.context=f:l.pendingContext=f,l=Si(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Ei(i,l,s),a!==null&&(Zt(a,i,s),Fa(a,i,s))}function p0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function pd(i,s){p0(i,s),(i=i.alternate)&&p0(i,s)}function m0(i){if(i.tag===13){var s=hr(i,67108864);s!==null&&Zt(s,i,67108864),pd(i,67108864)}}var ku=!0;function gR(i,s,a,l){var f=V.T;V.T=null;var p=G.p;try{G.p=2,md(i,s,a,l)}finally{G.p=p,V.T=f}}function yR(i,s,a,l){var f=V.T;V.T=null;var p=G.p;try{G.p=8,md(i,s,a,l)}finally{G.p=p,V.T=f}}function md(i,s,a,l){if(ku){var f=gd(l);if(f===null)nd(i,s,l,Lu,a),y0(i,l);else if(_R(f,i,s,a,l))l.stopPropagation();else if(y0(i,l),s&4&&-1<vR.indexOf(i)){for(;f!==null;){var p=er(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=ls(p.pendingLanes);if(v!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var T=1<<31-st(v);b.entanglements[1]|=T,v&=~T}Pn(p),(Me&6)===0&&(vu=tn()+500,ao(0))}}break;case 13:b=hr(p,2),b!==null&&Zt(b,p,2),bu(),pd(p,2)}if(p=gd(l),p===null&&nd(i,s,l,Lu,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else nd(i,s,l,null,a)}}function gd(i){return i=Sf(i),yd(i)}var Lu=null;function yd(i){if(Lu=null,i=Js(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Lu=i,null}function g0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(of()){case xl:return 2;case Rl:return 8;case Xs:case q:return 32;case he:return 268435456;default:return 32}default:return 32}}var vd=!1,Li=null,Pi=null,Ui=null,mo=new Map,go=new Map,Vi=[],vR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(i,s){switch(i){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":mo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(s.pointerId)}}function yo(i,s,a,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=er(s),s!==null&&m0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function _R(i,s,a,l,f){switch(s){case"focusin":return Li=yo(Li,i,s,a,l,f),!0;case"dragenter":return Pi=yo(Pi,i,s,a,l,f),!0;case"mouseover":return Ui=yo(Ui,i,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return mo.set(p,yo(mo.get(p)||null,i,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,go.set(p,yo(go.get(p)||null,i,s,a,l,f)),!0}return!1}function v0(i){var s=Js(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,hA(i.priority,function(){if(a.tag===13){var l=Qt();l=cf(l);var f=hr(a,l);f!==null&&Zt(f,a,l),pd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=gd(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);bf=l,a.target.dispatchEvent(l),bf=null}else return s=er(a),s!==null&&m0(s),i.blockedOn=a,!1;s.shift()}return!0}function _0(i,s,a){Pu(i)&&a.delete(s)}function bR(){vd=!1,Li!==null&&Pu(Li)&&(Li=null),Pi!==null&&Pu(Pi)&&(Pi=null),Ui!==null&&Pu(Ui)&&(Ui=null),mo.forEach(_0),go.forEach(_0)}function Uu(i,s){i.blockedOn===s&&(i.blockedOn=null,vd||(vd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bR)))}var Vu=null;function b0(i){Vu!==i&&(Vu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vu===i&&(Vu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(yd(l||a)===null)continue;break}var p=er(a);p!==null&&(i.splice(s,3),s-=3,yh(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function vo(i){function s(T){return Uu(T,i)}Li!==null&&Uu(Li,i),Pi!==null&&Uu(Pi,i),Ui!==null&&Uu(Ui,i),mo.forEach(s),go.forEach(s);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)v0(a),a.blockedOn===null&&Vi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],v=f[Pt]||null;if(typeof p=="function")v||b0(a);else if(v){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[Pt]||null)b=v.formAction;else if(yd(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),b0(a)}}}function _d(i){this._internalRoot=i}Bu.prototype.render=_d.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Qt();d0(a,l,i,s,null,null)},Bu.prototype.unmount=_d.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;d0(i.current,2,null,i,null,null),bu(),s[Zs]=null}};function Bu(i){this._internalRoot=i}Bu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ug();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Vi.length&&s!==0&&s<Vi[a].priority;a++);Vi.splice(a,0,i),a===0&&v0(i)}};var S0=e.version;if(S0!=="19.1.0")throw Error(r(527,S0,"19.1.0"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var SR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Be=ju.inject(SR),xe=ju}catch{}}return bo.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=Uv,p=Vv,v=Bv,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=f0(i,1,!1,null,null,a,l,f,p,v,b,null),i[Zs]=s.current,td(i),new _d(s)},bo.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",p=Uv,v=Vv,b=Bv,T=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),s=f0(i,1,!0,s,a??null,l,f,p,v,b,T,O),s.context=h0(null),a=s.current,l=Qt(),l=cf(l),f=Si(l),f.callback=null,Ei(a,f,l),a=l,s.current.lanes=a,Ta(s,a),Pn(s),i[Zs]=s.current,td(i),new Bu(s)},bo.version="19.1.0",bo}var M0;function OR(){if(M0)return Ed.exports;M0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ed.exports=MR(),Ed.exports}var IR=OR();const kR=fE(IR);var So={},O0;function LR(){if(O0)return So;O0=1,Object.defineProperty(So,"__esModule",{value:!0}),So.parse=c,So.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,S){const E=new u,N=_.length;if(N<2)return E;const D=(S==null?void 0:S.decode)||g;let R=0;do{const j=_.indexOf("=",R);if(j===-1)break;const L=_.indexOf(";",R),K=L===-1?N:L;if(j>K){R=_.lastIndexOf(";",j-1)+1;continue}const U=h(_,R,j),W=d(_,j,U),Z=_.slice(U,W);if(E[Z]===void 0){let $=h(_,j+1,K),ae=d(_,K,$);const Te=D(_.slice($,ae));E[Z]=Te}R=K+1}while(R<N);return E}function h(_,S,E){do{const N=_.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<E);return E}function d(_,S,E){for(;S>E;){const N=_.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return E}function m(_,S,E){const N=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=N(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let R=_+"="+D;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return o.call(_)==="[object Date]"}return So}LR();var I0="popstate";function PR(t={}){function e(r,o){let{pathname:u,search:c,hash:h}=r.location;return np("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Go(o)}return VR(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UR(){return Math.random().toString(36).substring(2,10)}function k0(t,e){return{usr:t.state,key:t.key,idx:e}}function np(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:n,key:e&&e.key||r||UR()}}function Go({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VR(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let D=g(),R=D==null?null:D-m;m=D,d&&d({action:h,location:N.location,delta:R})}function _(D,R){h="PUSH";let j=np(N.location,D,R);m=g()+1;let L=k0(j,m),K=N.createHref(j);try{c.pushState(L,"",K)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(K)}u&&d&&d({action:h,location:N.location,delta:1})}function S(D,R){h="REPLACE";let j=np(N.location,D,R);m=g();let L=k0(j,m),K=N.createHref(j);c.replaceState(L,"",K),u&&d&&d({action:h,location:N.location,delta:0})}function E(D){let R=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof D=="string"?D:Go(D);return j=j.replace(/ $/,"%20"),Ke(R,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,R)}let N={get action(){return h},get location(){return t(o,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(I0,y),d=D,()=>{o.removeEventListener(I0,y),d=null}},createHref(D){return e(o,D)},createURL:E,encodeLocation(D){let R=E(D);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:S,go(D){return c.go(D)}};return N}function hE(t,e,n="/"){return BR(t,e,n,!1)}function BR(t,e,n,r){let o=typeof e=="string"?ra(e):e,u=fi(o.pathname||"/",n);if(u==null)return null;let c=dE(t);jR(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=QR(u);h=XR(c[d],m,r)}return h}function dE(t,e=[],n=[],r=""){let o=(u,c,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(Ke(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=li([r,d.relativePath]),g=n.concat(d);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),dE(u.children,e,g,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:KR(m,u.index),routesMeta:g})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,c);else for(let d of pE(u.path))o(u,c,d)}),e}function pE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=pE(r.join("/")),h=[];return h.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function jR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zR=/^:[\w-]+$/,HR=3,FR=2,qR=1,GR=10,YR=-2,L0=t=>t==="*";function KR(t,e){let n=t.split("/"),r=n.length;return n.some(L0)&&(r+=YR),e&&(r+=FR),n.filter(o=>!L0(o)).reduce((o,u)=>o+(zR.test(u)?HR:u===""?qR:GR),r)}function WR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function XR(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=ac({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),_=d.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=ac({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:li([u,y.pathname]),pathnameBase:t1(li([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=li([u,y.pathnameBase]))}return c}function ac(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$R(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:y},_)=>{if(g==="*"){let E=h[_]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[_];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:t}}function $R(t,e=!1,n=!0){xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function QR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZR(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ra(t):t;return{pathname:n?n.startsWith("/")?n:JR(n,e):e,search:n1(r),hash:i1(o)}}function JR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xp(t){let e=e1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $p(t,e,n,r=!1){let o;typeof t=="string"?o=ra(t):(o={...t},Ke(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=ZR(o,h),m=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var li=t=>t.join("/").replace(/\/\/+/g,"/"),t1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mE=["POST","PUT","PATCH","DELETE"];new Set(mE);var r1=["GET",...mE];new Set(r1);var aa=C.createContext(null);aa.displayName="DataRouter";var Lc=C.createContext(null);Lc.displayName="DataRouterState";var gE=C.createContext({isTransitioning:!1});gE.displayName="ViewTransition";var a1=C.createContext(new Map);a1.displayName="Fetchers";var o1=C.createContext(null);o1.displayName="Await";var Nn=C.createContext(null);Nn.displayName="Navigation";var fl=C.createContext(null);fl.displayName="Location";var zn=C.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var Qp=C.createContext(null);Qp.displayName="RouteError";function l1(t,{relative:e}={}){Ke(oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Nn),{hash:o,pathname:u,search:c}=hl(t,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:li([n,u])),r.createHref({pathname:h,search:c,hash:o})}function oa(){return C.useContext(fl)!=null}function ts(){return Ke(oa(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(fl).location}var yE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vE(t){C.useContext(Nn).static||C.useLayoutEffect(t)}function la(){let{isDataRoute:t}=C.useContext(zn);return t?S1():u1()}function u1(){Ke(oa(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(aa),{basename:e,navigator:n}=C.useContext(Nn),{matches:r}=C.useContext(zn),{pathname:o}=ts(),u=JSON.stringify(Xp(r)),c=C.useRef(!1);return vE(()=>{c.current=!0}),C.useCallback((d,m={})=>{if(xn(c.current,yE),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=$p(d,JSON.parse(u),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:li([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,u,o,t])}C.createContext(null);function hl(t,{relative:e}={}){let{matches:n}=C.useContext(zn),{pathname:r}=ts(),o=JSON.stringify(Xp(n));return C.useMemo(()=>$p(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function c1(t,e){return _E(t,e)}function _E(t,e,n,r){var j;Ke(oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=C.useContext(Nn),{matches:c}=C.useContext(zn),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let L=y&&y.path||"";bE(m,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=ts(),S;if(e){let L=typeof e=="string"?ra(e):e;Ke(g==="/"||((j=L.pathname)==null?void 0:j.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=_;let E=S.pathname||"/",N=E;if(g!=="/"){let L=g.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let D=!u&&n&&n.matches&&n.matches.length>0?n.matches:hE(t,{pathname:N});xn(y||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=m1(D&&D.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:li([g,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:li([g,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,r);return e&&R?C.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},R):R}function f1(){let t=b1(),e=s1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,c)}var h1=C.createElement(f1,null),d1=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(zn.Provider,{value:this.props.routeContext},C.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p1({routeContext:t,match:e,children:n}){let r=C.useContext(aa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(zn.Provider,{value:t},n)}function m1(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let d=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=n,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,g)=>{let y,_=!1,S=null,E=null;n&&(y=u&&m.route.id?u[m.route.id]:void 0,S=m.route.errorElement||h1,c&&(h<0&&g===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):h===g&&(_=!0,E=m.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,g+1)),D=()=>{let R;return y?R=S:_?R=E:m.route.Component?R=C.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,C.createElement(p1,{match:m,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?C.createElement(d1,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}function Zp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(t){let e=C.useContext(aa);return Ke(e,Zp(t)),e}function y1(t){let e=C.useContext(Lc);return Ke(e,Zp(t)),e}function v1(t){let e=C.useContext(zn);return Ke(e,Zp(t)),e}function Jp(t){let e=v1(t),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _1(){return Jp("useRouteId")}function b1(){var r;let t=C.useContext(Qp),e=y1("useRouteError"),n=Jp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function S1(){let{router:t}=g1("useNavigate"),e=Jp("useNavigate"),n=C.useRef(!1);return vE(()=>{n.current=!0}),C.useCallback(async(o,u={})=>{xn(n.current,yE),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var P0={};function bE(t,e,n){!e&&!P0[t]&&(P0[t]=!0,xn(!1,n))}C.memo(E1);function E1({routes:t,future:e,state:n}){return _E(t,void 0,n,e)}function xd({to:t,replace:e,state:n,relative:r}){Ke(oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(Nn);xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext(zn),{pathname:c}=ts(),h=la(),d=$p(t,Xp(u),c,r==="path"),m=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function No(t){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T1({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Ke(!oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=ra(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:_="default"}=n,S=C.useMemo(()=>{let E=fi(d,c);return E==null?null:{location:{pathname:E,search:m,hash:g,state:y,key:_},navigationType:r}},[c,d,m,g,y,_,r]);return xn(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(Nn.Provider,{value:h},C.createElement(fl.Provider,{children:e,value:S}))}function C1({children:t,location:e}){return c1(ip(t),e)}function ip(t,e=[]){let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let u=[...e,o];if(r.type===C.Fragment){n.push.apply(n,ip(r.props.children,u));return}Ke(r.type===No,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ip(r.props.children,u)),n.push(c)}),n}var $u="get",Qu="application/x-www-form-urlencoded";function Pc(t){return t!=null&&typeof t.tagName=="string"}function w1(t){return Pc(t)&&t.tagName.toLowerCase()==="button"}function A1(t){return Pc(t)&&t.tagName.toLowerCase()==="form"}function x1(t){return Pc(t)&&t.tagName.toLowerCase()==="input"}function R1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N1(t,e){return t.button===0&&(!e||e==="_self")&&!R1(t)}var zu=null;function D1(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var M1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rd(t){return t!=null&&!M1.has(t)?(xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):t}function O1(t,e){let n,r,o,u,c;if(A1(t)){let h=t.getAttribute("action");r=h?fi(h,e):null,n=t.getAttribute("method")||$u,o=Rd(t.getAttribute("enctype"))||Qu,u=new FormData(t)}else if(w1(t)||x1(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?fi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||$u,o=Rd(t.getAttribute("formenctype"))||Rd(h.getAttribute("enctype"))||Qu,u=new FormData(h,t),!D1()){let{name:m,type:g,value:y}=t;if(g==="image"){let _=m?`${m}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else m&&u.append(m,y)}}else{if(Pc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$u,r=null,o=Qu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}function em(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function I1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function L1(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await I1(u,n);return c.links?c.links():[]}return[]}));return B1(r.flat(1).filter(k1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function U0(t,e,n,r,o,u){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):u==="data"?e.filter((d,m)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function P1(t,e,{includeHydrateFallback:n}={}){return U1(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function U1(t){return[...new Set(t)]}function V1(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function B1(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(V1(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}var j1=new Set([100,101,204,205]);function z1(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&fi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function SE(){let t=C.useContext(aa);return em(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function H1(){let t=C.useContext(Lc);return em(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tm=C.createContext(void 0);tm.displayName="FrameworkContext";function EE(){let t=C.useContext(tm);return em(t,"You must render this element inside a <HydratedRouter> element"),t}function F1(t,e){let n=C.useContext(tm),[r,o]=C.useState(!1),[u,c]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,_=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=R=>{R.forEach(j=>{c(j.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),C.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let S=()=>{o(!0)},E=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,_,{}]:[u,_,{onFocus:Eo(h,S),onBlur:Eo(d,E),onMouseEnter:Eo(m,S),onMouseLeave:Eo(g,E),onTouchStart:Eo(y,S)}]:[!1,_,{}]}function Eo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function q1({page:t,...e}){let{router:n}=SE(),r=C.useMemo(()=>hE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(Y1,{page:t,matches:r,...e}):null}function G1(t){let{manifest:e,routeModules:n}=EE(),[r,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return L1(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function Y1({page:t,matches:e,...n}){let r=ts(),{manifest:o,routeModules:u}=EE(),{basename:c}=SE(),{loaderData:h,matches:d}=H1(),m=C.useMemo(()=>U0(t,e,d,o,r,"data"),[t,e,d,o,r]),g=C.useMemo(()=>U0(t,e,d,o,r,"assets"),[t,e,d,o,r]),y=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,N=!1;if(e.forEach(R=>{var L;let j=o.routes[R.route.id];!j||!j.hasLoader||(!m.some(K=>K.route.id===R.route.id)&&R.route.id in h&&((L=u[R.route.id])!=null&&L.shouldRevalidate)||j.hasClientLoader?N=!0:E.add(R.route.id))}),E.size===0)return[];let D=z1(t,c);return N&&E.size>0&&D.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[D.pathname+D.search]},[c,h,r,o,m,e,t,u]),_=C.useMemo(()=>P1(g,o),[g,o]),S=G1(g);return C.createElement(C.Fragment,null,y.map(E=>C.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>C.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:N})=>C.createElement("link",{key:E,...N})))}function K1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TE&&(window.__reactRouterVersion="7.5.2")}catch{}function W1({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=PR({window:n,v5Compat:!0}));let o=r.current,[u,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(d=>{C.startTransition(()=>c(d))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(T1,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wE=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:y,..._},S){let{basename:E}=C.useContext(Nn),N=typeof m=="string"&&CE.test(m),D,R=!1;if(typeof m=="string"&&N&&(D=m,TE))try{let ae=new URL(window.location.href),Te=m.startsWith("//")?new URL(ae.protocol+m):new URL(m),We=fi(Te.pathname,E);Te.origin===ae.origin&&We!=null?m=We+Te.search+Te.hash:R=!0}catch{xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=l1(m,{relative:o}),[L,K,U]=F1(r,_),W=Z1(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:y});function Z(ae){e&&e(ae),ae.defaultPrevented||W(ae)}let $=C.createElement("a",{..._,...U,href:D||j,onClick:R||u?e:Z,ref:K1(S,K),target:d,"data-discover":!N&&n==="render"?"true":void 0});return L&&!N?C.createElement(C.Fragment,null,$,C.createElement(q1,{page:j})):$});wE.displayName="Link";var X1=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:d,...m},g){let y=hl(c,{relative:m.relative}),_=ts(),S=C.useContext(Lc),{navigator:E,basename:N}=C.useContext(Nn),D=S!=null&&iN(y)&&h===!0,R=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,j=_.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(j=j.toLowerCase(),L=L?L.toLowerCase():null,R=R.toLowerCase()),L&&N&&(L=fi(L,N)||L);const K=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let U=j===R||!o&&j.startsWith(R)&&j.charAt(K)==="/",W=L!=null&&(L===R||!o&&L.startsWith(R)&&L.charAt(R.length)==="/"),Z={isActive:U,isPending:W,isTransitioning:D},$=U?e:void 0,ae;typeof r=="function"?ae=r(Z):ae=[r,U?"active":null,W?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Te=typeof u=="function"?u(Z):u;return C.createElement(wE,{...m,"aria-current":$,className:ae,ref:g,style:Te,to:c,viewTransition:h},typeof d=="function"?d(Z):d)});X1.displayName="NavLink";var $1=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=$u,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,..._},S)=>{let E=tN(),N=nN(h,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&CE.test(h),j=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let K=L.nativeEvent.submitter,U=(K==null?void 0:K.getAttribute("formmethod"))||c;E(K||L.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:o,state:u,relative:m,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:S,method:D,action:N,onSubmit:r?d:j,..._,"data-discover":!R&&t==="render"?"true":void 0})});$1.displayName="Form";function Q1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(t){let e=C.useContext(aa);return Ke(e,Q1(t)),e}function Z1(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let h=la(),d=ts(),m=hl(t,{relative:u});return C.useCallback(g=>{if(N1(g,e)){g.preventDefault();let y=n!==void 0?n:Go(d)===Go(m);h(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[d,h,m,n,r,e,t,o,u,c])}var J1=0,eN=()=>`__${String(++J1)}__`;function tN(){let{router:t}=AE("useSubmit"),{basename:e}=C.useContext(Nn),n=_1();return C.useCallback(async(r,o={})=>{let{action:u,method:c,encType:h,formData:d,body:m}=O1(r,e);if(o.navigate===!1){let g=o.fetcherKey||eN();await t.fetch(g,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function nN(t,{relative:e}={}){let{basename:n}=C.useContext(Nn),r=C.useContext(zn);Ke(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...hl(t||".",{relative:e})},c=ts();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:li([n,u.pathname])),Go(u)}function iN(t,e={}){let n=C.useContext(gE);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=AE("useViewTransitionState"),o=hl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=fi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ac(o.pathname,c)!=null||ac(o.pathname,u)!=null}new TextEncoder;[...j1];const sN=()=>{};var V0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw ua(e)},ua=function(t){return new Error("Firebase Database ("+xE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],h=t[n++],d=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},nm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|m>>6,S=m&63;d||(S=64,c||(_=64)),r.push(n[g],n[y],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||h==null||m==null||y==null)throw new aN;const _=u<<2|h>>4;if(r.push(_),m!==64){const S=h<<4&240|m>>2;if(r.push(S),y!==64){const E=m<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NE=function(t){const e=RE(t);return nm.encodeByteArray(e,!0)},oc=function(t){return NE(t).replace(/\./g,"")},lc=function(t){try{return nm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return DE(void 0,t)}function DE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lN(n)||(t[n]=DE(t[n],e[n]));return t}function lN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=()=>uN().__FIREBASE_DEFAULTS__,fN=()=>{if(typeof process>"u"||typeof V0>"u")return;const t=V0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lc(t[1]);return e&&JSON.parse(e)},im=()=>{try{return sN()||cN()||fN()||hN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ME=t=>{var e,n;return(n=(e=im())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dN=t=>{const e=ME(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OE=()=>{var t;return(t=im())===null||t===void 0?void 0:t.config},IE=t=>{var e;return(e=im())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oc(JSON.stringify(n)),oc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function mN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yN(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vN(){return xE.NODE_ADMIN===!0}function _N(){try{return typeof indexedDB=="object"}catch{return!1}}function bN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="FirebaseError";class ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SN,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?EN(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new ns(o,h,r)}}function EN(t,e){return t.replace(TN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const TN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){return JSON.parse(t)}function bt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(t){let e={},n={},r={},o="";try{const u=t.split(".");e=Yo(lc(u[0])||""),n=Yo(lc(u[1])||""),o=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},CN=function(t){const e=LE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wN=function(t){const e=LE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $r(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function sp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function Us(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(B0(u)&&B0(c)){if(!Us(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function B0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Do(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Mo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=h^u&(c^h),g=1518500249):(m=u^c^h,g=1859775393):y<60?(m=u&c|h&(u|c),g=2400959708):(m=u^c^h,g=3395469782);const _=(o<<5|o>>>27)+m+d+g+r[y]&4294967295;d=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<n;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function xN(t,e){const n=new RN(t,e);return n.subscribe.bind(n)}class RN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Nd),o.error===void 0&&(o.error=Nd),o.complete===void 0&&(o.complete=Nd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nd(){}function Uc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Vc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IN(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ON(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ON(t){return t===xs?void 0:t}function IN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const LN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},PN=Pe.INFO,UN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},VN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=UN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rm{constructor(e){this.name=e,this._logLevel=PN,this._logHandler=VN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const BN=(t,e)=>e.some(n=>t instanceof n);let j0,z0;function jN(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zN(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,rp=new WeakMap,UE=new WeakMap,Dd=new WeakMap,am=new WeakMap;function HN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(Ki(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&PE.set(n,t)}).catch(()=>{}),am.set(e,t),e}function FN(t){if(rp.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});rp.set(t,e)}let ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qN(t){ap=t(ap)}function GN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Md(this),e,...n);return UE.set(r,e.sort?e.sort():[e]),Ki(r)}:zN().includes(t)?function(...e){return t.apply(Md(this),e),Ki(PE.get(this))}:function(...e){return Ki(t.apply(Md(this),e))}}function YN(t){return typeof t=="function"?GN(t):(t instanceof IDBTransaction&&FN(t),BN(t,jN())?new Proxy(t,ap):t)}function Ki(t){if(t instanceof IDBRequest)return HN(t);if(Dd.has(t))return Dd.get(t);const e=YN(t);return e!==t&&(Dd.set(t,e),am.set(e,t)),e}const Md=t=>am.get(t);function KN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=Ki(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Ki(c.result),d.oldVersion,d.newVersion,Ki(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const WN=["get","getKey","getAll","getAllKeys","count"],XN=["put","add","delete","clear"],Od=new Map;function H0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=XN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WN.includes(n)))return;const u=async function(c,...h){const d=this.transaction(c,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&d.done]))[0]};return Od.set(e,u),u}qN(t=>({...t,get:(e,n,r)=>H0(e,n)||t.get(e,n,r),has:(e,n)=>!!H0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",F0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new rm("@firebase/app"),ZN="@firebase/app-compat",JN="@firebase/analytics-compat",eD="@firebase/analytics",tD="@firebase/app-check-compat",nD="@firebase/app-check",iD="@firebase/auth",sD="@firebase/auth-compat",rD="@firebase/database",aD="@firebase/data-connect",oD="@firebase/database-compat",lD="@firebase/functions",uD="@firebase/functions-compat",cD="@firebase/installations",fD="@firebase/installations-compat",hD="@firebase/messaging",dD="@firebase/messaging-compat",pD="@firebase/performance",mD="@firebase/performance-compat",gD="@firebase/remote-config",yD="@firebase/remote-config-compat",vD="@firebase/storage",_D="@firebase/storage-compat",bD="@firebase/firestore",SD="@firebase/vertexai",ED="@firebase/firestore-compat",TD="firebase",CD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",wD={[op]:"fire-core",[ZN]:"fire-core-compat",[eD]:"fire-analytics",[JN]:"fire-analytics-compat",[nD]:"fire-app-check",[tD]:"fire-app-check-compat",[iD]:"fire-auth",[sD]:"fire-auth-compat",[rD]:"fire-rtdb",[aD]:"fire-data-connect",[oD]:"fire-rtdb-compat",[lD]:"fire-fn",[uD]:"fire-fn-compat",[cD]:"fire-iid",[fD]:"fire-iid-compat",[hD]:"fire-fcm",[dD]:"fire-fcm-compat",[pD]:"fire-perf",[mD]:"fire-perf-compat",[gD]:"fire-rc",[yD]:"fire-rc-compat",[vD]:"fire-gcs",[_D]:"fire-gcs-compat",[bD]:"fire-fst",[ED]:"fire-fst-compat",[SD]:"fire-vertex","fire-js":"fire-js",[TD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,AD=new Map,up=new Map;function q0(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(up.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,t);for(const n of cc.values())q0(n,t);for(const n of AD.values())q0(n,t);return!0}function om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new pl("app","Firebase",xD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=CD;function VE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw Wi.create("no-options");const u=cc.get(o);if(u){if(Us(n,u.options)&&Us(r,u.config))return u;throw Wi.create("duplicate-app",{appName:o})}const c=new kN(o);for(const d of up.values())c.addComponent(d);const h=new RD(n,r,c);return cc.set(o,h),h}function BE(t=lp){const e=cc.get(t);if(!e&&t===lp&&OE())return VE();if(!e)throw Wi.create("no-app",{appName:t});return e}function Xi(t,e,n){var r;let o=(r=wD[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(h.join(" "));return}Qr(new Vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebase-heartbeat-database",DD=1,Ko="firebase-heartbeat-store";let Id=null;function jE(){return Id||(Id=KN(ND,DD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ko)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Id}async function MD(t){try{const n=(await jE()).transaction(Ko),r=await n.objectStore(Ko).get(zE(t));return await n.done,r}catch(e){if(e instanceof ns)hi.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function G0(t,e){try{const r=(await jE()).transaction(Ko,"readwrite");await r.objectStore(Ko).put(e,zE(t)),await r.done}catch(n){if(n instanceof ns)hi.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function zE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1024,ID=30;class kD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Y0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ID){const c=UD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y0(),{heartbeatsToSend:r,unsentEntries:o}=LD(this._heartbeatsCache.heartbeats),u=oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return hi.warn(n),""}}}function Y0(){return new Date().toISOString().substring(0,10)}function LD(t,e=OD){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),K0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),K0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _N()?bN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function K0(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}function UD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){Qr(new Vs("platform-logger",e=>new $N(e),"PRIVATE")),Qr(new Vs("heartbeat",e=>new kD(e),"PRIVATE")),Xi(op,F0,t),Xi(op,F0,"esm2017"),Xi("fire-js","")}VD("");function lm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BD=HE,FE=new pl("auth","Firebase",HE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new rm("@firebase/auth");function jD(t,...e){fc.logLevel<=Pe.WARN&&fc.warn(`Auth (${fa}): ${t}`,...e)}function Zu(t,...e){fc.logLevel<=Pe.ERROR&&fc.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw cm(t,...e)}function wn(t,...e){return cm(t,...e)}function um(t,e,n){const r=Object.assign(Object.assign({},BD()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return um(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(t,"argument-error"),um(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FE.create(t,...e)}function oe(t,e,...n){if(!t)throw cm(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function di(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HD(){return W0()==="http:"||W0()==="https:"}function W0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HD()||gN()||"connection"in navigator)?navigator.onLine:!0}function qD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=sm()||kE()}get(){return FD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KD=new ml(3e4,6e4);function is(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ss(t,e,n,r,o={}){return GE(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const h=ca(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},u);return mN()||(m.referrerPolicy="no-referrer"),qE.fetch()(await YE(t,t.config.apiHost,n,h),m)})}async function GE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GD),e);try{const o=new XD(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Hu(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Hu(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw um(t,g,m);gn(t,g)}}catch(o){if(o instanceof ns)throw o;gn(t,"network-request-failed",{message:String(o)})}}async function gl(t,e,n,r,o={}){const u=await ss(t,e,n,r,o);return"mfaPendingCredential"in u&&gn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function YE(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?fm(t.config,o):`${t.config.apiScheme}://${o}`;return YD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function WD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),KD.get())})}}function Hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=wn(t,e,r);return o.customData._tokenResponse=n,o}function X0(t){return t!==void 0&&t.enterprise!==void 0}class $D{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(t,e){return ss(t,"GET","/v2/recaptchaConfig",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e){return ss(t,"POST","/v1/accounts:delete",e)}async function hc(t,e){return ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JD(t,e=!1){const n=qt(t),r=await n.getIdToken(e),o=hm(r);oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:ko(kd(o.auth_time)),issuedAtTime:ko(kd(o.iat)),expirationTime:ko(kd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kd(t){return Number(t)*1e3}function hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=lc(n);return o?JSON.parse(o):(Zu("Failed to decode base64 JWT payload"),null)}catch(o){return Zu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $0(t){const e=hm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ns&&eM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ko(this.lastLoginAt),this.creationTime=ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Wo(t,hc(n,{idToken:r}));oe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?KE(u.providerUserInfo):[],h=iM(t.providerData,c),d=t.isAnonymous,m=!(t.email&&u.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new fp(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function nM(t){const e=qt(t);await dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iM(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function KE(t){return t.map(e=>{var{providerId:n}=e,r=lm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e){const n=await GE(t,{},async()=>{const r=ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await YE(t,o,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",qE.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rM(t,e){return ss(t,"POST","/v2/accounts:revokeToken",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=$0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await sM(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new qr;return r&&(oe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(oe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(oe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new fp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JD(this,e)}reload(){return nM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await Wo(this,ZD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,c,h,d,m,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,S=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,E=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(m=n.createdAt)!==null&&m!==void 0?m:void 0,j=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:K,isAnonymous:U,providerData:W,stsTokenManager:Z}=n;oe(L&&Z,e,"internal-error");const $=qr.fromJSON(this.name,Z);oe(typeof L=="string",e,"internal-error"),ji(y,e.name),ji(_,e.name),oe(typeof K=="boolean",e,"internal-error"),oe(typeof U=="boolean",e,"internal-error"),ji(S,e.name),ji(E,e.name),ji(N,e.name),ji(D,e.name),ji(R,e.name),ji(j,e.name);const ae=new Tn({uid:L,auth:e,email:_,emailVerified:K,displayName:y,isAnonymous:U,photoURL:E,phoneNumber:S,tenantId:N,stsTokenManager:$,createdAt:R,lastLoginAt:j});return W&&Array.isArray(W)&&(ae.providerData=W.map(Te=>Object.assign({},Te))),D&&(ae._redirectEventId=D),ae}static async _fromIdTokenResponse(e,n,r=!1){const o=new qr;o.updateFromServerResponse(n);const u=new Tn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await dc(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new qr;h.updateFromIdToken(r);const d=new Tn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;function ai(t){di(t instanceof Function,"Expected a class definition");let e=Q0.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WE.type="NONE";const Z0=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){return`firebase:${t}:${e}:${n}`}class Gr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ju(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ju("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hc(this.auth,{idToken:e}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gr(ai(Z0),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||ai(Z0);const c=Ju(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let y;if(typeof g=="string"){const _=await hc(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Tn._fromGetAccountInfoResponse(e,_,g)}else y=Tn._fromJSON(e,g);m!==u&&(h=y),u=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new Gr(u,e,r):(u=d[0],h&&await u._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(c)}catch{}})),new Gr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||QE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XE(t=Lt()){return/firefox\//i.test(t)}function $E(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QE(t=Lt()){return/crios\//i.test(t)}function ZE(t=Lt()){return/iemobile/i.test(t)}function JE(t=Lt()){return/android/i.test(t)}function eT(t=Lt()){return/blackberry/i.test(t)}function tT(t=Lt()){return/webos/i.test(t)}function dm(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aM(t=Lt()){var e;return dm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oM(){return yN()&&document.documentMode===10}function nT(t=Lt()){return dm(t)||JE(t)||tT(t)||eT(t)||/windows phone/i.test(t)||ZE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e=[]){let n;switch(t){case"Browser":n=J0(Lt());break;case"Worker":n=`${J0(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,h)=>{try{const d=e(u);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e={}){return ss(t,"GET","/v2/passwordPolicy",is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=6;class fM{constructor(e){var n,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:cM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eb(this),this.idTokenSubscription=new eb(this),this.beforeStateQueue=new lM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Gr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hc(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(en(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(ui(this));const n=e?qt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uM(this),n=new fM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Gr.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,o);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(t){return qt(t)}class eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=xN(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dM(t){Bc=t}function sT(t){return Bc.loadJS(t)}function pM(){return Bc.recaptchaEnterpriseScript}function mM(){return Bc.gapiScript}function gM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yM{constructor(){this.enterprise=new vM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _M="recaptcha-enterprise",rT="NO_RECAPTCHA";class bM{constructor(e){this.type=_M,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,h)=>{QD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new $D(d);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function o(u,c,h){const d=window.grecaptcha;X0(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(m=>{c(m)}).catch(()=>{c(rT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yM().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(h=>{if(!n&&X0(window.grecaptcha))o(h,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=pM();d.length!==0&&(d+=h),sT(d).then(()=>{o(h,u,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function tb(t,e,n,r=!1,o=!1){const u=new bM(t);let c;if(o)c=rT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function hp(t,e,n,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await tb(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await tb(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e){const n=om(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Us(u,e??{}))return o;gn(o,"already-initialized")}return n.initialize({options:e})}function EM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TM(t,e,n){const r=rs(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=aT(e),{host:c,port:h}=CM(e),d=h===null?"":`:${h}`,m={url:`${u}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Us(m,r.config.emulator)&&Us(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wM()}function aT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CM(t){const e=aT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:nb(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:nb(c)}}}function nb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function AM(t,e){return ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e){return gl(t,"POST","/v1/accounts:signInWithPassword",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}async function NM(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends pm{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Xo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,n,"signInWithPassword",xM);case"emailLink":return RM(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,r,"signUpPassword",AM);case"emailLink":return NM(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(t,e){return gl(t,"POST","/v1/accounts:signInWithIdp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="http://localhost";class Bs extends pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=lm(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Bs(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Yr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yr(e,n)}buildRequest(){const e={requestUri:DM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ca(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OM(t){const e=Do(Mo(t)).link,n=e?Do(Mo(e)).deep_link_id:null,r=Do(Mo(t)).deep_link_id;return(r?Do(Mo(r)).link:null)||r||n||e||t}class mm{constructor(e){var n,r,o,u,c,h;const d=Do(Mo(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=MM((o=d.mode)!==null&&o!==void 0?o:null);oe(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=OM(e);try{return new mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return Xo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mm.parseLink(n);return oe(r,"argument-error"),Xo._fromEmailAndCode(e,r.code,r.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends yl{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends yl{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends yl{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e){return gl(t,"POST","/v1/accounts:signUp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Tn._fromIdTokenResponse(e,r,o),c=ib(r);return new js({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=ib(r);return new js({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function ib(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends ns{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new pc(e,n,r,o)}}function oT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?pc._fromErrorAndOperation(t,u,e,r):u})}async function kM(t,e,n=!1){const r=await Wo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return js._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e,n=!1){const{auth:r}=t;if(en(r.app))return Promise.reject(ui(r));const o="reauthenticate";try{const u=await Wo(t,oT(r,o,e,t),n);oe(u.idToken,r,"internal-error");const c=hm(u.idToken);oe(c,r,"internal-error");const{sub:h}=c;return oe(t.uid===h,r,"user-mismatch"),js._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lT(t,e,n=!1){if(en(t.app))return Promise.reject(ui(t));const r="signIn",o=await oT(t,r,e),u=await js._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function PM(t,e){return lT(rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UM(t,e,n){if(en(t.app))return Promise.reject(ui(t));const r=rs(t),c=await hp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&uT(t),d}),h=await js._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function VM(t,e,n){return en(t.app)?Promise.reject(ui(t)):PM(qt(t),ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uT(t),r})}function BM(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function jM(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function zM(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}const mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1e3,FM=10;class fT extends cT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);oM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FM):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fT.type="LOCAL";const qM=fT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends cT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hT.type="SESSION";const dT=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new jc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async m=>m(n.origin,u)),d=await GM(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((h,d)=>{const m=ym("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function KM(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function WM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $M(){return pT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firebaseLocalStorageDb",QM=1,gc="firebaseLocalStorage",gT="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zc(t,e){return t.transaction([gc],e?"readwrite":"readonly").objectStore(gc)}function ZM(){const t=indexedDB.deleteDatabase(mT);return new vl(t).toPromise()}function dp(){const t=indexedDB.open(mT,QM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gc,{keyPath:gT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gc)?e(r):(r.close(),await ZM(),e(await dp()))})})}async function sb(t,e,n){const r=zc(t,!0).put({[gT]:e,value:n});return new vl(r).toPromise()}async function JM(t,e){const n=zc(t,!1).get(e),r=await new vl(n).toPromise();return r===void 0?null:r.value}function rb(t,e){const n=zc(t,!0).delete(e);return new vl(n).toPromise()}const eO=800,tO=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance($M()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WM(),!this.activeServiceWorker)return;this.sender=new YM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await sb(e,mc,"1"),await rb(e,mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zc(o,!1).getAll();return new vl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const nO=yT;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){return e?ai(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iO(t){return lT(t.auth,new vm(t),t.bypassAuthState)}function sO(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),LM(n,new vm(t),t.bypassAuthState)}async function rO(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),kM(n,new vm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iO;case"linkViaPopup":case"linkViaRedirect":return rO;case"reauthViaPopup":case"reauthViaRedirect":return sO;default:gn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new ml(2e3,1e4);async function oO(t,e,n){if(en(t.app))return Promise.reject(wn(t,"operation-not-supported-in-this-environment"));const r=rs(t);zD(t,e,gm);const o=vT(r,n);return new Ms(r,"signInViaPopup",e,o).executeNotNull()}class Ms extends _T{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aO.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="pendingRedirect",ec=new Map;class uO extends _T{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ec.get(this.auth._key());if(!e){try{const r=await cO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ec.set(this.auth._key(),e)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cO(t,e){const n=dO(e),r=hO(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function fO(t,e){ec.set(t._key(),e)}function hO(t){return ai(t._redirectPersistence)}function dO(t){return Ju(lO,t.config.apiKey,t.name)}async function pO(t,e,n=!1){if(en(t.app))return Promise.reject(ui(t));const r=rs(t),o=vT(r,e),c=await new uO(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=10*60*1e3;class gO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ab(e))}saveEventToCache(e){this.cachedEventUids.add(ab(e)),this.lastProcessedEventTime=Date.now()}}function ab(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e={}){return ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bO=/^https?/;async function SO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vO(t);for(const n of e)try{if(EO(n))return}catch{}gn(t,"unauthorized-domain")}function EO(t){const e=cp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!bO.test(n))return!1;if(_O.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new ml(3e4,6e4);function ob(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CO(t){return new Promise((e,n)=>{var r,o,u;function c(){ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ob(),n(wn(t,"network-request-failed"))},timeout:TO.get()})}if(!((o=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Un().gapi)===null||u===void 0)&&u.load)c();else{const h=gM("iframefcb");return Un()[h]=()=>{gapi.load?c():n(wn(t,"network-request-failed"))},sT(`${mM()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw tc=null,e})}let tc=null;function wO(t){return tc=tc||CO(t),tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new ml(5e3,15e3),xO="__/auth/iframe",RO="emulator/auth/iframe",NO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MO(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fm(e,RO):`https://${t.config.authDomain}/${xO}`,r={apiKey:e.apiKey,appName:t.name,v:fa},o=DO.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ca(r).slice(1)}`}async function OO(t){const e=await wO(t),n=Un().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:MO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=wn(t,"network-request-failed"),h=Un().setTimeout(()=>{u(c)},AO.get());function d(){Un().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kO=500,LO=600,PO="_blank",UO="http://localhost";class lb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VO(t,e,n,r=kO,o=LO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},IO),{width:r.toString(),height:o.toString(),top:u,left:c}),m=Lt().toLowerCase();n&&(h=QE(m)?PO:n),XE(m)&&(e=e||UO,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[S,E])=>`${_}${S}=${E},`,"");if(aM(m)&&h!=="_self")return BO(e||"",h),new lb(null);const y=window.open(e||"",h,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new lb(y)}function BO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",zO="emulator/auth/handler",HO=encodeURIComponent("fac");async function ub(t,e,n,r,o,u){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:o};if(e instanceof gm){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",sp(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof yl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${HO}=${encodeURIComponent(d)}`:"";return`${FO(t)}?${ca(h).slice(1)}${m}`}function FO({config:t}){return t.emulator?fm(t,zO):`https://${t.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="webStorageSupport";class qO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=pO,this._overrideRedirectResult=fO}async _openPopup(e,n,r,o){var u;di((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await ub(e,n,r,cp(),o);return VO(e,c,ym())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await ub(e,n,r,cp(),o);return KM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(di(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OO(e),r=new gO(e);return n.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ld,{type:Ld},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Ld];c!==void 0&&n(!!c),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||$E()||dm()}}const GO=qO;var cb="@firebase/auth",fb="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WO(t){Qr(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;oe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iT(t)},m=new hM(r,o,u,d);return EM(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new Vs("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new YO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(cb,fb,KO(t)),Xi(cb,fb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=5*60,$O=IE("authIdTokenMaxAge")||XO;let hb=null;const QO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$O)return;const o=n==null?void 0:n.token;hb!==o&&(hb=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZO(t=BE()){const e=om(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SM(t,{popupRedirectResolver:GO,persistence:[nO,qM,dT]}),r=IE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=QO(u.toString());jM(n,c,()=>c(n.currentUser)),BM(n,h=>c(h))}}const o=ME("auth");return o&&TM(n,`http://${o}`),n}function JO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=wn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",JO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WO("Browser");var eI="firebase",tI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(eI,tI,"app");var db={};const pb="@firebase/database",mb="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ST="";function nI(t){ST=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Yo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iI(e)}}catch{}return new sI},Os=ET("localStorage"),rI=ET("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new rm("@firebase/database"),aI=function(){let t=1;return function(){return t++}}(),TT=function(t){const e=DN(t),n=new AN;n.update(e);const r=n.digest();return nm.encodeByteArray(r)},_l=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_l.apply(null,r):typeof r=="object"?e+=bt(r):e+=r,e+=" "}return e};let Lo=null,gb=!0;const oI=function(t,e){Y(!0,"Can't turn on custom loggers persistently."),Kr.logLevel=Pe.VERBOSE,Lo=Kr.log.bind(Kr)},wt=function(...t){if(gb===!0&&(gb=!1,Lo===null&&rI.get("logging_enabled")===!0&&oI()),Lo){const e=_l.apply(null,t);Lo(e)}},bl=function(t){return function(...e){wt(t,...e)}},pp=function(...t){const e="FIREBASE INTERNAL ERROR: "+_l(...t);Kr.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${_l(...t)}`;throw Kr.error(e),new Error(e)},kt=function(...t){const e="FIREBASE WARNING: "+_l(...t);Kr.warn(e)},lI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_m=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zr="[MIN_NAME]",zs="[MAX_NAME]",Gs=function(t,e){if(t===e)return 0;if(t===Zr||e===zs)return-1;if(e===Zr||t===zs)return 1;{const n=yb(t),r=yb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},cI=function(t,e){return t===e?0:t<e?-1:1},To=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+bt(e))},bm=function(t){if(typeof t!="object"||t===null)return bt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=bt(e[r]),n+=":",n+=bm(t[e[r]]);return n+="}",n},CT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function At(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const wT=function(t){Y(!_m(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,u,c,h,d;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-r-n))));const m=[];for(d=n;d;d-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(o?1:0),m.reverse();const g=m.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},fI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const pI=new RegExp("^-?(0*)\\d{1,10}$"),mI=-2147483648,gI=2147483647,yb=function(t){if(pI.test(t)){const e=Number(t);if(e>=mI&&e<=gI)return e}return null},da=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},yI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Po=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,en(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(wt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(e)}}class nc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="5",AT="v",xT="s",RT="r",NT="f",DT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MT="ls",OT="p",mp="ac",IT="websocket",kT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,o,u=!1,c="",h=!1,d=!1,m=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Os.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Os.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PT(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let r;if(e===IT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===kT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bI(t)&&(n.ns=t.namespace);const o=[];return At(n,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.counters_={}}incrementCounter(e,n=1){Hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return oN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={},Ud={};function Em(t){const e=t.toString();return Pd[e]||(Pd[e]=new SI),Pd[e]}function EI(t,e){const n=t.toString();return Ud[n]||(Ud[n]=e()),Ud[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&da(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="start",CI="close",wI="pLPCommand",AI="pRTLPCB",UT="id",VT="pw",BT="ser",xI="cb",RI="seg",NI="ts",DI="d",MI="dframe",jT=1870,zT=30,OI=jT-zT,II=25e3,kI=3e4;class Vr{constructor(e,n,r,o,u,c,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bl(e),this.stats_=Em(n),this.urlFn=d=>(this.appCheckToken&&(d[mp]=this.appCheckToken),PT(n,kT,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kI)),uI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tm((...u)=>{const[c,h,d,m,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===vb)this.id=h,this.password=d;else if(c===CI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[vb]="t",r[BT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[AT]=Sm,this.transportSessionId&&(r[xT]=this.transportSessionId),this.lastSessionId&&(r[MT]=this.lastSessionId),this.applicationId&&(r[OT]=this.applicationId),this.appCheckToken&&(r[mp]=this.appCheckToken),typeof location<"u"&&location.hostname&&DT.test(location.hostname)&&(r[RT]=NT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vr.forceAllow_=!0}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){return Vr.forceAllow_?!0:!Vr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fI()&&!hI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NE(n),o=CT(r,OI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[MI]="t",r[UT]=e,r[VT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=bt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Tm{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aI(),window[wI+this.uniqueCallbackIdentifier]=e,window[AI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Tm.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){wt("frame writing exception"),h.stack&&wt(h.stack),wt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||wt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[UT]=this.myID,e[VT]=this.myPW,e[BT]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zT+r.length<=jT;){const c=this.pendingSegs.shift();r=r+"&"+RI+o+"="+c.seg+"&"+NI+o+"="+c.ts+"&"+DI+o+"="+c.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(II)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{wt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=16384,PI=45e3;let yc=null;typeof MozWebSocket<"u"?yc=MozWebSocket:typeof WebSocket<"u"&&(yc=WebSocket);class En{constructor(e,n,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bl(this.connId),this.stats_=Em(n),this.connURL=En.connectionURL_(n,c,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,u){const c={};return c[AT]=Sm,typeof location<"u"&&location.hostname&&DT.test(location.hostname)&&(c[RT]=NT),n&&(c[xT]=n),r&&(c[MT]=r),o&&(c[mp]=o),u&&(c[OT]=u),PT(e,IT,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Os.set("previous_websocket_failure",!0);try{let r;vN(),this.mySock=new yc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&yc!==null&&!En.forceDisallow_}static previouslyFailed(){return Os.isInMemoryStorage||Os.get("previous_websocket_failure")===!0}markConnectionHealthy(){Os.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Yo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CT(n,LI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}En.responsesRequiredToBeHealthy=2;En.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static get ALL_TRANSPORTS(){return[Vr,En]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=En&&En.isAvailable();let r=n&&!En.previouslyFailed();if(e.webSocketOnly&&(n||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[En];else{const o=this.transports_=[];for(const u of $o.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);$o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$o.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=6e4,VI=5e3,BI=10*1024,jI=100*1024,Vd="t",_b="d",zI="s",bb="r",HI="e",Sb="o",Eb="a",Tb="n",Cb="p",FI="h";class qI{constructor(e,n,r,o,u,c,h,d,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bl("c:"+this.id+":"),this.transportManager_=new $o(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Po(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vd in e){const n=e[Vd];n===Eb?this.upgradeIfSecondaryHealthy_():n===bb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Sb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=To("t",e),r=To("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Cb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Eb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Tb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=To("t",e),r=To("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=To(Vd,e);if(_b in e){const r=e[_b];if(n===FI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Tb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zI?this.onConnectionShutdown_(r):n===bb?this.onReset_(r):n===HI?pp("Server Error: "+r):n===Sb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sm!==r&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Po(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Po(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(VI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Cb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends FT{static getInstance(){return new vc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=32,Ab=768;class Ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function De(){return new Ue("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qi(t){return t.pieces_.length-t.pieceNum_}function Fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ue(t.pieces_,e)}function Cm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function GI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Qo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function qT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ue(e,0)}function nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Ue(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function zt(t,e){const n=ge(t),r=ge(e);if(n===null)return e;if(n===r)return zt(Fe(t),Fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function YI(t,e){const n=Qo(t,0),r=Qo(e,0);for(let o=0;o<n.length&&o<r.length;o++){const u=Gs(n[o],r[o]);if(u!==0)return u}return n.length===r.length?0:n.length<r.length?-1:1}function wm(t,e){if(Qi(t)!==Qi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qi(t)>Qi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class KI{constructor(e,n){this.errorPrefix_=n,this.parts_=Qo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vc(this.parts_[r]);GT(this)}}function WI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vc(e),GT(t)}function XI(t){const e=t.parts_.pop();t.byteLength_-=Vc(e),t.parts_.length>0&&(t.byteLength_-=1)}function GT(t){if(t.byteLength_>Ab)throw new Error(t.errorPrefix_+"has a key path longer than "+Ab+" bytes ("+t.byteLength_+").");if(t.parts_.length>wb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wb+") or object contains a cycle "+Rs(t))}function Rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends FT{static getInstance(){return new Am}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=1e3,$I=60*5*1e3,xb=30*1e3,QI=1.3,ZI=3e4,JI="server_kill",Rb=3;class ci extends HT{constructor(e,n,r,o,u,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=ci.nextPersistentConnectionId_++,this.log_=bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Co,this.maxReconnectDelay_=$I,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Am.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(bt(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new dl,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const d=h.d,m=h.s;ci.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Hn(e,"w")){const r=$r(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=CN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,u){this.initConnection_();const c={p:n,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pp("Unrecognized action received from server: "+bt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZI&&(this.reconnectDelay_=Co),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ci.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,r())},m=function(y){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?wt("getToken() completed but was canceled"):(wt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new qI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,S=>{kt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(JI)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&kt(y),d())}}}interrupt(e){wt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){wt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sp(this.interruptReasons_)&&(this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>bm(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Ue(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){wt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rb&&(this.reconnectDelay_=xb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){wt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ST.replace(/\./g,"-")]=1,sm()?e["framework.cordova"]=1:kE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vc.getInstance().currentlyOnline();return sp(this.interruptReasons_)&&e}}ci.nextPersistentConnectionId_=0;ci.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye(Zr,e),o=new ye(Zr,n);return this.compare(r,o)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu;class YT extends Hc{static get __EMPTY_NODE(){return Fu}static set __EMPTY_NODE(e){Fu=e}compare(e,n){return Gs(e.name,n.name)}isDefinedOn(e){throw ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(zs,Fu)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,Fu)}toString(){return".key"}}const Wr=new YT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??vt.RED,this.left=o??Ht.EMPTY_NODE,this.right=u??Ht.EMPTY_NODE}copy(e,n,r,o,u){return new vt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ht.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class ek{copy(e,n,r,o,u){return this}insert(e,n,r){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ht{constructor(e,n=Ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qu(this.root_,null,this.comparator_,!0,e)}}Ht.EMPTY_NODE=new ek;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e){return Gs(t.name,e.name)}function xm(t,e){return Gs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp;function nk(t){gp=t}const KT=function(t){return typeof t=="number"?"number:"+wT(t):"string:"+t},WT=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hn(e,".sv"),"Priority must be a string or number.")}else Y(t===gp||t.isEmpty(),"priority of unexpected type.");Y(t===gp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nb;class yt{static set __childrenNodeConstructor(e){Nb=e}static get __childrenNodeConstructor(){return Nb}constructor(e,n=yt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new yt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:ge(e)===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:yt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ge(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||Qi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,yt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=wT(this.value_):e+=this.value_,this.lazyHash_=TT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===yt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof yt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=yt.VALUE_TYPE_ORDER.indexOf(n),u=yt.VALUE_TYPE_ORDER.indexOf(r);return Y(o>=0,"Unknown leaf type: "+n),Y(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}yt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XT,$T;function ik(t){XT=t}function sk(t){$T=t}class rk extends Hc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),u=r.compareTo(o);return u===0?Gs(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(zs,new yt("[PRIORITY-POST]",$T))}makePost(e,n){const r=XT(e);return new ye(n,new yt("[PRIORITY-POST]",r))}toString(){return".priority"}}const it=new rk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=Math.log(2);class ok{constructor(e){const n=u=>parseInt(Math.log(u)/ak,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _c=function(t,e,n,r){t.sort(e);const o=function(d,m){const g=m-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=n?n(y):y,new vt(_,y.node,vt.BLACK,null,null);{const S=parseInt(g/2,10)+d,E=o(d,S),N=o(S+1,m);return y=t[S],_=n?n(y):y,new vt(_,y.node,vt.BLACK,E,N)}},u=function(d){let m=null,g=null,y=t.length;const _=function(E,N){const D=y-E,R=y;y-=E;const j=o(D+1,R),L=t[D],K=n?n(L):L;S(new vt(K,L.node,N,null,j))},S=function(E){m?(m.left=E,m=E):(g=E,m=E)};for(let E=0;E<d.count;++E){const N=d.nextBitIsOne(),D=Math.pow(2,d.count-(E+1));N?_(D,vt.BLACK):(_(D,vt.BLACK),_(D,vt.RED))}return g},c=new ok(t.length),h=u(c);return new Ht(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd;const Ur={};class oi{static get Default(){return Y(Ur&&it,"ChildrenNode.ts has not been loaded"),Bd=Bd||new oi({".priority":Ur},{".priority":it}),Bd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=$r(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ht?n:null}hasIndex(e){return Hn(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==Wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=n.getIterator(ye.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=_c(r,e.getCompare()):h=Ur;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new oi(g,m)}addToIndexes(e,n){const r=uc(this.indexes_,(o,u)=>{const c=$r(this.indexSet_,u);if(Y(c,"Missing index implementation for "+u),o===Ur)if(c.isDefinedOn(e.node)){const h=[],d=n.getIterator(ye.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&h.push(m),m=d.getNext();return h.push(e),_c(h,c.getCompare())}else return Ur;else{const h=n.get(e.name);let d=o;return h&&(d=d.remove(new ye(e.name,h))),d.insert(e,e.node)}});return new oi(r,this.indexSet_)}removeFromIndexes(e,n){const r=uc(this.indexes_,o=>{if(o===Ur)return o;{const u=n.get(e.name);return u?o.remove(new ye(e.name,u)):o}});return new oi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo;class fe{static get EMPTY_NODE(){return wo||(wo=new fe(new Ht(xm),null,oi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&WT(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wo}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wo:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(Fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?wo:this.priorityNode_;return new fe(o,c,u)}}updateChild(e,n){const r=ge(e);if(r===null)return n;{Y(ge(e)!==".priority"||Qi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Fe(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,u=!0;if(this.forEachChild(it,(c,h)=>{n[c]=h.val(e),r++,u&&fe.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+KT(this.getPriority().val())+":"),this.forEachChild(it,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":TT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ye(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sl?-1:0}withIndex(e){if(e===Wr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(it),o=n.getIterator(it);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Wr?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lk extends fe{constructor(){super(new Ht(xm),fe.EMPTY_NODE,oi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const Sl=new lk;Object.defineProperties(ye,{MIN:{value:new ye(Zr,fe.EMPTY_NODE)},MAX:{value:new ye(zs,Sl)}});YT.__EMPTY_NODE=fe.EMPTY_NODE;yt.__childrenNodeConstructor=fe;nk(Sl);sk(Sl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=!0;function _t(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new yt(n,_t(e))}if(!(t instanceof Array)&&uk){const n=[];let r=!1;if(At(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=_t(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ye(c,d)))}}),n.length===0)return fe.EMPTY_NODE;const u=_c(n,tk,c=>c.name,xm);if(r){const c=_c(n,it.getCompare());return new fe(u,_t(e),new oi({".priority":c},{".priority":it}))}else return new fe(u,_t(e),oi.Default)}else{let n=fe.EMPTY_NODE;return At(t,(r,o)=>{if(Hn(t,r)&&r.substring(0,1)!=="."){const u=_t(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(_t(e))}}ik(_t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends Hc{constructor(e){super(),this.indexPath_=e,Y(!Se(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),u=r.compareTo(o);return u===0?Gs(e.name,n.name):u}makePost(e,n){const r=_t(e),o=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,o)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,Sl);return new ye(zs,e)}toString(){return Qo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends Hc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Gs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=_t(e);return new ye(n,r)}toString(){return".value"}}const hk=new fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){return{type:"value",snapshotNode:t}}function Jr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Zo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.index_=e}updateChild(e,n,r,o,u,c){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(Zo(n,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Jr(n,r)):c.trackChildChange(Jo(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(it,(o,u)=>{n.hasChild(o)||r.trackChildChange(Zo(o,u))}),n.isLeafNode()||n.forEachChild(it,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(Jo(o,u,c))}else r.trackChildChange(Jr(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.indexedFilter_=new Rm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=el.getStartPost_(e),this.endPost_=el.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,u,c){return this.matches(new ye(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,u,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(fe.EMPTY_NODE);const u=this;return n.forEachChild(it,(c,h)=>{u.matches(new ye(c,h))||(o=o.updateImmediateChild(c,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new el(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,u,c){return this.rangedFilter_.matches(new ye(n,r))||(r=fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,u,c):this.fullLimitUpdateChild_(e,n,r,u,c)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=fe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(fe.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,S)=>y(S,_)}else c=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const d=new ye(n,r),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(n)){const y=h.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,m,this.reverse_);for(;_!=null&&(_.name===n||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const S=_==null?1:c(_,d);if(g&&!r.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(Jo(n,r,y)),h.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(Zo(n,y));const N=h.updateImmediateChild(n,fe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(Jr(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return r.isEmpty()?e:g&&c(m,d)>=0?(u!=null&&(u.trackChildChange(Zo(m.name,m.node)),u.trackChildChange(Jr(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(m.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zr}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===it}copy(){const e=new Nm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mk(t){return t.loadsAllData()?new Rm(t.getIndex()):t.hasLimit()?new pk(t):new el(t)}function Db(t){const e={};if(t.isDefault())return e;let n;if(t.index_===it?n="$priority":t.index_===hk?n="$value":t.index_===Wr?n="$key":(Y(t.index_ instanceof ck,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=bt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=bt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+bt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=bt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+bt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Mb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==it&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends HT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=bl("p:rest:"),this.listens_={}}listen(e,n,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=bc.getListenId_(e,r),h={};this.listens_[c]=h;const d=Db(e._queryParams);this.restRequest_(u+".json",d,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,r),$r(this.listens_,c)===h){let _;m?m===401?_="permission_denied":_="rest_error:"+m:_="ok",o(_,null)}})}unlisten(e,n){const r=bc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Db(e._queryParams),r=e._path.toString(),o=new dl;return this.restRequest_(r+".json",n,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ca(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Yo(h.responseText)}catch{kt("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&kt("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(){return{value:null,children:new Map}}function ZT(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ge(e);t.children.has(r)||t.children.set(r,Sc());const o=t.children.get(r);e=Fe(e),ZT(o,e,n)}}function yp(t,e,n){t.value!==null?n(e,t.value):yk(t,(r,o)=>{const u=new Ue(e.toString()+"/"+r);yp(o,u,n)})}function yk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&At(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=10*1e3,_k=30*1e3,bk=5*60*1e3;class Sk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vk(e);const r=Ob+(_k-Ob)*Math.random();Po(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;At(e,(o,u)=>{u>0&&Hn(this.statsToReport_,o)&&(n[o]=u,r=!0)}),r&&this.server_.reportStats(n),Po(this.reportStats_.bind(this),Math.floor(Math.random()*2*bk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cn||(Cn={}));function Dm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Mm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Om(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cn.ACK_USER_WRITE,this.source=Dm()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ue(e));return new Ec(De(),n,this.revert)}}else return Y(ge(this.path)===e,"operationForChild called for unrelated child."),new Ec(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.source=e,this.path=n,this.type=Cn.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new tl(this.source,De()):new tl(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cn.OVERWRITE}operationForChild(e){return Se(this.path)?new Hs(this.source,De(),this.snap.getImmediateChild(e)):new Hs(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cn.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Ue(e));return n.isEmpty()?null:n.value?new Hs(this.source,De(),n.value):new ea(this.source,De(),n)}else return Y(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ea(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Tk(t,e,n,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(dk(c.childName,c.snapshotNode))}),Ao(t,o,"child_removed",e,r,n),Ao(t,o,"child_added",e,r,n),Ao(t,o,"child_moved",u,r,n),Ao(t,o,"child_changed",e,r,n),Ao(t,o,"value",e,r,n),o}function Ao(t,e,n,r,o,u){const c=r.filter(h=>h.type===n);c.sort((h,d)=>wk(t,h,d)),c.forEach(h=>{const d=Ck(t,h,u);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(d,t.query_))})})}function Ck(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wk(t,e,n){if(e.childName==null||n.childName==null)throw ua("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),o=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t,e){return{eventCache:t,serverCache:e}}function Uo(t,e,n,r){return Fc(new Fs(e,n,r),t.serverCache)}function JT(t,e,n,r){return Fc(t.eventCache,new Fs(e,n,r))}function vp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;const Ak=()=>(jd||(jd=new Ht(cI)),jd);class He{static fromObject(e){let n=new He(null);return At(e,(r,o)=>{n=n.set(new Ue(r),o)}),n}constructor(e,n=Ak()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:De(),value:this.value};if(Se(e))return null;{const r=ge(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Fe(e),n);return u!=null?{path:nt(new Ue(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=ge(e),r=this.children.get(n);return r!==null?r.subtree(Fe(e)):new He(null)}}set(e,n){if(Se(e))return new He(n,this.children);{const r=ge(e),u=(this.children.get(r)||new He(null)).set(Fe(e),n),c=this.children.insert(r,u);return new He(this.value,c)}}remove(e){if(Se(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=ge(e),r=this.children.get(n);if(r){const o=r.remove(Fe(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new He(null):new He(this.value,u)}else return this}}get(e){if(Se(e))return this.value;{const n=ge(e),r=this.children.get(n);return r?r.get(Fe(e)):null}}setTree(e,n){if(Se(e))return n;{const r=ge(e),u=(this.children.get(r)||new He(null)).setTree(Fe(e),n);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new He(this.value,c)}}fold(e){return this.fold_(De(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(nt(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,De(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(Se(e))return null;{const u=ge(e),c=this.children.get(u);return c?c.findOnPath_(Fe(e),nt(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,De(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);const o=ge(e),u=this.children.get(o);return u?u.foreachOnPath_(Fe(e),nt(n,o),r):new He(null)}}foreach(e){this.foreach_(De(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.writeTree_=e}static empty(){return new An(new He(null))}}function Vo(t,e,n){if(Se(e))return new An(new He(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=zt(o,e);return u=u.updateChild(c,n),new An(t.writeTree_.set(o,u))}else{const o=new He(n),u=t.writeTree_.setTree(e,o);return new An(u)}}}function _p(t,e,n){let r=t;return At(n,(o,u)=>{r=Vo(r,nt(e,o),u)}),r}function Ib(t,e){if(Se(e))return An.empty();{const n=t.writeTree_.setTree(e,new He(null));return new An(n)}}function bp(t,e){return Ys(t,e)!=null}function Ys(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(zt(n.path,e)):null}function kb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(it,(r,o)=>{e.push(new ye(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ye(r,o.value))}),e}function $i(t,e){if(Se(e))return t;{const n=Ys(t,e);return n!=null?new An(new He(n)):new An(t.writeTree_.subtree(e))}}function Sp(t){return t.writeTree_.isEmpty()}function ta(t,e){return eC(De(),t.writeTree_,e)}function eC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=eC(nt(t,o),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t,e){return sC(e,t)}function xk(t,e,n,r,o){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Vo(t.visibleWrites,e,n)),t.lastWriteId=r}function Rk(t,e,n,r){Y(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=_p(t.visibleWrites,e,n),t.lastWriteId=r}function Nk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Dk(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&Mk(h,r.path)?o=!1:pn(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return Ok(t),!0;if(r.snap)t.visibleWrites=Ib(t.visibleWrites,r.path);else{const h=r.children;At(h,d=>{t.visibleWrites=Ib(t.visibleWrites,nt(r.path,d))})}return!0}else return!1}function Mk(t,e){if(t.snap)return pn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pn(nt(t.path,n),e))return!0;return!1}function Ok(t){t.visibleWrites=tC(t.allWrites,Ik,De()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ik(t){return t.visible}function tC(t,e,n){let r=An.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)pn(n,c)?(h=zt(n,c),r=Vo(r,h,u.snap)):pn(c,n)&&(h=zt(c,n),r=Vo(r,De(),u.snap.getChild(h)));else if(u.children){if(pn(n,c))h=zt(n,c),r=_p(r,h,u.children);else if(pn(c,n))if(h=zt(c,n),Se(h))r=_p(r,De(),u.children);else{const d=$r(u.children,ge(h));if(d){const m=d.getChild(Fe(h));r=Vo(r,De(),m)}}}else throw ua("WriteRecord should have .snap or .children")}}return r}function nC(t,e,n,r,o){if(!r&&!o){const u=Ys(t.visibleWrites,e);if(u!=null)return u;{const c=$i(t.visibleWrites,e);if(Sp(c))return n;if(n==null&&!bp(c,De()))return null;{const h=n||fe.EMPTY_NODE;return ta(c,h)}}}else{const u=$i(t.visibleWrites,e);if(!o&&Sp(u))return n;if(!o&&n==null&&!bp(u,De()))return null;{const c=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(pn(m.path,e)||pn(e,m.path))},h=tC(t.allWrites,c,e),d=n||fe.EMPTY_NODE;return ta(h,d)}}}function kk(t,e,n){let r=fe.EMPTY_NODE;const o=Ys(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(it,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(n){const u=$i(t.visibleWrites,e);return n.forEachChild(it,(c,h)=>{const d=ta($i(u,new Ue(c)),h);r=r.updateImmediateChild(c,d)}),kb(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=$i(t.visibleWrites,e);return kb(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Lk(t,e,n,r,o){Y(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=nt(e,n);if(bp(t.visibleWrites,u))return null;{const c=$i(t.visibleWrites,u);return Sp(c)?o.getChild(n):ta(c,o.getChild(n))}}function Pk(t,e,n,r){const o=nt(e,n),u=Ys(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(n)){const c=$i(t.visibleWrites,o);return ta(c,r.getNode().getImmediateChild(n))}else return null}function Uk(t,e){return Ys(t.visibleWrites,e)}function Vk(t,e,n,r,o,u,c){let h;const d=$i(t.visibleWrites,e),m=Ys(d,De());if(m!=null)h=m;else if(n!=null)h=ta(d,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let S=_.getNext();for(;S&&g.length<o;)y(S,r)!==0&&g.push(S),S=_.getNext();return g}else return[]}function Bk(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function Tc(t,e,n,r){return nC(t.writeTree,t.treePath,e,n,r)}function km(t,e){return kk(t.writeTree,t.treePath,e)}function Lb(t,e,n,r){return Lk(t.writeTree,t.treePath,e,n,r)}function Cc(t,e){return Uk(t.writeTree,nt(t.treePath,e))}function jk(t,e,n,r,o,u){return Vk(t.writeTree,t.treePath,e,n,r,o,u)}function Lm(t,e,n){return Pk(t.writeTree,t.treePath,e,n)}function iC(t,e){return sC(nt(t.treePath,e),t.writeTree)}function sC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,Jo(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,Zo(r,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,Jr(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,Jo(r,e.snapshotNode,o.oldSnap));else throw ua("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const rC=new Hk;class Pm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qs(this.viewCache_),u=jk(this.writes_,o,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){return{filter:t}}function qk(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Gk(t,e,n,r,o){const u=new zk;let c,h;if(n.type===Cn.OVERWRITE){const m=n;m.source.fromUser?c=Ep(t,e,m.path,m.snap,r,o,u):(Y(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Se(m.path),c=wc(t,e,m.path,m.snap,r,o,h,u))}else if(n.type===Cn.MERGE){const m=n;m.source.fromUser?c=Kk(t,e,m.path,m.children,r,o,u):(Y(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=Tp(t,e,m.path,m.children,r,o,h,u))}else if(n.type===Cn.ACK_USER_WRITE){const m=n;m.revert?c=$k(t,e,m.path,r,o,u):c=Wk(t,e,m.path,m.affectedTree,r,o,u)}else if(n.type===Cn.LISTEN_COMPLETE)c=Xk(t,e,n.path,r,u);else throw ua("Unknown operation type: "+n.type);const d=u.getChanges();return Yk(e,c,d),{viewCache:c,changes:d}}function Yk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=vp(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(QT(vp(e)))}}function aC(t,e,n,r,o,u){const c=e.eventCache;if(Cc(r,n)!=null)return e;{let h,d;if(Se(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=qs(e),g=m instanceof fe?m:fe.EMPTY_NODE,y=km(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=Tc(r,qs(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ge(n);if(m===".priority"){Y(Qi(n)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=Lb(r,n,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=Fe(n);let y;if(c.isCompleteForChild(m)){d=e.serverCache.getNode();const _=Lb(r,n,c.getNode(),d);_!=null?y=c.getNode().getImmediateChild(m).updateChild(g,_):y=c.getNode().getImmediateChild(m)}else y=Lm(r,m,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),m,y,g,o,u):h=c.getNode()}}return Uo(e,h,c.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function wc(t,e,n,r,o,u,c,h){const d=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(Se(n))m=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(n,r);m=g.updateFullNode(d.getNode(),S,null)}else{const S=ge(n);if(!d.isCompleteForPath(n)&&Qi(n)>1)return e;const E=Fe(n),D=d.getNode().getImmediateChild(S).updateChild(E,r);S===".priority"?m=g.updatePriority(d.getNode(),D):m=g.updateChild(d.getNode(),S,D,E,rC,null)}const y=JT(e,m,d.isFullyInitialized()||Se(n),g.filtersNodes()),_=new Pm(o,y,u);return aC(t,y,n,o,_,h)}function Ep(t,e,n,r,o,u,c){const h=e.eventCache;let d,m;const g=new Pm(o,e,u);if(Se(n))m=t.filter.updateFullNode(e.eventCache.getNode(),r,c),d=Uo(e,m,!0,t.filter.filtersNodes());else{const y=ge(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),r),d=Uo(e,m,h.isFullyInitialized(),h.isFiltered());else{const _=Fe(n),S=h.getNode().getImmediateChild(y);let E;if(Se(_))E=r;else{const N=g.getCompleteChild(y);N!=null?Cm(_)===".priority"&&N.getChild(qT(_)).isEmpty()?E=N:E=N.updateChild(_,r):E=fe.EMPTY_NODE}if(S.equals(E))d=e;else{const N=t.filter.updateChild(h.getNode(),y,E,_,g,c);d=Uo(e,N,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function Pb(t,e){return t.eventCache.isCompleteForChild(e)}function Kk(t,e,n,r,o,u,c){let h=e;return r.foreach((d,m)=>{const g=nt(n,d);Pb(e,ge(g))&&(h=Ep(t,h,g,m,o,u,c))}),r.foreach((d,m)=>{const g=nt(n,d);Pb(e,ge(g))||(h=Ep(t,h,g,m,o,u,c))}),h}function Ub(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Tp(t,e,n,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;Se(n)?m=r:m=new He(null).setTree(n,r);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),E=Ub(t,S,_);d=wc(t,d,new Ue(y),E,o,u,c,h)}}),m.children.inorderTraversal((y,_)=>{const S=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!S){const E=e.serverCache.getNode().getImmediateChild(y),N=Ub(t,E,_);d=wc(t,d,new Ue(y),N,o,u,c,h)}}),d}function Wk(t,e,n,r,o,u,c){if(Cc(o,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(Se(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return wc(t,e,n,d.getNode().getChild(n),o,u,h,c);if(Se(n)){let m=new He(null);return d.getNode().forEachChild(Wr,(g,y)=>{m=m.set(new Ue(g),y)}),Tp(t,e,n,m,o,u,h,c)}else return e}else{let m=new He(null);return r.foreach((g,y)=>{const _=nt(n,g);d.isCompleteForPath(_)&&(m=m.set(g,d.getNode().getChild(_)))}),Tp(t,e,n,m,o,u,h,c)}}function Xk(t,e,n,r,o){const u=e.serverCache,c=JT(e,u.getNode(),u.isFullyInitialized()||Se(n),u.isFiltered());return aC(t,c,n,r,rC,o)}function $k(t,e,n,r,o,u){let c;if(Cc(r,n)!=null)return e;{const h=new Pm(r,e,o),d=e.eventCache.getNode();let m;if(Se(n)||ge(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Tc(r,qs(e));else{const y=e.serverCache.getNode();Y(y instanceof fe,"serverChildren would be complete if leaf node"),g=km(r,y)}g=g,m=t.filter.updateFullNode(d,g,u)}else{const g=ge(n);let y=Lm(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?m=t.filter.updateChild(d,g,y,Fe(n),h,u):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(d,g,fe.EMPTY_NODE,Fe(n),h,u):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Tc(r,qs(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||Cc(r,De())!=null,Uo(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Rm(r.getIndex()),u=mk(r);this.processor_=Fk(u);const c=n.serverCache,h=n.eventCache,d=o.updateFullNode(fe.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(fe.EMPTY_NODE,h.getNode(),null),g=new Fs(d,c.isFullyInitialized(),o.filtersNodes()),y=new Fs(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Fc(y,g),this.eventGenerator_=new Ek(this.query_)}get query(){return this.query_}}function Zk(t){return t.viewCache_.serverCache.getNode()}function Jk(t,e){const n=qs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function Vb(t){return t.eventRegistrations_.length===0}function eL(t,e){t.eventRegistrations_.push(e)}function Bb(t,e,n){const r=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function jb(t,e,n,r){e.type===Cn.MERGE&&e.source.queryId!==null&&(Y(qs(t.viewCache_),"We should always have a full cache before handling merges"),Y(vp(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=Gk(t.processor_,o,e,n,r);return qk(t.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,oC(t,u.changes,u.viewCache.eventCache.getNode(),null)}function tL(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(it,(u,c)=>{r.push(Jr(u,c))}),n.isFullyInitialized()&&r.push(QT(n.getNode())),oC(t,r,n.getNode(),e)}function oC(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return Tk(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac;class nL{constructor(){this.views=new Map}}function iL(t){Y(!Ac,"__referenceConstructor has already been defined"),Ac=t}function sL(){return Y(Ac,"Reference.ts has not been loaded"),Ac}function rL(t){return t.views.size===0}function Um(t,e,n,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return Y(u!=null,"SyncTree gave us an op for an invalid query."),jb(u,e,n,r)}else{let u=[];for(const c of t.views.values())u=u.concat(jb(c,e,n,r));return u}}function aL(t,e,n,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=Tc(n,o?r:null),d=!1;h?d=!0:r instanceof fe?(h=km(n,r),d=!1):(h=fe.EMPTY_NODE,d=!1);const m=Fc(new Fs(h,d,!1),new Fs(r,o,!1));return new Qk(e,m)}return c}function oL(t,e,n,r,o,u){const c=aL(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),eL(c,n),tL(c,n)}function lL(t,e,n,r){const o=e._queryIdentifier,u=[];let c=[];const h=Zi(t);if(o==="default")for(const[d,m]of t.views.entries())c=c.concat(Bb(m,n,r)),Vb(m)&&(t.views.delete(d),m.query._queryParams.loadsAllData()||u.push(m.query));else{const d=t.views.get(o);d&&(c=c.concat(Bb(d,n,r)),Vb(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||u.push(d.query)))}return h&&!Zi(t)&&u.push(new(sL())(e._repo,e._path)),{removed:u,events:c}}function lC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xr(t,e){let n=null;for(const r of t.views.values())n=n||Jk(r,e);return n}function uC(t,e){if(e._queryParams.loadsAllData())return qc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function cC(t,e){return uC(t,e)!=null}function Zi(t){return qc(t)!=null}function qc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;function uL(t){Y(!xc,"__referenceConstructor has already been defined"),xc=t}function cL(){return Y(xc,"Reference.ts has not been loaded"),xc}let fL=1;class zb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=Bk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fC(t,e,n,r,o){return xk(t.pendingWriteTree_,e,n,r,o),o?pa(t,new Hs(Dm(),e,n)):[]}function hL(t,e,n,r){Rk(t.pendingWriteTree_,e,n,r);const o=He.fromObject(n);return pa(t,new ea(Dm(),e,o))}function Yi(t,e,n=!1){const r=Nk(t.pendingWriteTree_,e);if(Dk(t.pendingWriteTree_,e)){let u=new He(null);return r.snap!=null?u=u.set(De(),!0):At(r.children,c=>{u=u.set(new Ue(c),!0)}),pa(t,new Ec(r.path,u,n))}else return[]}function Gc(t,e,n){return pa(t,new Hs(Mm(),e,n))}function dL(t,e,n){const r=He.fromObject(n);return pa(t,new ea(Mm(),e,r))}function pL(t,e){return pa(t,new tl(Mm(),e))}function mL(t,e,n){const r=Bm(t,n);if(r){const o=jm(r),u=o.path,c=o.queryId,h=zt(u,e),d=new tl(Om(c),h);return zm(t,u,d)}else return[]}function Cp(t,e,n,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||cC(c,e))){const d=lL(c,e,n,r);rL(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const m=d.removed;if(h=d.events,!o){const g=m.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,S)=>Zi(S));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const S=vL(_);for(let E=0;E<S.length;++E){const N=S[E],D=N.query,R=pC(t,N);t.listenProvider_.startListening(Bo(D),Rc(t,D),R.hashFn,R.onComplete)}}}!y&&m.length>0&&!r&&(g?t.listenProvider_.stopListening(Bo(e),null):m.forEach(_=>{const S=t.queryToTagMap.get(Yc(_));t.listenProvider_.stopListening(Bo(_),S)}))}_L(t,m)}return h}function gL(t,e,n,r){const o=Bm(t,r);if(o!=null){const u=jm(o),c=u.path,h=u.queryId,d=zt(c,e),m=new Hs(Om(h),d,n);return zm(t,c,m)}else return[]}function yL(t,e,n,r){const o=Bm(t,r);if(o){const u=jm(o),c=u.path,h=u.queryId,d=zt(c,e),m=He.fromObject(n),g=new ea(Om(h),d,m);return zm(t,c,g)}else return[]}function Hb(t,e,n,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(_,S)=>{const E=zt(_,o);u=u||Xr(S,E),c=c||Zi(S)});let h=t.syncPointTree_.get(o);h?(c=c||Zi(h),u=u||Xr(h,De())):(h=new nL,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;u!=null?d=!0:(d=!1,u=fe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((S,E)=>{const N=Xr(E,De());N&&(u=u.updateImmediateChild(S,N))}));const m=cC(h,e);if(!m&&!e._queryParams.loadsAllData()){const _=Yc(e);Y(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const S=bL();t.queryToTagMap.set(_,S),t.tagToQueryMap.set(S,_)}const g=Im(t.pendingWriteTree_,o);let y=oL(h,e,n,g,u,d);if(!m&&!c&&!r){const _=uC(h,e);y=y.concat(SL(t,e,_))}return y}function Vm(t,e,n){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=zt(c,e),m=Xr(h,d);if(m)return m});return nC(o,e,u,n,!0)}function pa(t,e){return hC(e,t.syncPointTree_,null,Im(t.pendingWriteTree_,De()))}function hC(t,e,n,r){if(Se(t.path))return dC(t,e,n,r);{const o=e.get(De());n==null&&o!=null&&(n=Xr(o,De()));let u=[];const c=ge(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const m=n?n.getImmediateChild(c):null,g=iC(r,c);u=u.concat(hC(h,d,m,g))}return o&&(u=u.concat(Um(o,t,r,n))),u}}function dC(t,e,n,r){const o=e.get(De());n==null&&o!=null&&(n=Xr(o,De()));let u=[];return e.children.inorderTraversal((c,h)=>{const d=n?n.getImmediateChild(c):null,m=iC(r,c),g=t.operationForChild(c);g&&(u=u.concat(dC(g,h,d,m)))}),o&&(u=u.concat(Um(o,t,r,n))),u}function pC(t,e){const n=e.query,r=Rc(t,n);return{hashFn:()=>(Zk(e)||fe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?mL(t,n._path,r):pL(t,n._path);{const u=dI(o,n);return Cp(t,n,null,u)}}}}function Rc(t,e){const n=Yc(e);return t.queryToTagMap.get(n)}function Yc(t){return t._path.toString()+"$"+t._queryIdentifier}function Bm(t,e){return t.tagToQueryMap.get(e)}function jm(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ue(t.substr(0,e))}}function zm(t,e,n){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const o=Im(t.pendingWriteTree_,e);return Um(r,n,o,null)}function vL(t){return t.fold((e,n,r)=>{if(n&&Zi(n))return[qc(n)];{let o=[];return n&&(o=lC(n)),At(r,(u,c)=>{o=o.concat(c)}),o}})}function Bo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(cL())(t._repo,t._path):t}function _L(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=Yc(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function bL(){return fL++}function SL(t,e,n){const r=e._path,o=Rc(t,e),u=pC(t,n),c=t.listenProvider_.startListening(Bo(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)Y(!Zi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((m,g,y)=>{if(!Se(m)&&g&&Zi(g))return[qc(g).query];{let _=[];return g&&(_=_.concat(lC(g).map(S=>S.query))),At(y,(S,E)=>{_=_.concat(E)}),_}});for(let m=0;m<d.length;++m){const g=d[m];t.listenProvider_.stopListening(Bo(g),Rc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Hm(n)}node(){return this.node_}}class Fm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new Fm(this.syncTree_,n)}node(){return Vm(this.syncTree_,this.path_)}}const EL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Fb=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return TL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return CL(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},TL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},CL=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const o=e.node();if(Y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},mC=function(t,e,n,r){return qm(e,new Fm(n,t),r)},gC=function(t,e,n){return qm(t,new Hm(e),n)};function qm(t,e,n){const r=t.getPriority().val(),o=Fb(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,h=Fb(c.getValue(),e,n);return h!==c.getValue()||o!==c.getPriority().val()?new yt(h,_t(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new yt(o))),c.forEachChild(it,(h,d)=>{const m=qm(d,e.getImmediateChild(h),n);m!==d&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ym(t,e){let n=e instanceof Ue?e:new Ue(e),r=t,o=ge(n);for(;o!==null;){const u=$r(r.node.children,o)||{children:{},childCount:0};r=new Gm(o,r,u),n=Fe(n),o=ge(n)}return r}function ma(t){return t.node.value}function yC(t,e){t.node.value=e,wp(t)}function vC(t){return t.node.childCount>0}function wL(t){return ma(t)===void 0&&!vC(t)}function Kc(t,e){At(t.node.children,(n,r)=>{e(new Gm(n,t,r))})}function _C(t,e,n,r){n&&e(t),Kc(t,o=>{_C(o,e,!0)})}function AL(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function El(t){return new Ue(t.parent===null?t.name:El(t.parent)+"/"+t.name)}function wp(t){t.parent!==null&&xL(t.parent,t.name,t)}function xL(t,e,n){const r=wL(n),o=Hn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,wp(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,wp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=/[\[\].#$\/\u0000-\u001F\u007F]/,NL=/[\[\].#$\u0000-\u001F\u007F]/,zd=10*1024*1024,Km=function(t){return typeof t=="string"&&t.length!==0&&!RL.test(t)},bC=function(t){return typeof t=="string"&&t.length!==0&&!NL.test(t)},DL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bC(t)},ML=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!_m(t)||t&&typeof t=="object"&&Hn(t,".sv")},SC=function(t,e,n,r){r&&e===void 0||Wc(Uc(t,"value"),e,n)},Wc=function(t,e,n){const r=n instanceof Ue?new KI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rs(r));if(typeof e=="function")throw new Error(t+"contains a function "+Rs(r)+" with contents = "+e.toString());if(_m(e))throw new Error(t+"contains "+e.toString()+" "+Rs(r));if(typeof e=="string"&&e.length>zd/3&&Vc(e)>zd)throw new Error(t+"contains a string greater than "+zd+" utf8 bytes "+Rs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(At(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Km(c)))throw new Error(t+" contains an invalid key ("+c+") "+Rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WI(r,c),Wc(t,h,r),XI(r)}),o&&u)throw new Error(t+' contains ".value" child '+Rs(r)+" in addition to actual children.")}},OL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const u=Qo(r);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Km(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(YI);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&pn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},IL=function(t,e,n,r){const o=Uc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];At(e,(c,h)=>{const d=new Ue(c);if(Wc(o,h,nt(n,d)),Cm(d)===".priority"&&!ML(h))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(d)}),OL(o,u)},EC=function(t,e,n,r){if(!bC(n))throw new Error(Uc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),EC(t,e,n)},TC=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},LL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Km(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!DL(n))throw new Error(Uc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xc(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();n!==null&&!wm(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&t.eventLists_.push(n)}function CC(t,e,n){Xc(t,n),wC(t,r=>wm(r,e))}function Rn(t,e,n){Xc(t,n),wC(t,r=>pn(r,e)||pn(e,r))}function wC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(UL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function UL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Lo&&wt("event: "+n.toString()),da(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="repo_interrupt",BL=25;class jL{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sc(),this.transactionQueueTree_=new Gm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zL(t,e,n){if(t.stats_=Em(t.repoInfo_),t.forceRestClient_||yI())t.server_=new bc(t.repoInfo_,(r,o,u,c)=>{qb(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Gb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ci(t.repoInfo_,e,(r,o,u,c)=>{qb(t,r,o,u,c)},r=>{Gb(t,r)},r=>{HL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=EI(t.repoInfo_,()=>new Sk(t.stats_,t.server_)),t.infoData_=new gk,t.infoSyncTree_=new zb({startListening:(r,o,u,c)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=Gc(t.infoSyncTree_,r._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Wm(t,"connected",!1),t.serverSyncTree_=new zb({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,d)=>{const m=c(h,d);Rn(t.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function AC(t){const n=t.infoData_.getNode(new Ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $c(t){return EL({timestamp:AC(t)})}function qb(t,e,n,r,o){t.dataUpdateCount++;const u=new Ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(r){const d=uc(n,m=>_t(m));c=yL(t.serverSyncTree_,u,d,o)}else{const d=_t(n);c=gL(t.serverSyncTree_,u,d,o)}else if(r){const d=uc(n,m=>_t(m));c=dL(t.serverSyncTree_,u,d)}else{const d=_t(n);c=Gc(t.serverSyncTree_,u,d)}let h=u;c.length>0&&(h=na(t,u)),Rn(t.eventQueue_,h,c)}function Gb(t,e){Wm(t,"connected",e),e===!1&&GL(t)}function HL(t,e){At(e,(n,r)=>{Wm(t,n,r)})}function Wm(t,e,n){const r=new Ue("/.info/"+e),o=_t(n);t.infoData_.updateSnapshot(r,o);const u=Gc(t.infoSyncTree_,r,o);Rn(t.eventQueue_,r,u)}function Xm(t){return t.nextWriteId_++}function FL(t,e,n,r,o){Qc(t,"set",{path:e.toString(),value:n,priority:r});const u=$c(t),c=_t(n,r),h=Vm(t.serverSyncTree_,e),d=gC(c,h,u),m=Xm(t),g=fC(t.serverSyncTree_,e,d,m,!0);Xc(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,S)=>{const E=_==="ok";E||kt("set at "+e+" failed: "+_);const N=Yi(t.serverSyncTree_,m,!E);Rn(t.eventQueue_,e,N),Ap(t,o,_,S)});const y=Qm(t,e);na(t,y),Rn(t.eventQueue_,y,[])}function qL(t,e,n,r){Qc(t,"update",{path:e.toString(),value:n});let o=!0;const u=$c(t),c={};if(At(n,(h,d)=>{o=!1,c[h]=mC(nt(e,h),_t(d),t.serverSyncTree_,u)}),o)wt("update() called with empty data.  Don't do anything."),Ap(t,r,"ok",void 0);else{const h=Xm(t),d=hL(t.serverSyncTree_,e,c,h);Xc(t.eventQueue_,d),t.server_.merge(e.toString(),n,(m,g)=>{const y=m==="ok";y||kt("update at "+e+" failed: "+m);const _=Yi(t.serverSyncTree_,h,!y),S=_.length>0?na(t,e):e;Rn(t.eventQueue_,S,_),Ap(t,r,m,g)}),At(n,m=>{const g=Qm(t,nt(e,m));na(t,g)}),Rn(t.eventQueue_,e,[])}}function GL(t){Qc(t,"onDisconnectEvents");const e=$c(t),n=Sc();yp(t.onDisconnect_,De(),(o,u)=>{const c=mC(o,u,t.serverSyncTree_,e);ZT(n,o,c)});let r=[];yp(n,De(),(o,u)=>{r=r.concat(Gc(t.serverSyncTree_,o,u));const c=Qm(t,o);na(t,c)}),t.onDisconnect_=Sc(),Rn(t.eventQueue_,De(),r)}function YL(t,e,n){let r;ge(e._path)===".info"?r=Hb(t.infoSyncTree_,e,n):r=Hb(t.serverSyncTree_,e,n),CC(t.eventQueue_,e._path,r)}function Yb(t,e,n){let r;ge(e._path)===".info"?r=Cp(t.infoSyncTree_,e,n):r=Cp(t.serverSyncTree_,e,n),CC(t.eventQueue_,e._path,r)}function KL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(VL)}function Qc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),wt(n,...e)}function Ap(t,e,n,r){e&&da(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function xC(t,e,n){return Vm(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function $m(t,e=t.transactionQueueTree_){if(e||Zc(t,e),ma(e)){const n=NC(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&WL(t,El(e),n)}else vC(e)&&Kc(e,n=>{$m(t,n)})}function WL(t,e,n){const r=n.map(m=>m.currentWriteId),o=xC(t,e,r);let u=o;const c=o.hash();for(let m=0;m<n.length;m++){const g=n[m];Y(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=zt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),d=e;t.server_.put(d.toString(),h,m=>{Qc(t,"transaction put response",{path:d.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(Yi(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Zc(t,Ym(t.transactionQueueTree_,e)),$m(t,t.transactionQueueTree_),Rn(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)da(y[_])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{kt("transaction at "+d.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}na(t,e)}},c)}function na(t,e){const n=RC(t,e),r=El(n),o=NC(t,n);return XL(t,o,r),r}function XL(t,e,n){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],m=zt(n,d.path);let g=!1,y;if(Y(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,o=o.concat(Yi(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=BL)g=!0,y="maxretry",o=o.concat(Yi(t.serverSyncTree_,d.currentWriteId,!0));else{const _=xC(t,d.path,c);d.currentInputSnapshot=_;const S=e[h].update(_.val());if(S!==void 0){Wc("transaction failed: Data returned ",S,d.path);let E=_t(S);typeof S=="object"&&S!=null&&Hn(S,".priority")||(E=E.updatePriority(_.getPriority()));const D=d.currentWriteId,R=$c(t),j=gC(E,_,R);d.currentOutputSnapshotRaw=E,d.currentOutputSnapshotResolved=j,d.currentWriteId=Xm(t),c.splice(c.indexOf(D),1),o=o.concat(fC(t.serverSyncTree_,d.path,j,d.currentWriteId,d.applyLocally)),o=o.concat(Yi(t.serverSyncTree_,D,!0))}else g=!0,y="nodata",o=o.concat(Yi(t.serverSyncTree_,d.currentWriteId,!0))}Rn(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,function(_){setTimeout(_,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Zc(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)da(r[h]);$m(t,t.transactionQueueTree_)}function RC(t,e){let n,r=t.transactionQueueTree_;for(n=ge(e);n!==null&&ma(r)===void 0;)r=Ym(r,n),e=Fe(e),n=ge(e);return r}function NC(t,e){const n=[];return DC(t,e,n),n.sort((r,o)=>r.order-o.order),n}function DC(t,e,n){const r=ma(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Kc(e,o=>{DC(t,o,n)})}function Zc(t,e){const n=ma(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,yC(e,n.length>0?n:void 0)}Kc(e,r=>{Zc(t,r)})}function Qm(t,e){const n=El(RC(t,e)),r=Ym(t.transactionQueueTree_,e);return AL(r,o=>{Hd(t,o)}),Hd(t,r),_C(r,o=>{Hd(t,o)}),n}function Hd(t,e){const n=ma(e);if(n){const r=[];let o=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(Y(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(Y(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(Yi(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?yC(e,void 0):n.length=u+1,Rn(t.eventQueue_,El(e),o);for(let c=0;c<r.length;c++)da(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function QL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Kb=function(t,e){const n=ZL(t),r=n.namespace;n.domain==="firebase.com"&&pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new LT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new Ue(n.pathString)}},ZL=function(t){let e="",n="",r="",o="",u="",c=!0,h="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=$L(t.substring(g,y)));const _=QL(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),u=r}"ns"in _&&(u=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",JL=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Wb.charAt(n%64),n=Math.floor(n/64);Y(n===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=Wb.charAt(e[o]);return Y(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bt(this.snapshot.exportVal())}}class tP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return Se(this._path)?null:Cm(this._path)}get ref(){return new as(this._repo,this._path)}get _queryIdentifier(){const e=Mb(this._queryParams),n=bm(e);return n==="{}"?"default":n}get _queryObject(){return Mb(this._queryParams)}isEqual(e){if(e=qt(e),!(e instanceof Zm))return!1;const n=this._repo===e._repo,r=wm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+GI(this._path)}}class as extends Zm{constructor(e,n){super(e,n,new Nm,!1)}get parent(){const e=qT(this._path);return e===null?null:new as(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Nc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ue(e),r=nl(this.ref,e);return new Nc(this._node.getChild(n),r,it)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Nc(o,nl(this.ref,r),it)))}hasChild(e){const n=new Ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ge(t,e){return t=qt(t),t._checkNotDeleted("ref"),e!==void 0?nl(t._root,e):t._root}function nl(t,e){return t=qt(t),ge(t._path)===null?kL("child","path",e):EC("child","path",e),new as(t._repo,nt(t._path,e))}function Gu(t,e){t=qt(t),TC("push",t._path),SC("push",e,t._path,!0);const n=AC(t._repo),r=JL(n),o=nl(t,r),u=nl(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function zi(t,e){t=qt(t),TC("set",t._path),SC("set",e,t._path,!1);const n=new dl;return FL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function iP(t,e){IL("update",e,t._path);const n=new dl;return qL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Jm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new eP("value",this,new Nc(e.snapshotNode,new as(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tP(this,e,n):null}matches(e){return e instanceof Jm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sP(t,e,n,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const d=n,m=(g,y)=>{Yb(t._repo,t,h),d(g,y)};m.userCallback=n.userCallback,m.context=n.context,n=m}const c=new nP(n,u||void 0),h=new Jm(c);return YL(t._repo,t,h),()=>Yb(t._repo,t,h)}function Ds(t,e,n,r){return sP(t,"value",e,n,r)}iL(as);uL(as);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="FIREBASE_DATABASE_EMULATOR_HOST",xp={};let aP=!1;function oP(t,e,n,r){t.repoInfo_=new LT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function lP(t,e,n,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=Kb(u,o),h=c.repoInfo,d;typeof process<"u"&&db&&(d=db[rP]),d?(u=`http://${d}?ns=${h.namespace}`,c=Kb(u,o),h=c.repoInfo):c.repoInfo.secure;const m=new _I(t.name,t.options,e);LL("Invalid Firebase Database URL",c),Se(c.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=cP(h,t,m,new vI(t,n));return new fP(g,t)}function uP(t,e){const n=xp[e];(!n||n[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),KL(t),delete n[t.key]}function cP(t,e,n,r){let o=xp[e.name];o||(o={},xp[e.name]=o);let u=o[t.toURLString()];return u&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new jL(t,aP,n,r),o[t.toURLString()]=u,u}class fP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new as(this._repo,De())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function Jt(t=BE(),e){const n=om(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=dN("database");r&&hP(n,...r)}return n}function hP(t,e,n,r={}){t=qt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Us(r,u.repoInfo_.emulatorOptions))return;pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new nc(nc.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:pN(r.mockUserToken,t.app.options.projectId);c=new nc(h)}oP(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){nI(fa),Qr(new Vs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return lP(r,o,u,n)},"PUBLIC").setMultipleInstances(!0)),Xi(pb,mb,t),Xi(pb,mb,"esm2017")}ci.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ci.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dP();var pP={apiKey:"AIzaSyBvBMSzqJuOOsSIEhyM-sVI-vinaIu2GC8",authDomain:"midterm-project-ab3aa.firebaseapp.com",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com",projectId:"midterm-project-ab3aa",storageBucket:"midterm-project-ab3aa.firebasestorage.app",messagingSenderId:"13475203739",appId:"1:13475203739:web:f722da780a822b88ff543e",measurementId:"G-LB3317B8W5",databaseURL:"https://midterm-project-ab3aa-default-rtdb.firebaseio.com"};const MC=VE(pP),Ls=ZO(MC);Jt(MC);const eg=C.createContext({});function tg(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ng=typeof window<"u",OC=ng?C.useLayoutEffect:C.useEffect,Jc=C.createContext(null),ig=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mP extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gP({children:t,isPresent:e,anchorX:n}){const r=C.useId(),o=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(ig);return C.useInsertionEffect(()=>{const{width:h,height:d,top:m,left:g,right:y}=u.current;if(e||!o.current||!h||!d)return;const _=n==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const S=document.createElement("style");return c&&(S.nonce=c),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),P.jsx(mP,{isPresent:e,childRef:o,sizeRef:u,children:C.cloneElement(t,{ref:o})})}const yP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h})=>{const d=tg(vP),m=C.useId();let g=!0,y=C.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:o,onExitComplete:_=>{d.set(_,!0);for(const S of d.values())if(!S)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[n,d,r]);return u&&g&&(y={...y}),C.useMemo(()=>{d.forEach((_,S)=>d.set(S,!1))},[n]),C.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(t=P.jsx(gP,{isPresent:n,anchorX:h,children:t})),P.jsx(Jc.Provider,{value:y,children:t})};function vP(){return new Map}function IC(t=!0){const e=C.useContext(Jc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=C.useId();C.useEffect(()=>{if(t)return o(u)},[t]);const c=C.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,c]:[!0]}const Yu=t=>t.key||"";function Xb(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const _P=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left"})=>{const[d,m]=IC(c),g=C.useMemo(()=>Xb(t),[t]),y=c&&!d?[]:g.map(Yu),_=C.useRef(!0),S=C.useRef(g),E=tg(()=>new Map),[N,D]=C.useState(g),[R,j]=C.useState(g);OC(()=>{_.current=!1,S.current=g;for(let U=0;U<R.length;U++){const W=Yu(R[U]);y.includes(W)?E.delete(W):E.get(W)!==!0&&E.set(W,!1)}},[R,y.length,y.join("-")]);const L=[];if(g!==N){let U=[...g];for(let W=0;W<R.length;W++){const Z=R[W],$=Yu(Z);y.includes($)||(U.splice(W,0,Z),L.push(Z))}return u==="wait"&&L.length&&(U=L),j(Xb(U)),D(g),null}const{forceRender:K}=C.useContext(eg);return P.jsx(P.Fragment,{children:R.map(U=>{const W=Yu(U),Z=c&&!d?!1:g===R||y.includes(W),$=()=>{if(E.has(W))E.set(W,!0);else return;let ae=!0;E.forEach(Te=>{Te||(ae=!1)}),ae&&(K==null||K(),j(S.current),c&&(m==null||m()),r&&r())};return P.jsx(yP,{isPresent:Z,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:Z?void 0:$,anchorX:h,children:U},W)})})};function sg(t,e){t.indexOf(e)===-1&&t.push(e)}function rg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mi=(t,e,n)=>n>e?e:n<t?t:n;let ag=()=>{};const gi={},kC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),LC=t=>/^0[^.\s]+$/u.test(t);function og(t){let e;return()=>(e===void 0&&(e=t()),e)}const mn=t=>t,bP=(t,e)=>n=>e(t(n)),Tl=(...t)=>t.reduce(bP),il=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class lg{constructor(){this.subscriptions=[]}add(e){return sg(this.subscriptions,e),()=>rg(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vn=t=>t*1e3,Bn=t=>t/1e3;function PC(t,e){return e?t*(1e3/e):0}const UC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SP=1e-7,EP=12;function TP(t,e,n,r,o){let u,c,h=0;do c=e+(n-e)/2,u=UC(c,r,o)-t,u>0?n=c:e=c;while(Math.abs(u)>SP&&++h<EP);return c}function Cl(t,e,n,r){if(t===e&&n===r)return mn;const o=u=>TP(u,0,1,t,n);return u=>u===0||u===1?u:UC(o(u),e,r)}const VC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,BC=t=>e=>1-t(1-e),jC=Cl(.33,1.53,.69,.99),ug=BC(jC),zC=VC(ug),HC=t=>(t*=2)<1?.5*ug(t):.5*(2-Math.pow(2,-10*(t-1))),cg=t=>1-Math.sin(Math.acos(t)),FC=BC(cg),qC=VC(cg),CP=Cl(.42,0,1,1),wP=Cl(0,0,.58,1),GC=Cl(.42,0,.58,1),AP=t=>Array.isArray(t)&&typeof t[0]!="number",YC=t=>Array.isArray(t)&&typeof t[0]=="number",xP={linear:mn,easeIn:CP,easeInOut:GC,easeOut:wP,circIn:cg,circInOut:qC,circOut:FC,backIn:ug,backInOut:zC,backOut:jC,anticipate:HC},RP=t=>typeof t=="string",$b=t=>{if(YC(t)){ag(t.length===4);const[e,n,r,o]=t;return Cl(e,n,r,o)}else if(RP(t))return xP[t];return t},Ku=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qb={value:null};function NP(t,e){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function m(y){c.has(y)&&(g.schedule(y),t()),d++,y(h)}const g={schedule:(y,_=!1,S=!1)=>{const N=S&&o?n:r;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(m),e&&Qb.value&&Qb.value.frameloop[e].push(d),d=0,n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const DP=40;function KC(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Ku.reduce((L,K)=>(L[K]=NP(u,e?K:void 0),L),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:y,preRender:_,render:S,postRender:E}=c,N=()=>{const L=gi.useManualTiming?o.timestamp:performance.now();n=!1,gi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(L-o.timestamp,DP),1)),o.timestamp=L,o.isProcessing=!0,h.process(o),d.process(o),m.process(o),g.process(o),y.process(o),_.process(o),S.process(o),E.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(N))},D=()=>{n=!0,r=!0,o.isProcessing||t(N)};return{schedule:Ku.reduce((L,K)=>{const U=c[K];return L[K]=(W,Z=!1,$=!1)=>(n||D(),U.schedule(W,Z,$)),L},{}),cancel:L=>{for(let K=0;K<Ku.length;K++)c[Ku[K]].cancel(L)},state:o,steps:c}}const{schedule:Ze,cancel:Ji,state:Ct,steps:Fd}=KC(typeof requestAnimationFrame<"u"?requestAnimationFrame:mn,!0);let ic;function MP(){ic=void 0}const Ft={now:()=>(ic===void 0&&Ft.set(Ct.isProcessing||gi.useManualTiming?Ct.timestamp:performance.now()),ic),set:t=>{ic=t,queueMicrotask(MP)}},WC=t=>e=>typeof e=="string"&&e.startsWith(t),fg=WC("--"),OP=WC("var(--"),hg=t=>OP(t)?IP.test(t.split("/*")[0].trim()):!1,IP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ga={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sl={...ga,transform:t=>mi(0,1,t)},Wu={...ga,default:1},jo=t=>Math.round(t*1e5)/1e5,dg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kP(t){return t==null}const LP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pg=(t,e)=>n=>!!(typeof n=="string"&&LP.test(n)&&n.startsWith(t)||e&&!kP(n)&&Object.prototype.hasOwnProperty.call(n,e)),XC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(dg);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},PP=t=>mi(0,255,t),qd={...ga,transform:t=>Math.round(PP(t))},Is={test:pg("rgb","red"),parse:XC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qd.transform(t)+", "+qd.transform(e)+", "+qd.transform(n)+", "+jo(sl.transform(r))+")"};function UP(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Rp={test:pg("#"),parse:UP,transform:Is.transform},wl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hi=wl("deg"),jn=wl("%"),ce=wl("px"),VP=wl("vh"),BP=wl("vw"),Zb={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)},Br={test:pg("hsl","hue"),parse:XC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(jo(e))+", "+jn.transform(jo(n))+", "+jo(sl.transform(r))+")"},Dt={test:t=>Is.test(t)||Rp.test(t)||Br.test(t),parse:t=>Is.test(t)?Is.parse(t):Br.test(t)?Br.parse(t):Rp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Is.transform(t):Br.transform(t)},jP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(dg))==null?void 0:e.length)||0)+(((n=t.match(jP))==null?void 0:n.length)||0)>0}const $C="number",QC="color",HP="var",FP="var(",Jb="${}",qP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(qP,d=>(Dt.test(d)?(r.color.push(u),o.push(QC),n.push(Dt.parse(d))):d.startsWith(FP)?(r.var.push(u),o.push(HP),n.push(d)):(r.number.push(u),o.push($C),n.push(parseFloat(d))),++u,Jb)).split(Jb);return{values:n,split:h,indexes:r,types:o}}function ZC(t){return rl(t).values}function JC(t){const{split:e,types:n}=rl(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=n[c];h===$C?u+=jo(o[c]):h===QC?u+=Dt.transform(o[c]):u+=o[c]}return u}}const GP=t=>typeof t=="number"?0:t;function YP(t){const e=ZC(t);return JC(t)(e.map(GP))}const es={test:zP,parse:ZC,createTransformer:JC,getAnimatableNone:YP};function Gd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,c=0;if(!e)o=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;o=Gd(d,h,t+1/3),u=Gd(d,h,t),c=Gd(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Dc(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,Yd=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},WP=[Rp,Is,Br],XP=t=>WP.find(e=>e.test(t));function eS(t){const e=XP(t);if(!e)return!1;let n=e.parse(t);return e===Br&&(n=KP(n)),n}const tS=(t,e)=>{const n=eS(t),r=eS(e);if(!n||!r)return Dc(t,e);const o={...n};return u=>(o.red=Yd(n.red,r.red,u),o.green=Yd(n.green,r.green,u),o.blue=Yd(n.blue,r.blue,u),o.alpha=Qe(n.alpha,r.alpha,u),Is.transform(o))},Np=new Set(["none","hidden"]);function $P(t,e){return Np.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QP(t,e){return n=>Qe(t,e,n)}function mg(t){return typeof t=="number"?QP:typeof t=="string"?hg(t)?Dc:Dt.test(t)?tS:e2:Array.isArray(t)?ew:typeof t=="object"?Dt.test(t)?tS:ZP:Dc}function ew(t,e){const n=[...t],r=n.length,o=t.map((u,c)=>mg(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function ZP(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=mg(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function JP(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;n[o]=h,r[u]++}return n}const e2=(t,e)=>{const n=es.createTransformer(e),r=rl(t),o=rl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Np.has(t)&&!o.values.length||Np.has(e)&&!r.values.length?$P(t,e):Tl(ew(JP(r,o),o.values),n):Dc(t,e)};function tw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):mg(t)(t,e)}const t2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ze.update(e,!0),stop:()=>Ji(e),now:()=>Ct.isProcessing?Ct.timestamp:Ft.now()}},nw=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Mc=2e4;function gg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Mc;)e+=n,r=t.next(e);return e>=Mc?1/0:e}function n2(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(gg(r),Mc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Bn(o)}}const i2=5;function iw(t,e,n){const r=Math.max(e-i2,0);return PC(n-t(r),e-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nS=.001;function s2({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let o,u,c=1-e;c=mi(tt.minDamping,tt.maxDamping,c),t=mi(tt.minDuration,tt.maxDuration,Bn(t)),c<1?(o=m=>{const g=m*c,y=g*t,_=g-n,S=Dp(m,c),E=Math.exp(-y);return nS-_/S*E},u=m=>{const y=m*c*t,_=y*n+n,S=Math.pow(c,2)*Math.pow(m,2)*t,E=Math.exp(-y),N=Dp(Math.pow(m,2),c);return(-o(m)+nS>0?-1:1)*((_-S)*E)/N}):(o=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-.001+g*y},u=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const h=5/t,d=a2(o,u,h);if(t=Vn(t),isNaN(d))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const r2=12;function a2(t,e,n){let r=n;for(let o=1;o<r2;o++)r=r-t(r)/e(r);return r}function Dp(t,e){return t*Math.sqrt(1-e*e)}const o2=["duration","bounce"],l2=["stiffness","damping","mass"];function iS(t,e){return e.some(n=>t[n]!==void 0)}function u2(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!iS(t,l2)&&iS(t,o2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:tt.mass,stiffness:o,damping:u}}else{const n=s2(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function Oc(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:d,damping:m,mass:g,duration:y,velocity:_,isResolvedFromDuration:S}=u2({...n,velocity:-Bn(n.velocity||0)}),E=_||0,N=m/(2*Math.sqrt(d*g)),D=c-u,R=Bn(Math.sqrt(d/g)),j=Math.abs(D)<5;r||(r=j?tt.restSpeed.granular:tt.restSpeed.default),o||(o=j?tt.restDelta.granular:tt.restDelta.default);let L;if(N<1){const U=Dp(R,N);L=W=>{const Z=Math.exp(-N*R*W);return c-Z*((E+N*R*D)/U*Math.sin(U*W)+D*Math.cos(U*W))}}else if(N===1)L=U=>c-Math.exp(-R*U)*(D+(E+R*D)*U);else{const U=R*Math.sqrt(N*N-1);L=W=>{const Z=Math.exp(-N*R*W),$=Math.min(U*W,300);return c-Z*((E+N*R*D)*Math.sinh($)+U*D*Math.cosh($))/U}}const K={calculatedDuration:S&&y||null,next:U=>{const W=L(U);if(S)h.done=U>=y;else{let Z=U===0?E:0;N<1&&(Z=U===0?Vn(E):iw(L,U,W));const $=Math.abs(Z)<=r,ae=Math.abs(c-W)<=o;h.done=$&&ae}return h.value=h.done?c:W,h},toString:()=>{const U=Math.min(gg(K),Mc),W=nw(Z=>K.next(U*Z).value,U,30);return U+"ms "+W},toTransition:()=>{}};return K}Oc.applyToOptions=t=>{const e=n2(t,100,Oc);return t.ease=e.ease,t.duration=Vn(e.duration),t.type="keyframes",t};function Mp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},S=$=>h!==void 0&&$<h||d!==void 0&&$>d,E=$=>h===void 0?d:d===void 0||Math.abs(h-$)<Math.abs(d-$)?h:d;let N=n*e;const D=y+N,R=c===void 0?D:c(D);R!==D&&(N=R-y);const j=$=>-N*Math.exp(-$/r),L=$=>R+j($),K=$=>{const ae=j($),Te=L($);_.done=Math.abs(ae)<=m,_.value=_.done?R:Te};let U,W;const Z=$=>{S(_.value)&&(U=$,W=Oc({keyframes:[_.value,E(_.value)],velocity:iw(L,$,_.value),damping:o,stiffness:u,restDelta:m,restSpeed:g}))};return Z(0),{calculatedDuration:null,next:$=>{let ae=!1;return!W&&U===void 0&&(ae=!0,K($),Z($)),U!==void 0&&$>=U?W.next($-U):(!ae&&K($),_)}}}function c2(t,e,n){const r=[],o=n||gi.mix||tw,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||mn:e;h=Tl(d,h)}r.push(h)}return r}function f2(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(ag(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=c2(e,r,o),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=il(t[y],t[y+1],g);return h[y](_)};return n?g=>m(mi(t[0],t[u-1],g)):m}function h2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=il(0,e,r);t.push(Qe(n,1,o))}}function d2(t){const e=[0];return h2(e,t.length-1),e}function p2(t,e){return t.map(n=>n*e)}function m2(t,e){return t.map(()=>e||GC).splice(0,t.length-1)}function zo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=AP(r)?r.map($b):$b(r),u={done:!1,value:e[0]},c=p2(n&&n.length===e.length?n:d2(e),t),h=f2(c,e,{ease:Array.isArray(o)?o:m2(e,o)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}const g2=t=>t!==null;function yg(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(g2),h=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const y2={decay:Mp,inertia:Mp,tween:zo,keyframes:zo,spring:Oc};function sw(t){typeof t.type=="string"&&(t.type=y2[t.type])}class vg{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v2=t=>t/100;class rw extends vg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sw(e);const{type:n=zo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const d=n||zo;d!==zo&&typeof h[0]!="number"&&(this.mixKeyframes=Tl(v2,tw(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=gg(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:S,type:E,onUpdate:N,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-m*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?R<0:R>o;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,K=r;if(y){const $=Math.min(this.currentTime,o)/h;let ae=Math.floor($),Te=$%1;!Te&&$>=1&&(Te=1),Te===1&&ae--,ae=Math.min(ae,y+1),!!(ae%2)&&(_==="reverse"?(Te=1-Te,S&&(Te-=S/h)):_==="mirror"&&(K=c)),L=mi(0,1,Te)*h}const U=j?{done:!1,value:g[0]}:K.next(L);u&&(U.value=u(U.value));let{done:W}=U;!j&&d!==null&&(W=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return Z&&E!==Mp&&(U.value=yg(g,this.options,D,this.speed)),N&&N(U.value),Z&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return Bn(this.calculatedDuration)}get time(){return Bn(this.currentTime)}set time(e){e=Vn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=t2,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function _2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ks=t=>t*180/Math.PI,Op=t=>{const e=ks(Math.atan2(t[1],t[0]));return Ip(e)},b2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Op,rotateZ:Op,skewX:t=>ks(Math.atan(t[1])),skewY:t=>ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ip=t=>(t=t%360,t<0&&(t+=360),t),sS=Op,rS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rS,scaleY:aS,scale:t=>(rS(t)+aS(t))/2,rotateX:t=>Ip(ks(Math.atan2(t[6],t[5]))),rotateY:t=>Ip(ks(Math.atan2(-t[2],t[0]))),rotateZ:sS,rotate:sS,skewX:t=>ks(Math.atan(t[4])),skewY:t=>ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oS(t){return t.includes("scale")?1:0}function kp(t,e){if(!t||t==="none")return oS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=S2,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=b2,o=h}if(!o)return oS(e);const u=r[e],c=o[1].split(",").map(T2);return typeof u=="function"?u(c):c[u]}const E2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return kp(n,e)};function T2(t){return parseFloat(t.trim())}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],va=new Set(ya),lS=t=>t===ga||t===ce,C2=new Set(["x","y","z"]),w2=ya.filter(t=>!C2.has(t));function A2(t){const e=[];return w2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kp(e,"x"),y:(t,{transform:e})=>kp(e,"y")};ia.translateX=ia.x;ia.translateY=ia.y;const Ps=new Set;let Lp=!1,Pp=!1,Up=!1;function aw(){if(Pp){const t=Array.from(Ps).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=A2(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{var h;(h=r.getValue(u))==null||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pp=!1,Lp=!1,Ps.forEach(t=>t.complete(Up)),Ps.clear()}function ow(){Ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pp=!0)})}function x2(){Up=!0,ow(),aw(),Up=!1}class _g{constructor(e,n,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ps.add(this),Lp||(Lp=!0,Ze.read(ow),Ze.resolveKeyframes(aw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}_2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ps.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ps.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const R2=t=>t.startsWith("--");function N2(t,e,n){R2(e)?t.style.setProperty(e,n):t.style[e]=n}const D2=og(()=>window.ScrollTimeline!==void 0),M2={};function O2(t,e){const n=og(t);return()=>M2[e]??n()}const lw=O2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oo([0,.65,.55,1]),circOut:Oo([.55,0,1,.45]),backIn:Oo([.31,.01,.66,-.59]),backOut:Oo([.33,1.53,.69,.99])};function uw(t,e){if(t)return typeof t=="function"?lw()?nw(t,e):"ease-out":YC(t)?Oo(t):Array.isArray(t)?t.map(n=>uw(n,e)||uS.easeOut):uS[t]}function I2(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const y=uw(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(g,_)}function cw(t){return typeof t=="function"&&"applyToOptions"in t}function k2({type:t,...e}){return cw(t)&&lw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class L2 extends vg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,ag(typeof e.type!="string");const m=k2(e);this.animation=I2(n,r,o,m,u),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=yg(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):N2(n,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bn(Number(e))}get time(){return Bn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&D2()?(this.animation.timeline=e,mn):n(this)}}const fw={anticipate:HC,backInOut:zC,circInOut:qC};function P2(t){return t in fw}function U2(t){typeof t.ease=="string"&&P2(t.ease)&&(t.ease=fw[t.ease])}const cS=10;class V2 extends L2{constructor(e){U2(e),sw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new rw({...c,autoplay:!1}),d=Vn(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-cS).value,h.sample(d).value,cS),h.stop()}}const fS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(es.test(t)||t==="0")&&!t.startsWith("url("));function B2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function j2(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=fS(o,e),h=fS(u,e);return!c||!h?!1:B2(t)||(n==="spring"||cw(n))&&r}const z2=new Set(["opacity","clipPath","filter","transform"]),H2=og(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F2(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return H2()&&n&&z2.has(n)&&(n!=="transform"||!d)&&!h&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const q2=40;class G2 extends vg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...y}){var E;super(),this.stop=()=>{var N,D;this._animation?(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)):(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Ft.now();const _={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:d,motionValue:m,element:g,...y},S=(g==null?void 0:g.KeyframeResolver)||_g;this.keyframeResolver=new S(h,(N,D,R)=>this.onKeyframesResolved(N,D,_,!R),d,m,g),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=r;this.resolvedAt=Ft.now(),j2(e,u,c,h)||((gi.instantAnimations||!d)&&(g==null||g(yg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>q2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!m&&F2(_)?new V2({..._,element:_.motionValue.owner.current}):new rw(_);S.finished.then(()=>this.notifyFinished()).catch(mn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||x2(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const Y2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K2(t){const e=Y2.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function hw(t,e,n=1){const[r,o]=K2(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return kC(c)?parseFloat(c):c}return hg(o)?hw(o,e,n+1):o}function bg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const dw=new Set(["width","height","top","left","right","bottom",...ya]),W2={test:t=>t==="auto",parse:t=>t},pw=t=>e=>e.test(t),mw=[ga,ce,jn,Hi,BP,VP,W2],hS=t=>mw.find(pw(t));function X2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LC(t):!0}const $2=new Set(["brightness","contrast","saturate","opacity"]);function Q2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dg)||[];if(!r)return t;const o=n.replace(r,"");let u=$2.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const Z2=/\b([a-z-]*)\(.*?\)/gu,Vp={...es,getAnimatableNone:t=>{const e=t.match(Z2);return e?e.map(Q2).join(" "):t}},dS={...ga,transform:Math.round},J2={rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:Wu,scaleX:Wu,scaleY:Wu,scaleZ:Wu,skew:Hi,skewX:Hi,skewY:Hi,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:sl,originX:Zb,originY:Zb,originZ:ce},Sg={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...J2,zIndex:dS,fillOpacity:sl,strokeOpacity:sl,numOctaves:dS},eU={...Sg,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Vp,WebkitFilter:Vp},gw=t=>eU[t];function yw(t,e){let n=gw(t);return n!==Vp&&(n=es),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tU=new Set(["auto","none","0"]);function nU(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!tU.has(u)&&rl(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=yw(n,o)}class iU extends _g{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),hg(m))){const g=hw(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!dw.has(r)||e.length!==2)return;const[o,u]=e,c=hS(o),h=hS(u);if(c!==h)if(lS(c)&&lS(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||X2(e[o]))&&r.push(o);r.length&&nU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ia[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function sU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:Eg}=KC(queueMicrotask,!1),Sn={x:!1,y:!1};function vw(){return Sn.x||Sn.y}function rU(t){return t==="x"||t==="y"?Sn[t]?null:(Sn[t]=!0,()=>{Sn[t]=!1}):Sn.x||Sn.y?null:(Sn.x=Sn.y=!0,()=>{Sn.x=Sn.y=!1})}function _w(t,e){const n=sU(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function pS(t){return!(t.pointerType==="touch"||vw())}function aU(t,e,n={}){const[r,o,u]=_w(t,n),c=h=>{if(!pS(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=y=>{pS(y)&&(m(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),u}const bw=(t,e)=>e?t===e?!0:bw(t,e.parentElement):!1,Tg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lU(t){return oU.has(t.tagName)||t.tabIndex!==-1}const Io=new WeakSet;function mS(t){return e=>{e.key==="Enter"&&t(e)}}function Kd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=mS(()=>{if(Io.has(n))return;Kd(n,"down");const o=mS(()=>{Kd(n,"up")}),u=()=>Kd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function gS(t){return Tg(t)&&!vw()}function cU(t,e,n={}){const[r,o,u]=_w(t,n),c=h=>{const d=h.currentTarget;if(!gS(h)||Io.has(d))return;Io.add(d);const m=e(d,h),g=(S,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!gS(S)||!Io.has(d))&&(Io.delete(d),typeof m=="function"&&m(S,{success:E}))},y=S=>{g(S,d===window||d===document||n.useGlobalTarget||bw(d,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h instanceof HTMLElement&&(h.addEventListener("focus",m=>uU(m,o)),!lU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}const yS=30,fU=t=>!isNaN(parseFloat(t));class hU{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,h;const u=Ft.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yS);return PC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(t,e){return new hU(t,e)}const dU=[...mw,Dt,es],pU=t=>dU.find(pw(t)),Sw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ew=C.createContext({strict:!1}),vS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sa={};for(const t in vS)sa[t]={isEnabled:e=>vS[t].some(n=>!!e[n])};function mU(t){for(const e in t)sa[e]={...sa[e],...t[e]}}const gU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ic(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gU.has(t)}let Tw=t=>!Ic(t);function yU(t){t&&(Tw=e=>e.startsWith("on")?!Ic(e):t(e))}try{yU(require("@emotion/is-prop-valid").default)}catch{}function vU(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Tw(o)||n===!0&&Ic(o)||!e&&!Ic(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function _U(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const ef=C.createContext({});function tf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ol(t){return typeof t=="string"||Array.isArray(t)}const Cg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wg=["initial",...Cg];function nf(t){return tf(t.animate)||wg.some(e=>ol(t[e]))}function Cw(t){return!!(nf(t)||t.variants)}function bU(t,e){if(nf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ol(n)?n:void 0,animate:ol(r)?r:void 0}}return t.inherit!==!1?e:{}}function SU(t){const{initial:e,animate:n}=bU(t,C.useContext(ef));return C.useMemo(()=>({initial:e,animate:n}),[_S(e),_S(n)])}function _S(t){return Array.isArray(t)?t.join(" "):t}const EU=Symbol.for("motionComponentSymbol");function jr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TU(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jr(n)&&(n.current=r))},[e])}const Ag=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CU="framerAppearId",ww="data-"+Ag(CU),Aw=C.createContext({});function wU(t,e,n,r,o){var N,D;const{visualElement:u}=C.useContext(ef),c=C.useContext(Ew),h=C.useContext(Jc),d=C.useContext(ig).reducedMotion,m=C.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=m.current,y=C.useContext(Aw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&AU(m.current,n,o,y);const _=C.useRef(!1);C.useInsertionEffect(()=>{g&&_.current&&g.update(n,h)});const S=n[ww],E=C.useRef(!!S&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,S))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,S)));return OC(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Eg.render(g.render),E.current&&g.animationState&&g.animationState.animateChanges())}),C.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,S)}),E.current=!1))}),g}function AU(t,e,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xw(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&jr(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:m})}function xw(t){if(t)return t.options.allowProjection!==!1?t.projection:xw(t.parent)}function xU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&mU(t);function u(h,d){let m;const g={...C.useContext(ig),...h,layoutId:RU(h)},{isStatic:y}=g,_=SU(h),S=r(h,y);if(!y&&ng){NU();const E=DU(g);m=E.MeasureLayout,_.visualElement=wU(o,S,g,e,E.ProjectionNode)}return P.jsxs(ef.Provider,{value:_,children:[m&&_.visualElement?P.jsx(m,{visualElement:_.visualElement,...g}):null,n(o,h,TU(S,_.visualElement,d),S,y,_.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=C.forwardRef(u);return c[EU]=o,c}function RU({layoutId:t}){const e=C.useContext(eg).id;return e&&t!==void 0?e+"-"+t:t}function NU(t,e){C.useContext(Ew).strict}function DU(t){const{drag:e,layout:n}=sa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ll={};function MU(t){for(const e in t)ll[e]=t[e],fg(e)&&(ll[e].isCSSVariable=!0)}function Rw(t,{layout:e,layoutId:n}){return va.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ll[t]||t==="opacity")}const Mt=t=>!!(t&&t.getVelocity),OU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IU=ya.length;function kU(t,e,n){let r="",o=!0;for(let u=0;u<IU;u++){const c=ya[u],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=Sw(h,Sg[c]);if(!d){o=!1;const g=OU[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function xg(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(va.has(d)){c=!0;continue}else if(fg(d)){o[d]=m;continue}else{const g=Sw(m,Sg[d]);d.startsWith("origin")?(h=!0,u[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=kU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=u;r.transformOrigin=`${d} ${m} ${g}`}}const Rg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nw(t,e,n){for(const r in e)!Mt(e[r])&&!Rw(r,n)&&(t[r]=e[r])}function LU({transformTemplate:t},e){return C.useMemo(()=>{const n=Rg();return xg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function PU(t,e){const n=t.style||{},r={};return Nw(r,n,t),Object.assign(r,LU(t,e)),r}function UU(t,e){const n={},r=PU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const VU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ng(t){return typeof t!="string"||t.includes("-")?!1:!!(VU.indexOf(t)>-1||/[A-Z]/u.test(t))}const BU={offset:"stroke-dashoffset",array:"stroke-dasharray"},jU={offset:"strokeDashoffset",array:"strokeDasharray"};function zU(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?BU:jU;t[u.offset]=ce.transform(-r);const c=ce.transform(e),h=ce.transform(n);t[u.array]=`${c} ${h}`}function Dw(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},d,m){if(xg(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&zU(g,o,u,c,!1)}const Mw=()=>({...Rg(),attrs:{}}),Ow=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HU(t,e,n,r){const o=C.useMemo(()=>{const u=Mw();return Dw(u,e,Ow(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};Nw(u,t.style,t),o.style={...u,...o.style}}return o}function FU(t=!1){return(n,r,o,{latestValues:u},c)=>{const d=(Ng(n)?HU:UU)(r,u,c,n),m=vU(r,typeof n=="string",t),g=n!==C.Fragment?{...m,...d,ref:o}:{},{children:y}=r,_=C.useMemo(()=>Mt(y)?y.get():y,[y]);return C.createElement(n,{...g,children:_})}}function bS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Dg(t,e,n,r){if(typeof e=="function"){const[o,u]=bS(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=bS(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function sc(t){return Mt(t)?t.get():t}function qU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:GU(n,r,o,t),renderState:e()}}const Iw=t=>(e,n)=>{const r=C.useContext(ef),o=C.useContext(Jc),u=()=>qU(t,e,r,o);return n?u():tg(u)};function GU(t,e,n,r){const o={},u=r(t,{});for(const _ in u)o[_]=sc(u[_]);let{initial:c,animate:h}=t;const d=nf(t),m=Cw(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!tf(y)){const _=Array.isArray(y)?y:[y];for(let S=0;S<_.length;S++){const E=Dg(t,_[S]);if(E){const{transitionEnd:N,transition:D,...R}=E;for(const j in R){let L=R[j];if(Array.isArray(L)){const K=g?L.length-1:0;L=L[K]}L!==null&&(o[j]=L)}for(const j in N)o[j]=N[j]}}}return o}function Mg(t,e,n){var u;const{style:r}=t,o={};for(const c in r)(Mt(r[c])||e.style&&Mt(e.style[c])||Rw(c,t)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const YU={useVisualState:Iw({scrapeMotionValuesFromProps:Mg,createRenderState:Rg})};function kw(t,e,n){const r=Mg(t,e,n);for(const o in t)if(Mt(t[o])||Mt(e[o])){const u=ya.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const KU={useVisualState:Iw({scrapeMotionValuesFromProps:kw,createRenderState:Mw})};function WU(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Ng(r)?KU:YU,preloadedFeatures:t,useRender:FU(o),createVisualElement:e,Component:r};return xU(c)}}function ul(t,e,n){const r=t.getProps();return Dg(r,e,n!==void 0?n:r.custom,t)}const Bp=t=>Array.isArray(t);function XU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,al(n))}function $U(t){return Bp(t)?t[t.length-1]||0:t}function QU(t,e){const n=ul(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const h=$U(u[c]);XU(t,c,h)}}function ZU(t){return!!(Mt(t)&&t.add)}function jp(t,e){const n=t.getValue("willChange");if(ZU(n))return n.add(e);if(!n&&gi.WillChange){const r=new gi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Lw(t){return t.props[ww]}const JU=t=>t!==null;function e3(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(JU),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const t3={type:"spring",stiffness:500,damping:25,restSpeed:10},n3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i3={type:"keyframes",duration:.8},s3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r3=(t,{keyframes:e})=>e.length>2?i3:va.has(t)?t.startsWith("scale")?n3(e[1]):t3:s3;function a3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const Og=(t,e,n,r={},o,u)=>c=>{const h=bg(r,t)||{},d=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Vn(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};a3(h)||Object.assign(g,r3(t,g)),g.duration&&(g.duration=Vn(g.duration)),g.repeatDelay&&(g.repeatDelay=Vn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(gi.instantAnimations||gi.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=e3(g.keyframes,h);if(_!==void 0){Ze.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new G2(g)};function o3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Pw(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(u=r);const d=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||m&&o3(m,g))continue;const S={delay:n,...bg(u||{},g)},E=y.get();if(E!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===E&&!S.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const R=Lw(t);if(R){const j=window.MotionHandoffAnimation(R,g,Ze);j!==null&&(S.startTime=j,N=!0)}}jp(t,g),y.start(Og(g,y,_,t.shouldReduceMotion&&dw.has(g)?{type:!1}:S,t,N));const D=y.animation;D&&d.push(D)}return c&&Promise.all(d).then(()=>{Ze.update(()=>{c&&QU(t,c)})}),d}function zp(t,e,n={}){var d;const r=ul(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(Pw(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return l3(t,e,g+m,y,_,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,g]=h==="beforeChildren"?[u,c]:[c,u];return m().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function l3(t,e,n=0,r=0,o=1,u){const c=[],h=(t.variantChildren.size-1)*r,d=o===1?(m=0)=>m*r:(m=0)=>h-m*r;return Array.from(t.variantChildren).sort(u3).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(zp(m,e,{...u,delay:n+d(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function u3(t,e){return t.sortNodePosition(e)}function c3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>zp(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=zp(t,e,n);else{const o=typeof e=="function"?ul(t,e,n.custom):e;r=Promise.all(Pw(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Uw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const f3=wg.length;function Vw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Vw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<f3;n++){const r=wg[n],o=t.props[r];(ol(o)||o===!1)&&(e[r]=o)}return e}const h3=[...Cg].reverse(),d3=Cg.length;function p3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>c3(t,n,r)))}function m3(t){let e=p3(t),n=SS(),r=!0;const o=d=>(m,g)=>{var _;const y=ul(t,g,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:S,transitionEnd:E,...N}=y;m={...m,...N,...E}}return m};function u(d){e=d(t)}function c(d){const{props:m}=t,g=Vw(t.parent)||{},y=[],_=new Set;let S={},E=1/0;for(let D=0;D<d3;D++){const R=h3[D],j=n[R],L=m[R]!==void 0?m[R]:g[R],K=ol(L),U=R===d?j.isActive:null;U===!1&&(E=D);let W=L===g[R]&&L!==m[R]&&K;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),j.protectedKeys={...S},!j.isActive&&U===null||!L&&!j.prevProp||tf(L)||typeof L=="boolean")continue;const Z=g3(j.prevProp,L);let $=Z||R===d&&j.isActive&&!W&&K||D>E&&K,ae=!1;const Te=Array.isArray(L)?L:[L];let We=Te.reduce(o(R),{});U===!1&&(We={});const{prevResolvedValues:qe={}}=j,yn={...qe,...We},Gt=G=>{$=!0,_.has(G)&&(ae=!0,_.delete(G)),j.needsAnimating[G]=!0;const ee=t.getValue(G);ee&&(ee.liveStyle=!1)};for(const G in yn){const ee=We[G],Ae=qe[G];if(S.hasOwnProperty(G))continue;let w=!1;Bp(ee)&&Bp(Ae)?w=!Uw(ee,Ae):w=ee!==Ae,w?ee!=null?Gt(G):_.add(G):ee!==void 0&&_.has(G)?Gt(G):j.protectedKeys[G]=!0}j.prevProp=L,j.prevResolvedValues=We,j.isActive&&(S={...S,...We}),r&&t.blockInitialAnimation&&($=!1),$&&(!(W&&Z)||ae)&&y.push(...Te.map(G=>({animation:G,options:{type:R}})))}if(_.size){const D={};if(typeof m.initial!="boolean"){const R=ul(t,Array.isArray(m.initial)?m.initial[0]:m.initial);R&&R.transition&&(D.transition=R.transition)}_.forEach(R=>{const j=t.getBaseTarget(R),L=t.getValue(R);L&&(L.liveStyle=!0),D[R]=j??null}),y.push({animation:D})}let N=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function h(d,m){var y;if(n[d].isActive===m)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var S;return(S=_.animationState)==null?void 0:S.setActive(d,m)}),n[d].isActive=m;const g=c(d);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=SS(),r=!0}}}function g3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Uw(e,t):!1}function As(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SS(){return{animate:As(!0),whileInView:As(),whileHover:As(),whileTap:As(),whileDrag:As(),whileFocus:As(),exit:As()}}class os{constructor(e){this.isMounted=!1,this.node=e}update(){}}class y3 extends os{constructor(e){super(e),e.animationState||(e.animationState=m3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let v3=0;class _3 extends os{constructor(){super(...arguments),this.id=v3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const b3={animation:{Feature:y3},exit:{Feature:_3}};function cl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Al(t){return{point:{x:t.pageX,y:t.pageY}}}const S3=t=>e=>Tg(e)&&t(e,Al(e));function Ho(t,e,n,r){return cl(t,e,S3(n),r)}function Bw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function E3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const jw=1e-4,C3=1-jw,w3=1+jw,zw=.01,A3=0-zw,x3=0+zw;function It(t){return t.max-t.min}function R3(t,e,n){return Math.abs(t-e)<=n}function ES(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=It(n)/It(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C3&&t.scale<=w3||isNaN(t.scale))&&(t.scale=1),(t.translate>=A3&&t.translate<=x3||isNaN(t.translate))&&(t.translate=0)}function Fo(t,e,n,r){ES(t.x,e.x,n.x,r?r.originX:void 0),ES(t.y,e.y,n.y,r?r.originY:void 0)}function TS(t,e,n){t.min=n.min+e.min,t.max=t.min+It(e)}function N3(t,e,n){TS(t.x,e.x,n.x),TS(t.y,e.y,n.y)}function CS(t,e,n){t.min=e.min-n.min,t.max=t.min+It(e)}function qo(t,e,n){CS(t.x,e.x,n.x),CS(t.y,e.y,n.y)}const wS=()=>({translate:0,scale:1,origin:0,originPoint:0}),zr=()=>({x:wS(),y:wS()}),AS=()=>({min:0,max:0}),ot=()=>({x:AS(),y:AS()});function dn(t){return[t("x"),t("y")]}function Wd(t){return t===void 0||t===1}function Hp({scale:t,scaleX:e,scaleY:n}){return!Wd(t)||!Wd(e)||!Wd(n)}function Ns(t){return Hp(t)||Hw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Hw(t){return xS(t.x)||xS(t.y)}function xS(t){return t&&t!=="0%"}function kc(t,e,n){const r=t-n,o=e*r;return n+o}function RS(t,e,n,r,o){return o!==void 0&&(t=kc(t,o,r)),kc(t,n,r)+e}function Fp(t,e=0,n=1,r,o){t.min=RS(t.min,e,n,r,o),t.max=RS(t.max,e,n,r,o)}function Fw(t,{x:e,y:n}){Fp(t.x,e.translate,e.scale,e.originPoint),Fp(t.y,n.translate,n.scale,n.originPoint)}const NS=.999999999999,DS=1.0000000000001;function D3(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=n[h],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Fr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Fw(t,c)),r&&Ns(u.latestValues)&&Fr(t,u.latestValues))}e.x<DS&&e.x>NS&&(e.x=1),e.y<DS&&e.y>NS&&(e.y=1)}function Hr(t,e){t.min=t.min+e,t.max=t.max+e}function MS(t,e,n,r,o=.5){const u=Qe(t.min,t.max,o);Fp(t,e,n,u,r)}function Fr(t,e){MS(t.x,e.x,e.scaleX,e.scale,e.originX),MS(t.y,e.y,e.scaleY,e.scale,e.originY)}function qw(t,e){return Bw(T3(t.getBoundingClientRect(),e))}function M3(t,e,n){const r=qw(t,n),{scroll:o}=e;return o&&(Hr(r.x,o.offset.x),Hr(r.y,o.offset.y)),r}const Gw=({current:t})=>t?t.ownerDocument.defaultView:null,OS=(t,e)=>Math.abs(t-e);function O3(t,e){const n=OS(t.x,e.x),r=OS(t.y,e.y);return Math.sqrt(n**2+r**2)}class Yw{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=$d(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=O3(y.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:E}=y,{timestamp:N}=Ct;this.history.push({...E,timestamp:N});const{onStart:D,onMove:R}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Xd(_,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=$d(y.type==="pointercancel"?this.lastMoveEventInfo:Xd(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,D),E&&E(y,D)},!Tg(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Al(e),h=Xd(c,this.transformPagePoint),{point:d}=h,{timestamp:m}=Ct;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,$d(h,this.history)),this.removeListeners=Tl(Ho(this.contextWindow,"pointermove",this.handlePointerMove),Ho(this.contextWindow,"pointerup",this.handlePointerUp),Ho(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ji(this.updatePoint)}}function Xd(t,e){return e?{point:e(t.point)}:t}function IS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $d({point:t},e){return{point:t,delta:IS(t,Kw(e)),offset:IS(t,I3(e)),velocity:k3(e,.1)}}function I3(t){return t[0]}function Kw(t){return t[t.length-1]}function k3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Kw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Vn(e)));)n--;if(!r)return{x:0,y:0};const u=Bn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function L3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function kS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function P3(t,{top:e,left:n,bottom:r,right:o}){return{x:kS(t.x,n,o),y:kS(t.y,e,r)}}function LS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function U3(t,e){return{x:LS(t.x,e.x),y:LS(t.y,e.y)}}function V3(t,e){let n=.5;const r=It(t),o=It(e);return o>r?n=il(e.min,e.max-r,t.min):r>o&&(n=il(t.min,t.max-o,e.min)),mi(0,1,n)}function B3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qp=.35;function j3(t=qp){return t===!1?t=0:t===!0&&(t=qp),{x:PS(t,"left","right"),y:PS(t,"top","bottom")}}function PS(t,e,n){return{min:US(t,e),max:US(t,n)}}function US(t,e){return typeof t=="number"?t:t[e]||0}const z3=new WeakMap;class H3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Al(g).point)},u=(g,y)=>{const{drag:_,dragPropagation:S,onDragStart:E}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rU(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(D=>{let R=this.getAxisMotionValue(D).get()||0;if(jn.test(R)){const{projection:j}=this.visualElement;if(j&&j.layout){const L=j.layout.layoutBox[D];L&&(R=It(L)*(parseFloat(R)/100))}}this.originPoint[D]=R}),E&&Ze.postRender(()=>E(g,y)),jp(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:E,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=y;if(S&&this.currentDirection===null){this.currentDirection=F3(D),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),N&&N(g,y)},h=(g,y)=>this.stop(g,y),d=()=>dn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Yw(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Gw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Ze.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Xu(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=L3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&jr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=P3(r.layoutBox,e):this.constraints=!1,this.elastic=j3(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&dn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=B3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=M3(r,o.root,this.visualElement.getTransformPagePoint());let c=U3(o.layout.layoutBox,u);if(n){const h=n(E3(c));this.hasMutatedConstraints=!!h,h&&(c=Bw(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=dn(g=>{if(!Xu(g,n,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,E)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return jp(this.visualElement,e),r.start(Og(e,r,0,n,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:r}=this.getProps();if(!Xu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];u.set(e[n]-Qe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};dn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();o[c]=V3({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dn(c=>{if(!Xu(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(Qe(d,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;z3.set(this.visualElement,this);const e=this.visualElement.current,n=Ho(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();jr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ze.read(r);const c=cl(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(dn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=qp,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Xu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class q3 extends os{constructor(e){super(e),this.removeGroupControls=mn,this.removeListeners=mn,this.controls=new H3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const VS=t=>(e,n)=>{t&&Ze.postRender(()=>t(e,n))};class G3 extends os{constructor(){super(...arguments),this.removePointerDownListener=mn}onPointerDown(e){this.session=new Yw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:VS(e),onStart:VS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ze.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Ho(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=BS(t,e.target.x),r=BS(t,e.target.y);return`${n}% ${r}%`}},Y3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=es.parse(t);if(o.length>5)return r;const u=es.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=d;const m=Qe(h,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),u(o)}};class K3 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;MU(W3),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Ze.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Eg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ww(t){const[e,n]=IC(),r=C.useContext(eg);return P.jsx(K3,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(Aw),isPresent:e,safeToRemove:n})}const W3={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:Y3};function X3(t,e,n){const r=Mt(t)?t:al(t);return r.start(Og("",r,e,n)),r.animation}function $3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Q3=(t,e)=>t.depth-e.depth;class Z3{constructor(){this.children=[],this.isDirty=!1}add(e){sg(this.children,e),this.isDirty=!0}remove(e){rg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q3),this.isDirty=!1,this.children.forEach(e)}}function J3(t,e){const n=Ft.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(Ji(r),t(u-e))};return Ze.setup(r,!0),()=>Ji(r)}const Xw=["TopLeft","TopRight","BottomLeft","BottomRight"],eV=Xw.length,jS=t=>typeof t=="string"?parseFloat(t):t,zS=t=>typeof t=="number"||ce.test(t);function tV(t,e,n,r,o,u){o?(t.opacity=Qe(0,n.opacity??1,nV(r)),t.opacityExit=Qe(e.opacity??1,0,iV(r))):u&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let c=0;c<eV;c++){const h=`border${Xw[c]}Radius`;let d=HS(e,h),m=HS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||zS(d)===zS(m)?(t[h]=Math.max(Qe(jS(d),jS(m),r),0),(jn.test(m)||jn.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function HS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nV=$w(0,.5,FC),iV=$w(.5,.95,mn);function $w(t,e,n){return r=>r<t?0:r>e?1:n(il(t,e,r))}function FS(t,e){t.min=e.min,t.max=e.max}function hn(t,e){FS(t.x,e.x),FS(t.y,e.y)}function qS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GS(t,e,n,r,o){return t-=e,t=kc(t,1/n,r),o!==void 0&&(t=kc(t,1/o,r)),t}function sV(t,e=0,n=1,r=.5,o,u=t,c=t){if(jn.test(e)&&(e=parseFloat(e),e=Qe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Qe(u.min,u.max,r);t===u&&(h-=e),t.min=GS(t.min,e,n,h,o),t.max=GS(t.max,e,n,h,o)}function YS(t,e,[n,r,o],u,c){sV(t,e[n],e[r],e[o],e.scale,u,c)}const rV=["x","scaleX","originX"],aV=["y","scaleY","originY"];function KS(t,e,n,r){YS(t.x,e,rV,n?n.x:void 0,r?r.x:void 0),YS(t.y,e,aV,n?n.y:void 0,r?r.y:void 0)}function WS(t){return t.translate===0&&t.scale===1}function Qw(t){return WS(t.x)&&WS(t.y)}function XS(t,e){return t.min===e.min&&t.max===e.max}function oV(t,e){return XS(t.x,e.x)&&XS(t.y,e.y)}function $S(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Zw(t,e){return $S(t.x,e.x)&&$S(t.y,e.y)}function QS(t){return It(t.x)/It(t.y)}function ZS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lV{constructor(){this.members=[]}add(e){sg(this.members,e),e.scheduleRender()}remove(e){if(rg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uV(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:_,skewX:S,skewY:E}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Qd=["","X","Y","Z"],cV={visibility:"hidden"},JS=1e3;let fV=0;function Zd(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Jw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Lw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Jw(r)}function eA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=fV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pV),this.nodes.forEach(_V),this.nodes.forEach(bV),this.nodes.forEach(mV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new lg),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$3(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||d)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=J3(_,250),rc.hasAnimatedSinceResize&&(rc.hasAnimatedSinceResize=!1,this.nodes.forEach(tE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||wV,{onLayoutAnimationStart:D,onLayoutAnimationComplete:R}=g.getProps(),j=!this.targetLayout||!Zw(this.targetLayout,E),L=!_&&S;if(this.options.layoutRoot||this.resumeFrom||L||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,L);const K={...bg(N,"layout"),onPlay:D,onComplete:R};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else _||tE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Jw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eE);return}this.isUpdating||this.nodes.forEach(yV),this.isUpdating=!1,this.nodes.forEach(vV),this.nodes.forEach(hV),this.nodes.forEach(dV),this.clearAllSnapshots();const h=Ft.now();Ct.delta=mi(0,1e3/60,h-Ct.timestamp),Ct.timestamp=h,Ct.isProcessing=!0,Fd.update.process(Ct),Fd.preRender.process(Ct),Fd.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gV),this.sharedNodes.forEach(EV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!It(this.snapshot.measuredBox.x)&&!It(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Qw(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||Ns(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),AV(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return ot();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(xV))){const{scroll:g}=this.root;g&&(Hr(h.x,g.offset.x),Hr(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=ot();if(hn(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&hn(h,c),Hr(h.x,y.offset.x),Hr(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=ot();hn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Fr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ns(g.latestValues)&&Fr(d,g.latestValues)}return Ns(this.latestValues)&&Fr(d,this.latestValues),d}removeTransform(c){const h=ot();hn(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ns(m.latestValues))continue;Hp(m.latestValues)&&m.updateSnapshot();const g=ot(),y=m.measurePageBox();hn(g,y),KS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ns(this.latestValues)&&KS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),qo(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ot(),this.targetWithTransforms=ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),Fw(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),qo(this.relativeTargetOrigin,this.target,S.target),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hp(this.parent.latestValues)||Hw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;hn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;D3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ot());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qS(this.prevProjectionDelta.x,this.projectionDelta.x),qS(this.prevProjectionDelta.y,this.projectionDelta.y)),Fo(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!ZS(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zr(),this.projectionDelta=zr(),this.projectionDeltaWithTransform=zr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},y=zr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=ot(),S=d?d.source:void 0,E=this.layout?this.layout.source:void 0,N=S!==E,D=this.getStack(),R=!D||D.members.length<=1,j=!!(N&&!R&&this.options.crossfade===!0&&!this.path.some(CV));this.animationProgress=0;let L;this.mixTargetDelta=K=>{const U=K/1e3;nE(y.x,c.x,U),nE(y.y,c.y,U),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qo(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TV(this.relativeTarget,this.relativeTargetOrigin,_,U),L&&oV(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=ot()),hn(L,this.relativeTarget)),N&&(this.animationValues=g,tV(g,m,this.latestValues,U,j,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{rc.hasAnimatedSinceResize=!0,this.currentAnimation=X3(0,JS,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&tA(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||ot();const y=It(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const _=It(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}hn(h,d),Fr(h,g),Fo(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lV),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Zd("z",c,m,this.animationValues);for(let g=0;g<Qd.length;g++)Zd(`rotate${Qd[g]}`,c,m,this.animationValues),Zd(`skew${Qd[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return cV;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=sc(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=sc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=uV(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:y,y:_}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,m.animationValues?h.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in ll){if(g[S]===void 0)continue;const{correct:E,applyTo:N,isCSSVariable:D}=ll[S],R=h.transform==="none"?g[S]:E(g[S],m);if(N){const j=N.length;for(let L=0;L<j;L++)h[N[L]]=R}else D?this.options.visualElement.renderState.vars[S]=R:h[S]=R}return this.options.layoutId&&(h.pointerEvents=m===this?sc(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(eE),this.root.sharedNodes.clear()}}}function hV(t){t.updateLayout()}function dV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?dn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],S=It(_);_.min=r[y].min,_.max=_.min+S}):tA(u,e.layoutBox,r)&&dn(y=>{const _=c?e.measuredBox[y]:e.layoutBox[y],S=It(r[y]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const h=zr();Fo(h,r,e.layoutBox);const d=zr();c?Fo(d,t.applyTransform(o,!0),e.measuredBox):Fo(d,r,e.layoutBox);const m=!Qw(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const E=ot();qo(E,e.layoutBox,_.layoutBox);const N=ot();qo(N,r,S.layoutBox),Zw(E,N)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=E,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gV(t){t.clearSnapshot()}function eE(t){t.clearMeasurements()}function yV(t){t.isLayoutDirty=!1}function vV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _V(t){t.resolveTargetDelta()}function bV(t){t.calcProjection()}function SV(t){t.resetSkewAndRotation()}function EV(t){t.removeLeadSnapshot()}function nE(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iE(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function TV(t,e,n,r){iE(t.x,e.x,n.x,r),iE(t.y,e.y,n.y,r)}function CV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wV={duration:.45,ease:[.4,0,.1,1]},sE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rE=sE("applewebkit/")&&!sE("chrome/")?Math.round:mn;function aE(t){t.min=rE(t.min),t.max=rE(t.max)}function AV(t){aE(t.x),aE(t.y)}function tA(t,e,n){return t==="position"||t==="preserve-aspect"&&!R3(QS(e),QS(n),.2)}function xV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const RV=eA({attachResizeListener:(t,e)=>cl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jd={current:void 0},nA=eA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jd.current){const t=new RV({});t.mount(window),t.setOptions({layoutScroll:!0}),Jd.current=t}return Jd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NV={pan:{Feature:G3},drag:{Feature:q3,ProjectionNode:nA,MeasureLayout:Ww}};function oE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&Ze.postRender(()=>u(e,Al(e)))}class DV extends os{mount(){const{current:e}=this.node;e&&(this.unmount=aU(e,(n,r)=>(oE(this.node,r,"Start"),o=>oE(this.node,o,"End"))))}unmount(){}}class MV extends os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tl(cl(this.node.current,"focus",()=>this.onFocus()),cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&Ze.postRender(()=>u(e,Al(e)))}class OV extends os{mount(){const{current:e}=this.node;e&&(this.unmount=cU(e,(n,r)=>(lE(this.node,r,"Start"),(o,{success:u})=>lE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gp=new WeakMap,ep=new WeakMap,IV=t=>{const e=Gp.get(t.target);e&&e(t)},kV=t=>{t.forEach(IV)};function LV({root:t,...e}){const n=t||document;ep.has(n)||ep.set(n,{});const r=ep.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(kV,{root:t,...e})),r[o]}function PV(t,e,n){const r=LV(e);return Gp.set(t,n),r.observe(t),()=>{Gp.delete(t),r.unobserve(t)}}const UV={some:0,all:1};class VV extends os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UV[o]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=m?g:y;_&&_(d)};return PV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BV(e,n))&&this.startObserver()}unmount(){}}function BV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jV={inView:{Feature:VV},tap:{Feature:OV},focus:{Feature:MV},hover:{Feature:DV}},zV={layout:{ProjectionNode:nA,MeasureLayout:Ww}},Yp={current:null},iA={current:!1};function HV(){if(iA.current=!0,!!ng)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yp.current=t.matches;t.addListener(e),e()}else Yp.current=!1}const FV=new WeakMap;function qV(t,e,n){for(const r in e){const o=e[r],u=n[r];if(Mt(o))t.addValue(r,o);else if(Mt(u))t.addValue(r,al(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,al(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_g,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Ft.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ze.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=nf(n),this.isVariantNode=Cw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const S=y[_];d[_]!==void 0&&Mt(S)&&S.set(d[_],!1)}}mount(e){this.current=e,FV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iA.current||HV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ji(this.notifyUpdate),Ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=va.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sa){const n=sa[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uE.length;r++){const o=uE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=qV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=al(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(kC(r)||LC(r))?r=parseFloat(r):!pU(r)&&es.test(n)&&(r=yw(e,n)),this.setBaseTarget(e,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Dg(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Mt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class sA extends GV{constructor(){super(...arguments),this.KeyframeResolver=iU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rA(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in n)t.style.setProperty(u,n[u])}function YV(t){return window.getComputedStyle(t)}class KV extends sA{constructor(){super(...arguments),this.type="html",this.renderInstance=rA}readValueFromInstance(e,n){if(va.has(n))return E2(e,n);{const r=YV(e),o=(fg(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qw(e,n)}build(e,n,r){xg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Mg(e,n,r)}}const aA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WV(t,e,n,r){rA(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(aA.has(o)?o:Ag(o),e.attrs[o])}class XV extends sA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(va.has(n)){const r=gw(n);return r&&r.default||0}return n=aA.has(n)?n:Ag(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return kw(e,n,r)}build(e,n,r){Dw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){WV(e,n,r,o)}mount(e){this.isSVGTag=Ow(e.tagName),super.mount(e)}}const $V=(t,e)=>Ng(t)?new XV(e):new KV(e,{allowProjection:t!==C.Fragment}),QV=WU({...b3,...jV,...NV,...zV},$V),ZV=_U(QV),Kp=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],JV=6e4,oA=C.createContext({currentIndex:0}),e4=({children:t})=>{const[e,n]=C.useState(0);return C.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%Kp.length)},JV);return()=>clearInterval(r)},[]),P.jsx(oA.Provider,{value:{currentIndex:e},children:t})},sf=()=>{const{currentIndex:t}=C.useContext(oA);return{backgroundElement:P.jsx(_P,{mode:"wait",children:P.jsx(ZV.div,{className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Kp[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}},t)}),currentIndex:t,imageUrl:Kp[t]}},t4=()=>{const t=la(),{backgroundElement:e}=sf();return P.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white",children:[e,P.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md p-10 rounded-2xl max-w-md text-center shadow-xl",children:[P.jsx("h1",{className:"text-4xl font-extrabold text-white mb-4 tracking-wider",children:"夜のチャット"}),P.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"夜裡的話語，從這裡開始。"}),P.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"Speak freely, in a place that listens."}),P.jsx("button",{onClick:()=>t("/login"),className:"bg-[#bfa382] text-white font-bold px-6 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transform transition-all duration-300",children:"はじめる"})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),cE=t=>{const e=i4(t);return e.charAt(0).toUpperCase()+e.slice(1)},lA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),s4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},d)=>C.createElement("svg",{ref:d,...r4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lA("lucide",o),...!u&&!s4(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>C.createElement(m,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=(t,e)=>{const n=C.forwardRef(({className:r,...o},u)=>C.createElement(a4,{ref:u,iconNode:e,className:lA(`lucide-${n4(cE(t))}`,`lucide-${t}`,r),...o}));return n.displayName=cE(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],l4=uA("eye-off",o4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c4=uA("eye",u4),f4=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(""),[o,u]=C.useState(""),[c,h]=C.useState(!1),[d,m]=C.useState(""),[g,y]=C.useState(!1),_=la(),{backgroundElement:S}=sf();C.useRef(null),C.useRef(null),C.useEffect(()=>{r(""),u(""),m("")},[t]);const E=async D=>{D.preventDefault(),m(""),y(!0);try{t?(await UM(Ls,n,o),_("/profile")):(await VM(Ls,n,o),_("/chat"))}catch(R){m(R.message)}finally{y(!1)}},N=async()=>{const D=new si;try{const j=(await oO(Ls,D)).user,L=Jt(),K=Ge(L,`users/${j.uid}`);Ds(K,U=>{U.exists()||zi(K,{nickname:j.displayName||"匿名使用者",avatarUrl:j.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),_("/chat")}catch(R){m(R.message)}};return P.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden",children:[S,P.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl",children:[P.jsxs("div",{className:"flex justify-center space-x-4",children:[P.jsx("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`,children:"Login"}),P.jsx("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`,children:"Sign Up"})]}),P.jsxs("form",{onSubmit:E,className:"space-y-4",children:[P.jsx("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:D=>r(D.target.value),required:!0}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:D=>u(D.target.value),required:!0}),P.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password",children:c?P.jsx(l4,{size:20}):P.jsx(c4,{size:20})})]}),d&&P.jsx("p",{className:"text-red-400 text-sm text-center",children:d}),P.jsx("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]",children:t?"Sign Up":"Login"})]}),P.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition",children:[P.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]}),P.jsxs("p",{className:"text-center text-sm text-white/80",children:[t?"Already have an account?":"Don't have an account?"," ",P.jsx("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition",children:t?"Login":"Sign up"})]})]})]})},h4=({user:t,isFriend:e,onClose:n,onStartChat:r,onAddFriend:o})=>P.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center z-50 p-4",children:P.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-xs flex flex-col items-center",children:[P.jsx("img",{src:t.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-24 h-24 rounded-full object-cover"}),P.jsx("h2",{className:"text-xl font-bold text-white",children:t.nickname}),t.statusMessage&&P.jsx("p",{className:"text-sm italic text-gray-400 text-center px-2",children:t.statusMessage}),e?P.jsx("button",{onClick:r,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 hover:brightness-110 transition",children:"開始聊天"}):P.jsx("button",{onClick:o,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transition-all duration-200",children:"➕ 加好友"}),P.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white mt-4",children:"關閉"})]})});function d4(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const p4="dhtqetylj",m4="Chatroom_Avatars",Ro=(t,e)=>[t,e].sort().join("_"),g4=()=>{const[t,e]=C.useState(""),[n,r]=C.useState([]),[o,u]=C.useState(""),[c,h]=C.useState([]),[d,m]=C.useState([]),[g,y]=C.useState("public"),[_,S]=C.useState(""),[E,N]=C.useState(""),[D,R]=C.useState(""),[j,L]=C.useState("#bfa382"),[K,U]=C.useState(!1),[W,Z]=C.useState(!1),[$,ae]=C.useState(""),[Te,We]=C.useState([]),qe=la(),{backgroundElement:yn}=sf(),Gt=C.useRef(null),[Xe,V]=C.useState([]),[G,ee]=C.useState(!1),[Ae,w]=C.useState([]),[F,Q]=C.useState(""),[X,ie]=C.useState(null),[Ce,le]=C.useState(!1),te=Ls.currentUser;C.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),C.useEffect(()=>{const q=setTimeout(()=>{var he;(he=Gt.current)==null||he.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(q)},[n]),C.useEffect(()=>{if(!te){qe("/login");return}const q=Jt(),he=Ge(q,`users/${te.uid}`);Ds(he,Be=>{const xe=Be.val();xe&&(N(xe.nickname||""),R(xe.avatarUrl||""),L(xe.themeColor||"#bfa382"))});const ve=Ge(q,"users");Ds(ve,Be=>{const xe=Be.val();if(xe){const lt=Object.entries(xe).filter(([st])=>st!==te.uid).map(([st,Mn])=>({uid:st,nickname:Mn.nickname,avatarUrl:Mn.avatarUrl,statusMessage:Mn.statusMessage||""}));h(lt)}});const Ee=Ge(q,"groups");Ds(Ee,Be=>{const xe=Be.val();if(xe){const lt=Object.entries(xe).map(([st,Mn])=>({id:st,name:Mn.name,members:Mn.members}));m(lt)}})},[te,qe]),C.useEffect(()=>{const q=Jt();if(!te)return;let he;if(g==="public")he=Ge(q,"messages/public");else if(_)he=Ge(q,`messages/groups/${_}`);else{const ve=Ro(te.uid,g);he=Ge(q,`messages/private/${ve}`)}Ds(he,ve=>{const Ee=ve.val();if(Ee){const Be=Object.entries(Ee).map(([xe,lt])=>({id:xe,...lt}));r(Be)}else r([])})},[g,_]),C.useEffect(()=>{if(!te)return;const q=Jt(),he=Ge(q,`users/${te.uid}/friends`);Ds(he,ve=>{const Ee=ve.val();V(Ee?Object.keys(Ee):[])})},[te]);const Ve=async()=>{if(!o.trim())return;const q=Jt();if(!te)return;if(g!=="public"&&_===""&&!Xe.includes(g)){alert("你必須先加對方為好友才能私訊喔 🌸");return}const he=Date.now(),ve={text:d4(o),sender:te.uid,nickname:E,avatarUrl:D,timestamp:he};let Ee;if(g==="public")Ee=Ge(q,"messages/public");else if(_)Ee=Ge(q,`messages/groups/${_}`);else{const xe=Ro(te.uid,g);Ee=Ge(q,`messages/private/${xe}`)}const Be=Gu(Ee);await zi(Be,ve),u(""),Notification.permission==="granted"&&te&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:D||"/image/default-avatar.jpg"})},Dn=async q=>{const ve=`https://g.tenor.com/v1/search?q=${q}&key=LIVDSRZULELA&limit=20`,Be=await(await fetch(ve)).json();w(Be.results||[])},_a=q=>{const he=document.getElementById(`msg-${q}`);he&&(he.classList.add("animate-shatter"),setTimeout(()=>{Ks(q)},500))},Ks=async q=>{if(!te)return;const he=Jt();let ve;if(g==="public")ve=Ge(he,`messages/public/${q}`);else if(_)ve=Ge(he,`messages/groups/${_}/${q}`);else{const Ee=Ro(te.uid,g);ve=Ge(he,`messages/private/${Ee}/${q}`)}await zi(ve,null)},ba=async q=>{if(!te)return;const he=Jt(),ve=Date.now(),Ee={text:"",gifUrl:q,sender:te.uid,nickname:E,avatarUrl:D,timestamp:ve};let Be;if(g==="public")Be=Ge(he,"messages/public");else if(_)Be=Ge(he,`messages/groups/${_}`);else{const lt=Ro(te.uid,g);Be=Ge(he,`messages/private/${lt}`)}const xe=Gu(Be);await zi(xe,Ee),ee(!1)},Sa=async q=>{var Ee;const he=(Ee=q.target.files)==null?void 0:Ee[0];if(!he||!te)return;const ve=new FormData;ve.append("file",he),ve.append("upload_preset",m4),ve.append("folder","chat-images");try{const xe=await(await fetch(`https://api.cloudinary.com/v1_1/${p4}/image/upload`,{method:"POST",body:ve})).json(),lt=Jt(),st=Date.now(),Mn={text:"",imageUrl:xe.secure_url,sender:te.uid,nickname:E,avatarUrl:D,timestamp:st};let $s;if(g==="public")$s=Ge(lt,"messages/public");else if(_)$s=Ge(lt,`messages/groups/${_}`);else{const Qs=Ro(te.uid,g);$s=Ge(lt,`messages/private/${Qs}`)}const lf=Gu($s);await zi(lf,Mn)}catch(Be){console.error("上傳圖片失敗:",Be)}},Ws=async q=>{if(!te)return;const he=Jt(),ve=Ge(he,`users/${te.uid}/friends/${q}`),Ee=Ge(he,`users/${q}/friends/${te.uid}`);await zi(ve,!0),await zi(Ee,!0)},rf=()=>{y("public"),S(""),U(!1)},af=q=>{y(q),S(""),U(!1)},tn=q=>{y(""),S(q),U(!1)},of=()=>{qe("/profile"),U(!1)},xl=async()=>{await Ls.signOut(),qe("")},Rl=async()=>{if(!$.trim()||Te.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const q=Jt();if(!te)return;const he=Ge(q,"groups"),ve=Gu(he),Ee={};Te.forEach(Be=>Ee[Be]=!0),Ee[te.uid]=!0,await zi(ve,{name:$,members:Ee}),Z(!1),ae(""),We([])},Xs=q=>new Date(q).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return P.jsxs(P.Fragment,{children:[yn,G&&P.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4",children:P.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md",children:[P.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"搜尋 GIF ✨"}),P.jsx("input",{type:"text",value:F,onChange:q=>Q(q.target.value),placeholder:"輸入關鍵字...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),P.jsx("div",{className:"flex justify-end",children:P.jsx("button",{onClick:()=>Dn(F),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition",children:"搜尋"})}),P.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto",children:Ae.map(q=>P.jsx("img",{src:q.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>ba(q.media[0].tinygif.url)},q.id))}),P.jsx("div",{className:"flex justify-center pt-4",children:P.jsx("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-white",children:"關閉"})})]})}),Ce&&X&&P.jsx(h4,{user:X,isFriend:Xe.includes(X.uid),onStartChat:()=>{y(X.uid),S(""),le(!1)},onAddFriend:()=>Ws(X.uid),onClose:()=>le(!1)}),W&&P.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"創建新群組"}),P.jsx("input",{type:"text",value:$,onChange:q=>ae(q.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),P.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:c.filter(q=>Xe.includes(q.uid)).length===0?P.jsx("div",{className:"text-gray-400 text-center py-4",children:"尚未加任何好友，無法建立群組喔 🌸"}):c.filter(q=>Xe.includes(q.uid)).map(q=>P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("input",{type:"checkbox",value:q.uid,onChange:he=>{he.target.checked?We(ve=>[...ve,q.uid]):We(ve=>ve.filter(Ee=>Ee!==q.uid))}}),P.jsx("span",{children:q.nickname})]},q.uid))}),P.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[P.jsx("button",{onClick:()=>Z(!1),className:"px-4 py-2 rounded-lg bg-gray-600",children:"Cancel"}),P.jsx("button",{onClick:Rl,className:"px-4 py-2 rounded-lg bg-green-600",children:"Create"})]})]})}),P.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[P.jsxs("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${K?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`,children:[P.jsx("button",{onClick:rf,className:"text-lg font-bold hover:underline",style:{color:j},children:"🌎 Public Chat"}),P.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"All Users"}),P.jsx("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto",children:c&&c.map(q=>P.jsxs("div",{className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition",children:[P.jsxs("button",{onClick:()=>af(q.uid),className:"flex items-center space-x-2",children:[P.jsx("img",{src:q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),P.jsx("span",{children:q.nickname})]}),!Xe.includes(q.uid)&&P.jsx("button",{onClick:()=>Ws(q.uid),className:"text-green-400 hover:text-green-300 text-lg",children:"➕"})]},q.uid))}),P.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Groups"}),P.jsx("div",{className:"flex flex-col space-y-2",children:d.filter(q=>q.members[te?te.uid:0]).map(q=>P.jsxs("button",{onClick:()=>tn(q.id),className:"hover:bg-white/10 p-2 rounded transition",children:["🧑‍🤝‍🧑 ",q.name]},q.id))}),P.jsx("button",{onClick:()=>Z(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition",children:"➕ Create Group"}),P.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-white/20",children:[P.jsx("button",{onClick:()=>qe("/"),className:"text-sm hover:underline",style:{color:j},children:"🏠"}),P.jsx("button",{onClick:of,className:"text-sm hover:underline",style:{color:j},children:"Profile"}),P.jsx("button",{onClick:xl,className:"text-sm text-red-400 hover:underline",children:"Logout"})]})]}),P.jsxs("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner",children:[P.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[P.jsx("div",{className:"p-4",children:P.jsx("input",{type:"text",placeholder:"搜尋訊息 🔍",value:t,onChange:q=>e(q.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})}),n.filter(q=>{var Ee;if(!t.trim())return!0;const he=t.toLowerCase();return(Ee=q.text)==null?void 0:Ee.toLowerCase().includes(he)}).length===0?P.jsx("div",{className:"text-center text-gray-400 mt-10",children:"沒有找到相關訊息喔 🌸"}):n.filter(q=>{var Ee;if(!t.trim())return!0;const he=t.toLowerCase();return(Ee=q.text)==null?void 0:Ee.toLowerCase().includes(he)}).map(q=>P.jsx("div",{id:`msg-${q.id}`,className:`flex ${q.sender===(te==null?void 0:te.uid)?"justify-end":"justify-start"} fade-in`,children:P.jsxs("div",{className:"flex items-end space-x-2",children:[q.sender!==(te==null?void 0:te.uid)&&P.jsx("img",{src:q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onClick:()=>{const he=c.find(ve=>ve.uid===q.sender);he&&(ie(he),le(!0))}}),P.jsxs("div",{className:"flex flex-col items-start max-w-xs",children:[q.sender===(te==null?void 0:te.uid)&&P.jsx("button",{onClick:()=>_a(q.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"收回訊息",children:"↩️"}),P.jsxs("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:q.sender===(te==null?void 0:te.uid)?j:"#d1d5db",color:q.sender===(te==null?void 0:te.uid)?"white":"black"},children:[q.text&&P.jsx("span",{children:q.text}),q.imageUrl&&P.jsx("img",{src:q.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(q.imageUrl,"_blank")}),q.gifUrl&&P.jsx("img",{src:q.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(q.gifUrl,"_blank")})]}),P.jsx("span",{className:"text-xs text-gray-400 mt-1 ml-2",children:Xs(q.timestamp)})]}),q.sender===(te==null?void 0:te.uid)&&P.jsx("img",{src:q.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})]})})),P.jsx("div",{ref:Gt})]}),P.jsxs("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2",children:[P.jsx("input",{type:"text",value:o,onChange:q=>u(q.target.value),onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),Ve())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),P.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:Sa}),P.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:j},children:"🖼️"}),P.jsx("button",{onClick:()=>ee(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:j},children:"🔎"}),P.jsx("button",{onClick:Ve,style:{backgroundColor:j},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",children:"Send"})]})]})]})]})},tp=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],y4=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(null),[o,u]=C.useState(""),[c,h]=C.useState(tp[2].color),[d,m]=C.useState(""),[g,y]=C.useState(!0),_=la(),S="dhtqetylj",E="Chatroom_Avatars",N=Ls.currentUser,D=C.useRef(null),{backgroundElement:R}=sf();C.useEffect(()=>{if(!N){_("/login");return}const U=Jt(),W=Ge(U,`users/${N.uid}`);Ds(W,Z=>{const $=Z.val();$&&(e($.nickname||""),m($.statusMessage||""),u($.avatarUrl||""),h($.themeColor||tp[2].color)),y(!1)})},[N,_]);async function j(U){const W=new FormData;return W.append("file",U),W.append("upload_preset",E),W.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${S}/image/upload`,{method:"POST",body:W})).json()).secure_url}const L=async()=>{if(!N)return;const U=Jt(),W=Ge(U,`users/${N.uid}`);let Z=o;n&&(Z=await j(n)),await iP(W,{nickname:t,statusMessage:d,themeColor:c,avatarUrl:Z}),_("/chat")},K=U=>{var Z;const W=(Z=U.target.files)==null?void 0:Z[0];W&&(r(W),u(URL.createObjectURL(W)))};return g?P.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading Profile..."}):P.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4",children:[R,P.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center",children:[P.jsx("h1",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Update Your Profile"}),P.jsxs("div",{className:"relative",children:[P.jsx("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var U;return(U=D.current)==null?void 0:U.click()}}),P.jsx("input",{type:"file",accept:"image/*",ref:D,onChange:K,className:"hidden"})]}),P.jsx("input",{type:"text",value:t,onChange:U=>e(U.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),P.jsx("input",{type:"text",value:d,onChange:U=>m(U.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),P.jsx("div",{className:"flex space-x-3 justify-center",children:tp.map(U=>P.jsx("button",{type:"button",onClick:()=>h(U.color),style:{backgroundColor:U.color},className:`w-8 h-8 rounded-full border-2 ${c===U.color?"border-white":"border-transparent"} transition-all`},U.color))}),P.jsx("button",{onClick:L,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c},children:"Save"})]})]})};function v4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const o=zM(Ls,u=>{e(u),r(!1)});return()=>o()},[]),n?P.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading..."}):P.jsx(W1,{children:P.jsxs(C1,{children:[P.jsx(No,{path:"/",element:P.jsx(t4,{})}),P.jsx(No,{path:"/login",element:t?P.jsx(xd,{to:"/chat"}):P.jsx(f4,{})}),P.jsx(No,{path:"/chat",element:t?P.jsx(g4,{}):P.jsx(xd,{to:"/login"})}),P.jsx(No,{path:"/profile",element:t?P.jsx(y4,{}):P.jsx(xd,{to:"/login"})})]})})}kR.createRoot(document.getElementById("root")).render(P.jsx(AR.StrictMode,{children:P.jsx(e4,{children:P.jsx(v4,{})})}));
