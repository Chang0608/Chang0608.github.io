(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function nu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vp={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function DN(){if(cx)return al;cx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return al.Fragment=e,al.jsx=n,al.jsxs=n,al}var fx;function ON(){return fx||(fx=1,vp.exports=DN()),vp.exports}var C=ON(),_p={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function MN(){if(hx)return Ie;hx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=g&&b[g]||b["@@iterator"],typeof b=="function"?b:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function R(b,V,$){this.props=b,this.context=V,this.refs=w,this.updater=$||_}R.prototype.isReactComponent={},R.prototype.setState=function(b,V){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,V,"setState")},R.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function T(){}T.prototype=R.prototype;function k(b,V,$){this.props=b,this.context=V,this.refs=w,this.updater=$||_}var N=k.prototype=new T;N.constructor=k,S(N,R.prototype),N.isPureReactComponent=!0;var K=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function H(b,V,$,A,L,Ae){return $=Ae.ref,{$$typeof:t,type:b,key:V,ref:$!==void 0?$:null,props:Ae}}function G(b,V){return H(b.type,V,void 0,void 0,void 0,b.props)}function Z(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function ie(b){var V={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function($){return V[$]})}var W=/\/+/g;function J(b,V){return typeof b=="object"&&b!==null&&b.key!=null?ie(""+b.key):V.toString(36)}function ce(){}function ae(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ce,ce):(b.status="pending",b.then(function(V){b.status==="pending"&&(b.status="fulfilled",b.value=V)},function(V){b.status==="pending"&&(b.status="rejected",b.reason=V)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function oe(b,V,$,A,L){var Ae=typeof b;(Ae==="undefined"||Ae==="boolean")&&(b=null);var Q=!1;if(b===null)Q=!0;else switch(Ae){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(b.$$typeof){case t:case e:Q=!0;break;case p:return Q=b._init,oe(Q(b._payload),V,$,A,L)}}if(Q)return L=L(b),Q=A===""?"."+J(b,0):A,K(L)?($="",Q!=null&&($=Q.replace(W,"$&/")+"/"),oe(L,V,$,"",function(Ve){return Ve})):L!=null&&(Z(L)&&(L=G(L,$+(L.key==null||b&&b.key===L.key?"":(""+L.key).replace(W,"$&/")+"/")+Q)),V.push(L)),1;Q=0;var le=A===""?".":A+":";if(K(b))for(var ve=0;ve<b.length;ve++)A=b[ve],Ae=le+J(A,ve),Q+=oe(A,V,$,Ae,L);else if(ve=v(b),typeof ve=="function")for(b=ve.call(b),ve=0;!(A=b.next()).done;)A=A.value,Ae=le+J(A,ve++),Q+=oe(A,V,$,Ae,L);else if(Ae==="object"){if(typeof b.then=="function")return oe(ae(b),V,$,A,L);throw V=String(b),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Q}function j(b,V,$){if(b==null)return b;var A=[],L=0;return oe(b,A,"","",function(Ae){return V.call($,Ae,L++)}),A}function te(b){if(b._status===-1){var V=b._result;V=V(),V.then(function($){(b._status===0||b._status===-1)&&(b._status=1,b._result=$)},function($){(b._status===0||b._status===-1)&&(b._status=2,b._result=$)}),b._status===-1&&(b._status=0,b._result=V)}if(b._status===1)return b._result.default;throw b._result}var de=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function fe(){}return Ie.Children={map:j,forEach:function(b,V,$){j(b,function(){V.apply(this,arguments)},$)},count:function(b){var V=0;return j(b,function(){V++}),V},toArray:function(b){return j(b,function(V){return V})||[]},only:function(b){if(!Z(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ie.Component=R,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=k,Ie.StrictMode=i,Ie.Suspense=d,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(b){return M.H.useMemoCache(b)}},Ie.cache=function(b){return function(){return b.apply(null,arguments)}},Ie.cloneElement=function(b,V,$){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var A=S({},b.props),L=b.key,Ae=void 0;if(V!=null)for(Q in V.ref!==void 0&&(Ae=void 0),V.key!==void 0&&(L=""+V.key),V)!I.call(V,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&V.ref===void 0||(A[Q]=V[Q]);var Q=arguments.length-2;if(Q===1)A.children=$;else if(1<Q){for(var le=Array(Q),ve=0;ve<Q;ve++)le[ve]=arguments[ve+2];A.children=le}return H(b.type,L,void 0,void 0,Ae,A)},Ie.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:l,_context:b},b},Ie.createElement=function(b,V,$){var A,L={},Ae=null;if(V!=null)for(A in V.key!==void 0&&(Ae=""+V.key),V)I.call(V,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(L[A]=V[A]);var Q=arguments.length-2;if(Q===1)L.children=$;else if(1<Q){for(var le=Array(Q),ve=0;ve<Q;ve++)le[ve]=arguments[ve+2];L.children=le}if(b&&b.defaultProps)for(A in Q=b.defaultProps,Q)L[A]===void 0&&(L[A]=Q[A]);return H(b,Ae,void 0,void 0,null,L)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(b){return{$$typeof:f,render:b}},Ie.isValidElement=Z,Ie.lazy=function(b){return{$$typeof:p,_payload:{_status:-1,_result:b},_init:te}},Ie.memo=function(b,V){return{$$typeof:h,type:b,compare:V===void 0?null:V}},Ie.startTransition=function(b){var V=M.T,$={};M.T=$;try{var A=b(),L=M.S;L!==null&&L($,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(fe,de)}catch(Ae){de(Ae)}finally{M.T=V}},Ie.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ie.use=function(b){return M.H.use(b)},Ie.useActionState=function(b,V,$){return M.H.useActionState(b,V,$)},Ie.useCallback=function(b,V){return M.H.useCallback(b,V)},Ie.useContext=function(b){return M.H.useContext(b)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(b,V){return M.H.useDeferredValue(b,V)},Ie.useEffect=function(b,V,$){var A=M.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(b,V)},Ie.useId=function(){return M.H.useId()},Ie.useImperativeHandle=function(b,V,$){return M.H.useImperativeHandle(b,V,$)},Ie.useInsertionEffect=function(b,V){return M.H.useInsertionEffect(b,V)},Ie.useLayoutEffect=function(b,V){return M.H.useLayoutEffect(b,V)},Ie.useMemo=function(b,V){return M.H.useMemo(b,V)},Ie.useOptimistic=function(b,V){return M.H.useOptimistic(b,V)},Ie.useReducer=function(b,V,$){return M.H.useReducer(b,V,$)},Ie.useRef=function(b){return M.H.useRef(b)},Ie.useState=function(b){return M.H.useState(b)},Ie.useSyncExternalStore=function(b,V,$){return M.H.useSyncExternalStore(b,V,$)},Ie.useTransition=function(){return M.H.useTransition()},Ie.version="19.1.1",Ie}var dx;function Pf(){return dx||(dx=1,_p.exports=MN()),_p.exports}var O=Pf();const PN=nu(O);var bp={exports:{}},ol={},xp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function LN(){return px||(px=1,function(t){function e(j,te){var de=j.length;j.push(te);e:for(;0<de;){var fe=de-1>>>1,b=j[fe];if(0<a(b,te))j[fe]=te,j[de]=b,de=fe;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var te=j[0],de=j.pop();if(de!==te){j[0]=de;e:for(var fe=0,b=j.length,V=b>>>1;fe<V;){var $=2*(fe+1)-1,A=j[$],L=$+1,Ae=j[L];if(0>a(A,de))L<b&&0>a(Ae,A)?(j[fe]=Ae,j[L]=de,fe=L):(j[fe]=A,j[$]=de,fe=$);else if(L<b&&0>a(Ae,de))j[fe]=Ae,j[L]=de,fe=L;else break e}}return te}function a(j,te){var de=j.sortIndex-te.sortIndex;return de!==0?de:j.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],h=[],p=1,g=null,v=3,_=!1,S=!1,w=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(j){for(var te=n(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=j)i(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(h)}}function M(j){if(w=!1,K(j),!S)if(n(d)!==null)S=!0,I||(I=!0,J());else{var te=n(h);te!==null&&oe(M,te.startTime-j)}}var I=!1,H=-1,G=5,Z=-1;function ie(){return R?!0:!(t.unstable_now()-Z<G)}function W(){if(R=!1,I){var j=t.unstable_now();Z=j;var te=!0;try{e:{S=!1,w&&(w=!1,k(H),H=-1),_=!0;var de=v;try{t:{for(K(j),g=n(d);g!==null&&!(g.expirationTime>j&&ie());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var b=fe(g.expirationTime<=j);if(j=t.unstable_now(),typeof b=="function"){g.callback=b,K(j),te=!0;break t}g===n(d)&&i(d),K(j)}else i(d);g=n(d)}if(g!==null)te=!0;else{var V=n(h);V!==null&&oe(M,V.startTime-j),te=!1}}break e}finally{g=null,v=de,_=!1}te=void 0}}finally{te?J():I=!1}}}var J;if(typeof N=="function")J=function(){N(W)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ae=ce.port2;ce.port1.onmessage=W,J=function(){ae.postMessage(null)}}else J=function(){T(W,0)};function oe(j,te){H=T(function(){j(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var de=v;v=te;try{return j()}finally{v=de}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(j,te){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var de=v;v=j;try{return te()}finally{v=de}},t.unstable_scheduleCallback=function(j,te,de){var fe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?fe+de:fe):de=fe,j){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=de+b,j={id:p++,callback:te,priorityLevel:j,startTime:de,expirationTime:b,sortIndex:-1},de>fe?(j.sortIndex=de,e(h,j),n(d)===null&&j===n(h)&&(w?(k(H),H=-1):w=!0,oe(M,de-fe))):(j.sortIndex=b,e(d,j),S||_||(S=!0,I||(I=!0,J()))),j},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(j){var te=v;return function(){var de=v;v=te;try{return j.apply(this,arguments)}finally{v=de}}}}(Sp)),Sp}var mx;function jN(){return mx||(mx=1,xp.exports=LN()),xp.exports}var wp={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function UN(){if(gx)return Wt;gx=1;var t=Pf();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wt.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(d,h,null,p)},Wt.flushSync=function(d){var h=u.T,p=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=h,i.p=p,i.d.f()}},Wt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Wt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Wt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=f(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&i.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=f(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Wt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=f(p,h.crossOrigin);i.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wt.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=f(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Wt.requestFormReset=function(d){i.d.r(d)},Wt.unstable_batchedUpdates=function(d,h){return d(h)},Wt.useFormState=function(d,h,p){return u.H.useFormState(d,h,p)},Wt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var yx;function zN(){if(yx)return wp.exports;yx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wp.exports=UN(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function BN(){if(vx)return ol;vx=1;var t=jN(),e=Pf(),n=zN();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),r;if(y===c)return f(m),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=y;else{for(var x=!1,E=m.child;E;){if(E===o){x=!0,o=m,c=y;break}if(E===c){x=!0,c=m,o=y;break}E=E.sibling}if(!x){for(E=y.child;E;){if(E===o){x=!0,o=y,c=m;break}if(E===c){x=!0,c=y,o=m;break}E=E.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function h(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=h(r),s!==null)return s;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ce?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case R:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case N:return(r.displayName||"Context")+".Provider";case k:return(r._context.displayName||"Context")+".Consumer";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:ae(r.type)||"Memo";case G:s=r._payload,r=r._init;try{return ae(r(s))}catch{}}return null}var oe=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],b=-1;function V(r){return{current:r}}function $(r){0>b||(r.current=fe[b],fe[b]=null,b--)}function A(r,s){b++,fe[b]=r.current,r.current=s}var L=V(null),Ae=V(null),Q=V(null),le=V(null);function ve(r,s){switch(A(Q,s),A(Ae,r),A(L,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Ub(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Ub(s),r=zb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$(L),A(L,r)}function Ve(){$(L),$(Ae),$(Q)}function je(r){r.memoizedState!==null&&A(le,r);var s=L.current,o=zb(s,r.type);s!==o&&(A(Ae,r),A(L,o))}function ot(r){Ae.current===r&&($(L),$(Ae)),le.current===r&&($(le),tl._currentValue=de)}var tn=Object.prototype.hasOwnProperty,gn=t.unstable_scheduleCallback,nn=t.unstable_cancelCallback,wi=t.unstable_shouldYield,kn=t.unstable_requestPaint,Ut=t.unstable_now,tr=t.unstable_getCurrentPriorityLevel,Ei=t.unstable_ImmediatePriority,Ti=t.unstable_UserBlockingPriority,Yn=t.unstable_NormalPriority,se=t.unstable_LowPriority,_e=t.unstable_IdlePriority,Ne=t.log,Re=t.unstable_setDisableYieldValue,q=null,ne=null;function pe(r){if(typeof Ne=="function"&&Re(r),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(q,r)}catch{}}var ge=Math.clz32?Math.clz32:Gt,ke=Math.log,xt=Math.LN2;function Gt(r){return r>>>=0,r===0?32:31-(ke(r)/xt|0)|0}var Rt=256,li=4194304;function yn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function kt(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,y=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var E=c&134217727;return E!==0?(c=E&~y,c!==0?m=yn(c):(x&=E,x!==0?m=yn(x):o||(o=E&~r,o!==0&&(m=yn(o))))):(E=c&~y,E!==0?m=yn(E):x!==0?m=yn(x):o||(o=c&~r,o!==0&&(m=yn(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function Nn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Kn(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xv(){var r=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),r}function Sv(){var r=li;return li<<=1,(li&62914560)===0&&(li=4194304),r}function oh(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function co(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bR(r,s,o,c,m,y){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var E=r.entanglements,D=r.expirationTimes,B=r.hiddenUpdates;for(o=x&~o;0<o;){var X=31-ge(o),re=1<<X;E[X]=0,D[X]=-1;var F=B[X];if(F!==null)for(B[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}o&=~re}c!==0&&wv(r,c,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(x&~s))}function wv(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-ge(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function Ev(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-ge(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function lh(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function uh(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Tv(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:rx(r.type))}function xR(r,s){var o=te.p;try{return te.p=r,s()}finally{te.p=o}}var nr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+nr,rn="__reactProps$"+nr,Ls="__reactContainer$"+nr,ch="__reactEvents$"+nr,SR="__reactListeners$"+nr,wR="__reactHandles$"+nr,Cv="__reactResources$"+nr,fo="__reactMarker$"+nr;function fh(r){delete r[Yt],delete r[rn],delete r[ch],delete r[SR],delete r[wR]}function js(r){var s=r[Yt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ls]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Fb(r);r!==null;){if(o=r[Yt])return o;r=Fb(r)}return s}r=o,o=r.parentNode}return null}function Us(r){if(r=r[Yt]||r[Ls]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function ho(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function zs(r){var s=r[Cv];return s||(s=r[Cv]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(r){r[fo]=!0}var Av=new Set,Rv={};function Xr(r,s){Bs(r,s),Bs(r+"Capture",s)}function Bs(r,s){for(Rv[r]=s,r=0;r<s.length;r++)Av.add(s[r])}var ER=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kv={},Nv={};function TR(r){return tn.call(Nv,r)?!0:tn.call(kv,r)?!1:ER.test(r)?Nv[r]=!0:(kv[r]=!0,!1)}function Su(r,s,o){if(TR(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function wu(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ci(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var hh,Iv;function Vs(r){if(hh===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);hh=s&&s[1]||"",Iv=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hh+r+Iv}var dh=!1;function ph(r,s){if(!r||dh)return"";dh=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var F=Y}Reflect.construct(r,[],re)}else{try{re.call()}catch(Y){F=Y}r.call(re.prototype)}}else{try{throw Error()}catch(Y){F=Y}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),x=y[0],E=y[1];if(x&&E){var D=x.split(`
`),B=E.split(`
`);for(m=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(c===D.length||m===B.length)for(c=D.length-1,m=B.length-1;1<=c&&0<=m&&D[c]!==B[m];)m--;for(;1<=c&&0<=m;c--,m--)if(D[c]!==B[m]){if(c!==1||m!==1)do if(c--,m--,0>m||D[c]!==B[m]){var X=`
`+D[c].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=c&&0<=m);break}}}finally{dh=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Vs(o):""}function CR(r){switch(r.tag){case 26:case 27:case 5:return Vs(r.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 15:return ph(r.type,!1);case 11:return ph(r.type.render,!1);case 1:return ph(r.type,!0);case 31:return Vs("Activity");default:return""}}function Dv(r){try{var s="";do s+=CR(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function In(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ov(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function AR(r){var s=Ov(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Eu(r){r._valueTracker||(r._valueTracker=AR(r))}function Mv(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ov(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Tu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var RR=/[\n"\\]/g;function Dn(r){return r.replace(RR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mh(r,s,o,c,m,y,x,E){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+In(s)):r.value!==""+In(s)&&(r.value=""+In(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?gh(r,x,In(s)):o!=null?gh(r,x,In(o)):c!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+In(E):r.removeAttribute("name")}function Pv(r,s,o,c,m,y,x,E){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+In(o):"",s=s!=null?""+In(s):o,E||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=E?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function gh(r,s,o){s==="number"&&Tu(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Hs(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+In(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function Lv(r,s,o){if(s!=null&&(s=""+In(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+In(o):""}function jv(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(oe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=In(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Fs(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var kR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uv(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||kR.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function zv(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Uv(r,m,c)}else for(var y in s)s.hasOwnProperty(y)&&Uv(r,y,s[y])}function yh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cu(r){return IR.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vh=null;function _h(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qs=null,Gs=null;function Bv(r){var s=Us(r);if(s&&(r=s.stateNode)){var o=r[rn]||null;e:switch(r=s.stateNode,s.type){case"input":if(mh(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[rn]||null;if(!m)throw Error(i(90));mh(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Mv(c)}break e;case"textarea":Lv(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Hs(r,!!o.multiple,s,!1)}}}var bh=!1;function Vv(r,s,o){if(bh)return r(s,o);bh=!0;try{var c=r(s);return c}finally{if(bh=!1,(qs!==null||Gs!==null)&&(fc(),qs&&(s=qs,r=Gs,Gs=qs=null,Bv(s),r)))for(s=0;s<r.length;s++)Bv(r[s])}}function po(r,s){var o=r.stateNode;if(o===null)return null;var c=o[rn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=!1;if(Ai)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){xh=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{xh=!1}var ir=null,Sh=null,Au=null;function Hv(){if(Au)return Au;var r,s=Sh,o=s.length,c,m="value"in ir?ir.value:ir.textContent,y=m.length;for(r=0;r<o&&s[r]===m[r];r++);var x=o-r;for(c=1;c<=x&&s[o-c]===m[y-c];c++);return Au=m.slice(r,1<c?1-c:void 0)}function Ru(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ku(){return!0}function Fv(){return!1}function sn(r){function s(o,c,m,y,x){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(o=r[E],this[E]=o?o(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ku:Fv,this.isPropagationStopped=Fv,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),s}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=sn(Qr),go=p({},Qr,{view:0,detail:0}),DR=sn(go),wh,Eh,yo,Iu=p({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yo&&(yo&&r.type==="mousemove"?(wh=r.screenX-yo.screenX,Eh=r.screenY-yo.screenY):Eh=wh=0,yo=r),wh)},movementY:function(r){return"movementY"in r?r.movementY:Eh}}),qv=sn(Iu),OR=p({},Iu,{dataTransfer:0}),MR=sn(OR),PR=p({},go,{relatedTarget:0}),Th=sn(PR),LR=p({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),jR=sn(LR),UR=p({},Qr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zR=sn(UR),BR=p({},Qr,{data:0}),Gv=sn(BR),VR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qR(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=FR[r])?!!s[r]:!1}function Ch(){return qR}var GR=p({},go,{key:function(r){if(r.key){var s=VR[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ru(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?HR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(r){return r.type==="keypress"?Ru(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ru(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),YR=sn(GR),KR=p({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yv=sn(KR),WR=p({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),$R=sn(WR),XR=p({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),QR=sn(XR),ZR=p({},Iu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),JR=sn(ZR),ek=p({},Qr,{newState:0,oldState:0}),tk=sn(ek),nk=[9,13,27,32],Ah=Ai&&"CompositionEvent"in window,vo=null;Ai&&"documentMode"in document&&(vo=document.documentMode);var ik=Ai&&"TextEvent"in window&&!vo,Kv=Ai&&(!Ah||vo&&8<vo&&11>=vo),Wv=" ",$v=!1;function Xv(r,s){switch(r){case"keyup":return nk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qv(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ys=!1;function rk(r,s){switch(r){case"compositionend":return Qv(s);case"keypress":return s.which!==32?null:($v=!0,Wv);case"textInput":return r=s.data,r===Wv&&$v?null:r;default:return null}}function sk(r,s){if(Ys)return r==="compositionend"||!Ah&&Xv(r,s)?(r=Hv(),Au=Sh=ir=null,Ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Kv&&s.locale!=="ko"?null:s.data;default:return null}}var ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ak[r.type]:s==="textarea"}function Jv(r,s,o,c){qs?Gs?Gs.push(c):Gs=[c]:qs=c,s=yc(s,"onChange"),0<s.length&&(o=new Nu("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var _o=null,bo=null;function ok(r){Ob(r,0)}function Du(r){var s=ho(r);if(Mv(s))return r}function e_(r,s){if(r==="change")return s}var t_=!1;if(Ai){var Rh;if(Ai){var kh="oninput"in document;if(!kh){var n_=document.createElement("div");n_.setAttribute("oninput","return;"),kh=typeof n_.oninput=="function"}Rh=kh}else Rh=!1;t_=Rh&&(!document.documentMode||9<document.documentMode)}function i_(){_o&&(_o.detachEvent("onpropertychange",r_),bo=_o=null)}function r_(r){if(r.propertyName==="value"&&Du(bo)){var s=[];Jv(s,bo,r,_h(r)),Vv(ok,s)}}function lk(r,s,o){r==="focusin"?(i_(),_o=s,bo=o,_o.attachEvent("onpropertychange",r_)):r==="focusout"&&i_()}function uk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Du(bo)}function ck(r,s){if(r==="click")return Du(s)}function fk(r,s){if(r==="input"||r==="change")return Du(s)}function hk(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vn=typeof Object.is=="function"?Object.is:hk;function xo(r,s){if(vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!tn.call(s,m)||!vn(r[m],s[m]))return!1}return!0}function s_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function a_(r,s){var o=s_(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=s_(o)}}function o_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?o_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function l_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Tu(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Tu(r.document)}return s}function Nh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var dk=Ai&&"documentMode"in document&&11>=document.documentMode,Ks=null,Ih=null,So=null,Dh=!1;function u_(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Dh||Ks==null||Ks!==Tu(c)||(c=Ks,"selectionStart"in c&&Nh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),So&&xo(So,c)||(So=c,c=yc(Ih,"onSelect"),0<c.length&&(s=new Nu("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Ks)))}function Zr(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ws={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Oh={},c_={};Ai&&(c_=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Jr(r){if(Oh[r])return Oh[r];if(!Ws[r])return r;var s=Ws[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in c_)return Oh[r]=s[o];return r}var f_=Jr("animationend"),h_=Jr("animationiteration"),d_=Jr("animationstart"),pk=Jr("transitionrun"),mk=Jr("transitionstart"),gk=Jr("transitioncancel"),p_=Jr("transitionend"),m_=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Wn(r,s){m_.set(r,s),Xr(s,[r])}var g_=new WeakMap;function On(r,s){if(typeof r=="object"&&r!==null){var o=g_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Dv(s)},g_.set(r,s),s)}return{value:r,source:s,stack:Dv(s)}}var Mn=[],$s=0,Ph=0;function Ou(){for(var r=$s,s=Ph=$s=0;s<r;){var o=Mn[s];Mn[s++]=null;var c=Mn[s];Mn[s++]=null;var m=Mn[s];Mn[s++]=null;var y=Mn[s];if(Mn[s++]=null,c!==null&&m!==null){var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}y!==0&&y_(o,m,y)}}function Mu(r,s,o,c){Mn[$s++]=r,Mn[$s++]=s,Mn[$s++]=o,Mn[$s++]=c,Ph|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Lh(r,s,o,c){return Mu(r,s,o,c),Pu(r)}function Xs(r,s){return Mu(r,null,null,s),Pu(r)}function y_(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&s!==null&&(m=31-ge(o),r=y.hiddenUpdates,c=r[m],c===null?r[m]=[s]:c.push(s),s.lane=o|536870912),y):null}function Pu(r){if(50<Ko)throw Ko=0,Hd=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Qs={};function yk(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(r,s,o,c){return new yk(r,s,o,c)}function jh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ri(r,s){var o=r.alternate;return o===null?(o=_n(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function v_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Lu(r,s,o,c,m,y){var x=0;if(c=r,typeof r=="function")jh(r)&&(x=1);else if(typeof r=="string")x=_N(r,o,L.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=_n(31,o,s,m),r.elementType=Z,r.lanes=y,r;case S:return es(o.children,m,y,s);case w:x=8,m|=24;break;case R:return r=_n(12,o,s,m|2),r.elementType=R,r.lanes=y,r;case M:return r=_n(13,o,s,m),r.elementType=M,r.lanes=y,r;case I:return r=_n(19,o,s,m),r.elementType=I,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case N:x=10;break e;case k:x=9;break e;case K:x=11;break e;case H:x=14;break e;case G:x=16,c=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=_n(x,o,s,m),s.elementType=r,s.type=c,s.lanes=y,s}function es(r,s,o,c){return r=_n(7,r,c,s),r.lanes=o,r}function Uh(r,s,o){return r=_n(6,r,null,s),r.lanes=o,r}function zh(r,s,o){return s=_n(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Zs=[],Js=0,ju=null,Uu=0,Pn=[],Ln=0,ts=null,ki=1,Ni="";function ns(r,s){Zs[Js++]=Uu,Zs[Js++]=ju,ju=r,Uu=s}function __(r,s,o){Pn[Ln++]=ki,Pn[Ln++]=Ni,Pn[Ln++]=ts,ts=r;var c=ki;r=Ni;var m=32-ge(c)-1;c&=~(1<<m),o+=1;var y=32-ge(s)+m;if(30<y){var x=m-m%5;y=(c&(1<<x)-1).toString(32),c>>=x,m-=x,ki=1<<32-ge(s)+m|o<<m|c,Ni=y+r}else ki=1<<y|o<<m|c,Ni=r}function Bh(r){r.return!==null&&(ns(r,1),__(r,1,0))}function Vh(r){for(;r===ju;)ju=Zs[--Js],Zs[Js]=null,Uu=Zs[--Js],Zs[Js]=null;for(;r===ts;)ts=Pn[--Ln],Pn[Ln]=null,Ni=Pn[--Ln],Pn[Ln]=null,ki=Pn[--Ln],Pn[Ln]=null}var Qt=null,dt=null,qe=!1,is=null,ui=!1,Hh=Error(i(519));function rs(r){var s=Error(i(418,""));throw To(On(s,r)),Hh}function b_(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Yt]=r,s[rn]=c,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<$o.length;o++)ze($o[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Pv(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Eu(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),jv(s,c.value,c.defaultValue,c.children),Eu(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||jb(s.textContent,o)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=vc),s=!0):s=!1,s||rs(r)}function x_(r){for(Qt=r.return;Qt;)switch(Qt.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Qt=Qt.return}}function wo(r){if(r!==Qt)return!1;if(!qe)return x_(r),qe=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||rp(r.type,r.memoizedProps)),o=!o),o&&dt&&rs(r),x_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){dt=Xn(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}dt=null}}else s===27?(s=dt,_r(r.type)?(r=lp,lp=null,dt=r):dt=s):dt=Qt?Xn(r.stateNode.nextSibling):null;return!0}function Eo(){dt=Qt=null,qe=!1}function S_(){var r=is;return r!==null&&(ln===null?ln=r:ln.push.apply(ln,r),is=null),r}function To(r){is===null?is=[r]:is.push(r)}var Fh=V(null),ss=null,Ii=null;function rr(r,s,o){A(Fh,s._currentValue),s._currentValue=o}function Di(r){r._currentValue=Fh.current,$(Fh)}function qh(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Gh(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var E=y;y=m;for(var D=0;D<s.length;D++)if(E.context===s[D]){y.lanes|=o,E=y.alternate,E!==null&&(E.lanes|=o),qh(y.return,o,r),c||(x=null);break e}y=E.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=o,y=x.alternate,y!==null&&(y.lanes|=o),qh(x,o,r),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===r){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Co(r,s,o,c){r=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var E=m.type;vn(m.pendingProps.value,x.value)||(r!==null?r.push(E):r=[E])}}else if(m===le.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(tl):r=[tl])}m=m.return}r!==null&&Gh(s,r,o,c),s.flags|=262144}function zu(r){for(r=r.firstContext;r!==null;){if(!vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function as(r){ss=r,Ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Kt(r){return w_(ss,r)}function Bu(r,s){return ss===null&&as(r),w_(r,s)}function w_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ii===null){if(r===null)throw Error(i(308));Ii=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ii=Ii.next=s;return o}var vk=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},_k=t.unstable_scheduleCallback,bk=t.unstable_NormalPriority,Ct={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new vk,data:new Map,refCount:0}}function Ao(r){r.refCount--,r.refCount===0&&_k(bk,function(){r.controller.abort()})}var Ro=null,Kh=0,ea=0,ta=null;function xk(r,s){if(Ro===null){var o=Ro=[];Kh=0,ea=$d(),ta={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Kh++,s.then(E_,E_),s}function E_(){if(--Kh===0&&Ro!==null){ta!==null&&(ta.status="fulfilled");var r=Ro;Ro=null,ea=0,ta=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Sk(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var T_=j.S;j.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xk(r,s),T_!==null&&T_(r,s)};var os=V(null);function Wh(){var r=os.current;return r!==null?r:tt.pooledCache}function Vu(r,s){s===null?A(os,os.current):A(os,s.pool)}function C_(){var r=Wh();return r===null?null:{parent:Ct._currentValue,pool:r}}var ko=Error(i(460)),A_=Error(i(474)),Hu=Error(i(542)),$h={then:function(){}};function R_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fu(){}function k_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Fu,Fu),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I_(r),r;default:if(typeof s.status=="string")s.then(Fu,Fu);else{if(r=tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I_(r),r}throw No=s,ko}}var No=null;function N_(){if(No===null)throw Error(i(459));var r=No;return No=null,r}function I_(r){if(r===ko||r===Hu)throw Error(i(483))}var sr=!1;function Xh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ar(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function or(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Pu(r),y_(r,null,o),s}return Mu(r,c,s,o),Pu(r)}function Io(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Ev(r,o)}}function Zh(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Jh=!1;function Do(){if(Jh){var r=ta;if(r!==null)throw r}}function Oo(r,s,o,c){Jh=!1;var m=r.updateQueue;sr=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var D=E,B=D.next;D.next=null,x===null?y=B:x.next=B,x=D;var X=r.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==x&&(E===null?X.firstBaseUpdate=B:E.next=B,X.lastBaseUpdate=D))}if(y!==null){var re=m.baseState;x=0,X=B=D=null,E=y;do{var F=E.lane&-536870913,Y=F!==E.lane;if(Y?(He&F)===F:(c&F)===F){F!==0&&F===ea&&(Jh=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var we=r,be=E;F=s;var Qe=o;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){re=we.call(Qe,re,F);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,F=typeof we=="function"?we.call(Qe,re,F):we,F==null)break e;re=p({},re,F);break e;case 2:sr=!0}}F=E.callback,F!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(B=X=Y,D=re):X=X.next=Y,x|=F;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);X===null&&(D=re),m.baseState=D,m.firstBaseUpdate=B,m.lastBaseUpdate=X,y===null&&(m.shared.lanes=0),mr|=x,r.lanes=x,r.memoizedState=re}}function D_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function O_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)D_(o[r],s)}var na=V(null),qu=V(0);function M_(r,s){r=zi,A(qu,r),A(na,s),zi=r|s.baseLanes}function ed(){A(qu,zi),A(na,na.current)}function td(){zi=qu.current,$(na),$(qu)}var lr=0,Oe=null,$e=null,St=null,Gu=!1,ia=!1,ls=!1,Yu=0,Mo=0,ra=null,wk=0;function vt(){throw Error(i(321))}function nd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!vn(r[o],s[o]))return!1;return!0}function id(r,s,o,c,m,y){return lr=y,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=r===null||r.memoizedState===null?y0:v0,ls=!1,y=o(c,m),ls=!1,ia&&(y=L_(s,o,c,m)),P_(r),y}function P_(r){j.H=Zu;var s=$e!==null&&$e.next!==null;if(lr=0,St=$e=Oe=null,Gu=!1,Mo=0,ra=null,s)throw Error(i(300));r===null||It||(r=r.dependencies,r!==null&&zu(r)&&(It=!0))}function L_(r,s,o,c){Oe=r;var m=0;do{if(ia&&(ra=null),Mo=0,ia=!1,25<=m)throw Error(i(301));if(m+=1,St=$e=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=Nk,y=s(o,c)}while(ia);return y}function Ek(){var r=j.H,s=r.useState()[0];return s=typeof s.then=="function"?Po(s):s,r=r.useState()[0],($e!==null?$e.memoizedState:null)!==r&&(Oe.flags|=1024),s}function rd(){var r=Yu!==0;return Yu=0,r}function sd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ad(r){if(Gu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gu=!1}lr=0,St=$e=Oe=null,ia=!1,Mo=Yu=0,ra=null}function an(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=r:St=St.next=r,St}function wt(){if($e===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=$e.next;var s=St===null?Oe.memoizedState:St.next;if(s!==null)St=s,$e=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));$e=r,r={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?Oe.memoizedState=St=r:St=St.next=r}return St}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(r){var s=Mo;return Mo+=1,ra===null&&(ra=[]),r=k_(ra,r,s),s=Oe,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?y0:v0),r}function Ku(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Po(r);if(r.$$typeof===N)return Kt(r)}throw Error(i(438,String(r)))}function ld(r){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=od(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=ie;return s.index++,o}function Oi(r,s){return typeof s=="function"?s(r):s}function Wu(r){var s=wt();return ud(s,$e,r)}function ud(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=r.baseQueue,y=c.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}s.baseQueue=m=y,c.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{s=m.next;var E=x=null,D=null,B=s,X=!1;do{var re=B.lane&-536870913;if(re!==B.lane?(He&re)===re:(lr&re)===re){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),re===ea&&(X=!0);else if((lr&F)===F){B=B.next,F===ea&&(X=!0);continue}else re={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=re,x=y):D=D.next=re,Oe.lanes|=F,mr|=F;re=B.action,ls&&o(y,re),y=B.hasEagerState?B.eagerState:o(y,re)}else F={lane:re,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=F,x=y):D=D.next=F,Oe.lanes|=re,mr|=re;B=B.next}while(B!==null&&B!==s);if(D===null?x=y:D.next=E,!vn(y,r.memoizedState)&&(It=!0,X&&(o=ta,o!==null)))throw o;r.memoizedState=y,r.baseState=x,r.baseQueue=D,c.lastRenderedState=y}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function cd(r){var s=wt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var x=m=m.next;do y=r(y,x.action),x=x.next;while(x!==m);vn(y,s.memoizedState)||(It=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function j_(r,s,o){var c=Oe,m=wt(),y=qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!vn(($e||m).memoizedState,o);x&&(m.memoizedState=o,It=!0),m=m.queue;var E=B_.bind(null,c,m,r);if(Lo(2048,8,E,[r]),m.getSnapshot!==s||x||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,sa(9,$u(),z_.bind(null,c,m,o,s),null),tt===null)throw Error(i(349));y||(lr&124)!==0||U_(c,s,o)}return o}function U_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=od(),Oe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function z_(r,s,o,c){s.value=o,s.getSnapshot=c,V_(s)&&H_(r)}function B_(r,s,o){return o(function(){V_(s)&&H_(r)})}function V_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!vn(r,o)}catch{return!0}}function H_(r){var s=Xs(r,2);s!==null&&En(s,r,2)}function fd(r){var s=an();if(typeof r=="function"){var o=r;if(r=o(),ls){pe(!0);try{o()}finally{pe(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:r},s}function F_(r,s,o,c){return r.baseState=o,ud(r,$e,typeof c=="function"?c:Oi)}function Tk(r,s,o,c,m){if(Qu(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};j.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,q_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function q_(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var y=j.T,x={};j.T=x;try{var E=o(m,c),D=j.S;D!==null&&D(x,E),G_(r,s,E)}catch(B){hd(r,s,B)}finally{j.T=y}}else try{y=o(m,c),G_(r,s,y)}catch(B){hd(r,s,B)}}function G_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Y_(r,s,c)},function(c){return hd(r,s,c)}):Y_(r,s,o)}function Y_(r,s,o){s.status="fulfilled",s.value=o,K_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,q_(r,o)))}function hd(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,K_(s),s=s.next;while(s!==c)}r.action=null}function K_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function W_(r,s){return s}function $_(r,s){if(qe){var o=tt.formState;if(o!==null){e:{var c=Oe;if(qe){if(dt){t:{for(var m=dt,y=ui;m.nodeType!==8;){if(!y){m=null;break t}if(m=Xn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){dt=Xn(m.nextSibling),c=m.data==="F!";break e}}rs(c)}c=!1}c&&(s=o[0])}}return o=an(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W_,lastRenderedState:s},o.queue=c,o=p0.bind(null,Oe,c),c.dispatch=o,c=fd(!1),y=yd.bind(null,Oe,!1,c.queue),c=an(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=Tk.bind(null,Oe,m,y,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function X_(r){var s=wt();return Q_(s,$e,r)}function Q_(r,s,o){if(s=ud(r,s,W_)[0],r=Wu(Oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Po(s)}catch(x){throw x===ko?Hu:x}else c=s;s=wt();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,sa(9,$u(),Ck.bind(null,m,o),null)),[c,y,r]}function Ck(r,s){r.action=s}function Z_(r){var s=wt(),o=$e;if(o!==null)return Q_(s,o,r);wt(),s=s.memoizedState,o=wt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function sa(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=od(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function $u(){return{destroy:void 0,resource:void 0}}function J_(){return wt().memoizedState}function Xu(r,s,o,c){var m=an();c=c===void 0?null:c,Oe.flags|=r,m.memoizedState=sa(1|s,$u(),o,c)}function Lo(r,s,o,c){var m=wt();c=c===void 0?null:c;var y=m.memoizedState.inst;$e!==null&&c!==null&&nd(c,$e.memoizedState.deps)?m.memoizedState=sa(s,y,o,c):(Oe.flags|=r,m.memoizedState=sa(1|s,y,o,c))}function e0(r,s){Xu(8390656,8,r,s)}function t0(r,s){Lo(2048,8,r,s)}function n0(r,s){return Lo(4,2,r,s)}function i0(r,s){return Lo(4,4,r,s)}function r0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function s0(r,s,o){o=o!=null?o.concat([r]):null,Lo(4,4,r0.bind(null,s,r),o)}function dd(){}function a0(r,s){var o=wt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&nd(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function o0(r,s){var o=wt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&nd(s,c[1]))return c[0];if(c=r(),ls){pe(!0);try{r()}finally{pe(!1)}}return o.memoizedState=[c,s],c}function pd(r,s,o){return o===void 0||(lr&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=cb(),Oe.lanes|=r,mr|=r,o)}function l0(r,s,o,c){return vn(o,s)?o:na.current!==null?(r=pd(r,o,c),vn(r,s)||(It=!0),r):(lr&42)===0?(It=!0,r.memoizedState=o):(r=cb(),Oe.lanes|=r,mr|=r,s)}function u0(r,s,o,c,m){var y=te.p;te.p=y!==0&&8>y?y:8;var x=j.T,E={};j.T=E,yd(r,!1,s,o);try{var D=m(),B=j.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=Sk(D,c);jo(r,s,X,wn(r))}else jo(r,s,c,wn(r))}catch(re){jo(r,s,{then:function(){},status:"rejected",reason:re},wn())}finally{te.p=y,j.T=x}}function Ak(){}function md(r,s,o,c){if(r.tag!==5)throw Error(i(476));var m=c0(r).queue;u0(r,m,s,de,o===null?Ak:function(){return f0(r),o(c)})}function c0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function f0(r){var s=c0(r).next.queue;jo(r,s,{},wn())}function gd(){return Kt(tl)}function h0(){return wt().memoizedState}function d0(){return wt().memoizedState}function Rk(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=wn();r=ar(o);var c=or(s,r,o);c!==null&&(En(c,s,o),Io(c,s,o)),s={cache:Yh()},r.payload=s;return}s=s.return}}function kk(r,s,o){var c=wn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(r)?m0(s,o):(o=Lh(r,s,o,c),o!==null&&(En(o,r,c),g0(o,s,c)))}function p0(r,s,o){var c=wn();jo(r,s,o,c)}function jo(r,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qu(r))m0(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,E=y(x,o);if(m.hasEagerState=!0,m.eagerState=E,vn(E,x))return Mu(r,s,m,0),tt===null&&Ou(),!1}catch{}finally{}if(o=Lh(r,s,m,c),o!==null)return En(o,r,c),g0(o,s,c),!0}return!1}function yd(r,s,o,c){if(c={lane:2,revertLane:$d(),action:c,hasEagerState:!1,eagerState:null,next:null},Qu(r)){if(s)throw Error(i(479))}else s=Lh(r,o,c,2),s!==null&&En(s,r,2)}function Qu(r){var s=r.alternate;return r===Oe||s!==null&&s===Oe}function m0(r,s){ia=Gu=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function g0(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Ev(r,o)}}var Zu={readContext:Kt,use:Ku,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},y0={readContext:Kt,use:Ku,useCallback:function(r,s){return an().memoizedState=[r,s===void 0?null:s],r},useContext:Kt,useEffect:e0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Xu(4194308,4,r0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Xu(4194308,4,r,s)},useInsertionEffect:function(r,s){Xu(4,2,r,s)},useMemo:function(r,s){var o=an();s=s===void 0?null:s;var c=r();if(ls){pe(!0);try{r()}finally{pe(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=an();if(o!==void 0){var m=o(s);if(ls){pe(!0);try{o(s)}finally{pe(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=kk.bind(null,Oe,r),[c.memoizedState,r]},useRef:function(r){var s=an();return r={current:r},s.memoizedState=r},useState:function(r){r=fd(r);var s=r.queue,o=p0.bind(null,Oe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:dd,useDeferredValue:function(r,s){var o=an();return pd(o,r,s)},useTransition:function(){var r=fd(!1);return r=u0.bind(null,Oe,r.queue,!0,!1),an().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Oe,m=an();if(qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),tt===null)throw Error(i(349));(He&124)!==0||U_(c,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,e0(B_.bind(null,c,y,r),[r]),c.flags|=2048,sa(9,$u(),z_.bind(null,c,y,o,s),null),o},useId:function(){var r=an(),s=tt.identifierPrefix;if(qe){var o=Ni,c=ki;o=(c&~(1<<32-ge(c)-1)).toString(32)+o,s="«"+s+"R"+o,o=Yu++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=wk++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:gd,useFormState:$_,useActionState:$_,useOptimistic:function(r){var s=an();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=yd.bind(null,Oe,!0,o),o.dispatch=s,[r,s]},useMemoCache:ld,useCacheRefresh:function(){return an().memoizedState=Rk.bind(null,Oe)}},v0={readContext:Kt,use:Ku,useCallback:a0,useContext:Kt,useEffect:t0,useImperativeHandle:s0,useInsertionEffect:n0,useLayoutEffect:i0,useMemo:o0,useReducer:Wu,useRef:J_,useState:function(){return Wu(Oi)},useDebugValue:dd,useDeferredValue:function(r,s){var o=wt();return l0(o,$e.memoizedState,r,s)},useTransition:function(){var r=Wu(Oi)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Po(r),s]},useSyncExternalStore:j_,useId:h0,useHostTransitionStatus:gd,useFormState:X_,useActionState:X_,useOptimistic:function(r,s){var o=wt();return F_(o,$e,r,s)},useMemoCache:ld,useCacheRefresh:d0},Nk={readContext:Kt,use:Ku,useCallback:a0,useContext:Kt,useEffect:t0,useImperativeHandle:s0,useInsertionEffect:n0,useLayoutEffect:i0,useMemo:o0,useReducer:cd,useRef:J_,useState:function(){return cd(Oi)},useDebugValue:dd,useDeferredValue:function(r,s){var o=wt();return $e===null?pd(o,r,s):l0(o,$e.memoizedState,r,s)},useTransition:function(){var r=cd(Oi)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Po(r),s]},useSyncExternalStore:j_,useId:h0,useHostTransitionStatus:gd,useFormState:Z_,useActionState:Z_,useOptimistic:function(r,s){var o=wt();return $e!==null?F_(o,$e,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:ld,useCacheRefresh:d0},aa=null,Uo=0;function Ju(r){var s=Uo;return Uo+=1,aa===null&&(aa=[]),k_(aa,r,s)}function zo(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ec(r,s){throw s.$$typeof===g?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function _0(r){var s=r._init;return s(r._payload)}function b0(r){function s(U,P){if(r){var z=U.deletions;z===null?(U.deletions=[P],U.flags|=16):z.push(P)}}function o(U,P){if(!r)return null;for(;P!==null;)s(U,P),P=P.sibling;return null}function c(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function m(U,P){return U=Ri(U,P),U.index=0,U.sibling=null,U}function y(U,P,z){return U.index=z,r?(z=U.alternate,z!==null?(z=z.index,z<P?(U.flags|=67108866,P):z):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function x(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function E(U,P,z,ee){return P===null||P.tag!==6?(P=Uh(z,U.mode,ee),P.return=U,P):(P=m(P,z),P.return=U,P)}function D(U,P,z,ee){var me=z.type;return me===S?X(U,P,z.props.children,ee,z.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&_0(me)===P.type)?(P=m(P,z.props),zo(P,z),P.return=U,P):(P=Lu(z.type,z.key,z.props,null,U.mode,ee),zo(P,z),P.return=U,P)}function B(U,P,z,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=zh(z,U.mode,ee),P.return=U,P):(P=m(P,z.children||[]),P.return=U,P)}function X(U,P,z,ee,me){return P===null||P.tag!==7?(P=es(z,U.mode,ee,me),P.return=U,P):(P=m(P,z),P.return=U,P)}function re(U,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Uh(""+P,U.mode,z),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return z=Lu(P.type,P.key,P.props,null,U.mode,z),zo(z,P),z.return=U,z;case _:return P=zh(P,U.mode,z),P.return=U,P;case G:var ee=P._init;return P=ee(P._payload),re(U,P,z)}if(oe(P)||J(P))return P=es(P,U.mode,z,null),P.return=U,P;if(typeof P.then=="function")return re(U,Ju(P),z);if(P.$$typeof===N)return re(U,Bu(U,P),z);ec(U,P)}return null}function F(U,P,z,ee){var me=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:E(U,P,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===me?D(U,P,z,ee):null;case _:return z.key===me?B(U,P,z,ee):null;case G:return me=z._init,z=me(z._payload),F(U,P,z,ee)}if(oe(z)||J(z))return me!==null?null:X(U,P,z,ee,null);if(typeof z.then=="function")return F(U,P,Ju(z),ee);if(z.$$typeof===N)return F(U,P,Bu(U,z),ee);ec(U,z)}return null}function Y(U,P,z,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(z)||null,E(P,U,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return U=U.get(ee.key===null?z:ee.key)||null,D(P,U,ee,me);case _:return U=U.get(ee.key===null?z:ee.key)||null,B(P,U,ee,me);case G:var Me=ee._init;return ee=Me(ee._payload),Y(U,P,z,ee,me)}if(oe(ee)||J(ee))return U=U.get(z)||null,X(P,U,ee,me,null);if(typeof ee.then=="function")return Y(U,P,z,Ju(ee),me);if(ee.$$typeof===N)return Y(U,P,z,Bu(P,ee),me);ec(P,ee)}return null}function we(U,P,z,ee){for(var me=null,Me=null,ye=P,xe=P=0,Ot=null;ye!==null&&xe<z.length;xe++){ye.index>xe?(Ot=ye,ye=null):Ot=ye.sibling;var Fe=F(U,ye,z[xe],ee);if(Fe===null){ye===null&&(ye=Ot);break}r&&ye&&Fe.alternate===null&&s(U,ye),P=y(Fe,P,xe),Me===null?me=Fe:Me.sibling=Fe,Me=Fe,ye=Ot}if(xe===z.length)return o(U,ye),qe&&ns(U,xe),me;if(ye===null){for(;xe<z.length;xe++)ye=re(U,z[xe],ee),ye!==null&&(P=y(ye,P,xe),Me===null?me=ye:Me.sibling=ye,Me=ye);return qe&&ns(U,xe),me}for(ye=c(ye);xe<z.length;xe++)Ot=Y(ye,U,xe,z[xe],ee),Ot!==null&&(r&&Ot.alternate!==null&&ye.delete(Ot.key===null?xe:Ot.key),P=y(Ot,P,xe),Me===null?me=Ot:Me.sibling=Ot,Me=Ot);return r&&ye.forEach(function(Er){return s(U,Er)}),qe&&ns(U,xe),me}function be(U,P,z,ee){if(z==null)throw Error(i(151));for(var me=null,Me=null,ye=P,xe=P=0,Ot=null,Fe=z.next();ye!==null&&!Fe.done;xe++,Fe=z.next()){ye.index>xe?(Ot=ye,ye=null):Ot=ye.sibling;var Er=F(U,ye,Fe.value,ee);if(Er===null){ye===null&&(ye=Ot);break}r&&ye&&Er.alternate===null&&s(U,ye),P=y(Er,P,xe),Me===null?me=Er:Me.sibling=Er,Me=Er,ye=Ot}if(Fe.done)return o(U,ye),qe&&ns(U,xe),me;if(ye===null){for(;!Fe.done;xe++,Fe=z.next())Fe=re(U,Fe.value,ee),Fe!==null&&(P=y(Fe,P,xe),Me===null?me=Fe:Me.sibling=Fe,Me=Fe);return qe&&ns(U,xe),me}for(ye=c(ye);!Fe.done;xe++,Fe=z.next())Fe=Y(ye,U,xe,Fe.value,ee),Fe!==null&&(r&&Fe.alternate!==null&&ye.delete(Fe.key===null?xe:Fe.key),P=y(Fe,P,xe),Me===null?me=Fe:Me.sibling=Fe,Me=Fe);return r&&ye.forEach(function(IN){return s(U,IN)}),qe&&ns(U,xe),me}function Qe(U,P,z,ee){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:e:{for(var me=z.key;P!==null;){if(P.key===me){if(me=z.type,me===S){if(P.tag===7){o(U,P.sibling),ee=m(P,z.props.children),ee.return=U,U=ee;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&_0(me)===P.type){o(U,P.sibling),ee=m(P,z.props),zo(ee,z),ee.return=U,U=ee;break e}o(U,P);break}else s(U,P);P=P.sibling}z.type===S?(ee=es(z.props.children,U.mode,ee,z.key),ee.return=U,U=ee):(ee=Lu(z.type,z.key,z.props,null,U.mode,ee),zo(ee,z),ee.return=U,U=ee)}return x(U);case _:e:{for(me=z.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){o(U,P.sibling),ee=m(P,z.children||[]),ee.return=U,U=ee;break e}else{o(U,P);break}else s(U,P);P=P.sibling}ee=zh(z,U.mode,ee),ee.return=U,U=ee}return x(U);case G:return me=z._init,z=me(z._payload),Qe(U,P,z,ee)}if(oe(z))return we(U,P,z,ee);if(J(z)){if(me=J(z),typeof me!="function")throw Error(i(150));return z=me.call(z),be(U,P,z,ee)}if(typeof z.then=="function")return Qe(U,P,Ju(z),ee);if(z.$$typeof===N)return Qe(U,P,Bu(U,z),ee);ec(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(o(U,P.sibling),ee=m(P,z),ee.return=U,U=ee):(o(U,P),ee=Uh(z,U.mode,ee),ee.return=U,U=ee),x(U)):o(U,P)}return function(U,P,z,ee){try{Uo=0;var me=Qe(U,P,z,ee);return aa=null,me}catch(ye){if(ye===ko||ye===Hu)throw ye;var Me=_n(29,ye,null,U.mode);return Me.lanes=ee,Me.return=U,Me}finally{}}}var oa=b0(!0),x0=b0(!1),jn=V(null),ci=null;function ur(r){var s=r.alternate;A(At,At.current&1),A(jn,r),ci===null&&(s===null||na.current!==null||s.memoizedState!==null)&&(ci=r)}function S0(r){if(r.tag===22){if(A(At,At.current),A(jn,r),ci===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ci=r)}}else cr()}function cr(){A(At,At.current),A(jn,jn.current)}function Mi(r){$(jn),ci===r&&(ci=null),$(At)}var At=V(0);function tc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||op(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function vd(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:p({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var _d={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=wn(),m=ar(c);m.payload=s,o!=null&&(m.callback=o),s=or(r,m,c),s!==null&&(En(s,r,c),Io(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=wn(),m=ar(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=or(r,m,c),s!==null&&(En(s,r,c),Io(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=wn(),c=ar(o);c.tag=2,s!=null&&(c.callback=s),s=or(r,c,o),s!==null&&(En(s,r,o),Io(s,r,o))}};function w0(r,s,o,c,m,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,x):s.prototype&&s.prototype.isPureReactComponent?!xo(o,c)||!xo(m,y):!0}function E0(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&_d.enqueueReplaceState(s,s.state,null)}function us(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=p({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var nc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function T0(r){nc(r)}function C0(r){console.error(r)}function A0(r){nc(r)}function ic(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function R0(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function bd(r,s,o){return o=ar(o),o.tag=3,o.payload={element:null},o.callback=function(){ic(r,s)},o}function k0(r){return r=ar(r),r.tag=3,r}function N0(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;r.payload=function(){return m(y)},r.callback=function(){R0(s,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){R0(s,o,c),typeof m!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function Ik(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Co(s,o,m,!0),o=jn.current,o!==null){switch(o.tag){case 13:return ci===null?qd():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===$h?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Yd(r,c,m)),!1;case 22:return o.flags|=65536,c===$h?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Yd(r,c,m)),!1}throw Error(i(435,o.tag))}return Yd(r,c,m),qd(),!1}if(qe)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Hh&&(r=Error(i(422),{cause:c}),To(On(r,o)))):(c!==Hh&&(s=Error(i(423),{cause:c}),To(On(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=On(c,o),m=bd(r.stateNode,c,m),Zh(r,m),pt!==4&&(pt=2)),!1;var y=Error(i(520),{cause:c});if(y=On(y,o),Yo===null?Yo=[y]:Yo.push(y),pt!==4&&(pt=2),s===null)return!0;c=On(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=bd(o.stateNode,c,r),Zh(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=k0(m),N0(m,r,o,c),Zh(o,m),!1}o=o.return}while(o!==null);return!1}var I0=Error(i(461)),It=!1;function zt(r,s,o,c){s.child=r===null?x0(s,null,o,c):oa(s,r.child,o,c)}function D0(r,s,o,c,m){o=o.render;var y=s.ref;if("ref"in c){var x={};for(var E in c)E!=="ref"&&(x[E]=c[E])}else x=c;return as(s),c=id(r,s,o,x,y,m),E=rd(),r!==null&&!It?(sd(r,s,m),Pi(r,s,m)):(qe&&E&&Bh(s),s.flags|=1,zt(r,s,c,m),s.child)}function O0(r,s,o,c,m){if(r===null){var y=o.type;return typeof y=="function"&&!jh(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,M0(r,s,y,c,m)):(r=Lu(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Rd(r,m)){var x=y.memoizedProps;if(o=o.compare,o=o!==null?o:xo,o(x,c)&&r.ref===s.ref)return Pi(r,s,m)}return s.flags|=1,r=Ri(y,c),r.ref=s.ref,r.return=s,s.child=r}function M0(r,s,o,c,m){if(r!==null){var y=r.memoizedProps;if(xo(y,c)&&r.ref===s.ref)if(It=!1,s.pendingProps=c=y,Rd(r,m))(r.flags&131072)!==0&&(It=!0);else return s.lanes=r.lanes,Pi(r,s,m)}return xd(r,s,o,c,m)}function P0(r,s,o){var c=s.pendingProps,m=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(m=s.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return L0(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vu(s,y!==null?y.cachePool:null),y!==null?M_(s,y):ed(),S0(s);else return s.lanes=s.childLanes=536870912,L0(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Vu(s,y.cachePool),M_(s,y),cr(),s.memoizedState=null):(r!==null&&Vu(s,null),ed(),cr());return zt(r,s,m,o),s.child}function L0(r,s,o,c){var m=Wh();return m=m===null?null:{parent:Ct._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&Vu(s,null),ed(),S0(s),r!==null&&Co(r,s,c,!0),null}function rc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function xd(r,s,o,c,m){return as(s),o=id(r,s,o,c,void 0,m),c=rd(),r!==null&&!It?(sd(r,s,m),Pi(r,s,m)):(qe&&c&&Bh(s),s.flags|=1,zt(r,s,o,m),s.child)}function j0(r,s,o,c,m,y){return as(s),s.updateQueue=null,o=L_(s,c,o,m),P_(r),c=rd(),r!==null&&!It?(sd(r,s,y),Pi(r,s,y)):(qe&&c&&Bh(s),s.flags|=1,zt(r,s,o,y),s.child)}function U0(r,s,o,c,m){if(as(s),s.stateNode===null){var y=Qs,x=o.contextType;typeof x=="object"&&x!==null&&(y=Kt(x)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=_d,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Xh(s),x=o.contextType,y.context=typeof x=="object"&&x!==null?Kt(x):Qs,y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(vd(s,o,x,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&_d.enqueueReplaceState(y,y.state,null),Oo(s,c,y,m),Do(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var E=s.memoizedProps,D=us(o,E);y.props=D;var B=y.context,X=o.contextType;x=Qs,typeof X=="object"&&X!==null&&(x=Kt(X));var re=o.getDerivedStateFromProps;X=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E||B!==x)&&E0(s,y,c,x),sr=!1;var F=s.memoizedState;y.state=F,Oo(s,c,y,m),Do(),B=s.memoizedState,E||F!==B||sr?(typeof re=="function"&&(vd(s,o,re,c),B=s.memoizedState),(D=sr||w0(s,o,D,c,F,B,x))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),y.props=c,y.state=B,y.context=x,c=D):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Qh(r,s),x=s.memoizedProps,X=us(o,x),y.props=X,re=s.pendingProps,F=y.context,B=o.contextType,D=Qs,typeof B=="object"&&B!==null&&(D=Kt(B)),E=o.getDerivedStateFromProps,(B=typeof E=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==re||F!==D)&&E0(s,y,c,D),sr=!1,F=s.memoizedState,y.state=F,Oo(s,c,y,m),Do();var Y=s.memoizedState;x!==re||F!==Y||sr||r!==null&&r.dependencies!==null&&zu(r.dependencies)?(typeof E=="function"&&(vd(s,o,E,c),Y=s.memoizedState),(X=sr||w0(s,o,X,c,F,Y,D)||r!==null&&r.dependencies!==null&&zu(r.dependencies))?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Y,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Y,D)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Y),y.props=c,y.state=Y,y.context=D,c=X):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,rc(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=oa(s,r.child,null,m),s.child=oa(s,null,o,m)):zt(r,s,o,m),s.memoizedState=y.state,r=s.child):r=Pi(r,s,m),r}function z0(r,s,o,c){return Eo(),s.flags|=256,zt(r,s,o,c),s.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(r){return{baseLanes:r,cachePool:C_()}}function Ed(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Un),r}function B0(r,s,o){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=r!==null&&r.memoizedState===null?!1:(At.current&2)!==0),x&&(m=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(qe){if(m?ur(s):cr(),qe){var E=dt,D;if(D=E){e:{for(D=E,E=ui;D.nodeType!==8;){if(!E){E=null;break e}if(D=Xn(D.nextSibling),D===null){E=null;break e}}E=D}E!==null?(s.memoizedState={dehydrated:E,treeContext:ts!==null?{id:ki,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},D=_n(18,null,null,0),D.stateNode=E,D.return=s,s.child=D,Qt=s,dt=null,D=!0):D=!1}D||rs(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return op(E)?s.lanes=32:s.lanes=536870912,null;Mi(s)}return E=c.children,c=c.fallback,m?(cr(),m=s.mode,E=sc({mode:"hidden",children:E},m),c=es(c,m,o,null),E.return=s,c.return=s,E.sibling=c,s.child=E,m=s.child,m.memoizedState=wd(o),m.childLanes=Ed(r,x,o),s.memoizedState=Sd,c):(ur(s),Td(s,E))}if(D=r.memoizedState,D!==null&&(E=D.dehydrated,E!==null)){if(y)s.flags&256?(ur(s),s.flags&=-257,s=Cd(r,s,o)):s.memoizedState!==null?(cr(),s.child=r.child,s.flags|=128,s=null):(cr(),m=c.fallback,E=s.mode,c=sc({mode:"visible",children:c.children},E),m=es(m,E,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,oa(s,r.child,null,o),c=s.child,c.memoizedState=wd(o),c.childLanes=Ed(r,x,o),s.memoizedState=Sd,s=m);else if(ur(s),op(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var B=x.dgst;x=B,c=Error(i(419)),c.stack="",c.digest=x,To({value:c,source:null,stack:null}),s=Cd(r,s,o)}else if(It||Co(r,s,o,!1),x=(o&r.childLanes)!==0,It||x){if(x=tt,x!==null&&(c=o&-o,c=(c&42)!==0?1:lh(c),c=(c&(x.suspendedLanes|o))!==0?0:c,c!==0&&c!==D.retryLane))throw D.retryLane=c,Xs(r,c),En(x,r,c),I0;E.data==="$?"||qd(),s=Cd(r,s,o)}else E.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=D.treeContext,dt=Xn(E.nextSibling),Qt=s,qe=!0,is=null,ui=!1,r!==null&&(Pn[Ln++]=ki,Pn[Ln++]=Ni,Pn[Ln++]=ts,ki=r.id,Ni=r.overflow,ts=s),s=Td(s,c.children),s.flags|=4096);return s}return m?(cr(),m=c.fallback,E=s.mode,D=r.child,B=D.sibling,c=Ri(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,B!==null?m=Ri(B,m):(m=es(m,E,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,E=r.child.memoizedState,E===null?E=wd(o):(D=E.cachePool,D!==null?(B=Ct._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=C_(),E={baseLanes:E.baseLanes|o,cachePool:D}),m.memoizedState=E,m.childLanes=Ed(r,x,o),s.memoizedState=Sd,c):(ur(s),o=r.child,r=o.sibling,o=Ri(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function Td(r,s){return s=sc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function sc(r,s){return r=_n(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Cd(r,s,o){return oa(s,r.child,null,o),r=Td(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function V0(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),qh(r.return,s,o)}function Ad(r,s,o,c,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=m)}function H0(r,s,o){var c=s.pendingProps,m=c.revealOrder,y=c.tail;if(zt(r,s,c.children,o),c=At.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&V0(r,o,s);else if(r.tag===19)V0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(A(At,c),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&tc(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Ad(s,!1,m,o,y);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&tc(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Ad(s,!0,o,null,y);break;case"together":Ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),mr|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Co(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ri(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ri(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Rd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&zu(r)))}function Dk(r,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),rr(s,Ct,r.memoizedState.cache),Eo();break;case 27:case 5:je(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:rr(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ur(s),s.flags|=128,null):(o&s.child.childLanes)!==0?B0(r,s,o):(ur(s),r=Pi(r,s,o),r!==null?r.sibling:null);ur(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Co(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return H0(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),A(At,At.current),c)break;return null;case 22:case 23:return s.lanes=0,P0(r,s,o);case 24:rr(s,Ct,r.memoizedState.cache)}return Pi(r,s,o)}function F0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)It=!0;else{if(!Rd(r,o)&&(s.flags&128)===0)return It=!1,Dk(r,s,o);It=(r.flags&131072)!==0}else It=!1,qe&&(s.flags&1048576)!==0&&__(s,Uu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")jh(c)?(r=us(c,r),s.tag=1,s=U0(null,s,c,r,o)):(s.tag=0,s=xd(null,s,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===K){s.tag=11,s=D0(null,s,c,r,o);break e}else if(m===H){s.tag=14,s=O0(null,s,c,r,o);break e}}throw s=ae(c)||c,Error(i(306,s,""))}}return s;case 0:return xd(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=us(c,s.pendingProps),U0(r,s,c,m,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,Qh(r,s),Oo(s,c,null,o);var x=s.memoizedState;if(c=x.cache,rr(s,Ct,c),c!==y.cache&&Gh(s,[Ct],o,!0),Do(),c=x.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=z0(r,s,c,o);break e}else if(c!==m){m=On(Error(i(424)),s),To(m),s=z0(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dt=Xn(r.firstChild),Qt=s,qe=!0,is=null,ui=!0,o=x0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Eo(),c===m){s=Pi(r,s,o);break e}zt(r,s,c,o)}s=s.child}return s;case 26:return rc(r,s),r===null?(o=Kb(s.type,null,s.pendingProps,null))?s.memoizedState=o:qe||(o=s.type,r=s.pendingProps,c=_c(Q.current).createElement(o),c[Yt]=s,c[rn]=r,Vt(c,o,r),Nt(c),s.stateNode=c):s.memoizedState=Kb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return je(s),r===null&&qe&&(c=s.stateNode=qb(s.type,s.pendingProps,Q.current),Qt=s,ui=!0,m=dt,_r(s.type)?(lp=m,dt=Xn(c.firstChild)):dt=m),zt(r,s,s.pendingProps.children,o),rc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&qe&&((m=c=dt)&&(c=aN(c,s.type,s.pendingProps,ui),c!==null?(s.stateNode=c,Qt=s,dt=Xn(c.firstChild),ui=!1,m=!0):m=!1),m||rs(s)),je(s),m=s.type,y=s.pendingProps,x=r!==null?r.memoizedProps:null,c=y.children,rp(m,y)?c=null:x!==null&&rp(m,x)&&(s.flags|=32),s.memoizedState!==null&&(m=id(r,s,Ek,null,null,o),tl._currentValue=m),rc(r,s),zt(r,s,c,o),s.child;case 6:return r===null&&qe&&((r=o=dt)&&(o=oN(o,s.pendingProps,ui),o!==null?(s.stateNode=o,Qt=s,dt=null,r=!0):r=!1),r||rs(s)),null;case 13:return B0(r,s,o);case 4:return ve(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=oa(s,null,c,o):zt(r,s,c,o),s.child;case 11:return D0(r,s,s.type,s.pendingProps,o);case 7:return zt(r,s,s.pendingProps,o),s.child;case 8:return zt(r,s,s.pendingProps.children,o),s.child;case 12:return zt(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,rr(s,s.type,c.value),zt(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,as(s),m=Kt(m),c=c(m),s.flags|=1,zt(r,s,c,o),s.child;case 14:return O0(r,s,s.type,s.pendingProps,o);case 15:return M0(r,s,s.type,s.pendingProps,o);case 19:return H0(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=sc(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ri(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return P0(r,s,o);case 24:return as(s),c=Kt(Ct),r===null?(m=Wh(),m===null&&(m=tt,y=Yh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:c,cache:m},Xh(s),rr(s,Ct,m)):((r.lanes&o)!==0&&(Qh(r,s),Oo(s,null,null,o),Do()),m=r.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),rr(s,Ct,c)):(c=y.cache,rr(s,Ct,c),c!==m.cache&&Gh(s,[Ct],o,!0))),zt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Li(r){r.flags|=4}function q0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Zb(s)){if(s=jn.current,s!==null&&((He&4194048)===He?ci!==null:(He&62914560)!==He&&(He&536870912)===0||s!==ci))throw No=$h,A_;r.flags|=8192}}function ac(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Sv():536870912,r.lanes|=s,fa|=s)}function Bo(r,s){if(!qe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function Ok(r,s,o){var c=s.pendingProps;switch(Vh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Di(Ct),Ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wo(s)?Li(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,S_())),ft(s),null;case 26:return o=s.memoizedState,r===null?(Li(s),o!==null?(ft(s),q0(s,o)):(ft(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Li(s),ft(s),q0(s,o)):(ft(s),s.flags&=-16777217):(r.memoizedProps!==c&&Li(s),ft(s),s.flags&=-16777217),null;case 27:ot(s),o=Q.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Li(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ft(s),null}r=L.current,wo(s)?b_(s):(r=qb(m,c,o),s.stateNode=r,Li(s))}return ft(s),null;case 5:if(ot(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Li(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ft(s),null}if(r=L.current,wo(s))b_(s);else{switch(m=_c(Q.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[Yt]=s,r[rn]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(Vt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Li(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Li(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Q.current,wo(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Yt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||jb(r.nodeValue,o)),r||rs(s)}else r=_c(r).createTextNode(c),r[Yt]=s,s.stateNode=r}return ft(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=wo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Yt]=s}else Eo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),m=!1}else m=S_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Mi(s),s):(Mi(s),null)}if(Mi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),ac(s,s.updateQueue),ft(s),null;case 4:return Ve(),r===null&&Jd(s.stateNode.containerInfo),ft(s),null;case 10:return Di(s.type),ft(s),null;case 19:if($(At),m=s.memoizedState,m===null)return ft(s),null;if(c=(s.flags&128)!==0,y=m.rendering,y===null)if(c)Bo(m,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=tc(r),y!==null){for(s.flags|=128,Bo(m,!1),r=y.updateQueue,s.updateQueue=r,ac(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)v_(o,r),o=o.sibling;return A(At,At.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ut()>uc&&(s.flags|=128,c=!0,Bo(m,!1),s.lanes=4194304)}else{if(!c)if(r=tc(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,ac(s,r),Bo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!qe)return ft(s),null}else 2*Ut()-m.renderingStartTime>uc&&o!==536870912&&(s.flags|=128,c=!0,Bo(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(r=m.last,r!==null?r.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ut(),s.sibling=null,r=At.current,A(At,c?r&1|2:r&1),s):(ft(s),null);case 22:case 23:return Mi(s),td(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),o=s.updateQueue,o!==null&&ac(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&$(os),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Di(Ct),ft(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Mk(r,s){switch(Vh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Di(Ct),Ve(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ot(s),null;case 13:if(Mi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Eo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return $(At),null;case 4:return Ve(),null;case 10:return Di(s.type),null;case 22:case 23:return Mi(s),td(),r!==null&&$(os),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Di(Ct),null;case 25:return null;default:return null}}function G0(r,s){switch(Vh(s),s.tag){case 3:Di(Ct),Ve();break;case 26:case 27:case 5:ot(s);break;case 4:Ve();break;case 13:Mi(s);break;case 19:$(At);break;case 10:Di(s.type);break;case 22:case 23:Mi(s),td(),r!==null&&$(os);break;case 24:Di(Ct)}}function Vo(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var y=o.create,x=o.inst;c=y(),x.destroy=c}o=o.next}while(o!==m)}}catch(E){et(s,s.return,E)}}function fr(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&r)===r){var x=c.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,m=s;var D=o,B=E;try{B()}catch(X){et(m,D,X)}}}c=c.next}while(c!==y)}}catch(X){et(s,s.return,X)}}function Y0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{O_(s,o)}catch(c){et(r,r.return,c)}}}function K0(r,s,o){o.props=us(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){et(r,s,c)}}function Ho(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){et(r,s,m)}}function fi(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){et(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){et(r,s,m)}else o.current=null}function W0(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){et(r,r.return,m)}}function kd(r,s,o){try{var c=r.stateNode;tN(c,r.type,o,s),c[rn]=s}catch(m){et(r,r.return,m)}}function $0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_r(r.type)||r.tag===4}function Nd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_r(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Id(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=vc));else if(c!==4&&(c===27&&_r(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Id(r,s,o),r=r.sibling;r!==null;)Id(r,s,o),r=r.sibling}function oc(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&_r(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(oc(r,s,o),r=r.sibling;r!==null;)oc(r,s,o),r=r.sibling}function X0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Vt(s,c,o),s[Yt]=r,s[rn]=o}catch(y){et(r,r.return,y)}}var ji=!1,_t=!1,Dd=!1,Q0=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Pk(r,s){if(r=r.containerInfo,np=Tc,r=l_(r),Nh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var x=0,E=-1,D=-1,B=0,X=0,re=r,F=null;t:for(;;){for(var Y;re!==o||m!==0&&re.nodeType!==3||(E=x+m),re!==y||c!==0&&re.nodeType!==3||(D=x+c),re.nodeType===3&&(x+=re.nodeValue.length),(Y=re.firstChild)!==null;)F=re,re=Y;for(;;){if(re===r)break t;if(F===o&&++B===m&&(E=x),F===y&&++X===c&&(D=x),(Y=re.nextSibling)!==null)break;re=F,F=re.parentNode}re=Y}o=E===-1||D===-1?null:{start:E,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(ip={focusedElem:r,selectionRange:o},Tc=!1,Dt=s;Dt!==null;)if(s=Dt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Dt=r;else for(;Dt!==null;){switch(s=Dt,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var we=us(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(we,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(be){et(o,o.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ap(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ap(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Dt=r;break}Dt=s.return}}function Z0(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:hr(r,o),c&4&&Vo(5,o);break;case 1:if(hr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){et(o,o.return,x)}else{var m=us(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){et(o,o.return,x)}}c&64&&Y0(o),c&512&&Ho(o,o.return);break;case 3:if(hr(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{O_(r,s)}catch(x){et(o,o.return,x)}}break;case 27:s===null&&c&4&&X0(o);case 26:case 5:hr(r,o),s===null&&c&4&&W0(o),c&512&&Ho(o,o.return);break;case 12:hr(r,o);break;case 13:hr(r,o),c&4&&tb(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=qk.bind(null,o),lN(r,o))));break;case 22:if(c=o.memoizedState!==null||ji,!c){s=s!==null&&s.memoizedState!==null||_t,m=ji;var y=_t;ji=c,(_t=s)&&!y?dr(r,o,(o.subtreeFlags&8772)!==0):hr(r,o),ji=m,_t=y}break;case 30:break;default:hr(r,o)}}function J0(r){var s=r.alternate;s!==null&&(r.alternate=null,J0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&fh(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var lt=null,on=!1;function Ui(r,s,o){for(o=o.child;o!==null;)eb(r,s,o),o=o.sibling}function eb(r,s,o){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(q,o)}catch{}switch(o.tag){case 26:_t||fi(o,s),Ui(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_t||fi(o,s);var c=lt,m=on;_r(o.type)&&(lt=o.stateNode,on=!1),Ui(r,s,o),Qo(o.stateNode),lt=c,on=m;break;case 5:_t||fi(o,s);case 6:if(c=lt,m=on,lt=null,Ui(r,s,o),lt=c,on=m,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(y){et(o,s,y)}else try{lt.removeChild(o.stateNode)}catch(y){et(o,s,y)}break;case 18:lt!==null&&(on?(r=lt,Hb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),sl(r)):Hb(lt,o.stateNode));break;case 4:c=lt,m=on,lt=o.stateNode.containerInfo,on=!0,Ui(r,s,o),lt=c,on=m;break;case 0:case 11:case 14:case 15:_t||fr(2,o,s),_t||fr(4,o,s),Ui(r,s,o);break;case 1:_t||(fi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&K0(o,s,c)),Ui(r,s,o);break;case 21:Ui(r,s,o);break;case 22:_t=(c=_t)||o.memoizedState!==null,Ui(r,s,o),_t=c;break;default:Ui(r,s,o)}}function tb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{sl(r)}catch(o){et(s,s.return,o)}}function Lk(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Q0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Q0),s;default:throw Error(i(435,r.tag))}}function Od(r,s){var o=Lk(r);s.forEach(function(c){var m=Gk.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function bn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=r,x=s,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(_r(E.type)){lt=E.stateNode,on=!1;break e}break;case 5:lt=E.stateNode,on=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(lt===null)throw Error(i(160));eb(y,x,m),lt=null,on=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)nb(s,r),s=s.sibling}var $n=null;function nb(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:bn(s,r),xn(r),c&4&&(fr(3,r,r.return),Vo(3,r),fr(5,r,r.return));break;case 1:bn(s,r),xn(r),c&512&&(_t||o===null||fi(o,o.return)),c&64&&ji&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=$n;if(bn(s,r),xn(r),c&512&&(_t||o===null||fi(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[fo]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Vt(y,c,o),y[Yt]=r,Nt(y),c=y;break e;case"link":var x=Xb("link","href",m).get(c+(o.href||""));if(x){for(var E=0;E<x.length;E++)if(y=x[E],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(E,1);break t}}y=m.createElement(c),Vt(y,c,o),m.head.appendChild(y);break;case"meta":if(x=Xb("meta","content",m).get(c+(o.content||""))){for(E=0;E<x.length;E++)if(y=x[E],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(E,1);break t}}y=m.createElement(c),Vt(y,c,o),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[Yt]=r,Nt(y),c=y}r.stateNode=c}else Qb(m,r.type,r.stateNode);else r.stateNode=$b(m,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?Qb(m,r.type,r.stateNode):$b(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&kd(r,r.memoizedProps,o.memoizedProps)}break;case 27:bn(s,r),xn(r),c&512&&(_t||o===null||fi(o,o.return)),o!==null&&c&4&&kd(r,r.memoizedProps,o.memoizedProps);break;case 5:if(bn(s,r),xn(r),c&512&&(_t||o===null||fi(o,o.return)),r.flags&32){m=r.stateNode;try{Fs(m,"")}catch(Y){et(r,r.return,Y)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,kd(r,m,o!==null?o.memoizedProps:m)),c&1024&&(Dd=!0);break;case 6:if(bn(s,r),xn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Y){et(r,r.return,Y)}}break;case 3:if(Sc=null,m=$n,$n=bc(s.containerInfo),bn(s,r),$n=m,xn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{sl(s.containerInfo)}catch(Y){et(r,r.return,Y)}Dd&&(Dd=!1,ib(r));break;case 4:c=$n,$n=bc(r.stateNode.containerInfo),bn(s,r),xn(r),$n=c;break;case 12:bn(s,r),xn(r);break;case 13:bn(s,r),xn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(zd=Ut()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Od(r,c)));break;case 22:m=r.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,B=ji,X=_t;if(ji=B||m,_t=X||D,bn(s,r),_t=X,ji=B,xn(r),c&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||D||ji||_t||cs(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(y=D.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=D.stateNode;var re=D.memoizedProps.style,F=re!=null&&re.hasOwnProperty("display")?re.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Y){et(D,D.return,Y)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(Y){et(D,D.return,Y)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Od(r,o))));break;case 19:bn(s,r),xn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Od(r,c)));break;case 30:break;case 21:break;default:bn(s,r),xn(r)}}function xn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if($0(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=Nd(r);oc(r,y,m);break;case 5:var x=o.stateNode;o.flags&32&&(Fs(x,""),o.flags&=-33);var E=Nd(r);oc(r,E,x);break;case 3:case 4:var D=o.stateNode.containerInfo,B=Nd(r);Id(r,B,D);break;default:throw Error(i(161))}}catch(X){et(r,r.return,X)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ib(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;ib(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function hr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z0(r,s.alternate,s),s=s.sibling}function cs(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:fr(4,s,s.return),cs(s);break;case 1:fi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&K0(s,s.return,o),cs(s);break;case 27:Qo(s.stateNode);case 26:case 5:fi(s,s.return),cs(s);break;case 22:s.memoizedState===null&&cs(s);break;case 30:cs(s);break;default:cs(s)}r=r.sibling}}function dr(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:dr(m,y,o),Vo(4,y);break;case 1:if(dr(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){et(c,c.return,B)}if(c=y,m=c.updateQueue,m!==null){var E=c.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)D_(D[m],E)}catch(B){et(c,c.return,B)}}o&&x&64&&Y0(y),Ho(y,y.return);break;case 27:X0(y);case 26:case 5:dr(m,y,o),o&&c===null&&x&4&&W0(y),Ho(y,y.return);break;case 12:dr(m,y,o);break;case 13:dr(m,y,o),o&&x&4&&tb(m,y);break;case 22:y.memoizedState===null&&dr(m,y,o),Ho(y,y.return);break;case 30:break;default:dr(m,y,o)}s=s.sibling}}function Md(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ao(o))}function Pd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ao(r))}function hi(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rb(r,s,o,c),s=s.sibling}function rb(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:hi(r,s,o,c),m&2048&&Vo(9,s);break;case 1:hi(r,s,o,c);break;case 3:hi(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ao(r)));break;case 12:if(m&2048){hi(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,x=y.id,E=y.onPostCommit;typeof E=="function"&&E(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){et(s,s.return,D)}}else hi(r,s,o,c);break;case 13:hi(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?hi(r,s,o,c):Fo(r,s):y._visibility&2?hi(r,s,o,c):(y._visibility|=2,la(r,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&Md(x,s);break;case 24:hi(r,s,o,c),m&2048&&Pd(s.alternate,s);break;default:hi(r,s,o,c)}}function la(r,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,x=s,E=o,D=c,B=x.flags;switch(x.tag){case 0:case 11:case 15:la(y,x,E,D,m),Vo(8,x);break;case 23:break;case 22:var X=x.stateNode;x.memoizedState!==null?X._visibility&2?la(y,x,E,D,m):Fo(y,x):(X._visibility|=2,la(y,x,E,D,m)),m&&B&2048&&Md(x.alternate,x);break;case 24:la(y,x,E,D,m),m&&B&2048&&Pd(x.alternate,x);break;default:la(y,x,E,D,m)}s=s.sibling}}function Fo(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:Fo(o,c),m&2048&&Md(c.alternate,c);break;case 24:Fo(o,c),m&2048&&Pd(c.alternate,c);break;default:Fo(o,c)}s=s.sibling}}var qo=8192;function ua(r){if(r.subtreeFlags&qo)for(r=r.child;r!==null;)sb(r),r=r.sibling}function sb(r){switch(r.tag){case 26:ua(r),r.flags&qo&&r.memoizedState!==null&&xN($n,r.memoizedState,r.memoizedProps);break;case 5:ua(r);break;case 3:case 4:var s=$n;$n=bc(r.stateNode.containerInfo),ua(r),$n=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=qo,qo=16777216,ua(r),qo=s):ua(r));break;default:ua(r)}}function ab(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Go(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Dt=c,lb(c,r)}ab(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ob(r),r=r.sibling}function ob(r){switch(r.tag){case 0:case 11:case 15:Go(r),r.flags&2048&&fr(9,r,r.return);break;case 3:Go(r);break;case 12:Go(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,lc(r)):Go(r);break;default:Go(r)}}function lc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Dt=c,lb(c,r)}ab(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:fr(8,s,s.return),lc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,lc(s));break;default:lc(s)}r=r.sibling}}function lb(r,s){for(;Dt!==null;){var o=Dt;switch(o.tag){case 0:case 11:case 15:fr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ao(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Dt=c;else e:for(o=r;Dt!==null;){c=Dt;var m=c.sibling,y=c.return;if(J0(c),c===o){Dt=null;break e}if(m!==null){m.return=y,Dt=m;break e}Dt=y}}}var jk={getCacheForType:function(r){var s=Kt(Ct),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Uk=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,Ue=null,He=0,We=0,Sn=null,pr=!1,ca=!1,Ld=!1,zi=0,pt=0,mr=0,fs=0,jd=0,Un=0,fa=0,Yo=null,ln=null,Ud=!1,zd=0,uc=1/0,cc=null,gr=null,Bt=0,yr=null,ha=null,da=0,Bd=0,Vd=null,ub=null,Ko=0,Hd=null;function wn(){if((Ke&2)!==0&&He!==0)return He&-He;if(j.T!==null){var r=ea;return r!==0?r:$d()}return Tv()}function cb(){Un===0&&(Un=(He&536870912)===0||qe?xv():536870912);var r=jn.current;return r!==null&&(r.flags|=32),Un}function En(r,s,o){(r===tt&&(We===2||We===9)||r.cancelPendingCommit!==null)&&(pa(r,0),vr(r,He,Un,!1)),co(r,o),((Ke&2)===0||r!==tt)&&(r===tt&&((Ke&2)===0&&(fs|=o),pt===4&&vr(r,He,Un,!1)),di(r))}function fb(r,s,o){if((Ke&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Nn(r,s),m=c?Vk(r,s):Gd(r,s,!0),y=c;do{if(m===0){ca&&!c&&vr(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!zk(o)){m=Gd(r,s,!1),y=!1;continue}if(m===2){if(y=s,r.errorRecoveryDisabledLanes&y)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var E=r;m=Yo;var D=E.current.memoizedState.isDehydrated;if(D&&(pa(E,x).flags|=256),x=Gd(E,x,!1),x!==2){if(Ld&&!D){E.errorRecoveryDisabledLanes|=y,fs|=y,m=4;break e}y=ln,ln=m,y!==null&&(ln===null?ln=y:ln.push.apply(ln,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){pa(r,0),vr(r,s,0,!0);break}e:{switch(c=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:vr(c,s,Un,!pr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=zd+300-Ut(),10<m)){if(vr(c,s,Un,!pr),kt(c,0,!0)!==0)break e;c.timeoutHandle=Bb(hb.bind(null,c,o,ln,cc,Ud,s,Un,fs,fa,pr,y,2,-0,0),m);break e}hb(c,o,ln,cc,Ud,s,Un,fs,fa,pr,y,0,-0,0)}}break}while(!0);di(r)}function hb(r,s,o,c,m,y,x,E,D,B,X,re,F,Y){if(r.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:bN},sb(s),re=SN(),re!==null)){r.cancelPendingCommit=re(_b.bind(null,r,s,y,o,c,m,x,E,D,X,1,F,Y)),vr(r,y,x,!B);return}_b(r,s,y,o,c,m,x,E,D)}function zk(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!vn(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vr(r,s,o,c){s&=~jd,s&=~fs,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var y=31-ge(m),x=1<<y;c[y]=-1,m&=~x}o!==0&&wv(r,o,s)}function fc(){return(Ke&6)===0?(Wo(0),!1):!0}function Fd(){if(Ue!==null){if(We===0)var r=Ue.return;else r=Ue,Ii=ss=null,ad(r),aa=null,Uo=0,r=Ue;for(;r!==null;)G0(r.alternate,r),r=r.return;Ue=null}}function pa(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,iN(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Fd(),tt=r,Ue=o=Ri(r.current,null),He=s,We=0,Sn=null,pr=!1,ca=Nn(r,s),Ld=!1,fa=Un=jd=fs=mr=pt=0,ln=Yo=null,Ud=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-ge(c),y=1<<m;s|=r[m],c&=~y}return zi=s,Ou(),o}function db(r,s){Oe=null,j.H=Zu,s===ko||s===Hu?(s=N_(),We=3):s===A_?(s=N_(),We=4):We=s===I0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,Ue===null&&(pt=1,ic(r,On(s,r.current)))}function pb(){var r=j.H;return j.H=Zu,r===null?Zu:r}function mb(){var r=j.A;return j.A=jk,r}function qd(){pt=4,pr||(He&4194048)!==He&&jn.current!==null||(ca=!0),(mr&134217727)===0&&(fs&134217727)===0||tt===null||vr(tt,He,Un,!1)}function Gd(r,s,o){var c=Ke;Ke|=2;var m=pb(),y=mb();(tt!==r||He!==s)&&(cc=null,pa(r,s)),s=!1;var x=pt;e:do try{if(We!==0&&Ue!==null){var E=Ue,D=Sn;switch(We){case 8:Fd(),x=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var B=We;if(We=0,Sn=null,ma(r,E,D,B),o&&ca){x=0;break e}break;default:B=We,We=0,Sn=null,ma(r,E,D,B)}}Bk(),x=pt;break}catch(X){db(r,X)}while(!0);return s&&r.shellSuspendCounter++,Ii=ss=null,Ke=c,j.H=m,j.A=y,Ue===null&&(tt=null,He=0,Ou()),x}function Bk(){for(;Ue!==null;)gb(Ue)}function Vk(r,s){var o=Ke;Ke|=2;var c=pb(),m=mb();tt!==r||He!==s?(cc=null,uc=Ut()+500,pa(r,s)):ca=Nn(r,s);e:do try{if(We!==0&&Ue!==null){s=Ue;var y=Sn;t:switch(We){case 1:We=0,Sn=null,ma(r,s,y,1);break;case 2:case 9:if(R_(y)){We=0,Sn=null,yb(s);break}s=function(){We!==2&&We!==9||tt!==r||(We=7),di(r)},y.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:R_(y)?(We=0,Sn=null,yb(s)):(We=0,Sn=null,ma(r,s,y,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var E=Ue;if(!x||Zb(x)){We=0,Sn=null;var D=E.sibling;if(D!==null)Ue=D;else{var B=E.return;B!==null?(Ue=B,hc(B)):Ue=null}break t}}We=0,Sn=null,ma(r,s,y,5);break;case 6:We=0,Sn=null,ma(r,s,y,6);break;case 8:Fd(),pt=6;break e;default:throw Error(i(462))}}Hk();break}catch(X){db(r,X)}while(!0);return Ii=ss=null,j.H=c,j.A=m,Ke=o,Ue!==null?0:(tt=null,He=0,Ou(),pt)}function Hk(){for(;Ue!==null&&!wi();)gb(Ue)}function gb(r){var s=F0(r.alternate,r,zi);r.memoizedProps=r.pendingProps,s===null?hc(r):Ue=s}function yb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=j0(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=j0(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:ad(s);default:G0(o,s),s=Ue=v_(s,zi),s=F0(o,s,zi)}r.memoizedProps=r.pendingProps,s===null?hc(r):Ue=s}function ma(r,s,o,c){Ii=ss=null,ad(s),aa=null,Uo=0;var m=s.return;try{if(Ik(r,m,s,o,He)){pt=1,ic(r,On(o,r.current)),Ue=null;return}}catch(y){if(m!==null)throw Ue=m,y;pt=1,ic(r,On(o,r.current)),Ue=null;return}s.flags&32768?(qe||c===1?r=!0:ca||(He&536870912)!==0?r=!1:(pr=r=!0,(c===2||c===9||c===3||c===6)&&(c=jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),vb(s,r)):hc(s)}function hc(r){var s=r;do{if((s.flags&32768)!==0){vb(s,pr);return}r=s.return;var o=Ok(s.alternate,s,zi);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);pt===0&&(pt=5)}function vb(r,s){do{var o=Mk(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);pt=6,Ue=null}function _b(r,s,o,c,m,y,x,E,D){r.cancelPendingCommit=null;do dc();while(Bt!==0);if((Ke&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Ph,bR(r,o,y,x,E,D),r===tt&&(Ue=tt=null,He=0),ha=s,yr=r,da=o,Bd=y,Vd=m,ub=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Yk(Yn,function(){return Eb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=j.T,j.T=null,m=te.p,te.p=2,x=Ke,Ke|=4;try{Pk(r,s,o)}finally{Ke=x,te.p=m,j.T=c}}Bt=1,bb(),xb(),Sb()}}function bb(){if(Bt===1){Bt=0;var r=yr,s=ha,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=j.T,j.T=null;var c=te.p;te.p=2;var m=Ke;Ke|=4;try{nb(s,r);var y=ip,x=l_(r.containerInfo),E=y.focusedElem,D=y.selectionRange;if(x!==E&&E&&E.ownerDocument&&o_(E.ownerDocument.documentElement,E)){if(D!==null&&Nh(E)){var B=D.start,X=D.end;if(X===void 0&&(X=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(X,E.value.length);else{var re=E.ownerDocument||document,F=re&&re.defaultView||window;if(F.getSelection){var Y=F.getSelection(),we=E.textContent.length,be=Math.min(D.start,we),Qe=D.end===void 0?be:Math.min(D.end,we);!Y.extend&&be>Qe&&(x=Qe,Qe=be,be=x);var U=a_(E,be),P=a_(E,Qe);if(U&&P&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var z=re.createRange();z.setStart(U.node,U.offset),Y.removeAllRanges(),be>Qe?(Y.addRange(z),Y.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),Y.addRange(z))}}}}for(re=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<re.length;E++){var ee=re[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Tc=!!np,ip=np=null}finally{Ke=m,te.p=c,j.T=o}}r.current=s,Bt=2}}function xb(){if(Bt===2){Bt=0;var r=yr,s=ha,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=j.T,j.T=null;var c=te.p;te.p=2;var m=Ke;Ke|=4;try{Z0(r,s.alternate,s)}finally{Ke=m,te.p=c,j.T=o}}Bt=3}}function Sb(){if(Bt===4||Bt===3){Bt=0,kn();var r=yr,s=ha,o=da,c=ub;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,ha=yr=null,wb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(gr=null),uh(o),s=s.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(q,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=j.T,m=te.p,te.p=2,j.T=null;try{for(var y=r.onRecoverableError,x=0;x<c.length;x++){var E=c[x];y(E.value,{componentStack:E.stack})}}finally{j.T=s,te.p=m}}(da&3)!==0&&dc(),di(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Hd?Ko++:(Ko=0,Hd=r):Ko=0,Wo(0)}}function wb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Ao(s)))}function dc(r){return bb(),xb(),Sb(),Eb()}function Eb(){if(Bt!==5)return!1;var r=yr,s=Bd;Bd=0;var o=uh(da),c=j.T,m=te.p;try{te.p=32>o?32:o,j.T=null,o=Vd,Vd=null;var y=yr,x=da;if(Bt=0,ha=yr=null,da=0,(Ke&6)!==0)throw Error(i(331));var E=Ke;if(Ke|=4,ob(y.current),rb(y,y.current,x,o),Ke=E,Wo(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(q,y)}catch{}return!0}finally{te.p=m,j.T=c,wb(r,s)}}function Tb(r,s,o){s=On(o,s),s=bd(r.stateNode,s,2),r=or(r,s,2),r!==null&&(co(r,2),di(r))}function et(r,s,o){if(r.tag===3)Tb(r,r,o);else for(;s!==null;){if(s.tag===3){Tb(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gr===null||!gr.has(c))){r=On(o,r),o=k0(2),c=or(s,o,2),c!==null&&(N0(o,c,s,r),co(c,2),di(c));break}}s=s.return}}function Yd(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new Uk;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Ld=!0,m.add(o),r=Fk.bind(null,r,s,o),s.then(r,r))}function Fk(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,tt===r&&(He&o)===o&&(pt===4||pt===3&&(He&62914560)===He&&300>Ut()-zd?(Ke&2)===0&&pa(r,0):jd|=o,fa===He&&(fa=0)),di(r)}function Cb(r,s){s===0&&(s=Sv()),r=Xs(r,s),r!==null&&(co(r,s),di(r))}function qk(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Cb(r,o)}function Gk(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Cb(r,o)}function Yk(r,s){return gn(r,s)}var pc=null,ga=null,Kd=!1,mc=!1,Wd=!1,hs=0;function di(r){r!==ga&&r.next===null&&(ga===null?pc=ga=r:ga=ga.next=r),mc=!0,Kd||(Kd=!0,Wk())}function Wo(r,s){if(!Wd&&mc){Wd=!0;do for(var o=!1,c=pc;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var x=c.suspendedLanes,E=c.pingedLanes;y=(1<<31-ge(42|r)+1)-1,y&=m&~(x&~E),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Nb(c,y))}else y=He,y=kt(c,c===tt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Nn(c,y)||(o=!0,Nb(c,y));c=c.next}while(o);Wd=!1}}function Kk(){Ab()}function Ab(){mc=Kd=!1;var r=0;hs!==0&&(nN()&&(r=hs),hs=0);for(var s=Ut(),o=null,c=pc;c!==null;){var m=c.next,y=Rb(c,s);y===0?(c.next=null,o===null?pc=m:o.next=m,m===null&&(ga=o)):(o=c,(r!==0||(y&3)!==0)&&(mc=!0)),c=m}Wo(r)}function Rb(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var x=31-ge(y),E=1<<x,D=m[x];D===-1?((E&o)===0||(E&c)!==0)&&(m[x]=Kn(E,s)):D<=s&&(r.expiredLanes|=E),y&=~E}if(s=tt,o=He,o=kt(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(We===2||We===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&nn(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Nn(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&nn(c),uh(o)){case 2:case 8:o=Ti;break;case 32:o=Yn;break;case 268435456:o=_e;break;default:o=Yn}return c=kb.bind(null,r),o=gn(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&nn(c),r.callbackPriority=2,r.callbackNode=null,2}function kb(r,s){if(Bt!==0&&Bt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(dc()&&r.callbackNode!==o)return null;var c=He;return c=kt(r,r===tt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(fb(r,c,s),Rb(r,Ut()),r.callbackNode!=null&&r.callbackNode===o?kb.bind(null,r):null)}function Nb(r,s){if(dc())return null;fb(r,s,!0)}function Wk(){rN(function(){(Ke&6)!==0?gn(Ei,Kk):Ab()})}function $d(){return hs===0&&(hs=xv()),hs}function Ib(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Cu(""+r)}function Db(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function $k(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var y=Ib((m[rn]||null).action),x=c.submitter;x&&(s=(s=x[rn]||null)?Ib(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var E=new Nu("action","action",null,c,m);r.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(hs!==0){var D=x?Db(m,x):new FormData(m);md(o,{pending:!0,data:D,method:m.method,action:y},null,D)}}else typeof y=="function"&&(E.preventDefault(),D=x?Db(m,x):new FormData(m),md(o,{pending:!0,data:D,method:m.method,action:y},y,D))},currentTarget:m}]})}}for(var Xd=0;Xd<Mh.length;Xd++){var Qd=Mh[Xd],Xk=Qd.toLowerCase(),Qk=Qd[0].toUpperCase()+Qd.slice(1);Wn(Xk,"on"+Qk)}Wn(f_,"onAnimationEnd"),Wn(h_,"onAnimationIteration"),Wn(d_,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(pk,"onTransitionRun"),Wn(mk,"onTransitionStart"),Wn(gk,"onTransitionCancel"),Wn(p_,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function Ob(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var x=c.length-1;0<=x;x--){var E=c[x],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==y&&m.isPropagationStopped())break e;y=E,m.currentTarget=B;try{y(m)}catch(X){nc(X)}m.currentTarget=null,y=D}else for(x=0;x<c.length;x++){if(E=c[x],D=E.instance,B=E.currentTarget,E=E.listener,D!==y&&m.isPropagationStopped())break e;y=E,m.currentTarget=B;try{y(m)}catch(X){nc(X)}m.currentTarget=null,y=D}}}}function ze(r,s){var o=s[ch];o===void 0&&(o=s[ch]=new Set);var c=r+"__bubble";o.has(c)||(Mb(s,r,2,!1),o.add(c))}function Zd(r,s,o){var c=0;s&&(c|=4),Mb(o,r,c,s)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Jd(r){if(!r[gc]){r[gc]=!0,Av.forEach(function(o){o!=="selectionchange"&&(Zk.has(o)||Zd(o,!1,r),Zd(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[gc]||(s[gc]=!0,Zd("selectionchange",!1,s))}}function Mb(r,s,o,c){switch(rx(s)){case 2:var m=TN;break;case 8:m=CN;break;default:m=dp}o=m.bind(null,s,o,r),m=void 0,!xh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function ep(r,s,o,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===m)break;if(x===4)for(x=c.return;x!==null;){var D=x.tag;if((D===3||D===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;E!==null;){if(x=js(E),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){c=y=x;continue e}E=E.parentNode}}c=c.return}Vv(function(){var B=y,X=_h(o),re=[];e:{var F=m_.get(r);if(F!==void 0){var Y=Nu,we=r;switch(r){case"keypress":if(Ru(o)===0)break e;case"keydown":case"keyup":Y=YR;break;case"focusin":we="focus",Y=Th;break;case"focusout":we="blur",Y=Th;break;case"beforeblur":case"afterblur":Y=Th;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=$R;break;case f_:case h_:case d_:Y=jR;break;case p_:Y=QR;break;case"scroll":case"scrollend":Y=DR;break;case"wheel":Y=JR;break;case"copy":case"cut":case"paste":Y=zR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Yv;break;case"toggle":case"beforetoggle":Y=tk}var be=(s&4)!==0,Qe=!be&&(r==="scroll"||r==="scrollend"),U=be?F!==null?F+"Capture":null:F;be=[];for(var P=B,z;P!==null;){var ee=P;if(z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||z===null||U===null||(ee=po(P,U),ee!=null&&be.push(Xo(P,ee,z))),Qe)break;P=P.return}0<be.length&&(F=new Y(F,we,null,o,X),re.push({event:F,listeners:be}))}}if((s&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",F&&o!==vh&&(we=o.relatedTarget||o.fromElement)&&(js(we)||we[Ls]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(we=o.relatedTarget||o.toElement,Y=B,we=we?js(we):null,we!==null&&(Qe=l(we),be=we.tag,we!==Qe||be!==5&&be!==27&&be!==6)&&(we=null)):(Y=null,we=B),Y!==we)){if(be=qv,ee="onMouseLeave",U="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(be=Yv,ee="onPointerLeave",U="onPointerEnter",P="pointer"),Qe=Y==null?F:ho(Y),z=we==null?F:ho(we),F=new be(ee,P+"leave",Y,o,X),F.target=Qe,F.relatedTarget=z,ee=null,js(X)===B&&(be=new be(U,P+"enter",we,o,X),be.target=z,be.relatedTarget=Qe,ee=be),Qe=ee,Y&&we)t:{for(be=Y,U=we,P=0,z=be;z;z=ya(z))P++;for(z=0,ee=U;ee;ee=ya(ee))z++;for(;0<P-z;)be=ya(be),P--;for(;0<z-P;)U=ya(U),z--;for(;P--;){if(be===U||U!==null&&be===U.alternate)break t;be=ya(be),U=ya(U)}be=null}else be=null;Y!==null&&Pb(re,F,Y,be,!1),we!==null&&Qe!==null&&Pb(re,Qe,we,be,!0)}}e:{if(F=B?ho(B):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var me=e_;else if(Zv(F))if(t_)me=fk;else{me=uk;var Me=lk}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&yh(B.elementType)&&(me=e_):me=ck;if(me&&(me=me(r,B))){Jv(re,me,o,X);break e}Me&&Me(r,F,B),r==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&gh(F,"number",F.value)}switch(Me=B?ho(B):window,r){case"focusin":(Zv(Me)||Me.contentEditable==="true")&&(Ks=Me,Ih=B,So=null);break;case"focusout":So=Ih=Ks=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,u_(re,o,X);break;case"selectionchange":if(dk)break;case"keydown":case"keyup":u_(re,o,X)}var ye;if(Ah)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ys?Xv(r,o)&&(xe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(Kv&&o.locale!=="ko"&&(Ys||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ys&&(ye=Hv()):(ir=X,Sh="value"in ir?ir.value:ir.textContent,Ys=!0)),Me=yc(B,xe),0<Me.length&&(xe=new Gv(xe,r,null,o,X),re.push({event:xe,listeners:Me}),ye?xe.data=ye:(ye=Qv(o),ye!==null&&(xe.data=ye)))),(ye=ik?rk(r,o):sk(r,o))&&(xe=yc(B,"onBeforeInput"),0<xe.length&&(Me=new Gv("onBeforeInput","beforeinput",null,o,X),re.push({event:Me,listeners:xe}),Me.data=ye)),$k(re,r,B,o,X)}Ob(re,s)})}function Xo(r,s,o){return{instance:r,listener:s,currentTarget:o}}function yc(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=po(r,o),m!=null&&c.unshift(Xo(r,m,y)),m=po(r,s),m!=null&&c.push(Xo(r,m,y))),r.tag===3)return c;r=r.return}return[]}function ya(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Pb(r,s,o,c,m){for(var y=s._reactName,x=[];o!==null&&o!==c;){var E=o,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===c)break;E!==5&&E!==26&&E!==27||B===null||(D=B,m?(B=po(o,y),B!=null&&x.unshift(Xo(o,B,D))):m||(B=po(o,y),B!=null&&x.push(Xo(o,B,D)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var Jk=/\r\n?/g,eN=/\u0000|\uFFFD/g;function Lb(r){return(typeof r=="string"?r:""+r).replace(Jk,`
`).replace(eN,"")}function jb(r,s){return s=Lb(s),Lb(r)===s}function vc(){}function Xe(r,s,o,c,m,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Fs(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Fs(r,""+c);break;case"className":wu(r,"class",c);break;case"tabIndex":wu(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wu(r,o,c);break;case"style":zv(r,c,y);break;case"data":if(s!=="object"){wu(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Cu(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Xe(r,s,"name",m.name,m,null),Xe(r,s,"formEncType",m.formEncType,m,null),Xe(r,s,"formMethod",m.formMethod,m,null),Xe(r,s,"formTarget",m.formTarget,m,null)):(Xe(r,s,"encType",m.encType,m,null),Xe(r,s,"method",m.method,m,null),Xe(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Cu(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=vc);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Cu(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":ze("beforetoggle",r),ze("toggle",r),Su(r,"popover",c);break;case"xlinkActuate":Ci(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ci(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ci(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ci(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ci(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ci(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ci(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ci(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ci(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Su(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=NR.get(o)||o,Su(r,o,c))}}function tp(r,s,o,c,m,y){switch(o){case"style":zv(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Fs(r,c):(typeof c=="number"||typeof c=="bigint")&&Fs(r,""+c);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=r[rn]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Su(r,o,c)}}}function Vt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var x=o[y];if(x!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,y,x,o,null)}}m&&Xe(r,s,"srcSet",o.srcSet,o,null),c&&Xe(r,s,"src",o.src,o,null);return;case"input":ze("invalid",r);var E=y=x=m=null,D=null,B=null;for(c in o)if(o.hasOwnProperty(c)){var X=o[c];if(X!=null)switch(c){case"name":m=X;break;case"type":x=X;break;case"checked":D=X;break;case"defaultChecked":B=X;break;case"value":y=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Xe(r,s,c,X,o,null)}}Pv(r,y,E,D,B,x,m,!1),Eu(r);return;case"select":ze("invalid",r),c=x=y=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":y=E;break;case"defaultValue":x=E;break;case"multiple":c=E;default:Xe(r,s,m,E,o,null)}s=y,o=x,r.multiple=!!c,s!=null?Hs(r,!!c,s,!1):o!=null&&Hs(r,!!c,o,!0);return;case"textarea":ze("invalid",r),y=m=c=null;for(x in o)if(o.hasOwnProperty(x)&&(E=o[x],E!=null))switch(x){case"value":c=E;break;case"defaultValue":m=E;break;case"children":y=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Xe(r,s,x,E,o,null)}jv(r,c,m,y),Eu(r);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(c=o[D],c!=null))switch(D){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Xe(r,s,D,c,o,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(c=0;c<$o.length;c++)ze($o[c],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,B,c,o,null)}return;default:if(yh(s)){for(X in o)o.hasOwnProperty(X)&&(c=o[X],c!==void 0&&tp(r,s,X,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&Xe(r,s,E,c,o,null))}function tN(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,E=null,D=null,B=null,X=null;for(Y in o){var re=o[Y];if(o.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=re;default:c.hasOwnProperty(Y)||Xe(r,s,Y,null,c,re)}}for(var F in c){var Y=c[F];if(re=o[F],c.hasOwnProperty(F)&&(Y!=null||re!=null))switch(F){case"type":y=Y;break;case"name":m=Y;break;case"checked":B=Y;break;case"defaultChecked":X=Y;break;case"value":x=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==re&&Xe(r,s,F,Y,c,re)}}mh(r,x,E,D,B,X,y,m);return;case"select":Y=x=E=F=null;for(y in o)if(D=o[y],o.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":Y=D;default:c.hasOwnProperty(y)||Xe(r,s,y,null,c,D)}for(m in c)if(y=c[m],D=o[m],c.hasOwnProperty(m)&&(y!=null||D!=null))switch(m){case"value":F=y;break;case"defaultValue":E=y;break;case"multiple":x=y;default:y!==D&&Xe(r,s,m,y,c,D)}s=E,o=x,c=Y,F!=null?Hs(r,!!o,F,!1):!!c!=!!o&&(s!=null?Hs(r,!!o,s,!0):Hs(r,!!o,o?[]:"",!1));return;case"textarea":Y=F=null;for(E in o)if(m=o[E],o.hasOwnProperty(E)&&m!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(r,s,E,null,c,m)}for(x in c)if(m=c[x],y=o[x],c.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":F=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Xe(r,s,x,m,c,y)}Lv(r,F,Y);return;case"option":for(var we in o)if(F=o[we],o.hasOwnProperty(we)&&F!=null&&!c.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:Xe(r,s,we,null,c,F)}for(D in c)if(F=c[D],Y=o[D],c.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null))switch(D){case"selected":r.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xe(r,s,D,F,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)F=o[be],o.hasOwnProperty(be)&&F!=null&&!c.hasOwnProperty(be)&&Xe(r,s,be,null,c,F);for(B in c)if(F=c[B],Y=o[B],c.hasOwnProperty(B)&&F!==Y&&(F!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,s));break;default:Xe(r,s,B,F,c,Y)}return;default:if(yh(s)){for(var Qe in o)F=o[Qe],o.hasOwnProperty(Qe)&&F!==void 0&&!c.hasOwnProperty(Qe)&&tp(r,s,Qe,void 0,c,F);for(X in c)F=c[X],Y=o[X],!c.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||tp(r,s,X,F,c,Y);return}}for(var U in o)F=o[U],o.hasOwnProperty(U)&&F!=null&&!c.hasOwnProperty(U)&&Xe(r,s,U,null,c,F);for(re in c)F=c[re],Y=o[re],!c.hasOwnProperty(re)||F===Y||F==null&&Y==null||Xe(r,s,re,F,c,Y)}var np=null,ip=null;function _c(r){return r.nodeType===9?r:r.ownerDocument}function Ub(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function rp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sp=null;function nN(){var r=window.event;return r&&r.type==="popstate"?r===sp?!1:(sp=r,!0):(sp=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,Vb=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof Vb<"u"?function(r){return Vb.resolve(null).then(r).catch(sN)}:Bb;function sN(r){setTimeout(function(){throw r})}function _r(r){return r==="head"}function Hb(r,s){var o=s,c=0,m=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var x=r.ownerDocument;if(o&1&&Qo(x.documentElement),o&2&&Qo(x.body),o&4)for(o=x.head,Qo(o),x=o.firstChild;x;){var E=x.nextSibling,D=x.nodeName;x[fo]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=E}}if(m===0){r.removeChild(y),sl(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);sl(s)}function ap(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ap(o),fh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function aN(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[fo])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Xn(r.nextSibling),r===null)break}return null}function oN(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Xn(r.nextSibling),r===null))return null;return r}function op(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function lN(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Xn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var lp=null;function Fb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function qb(r,s,o){switch(s=_c(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Qo(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);fh(r)}var zn=new Map,Gb=new Set;function bc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Bi=te.d;te.d={f:uN,r:cN,D:fN,C:hN,L:dN,m:pN,X:gN,S:mN,M:yN};function uN(){var r=Bi.f(),s=fc();return r||s}function cN(r){var s=Us(r);s!==null&&s.tag===5&&s.type==="form"?f0(s):Bi.r(r)}var va=typeof document>"u"?null:document;function Yb(r,s,o){var c=va;if(c&&typeof s=="string"&&s){var m=Dn(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Gb.has(m)||(Gb.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Vt(s,"link",r),Nt(s),c.head.appendChild(s)))}}function fN(r){Bi.D(r),Yb("dns-prefetch",r,null)}function hN(r,s){Bi.C(r,s),Yb("preconnect",r,s)}function dN(r,s,o){Bi.L(r,s,o);var c=va;if(c&&r&&s){var m='link[rel="preload"][as="'+Dn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dn(o.imageSizes)+'"]')):m+='[href="'+Dn(r)+'"]';var y=m;switch(s){case"style":y=_a(r);break;case"script":y=ba(r)}zn.has(y)||(r=p({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),zn.set(y,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Zo(y))||s==="script"&&c.querySelector(Jo(y))||(s=c.createElement("link"),Vt(s,"link",r),Nt(s),c.head.appendChild(s)))}}function pN(r,s){Bi.m(r,s);var o=va;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Dn(c)+'"][href="'+Dn(r)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ba(r)}if(!zn.has(y)&&(r=p({rel:"modulepreload",href:r},s),zn.set(y,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Jo(y)))return}c=o.createElement("link"),Vt(c,"link",r),Nt(c),o.head.appendChild(c)}}}function mN(r,s,o){Bi.S(r,s,o);var c=va;if(c&&r){var m=zs(c).hoistableStyles,y=_a(r);s=s||"default";var x=m.get(y);if(!x){var E={loading:0,preload:null};if(x=c.querySelector(Zo(y)))E.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":s},o),(o=zn.get(y))&&up(r,o);var D=x=c.createElement("link");Nt(D),Vt(D,"link",r),D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:E},m.set(y,x)}}}function gN(r,s){Bi.X(r,s);var o=va;if(o&&r){var c=zs(o).hoistableScripts,m=ba(r),y=c.get(m);y||(y=o.querySelector(Jo(m)),y||(r=p({src:r,async:!0},s),(s=zn.get(m))&&cp(r,s),y=o.createElement("script"),Nt(y),Vt(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function yN(r,s){Bi.M(r,s);var o=va;if(o&&r){var c=zs(o).hoistableScripts,m=ba(r),y=c.get(m);y||(y=o.querySelector(Jo(m)),y||(r=p({src:r,async:!0,type:"module"},s),(s=zn.get(m))&&cp(r,s),y=o.createElement("script"),Nt(y),Vt(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Kb(r,s,o,c){var m=(m=Q.current)?bc(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=_a(o.href),o=zs(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=_a(o.href);var y=zs(m).hoistableStyles,x=y.get(r);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,x),(y=m.querySelector(Zo(r)))&&!y._p&&(x.instance=y,x.state.loading=5),zn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zn.set(r,o),y||vN(m,r,o,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ba(o),o=zs(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _a(r){return'href="'+Dn(r)+'"'}function Zo(r){return'link[rel="stylesheet"]['+r+"]"}function Wb(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function vN(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Vt(s,"link",o),Nt(s),r.head.appendChild(s))}function ba(r){return'[src="'+Dn(r)+'"]'}function Jo(r){return"script[async]"+r}function $b(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Dn(o.href)+'"]');if(c)return s.instance=c,Nt(c),c;var m=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Nt(c),Vt(c,"style",m),xc(c,o.precedence,r),s.instance=c;case"stylesheet":m=_a(o.href);var y=r.querySelector(Zo(m));if(y)return s.state.loading|=4,s.instance=y,Nt(y),y;c=Wb(o),(m=zn.get(m))&&up(c,m),y=(r.ownerDocument||r).createElement("link"),Nt(y);var x=y;return x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Vt(y,"link",c),s.state.loading|=4,xc(y,o.precedence,r),s.instance=y;case"script":return y=ba(o.src),(m=r.querySelector(Jo(y)))?(s.instance=m,Nt(m),m):(c=o,(m=zn.get(y))&&(c=p({},o),cp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Nt(m),Vt(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,xc(c,o.precedence,r));return s.instance}function xc(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,x=0;x<c.length;x++){var E=c[x];if(E.dataset.precedence===s)y=E;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function up(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function cp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Sc=null;function Xb(r,s,o){if(Sc===null){var c=new Map,m=Sc=new Map;m.set(o,c)}else m=Sc,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[fo]||y[Yt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=r+x;var E=c.get(x);E?E.push(y):c.set(x,[y])}}return c}function Qb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function _N(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Zb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var el=null;function bN(){}function xN(r,s,o){if(el===null)throw Error(i(475));var c=el;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=_a(o.href),y=r.querySelector(Zo(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=wc.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,Nt(y);return}y=r.ownerDocument||r,o=Wb(o),(m=zn.get(m))&&up(o,m),y=y.createElement("link"),Nt(y);var x=y;x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Vt(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=wc.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function SN(){if(el===null)throw Error(i(475));var r=el;return r.stylesheets&&r.count===0&&fp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&fp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)fp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ec=null;function fp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ec=new Map,s.forEach(wN,r),Ec=null,wc.call(r))}function wN(r,s){if(!(s.state.loading&4)){var o=Ec.get(r);if(o)var c=o.get(null);else{o=new Map,Ec.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}m=s.instance,x=m.getAttribute("data-precedence"),y=o.get(x)||c,y===c&&o.set(null,m),o.set(x,m),this.count++,c=wc.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var tl={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function EN(r,s,o,c,m,y,x,E){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.hiddenUpdates=oh(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Jb(r,s,o,c,m,y,x,E,D,B,X,re){return r=new EN(r,s,o,x,E,D,B,re),s=1,y===!0&&(s|=24),y=_n(3,null,null,s),r.current=y,y.stateNode=r,s=Yh(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Xh(y),r}function ex(r){return r?(r=Qs,r):Qs}function tx(r,s,o,c,m,y){m=ex(m),c.context===null?c.context=m:c.pendingContext=m,c=ar(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=or(r,c,s),o!==null&&(En(o,r,s),Io(o,r,s))}function nx(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function hp(r,s){nx(r,s),(r=r.alternate)&&nx(r,s)}function ix(r){if(r.tag===13){var s=Xs(r,67108864);s!==null&&En(s,r,67108864),hp(r,67108864)}}var Tc=!0;function TN(r,s,o,c){var m=j.T;j.T=null;var y=te.p;try{te.p=2,dp(r,s,o,c)}finally{te.p=y,j.T=m}}function CN(r,s,o,c){var m=j.T;j.T=null;var y=te.p;try{te.p=8,dp(r,s,o,c)}finally{te.p=y,j.T=m}}function dp(r,s,o,c){if(Tc){var m=pp(c);if(m===null)ep(r,s,c,Cc,o),sx(r,c);else if(RN(m,r,s,o,c))c.stopPropagation();else if(sx(r,c),s&4&&-1<AN.indexOf(r)){for(;m!==null;){var y=Us(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=yn(y.pendingLanes);if(x!==0){var E=y;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var D=1<<31-ge(x);E.entanglements[1]|=D,x&=~D}di(y),(Ke&6)===0&&(uc=Ut()+500,Wo(0))}}break;case 13:E=Xs(y,2),E!==null&&En(E,y,2),fc(),hp(y,2)}if(y=pp(c),y===null&&ep(r,s,c,Cc,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else ep(r,s,c,null,o)}}function pp(r){return r=_h(r),mp(r)}var Cc=null;function mp(r){if(Cc=null,r=js(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Cc=r,null}function rx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case Ei:return 2;case Ti:return 8;case Yn:case se:return 32;case _e:return 268435456;default:return 32}default:return 32}}var gp=!1,br=null,xr=null,Sr=null,nl=new Map,il=new Map,wr=[],AN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(r,s){switch(r){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":nl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(s.pointerId)}}function rl(r,s,o,c,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Us(s),s!==null&&ix(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function RN(r,s,o,c,m){switch(s){case"focusin":return br=rl(br,r,s,o,c,m),!0;case"dragenter":return xr=rl(xr,r,s,o,c,m),!0;case"mouseover":return Sr=rl(Sr,r,s,o,c,m),!0;case"pointerover":var y=m.pointerId;return nl.set(y,rl(nl.get(y)||null,r,s,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,il.set(y,rl(il.get(y)||null,r,s,o,c,m)),!0}return!1}function ax(r){var s=js(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,xR(r.priority,function(){if(o.tag===13){var c=wn();c=lh(c);var m=Xs(o,c);m!==null&&En(m,o,c),hp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ac(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=pp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);vh=c,o.target.dispatchEvent(c),vh=null}else return s=Us(o),s!==null&&ix(s),r.blockedOn=o,!1;s.shift()}return!0}function ox(r,s,o){Ac(r)&&o.delete(s)}function kN(){gp=!1,br!==null&&Ac(br)&&(br=null),xr!==null&&Ac(xr)&&(xr=null),Sr!==null&&Ac(Sr)&&(Sr=null),nl.forEach(ox),il.forEach(ox)}function Rc(r,s){r.blockedOn===s&&(r.blockedOn=null,gp||(gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kN)))}var kc=null;function lx(r){kc!==r&&(kc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kc===r&&(kc=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(mp(c||o)===null)continue;break}var y=Us(o);y!==null&&(r.splice(s,3),s-=3,md(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function sl(r){function s(D){return Rc(D,r)}br!==null&&Rc(br,r),xr!==null&&Rc(xr,r),Sr!==null&&Rc(Sr,r),nl.forEach(s),il.forEach(s);for(var o=0;o<wr.length;o++){var c=wr[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<wr.length&&(o=wr[0],o.blockedOn===null);)ax(o),o.blockedOn===null&&wr.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],x=m[rn]||null;if(typeof y=="function")x||lx(o);else if(x){var E=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[rn]||null)E=x.formAction;else if(mp(m)!==null)continue}else E=x.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),lx(o)}}}function yp(r){this._internalRoot=r}Nc.prototype.render=yp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=wn();tx(o,c,r,s,null,null)},Nc.prototype.unmount=yp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;tx(r.current,2,null,r,null,null),fc(),s[Ls]=null}};function Nc(r){this._internalRoot=r}Nc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Tv();r={blockedOn:null,target:r,priority:s};for(var o=0;o<wr.length&&s!==0&&s<wr[o].priority;o++);wr.splice(o,0,r),o===0&&ax(r)}};var ux=e.version;if(ux!=="19.1.1")throw Error(i(527,ux,"19.1.1"));te.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var NN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{q=Ic.inject(NN),ne=Ic}catch{}}return ol.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",m=T0,y=C0,x=A0,E=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=Jb(r,1,!1,null,null,o,c,m,y,x,E,null),r[Ls]=s.current,Jd(r),new yp(s)},ol.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,m="",y=T0,x=C0,E=A0,D=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),s=Jb(r,1,!0,s,o??null,c,m,y,x,E,D,B),s.context=ex(null),o=s.current,c=wn(),c=lh(c),m=ar(c),m.callback=null,or(o,m,c),o=c,s.current.lanes=o,co(s,o),di(s),r[Ls]=s.current,Jd(r),new Nc(s)},ol.version="19.1.1",ol}var _x;function VN(){if(_x)return bp.exports;_x=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bp.exports=BN(),bp.exports}var HN=VN();const FN=nu(HN);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bx="popstate";function qN(t={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return gm("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:jl(a)}return YN(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GN(){return Math.random().toString(36).substring(2,10)}function xx(t,e){return{usr:t.state,key:t.key,idx:e}}function gm(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:n,key:e&&e.key||i||GN()}}function jl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function YN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",d=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function g(){f="POP";let R=p(),T=R==null?null:R-h;h=R,d&&d({action:f,location:w.location,delta:T})}function v(R,T){f="PUSH";let k=gm(w.location,R,T);h=p()+1;let N=xx(k,h),K=w.createHref(k);try{u.pushState(N,"",K)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(K)}l&&d&&d({action:f,location:w.location,delta:1})}function _(R,T){f="REPLACE";let k=gm(w.location,R,T);h=p();let N=xx(k,h),K=w.createHref(k);u.replaceState(N,"",K),l&&d&&d({action:f,location:w.location,delta:0})}function S(R){return KN(R)}let w={get action(){return f},get location(){return t(a,u)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(bx,g),d=R,()=>{a.removeEventListener(bx,g),d=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let T=S(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(R){return u.go(R)}};return w}function KN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:jl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Lw(t,e,n="/"){return WN(t,e,n,!1)}function WN(t,e,n,i){let a=typeof e=="string"?Wa(e):e,l=Wi(a.pathname||"/",n);if(l==null)return null;let u=jw(t);$N(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let h=aI(l);f=rI(u[d],h,i)}return f}function jw(t,e=[],n=[],i=""){let a=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let h=Gi([i,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),jw(l.children,e,p,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:nI(h,l.index),routesMeta:p})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let d of Uw(l.path))a(l,u,d)}),e}function Uw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=Uw(i.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function $N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var XN=/^:[\w-]+$/,QN=3,ZN=2,JN=1,eI=10,tI=-2,Sx=t=>t==="*";function nI(t,e){let n=t.split("/"),i=n.length;return n.some(Sx)&&(i+=tI),e&&(i+=ZN),n.filter(a=>!Sx(a)).reduce((a,l)=>a+(XN.test(l)?QN:l===""?JN:eI),i)}function iI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function rI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],h=f===i.length-1,p=l==="/"?e:e.slice(l.length)||"/",g=rf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=rf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),u.push({params:a,pathname:Gi([l,g.pathname]),pathnameBase:cI(Gi([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=Gi([l,g.pathnameBase]))}return u}function rf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=f[v]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const _=f[v];return g&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:u,pattern:t}}function sI(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function aI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function oI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Wa(t):t;return{pathname:n?n.startsWith("/")?n:lI(n,e):e,search:fI(i),hash:hI(a)}}function lI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ep(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bg(t){let e=uI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function xg(t,e,n,i=!1){let a;typeof t=="string"?a=Wa(t):(a={...t},ct(!a.pathname||!a.pathname.includes("?"),Ep("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Ep("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Ep("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let g=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}f=g>=0?e[g]:"/"}let d=oI(a,f),h=u&&u!=="/"&&u.endsWith("/"),p=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Gi=t=>t.join("/").replace(/\/\/+/g,"/"),cI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zw=["POST","PUT","PATCH","DELETE"];new Set(zw);var pI=["GET",...zw];new Set(pI);var $a=O.createContext(null);$a.displayName="DataRouter";var Lf=O.createContext(null);Lf.displayName="DataRouterState";O.createContext(!1);var Bw=O.createContext({isTransitioning:!1});Bw.displayName="ViewTransition";var mI=O.createContext(new Map);mI.displayName="Fetchers";var gI=O.createContext(null);gI.displayName="Await";var ai=O.createContext(null);ai.displayName="Navigation";var iu=O.createContext(null);iu.displayName="Location";var oi=O.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Sg=O.createContext(null);Sg.displayName="RouteError";function yI(t,{relative:e}={}){ct(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(ai),{hash:a,pathname:l,search:u}=ru(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Gi([n,l])),i.createHref({pathname:f,search:u,hash:a})}function Xa(){return O.useContext(iu)!=null}function xi(){return ct(Xa(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(iu).location}var Vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hw(t){O.useContext(ai).static||O.useLayoutEffect(t)}function Hr(){let{isDataRoute:t}=O.useContext(oi);return t?II():vI()}function vI(){ct(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext($a),{basename:e,navigator:n}=O.useContext(ai),{matches:i}=O.useContext(oi),{pathname:a}=xi(),l=JSON.stringify(bg(i)),u=O.useRef(!1);return Hw(()=>{u.current=!0}),O.useCallback((d,h={})=>{if(ri(u.current,Vw),!u.current)return;if(typeof d=="number"){n.go(d);return}let p=xg(d,JSON.parse(l),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,l,a,t])}O.createContext(null);function _I(){let{matches:t}=O.useContext(oi),e=t[t.length-1];return e?e.params:{}}function ru(t,{relative:e}={}){let{matches:n}=O.useContext(oi),{pathname:i}=xi(),a=JSON.stringify(bg(n));return O.useMemo(()=>xg(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function bI(t,e){return Fw(t,e)}function Fw(t,e,n,i){var T;ct(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(ai),{matches:l}=O.useContext(oi),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let k=p&&p.path||"";qw(d,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=xi(),v;if(e){let k=typeof e=="string"?Wa(e):e;ct(h==="/"||((T=k.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=g;let _=v.pathname||"/",S=_;if(h!=="/"){let k=h.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Lw(t,{pathname:S});ri(p||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ri(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=TI(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Gi([h,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Gi([h,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,i);return e&&R?O.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function xI(){let t=NI(),e=dI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var SI=O.createElement(xI,null),wI=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(oi.Provider,{value:this.props.routeContext},O.createElement(Sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EI({routeContext:t,match:e,children:n}){let i=O.useContext($a);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(oi.Provider,{value:t},n)}function TI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:p,errors:g}=n,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let g,v=!1,_=null,S=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||SI,u&&(f<0&&p===0?(qw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):f===p&&(v=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),R=()=>{let T;return g?T=_:v?T=S:h.route.Component?T=O.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,O.createElement(EI,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?O.createElement(wI,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):R()},null)}function wg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CI(t){let e=O.useContext($a);return ct(e,wg(t)),e}function AI(t){let e=O.useContext(Lf);return ct(e,wg(t)),e}function RI(t){let e=O.useContext(oi);return ct(e,wg(t)),e}function Eg(t){let e=RI(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kI(){return Eg("useRouteId")}function NI(){var i;let t=O.useContext(Sg),e=AI("useRouteError"),n=Eg("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function II(){let{router:t}=CI("useNavigate"),e=Eg("useNavigate"),n=O.useRef(!1);return Hw(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{ri(n.current,Vw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var wx={};function qw(t,e,n){!e&&!wx[t]&&(wx[t]=!0,ri(!1,n))}O.memo(DI);function DI({routes:t,future:e,state:n}){return Fw(t,void 0,n,e)}function Tp({to:t,replace:e,state:n,relative:i}){ct(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(ai);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(oi),{pathname:u}=xi(),f=Hr(),d=xg(t,bg(l),u,i==="path"),h=JSON.stringify(d);return O.useEffect(()=>{f(JSON.parse(h),{replace:e,state:n,relative:i})},[f,h,i,e,n]),null}function Qn(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ct(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Wa(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,_=O.useMemo(()=>{let S=Wi(d,u);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:v},navigationType:i}},[u,d,h,p,g,v,i]);return ri(_!=null,`<Router basename="${u}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:O.createElement(ai.Provider,{value:f},O.createElement(iu.Provider,{children:e,value:_}))}function MI({children:t,location:e}){return bI(ym(t),e)}function ym(t,e=[]){let n=[];return O.Children.forEach(t,(i,a)=>{if(!O.isValidElement(i))return;let l=[...e,a];if(i.type===O.Fragment){n.push.apply(n,ym(i.props.children,l));return}ct(i.type===Qn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=ym(i.props.children,l)),n.push(u)}),n}var qc="get",Gc="application/x-www-form-urlencoded";function jf(t){return t!=null&&typeof t.tagName=="string"}function PI(t){return jf(t)&&t.tagName.toLowerCase()==="button"}function LI(t){return jf(t)&&t.tagName.toLowerCase()==="form"}function jI(t){return jf(t)&&t.tagName.toLowerCase()==="input"}function UI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zI(t,e){return t.button===0&&(!e||e==="_self")&&!UI(t)}var Dc=null;function BI(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var VI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(t){return t!=null&&!VI.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):t}function HI(t,e){let n,i,a,l,u;if(LI(t)){let f=t.getAttribute("action");i=f?Wi(f,e):null,n=t.getAttribute("method")||qc,a=Cp(t.getAttribute("enctype"))||Gc,l=new FormData(t)}else if(PI(t)||jI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?Wi(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||qc,a=Cp(t.getAttribute("formenctype"))||Cp(f.getAttribute("enctype"))||Gc,l=new FormData(f,t),!BI()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else h&&l.append(h,g)}}else{if(jf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,i=null,a=Gc,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FI(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Wi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function qI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await qI(l,n);return u.links?u.links():[]}return[]}));return XI(i.flat(1).filter(GI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ex(t,e,n,i,a,l){let u=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,f=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,h)=>u(d,h)||f(d,h)):l==="data"?e.filter((d,h)=>{var g;let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(u(d,h)||f(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function KI(t,e,{includeHydrateFallback:n}={}){return WI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function WI(t){return[...new Set(t)]}function $I(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function XI(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify($I(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function Gw(){let t=O.useContext($a);return Tg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QI(){let t=O.useContext(Lf);return Tg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cg=O.createContext(void 0);Cg.displayName="FrameworkContext";function Yw(){let t=O.useContext(Cg);return Tg(t,"You must render this element inside a <HydratedRouter> element"),t}function ZI(t,e){let n=O.useContext(Cg),[i,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let w=T=>{T.forEach(k=>{u(k.isIntersecting)})},R=new IntersectionObserver(w,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),O.useEffect(()=>{if(i){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[i]);let _=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:ll(f,_),onBlur:ll(d,S),onMouseEnter:ll(h,_),onMouseLeave:ll(p,S),onTouchStart:ll(g,_)}]:[!1,v,{}]}function ll(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JI({page:t,...e}){let{router:n}=Gw(),i=O.useMemo(()=>Lw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(tD,{page:t,matches:i,...e}):null}function eD(t){let{manifest:e,routeModules:n}=Yw(),[i,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return YI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function tD({page:t,matches:e,...n}){let i=xi(),{manifest:a,routeModules:l}=Yw(),{basename:u}=Gw(),{loaderData:f,matches:d}=QI(),h=O.useMemo(()=>Ex(t,e,d,a,i,"data"),[t,e,d,a,i]),p=O.useMemo(()=>Ex(t,e,d,a,i,"assets"),[t,e,d,a,i]),g=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,w=!1;if(e.forEach(T=>{var N;let k=a.routes[T.route.id];!k||!k.hasLoader||(!h.some(K=>K.route.id===T.route.id)&&T.route.id in f&&((N=l[T.route.id])!=null&&N.shouldRevalidate)||k.hasClientLoader?w=!0:S.add(T.route.id))}),S.size===0)return[];let R=FI(t,u,"data");return w&&S.size>0&&R.searchParams.set("_routes",e.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[u,f,i,a,h,e,t,l]),v=O.useMemo(()=>KI(p,a),[p,a]),_=eD(p);return O.createElement(O.Fragment,null,g.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),_.map(({key:S,link:w})=>O.createElement("link",{key:S,...w})))}function nD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kw&&(window.__reactRouterVersion="7.7.1")}catch{}function iD({basename:t,children:e,window:n}){let i=O.useRef();i.current==null&&(i.current=qN({window:n,v5Compat:!0}));let a=i.current,[l,u]=O.useState({action:a.action,location:a.location}),f=O.useCallback(d=>{O.startTransition(()=>u(d))},[u]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(OI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,su=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:d,to:h,preventScrollReset:p,viewTransition:g,...v},_){let{basename:S}=O.useContext(ai),w=typeof h=="string"&&Ww.test(h),R,T=!1;if(typeof h=="string"&&w&&(R=h,Kw))try{let Z=new URL(window.location.href),ie=h.startsWith("//")?new URL(Z.protocol+h):new URL(h),W=Wi(ie.pathname,S);ie.origin===Z.origin&&W!=null?h=W+ie.search+ie.hash:T=!0}catch{ri(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=yI(h,{relative:a}),[N,K,M]=ZI(i,v),I=oD(h,{replace:u,state:f,target:d,preventScrollReset:p,relative:a,viewTransition:g});function H(Z){e&&e(Z),Z.defaultPrevented||I(Z)}let G=O.createElement("a",{...v,...M,href:R||k,onClick:T||l?e:H,ref:nD(_,K),target:d,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?O.createElement(O.Fragment,null,G,O.createElement(JI,{page:k})):G});su.displayName="Link";var rD=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:d,...h},p){let g=ru(u,{relative:h.relative}),v=xi(),_=O.useContext(Lf),{navigator:S,basename:w}=O.useContext(ai),R=_!=null&&hD(g)&&f===!0,T=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,k=v.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(k=k.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&w&&(N=Wi(N,w)||N);const K=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=k===T||!a&&k.startsWith(T)&&k.charAt(K)==="/",I=N!=null&&(N===T||!a&&N.startsWith(T)&&N.charAt(T.length)==="/"),H={isActive:M,isPending:I,isTransitioning:R},G=M?e:void 0,Z;typeof i=="function"?Z=i(H):Z=[i,M?"active":null,I?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(H):l;return O.createElement(su,{...h,"aria-current":G,className:Z,ref:p,style:ie,to:u,viewTransition:f},typeof d=="function"?d(H):d)});rD.displayName="NavLink";var sD=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=qc,action:f,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...v},_)=>{let S=cD(),w=fD(f,{relative:h}),R=u.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&Ww.test(f),k=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let K=N.nativeEvent.submitter,M=(K==null?void 0:K.getAttribute("formmethod"))||u;S(K||N.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:l,relative:h,preventScrollReset:p,viewTransition:g})};return O.createElement("form",{ref:_,method:R,action:w,onSubmit:i?d:k,...v,"data-discover":!T&&t==="render"?"true":void 0})});sD.displayName="Form";function aD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(t){let e=O.useContext($a);return ct(e,aD(t)),e}function oD(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=Hr(),d=xi(),h=ru(t,{relative:l});return O.useCallback(p=>{if(zI(p,e)){p.preventDefault();let g=n!==void 0?n:jl(d)===jl(h);f(t,{replace:g,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[d,f,h,n,i,e,t,a,l,u])}var lD=0,uD=()=>`__${String(++lD)}__`;function cD(){let{router:t}=$w("useSubmit"),{basename:e}=O.useContext(ai),n=kI();return O.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:d,body:h}=HI(i,e);if(a.navigate===!1){let p=a.fetcherKey||uD();await t.fetch(p,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function fD(t,{relative:e}={}){let{basename:n}=O.useContext(ai),i=O.useContext(oi);ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ru(t||".",{relative:e})},u=xi();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(p=>p==="")){f.delete("index"),d.filter(g=>g).forEach(g=>f.append("index",g));let p=f.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Gi([n,l.pathname])),jl(l)}function hD(t,{relative:e}={}){let n=O.useContext(Bw);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$w("useViewTransitionState"),a=ru(t,{relative:e});if(!n.isTransitioning)return!1;let l=Wi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Wi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rf(a.pathname,u)!=null||rf(a.pathname,l)!=null}const dD=()=>{};var Tx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw Qa(e)},Qa=function(t){return new Error("Firebase Database ("+Xw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},pD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Ag={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,p=l>>2,g=(l&3)<<4|f>>4;let v=(f&15)<<2|h>>6,_=h&63;d||(_=64,u||(v=64)),i.push(n[p],n[g],n[v],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||h==null||g==null)throw new mD;const v=l<<2|f>>4;if(i.push(v),h!==64){const _=f<<4&240|h>>2;if(i.push(_),g!==64){const S=h<<6&192|g;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zw=function(t){const e=Qw(t);return Ag.encodeByteArray(e,!0)},sf=function(t){return Zw(t).replace(/\./g,"")},af=function(t){try{return Ag.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){return Jw(void 0,t)}function Jw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!yD(n)||(t[n]=Jw(t[n],e[n]));return t}function yD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=()=>vD().__FIREBASE_DEFAULTS__,bD=()=>{if(typeof process>"u"||typeof Tx>"u")return;const t=Tx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&af(t[1]);return e&&JSON.parse(e)},Rg=()=>{try{return dD()||_D()||bD()||xD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eE=t=>{var e,n;return(n=(e=Rg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SD=t=>{const e=eE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},tE=()=>{var t;return(t=Rg())===null||t===void 0?void 0:t.config},nE=t=>{var e;return(e=Rg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sf(JSON.stringify(n)),sf(JSON.stringify(u)),""].join(".")}const Sl={};function ED(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?t.emulator.push(e):t.prod.push(e);return t}function TD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cx=!1;function rE(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Sl[t]===e||Sl[t]||Cx)return;Sl[t]=e;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",l=ED().prod.length>0;function u(){const v=document.getElementById(i);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Cx=!0,u()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=TD(i),_=n("text"),S=document.getElementById(_)||document.createElement("span"),w=n("learnmore"),R=document.getElementById(w)||document.createElement("a"),T=n("preprendIcon"),k=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;f(N),p(R,w);const K=h();d(k,T),N.append(k,S,R,K),document.body.appendChild(N)}l?(S.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function CD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RD(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kD(){return Xw.NODE_ADMIN===!0}function ND(){try{return typeof indexedDB=="object"}catch{return!1}}function ID(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="FirebaseError";class Fr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=DD,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?OD(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Fr(a,f,i)}}function OD(t,e){return t.replace(MD,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const MD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return JSON.parse(t)}function jt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(t){let e={},n={},i={},a="";try{const l=t.split(".");e=Ul(af(l[0])||""),n=Ul(af(l[1])||""),a=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:a}},PD=function(t){const e=aE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LD=function(t){const e=aE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function za(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function vm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function of(t,e,n){const i={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=e.call(n,t[a],a,t));return i}function Ts(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(Ax(l)&&Ax(u)){if(!Ts(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ax(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)i[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)i[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const v=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],d=this.chain_[4],h,p;for(let g=0;g<80;g++){g<40?g<20?(h=f^l&(u^f),p=1518500249):(h=l^u^f,p=1859775393):g<60?(h=l&u|f&(l|u),p=2400959708):(h=l^u^f,p=3395469782);const v=(a<<5|a>>>27)+h+d+p+i[g]&4294967295;d=f,f=u,u=(l<<30|l>>>2)&4294967295,l=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<n;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[a]>>l&255,++i;return e}}function UD(t,e){const n=new zD(t,e);return n.subscribe.bind(n)}class zD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Ap),a.error===void 0&&(a.error=Ap),a.complete===void 0&&(a.complete=Ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ap(){}function Uf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,he(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;a=65536+(l<<10)+u}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zf=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new au;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qD(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:FD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FD(t){return t===ps?void 0:t}function qD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const YD={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},KD=Ze.INFO,WD={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},$D=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=WD[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ng{constructor(e){this.name=e,this._logLevel=KD,this._logHandler=$D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const XD=(t,e)=>e.some(n=>t instanceof n);let Rx,kx;function QD(){return Rx||(Rx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZD(){return kx||(kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,_m=new WeakMap,lE=new WeakMap,Rp=new WeakMap,Ig=new WeakMap;function JD(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Mr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function eO(t){if(_m.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});_m.set(t,e)}let bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tO(t){bm=t(bm)}function nO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kp(this),e,...n);return lE.set(i,e.sort?e.sort():[e]),Mr(i)}:ZD().includes(t)?function(...e){return t.apply(kp(this),e),Mr(oE.get(this))}:function(...e){return Mr(t.apply(kp(this),e))}}function iO(t){return typeof t=="function"?nO(t):(t instanceof IDBTransaction&&eO(t),XD(t,QD())?new Proxy(t,bm):t)}function Mr(t){if(t instanceof IDBRequest)return JD(t);if(Rp.has(t))return Rp.get(t);const e=iO(t);return e!==t&&(Rp.set(t,e),Ig.set(e,t)),e}const kp=t=>Ig.get(t);function rO(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Mr(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Mr(u.result),d.oldVersion,d.newVersion,Mr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const sO=["get","getKey","getAll","getAllKeys","count"],aO=["put","add","delete","clear"],Np=new Map;function Nx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=aO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||sO.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,a?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(f.shift())),(await Promise.all([h[n](...f),a&&d.done]))[0]};return Np.set(e,l),l}tO(t=>({...t,get:(e,n,i)=>Nx(e,n)||t.get(e,n,i),has:(e,n)=>!!Nx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function lO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",Ix="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Ng("@firebase/app"),uO="@firebase/app-compat",cO="@firebase/analytics-compat",fO="@firebase/analytics",hO="@firebase/app-check-compat",dO="@firebase/app-check",pO="@firebase/auth",mO="@firebase/auth-compat",gO="@firebase/database",yO="@firebase/data-connect",vO="@firebase/database-compat",_O="@firebase/functions",bO="@firebase/functions-compat",xO="@firebase/installations",SO="@firebase/installations-compat",wO="@firebase/messaging",EO="@firebase/messaging-compat",TO="@firebase/performance",CO="@firebase/performance-compat",AO="@firebase/remote-config",RO="@firebase/remote-config-compat",kO="@firebase/storage",NO="@firebase/storage-compat",IO="@firebase/firestore",DO="@firebase/ai",OO="@firebase/firestore-compat",MO="firebase",PO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",LO={[xm]:"fire-core",[uO]:"fire-core-compat",[fO]:"fire-analytics",[cO]:"fire-analytics-compat",[dO]:"fire-app-check",[hO]:"fire-app-check-compat",[pO]:"fire-auth",[mO]:"fire-auth-compat",[gO]:"fire-rtdb",[yO]:"fire-data-connect",[vO]:"fire-rtdb-compat",[_O]:"fire-fn",[bO]:"fire-fn-compat",[xO]:"fire-iid",[SO]:"fire-iid-compat",[wO]:"fire-fcm",[EO]:"fire-fcm-compat",[TO]:"fire-perf",[CO]:"fire-perf-compat",[AO]:"fire-rc",[RO]:"fire-rc-compat",[kO]:"fire-gcs",[NO]:"fire-gcs-compat",[IO]:"fire-fst",[OO]:"fire-fst-compat",[DO]:"fire-vertex","fire-js":"fire-js",[MO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,jO=new Map,wm=new Map;function Dx(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ba(t){const e=t.name;if(wm.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,t);for(const n of lf.values())Dx(n,t);for(const n of jO.values())Dx(n,t);return!0}function Dg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new ou("app","Firebase",UO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=PO;function uE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Sm,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Pr.create("bad-app-name",{appName:String(a)});if(n||(n=tE()),!n)throw Pr.create("no-options");const l=lf.get(a);if(l){if(Ts(n,l.options)&&Ts(i,l.config))return l;throw Pr.create("duplicate-app",{appName:a})}const u=new GD(a);for(const d of wm.values())u.addComponent(d);const f=new zO(n,i,u);return lf.set(a,f),f}function cE(t=Sm){const e=lf.get(t);if(!e&&t===Sm&&tE())return uE();if(!e)throw Pr.create("no-app",{appName:t});return e}function Lr(t,e,n){var i;let a=(i=LO[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(f.join(" "));return}Ba(new Cs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="firebase-heartbeat-database",VO=1,zl="firebase-heartbeat-store";let Ip=null;function fE(){return Ip||(Ip=rO(BO,VO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function HO(t){try{const n=(await fE()).transaction(zl),i=await n.objectStore(zl).get(hE(t));return await n.done,i}catch(e){if(e instanceof Fr)$i.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function Ox(t,e){try{const i=(await fE()).transaction(zl,"readwrite");await i.objectStore(zl).put(e,hE(t)),await i.done}catch(n){if(n instanceof Fr)$i.warn(n.message);else{const i=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(i.message)}}}function hE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=1024,qO=30;class GO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Mx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>qO){const u=WO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mx(),{heartbeatsToSend:i,unsentEntries:a}=YO(this._heartbeatsCache.heartbeats),l=sf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $i.warn(n),""}}}function Mx(){return new Date().toISOString().substring(0,10)}function YO(t,e=FO){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Px(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Px(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class KO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ND()?ID().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Px(t){return sf(JSON.stringify({version:2,heartbeats:t})).length}function WO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){Ba(new Cs("platform-logger",e=>new oO(e),"PRIVATE")),Ba(new Cs("heartbeat",e=>new GO(e),"PRIVATE")),Lr(xm,Ix,t),Lr(xm,Ix,"esm2017"),Lr("fire-js","")}$O("");function Og(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XO=dE,pE=new ou("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Ng("@firebase/auth");function QO(t,...e){uf.logLevel<=Ze.WARN&&uf.warn(`Auth (${eo}): ${t}`,...e)}function Yc(t,...e){uf.logLevel<=Ze.ERROR&&uf.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw Pg(t,...e)}function ni(t,...e){return Pg(t,...e)}function Mg(t,e,n){const i=Object.assign(Object.assign({},XO()),{[e]:n});return new ou("auth","Firebase",i).create(e,{appName:t.name})}function Yi(t){return Mg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZO(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Gn(t,"argument-error"),Mg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return pE.create(t,...e)}function Se(t,e,...n){if(!t)throw Pg(e,...n)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function Xi(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JO(){return Lx()==="http:"||Lx()==="https:"}function Lx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JO()||AD()||"connection"in navigator)?navigator.onLine:!0}function tM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=kg()||sE()}get(){return eM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rM=new lu(3e4,6e4);function qr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gr(t,e,n,i,a={}){return gE(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Ja(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},l);return CD()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(h.credentials="include"),mE.fetch()(await yE(t,t.config.apiHost,n,f),h)})}async function gE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},nM),e);try{const a=new aM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Oc(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[d,h]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Oc(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Oc(t,"user-disabled",u);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Mg(t,p,h);Gn(t,p)}}catch(a){if(a instanceof Fr)throw a;Gn(t,"network-request-failed",{message:String(a)})}}async function uu(t,e,n,i,a={}){const l=await Gr(t,e,n,i,a);return"mfaPendingCredential"in l&&Gn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function yE(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?Lg(t.config,a):`${t.config.apiScheme}://${a}`;return iM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function sM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ni(this.auth,"network-request-failed")),rM.get())})}}function Oc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ni(t,e,i);return a.customData._tokenResponse=n,a}function jx(t){return t!==void 0&&t.enterprise!==void 0}class oM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lM(t,e){return Gr(t,"GET","/v2/recaptchaConfig",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){return Gr(t,"POST","/v1/accounts:delete",e)}async function cf(t,e){return Gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cM(t,e=!1){const n=pn(t),i=await n.getIdToken(e),a=jg(i);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:wl(Dp(a.auth_time)),issuedAtTime:wl(Dp(a.iat)),expirationTime:wl(Dp(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Dp(t){return Number(t)*1e3}function jg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const a=af(n);return a?JSON.parse(a):(Yc("Failed to decode base64 JWT payload"),null)}catch(a){return Yc("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ux(t){const e=jg(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Fr&&fM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function fM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Bl(t,cf(n,{idToken:i}));Se(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?vE(l.providerUserInfo):[],f=pM(t.providerData,u),d=t.isAnonymous,h=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),p=d?h:!1,g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function dM(t){const e=pn(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pM(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function vE(t){return t.map(e=>{var{providerId:n}=e,i=Og(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e){const n=await gE(t,{},async()=>{const i=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await yE(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:i};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(d.credentials="include"),mE.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gM(t,e){return Gr(t,"POST","/v2/accounts:revokeToken",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ux(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=Ux(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await mM(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new Na;return i&&(Se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cM(this,e)}reload(){return dM(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Bl(this,uM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,u,f,d,h,p;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(a=n.email)!==null&&a!==void 0?a:void 0,_=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,w=(f=n.tenantId)!==null&&f!==void 0?f:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,T=(h=n.createdAt)!==null&&h!==void 0?h:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:N,emailVerified:K,isAnonymous:M,providerData:I,stsTokenManager:H}=n;Se(N&&H,e,"internal-error");const G=Na.fromJSON(this.name,H);Se(typeof N=="string",e,"internal-error"),Tr(g,e.name),Tr(v,e.name),Se(typeof K=="boolean",e,"internal-error"),Se(typeof M=="boolean",e,"internal-error"),Tr(_,e.name),Tr(S,e.name),Tr(w,e.name),Tr(R,e.name),Tr(T,e.name),Tr(k,e.name);const Z=new ei({uid:N,auth:e,email:v,emailVerified:K,displayName:g,isAnonymous:M,photoURL:S,phoneNumber:_,tenantId:w,stsTokenManager:G,createdAt:T,lastLoginAt:k});return I&&Array.isArray(I)&&(Z.providerData=I.map(ie=>Object.assign({},ie))),R&&(Z._redirectEventId=R),Z}static async _fromIdTokenResponse(e,n,i=!1){const a=new Na;a.updateFromServerResponse(n);const l=new ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ff(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?vE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Na;f.updateFromIdToken(i);const d=new ei({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Tm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Map;function Fi(t){Xi(t instanceof Function,"Expected a class definition");let e=zx.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_E.type="NONE";const Bx=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ia{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Kc(this.userKey,a.apiKey,l),this.fullPersistenceKey=Kc("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cf(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ia(Fi(Bx),e,i);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let l=a[0]||Fi(Bx);const u=Kc(i,e.config.apiKey,e.name);let f=null;for(const h of n)try{const p=await h._get(u);if(p){let g;if(typeof p=="string"){const v=await cf(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ei._fromGetAccountInfoResponse(e,v,p)}else g=ei._fromJSON(e,p);h!==l&&(f=g),l=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Ia(l,e,i):(l=d[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async h=>{if(h!==l)try{await h._remove(u)}catch{}})),new Ia(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(CE(e))return"Webos";if(xE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bE(t=en()){return/firefox\//i.test(t)}function xE(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(t=en()){return/crios\//i.test(t)}function wE(t=en()){return/iemobile/i.test(t)}function EE(t=en()){return/android/i.test(t)}function TE(t=en()){return/blackberry/i.test(t)}function CE(t=en()){return/webos/i.test(t)}function Ug(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yM(t=en()){var e;return Ug(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vM(){return RD()&&document.documentMode===10}function AE(t=en()){return Ug(t)||EE(t)||CE(t)||TE(t)||/windows phone/i.test(t)||wE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e=[]){let n;switch(t){case"Browser":n=Vx(en());break;case"Worker":n=`${Vx(en())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const d=e(l);u(d)}catch(d){f(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=6;class SM{constructor(e){var n,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:xM,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hx(this),this.idTokenSubscription=new Hx(this),this.beforeStateQueue=new _M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cf(this,{idToken:e}),i=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Yi(this));const n=e?pn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bM(this),n=new SM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await gM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&QO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yr(t){return pn(t)}class Hx{constructor(e){this.auth=e,this.observer=null,this.addObserver=UD(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EM(t){Bf=t}function kE(t){return Bf.loadJS(t)}function TM(){return Bf.recaptchaEnterpriseScript}function CM(){return Bf.gapiScript}function AM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class RM{constructor(){this.enterprise=new kM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NM="recaptcha-enterprise",NE="NO_RECAPTCHA";class IM{constructor(e){this.type=NM,this.auth=Yr(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{lM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const h=new oM(d);return l.tenantId==null?l._agentRecaptchaConfig=h:l._tenantRecaptchaConfigs[l.tenantId]=h,u(h.siteKey)}}).catch(d=>{f(d)})})}function a(l,u,f){const d=window.grecaptcha;jx(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(h=>{u(h)}).catch(()=>{u(NE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RM().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&jx(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=TM();d.length!==0&&(d+=f),kE(d).then(()=>{a(f,l,u)}).catch(h=>{u(h)})}}).catch(f=>{u(f)})})}}async function Fx(t,e,n,i=!1,a=!1){const l=new IM(t);let u;if(a)u=NE;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,h=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cm(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Fx(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Fx(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e){const n=Dg(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ts(l,e??{}))return a;Gn(a,"already-initialized")}return n.initialize({options:e})}function OM(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function MM(t,e,n){const i=Yr(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=IE(e),{host:u,port:f}=PM(e),d=f===null?"":`:${f}`,h={url:`${l}//${u}${d}/`},p=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Ts(h,i.config.emulator)&&Ts(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Za(u)?(iE(`${l}//${u}${d}`),rE("Auth",!0)):LM()}function IE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PM(t){const e=IE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:qx(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:qx(u)}}}function qx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function jM(t,e){return Gr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e){return uu(t,"POST","/v1/accounts:signInWithPassword",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}async function BM(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends zg{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",UM);case"emailLink":return zM(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,i,"signUpPassword",jM);case"emailLink":return BM(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return uu(t,"POST","/v1/accounts:signInWithIdp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="http://localhost";class As extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Og(n,["providerId","signInMethod"]);if(!i||!a)return null;const u=new As(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Da(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:VM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ja(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FM(t){const e=_l(bl(t)).link,n=e?_l(bl(e)).deep_link_id:null,i=_l(bl(t)).deep_link_id;return(i?_l(bl(i)).link:null)||i||n||e||t}class Bg{constructor(e){var n,i,a,l,u,f;const d=_l(bl(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,g=HM((a=d.mode)!==null&&a!==void 0?a:null);Se(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=FM(e);try{return new Bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Bg.parseLink(n);return Se(i,"argument-error"),Vl._fromEmailAndCode(e,i.code,i.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends cu{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vi.credential(n,i)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends cu{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends cu{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ir.credential(n,i)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return uu(t,"POST","/v1/accounts:signUp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ei._fromIdTokenResponse(e,i,a),u=Gx(i);return new Rs({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Gx(i);return new Rs({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Gx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Fr{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new hf(e,n,i,a)}}function DE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,l,e,i):l})}async function GM(t,e,n=!1){const i=await Bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YM(t,e,n=!1){const{auth:i}=t;if(An(i.app))return Promise.reject(Yi(i));const a="reauthenticate";try{const l=await Bl(t,DE(i,a,e,t),n);Se(l.idToken,i,"internal-error");const u=jg(l.idToken);Se(u,i,"internal-error");const{sub:f}=u;return Se(t.uid===f,i,"user-mismatch"),Rs._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Gn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(t,e,n=!1){if(An(t.app))return Promise.reject(Yi(t));const i="signIn",a=await DE(t,i,e),l=await Rs._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function KM(t,e){return OE(Yr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(t){const e=Yr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WM(t,e,n){if(An(t.app))return Promise.reject(Yi(t));const i=Yr(t),u=await Cm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ME(t),d}),f=await Rs._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function $M(t,e,n){return An(t.app)?Promise.reject(Yi(t)):KM(pn(t),to.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ME(t),i})}function XM(t,e,n,i){return pn(t).onIdTokenChanged(e,n,i)}function QM(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}function ZM(t,e,n,i){return pn(t).onAuthStateChanged(e,n,i)}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=1e3,e2=10;class LE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);vM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,e2):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},JM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LE.type="LOCAL";const t2=LE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jE.type="SESSION";const UE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Vf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async h=>h(n.origin,l)),d=await n2(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,d)=>{const h=Hg("",20);a.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(v.data.response);break;default:clearTimeout(p),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function r2(t){gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function s2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o2(){return zE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firebaseLocalStorageDb",l2=1,pf="firebaseLocalStorage",VE="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(t,e){return t.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function u2(){const t=indexedDB.deleteDatabase(BE);return new fu(t).toPromise()}function Am(){const t=indexedDB.open(BE,l2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(pf,{keyPath:VE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(pf)?e(i):(i.close(),await u2(),e(await Am()))})})}async function Yx(t,e,n){const i=Hf(t,!0).put({[VE]:e,value:n});return new fu(i).toPromise()}async function c2(t,e){const n=Hf(t,!1).get(e),i=await new fu(n).toPromise();return i===void 0?null:i.value}function Kx(t,e){const n=Hf(t,!0).delete(e);return new fu(n).toPromise()}const f2=800,h2=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>h2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(o2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s2(),!this.activeServiceWorker)return;this.sender=new i2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await Yx(e,df,"1"),await Kx(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>c2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hf(a,!1).getAll();return new fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const d2=HE;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){return e?Fi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p2(t){return OE(t.auth,new Fg(t),t.bypassAuthState)}function m2(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),YM(n,new Fg(t),t.bypassAuthState)}async function g2(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),GM(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:Gn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new lu(2e3,1e4);async function v2(t,e,n){if(An(t.app))return Promise.reject(ni(t,"operation-not-supported-in-this-environment"));const i=Yr(t);ZO(t,e,Vg);const a=FE(i,n);return new vs(i,"signInViaPopup",e,a).executeNotNull()}class vs extends qE{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,vs.currentPopupAction&&vs.currentPopupAction.cancel(),vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y2.get())};e()}}vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="pendingRedirect",Wc=new Map;class b2 extends qE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const i=await x2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(t,e){const n=E2(e),i=w2(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function S2(t,e){Wc.set(t._key(),e)}function w2(t){return Fi(t._redirectPersistence)}function E2(t){return Kc(_2,t.config.apiKey,t.name)}async function T2(t,e,n=!1){if(An(t.app))return Promise.reject(Yi(t));const i=Yr(t),a=FE(i,e),u=await new b2(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=600*1e3;class A2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!GE(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wx(e))}saveEventToCache(e){this.cachedEventUids.add(Wx(e)),this.lastProcessedEventTime=Date.now()}}function Wx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e={}){return Gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;async function D2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await k2(t);for(const n of e)try{if(O2(n))return}catch{}Gn(t,"unauthorized-domain")}function O2(t){const e=Em(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!I2.test(n))return!1;if(N2.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new lu(3e4,6e4);function $x(){const t=gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P2(t){return new Promise((e,n)=>{var i,a,l;function u(){$x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$x(),n(ni(t,"network-request-failed"))},timeout:M2.get()})}if(!((a=(i=gi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=gi().gapi)===null||l===void 0)&&l.load)u();else{const f=AM("iframefcb");return gi()[f]=()=>{gapi.load?u():n(ni(t,"network-request-failed"))},kE(`${CM()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw $c=null,e})}let $c=null;function L2(t){return $c=$c||P2(t),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new lu(5e3,15e3),U2="__/auth/iframe",z2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H2(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lg(e,z2):`https://${t.config.authDomain}/${U2}`,i={apiKey:e.apiKey,appName:t.name,v:eo},a=V2.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ja(i).slice(1)}`}async function F2(t){const e=await L2(t),n=gi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:H2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ni(t,"network-request-failed"),f=gi().setTimeout(()=>{l(u)},j2.get());function d(){gi().clearTimeout(f),a(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,Y2=600,K2="_blank",W2="http://localhost";class Xx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $2(t,e,n,i=G2,a=Y2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d=Object.assign(Object.assign({},q2),{width:i.toString(),height:a.toString(),top:l,left:u}),h=en().toLowerCase();n&&(f=SE(h)?K2:n),bE(h)&&(e=e||W2,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(yM(h)&&f!=="_self")return X2(e||"",f),new Xx(null);const g=window.open(e||"",f,p);Se(g,t,"popup-blocked");try{g.focus()}catch{}return new Xx(g)}function X2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="__/auth/handler",Z2="emulator/auth/handler",J2=encodeURIComponent("fac");async function Qx(t,e,n,i,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eo,eventId:a};if(e instanceof Vg){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",vm(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))u[p]=g}if(e instanceof cu){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(u.scopes=p.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const p of Object.keys(f))f[p]===void 0&&delete f[p];const d=await t._getAppCheckToken(),h=d?`#${J2}=${encodeURIComponent(d)}`:"";return`${eP(t)}?${Ja(f).slice(1)}${h}`}function eP({config:t}){return t.emulator?Lg(t,Z2):`https://${t.authDomain}/${Q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class tP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=T2,this._overrideRedirectResult=S2}async _openPopup(e,n,i,a){var l;Xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Qx(e,n,i,Em(),a);return $2(e,u,Hg())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Qx(e,n,i,Em(),a);return r2(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await F2(e),i=new A2(e);return n.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Op,{type:Op},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Op];u!==void 0&&n(!!u),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AE()||xE()||Ug()}}const nP=tP;var Zx="@firebase/auth",Jx="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sP(t){Ba(new Cs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(t)},h=new wM(i,a,l,d);return OM(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ba(new Cs("auth-internal",e=>{const n=Yr(e.getProvider("auth").getImmediate());return(i=>new iP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Zx,Jx,rP(t)),Lr(Zx,Jx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=300,oP=nE("authIdTokenMaxAge")||aP;let eS=null;const lP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oP)return;const a=n==null?void 0:n.token;eS!==a&&(eS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function uP(t=cE()){const e=Dg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DM(t,{popupRedirectResolver:nP,persistence:[d2,t2,UE]}),i=nE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=lP(l.toString());QM(n,u,()=>u(n.currentUser)),XM(n,f=>u(f))}}const a=eE("auth");return a&&MM(n,`http://${a}`),n}function cP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ni("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",cP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sP("Browser");var fP="firebase",hP="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(fP,hP,"app");var tS={};const nS="@firebase/database",iS="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YE="";function dP(t){YE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),jt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ul(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pP(e)}}catch{}return new mP},_s=KE("localStorage"),gP=KE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Ng("@firebase/database"),yP=function(){let t=1;return function(){return t++}}(),WE=function(t){const e=VD(t),n=new jD;n.update(e);const i=n.digest();return Ag.encodeByteArray(i)},hu=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=hu.apply(null,i):typeof i=="object"?e+=jt(i):e+=i,e+=" "}return e};let El=null,rS=!0;const vP=function(t,e){he(!0,"Can't turn on custom loggers persistently."),Oa.logLevel=Ze.VERBOSE,El=Oa.log.bind(Oa)},Ft=function(...t){if(rS===!0&&(rS=!1,El===null&&gP.get("logging_enabled")===!0&&vP()),El){const e=hu.apply(null,t);El(e)}},du=function(t){return function(...e){Ft(t,...e)}},Rm=function(...t){const e="FIREBASE INTERNAL ERROR: "+hu(...t);Oa.error(e)},Qi=function(...t){const e=`FIREBASE FATAL ERROR: ${hu(...t)}`;throw Oa.error(e),new Error(e)},Jt=function(...t){const e="FIREBASE WARNING: "+hu(...t);Oa.warn(e)},_P=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Va="[MIN_NAME]",ks="[MAX_NAME]",Os=function(t,e){if(t===e)return 0;if(t===Va||e===ks)return-1;if(e===Va||t===ks)return 1;{const n=sS(t),i=sS(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},xP=function(t,e){return t===e?0:t<e?-1:1},ul=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+jt(e))},Gg=function(t){if(typeof t!="object"||t===null)return jt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=jt(e[i]),n+=":",n+=Gg(t[e[i]]);return n+="}",n},$E=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let a=0;a<n;a+=e)a+e>n?i.push(t.substring(a,n)):i.push(t.substring(a,a+e));return i};function qt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const XE=function(t){he(!qg(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let a,l,u,f,d;t===0?(l=0,u=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=f+i,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const h=[];for(d=n;d;d-=1)h.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);h.push(a?1:0),h.reverse();const p=h.join("");let g="";for(d=0;d<64;d+=8){let v=parseInt(p.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},SP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function EP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const TP=new RegExp("^-?(0*)\\d{1,10}$"),CP=-2147483648,AP=2147483647,sS=function(t){if(TP.test(t)){const e=Number(t);if(e>=CP&&e<=AP)return e}return null},no=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},RP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,An(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(e)}}class Xc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="5",QE="v",ZE="s",JE="r",eT="f",tT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nT="ls",iT="p",km="ac",rT="websocket",sT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,i,a,l=!1,u="",f=!1,d=!1,h=null){this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=d,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_s.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_s.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function IP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function oT(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let i;if(e===rT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sT)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);IP(t)&&(n.ns=t.namespace);const a=[];return qt(n,(l,u)=>{a.push(l+"="+u)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.counters_={}}incrementCounter(e,n=1){Si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp={},Pp={};function Kg(t){const e=t.toString();return Mp[e]||(Mp[e]=new DP),Mp[e]}function OP(t,e){const n=t.toString();return Pp[n]||(Pp[n]=e()),Pp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&no(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="start",PP="close",LP="pLPCommand",jP="pRTLPCB",lT="id",uT="pw",cT="ser",UP="cb",zP="seg",BP="ts",VP="d",HP="dframe",fT=1870,hT=30,FP=fT-hT,qP=25e3,GP=3e4;class Ea{constructor(e,n,i,a,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=du(e),this.stats_=Kg(n),this.urlFn=d=>(this.appCheckToken&&(d[km]=this.appCheckToken),oT(n,sT,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new MP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(GP)),bP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wg((...l)=>{const[u,f,d,h,p]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===aS)this.id=f,this.password=d;else if(u===PP)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={};i[aS]="t",i[cT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[UP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[QE]=Yg,this.transportSessionId&&(i[ZE]=this.transportSessionId),this.lastSessionId&&(i[nT]=this.lastSessionId),this.applicationId&&(i[iT]=this.applicationId),this.appCheckToken&&(i[km]=this.appCheckToken),typeof location<"u"&&location.hostname&&tT.test(location.hostname)&&(i[JE]=eT);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ea.forceAllow_=!0}static forceDisallow(){Ea.forceDisallow_=!0}static isAvailable(){return Ea.forceAllow_?!0:!Ea.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SP()&&!wP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Zw(n),a=$E(i,FP);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[HP]="t",i[lT]=e,i[uT]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=jt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wg{constructor(e,n,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yP(),window[LP+this.uniqueCallbackIdentifier]=e,window[jP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wg.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Ft("frame writing exception"),f.stack&&Ft(f.stack),Ft(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ft("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lT]=this.myID,e[uT]=this.myPW,e[cT]=this.currentSerial;let n=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hT+i.length<=fT;){const u=this.pendingSegs.shift();i=i+"&"+zP+a+"="+u.seg+"&"+BP+a+"="+u.ts+"&"+VP+a+"="+u.d,a++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(i,Math.floor(qP)),l=()=>{clearTimeout(a),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=16384,KP=45e3;let mf=null;typeof MozWebSocket<"u"?mf=MozWebSocket:typeof WebSocket<"u"&&(mf=WebSocket);class Jn{constructor(e,n,i,a,l,u,f){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=du(this.connId),this.stats_=Kg(n),this.connURL=Jn.connectionURL_(n,u,f,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,a,l){const u={};return u[QE]=Yg,typeof location<"u"&&location.hostname&&tT.test(location.hostname)&&(u[JE]=eT),n&&(u[ZE]=n),i&&(u[nT]=i),a&&(u[km]=a),l&&(u[iT]=l),oT(e,rT,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_s.set("previous_websocket_failure",!0);try{let i;kD(),this.mySock=new mf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Jn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&mf!==null&&!Jn.forceDisallow_}static previouslyFailed(){return _s.isInMemoryStorage||_s.get("previous_websocket_failure")===!0}markConnectionHealthy(){_s.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ul(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=$E(n,YP);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jn.responsesRequiredToBeHealthy=2;Jn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static get ALL_TRANSPORTS(){return[Ea,Jn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Jn&&Jn.isAvailable();let i=n&&!Jn.previouslyFailed();if(e.webSocketOnly&&(n||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Jn];else{const a=this.transports_=[];for(const l of Hl.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Hl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=6e4,$P=5e3,XP=10*1024,QP=100*1024,Lp="t",oS="d",ZP="s",lS="r",JP="e",uS="o",cS="a",fS="n",hS="p",eL="h";class tL{constructor(e,n,i,a,l,u,f,d,h,p){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=du("c:"+this.id+":"),this.transportManager_=new Hl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Tl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>XP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Lp in e){const n=e[Lp];n===cS?this.upgradeIfSecondaryHealthy_():n===lS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===uS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ul("t",e),i=ul("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ul("t",e),i=ul("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ul(Lp,e);if(oS in e){const i=e[oS];if(n===eL){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===fS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ZP?this.onConnectionShutdown_(i):n===lS?this.onReset_(i):n===JP?Rm("Server Error: "+i):n===uS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yg!==i&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Tl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($P))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{put(e,n,i,a){}merge(e,n,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const a=this.getInitialEvent(e);a&&n.apply(i,a)}off(e,n,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends pT{static getInstance(){return new gf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=32,pS=768;class Je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ye(){return new Je("")}function Pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ur(t){return t.pieces_.length-t.pieceNum_}function rt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function $g(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Fl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function gt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Je)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&n.push(i[a])}return new Je(n,0)}function Be(t){return t.pieceNum_>=t.pieces_.length}function cn(t,e){const n=Pe(t),i=Pe(e);if(n===null)return e;if(n===i)return cn(rt(t),rt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function iL(t,e){const n=Fl(t,0),i=Fl(e,0);for(let a=0;a<n.length&&a<i.length;a++){const l=Os(n[a],i[a]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function Xg(t,e){if(Ur(t)!==Ur(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Fn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ur(t)>Ur(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class rL{constructor(e,n){this.errorPrefix_=n,this.parts_=Fl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=zf(this.parts_[i]);gT(this)}}function sL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zf(e),gT(t)}function aL(t){const e=t.parts_.pop();t.byteLength_-=zf(e),t.parts_.length>0&&(t.byteLength_-=1)}function gT(t){if(t.byteLength_>pS)throw new Error(t.errorPrefix_+"has a key path longer than "+pS+" bytes ("+t.byteLength_+").");if(t.parts_.length>dS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dS+") or object contains a cycle "+ms(t))}function ms(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends pT{static getInstance(){return new Qg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=1e3,oL=300*1e3,mS=30*1e3,lL=1.3,uL=3e4,cL="server_kill",gS=3;class Ki extends dT{constructor(e,n,i,a,l,u,f,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=d,this.id=Ki.nextPersistentConnectionId_++,this.log_=du("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cl,this.maxReconnectDelay_=oL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(jt(l)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const n=new au,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:a,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const d=f.d,h=f.s;Ki.warnOnListenWarnings_(d,n),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",f),h!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Si(e,"w")){const i=za(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||LD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=PD(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,n)}sendUnlisten_(e,n,i,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";a&&(l.q=i,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,a){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,n,i,a){this.putInternal("p",e,n,i,a)}merge(e,n,i,a){this.putInternal("m",e,n,i,a)}putInternal(e,n,i,a,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+jt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Rm("Unrecognized action received from server: "+jt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uL&&(this.reconnectDelay_=cl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Ki.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const d=function(){f?f.close():(u=!0,i())},h=function(g){he(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(g)};this.realtime_={close:d,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);u?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,f=new tL(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,_=>{Jt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(cL)},l))}catch(g){this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&Jt(g),d())}}}interrupt(e){Ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vm(this.interruptReasons_)&&(this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>Gg(l)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const i=new Je(e).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,n){Ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gS&&(this.reconnectDelay_=mS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+YE.replace(/\./g,"-")]=1,kg()?e["framework.cordova"]=1:sE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gf.getInstance().currentlyOnline();return vm(this.interruptReasons_)&&e}}Ki.nextPersistentConnectionId_=0;Ki.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Le(Va,e),a=new Le(Va,n);return this.compare(i,a)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;class yT extends Ff{static get __EMPTY_NODE(){return Mc}static set __EMPTY_NODE(e){Mc=e}compare(e,n){return Os(e.name,n.name)}isDefinedOn(e){throw Qa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Le.MIN}maxPost(){return new Le(ks,Mc)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,Mc)}toString(){return".key"}}const Ma=new yT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pt{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Pt.RED,this.left=a??fn.EMPTY_NODE,this.right=l??fn.EMPTY_NODE}copy(e,n,i,a,l){return new Pt(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return fn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,a;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return fn.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pt.RED=!0;Pt.BLACK=!1;class fL{copy(e,n,i,a,l){return this}insert(e,n,i){return new Pt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class fn{constructor(e,n=fn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new fn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))}remove(e){return new fn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,a=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pc(this.root_,null,this.comparator_,!0,e)}}fn.EMPTY_NODE=new fL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e){return Os(t.name,e.name)}function Zg(t,e){return Os(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm;function dL(t){Nm=t}const vT=function(t){return typeof t=="number"?"number:"+XE(t):"string:"+t},_T=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Si(e,".sv"),"Priority must be a string or number.")}else he(t===Nm||t.isEmpty(),"priority of unexpected type.");he(t===Nm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yS;class Mt{static set __childrenNodeConstructor(e){yS=e}static get __childrenNodeConstructor(){return yS}constructor(e,n=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_T(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Be(e)?this:Pe(e)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Pe(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(he(i!==".priority"||Ur(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(rt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=XE(this.value_):e+=this.value_,this.lazyHash_=WE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mt.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,a=Mt.VALUE_TYPE_ORDER.indexOf(n),l=Mt.VALUE_TYPE_ORDER.indexOf(i);return he(a>=0,"Unknown leaf type: "+n),he(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bT,xT;function pL(t){bT=t}function mL(t){xT=t}class gL extends Ff{compare(e,n){const i=e.node.getPriority(),a=n.node.getPriority(),l=i.compareTo(a);return l===0?Os(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(ks,new Mt("[PRIORITY-POST]",xT))}makePost(e,n){const i=bT(e);return new Le(n,new Mt("[PRIORITY-POST]",i))}toString(){return".priority"}}const yt=new gL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=Math.log(2);class vL{constructor(e){const n=l=>parseInt(Math.log(l)/yL,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yf=function(t,e,n,i){t.sort(e);const a=function(d,h){const p=h-d;let g,v;if(p===0)return null;if(p===1)return g=t[d],v=n?n(g):g,new Pt(v,g.node,Pt.BLACK,null,null);{const _=parseInt(p/2,10)+d,S=a(d,_),w=a(_+1,h);return g=t[_],v=n?n(g):g,new Pt(v,g.node,Pt.BLACK,S,w)}},l=function(d){let h=null,p=null,g=t.length;const v=function(S,w){const R=g-S,T=g;g-=S;const k=a(R+1,T),N=t[R],K=n?n(N):N;_(new Pt(K,N.node,w,null,k))},_=function(S){h?(h.left=S,h=S):(p=S,h=S)};for(let S=0;S<d.count;++S){const w=d.nextBitIsOne(),R=Math.pow(2,d.count-(S+1));w?v(R,Pt.BLACK):(v(R,Pt.BLACK),v(R,Pt.RED))}return p},u=new vL(t.length),f=l(u);return new fn(i||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp;const xa={};class qi{static get Default(){return he(xa&&yt,"ChildrenNode.ts has not been loaded"),jp=jp||new qi({".priority":xa},{".priority":yt}),jp}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=za(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fn?n:null}hasIndex(e){return Si(this.indexSet_,e.toString())}addIndex(e,n){he(e!==Ma,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=n.getIterator(Le.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let f;a?f=yf(i,e.getCompare()):f=xa;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const p=Object.assign({},this.indexes_);return p[d]=f,new qi(p,h)}addToIndexes(e,n){const i=of(this.indexes_,(a,l)=>{const u=za(this.indexSet_,l);if(he(u,"Missing index implementation for "+l),a===xa)if(u.isDefinedOn(e.node)){const f=[],d=n.getIterator(Le.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&f.push(h),h=d.getNext();return f.push(e),yf(f,u.getCompare())}else return xa;else{const f=n.get(e.name);let d=a;return f&&(d=d.remove(new Le(e.name,f))),d.insert(e,e.node)}});return new qi(i,this.indexSet_)}removeFromIndexes(e,n){const i=of(this.indexes_,a=>{if(a===xa)return a;{const l=n.get(e.name);return l?a.remove(new Le(e.name,l)):a}});return new qi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class Te{static get EMPTY_NODE(){return fl||(fl=new Te(new fn(Zg),null,qi.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&_T(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fl}updatePriority(e){return this.children_.isEmpty()?this:new Te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?fl:n}}getChild(e){const n=Pe(e);return n===null?this:this.getImmediateChild(n).getChild(rt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Le(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=a.isEmpty()?fl:this.priorityNode_;return new Te(a,u,l)}}updateChild(e,n){const i=Pe(e);if(i===null)return n;{he(Pe(e)!==".priority"||Ur(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(rt(e),n);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,a=0,l=!0;if(this.forEachChild(yt,(u,f)=>{n[u]=f.val(e),i++,l&&Te.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*i){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vT(this.getPriority().val())+":"),this.forEachChild(yt,(n,i)=>{const a=i.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":WE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new Le(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Le(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Le.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pu?-1:0}withIndex(e){if(e===Ma||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ma||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(yt),a=n.getIterator(yt);let l=i.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Ma?null:this.indexMap_.get(e.toString())}}Te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _L extends Te{constructor(){super(new fn(Zg),Te.EMPTY_NODE,qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Te.EMPTY_NODE}isEmpty(){return!1}}const pu=new _L;Object.defineProperties(Le,{MIN:{value:new Le(Va,Te.EMPTY_NODE)},MAX:{value:new Le(ks,pu)}});yT.__EMPTY_NODE=Te.EMPTY_NODE;Mt.__childrenNodeConstructor=Te;dL(pu);mL(pu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=!0;function Lt(t,e=null){if(t===null)return Te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Mt(n,Lt(e))}if(!(t instanceof Array)&&bL){const n=[];let i=!1;if(qt(t,(u,f)=>{if(u.substring(0,1)!=="."){const d=Lt(f);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),n.push(new Le(u,d)))}}),n.length===0)return Te.EMPTY_NODE;const l=yf(n,hL,u=>u.name,Zg);if(i){const u=yf(n,yt.getCompare());return new Te(l,Lt(e),new qi({".priority":u},{".priority":yt}))}else return new Te(l,Lt(e),qi.Default)}else{let n=Te.EMPTY_NODE;return qt(t,(i,a)=>{if(Si(t,i)&&i.substring(0,1)!=="."){const l=Lt(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(Lt(e))}}pL(Lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL extends Ff{constructor(e){super(),this.indexPath_=e,he(!Be(e)&&Pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),a=this.extractChild(n.node),l=i.compareTo(a);return l===0?Os(e.name,n.name):l}makePost(e,n){const i=Lt(e),a=Te.EMPTY_NODE.updateChild(this.indexPath_,i);return new Le(n,a)}maxPost(){const e=Te.EMPTY_NODE.updateChild(this.indexPath_,pu);return new Le(ks,e)}toString(){return Fl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL extends Ff{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Os(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,n){const i=Lt(e);return new Le(n,i)}toString(){return".value"}}const wL=new SL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){return{type:"value",snapshotNode:t}}function Ha(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ql(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Gl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function EL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.index_=e}updateChild(e,n,i,a,l,u){he(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(a).equals(i.getChild(a))&&f.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(ql(n,f)):he(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Ha(n,i)):u.trackChildChange(Gl(n,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(yt,(a,l)=>{n.hasChild(a)||i.trackChildChange(ql(a,l))}),n.isLeafNode()||n.forEachChild(yt,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||i.trackChildChange(Gl(a,l,u))}else i.trackChildChange(Ha(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.indexedFilter_=new Jg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Yl.getStartPost_(e),this.endPost_=Yl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,a,l,u){return this.matches(new Le(n,i))||(i=Te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,a,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Te.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Te.EMPTY_NODE);const l=this;return n.forEachChild(yt,(u,f)=>{l.matches(new Le(u,f))||(a=a.updateImmediateChild(u,Te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Yl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,a,l,u){return this.rangedFilter_.matches(new Le(n,i))||(i=Te.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,a,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let a;if(n.isLeafNode()||n.isEmpty())a=Te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=Te.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))a=a.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(Te.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:a=a.updateImmediateChild(f.name,Te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,a,l){let u;if(this.reverse_){const g=this.index_.getCompare();u=(v,_)=>g(_,v)}else u=this.index_.getCompare();const f=e;he(f.numChildren()===this.limit_,"");const d=new Le(n,i),h=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(f.hasChild(n)){const g=f.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||f.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const _=v==null?1:u(v,d);if(p&&!i.isEmpty()&&_>=0)return l!=null&&l.trackChildChange(Gl(n,i,g)),f.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(ql(n,g));const w=f.updateImmediateChild(n,Te.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(Ha(v.name,v.node)),w.updateImmediateChild(v.name,v.node)):w}}else return i.isEmpty()?e:p&&u(h,d)>=0?(l!=null&&(l.trackChildChange(ql(h.name,h.node)),l.trackChildChange(Ha(n,i))),f.updateImmediateChild(n,i).updateImmediateChild(h.name,Te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Va}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const e=new ey;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function CL(t){return t.loadsAllData()?new Jg(t.getIndex()):t.hasLimit()?new TL(t):new Yl(t)}function vS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yt?n="$priority":t.index_===wL?n="$value":t.index_===Ma?n="$key":(he(t.index_ instanceof xL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=jt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=jt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+jt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=jt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+jt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _S(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends dT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=du("p:rest:"),this.listens_={}}listen(e,n,i,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=vf.getListenId_(e,i),f={};this.listens_[u]=f;const d=vS(e._queryParams);this.restRequest_(l+".json",d,(h,p)=>{let g=p;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(l,g,!1,i),za(this.listens_,u)===f){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",a(v,null)}})}unlisten(e,n){const i=vf.getListenId_(e,n);delete this.listens_[i]}get(e){const n=vS(e._queryParams),i=e._path.toString(),a=new au;return this.restRequest_(i+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(i,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ja(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let d=null;if(f.status>=200&&f.status<300){try{d=Ul(f.responseText)}catch{Jt("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,d)}else f.status!==401&&f.status!==404&&Jt("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){return{value:null,children:new Map}}function wT(t,e,n){if(Be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Pe(e);t.children.has(i)||t.children.set(i,_f());const a=t.children.get(i);e=rt(e),wT(a,e,n)}}function Im(t,e,n){t.value!==null?n(e,t.value):RL(t,(i,a)=>{const l=new Je(e.toString()+"/"+i);Im(a,l,n)})}function RL(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&qt(this.last_,(i,a)=>{n[i]=n[i]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=10*1e3,NL=30*1e3,IL=300*1e3;class DL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kL(e);const i=bS+(NL-bS)*Math.random();Tl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;qt(e,(a,l)=>{l>0&&Si(this.statsToReport_,a)&&(n[a]=l,i=!0)}),i&&this.server_.reportStats(n),Tl(this.reportStats_.bind(this),Math.floor(Math.random()*2*IL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ti||(ti={}));function ty(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ny(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=ti.ACK_USER_WRITE,this.source=ty()}operationForChild(e){if(Be(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new bf(Ye(),n,this.revert)}}else return he(Pe(this.path)===e,"operationForChild called for unrelated child."),new bf(rt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.source=e,this.path=n,this.type=ti.LISTEN_COMPLETE}operationForChild(e){return Be(this.path)?new Kl(this.source,Ye()):new Kl(this.source,rt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=ti.OVERWRITE}operationForChild(e){return Be(this.path)?new Ns(this.source,Ye(),this.snap.getImmediateChild(e)):new Ns(this.source,rt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=ti.MERGE}operationForChild(e){if(Be(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new Ns(this.source,Ye(),n.value):new Fa(this.source,Ye(),n)}else return he(Pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fa(this.source,rt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Be(e))return this.isFullyInitialized()&&!this.filtered_;const n=Pe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ML(t,e,n,i){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(EL(u.childName,u.snapshotNode))}),hl(t,a,"child_removed",e,i,n),hl(t,a,"child_added",e,i,n),hl(t,a,"child_moved",l,i,n),hl(t,a,"child_changed",e,i,n),hl(t,a,"value",e,i,n),a}function hl(t,e,n,i,a,l){const u=i.filter(f=>f.type===n);u.sort((f,d)=>LL(t,f,d)),u.forEach(f=>{const d=PL(t,f,l);a.forEach(h=>{h.respondsTo(f.type)&&e.push(h.createEvent(d,t.query_))})})}function PL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function LL(t,e,n){if(e.childName==null||n.childName==null)throw Qa("Should only compare child_ events.");const i=new Le(e.childName,e.snapshotNode),a=new Le(n.childName,n.snapshotNode);return t.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t,e){return{eventCache:t,serverCache:e}}function Cl(t,e,n,i){return qf(new Is(e,n,i),t.serverCache)}function ET(t,e,n,i){return qf(t.eventCache,new Is(e,n,i))}function Dm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ds(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;const jL=()=>(Up||(Up=new fn(xP)),Up);class it{static fromObject(e){let n=new it(null);return qt(e,(i,a)=>{n=n.set(new Je(i),a)}),n}constructor(e,n=jL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ye(),value:this.value};if(Be(e))return null;{const i=Pe(e),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(rt(e),n);return l!=null?{path:gt(new Je(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Be(e))return this;{const n=Pe(e),i=this.children.get(n);return i!==null?i.subtree(rt(e)):new it(null)}}set(e,n){if(Be(e))return new it(n,this.children);{const i=Pe(e),l=(this.children.get(i)||new it(null)).set(rt(e),n),u=this.children.insert(i,l);return new it(this.value,u)}}remove(e){if(Be(e))return this.children.isEmpty()?new it(null):new it(null,this.children);{const n=Pe(e),i=this.children.get(n);if(i){const a=i.remove(rt(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new it(null):new it(this.value,l)}else return this}}get(e){if(Be(e))return this.value;{const n=Pe(e),i=this.children.get(n);return i?i.get(rt(e)):null}}setTree(e,n){if(Be(e))return n;{const i=Pe(e),l=(this.children.get(i)||new it(null)).setTree(rt(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new it(this.value,u)}}fold(e){return this.fold_(Ye(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(gt(e,a),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ye(),n)}findOnPath_(e,n,i){const a=this.value?i(n,this.value):!1;if(a)return a;if(Be(e))return null;{const l=Pe(e),u=this.children.get(l);return u?u.findOnPath_(rt(e),gt(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ye(),n)}foreachOnPath_(e,n,i){if(Be(e))return this;{this.value&&i(n,this.value);const a=Pe(e),l=this.children.get(a);return l?l.foreachOnPath_(rt(e),gt(n,a),i):new it(null)}}foreach(e){this.foreach_(Ye(),e)}foreach_(e,n){this.children.inorderTraversal((i,a)=>{a.foreach_(gt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.writeTree_=e}static empty(){return new ii(new it(null))}}function Al(t,e,n){if(Be(e))return new ii(new it(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let l=i.value;const u=cn(a,e);return l=l.updateChild(u,n),new ii(t.writeTree_.set(a,l))}else{const a=new it(n),l=t.writeTree_.setTree(e,a);return new ii(l)}}}function Om(t,e,n){let i=t;return qt(n,(a,l)=>{i=Al(i,gt(e,a),l)}),i}function xS(t,e){if(Be(e))return ii.empty();{const n=t.writeTree_.setTree(e,new it(null));return new ii(n)}}function Mm(t,e){return Ms(t,e)!=null}function Ms(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(cn(n.path,e)):null}function SS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(i,a)=>{e.push(new Le(i,a))}):t.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new Le(i,a.value))}),e}function jr(t,e){if(Be(e))return t;{const n=Ms(t,e);return n!=null?new ii(new it(n)):new ii(t.writeTree_.subtree(e))}}function Pm(t){return t.writeTree_.isEmpty()}function qa(t,e){return TT(Ye(),t.writeTree_,e)}function TT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(he(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=TT(gt(t,a),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(gt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){return kT(e,t)}function UL(t,e,n,i,a){he(i>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:a}),a&&(t.visibleWrites=Al(t.visibleWrites,e,n)),t.lastWriteId=i}function zL(t,e,n,i){he(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Om(t.visibleWrites,e,n),t.lastWriteId=i}function BL(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function VL(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let a=i.visible,l=!1,u=t.allWrites.length-1;for(;a&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&HL(f,i.path)?a=!1:Fn(i.path,f.path)&&(l=!0)),u--}if(a){if(l)return FL(t),!0;if(i.snap)t.visibleWrites=xS(t.visibleWrites,i.path);else{const f=i.children;qt(f,d=>{t.visibleWrites=xS(t.visibleWrites,gt(i.path,d))})}return!0}else return!1}function HL(t,e){if(t.snap)return Fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Fn(gt(t.path,n),e))return!0;return!1}function FL(t){t.visibleWrites=CT(t.allWrites,qL,Ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qL(t){return t.visible}function CT(t,e,n){let i=ii.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const u=l.path;let f;if(l.snap)Fn(n,u)?(f=cn(n,u),i=Al(i,f,l.snap)):Fn(u,n)&&(f=cn(u,n),i=Al(i,Ye(),l.snap.getChild(f)));else if(l.children){if(Fn(n,u))f=cn(n,u),i=Om(i,f,l.children);else if(Fn(u,n))if(f=cn(u,n),Be(f))i=Om(i,Ye(),l.children);else{const d=za(l.children,Pe(f));if(d){const h=d.getChild(rt(f));i=Al(i,Ye(),h)}}}else throw Qa("WriteRecord should have .snap or .children")}}return i}function AT(t,e,n,i,a){if(!i&&!a){const l=Ms(t.visibleWrites,e);if(l!=null)return l;{const u=jr(t.visibleWrites,e);if(Pm(u))return n;if(n==null&&!Mm(u,Ye()))return null;{const f=n||Te.EMPTY_NODE;return qa(u,f)}}}else{const l=jr(t.visibleWrites,e);if(!a&&Pm(l))return n;if(!a&&n==null&&!Mm(l,Ye()))return null;{const u=function(h){return(h.visible||a)&&(!i||!~i.indexOf(h.writeId))&&(Fn(h.path,e)||Fn(e,h.path))},f=CT(t.allWrites,u,e),d=n||Te.EMPTY_NODE;return qa(f,d)}}}function GL(t,e,n){let i=Te.EMPTY_NODE;const a=Ms(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(yt,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=jr(t.visibleWrites,e);return n.forEachChild(yt,(u,f)=>{const d=qa(jr(l,new Je(u)),f);i=i.updateImmediateChild(u,d)}),SS(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=jr(t.visibleWrites,e);return SS(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function YL(t,e,n,i,a){he(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=gt(e,n);if(Mm(t.visibleWrites,l))return null;{const u=jr(t.visibleWrites,l);return Pm(u)?a.getChild(n):qa(u,a.getChild(n))}}function KL(t,e,n,i){const a=gt(e,n),l=Ms(t.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=jr(t.visibleWrites,a);return qa(u,i.getNode().getImmediateChild(n))}else return null}function WL(t,e){return Ms(t.visibleWrites,e)}function $L(t,e,n,i,a,l,u){let f;const d=jr(t.visibleWrites,e),h=Ms(d,Ye());if(h!=null)f=h;else if(n!=null)f=qa(d,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const p=[],g=u.getCompare(),v=l?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let _=v.getNext();for(;_&&p.length<a;)g(_,i)!==0&&p.push(_),_=v.getNext();return p}else return[]}function XL(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function xf(t,e,n,i){return AT(t.writeTree,t.treePath,e,n,i)}function sy(t,e){return GL(t.writeTree,t.treePath,e)}function wS(t,e,n,i){return YL(t.writeTree,t.treePath,e,n,i)}function Sf(t,e){return WL(t.writeTree,gt(t.treePath,e))}function QL(t,e,n,i,a,l){return $L(t.writeTree,t.treePath,e,n,i,a,l)}function ay(t,e,n){return KL(t.writeTree,t.treePath,e,n)}function RT(t,e){return kT(gt(t.treePath,e),t.writeTree)}function kT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,Gl(i,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,ql(i,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Ha(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,Gl(i,e.snapshotNode,a.oldSnap));else throw Qa("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const NT=new JL;class oy{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ay(this.writes_,e,i)}}getChildAfterChild(e,n,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ds(this.viewCache_),l=QL(this.writes_,a,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){return{filter:t}}function t3(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function n3(t,e,n,i,a){const l=new ZL;let u,f;if(n.type===ti.OVERWRITE){const h=n;h.source.fromUser?u=Lm(t,e,h.path,h.snap,i,a,l):(he(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered()&&!Be(h.path),u=wf(t,e,h.path,h.snap,i,a,f,l))}else if(n.type===ti.MERGE){const h=n;h.source.fromUser?u=r3(t,e,h.path,h.children,i,a,l):(he(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered(),u=jm(t,e,h.path,h.children,i,a,f,l))}else if(n.type===ti.ACK_USER_WRITE){const h=n;h.revert?u=o3(t,e,h.path,i,a,l):u=s3(t,e,h.path,h.affectedTree,i,a,l)}else if(n.type===ti.LISTEN_COMPLETE)u=a3(t,e,n.path,i,l);else throw Qa("Unknown operation type: "+n.type);const d=l.getChanges();return i3(e,u,d),{viewCache:u,changes:d}}function i3(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Dm(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(ST(Dm(e)))}}function IT(t,e,n,i,a,l){const u=e.eventCache;if(Sf(i,n)!=null)return e;{let f,d;if(Be(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Ds(e),p=h instanceof Te?h:Te.EMPTY_NODE,g=sy(i,p);f=t.filter.updateFullNode(e.eventCache.getNode(),g,l)}else{const h=xf(i,Ds(e));f=t.filter.updateFullNode(e.eventCache.getNode(),h,l)}else{const h=Pe(n);if(h===".priority"){he(Ur(n)===1,"Can't have a priority with additional path components");const p=u.getNode();d=e.serverCache.getNode();const g=wS(i,n,p,d);g!=null?f=t.filter.updatePriority(p,g):f=u.getNode()}else{const p=rt(n);let g;if(u.isCompleteForChild(h)){d=e.serverCache.getNode();const v=wS(i,n,u.getNode(),d);v!=null?g=u.getNode().getImmediateChild(h).updateChild(p,v):g=u.getNode().getImmediateChild(h)}else g=ay(i,h,e.serverCache);g!=null?f=t.filter.updateChild(u.getNode(),h,g,p,a,l):f=u.getNode()}}return Cl(e,f,u.isFullyInitialized()||Be(n),t.filter.filtersNodes())}}function wf(t,e,n,i,a,l,u,f){const d=e.serverCache;let h;const p=u?t.filter:t.filter.getIndexedFilter();if(Be(n))h=p.updateFullNode(d.getNode(),i,null);else if(p.filtersNodes()&&!d.isFiltered()){const _=d.getNode().updateChild(n,i);h=p.updateFullNode(d.getNode(),_,null)}else{const _=Pe(n);if(!d.isCompleteForPath(n)&&Ur(n)>1)return e;const S=rt(n),R=d.getNode().getImmediateChild(_).updateChild(S,i);_===".priority"?h=p.updatePriority(d.getNode(),R):h=p.updateChild(d.getNode(),_,R,S,NT,null)}const g=ET(e,h,d.isFullyInitialized()||Be(n),p.filtersNodes()),v=new oy(a,g,l);return IT(t,g,n,a,v,f)}function Lm(t,e,n,i,a,l,u){const f=e.eventCache;let d,h;const p=new oy(a,e,l);if(Be(n))h=t.filter.updateFullNode(e.eventCache.getNode(),i,u),d=Cl(e,h,!0,t.filter.filtersNodes());else{const g=Pe(n);if(g===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),i),d=Cl(e,h,f.isFullyInitialized(),f.isFiltered());else{const v=rt(n),_=f.getNode().getImmediateChild(g);let S;if(Be(v))S=i;else{const w=p.getCompleteChild(g);w!=null?$g(v)===".priority"&&w.getChild(mT(v)).isEmpty()?S=w:S=w.updateChild(v,i):S=Te.EMPTY_NODE}if(_.equals(S))d=e;else{const w=t.filter.updateChild(f.getNode(),g,S,v,p,u);d=Cl(e,w,f.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function ES(t,e){return t.eventCache.isCompleteForChild(e)}function r3(t,e,n,i,a,l,u){let f=e;return i.foreach((d,h)=>{const p=gt(n,d);ES(e,Pe(p))&&(f=Lm(t,f,p,h,a,l,u))}),i.foreach((d,h)=>{const p=gt(n,d);ES(e,Pe(p))||(f=Lm(t,f,p,h,a,l,u))}),f}function TS(t,e,n){return n.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function jm(t,e,n,i,a,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;Be(n)?h=i:h=new it(null).setTree(n,i);const p=e.serverCache.getNode();return h.children.inorderTraversal((g,v)=>{if(p.hasChild(g)){const _=e.serverCache.getNode().getImmediateChild(g),S=TS(t,_,v);d=wf(t,d,new Je(g),S,a,l,u,f)}}),h.children.inorderTraversal((g,v)=>{const _=!e.serverCache.isCompleteForChild(g)&&v.value===null;if(!p.hasChild(g)&&!_){const S=e.serverCache.getNode().getImmediateChild(g),w=TS(t,S,v);d=wf(t,d,new Je(g),w,a,l,u,f)}}),d}function s3(t,e,n,i,a,l,u){if(Sf(a,n)!=null)return e;const f=e.serverCache.isFiltered(),d=e.serverCache;if(i.value!=null){if(Be(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return wf(t,e,n,d.getNode().getChild(n),a,l,f,u);if(Be(n)){let h=new it(null);return d.getNode().forEachChild(Ma,(p,g)=>{h=h.set(new Je(p),g)}),jm(t,e,n,h,a,l,f,u)}else return e}else{let h=new it(null);return i.foreach((p,g)=>{const v=gt(n,p);d.isCompleteForPath(v)&&(h=h.set(p,d.getNode().getChild(v)))}),jm(t,e,n,h,a,l,f,u)}}function a3(t,e,n,i,a){const l=e.serverCache,u=ET(e,l.getNode(),l.isFullyInitialized()||Be(n),l.isFiltered());return IT(t,u,n,i,NT,a)}function o3(t,e,n,i,a,l){let u;if(Sf(i,n)!=null)return e;{const f=new oy(i,e,a),d=e.eventCache.getNode();let h;if(Be(n)||Pe(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=xf(i,Ds(e));else{const g=e.serverCache.getNode();he(g instanceof Te,"serverChildren would be complete if leaf node"),p=sy(i,g)}p=p,h=t.filter.updateFullNode(d,p,l)}else{const p=Pe(n);let g=ay(i,p,e.serverCache);g==null&&e.serverCache.isCompleteForChild(p)&&(g=d.getImmediateChild(p)),g!=null?h=t.filter.updateChild(d,p,g,rt(n),f,l):e.eventCache.getNode().hasChild(p)?h=t.filter.updateChild(d,p,Te.EMPTY_NODE,rt(n),f,l):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=xf(i,Ds(e)),u.isLeafNode()&&(h=t.filter.updateFullNode(h,u,l)))}return u=e.serverCache.isFullyInitialized()||Sf(i,Ye())!=null,Cl(e,h,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Jg(i.getIndex()),l=CL(i);this.processor_=e3(l);const u=n.serverCache,f=n.eventCache,d=a.updateFullNode(Te.EMPTY_NODE,u.getNode(),null),h=l.updateFullNode(Te.EMPTY_NODE,f.getNode(),null),p=new Is(d,u.isFullyInitialized(),a.filtersNodes()),g=new Is(h,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=qf(g,p),this.eventGenerator_=new OL(this.query_)}get query(){return this.query_}}function u3(t){return t.viewCache_.serverCache.getNode()}function c3(t,e){const n=Ds(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Be(e)&&!n.getImmediateChild(Pe(e)).isEmpty())?n.getChild(e):null}function CS(t){return t.eventRegistrations_.length===0}function f3(t,e){t.eventRegistrations_.push(e)}function AS(t,e,n){const i=[];if(n){he(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,a);u&&i.push(u)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function RS(t,e,n,i){e.type===ti.MERGE&&e.source.queryId!==null&&(he(Ds(t.viewCache_),"We should always have a full cache before handling merges"),he(Dm(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=n3(t.processor_,a,e,n,i);return t3(t.processor_,l.viewCache),he(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,DT(t,l.changes,l.viewCache.eventCache.getNode(),null)}function h3(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(l,u)=>{i.push(Ha(l,u))}),n.isFullyInitialized()&&i.push(ST(n.getNode())),DT(t,i,n.getNode(),e)}function DT(t,e,n,i){const a=i?[i]:t.eventRegistrations_;return ML(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;class d3{constructor(){this.views=new Map}}function p3(t){he(!Ef,"__referenceConstructor has already been defined"),Ef=t}function m3(){return he(Ef,"Reference.ts has not been loaded"),Ef}function g3(t){return t.views.size===0}function ly(t,e,n,i){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return he(l!=null,"SyncTree gave us an op for an invalid query."),RS(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(RS(u,e,n,i));return l}}function y3(t,e,n,i,a){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=xf(n,a?i:null),d=!1;f?d=!0:i instanceof Te?(f=sy(n,i),d=!1):(f=Te.EMPTY_NODE,d=!1);const h=qf(new Is(f,d,!1),new Is(i,a,!1));return new l3(e,h)}return u}function v3(t,e,n,i,a,l){const u=y3(t,e,i,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),f3(u,n),h3(u,n)}function _3(t,e,n,i){const a=e._queryIdentifier,l=[];let u=[];const f=zr(t);if(a==="default")for(const[d,h]of t.views.entries())u=u.concat(AS(h,n,i)),CS(h)&&(t.views.delete(d),h.query._queryParams.loadsAllData()||l.push(h.query));else{const d=t.views.get(a);d&&(u=u.concat(AS(d,n,i)),CS(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||l.push(d.query)))}return f&&!zr(t)&&l.push(new(m3())(e._repo,e._path)),{removed:l,events:u}}function OT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Pa(t,e){let n=null;for(const i of t.views.values())n=n||c3(i,e);return n}function MT(t,e){if(e._queryParams.loadsAllData())return Gf(t);{const i=e._queryIdentifier;return t.views.get(i)}}function PT(t,e){return MT(t,e)!=null}function zr(t){return Gf(t)!=null}function Gf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;function b3(t){he(!Tf,"__referenceConstructor has already been defined"),Tf=t}function x3(){return he(Tf,"Reference.ts has not been loaded"),Tf}let S3=1;class kS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=XL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LT(t,e,n,i,a){return UL(t.pendingWriteTree_,e,n,i,a),a?io(t,new Ns(ty(),e,n)):[]}function w3(t,e,n,i){zL(t.pendingWriteTree_,e,n,i);const a=it.fromObject(n);return io(t,new Fa(ty(),e,a))}function Dr(t,e,n=!1){const i=BL(t.pendingWriteTree_,e);if(VL(t.pendingWriteTree_,e)){let l=new it(null);return i.snap!=null?l=l.set(Ye(),!0):qt(i.children,u=>{l=l.set(new Je(u),!0)}),io(t,new bf(i.path,l,n))}else return[]}function Yf(t,e,n){return io(t,new Ns(ny(),e,n))}function E3(t,e,n){const i=it.fromObject(n);return io(t,new Fa(ny(),e,i))}function T3(t,e){return io(t,new Kl(ny(),e))}function C3(t,e,n){const i=cy(t,n);if(i){const a=fy(i),l=a.path,u=a.queryId,f=cn(l,e),d=new Kl(iy(u),f);return hy(t,l,d)}else return[]}function Um(t,e,n,i,a=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||PT(u,e))){const d=_3(u,e,n,i);g3(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const h=d.removed;if(f=d.events,!a){const p=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(l,(v,_)=>zr(_));if(p&&!g){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const _=k3(v);for(let S=0;S<_.length;++S){const w=_[S],R=w.query,T=zT(t,w);t.listenProvider_.startListening(Rl(R),Cf(t,R),T.hashFn,T.onComplete)}}}!g&&h.length>0&&!i&&(p?t.listenProvider_.stopListening(Rl(e),null):h.forEach(v=>{const _=t.queryToTagMap.get(Kf(v));t.listenProvider_.stopListening(Rl(v),_)}))}N3(t,h)}return f}function A3(t,e,n,i){const a=cy(t,i);if(a!=null){const l=fy(a),u=l.path,f=l.queryId,d=cn(u,e),h=new Ns(iy(f),d,n);return hy(t,u,h)}else return[]}function R3(t,e,n,i){const a=cy(t,i);if(a){const l=fy(a),u=l.path,f=l.queryId,d=cn(u,e),h=it.fromObject(n),p=new Fa(iy(f),d,h);return hy(t,u,p)}else return[]}function NS(t,e,n,i=!1){const a=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(a,(v,_)=>{const S=cn(v,a);l=l||Pa(_,S),u=u||zr(_)});let f=t.syncPointTree_.get(a);f?(u=u||zr(f),l=l||Pa(f,Ye())):(f=new d3,t.syncPointTree_=t.syncPointTree_.set(a,f));let d;l!=null?d=!0:(d=!1,l=Te.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((_,S)=>{const w=Pa(S,Ye());w&&(l=l.updateImmediateChild(_,w))}));const h=PT(f,e);if(!h&&!e._queryParams.loadsAllData()){const v=Kf(e);he(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const _=I3();t.queryToTagMap.set(v,_),t.tagToQueryMap.set(_,v)}const p=ry(t.pendingWriteTree_,a);let g=v3(f,e,n,p,l,d);if(!h&&!u&&!i){const v=MT(f,e);g=g.concat(D3(t,e,v))}return g}function uy(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const d=cn(u,e),h=Pa(f,d);if(h)return h});return AT(a,e,l,n,!0)}function io(t,e){return jT(e,t.syncPointTree_,null,ry(t.pendingWriteTree_,Ye()))}function jT(t,e,n,i){if(Be(t.path))return UT(t,e,n,i);{const a=e.get(Ye());n==null&&a!=null&&(n=Pa(a,Ye()));let l=[];const u=Pe(t.path),f=t.operationForChild(u),d=e.children.get(u);if(d&&f){const h=n?n.getImmediateChild(u):null,p=RT(i,u);l=l.concat(jT(f,d,h,p))}return a&&(l=l.concat(ly(a,t,i,n))),l}}function UT(t,e,n,i){const a=e.get(Ye());n==null&&a!=null&&(n=Pa(a,Ye()));let l=[];return e.children.inorderTraversal((u,f)=>{const d=n?n.getImmediateChild(u):null,h=RT(i,u),p=t.operationForChild(u);p&&(l=l.concat(UT(p,f,d,h)))}),a&&(l=l.concat(ly(a,t,i,n))),l}function zT(t,e){const n=e.query,i=Cf(t,n);return{hashFn:()=>(u3(e)||Te.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?C3(t,n._path,i):T3(t,n._path);{const l=EP(a,n);return Um(t,n,null,l)}}}}function Cf(t,e){const n=Kf(e);return t.queryToTagMap.get(n)}function Kf(t){return t._path.toString()+"$"+t._queryIdentifier}function cy(t,e){return t.tagToQueryMap.get(e)}function fy(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function hy(t,e,n){const i=t.syncPointTree_.get(e);he(i,"Missing sync point for query tag that we're tracking");const a=ry(t.pendingWriteTree_,e);return ly(i,n,a,null)}function k3(t){return t.fold((e,n,i)=>{if(n&&zr(n))return[Gf(n)];{let a=[];return n&&(a=OT(n)),qt(i,(l,u)=>{a=a.concat(u)}),a}})}function Rl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(x3())(t._repo,t._path):t}function N3(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const a=Kf(i),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function I3(){return S3++}function D3(t,e,n){const i=e._path,a=Cf(t,e),l=zT(t,n),u=t.listenProvider_.startListening(Rl(e),a,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(i);if(a)he(!zr(f.value),"If we're adding a query, it shouldn't be shadowed");else{const d=f.fold((h,p,g)=>{if(!Be(h)&&p&&zr(p))return[Gf(p).query];{let v=[];return p&&(v=v.concat(OT(p).map(_=>_.query))),qt(g,(_,S)=>{v=v.concat(S)}),v}});for(let h=0;h<d.length;++h){const p=d[h];t.listenProvider_.stopListening(Rl(p),Cf(t,p))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new dy(n)}node(){return this.node_}}class py{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=gt(this.path_,e);return new py(this.syncTree_,n)}node(){return uy(this.syncTree_,this.path_)}}const O3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},IS=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return M3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return P3(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},M3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},P3=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&he(!1,"Unexpected increment value: "+i);const a=e.node();if(he(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const u=a.getValue();return typeof u!="number"?i:u+i},BT=function(t,e,n,i){return my(e,new py(n,t),i)},VT=function(t,e,n){return my(t,new dy(e),n)};function my(t,e,n){const i=t.getPriority().val(),a=IS(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=IS(u.getValue(),e,n);return f!==u.getValue()||a!==u.getPriority().val()?new Mt(f,Lt(a)):t}else{const u=t;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new Mt(a))),u.forEachChild(yt,(f,d)=>{const h=my(d,e.getImmediateChild(f),n);h!==d&&(l=l.updateImmediateChild(f,h))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function yy(t,e){let n=e instanceof Je?e:new Je(e),i=t,a=Pe(n);for(;a!==null;){const l=za(i.node.children,a)||{children:{},childCount:0};i=new gy(a,i,l),n=rt(n),a=Pe(n)}return i}function ro(t){return t.node.value}function HT(t,e){t.node.value=e,zm(t)}function FT(t){return t.node.childCount>0}function L3(t){return ro(t)===void 0&&!FT(t)}function Wf(t,e){qt(t.node.children,(n,i)=>{e(new gy(n,t,i))})}function qT(t,e,n,i){n&&e(t),Wf(t,a=>{qT(a,e,!0)})}function j3(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function mu(t){return new Je(t.parent===null?t.name:mu(t.parent)+"/"+t.name)}function zm(t){t.parent!==null&&U3(t.parent,t.name,t)}function U3(t,e,n){const i=L3(n),a=Si(t.node.children,e);i&&a?(delete t.node.children[e],t.node.childCount--,zm(t)):!i&&!a&&(t.node.children[e]=n.node,t.node.childCount++,zm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=/[\[\].#$\/\u0000-\u001F\u007F]/,B3=/[\[\].#$\u0000-\u001F\u007F]/,zp=10*1024*1024,vy=function(t){return typeof t=="string"&&t.length!==0&&!z3.test(t)},GT=function(t){return typeof t=="string"&&t.length!==0&&!B3.test(t)},V3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GT(t)},H3=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!qg(t)||t&&typeof t=="object"&&Si(t,".sv")},YT=function(t,e,n,i){i&&e===void 0||$f(Uf(t,"value"),e,n)},$f=function(t,e,n){const i=n instanceof Je?new rL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ms(i));if(typeof e=="function")throw new Error(t+"contains a function "+ms(i)+" with contents = "+e.toString());if(qg(e))throw new Error(t+"contains "+e.toString()+" "+ms(i));if(typeof e=="string"&&e.length>zp/3&&zf(e)>zp)throw new Error(t+"contains a string greater than "+zp+" utf8 bytes "+ms(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(qt(e,(u,f)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!vy(u)))throw new Error(t+" contains an invalid key ("+u+") "+ms(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sL(i,u),$f(t,f,i),aL(i)}),a&&l)throw new Error(t+' contains ".value" child '+ms(i)+" in addition to actual children.")}},F3=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Fl(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!vy(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(iL);let a=null;for(n=0;n<e.length;n++){if(i=e[n],a!==null&&Fn(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},q3=function(t,e,n,i){const a=Uf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const l=[];qt(e,(u,f)=>{const d=new Je(u);if($f(a,f,gt(n,d)),$g(d)===".priority"&&!H3(f))throw new Error(a+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(d)}),F3(a,l)},KT=function(t,e,n,i){if(!GT(n))throw new Error(Uf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},G3=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KT(t,e,n)},WT=function(t,e){if(Pe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Y3=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!V3(n))throw new Error(Uf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xf(t,e){let n=null;for(let i=0;i<e.length;i++){const a=e[i],l=a.getPath();n!==null&&!Xg(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function $T(t,e,n){Xf(t,n),XT(t,i=>Xg(i,e))}function si(t,e,n){Xf(t,n),XT(t,i=>Fn(i,e)||Fn(e,i))}function XT(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const a=t.eventLists_[i];if(a){const l=a.path;e(l)?(W3(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function W3(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();El&&Ft("event: "+n.toString()),no(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="repo_interrupt",X3=25;class Q3{constructor(e,n,i,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new K3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_f(),this.transactionQueueTree_=new gy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Z3(t,e,n){if(t.stats_=Kg(t.repoInfo_),t.forceRestClient_||RP())t.server_=new vf(t.repoInfo_,(i,a,l,u)=>{DS(t,i,a,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>OS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ki(t.repoInfo_,e,(i,a,l,u)=>{DS(t,i,a,l,u)},i=>{OS(t,i)},i=>{J3(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=OP(t.repoInfo_,()=>new DL(t.stats_,t.server_)),t.infoData_=new AL,t.infoSyncTree_=new kS({startListening:(i,a,l,u)=>{let f=[];const d=t.infoData_.getNode(i._path);return d.isEmpty()||(f=Yf(t.infoSyncTree_,i._path,d),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),_y(t,"connected",!1),t.serverSyncTree_=new kS({startListening:(i,a,l,u)=>(t.server_.listen(i,l,a,(f,d)=>{const h=u(f,d);si(t.eventQueue_,i._path,h)}),[]),stopListening:(i,a)=>{t.server_.unlisten(i,a)}})}function QT(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qf(t){return O3({timestamp:QT(t)})}function DS(t,e,n,i,a){t.dataUpdateCount++;const l=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(a)if(i){const d=of(n,h=>Lt(h));u=R3(t.serverSyncTree_,l,d,a)}else{const d=Lt(n);u=A3(t.serverSyncTree_,l,d,a)}else if(i){const d=of(n,h=>Lt(h));u=E3(t.serverSyncTree_,l,d)}else{const d=Lt(n);u=Yf(t.serverSyncTree_,l,d)}let f=l;u.length>0&&(f=Ga(t,l)),si(t.eventQueue_,f,u)}function OS(t,e){_y(t,"connected",e),e===!1&&n4(t)}function J3(t,e){qt(e,(n,i)=>{_y(t,n,i)})}function _y(t,e,n){const i=new Je("/.info/"+e),a=Lt(n);t.infoData_.updateSnapshot(i,a);const l=Yf(t.infoSyncTree_,i,a);si(t.eventQueue_,i,l)}function by(t){return t.nextWriteId_++}function e4(t,e,n,i,a){Zf(t,"set",{path:e.toString(),value:n,priority:i});const l=Qf(t),u=Lt(n,i),f=uy(t.serverSyncTree_,e),d=VT(u,f,l),h=by(t),p=LT(t.serverSyncTree_,e,d,h,!0);Xf(t.eventQueue_,p),t.server_.put(e.toString(),u.val(!0),(v,_)=>{const S=v==="ok";S||Jt("set at "+e+" failed: "+v);const w=Dr(t.serverSyncTree_,h,!S);si(t.eventQueue_,e,w),Bm(t,a,v,_)});const g=Sy(t,e);Ga(t,g),si(t.eventQueue_,g,[])}function t4(t,e,n,i){Zf(t,"update",{path:e.toString(),value:n});let a=!0;const l=Qf(t),u={};if(qt(n,(f,d)=>{a=!1,u[f]=BT(gt(e,f),Lt(d),t.serverSyncTree_,l)}),a)Ft("update() called with empty data.  Don't do anything."),Bm(t,i,"ok",void 0);else{const f=by(t),d=w3(t.serverSyncTree_,e,u,f);Xf(t.eventQueue_,d),t.server_.merge(e.toString(),n,(h,p)=>{const g=h==="ok";g||Jt("update at "+e+" failed: "+h);const v=Dr(t.serverSyncTree_,f,!g),_=v.length>0?Ga(t,e):e;si(t.eventQueue_,_,v),Bm(t,i,h,p)}),qt(n,h=>{const p=Sy(t,gt(e,h));Ga(t,p)}),si(t.eventQueue_,e,[])}}function n4(t){Zf(t,"onDisconnectEvents");const e=Qf(t),n=_f();Im(t.onDisconnect_,Ye(),(a,l)=>{const u=BT(a,l,t.serverSyncTree_,e);wT(n,a,u)});let i=[];Im(n,Ye(),(a,l)=>{i=i.concat(Yf(t.serverSyncTree_,a,l));const u=Sy(t,a);Ga(t,u)}),t.onDisconnect_=_f(),si(t.eventQueue_,Ye(),i)}function i4(t,e,n){let i;Pe(e._path)===".info"?i=NS(t.infoSyncTree_,e,n):i=NS(t.serverSyncTree_,e,n),$T(t.eventQueue_,e._path,i)}function MS(t,e,n){let i;Pe(e._path)===".info"?i=Um(t.infoSyncTree_,e,n):i=Um(t.serverSyncTree_,e,n),$T(t.eventQueue_,e._path,i)}function r4(t){t.persistentConnection_&&t.persistentConnection_.interrupt($3)}function Zf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ft(n,...e)}function Bm(t,e,n,i){e&&no(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;i&&(l+=": "+i);const u=new Error(l);u.code=a,e(u)}})}function ZT(t,e,n){return uy(t.serverSyncTree_,e,n)||Te.EMPTY_NODE}function xy(t,e=t.transactionQueueTree_){if(e||Jf(t,e),ro(e)){const n=eC(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&s4(t,mu(e),n)}else FT(e)&&Wf(e,n=>{xy(t,n)})}function s4(t,e,n){const i=n.map(h=>h.currentWriteId),a=ZT(t,e,i);let l=a;const u=a.hash();for(let h=0;h<n.length;h++){const p=n[h];he(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=cn(e,p.path);l=l.updateChild(g,p.currentOutputSnapshotRaw)}const f=l.val(!0),d=e;t.server_.put(d.toString(),f,h=>{Zf(t,"transaction put response",{path:d.toString(),status:h});let p=[];if(h==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(Dr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Jf(t,yy(t.transactionQueueTree_,e)),xy(t,t.transactionQueueTree_),si(t.eventQueue_,e,p);for(let v=0;v<g.length;v++)no(g[v])}else{if(h==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Jt("transaction at "+d.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}Ga(t,e)}},u)}function Ga(t,e){const n=JT(t,e),i=mu(n),a=eC(t,n);return a4(t,a,i),i}function a4(t,e,n){if(e.length===0)return;const i=[];let a=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const d=e[f],h=cn(n,d.path);let p=!1,g;if(he(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)p=!0,g=d.abortReason,a=a.concat(Dr(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=X3)p=!0,g="maxretry",a=a.concat(Dr(t.serverSyncTree_,d.currentWriteId,!0));else{const v=ZT(t,d.path,u);d.currentInputSnapshot=v;const _=e[f].update(v.val());if(_!==void 0){$f("transaction failed: Data returned ",_,d.path);let S=Lt(_);typeof _=="object"&&_!=null&&Si(_,".priority")||(S=S.updatePriority(v.getPriority()));const R=d.currentWriteId,T=Qf(t),k=VT(S,v,T);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=k,d.currentWriteId=by(t),u.splice(u.indexOf(R),1),a=a.concat(LT(t.serverSyncTree_,d.path,k,d.currentWriteId,d.applyLocally)),a=a.concat(Dr(t.serverSyncTree_,R,!0))}else p=!0,g="nodata",a=a.concat(Dr(t.serverSyncTree_,d.currentWriteId,!0))}si(t.eventQueue_,n,a),a=[],p&&(e[f].status=2,function(v){setTimeout(v,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(g==="nodata"?i.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):i.push(()=>e[f].onComplete(new Error(g),!1,null))))}Jf(t,t.transactionQueueTree_);for(let f=0;f<i.length;f++)no(i[f]);xy(t,t.transactionQueueTree_)}function JT(t,e){let n,i=t.transactionQueueTree_;for(n=Pe(e);n!==null&&ro(i)===void 0;)i=yy(i,n),e=rt(e),n=Pe(e);return i}function eC(t,e){const n=[];return tC(t,e,n),n.sort((i,a)=>i.order-a.order),n}function tC(t,e,n){const i=ro(e);if(i)for(let a=0;a<i.length;a++)n.push(i[a]);Wf(e,a=>{tC(t,a,n)})}function Jf(t,e){const n=ro(e);if(n){let i=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[i]=n[a],i++);n.length=i,HT(e,n.length>0?n:void 0)}Wf(e,i=>{Jf(t,i)})}function Sy(t,e){const n=mu(JT(t,e)),i=yy(t.transactionQueueTree_,e);return j3(i,a=>{Bp(t,a)}),Bp(t,i),qT(i,a=>{Bp(t,a)}),n}function Bp(t,e){const n=ro(e);if(n){const i=[];let a=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(he(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(he(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(Dr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?HT(e,void 0):n.length=l+1,si(t.eventQueue_,mu(e),a);for(let u=0;u<i.length;u++)no(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let a=n[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function l4(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Jt(`Invalid query segment '${n}' in query '${t}'`)}return e}const PS=function(t,e){const n=u4(t),i=n.namespace;n.domain==="firebase.com"&&Qi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_P();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new aT(n.host,n.secure,i,a,e,"",i!==n.subdomain),path:new Je(n.pathString)}},u4=function(t){let e="",n="",i="",a="",l="",u=!0,f="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(f=t.substring(0,h-1),t=t.substring(h+2));let p=t.indexOf("/");p===-1&&(p=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(p,g)),p<g&&(a=o4(t.substring(p,g)));const v=l4(t.substring(Math.min(t.length,g)));h=e.indexOf(":"),h>=0?(u=f==="https"||f==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),n=e.substring(S+1),l=i}"ns"in v&&(l=v.ns)}return{host:e,port:d,domain:n,subdomain:i,secure:u,scheme:f,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",c4=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let a;const l=new Array(8);for(a=7;a>=0;a--)l[a]=LS.charAt(n%64),n=Math.floor(n/64);he(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)u+=LS.charAt(e[a]);return he(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,i,a){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())}}class h4{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return he(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,i,a){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=a}get key(){return Be(this._path)?null:$g(this._path)}get ref(){return new Kr(this._repo,this._path)}get _queryIdentifier(){const e=_S(this._queryParams),n=Gg(e);return n==="{}"?"default":n}get _queryObject(){return _S(this._queryParams)}isEqual(e){if(e=pn(e),!(e instanceof wy))return!1;const n=this._repo===e._repo,i=Xg(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+nL(this._path)}}class Kr extends wy{constructor(e,n){super(e,n,new ey,!1)}get parent(){const e=mT(this._path);return e===null?null:new Kr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Af{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Je(e),i=Wl(this.ref,e);return new Af(this._node.getChild(n),i,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new Af(a,Wl(this.ref,i),yt)))}hasChild(e){const n=new Je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function at(t,e){return t=pn(t),t._checkNotDeleted("ref"),e!==void 0?Wl(t._root,e):t._root}function Wl(t,e){return t=pn(t),Pe(t._path)===null?G3("child","path",e):KT("child","path",e),new Kr(t._repo,gt(t._path,e))}function Lc(t,e){t=pn(t),WT("push",t._path),YT("push",e,t._path,!0);const n=QT(t._repo),i=c4(n),a=Wl(t,i),l=Wl(t,i);let u;return u=Promise.resolve(l),a.then=u.then.bind(u),a.catch=u.then.bind(u,void 0),a}function Ar(t,e){t=pn(t),WT("set",t._path),YT("set",e,t._path,!1);const n=new au;return e4(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function p4(t,e){q3("update",e,t._path);const n=new au;return t4(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Ey{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new f4("value",this,new Af(e.snapshotNode,new Kr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new h4(this,e,n):null}matches(e){return e instanceof Ey?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function m4(t,e,n,i,a){let l;if(typeof i=="object"&&(l=void 0,a=i),typeof i=="function"&&(l=i),a&&a.onlyOnce){const d=n,h=(p,g)=>{MS(t._repo,t,f),d(p,g)};h.userCallback=n.userCallback,h.context=n.context,n=h}const u=new d4(n,l||void 0),f=new Ey(u);return i4(t._repo,t,f),()=>MS(t._repo,t,f)}function ys(t,e,n,i){return m4(t,"value",e,n,i)}p3(Kr);b3(Kr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="FIREBASE_DATABASE_EMULATOR_HOST",Vm={};let y4=!1;function v4(t,e,n,i){const a=e.lastIndexOf(":"),l=e.substring(0,a),u=Za(l);t.repoInfo_=new aT(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function _4(t,e,n,i,a){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=PS(l,a),f=u.repoInfo,d;typeof process<"u"&&tS&&(d=tS[g4]),d?(l=`http://${d}?ns=${f.namespace}`,u=PS(l,a),f=u.repoInfo):u.repoInfo.secure;const h=new NP(t.name,t.options,e);Y3("Invalid Firebase Database URL",u),Be(u.path)||Qi("Database URL must point to the root of a Firebase Database (not including a child path).");const p=x4(f,t,h,new kP(t,n));return new S4(p,t)}function b4(t,e){const n=Vm[e];(!n||n[t.key]!==t)&&Qi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),r4(t),delete n[t.key]}function x4(t,e,n,i){let a=Vm[e.name];a||(a={},Vm[e.name]=a);let l=a[t.toURLString()];return l&&Qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new Q3(t,y4,n,i),a[t.toURLString()]=l,l}class S4{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Z3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kr(this._repo,Ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(b4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qi("Cannot call "+e+" on a deleted database.")}}function Cn(t=cE(),e){const n=Dg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=SD("database");i&&w4(n,...i)}return n}function w4(t,e,n,i={}){t=pn(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&Ts(i,l.repoInfo_.emulatorOptions))return;Qi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Xc(Xc.OWNER);else if(i.mockUserToken){const f=typeof i.mockUserToken=="string"?i.mockUserToken:wD(i.mockUserToken,t.app.options.projectId);u=new Xc(f)}Za(e)&&(iE(e),rE("Database",!0)),v4(l,a,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){dP(eo),Ba(new Cs("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return _4(i,a,l,n)},"PUBLIC").setMultipleInstances(!0)),Lr(nS,iS,t),Lr(nS,iS,"esm2017")}Ki.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ki.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};E4();var T4={apiKey:"AIzaSyBGZDKKuWAkUaxV1rB-fkH1tYjj_kLcQSM",authDomain:"personal-webpage-4fee5.firebaseapp.com",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com",projectId:"personal-webpage-4fee5",storageBucket:"personal-webpage-4fee5.firebasestorage.app",messagingSenderId:"436484530906",appId:"1:436484530906:web:b29b6e67621aa2009cfbe3",measurementId:"G-3QP9ZY1ZF7",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com"};const nC=uE(T4),Ss=uP(nC);Cn(nC);const Ty=O.createContext({});function Cy(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ay=typeof window<"u",iC=Ay?O.useLayoutEffect:O.useEffect,eh=O.createContext(null);function Ry(t,e){t.indexOf(e)===-1&&t.push(e)}function ky(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zi=(t,e,n)=>n>e?e:n<t?t:n;let Ny=()=>{};const Ji={},rC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sC(t){return typeof t=="object"&&t!==null}const aC=t=>/^0[^.\s]+$/u.test(t);function Iy(t){let e;return()=>(e===void 0&&(e=t()),e)}const qn=t=>t,C4=(t,e)=>n=>e(t(n)),gu=(...t)=>t.reduce(C4),$l=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Dy{constructor(){this.subscriptions=[]}add(e){return Ry(this.subscriptions,e),()=>ky(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yi=t=>t*1e3,vi=t=>t/1e3;function oC(t,e){return e?t*(1e3/e):0}const lC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,A4=1e-7,R4=12;function k4(t,e,n,i,a){let l,u,f=0;do u=e+(n-e)/2,l=lC(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>A4&&++f<R4);return u}function yu(t,e,n,i){if(t===e&&n===i)return qn;const a=l=>k4(l,0,1,t,n);return l=>l===0||l===1?l:lC(a(l),e,i)}const uC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cC=t=>e=>1-t(1-e),fC=yu(.33,1.53,.69,.99),Oy=cC(fC),hC=uC(Oy),dC=t=>(t*=2)<1?.5*Oy(t):.5*(2-Math.pow(2,-10*(t-1))),My=t=>1-Math.sin(Math.acos(t)),pC=cC(My),mC=uC(My),N4=yu(.42,0,1,1),I4=yu(0,0,.58,1),gC=yu(.42,0,.58,1),D4=t=>Array.isArray(t)&&typeof t[0]!="number",yC=t=>Array.isArray(t)&&typeof t[0]=="number",O4={linear:qn,easeIn:N4,easeInOut:gC,easeOut:I4,circIn:My,circInOut:mC,circOut:pC,backIn:Oy,backInOut:hC,backOut:fC,anticipate:dC},M4=t=>typeof t=="string",jS=t=>{if(yC(t)){Ny(t.length===4);const[e,n,i,a]=t;return yu(e,n,i,a)}else if(M4(t))return O4[t];return t},jc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(p){u.has(p)&&(h.schedule(p),t()),p(f)}const h={schedule:(p,g=!1,v=!1)=>{const S=v&&a?n:i;return g&&u.add(p),S.has(p)||S.add(p),p},cancel:p=>{i.delete(p),u.delete(p)},process:p=>{if(f=p,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,h.process(p))}};return h}const L4=40;function vC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=jc.reduce((N,K)=>(N[K]=P4(l),N),{}),{setup:f,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:_,postRender:S}=u,w=()=>{const N=Ji.useManualTiming?a.timestamp:performance.now();n=!1,Ji.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(N-a.timestamp,L4),1)),a.timestamp=N,a.isProcessing=!0,f.process(a),d.process(a),h.process(a),p.process(a),g.process(a),v.process(a),_.process(a),S.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(w))},R=()=>{n=!0,i=!0,a.isProcessing||t(w)};return{schedule:jc.reduce((N,K)=>{const M=u[K];return N[K]=(I,H=!1,G=!1)=>(n||R(),M.schedule(I,H,G)),N},{}),cancel:N=>{for(let K=0;K<jc.length;K++)u[jc[K]].cancel(N)},state:a,steps:u}}const{schedule:ut,cancel:Br,state:Ht,steps:Vp}=vC(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let Qc;function j4(){Qc=void 0}const hn={now:()=>(Qc===void 0&&hn.set(Ht.isProcessing||Ji.useManualTiming?Ht.timestamp:performance.now()),Qc),set:t=>{Qc=t,queueMicrotask(j4)}},_C=t=>e=>typeof e=="string"&&e.startsWith(t),Py=_C("--"),U4=_C("var(--"),Ly=t=>U4(t)?z4.test(t.split("/*")[0].trim()):!1,z4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,so={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xl={...so,transform:t=>Zi(0,1,t)},Uc={...so,default:1},kl=t=>Math.round(t*1e5)/1e5,jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B4(t){return t==null}const V4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uy=(t,e)=>n=>!!(typeof n=="string"&&V4.test(n)&&n.startsWith(t)||e&&!B4(n)&&Object.prototype.hasOwnProperty.call(n,e)),bC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(jy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},H4=t=>Zi(0,255,t),Hp={...so,transform:t=>Math.round(H4(t))},bs={test:Uy("rgb","red"),parse:bC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Hp.transform(t)+", "+Hp.transform(e)+", "+Hp.transform(n)+", "+kl(Xl.transform(i))+")"};function F4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Hm={test:Uy("#"),parse:F4,transform:bs.transform},vu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rr=vu("deg"),_i=vu("%"),Ee=vu("px"),q4=vu("vh"),G4=vu("vw"),US={..._i,parse:t=>_i.parse(t)/100,transform:t=>_i.transform(t*100)},Ta={test:Uy("hsl","hue"),parse:bC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+_i.transform(kl(e))+", "+_i.transform(kl(n))+", "+kl(Xl.transform(i))+")"},Tt={test:t=>bs.test(t)||Hm.test(t)||Ta.test(t),parse:t=>bs.test(t)?bs.parse(t):Ta.test(t)?Ta.parse(t):Hm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bs.transform(t):Ta.transform(t),getAnimatableNone:t=>{const e=Tt.parse(t);return e.alpha=0,Tt.transform(e)}},Y4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jy))==null?void 0:e.length)||0)+(((n=t.match(Y4))==null?void 0:n.length)||0)>0}const xC="number",SC="color",W4="var",$4="var(",zS="${}",X4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ql(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(X4,d=>(Tt.test(d)?(i.color.push(l),a.push(SC),n.push(Tt.parse(d))):d.startsWith($4)?(i.var.push(l),a.push(W4),n.push(d)):(i.number.push(l),a.push(xC),n.push(parseFloat(d))),++l,zS)).split(zS);return{values:n,split:f,indexes:i,types:a}}function wC(t){return Ql(t).values}function EC(t){const{split:e,types:n}=Ql(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===xC?l+=kl(a[u]):f===SC?l+=Tt.transform(a[u]):l+=a[u]}return l}}const Q4=t=>typeof t=="number"?0:Tt.test(t)?Tt.getAnimatableNone(t):t;function Z4(t){const e=wC(t);return EC(t)(e.map(Q4))}const Vr={test:K4,parse:wC,createTransformer:EC,getAnimatableNone:Z4};function Fp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=Fp(d,f,t+1/3),l=Fp(d,f,t),u=Fp(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Rf(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,qp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},ej=[Hm,bs,Ta],tj=t=>ej.find(e=>e.test(t));function BS(t){const e=tj(t);if(!e)return!1;let n=e.parse(t);return e===Ta&&(n=J4(n)),n}const VS=(t,e)=>{const n=BS(t),i=BS(e);if(!n||!i)return Rf(t,e);const a={...n};return l=>(a.red=qp(n.red,i.red,l),a.green=qp(n.green,i.green,l),a.blue=qp(n.blue,i.blue,l),a.alpha=ht(n.alpha,i.alpha,l),bs.transform(a))},Fm=new Set(["none","hidden"]);function nj(t,e){return Fm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ij(t,e){return n=>ht(t,e,n)}function zy(t){return typeof t=="number"?ij:typeof t=="string"?Ly(t)?Rf:Tt.test(t)?VS:aj:Array.isArray(t)?TC:typeof t=="object"?Tt.test(t)?VS:rj:Rf}function TC(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>zy(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function rj(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=zy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function sj(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],f=t.values[u]??0;n[a]=f,i[l]++}return n}const aj=(t,e)=>{const n=Vr.createTransformer(e),i=Ql(t),a=Ql(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Fm.has(t)&&!a.values.length||Fm.has(e)&&!i.values.length?nj(t,e):gu(TC(sj(i,a),a.values),n):Rf(t,e)};function CC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):zy(t)(t,e)}const oj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>Br(e),now:()=>Ht.isProcessing?Ht.timestamp:hn.now()}},AC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},kf=2e4;function By(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<kf;)e+=n,i=t.next(e);return e>=kf?1/0:e}function lj(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(By(i),kf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:vi(a)}}const uj=5;function RC(t,e,n){const i=Math.max(e-uj,0);return oC(n-t(i),e-i)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gp=.001;function cj({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:i=mt.mass}){let a,l,u=1-e;u=Zi(mt.minDamping,mt.maxDamping,u),t=Zi(mt.minDuration,mt.maxDuration,vi(t)),u<1?(a=h=>{const p=h*u,g=p*t,v=p-n,_=qm(h,u),S=Math.exp(-g);return Gp-v/_*S},l=h=>{const g=h*u*t,v=g*n+n,_=Math.pow(u,2)*Math.pow(h,2)*t,S=Math.exp(-g),w=qm(Math.pow(h,2),u);return(-a(h)+Gp>0?-1:1)*((v-_)*S)/w}):(a=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-Gp+p*g},l=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const f=5/t,d=hj(a,l,f);if(t=yi(t),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:u*2*Math.sqrt(i*h),duration:t}}}const fj=12;function hj(t,e,n){let i=n;for(let a=1;a<fj;a++)i=i-t(i)/e(i);return i}function qm(t,e){return t*Math.sqrt(1-e*e)}const dj=["duration","bounce"],pj=["stiffness","damping","mass"];function HS(t,e){return e.some(n=>t[n]!==void 0)}function mj(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!HS(t,pj)&&HS(t,dj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Zi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:mt.mass,stiffness:a,damping:l}}else{const n=cj(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function Nf(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:_}=mj({...n,velocity:-vi(n.velocity||0)}),S=v||0,w=h/(2*Math.sqrt(d*p)),R=u-l,T=vi(Math.sqrt(d/p)),k=Math.abs(R)<5;i||(i=k?mt.restSpeed.granular:mt.restSpeed.default),a||(a=k?mt.restDelta.granular:mt.restDelta.default);let N;if(w<1){const M=qm(T,w);N=I=>{const H=Math.exp(-w*T*I);return u-H*((S+w*T*R)/M*Math.sin(M*I)+R*Math.cos(M*I))}}else if(w===1)N=M=>u-Math.exp(-T*M)*(R+(S+T*R)*M);else{const M=T*Math.sqrt(w*w-1);N=I=>{const H=Math.exp(-w*T*I),G=Math.min(M*I,300);return u-H*((S+w*T*R)*Math.sinh(G)+M*R*Math.cosh(G))/M}}const K={calculatedDuration:_&&g||null,next:M=>{const I=N(M);if(_)f.done=M>=g;else{let H=M===0?S:0;w<1&&(H=M===0?yi(S):RC(N,M,I));const G=Math.abs(H)<=i,Z=Math.abs(u-I)<=a;f.done=G&&Z}return f.value=f.done?u:I,f},toString:()=>{const M=Math.min(By(K),kf),I=AC(H=>K.next(M*H).value,M,30);return M+"ms "+I},toTransition:()=>{}};return K}Nf.applyToOptions=t=>{const e=lj(t,100,Nf);return t.ease=e.ease,t.duration=yi(e.duration),t.type="keyframes",t};function Gm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},_=G=>f!==void 0&&G<f||d!==void 0&&G>d,S=G=>f===void 0?d:d===void 0||Math.abs(f-G)<Math.abs(d-G)?f:d;let w=n*e;const R=g+w,T=u===void 0?R:u(R);T!==R&&(w=T-g);const k=G=>-w*Math.exp(-G/i),N=G=>T+k(G),K=G=>{const Z=k(G),ie=N(G);v.done=Math.abs(Z)<=h,v.value=v.done?T:ie};let M,I;const H=G=>{_(v.value)&&(M=G,I=Nf({keyframes:[v.value,S(v.value)],velocity:RC(N,G,v.value),damping:a,stiffness:l,restDelta:h,restSpeed:p}))};return H(0),{calculatedDuration:null,next:G=>{let Z=!1;return!I&&M===void 0&&(Z=!0,K(G),H(G)),M!==void 0&&G>=M?I.next(G-M):(!Z&&K(G),v)}}}function gj(t,e,n){const i=[],a=n||Ji.mix||CC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||qn:e;f=gu(d,f)}i.push(f)}return i}function yj(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Ny(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=gj(e,i,a),d=f.length,h=p=>{if(u&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=$l(t[g],t[g+1],p);return f[g](v)};return n?p=>h(Zi(t[0],t[l-1],p)):h}function vj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=$l(0,e,i);t.push(ht(n,1,a))}}function _j(t){const e=[0];return vj(e,t.length-1),e}function bj(t,e){return t.map(n=>n*e)}function xj(t,e){return t.map(()=>e||gC).splice(0,t.length-1)}function Nl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=D4(i)?i.map(jS):jS(i),l={done:!1,value:e[0]},u=bj(n&&n.length===e.length?n:_j(e),t),f=yj(u,e,{ease:Array.isArray(a)?a:xj(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const Sj=t=>t!==null;function Vy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(Sj),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const wj={decay:Gm,inertia:Gm,tween:Nl,keyframes:Nl,spring:Nf};function kC(t){typeof t.type=="string"&&(t.type=wj[t.type])}class Hy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Ej=t=>t/100;class Fy extends Hy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kC(e);const{type:n=Nl,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const d=n||Nl;d!==Nl&&typeof f[0]!="number"&&(this.mixKeyframes=gu(Ej,CC(f[0],f[1])),f=[0,100]);const h=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),h.calculatedDuration===null&&(h.calculatedDuration=By(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:_,type:S,onUpdate:w,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,K=i;if(g){const G=Math.min(this.currentTime,a)/f;let Z=Math.floor(G),ie=G%1;!ie&&G>=1&&(ie=1),ie===1&&Z--,Z=Math.min(Z,g+1),!!(Z%2)&&(v==="reverse"?(ie=1-ie,_&&(ie-=_/f)):v==="mirror"&&(K=u)),N=Zi(0,1,ie)*f}const M=k?{done:!1,value:p[0]}:K.next(N);l&&(M.value=l(M.value));let{done:I}=M;!k&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return H&&S!==Gm&&(M.value=Vy(p,this.options,R,this.speed)),w&&w(M.value),H&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return vi(this.calculatedDuration)}get time(){return vi(this.currentTime)}set time(e){var n;e=yi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=oj,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Tj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xs=t=>t*180/Math.PI,Ym=t=>{const e=xs(Math.atan2(t[1],t[0]));return Km(e)},Cj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ym,rotateZ:Ym,skewX:t=>xs(Math.atan(t[1])),skewY:t=>xs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Km=t=>(t=t%360,t<0&&(t+=360),t),FS=Ym,qS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Aj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qS,scaleY:GS,scale:t=>(qS(t)+GS(t))/2,rotateX:t=>Km(xs(Math.atan2(t[6],t[5]))),rotateY:t=>Km(xs(Math.atan2(-t[2],t[0]))),rotateZ:FS,rotate:FS,skewX:t=>xs(Math.atan(t[4])),skewY:t=>xs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Wm(t){return t.includes("scale")?1:0}function $m(t,e){if(!t||t==="none")return Wm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Aj,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Cj,a=f}if(!a)return Wm(e);const l=i[e],u=a[1].split(",").map(kj);return typeof l=="function"?l(u):u[l]}const Rj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $m(n,e)};function kj(t){return parseFloat(t.trim())}const ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oo=new Set(ao),YS=t=>t===so||t===Ee,Nj=new Set(["x","y","z"]),Ij=ao.filter(t=>!Nj.has(t));function Dj(t){const e=[];return Ij.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ws={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$m(e,"x"),y:(t,{transform:e})=>$m(e,"y")};ws.translateX=ws.x;ws.translateY=ws.y;const Es=new Set;let Xm=!1,Qm=!1,Zm=!1;function NC(){if(Qm){const t=Array.from(Es).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Dj(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{var f;(f=i.getValue(l))==null||f.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Qm=!1,Xm=!1,Es.forEach(t=>t.complete(Zm)),Es.clear()}function IC(){Es.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qm=!0)})}function Oj(){Zm=!0,IC(),NC(),Zm=!1}class qy{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Es.add(this),Xm||(Xm=!0,ut.read(IC),ut.resolveKeyframes(NC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}Tj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Es.delete(this)}cancel(){this.state==="scheduled"&&(Es.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Mj=t=>t.startsWith("--");function Pj(t,e,n){Mj(e)?t.style.setProperty(e,n):t.style[e]=n}const Lj=Iy(()=>window.ScrollTimeline!==void 0),jj={};function Uj(t,e){const n=Iy(t);return()=>jj[e]??n()}const DC=Uj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,KS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xl([0,.65,.55,1]),circOut:xl([.55,0,1,.45]),backIn:xl([.31,.01,.66,-.59]),backOut:xl([.33,1.53,.69,.99])};function OC(t,e){if(t)return typeof t=="function"?DC()?AC(t,e):"ease-out":yC(t)?xl(t):Array.isArray(t)?t.map(n=>OC(n,e)||KS.easeOut):KS[t]}function zj(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const g=OC(f,a);Array.isArray(g)&&(p.easing=g);const v={delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(p,v)}function MC(t){return typeof t=="function"&&"applyToOptions"in t}function Bj({type:t,...e}){return MC(t)&&DC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Vj extends Hy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Ny(typeof e.type!="string");const h=Bj(e);this.animation=zj(n,i,a,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Vy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(p):Pj(n,i,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return vi(Number(e))}get time(){return vi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Lj()?(this.animation.timeline=e,qn):n(this)}}const PC={anticipate:dC,backInOut:hC,circInOut:mC};function Hj(t){return t in PC}function Fj(t){typeof t.ease=="string"&&Hj(t.ease)&&(t.ease=PC[t.ease])}const WS=10;class qj extends Vj{constructor(e){Fj(e),kC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Fy({...u,autoplay:!1}),d=yi(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-WS).value,f.sample(d).value,WS),f.stop()}}const $S=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vr.test(t)||t==="0")&&!t.startsWith("url("));function Gj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Yj(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=$S(a,e),f=$S(l,e);return!u||!f?!1:Gj(t)||(n==="spring"||MC(n))&&i}function Jm(t){t.duration=0,t.type}const Kj=new Set(["opacity","clipPath","filter","transform"]),Wj=Iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $j(t){var p;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return Wj()&&n&&Kj.has(n)&&(n!=="transform"||!h)&&!d&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const Xj=40;class Qj extends Hy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:d,motionValue:h,element:p,...g}){var S;super(),this.stop=()=>{var w,R;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=hn.now();const v={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:h,element:p,...g},_=(p==null?void 0:p.KeyframeResolver)||qy;this.keyframeResolver=new _(f,(w,R,T)=>this.onKeyframesResolved(w,R,v,!T),d,h,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:d,isHandoff:h,onUpdate:p}=i;this.resolvedAt=hn.now(),Yj(e,l,u,f)||((Ji.instantAnimations||!d)&&(p==null||p(Vy(e,i,n))),e[0]=e[e.length-1],Jm(i),i.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Xj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!h&&$j(v)?new qj({...v,element:v.motionValue.owner.current}):new Fy(v);_.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Oj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Zj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jj(t){const e=Zj.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function LC(t,e,n=1){const[i,a]=Jj(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return rC(u)?parseFloat(u):u}return Ly(a)?LC(a,e,n+1):a}function Gy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const jC=new Set(["width","height","top","left","right","bottom",...ao]),e6={test:t=>t==="auto",parse:t=>t},UC=t=>e=>e.test(t),zC=[so,Ee,_i,Rr,G4,q4,e6],XS=t=>zC.find(UC(t));function t6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aC(t):!0}const n6=new Set(["brightness","contrast","saturate","opacity"]);function i6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(jy)||[];if(!i)return t;const a=n.replace(i,"");let l=n6.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const r6=/\b([a-z-]*)\(.*?\)/gu,eg={...Vr,getAnimatableNone:t=>{const e=t.match(r6);return e?e.map(i6).join(" "):t}},QS={...so,transform:Math.round},s6={rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:Uc,scaleX:Uc,scaleY:Uc,scaleZ:Uc,skew:Rr,skewX:Rr,skewY:Rr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Xl,originX:US,originY:US,originZ:Ee},Yy={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...s6,zIndex:QS,fillOpacity:Xl,strokeOpacity:Xl,numOctaves:QS},a6={...Yy,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:eg,WebkitFilter:eg},BC=t=>a6[t];function VC(t,e){let n=BC(t);return n!==eg&&(n=Vr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const o6=new Set(["auto","none","0"]);function l6(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!o6.has(l)&&Ql(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=VC(n,a)}class u6 extends qy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Ly(h))){const p=LC(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!jC.has(i)||e.length!==2)return;const[a,l]=e,u=XS(a),f=XS(l);if(u!==f)if(YS(u)&&YS(f))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else ws[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||t6(e[a]))&&i.push(a);i.length&&l6(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ws[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=ws[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function c6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const HC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FC(t){return sC(t)&&"offsetHeight"in t}const ZS=30,f6=t=>!isNaN(parseFloat(t));class h6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ZS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ZS);return oC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ya(t,e){return new h6(t,e)}const{schedule:Ky}=vC(queueMicrotask,!1),Zn={x:!1,y:!1};function qC(){return Zn.x||Zn.y}function d6(t){return t==="x"||t==="y"?Zn[t]?null:(Zn[t]=!0,()=>{Zn[t]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function GC(t,e){const n=c6(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function JS(t){return!(t.pointerType==="touch"||qC())}function p6(t,e,n={}){const[i,a,l]=GC(t,n),u=f=>{if(!JS(f))return;const{target:d}=f,h=e(d,f);if(typeof h!="function"||!d)return;const p=g=>{JS(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const YC=(t,e)=>e?t===e?!0:YC(t,e.parentElement):!1,Wy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g6(t){return m6.has(t.tagName)||t.tabIndex!==-1}const Zc=new WeakSet;function e1(t){return e=>{e.key==="Enter"&&t(e)}}function Yp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y6=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=e1(()=>{if(Zc.has(n))return;Yp(n,"down");const a=e1(()=>{Yp(n,"up")}),l=()=>Yp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function t1(t){return Wy(t)&&!qC()}function v6(t,e,n={}){const[i,a,l]=GC(t,n),u=f=>{const d=f.currentTarget;if(!t1(f))return;Zc.add(d);const h=e(d,f),p=(_,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Zc.has(d)&&Zc.delete(d),t1(_)&&typeof h=="function"&&h(_,{success:S})},g=_=>{p(_,d===window||d===document||n.useGlobalTarget||YC(d,_.target))},v=_=>{p(_,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",v,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),FC(f)&&(f.addEventListener("focus",h=>y6(h,a)),!g6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function KC(t){return sC(t)&&"ownerSVGElement"in t}function _6(t){return KC(t)&&t.tagName==="svg"}const $t=t=>!!(t&&t.getVelocity),b6=[...zC,Tt,Vr],x6=t=>b6.find(UC(t)),$y=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class S6 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=FC(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function w6({children:t,isPresent:e,anchorX:n,root:i}){const a=O.useId(),l=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=O.useContext($y);return O.useInsertionEffect(()=>{const{width:d,height:h,top:p,left:g,right:v}=u.current;if(e||!l.current||!d||!h)return;const _=n==="left"?`left: ${g}`:`right: ${v}`;l.current.dataset.motionPopId=a;const S=document.createElement("style");f&&(S.nonce=f);const w=i??document.head;return w.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(S)&&w.removeChild(S)}},[e]),C.jsx(S6,{isPresent:e,childRef:l,sizeRef:u,children:O.cloneElement(t,{ref:l})})}const E6=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:d})=>{const h=Cy(T6),p=O.useId();let g=!0,v=O.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:_=>{h.set(_,!0);for(const S of h.values())if(!S)return;i&&i()},register:_=>(h.set(_,!1),()=>h.delete(_))}),[n,h,i]);return l&&g&&(v={...v}),O.useMemo(()=>{h.forEach((_,S)=>h.set(S,!1))},[n]),O.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),u==="popLayout"&&(t=C.jsx(w6,{isPresent:n,anchorX:f,root:d,children:t})),C.jsx(eh.Provider,{value:v,children:t})};function T6(){return new Map}function WC(t=!0){const e=O.useContext(eh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const zc=t=>t.key||"";function n1(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Xy=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:d})=>{const[h,p]=WC(u),g=O.useMemo(()=>n1(t),[t]),v=u&&!h?[]:g.map(zc),_=O.useRef(!0),S=O.useRef(g),w=Cy(()=>new Map),[R,T]=O.useState(g),[k,N]=O.useState(g);iC(()=>{_.current=!1,S.current=g;for(let I=0;I<k.length;I++){const H=zc(k[I]);v.includes(H)?w.delete(H):w.get(H)!==!0&&w.set(H,!1)}},[k,v.length,v.join("-")]);const K=[];if(g!==R){let I=[...g];for(let H=0;H<k.length;H++){const G=k[H],Z=zc(G);v.includes(Z)||(I.splice(H,0,G),K.push(G))}return l==="wait"&&K.length&&(I=K),N(n1(I)),T(g),null}const{forceRender:M}=O.useContext(Ty);return C.jsx(C.Fragment,{children:k.map(I=>{const H=zc(I),G=u&&!h?!1:g===k||v.includes(H),Z=()=>{if(w.has(H))w.set(H,!0);else return;let ie=!0;w.forEach(W=>{W||(ie=!1)}),ie&&(M==null||M(),N(S.current),u&&(p==null||p()),i&&i())};return C.jsx(E6,{isPresent:G,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:G?void 0:Z,anchorX:f,children:I},H)})})},$C=O.createContext({strict:!1}),i1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ka={};for(const t in i1)Ka[t]={isEnabled:e=>i1[t].some(n=>!!e[n])};function C6(t){for(const e in t)Ka[e]={...Ka[e],...t[e]}}const A6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function If(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A6.has(t)}let XC=t=>!If(t);function R6(t){typeof t=="function"&&(XC=e=>e.startsWith("on")?!If(e):t(e))}try{R6(require("@emotion/is-prop-valid").default)}catch{}function k6(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(XC(a)||n===!0&&If(a)||!e&&!If(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const th=O.createContext({});function nh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zl(t){return typeof t=="string"||Array.isArray(t)}const Qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zy=["initial",...Qy];function ih(t){return nh(t.animate)||Zy.some(e=>Zl(t[e]))}function QC(t){return!!(ih(t)||t.variants)}function N6(t,e){if(ih(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Zl(n)?n:void 0,animate:Zl(i)?i:void 0}}return t.inherit!==!1?e:{}}function I6(t){const{initial:e,animate:n}=N6(t,O.useContext(th));return O.useMemo(()=>({initial:e,animate:n}),[r1(e),r1(n)])}function r1(t){return Array.isArray(t)?t.join(" "):t}const Jl={};function D6(t){for(const e in t)Jl[e]=t[e],Py(e)&&(Jl[e].isCSSVariable=!0)}function ZC(t,{layout:e,layoutId:n}){return oo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jl[t]||t==="opacity")}const O6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M6=ao.length;function P6(t,e,n){let i="",a=!0;for(let l=0;l<M6;l++){const u=ao[l],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const h=HC(f,Yy[u]);if(!d){a=!1;const p=O6[u]||u;i+=`${p}(${h}) `}n&&(e[u]=h)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Jy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const d in e){const h=e[d];if(oo.has(d)){u=!0;continue}else if(Py(d)){a[d]=h;continue}else{const p=HC(h,Yy[d]);d.startsWith("origin")?(f=!0,l[d]=p):i[d]=p}}if(e.transform||(u||n?i.transform=P6(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:h="50%",originZ:p=0}=l;i.transformOrigin=`${d} ${h} ${p}`}}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JC(t,e,n){for(const i in e)!$t(e[i])&&!ZC(i,n)&&(t[i]=e[i])}function L6({transformTemplate:t},e){return O.useMemo(()=>{const n=ev();return Jy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function j6(t,e){const n=t.style||{},i={};return JC(i,n,t),Object.assign(i,L6(t,e)),i}function U6(t,e){const n={},i=j6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const z6={offset:"stroke-dashoffset",array:"stroke-dasharray"},B6={offset:"strokeDashoffset",array:"strokeDasharray"};function V6(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?z6:B6;t[l.offset]=Ee.transform(-i);const u=Ee.transform(e),f=Ee.transform(n);t[l.array]=`${u} ${f}`}function eA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},d,h,p){if(Jy(t,f,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),a!==void 0&&V6(g,a,l,u,!1)}const tA=()=>({...ev(),attrs:{}}),nA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function H6(t,e,n,i){const a=O.useMemo(()=>{const l=tA();return eA(l,e,nA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};JC(l,t.style,t),a.style={...l,...a.style}}return a}const F6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(F6.indexOf(t)>-1||/[A-Z]/u.test(t))}function q6(t,e,n,{latestValues:i},a,l=!1){const f=(tv(t)?H6:U6)(e,i,a,t),d=k6(e,typeof t=="string",l),h=t!==O.Fragment?{...d,...f,ref:n}:{},{children:p}=e,g=O.useMemo(()=>$t(p)?p.get():p,[p]);return O.createElement(t,{...h,children:g})}function s1(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function nv(t,e,n,i){if(typeof e=="function"){const[a,l]=s1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=s1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Jc(t){return $t(t)?t.get():t}function G6({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:Y6(n,i,a,t),renderState:e()}}function Y6(t,e,n,i){const a={},l=i(t,{});for(const v in l)a[v]=Jc(l[v]);let{initial:u,animate:f}=t;const d=ih(t),h=QC(t);e&&h&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const g=p?f:u;if(g&&typeof g!="boolean"&&!nh(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const S=nv(t,v[_]);if(S){const{transitionEnd:w,transition:R,...T}=S;for(const k in T){let N=T[k];if(Array.isArray(N)){const K=p?N.length-1:0;N=N[K]}N!==null&&(a[k]=N)}for(const k in w)a[k]=w[k]}}}return a}const iA=t=>(e,n)=>{const i=O.useContext(th),a=O.useContext(eh),l=()=>G6(t,e,i,a);return n?l():Cy(l)};function iv(t,e,n){var l;const{style:i}=t,a={};for(const u in i)($t(i[u])||e.style&&$t(e.style[u])||ZC(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const K6=iA({scrapeMotionValuesFromProps:iv,createRenderState:ev});function rA(t,e,n){const i=iv(t,e,n);for(const a in t)if($t(t[a])||$t(e[a])){const l=ao.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const W6=iA({scrapeMotionValuesFromProps:rA,createRenderState:tA}),$6=Symbol.for("motionComponentSymbol");function Ca(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function X6(t,e,n){return O.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ca(n)&&(n.current=i))},[e])}const rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q6="framerAppearId",sA="data-"+rv(Q6),aA=O.createContext({});function Z6(t,e,n,i,a){var w,R;const{visualElement:l}=O.useContext(th),u=O.useContext($C),f=O.useContext(eh),d=O.useContext($y).reducedMotion,h=O.useRef(null);i=i||u.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=O.useContext(aA);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&J6(h.current,n,a,g);const v=O.useRef(!1);O.useInsertionEffect(()=>{p&&v.current&&p.update(n,f)});const _=n[sA],S=O.useRef(!!_&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,_))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,_)));return iC(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),O.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,_)}),S.current=!1),p.enteringChildren=void 0)}),p}function J6(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Ca(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:h})}function oA(t){if(t)return t.options.allowProjection!==!1?t.projection:oA(t.parent)}function Kp(t,{forwardMotionProps:e=!1}={},n,i){n&&C6(n);const a=tv(t)?W6:K6;function l(f,d){let h;const p={...O.useContext($y),...f,layoutId:eU(f)},{isStatic:g}=p,v=I6(f),_=a(f,g);if(!g&&Ay){tU();const S=nU(p);h=S.MeasureLayout,v.visualElement=Z6(t,_,p,i,S.ProjectionNode)}return C.jsxs(th.Provider,{value:v,children:[h&&v.visualElement?C.jsx(h,{visualElement:v.visualElement,...p}):null,q6(t,f,X6(_,v.visualElement,d),_,g,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(l);return u[$6]=t,u}function eU({layoutId:t}){const e=O.useContext(Ty).id;return e&&t!==void 0?e+"-"+t:t}function tU(t,e){O.useContext($C).strict}function nU(t){const{drag:e,layout:n}=Ka;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function iU(t,e){if(typeof Proxy>"u")return Kp;const n=new Map,i=(l,u)=>Kp(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Kp(u,void 0,t,e)),n.get(u))})}function lA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function rU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Wp(t){return t===void 0||t===1}function tg({scale:t,scaleX:e,scaleY:n}){return!Wp(t)||!Wp(e)||!Wp(n)}function gs(t){return tg(t)||uA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uA(t){return a1(t.x)||a1(t.y)}function a1(t){return t&&t!=="0%"}function Df(t,e,n){const i=t-n,a=e*i;return n+a}function o1(t,e,n,i,a){return a!==void 0&&(t=Df(t,a,i)),Df(t,n,i)+e}function ng(t,e=0,n=1,i,a){t.min=o1(t.min,e,n,i,a),t.max=o1(t.max,e,n,i,a)}function cA(t,{x:e,y:n}){ng(t.x,e.translate,e.scale,e.originPoint),ng(t.y,n.translate,n.scale,n.originPoint)}const l1=.999999999999,u1=1.0000000000001;function aU(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ra(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,cA(t,u)),i&&gs(l.latestValues)&&Ra(t,l.latestValues))}e.x<u1&&e.x>l1&&(e.x=1),e.y<u1&&e.y>l1&&(e.y=1)}function Aa(t,e){t.min=t.min+e,t.max=t.max+e}function c1(t,e,n,i,a=.5){const l=ht(t.min,t.max,a);ng(t,e,n,l,i)}function Ra(t,e){c1(t.x,e.x,e.scaleX,e.scale,e.originX),c1(t.y,e.y,e.scaleY,e.scale,e.originY)}function fA(t,e){return lA(sU(t.getBoundingClientRect(),e))}function oU(t,e,n){const i=fA(t,n),{scroll:a}=e;return a&&(Aa(i.x,a.offset.x),Aa(i.y,a.offset.y)),i}const f1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:f1(),y:f1()}),h1=()=>({min:0,max:0}),bt=()=>({x:h1(),y:h1()}),ig={current:null},hA={current:!1};function lU(){if(hA.current=!0,!!Ay)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ig.current=t.matches;t.addEventListener("change",e),e()}else ig.current=!1}const uU=new WeakMap;function cU(t,e,n){for(const i in e){const a=e[i],l=n[i];if($t(a))t.addValue(i,a);else if($t(l))t.addValue(i,Ya(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Ya(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const d1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fU{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=hn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ut.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=ih(n),this.isVariantNode=QC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const _=g[v];d[v]!==void 0&&$t(_)&&_.set(d[v])}}mount(e){var n;this.current=e,uU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),hA.current||lU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ig.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=oo.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ka){const n=Ka[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<d1.length;i++){const a=d1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=cU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ya(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(rC(i)||aC(i))?i=parseFloat(i):!x6(i)&&Vr.test(n)&&(i=VC(e,n)),this.setBaseTarget(e,$t(i)?i.get():i)),$t(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=nv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!$t(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ky.render(this.render)}}class dA extends fU{constructor(){super(...arguments),this.KeyframeResolver=u6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pA(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a==null||a.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function hU(t){return window.getComputedStyle(t)}class dU extends dA{constructor(){super(...arguments),this.type="html",this.renderInstance=pA}readValueFromInstance(e,n){var i;if(oo.has(n))return(i=this.projection)!=null&&i.isProjecting?Wm(n):Rj(e,n);{const a=hU(e),l=(Py(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fA(e,n)}build(e,n,i){Jy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return iv(e,n,i)}}const mA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pU(t,e,n,i){pA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(mA.has(a)?a:rv(a),e.attrs[a])}class mU extends dA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oo.has(n)){const i=BC(n);return i&&i.default||0}return n=mA.has(n)?n:rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return rA(e,n,i)}build(e,n,i){eA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){pU(e,n,i,a)}mount(e){this.isSVGTag=nA(e.tagName),super.mount(e)}}const gU=(t,e)=>tv(t)?new mU(e):new dU(e,{allowProjection:t!==O.Fragment});function La(t,e,n){const i=t.getProps();return nv(i,e,n!==void 0?n:i.custom,t)}const rg=t=>Array.isArray(t);function yU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ya(n))}function vU(t){return rg(t)?t[t.length-1]||0:t}function _U(t,e){const n=La(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const f=vU(l[u]);yU(t,u,f)}}function bU(t){return!!($t(t)&&t.add)}function sg(t,e){const n=t.getValue("willChange");if(bU(n))return n.add(e);if(!n&&Ji.WillChange){const i=new Ji.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function gA(t){return t.props[sA]}const xU=t=>t!==null;function SU(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(xU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const wU={type:"spring",stiffness:500,damping:25,restSpeed:10},EU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TU={type:"keyframes",duration:.8},CU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AU=(t,{keyframes:e})=>e.length>2?TU:oo.has(t)?t.startsWith("scale")?EU(e[1]):wU:CU;function RU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const sv=(t,e,n,i={},a,l)=>u=>{const f=Gy(i,t)||{},d=f.delay||i.delay||0;let{elapsed:h=0}=i;h=h-yi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-h,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};RU(f)||Object.assign(p,AU(t,p)),p.duration&&(p.duration=yi(p.duration)),p.repeatDelay&&(p.repeatDelay=yi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Jm(p),p.delay===0&&(g=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(g=!0,Jm(p),p.delay=0),p.allowFlatten=!f.type&&!f.ease,g&&!l&&e.get()!==void 0){const v=SU(p.keyframes,f);if(v!==void 0){ut.update(()=>{p.onUpdate(v),p.onComplete()});return}}return f.isSync?new Fy(p):new Qj(p)};function kU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const d=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const p in f){const g=t.getValue(p,t.latestValues[p]??null),v=f[p];if(v===void 0||h&&kU(h,p))continue;const _={delay:n,...Gy(l||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const T=gA(t);if(T){const k=window.MotionHandoffAnimation(T,p,ut);k!==null&&(_.startTime=k,w=!0)}}sg(t,p),g.start(sv(p,g,v,t.shouldReduceMotion&&jC.has(p)?{type:!1}:_,t,w));const R=g.animation;R&&d.push(R)}return u&&Promise.all(d).then(()=>{ut.update(()=>{u&&_U(t,u)})}),d}function vA(t,e,n,i=0,a=1){const l=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:f-l*i}function ag(t,e,n={}){var d;const i=La(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(yA(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=a;return NU(t,e,h,p,g,v,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[h,p]=f==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function NU(t,e,n=0,i=0,a=0,l=1,u){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(ag(d,e,{...u,delay:n+(typeof i=="function"?0:i)+vA(t.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function IU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>ag(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=ag(t,e,n);else{const a=typeof e=="function"?La(t,e,n.custom):e;i=Promise.all(yA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function _A(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const DU=Zy.length;function bA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DU;n++){const i=Zy[n],a=t.props[i];(Zl(a)||a===!1)&&(e[i]=a)}return e}const OU=[...Qy].reverse(),MU=Qy.length;function PU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>IU(t,n,i)))}function LU(t){let e=PU(t),n=p1(),i=!0;const a=d=>(h,p)=>{var v;const g=La(t,p,d==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:_,transitionEnd:S,...w}=g;h={...h,...w,...S}}return h};function l(d){e=d(t)}function u(d){const{props:h}=t,p=bA(t.parent)||{},g=[],v=new Set;let _={},S=1/0;for(let R=0;R<MU;R++){const T=OU[R],k=n[T],N=h[T]!==void 0?h[T]:p[T],K=Zl(N),M=T===d?k.isActive:null;M===!1&&(S=R);let I=N===p[T]&&N!==h[T]&&K;if(I&&i&&t.manuallyAnimateOnMount&&(I=!1),k.protectedKeys={..._},!k.isActive&&M===null||!N&&!k.prevProp||nh(N)||typeof N=="boolean")continue;const H=jU(k.prevProp,N);let G=H||T===d&&k.isActive&&!I&&K||R>S&&K,Z=!1;const ie=Array.isArray(N)?N:[N];let W=ie.reduce(a(T),{});M===!1&&(W={});const{prevResolvedValues:J={}}=k,ce={...J,...W},ae=te=>{G=!0,v.has(te)&&(Z=!0,v.delete(te)),k.needsAnimating[te]=!0;const de=t.getValue(te);de&&(de.liveStyle=!1)};for(const te in ce){const de=W[te],fe=J[te];if(_.hasOwnProperty(te))continue;let b=!1;rg(de)&&rg(fe)?b=!_A(de,fe):b=de!==fe,b?de!=null?ae(te):v.add(te):de!==void 0&&v.has(te)?ae(te):k.protectedKeys[te]=!0}k.prevProp=N,k.prevResolvedValues=W,k.isActive&&(_={..._,...W}),i&&t.blockInitialAnimation&&(G=!1);const oe=I&&H;G&&(!oe||Z)&&g.push(...ie.map(te=>{const de={type:T};if(typeof te=="string"&&i&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,b=La(fe,te);if(fe.enteringChildren&&b){const{delayChildren:V}=b.transition||{};de.delay=vA(fe.enteringChildren,t,V)}}return{animation:te,options:de}}))}if(v.size){const R={};if(typeof h.initial!="boolean"){const T=La(t,Array.isArray(h.initial)?h.initial[0]:h.initial);T&&T.transition&&(R.transition=T.transition)}v.forEach(T=>{const k=t.getBaseTarget(T),N=t.getValue(T);N&&(N.liveStyle=!0),R[T]=k??null}),g.push({animation:R})}let w=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(g):Promise.resolve()}function f(d,h){var g;if(n[d].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(d,h)}),n[d].isActive=h;const p=u(d);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=p1(),i=!0}}}function jU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_A(e,t):!1}function ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p1(){return{animate:ds(!0),whileInView:ds(),whileHover:ds(),whileTap:ds(),whileDrag:ds(),whileFocus:ds(),exit:ds()}}class Wr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UU extends Wr{constructor(e){super(e),e.animationState||(e.animationState=LU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zU=0;class BU extends Wr{constructor(){super(...arguments),this.id=zU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VU={animation:{Feature:UU},exit:{Feature:BU}};function eu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function _u(t){return{point:{x:t.pageX,y:t.pageY}}}const HU=t=>e=>Wy(e)&&t(e,_u(e));function Il(t,e,n,i){return eu(t,e,HU(n),i)}const xA=1e-4,FU=1-xA,qU=1+xA,SA=.01,GU=0-SA,YU=0+SA;function Zt(t){return t.max-t.min}function KU(t,e,n){return Math.abs(t-e)<=n}function m1(t,e,n,i=.5){t.origin=i,t.originPoint=ht(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=FU&&t.scale<=qU||isNaN(t.scale))&&(t.scale=1),(t.translate>=GU&&t.translate<=YU||isNaN(t.translate))&&(t.translate=0)}function Dl(t,e,n,i){m1(t.x,e.x,n.x,i?i.originX:void 0),m1(t.y,e.y,n.y,i?i.originY:void 0)}function g1(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function WU(t,e,n){g1(t.x,e.x,n.x),g1(t.y,e.y,n.y)}function y1(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function Ol(t,e,n){y1(t.x,e.x,n.x),y1(t.y,e.y,n.y)}function Vn(t){return[t("x"),t("y")]}const wA=({current:t})=>t?t.ownerDocument.defaultView:null,v1=(t,e)=>Math.abs(t-e);function $U(t,e){const n=v1(t.x,e.x),i=v1(t.y,e.y);return Math.sqrt(n**2+i**2)}class EA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Xp(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=$U(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!S)return;const{point:w}=v,{timestamp:R}=Ht;this.history.push({...w,timestamp:R});const{onStart:T,onMove:k}=this.handlers;_||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=$p(_,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Xp(v.type==="pointercancel"?this.lastMoveEventInfo:$p(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,T),w&&w(v,T)},!Wy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=_u(e),d=$p(f,this.transformPagePoint),{point:h}=d,{timestamp:p}=Ht;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Xp(d,this.history)),this.removeListeners=gu(Il(this.contextWindow,"pointermove",this.handlePointerMove),Il(this.contextWindow,"pointerup",this.handlePointerUp),Il(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function $p(t,e){return e?{point:e(t.point)}:t}function _1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:_1(t,TA(e)),offset:_1(t,XU(e)),velocity:QU(e,.1)}}function XU(t){return t[0]}function TA(t){return t[t.length-1]}function QU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=TA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>yi(e)));)n--;if(!i)return{x:0,y:0};const l=vi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ZU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ht(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ht(n,t,i.max):Math.min(t,n)),t}function b1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JU(t,{top:e,left:n,bottom:i,right:a}){return{x:b1(t.x,n,a),y:b1(t.y,e,i)}}function x1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function e5(t,e){return{x:x1(t.x,e.x),y:x1(t.y,e.y)}}function t5(t,e){let n=.5;const i=Zt(t),a=Zt(e);return a>i?n=$l(e.min,e.max-i,t.min):i>a&&(n=$l(t.min,t.max-a,e.min)),Zi(0,1,n)}function n5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const og=.35;function i5(t=og){return t===!1?t=0:t===!0&&(t=og),{x:S1(t,"left","right"),y:S1(t,"top","bottom")}}function S1(t,e,n){return{min:w1(t,e),max:w1(t,n)}}function w1(t,e){return typeof t=="number"?t:t[e]||0}const r5=new WeakMap;class s5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_u(g).point)},u=(g,v)=>{const{drag:_,dragPropagation:S,onDragStart:w}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d6(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(T=>{let k=this.getAxisMotionValue(T).get()||0;if(_i.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const K=N.layout.layoutBox[T];K&&(k=Zt(K)*(parseFloat(k)/100))}}this.originPoint[T]=k}),w&&ut.postRender(()=>w(g,v)),sg(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},f=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:w,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:T}=v;if(S&&this.currentDirection===null){this.currentDirection=a5(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),R&&R(g,v)},d=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Vn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new EA(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:wA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&ut.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Bc(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=ZU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Ca(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=JU(i.layoutBox,e):this.constraints=!1,this.elastic=i5(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=n5(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ca(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=oU(i,a.root,this.visualElement.getTransformPagePoint());let u=e5(a.layout.layoutBox,l);if(n){const f=n(rU(u));this.hasMutatedConstraints=!!f,f&&(u=lA(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},h=Vn(p=>{if(!Bc(p,n,this.currentDirection))return;let g=d&&d[p]||{};u&&(g={min:0,max:0});const v=a?200:1e6,_=a?40:1e7,S={type:"inertia",velocity:i?e[p]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return sg(this.visualElement,e),i.start(sv(e,i,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:i}=this.getProps();if(!Bc(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-ht(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ca(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Vn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();a[u]=t5({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!Bc(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:h}=this.constraints[u];f.set(ht(d,h,a[u]))})}addListeners(){if(!this.visualElement.current)return;r5.set(this.visualElement,this);const e=this.visualElement.current,n=Il(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ca(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(i);const u=eu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Vn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=og,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function a5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class o5 extends Wr{constructor(e){super(e),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new s5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const E1=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class l5 extends Wr{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(e){this.session=new EA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:E1(e),onStart:E1(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&ut.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Il(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function T1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=T1(t,e.target.x),i=T1(t,e.target.y);return`${n}% ${i}%`}},u5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Vr.parse(t);if(a.length>5)return i;const l=Vr.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=d;const h=ht(f,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=h),typeof a[3+u]=="number"&&(a[3+u]/=h),l(a)}};let Qp=!1;class c5 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;D6(f5),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Qp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Qp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ut.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ky.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Qp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CA(t){const[e,n]=WC(),i=O.useContext(Ty);return C.jsx(c5,{...t,layoutGroup:i,switchLayoutGroup:O.useContext(aA),isPresent:e,safeToRemove:n})}const f5={borderRadius:{...dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dl,borderTopRightRadius:dl,borderBottomLeftRadius:dl,borderBottomRightRadius:dl,boxShadow:u5};function h5(t,e,n){const i=$t(t)?t:Ya(t);return i.start(sv("",i,e,n)),i.animation}const d5=(t,e)=>t.depth-e.depth;class p5{constructor(){this.children=[],this.isDirty=!1}add(e){Ry(this.children,e),this.isDirty=!0}remove(e){ky(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d5),this.isDirty=!1,this.children.forEach(e)}}function m5(t,e){const n=hn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Br(i),t(l-e))};return ut.setup(i,!0),()=>Br(i)}const AA=["TopLeft","TopRight","BottomLeft","BottomRight"],g5=AA.length,C1=t=>typeof t=="string"?parseFloat(t):t,A1=t=>typeof t=="number"||Ee.test(t);function y5(t,e,n,i,a,l){a?(t.opacity=ht(0,n.opacity??1,v5(i)),t.opacityExit=ht(e.opacity??1,0,_5(i))):l&&(t.opacity=ht(e.opacity??1,n.opacity??1,i));for(let u=0;u<g5;u++){const f=`border${AA[u]}Radius`;let d=R1(e,f),h=R1(n,f);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||A1(d)===A1(h)?(t[f]=Math.max(ht(C1(d),C1(h),i),0),(_i.test(h)||_i.test(d))&&(t[f]+="%")):t[f]=h}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,i))}function R1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v5=RA(0,.5,pC),_5=RA(.5,.95,qn);function RA(t,e,n){return i=>i<t?0:i>e?1:n($l(t,e,i))}function k1(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){k1(t.x,e.x),k1(t.y,e.y)}function N1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function I1(t,e,n,i,a){return t-=e,t=Df(t,1/n,i),a!==void 0&&(t=Df(t,1/a,i)),t}function b5(t,e=0,n=1,i=.5,a,l=t,u=t){if(_i.test(e)&&(e=parseFloat(e),e=ht(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=ht(l.min,l.max,i);t===l&&(f-=e),t.min=I1(t.min,e,n,f,a),t.max=I1(t.max,e,n,f,a)}function D1(t,e,[n,i,a],l,u){b5(t,e[n],e[i],e[a],e.scale,l,u)}const x5=["x","scaleX","originX"],S5=["y","scaleY","originY"];function O1(t,e,n,i){D1(t.x,e,x5,n?n.x:void 0,i?i.x:void 0),D1(t.y,e,S5,n?n.y:void 0,i?i.y:void 0)}function M1(t){return t.translate===0&&t.scale===1}function kA(t){return M1(t.x)&&M1(t.y)}function P1(t,e){return t.min===e.min&&t.max===e.max}function w5(t,e){return P1(t.x,e.x)&&P1(t.y,e.y)}function L1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function NA(t,e){return L1(t.x,e.x)&&L1(t.y,e.y)}function j1(t){return Zt(t.x)/Zt(t.y)}function U1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class E5{constructor(){this.members=[]}add(e){Ry(this.members,e),e.scheduleRender()}remove(e){if(ky(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:_,skewY:S}=n;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),_&&(i+=`skewX(${_}deg) `),S&&(i+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const Zp=["","X","Y","Z"],C5=1e3;let A5=0;function Jp(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function IA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&IA(i)}function DA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e==null?void 0:e()){this.id=A5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N5),this.nodes.forEach(M5),this.nodes.forEach(P5),this.nodes.forEach(I5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new p5)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Dy),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=KC(u)&&!_6(u),this.instance=u;const{layoutId:f,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{g=window.innerWidth}),t(u,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,p&&p(),p=m5(v,250),ef.hasAnimatedSinceResize&&(ef.hasAnimatedSinceResize=!1,this.nodes.forEach(V1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&h&&(f||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||B5,{onLayoutAnimationStart:w,onLayoutAnimationComplete:R}=h.getProps(),T=!this.targetLayout||!NA(this.targetLayout,_),k=!g&&v;if(this.options.layoutRoot||this.resumeFrom||k||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Gy(S,"layout"),onPlay:w,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(p,k)}else g||V1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(B1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O5),this.nodes.forEach(R5),this.nodes.forEach(k5)):this.nodes.forEach(B1),this.clearAllSnapshots();const f=hn.now();Ht.delta=Zi(0,1e3/60,f-Ht.timestamp),Ht.timestamp=f,Ht.isProcessing=!0,Vp.update.process(Ht),Vp.preRender.process(Ht),Vp.render.process(Ht),Ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ky.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D5),this.sharedNodes.forEach(j5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!kA(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;u&&this.instance&&(f||gs(this.latestValues)||p)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),V5(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:u}=this.options;if(!u)return bt();const f=u.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(H5))){const{scroll:p}=this.root;p&&(Aa(f.x,p.offset.x),Aa(f.y,p.offset.y))}return f}removeElementScroll(u){var d;const f=bt();if(Bn(f,u),(d=this.scroll)!=null&&d.wasRoot)return f;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Bn(f,u),Aa(f.x,g.offset.x),Aa(f.y,g.offset.y))}return f}applyTransform(u,f=!1){const d=bt();Bn(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ra(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),gs(p.latestValues)&&Ra(d,p.latestValues)}return gs(this.latestValues)&&Ra(d,this.latestValues),d}removeTransform(u){const f=bt();Bn(f,u);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!gs(h.latestValues))continue;tg(h.latestValues)&&h.updateSnapshot();const p=bt(),g=h.measurePageBox();Bn(p,g),O1(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return gs(this.latestValues)&&O1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var v;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ht.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Ol(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),cA(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Ol(this.relativeTargetOrigin,this.target,_.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tg(this.parent.latestValues)||uA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ht.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Bn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;aU(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=bt());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N1(this.prevProjectionDelta.x,this.projectionDelta.x),N1(this.prevProjectionDelta.y,this.projectionDelta.y)),Dl(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!U1(this.projectionDelta.x,this.prevProjectionDelta.x)||!U1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(u,f=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=bt(),_=d?d.source:void 0,S=this.layout?this.layout.source:void 0,w=_!==S,R=this.getStack(),T=!R||R.members.length<=1,k=!!(w&&!T&&this.options.crossfade===!0&&!this.path.some(z5));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const M=K/1e3;H1(g.x,u.x,M),H1(g.y,u.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ol(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U5(this.relativeTarget,this.relativeTargetOrigin,v,M),N&&w5(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=bt()),Bn(N,this.relativeTarget)),w&&(this.animationValues=p,y5(p,h,this.latestValues,M,k,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,d,h;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{ef.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ya(0)),this.currentAnimation=h5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:h,latestValues:p}=u;if(!(!f||!d||!h)){if(this!==u&&this.layout&&h&&OA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||bt();const g=Zt(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+g;const v=Zt(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+v}Bn(f,d),Ra(f,p),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new E5),this.sharedNodes.get(u).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const h={};d.z&&Jp("z",u,h,this.animationValues);for(let p=0;p<Zp.length;p++)Jp(`rotate${Zp[p]}`,u,h,this.animationValues),Jp(`skew${Zp[p]}`,u,h,this.animationValues);u.render();for(const p in h)u.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Jc(f==null?void 0:f.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Jc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!gs(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=T5(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),u.transform=g;const{x:v,y:_}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Jl){if(p[S]===void 0)continue;const{correct:w,applyTo:R,isCSSVariable:T}=Jl[S],k=g==="none"?p[S]:w(p[S],h);if(R){const N=R.length;for(let K=0;K<N;K++)u[R[K]]=k}else T?this.options.visualElement.renderState.vars[S]=k:u[S]=k}this.options.layoutId&&(u.pointerEvents=h===this?Jc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(z1),this.root.sharedNodes.clear()}}}function R5(t){t.updateLayout()}function k5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?Vn(g=>{const v=u?e.measuredBox[g]:e.layoutBox[g],_=Zt(v);v.min=i[g].min,v.max=v.min+_}):OA(l,e.layoutBox,i)&&Vn(g=>{const v=u?e.measuredBox[g]:e.layoutBox[g],_=Zt(i[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const f=ka();Dl(f,i,e.layoutBox);const d=ka();u?Dl(d,t.applyTransform(a,!0),e.measuredBox):Dl(d,i,e.layoutBox);const h=!kA(f);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const S=bt();Ol(S,e.layoutBox,v.layoutBox);const w=bt();Ol(w,i,_.layoutBox),NA(S,w)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function N5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D5(t){t.clearSnapshot()}function z1(t){t.clearMeasurements()}function B1(t){t.isLayoutDirty=!1}function O5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function V1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function M5(t){t.resolveTargetDelta()}function P5(t){t.calcProjection()}function L5(t){t.resetSkewAndRotation()}function j5(t){t.removeLeadSnapshot()}function H1(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function F1(t,e,n,i){t.min=ht(e.min,n.min,i),t.max=ht(e.max,n.max,i)}function U5(t,e,n,i){F1(t.x,e.x,n.x,i),F1(t.y,e.y,n.y,i)}function z5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B5={duration:.45,ease:[.4,0,.1,1]},q1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),G1=q1("applewebkit/")&&!q1("chrome/")?Math.round:qn;function Y1(t){t.min=G1(t.min),t.max=G1(t.max)}function V5(t){Y1(t.x),Y1(t.y)}function OA(t,e,n){return t==="position"||t==="preserve-aspect"&&!KU(j1(e),j1(n),.2)}function H5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const F5=DA({attachResizeListener:(t,e)=>eu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),em={current:void 0},MA=DA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!em.current){const t=new F5({});t.mount(window),t.setOptions({layoutScroll:!0}),em.current=t}return em.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),q5={pan:{Feature:l5},drag:{Feature:o5,ProjectionNode:MA,MeasureLayout:CA}};function K1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ut.postRender(()=>l(e,_u(e)))}class G5 extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=p6(e,(n,i)=>(K1(this.node,i,"Start"),a=>K1(this.node,a,"End"))))}unmount(){}}class Y5 extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gu(eu(this.node.current,"focus",()=>this.onFocus()),eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ut.postRender(()=>l(e,_u(e)))}class K5 extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=v6(e,(n,i)=>(W1(this.node,i,"Start"),(a,{success:l})=>W1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lg=new WeakMap,tm=new WeakMap,W5=t=>{const e=lg.get(t.target);e&&e(t)},$5=t=>{t.forEach(W5)};function X5({root:t,...e}){const n=t||document;tm.has(n)||tm.set(n,{});const i=tm.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver($5,{root:t,...e})),i[a]}function Q5(t,e,n){const i=X5(e);return lg.set(t,n),i.observe(t),()=>{lg.delete(t),i.unobserve(t)}}const Z5={some:0,all:1};class J5 extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Z5[a]},f=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(d)};return Q5(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ez(e,n))&&this.startObserver()}unmount(){}}function ez({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tz={inView:{Feature:J5},tap:{Feature:K5},focus:{Feature:Y5},hover:{Feature:G5}},nz={layout:{ProjectionNode:MA,MeasureLayout:CA}},iz={...VU,...tz,...q5,...nz},Or=iU(iz,gU);var tf={exports:{}},rz=tf.exports,$1;function sz(){return $1||($1=1,function(t,e){(function(n,i){t.exports=i(Pf())})(typeof self<"u"?self:rz,n=>(()=>{var i={2:(f,d,h)=>{var p=h(2199),g=h(4664),v=h(5950);f.exports=function(_){return p(_,v,g)}},79:(f,d,h)=>{var p=h(3702),g=h(80),v=h(4739),_=h(8655),S=h(1175);function w(R){var T=-1,k=R==null?0:R.length;for(this.clear();++T<k;){var N=R[T];this.set(N[0],N[1])}}w.prototype.clear=p,w.prototype.delete=g,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},80:(f,d,h)=>{var p=h(6025),g=Array.prototype.splice;f.exports=function(v){var _=this.__data__,S=p(_,v);return!(S<0||(S==_.length-1?_.pop():g.call(_,S,1),--this.size,0))}},270:(f,d,h)=>{var p=h(7068),g=h(346);f.exports=function v(_,S,w,R,T){return _===S||(_==null||S==null||!g(_)&&!g(S)?_!=_&&S!=S:p(_,S,w,R,v,T))}},289:(f,d,h)=>{var p=h(2651);f.exports=function(g){return p(this,g).get(g)}},294:f=>{f.exports=function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=9007199254740991}},317:f=>{f.exports=function(d){var h=-1,p=Array(d.size);return d.forEach(function(g,v){p[++h]=[v,g]}),p}},346:f=>{f.exports=function(d){return d!=null&&typeof d=="object"}},361:f=>{var d=/^(?:0|[1-9]\d*)$/;f.exports=function(h,p){var g=typeof h;return!!(p=p??9007199254740991)&&(g=="number"||g!="symbol"&&d.test(h))&&h>-1&&h%1==0&&h<p}},392:f=>{f.exports=function(d,h){return d==null?void 0:d[h]}},659:(f,d,h)=>{var p=h(1873),g=Object.prototype,v=g.hasOwnProperty,_=g.toString,S=p?p.toStringTag:void 0;f.exports=function(w){var R=v.call(w,S),T=w[S];try{w[S]=void 0;var k=!0}catch{}var N=_.call(w);return k&&(R?w[S]=T:delete w[S]),N}},689:(f,d,h)=>{var p=h(2),g=Object.prototype.hasOwnProperty;f.exports=function(v,_,S,w,R,T){var k=1&S,N=p(v),K=N.length;if(K!=p(_).length&&!k)return!1;for(var M=K;M--;){var I=N[M];if(!(k?I in _:g.call(_,I)))return!1}var H=T.get(v),G=T.get(_);if(H&&G)return H==_&&G==v;var Z=!0;T.set(v,_),T.set(_,v);for(var ie=k;++M<K;){var W=v[I=N[M]],J=_[I];if(w)var ce=k?w(J,W,I,_,v,T):w(W,J,I,v,_,T);if(!(ce===void 0?W===J||R(W,J,S,w,T):ce)){Z=!1;break}ie||(ie=I=="constructor")}if(Z&&!ie){var ae=v.constructor,oe=_.constructor;ae==oe||!("constructor"in v)||!("constructor"in _)||typeof ae=="function"&&ae instanceof ae&&typeof oe=="function"&&oe instanceof oe||(Z=!1)}return T.delete(v),T.delete(_),Z}},695:(f,d,h)=>{var p=h(8096),g=h(2428),v=h(6449),_=h(3656),S=h(361),w=h(7167),R=Object.prototype.hasOwnProperty;f.exports=function(T,k){var N=v(T),K=!N&&g(T),M=!N&&!K&&_(T),I=!N&&!K&&!M&&w(T),H=N||K||M||I,G=H?p(T.length,String):[],Z=G.length;for(var ie in T)!k&&!R.call(T,ie)||H&&(ie=="length"||M&&(ie=="offset"||ie=="parent")||I&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||S(ie,Z))||G.push(ie);return G}},938:f=>{f.exports=function(d){var h=this.__data__,p=h.delete(d);return this.size=h.size,p}},945:(f,d,h)=>{var p=h(79),g=h(8223),v=h(3661);f.exports=function(_,S){var w=this.__data__;if(w instanceof p){var R=w.__data__;if(!g||R.length<199)return R.push([_,S]),this.size=++w.size,this;w=this.__data__=new v(R)}return w.set(_,S),this.size=w.size,this}},1042:(f,d,h)=>{var p=h(6110)(Object,"create");f.exports=p},1175:(f,d,h)=>{var p=h(6025);f.exports=function(g,v){var _=this.__data__,S=p(_,g);return S<0?(++this.size,_.push([g,v])):_[S][1]=v,this}},1380:f=>{f.exports=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this}},1420:(f,d,h)=>{var p=h(79);f.exports=function(){this.__data__=new p,this.size=0}},1459:f=>{f.exports=function(d){return this.__data__.has(d)}},1549:(f,d,h)=>{var p=h(2032),g=h(3862),v=h(6721),_=h(2749),S=h(5749);function w(R){var T=-1,k=R==null?0:R.length;for(this.clear();++T<k;){var N=R[T];this.set(N[0],N[1])}}w.prototype.clear=p,w.prototype.delete=g,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},1873:(f,d,h)=>{var p=h(9325).Symbol;f.exports=p},1882:(f,d,h)=>{var p=h(2552),g=h(3805);f.exports=function(v){if(!g(v))return!1;var _=p(v);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}},1986:(f,d,h)=>{var p=h(1873),g=h(7828),v=h(5288),_=h(5911),S=h(317),w=h(4247),R=p?p.prototype:void 0,T=R?R.valueOf:void 0;f.exports=function(k,N,K,M,I,H,G){switch(K){case"[object DataView]":if(k.byteLength!=N.byteLength||k.byteOffset!=N.byteOffset)return!1;k=k.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=N.byteLength||!H(new g(k),new g(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+k,+N);case"[object Error]":return k.name==N.name&&k.message==N.message;case"[object RegExp]":case"[object String]":return k==N+"";case"[object Map]":var Z=S;case"[object Set]":var ie=1&M;if(Z||(Z=w),k.size!=N.size&&!ie)return!1;var W=G.get(k);if(W)return W==N;M|=2,G.set(k,N);var J=_(Z(k),Z(N),M,I,H,G);return G.delete(k),J;case"[object Symbol]":if(T)return T.call(k)==T.call(N)}return!1}},2032:(f,d,h)=>{var p=h(1042);f.exports=function(){this.__data__=p?p(null):{},this.size=0}},2199:(f,d,h)=>{var p=h(4528),g=h(6449);f.exports=function(v,_,S){var w=_(v);return g(v)?w:p(w,S(v))}},2404:(f,d,h)=>{var p=h(270);f.exports=function(g,v){return p(g,v)}},2428:(f,d,h)=>{var p=h(7534),g=h(346),v=Object.prototype,_=v.hasOwnProperty,S=v.propertyIsEnumerable,w=p(function(){return arguments}())?p:function(R){return g(R)&&_.call(R,"callee")&&!S.call(R,"callee")};f.exports=w},2552:(f,d,h)=>{var p=h(1873),g=h(659),v=h(9350),_=p?p.toStringTag:void 0;f.exports=function(S){return S==null?S===void 0?"[object Undefined]":"[object Null]":_&&_ in Object(S)?g(S):v(S)}},2651:(f,d,h)=>{var p=h(4218);f.exports=function(g,v){var _=g.__data__;return p(v)?_[typeof v=="string"?"string":"hash"]:_.map}},2749:(f,d,h)=>{var p=h(1042),g=Object.prototype.hasOwnProperty;f.exports=function(v){var _=this.__data__;return p?_[v]!==void 0:g.call(_,v)}},2804:(f,d,h)=>{var p=h(6110)(h(9325),"Promise");f.exports=p},2949:(f,d,h)=>{var p=h(2651);f.exports=function(g,v){var _=p(this,g),S=_.size;return _.set(g,v),this.size+=_.size==S?0:1,this}},3040:(f,d,h)=>{var p=h(1549),g=h(79),v=h(8223);f.exports=function(){this.size=0,this.__data__={hash:new p,map:new(v||g),string:new p}}},3146:(f,d,h)=>{for(var p=h(3491),g=typeof window>"u"?h.g:window,v=["moz","webkit"],_="AnimationFrame",S=g["request"+_],w=g["cancel"+_]||g["cancelRequest"+_],R=0;!S&&R<v.length;R++)S=g[v[R]+"Request"+_],w=g[v[R]+"Cancel"+_]||g[v[R]+"CancelRequest"+_];if(!S||!w){var T=0,k=0,N=[],K=1e3/60;S=function(M){if(N.length===0){var I=p(),H=Math.max(0,K-(I-T));T=H+I,setTimeout(function(){var G=N.slice(0);N.length=0;for(var Z=0;Z<G.length;Z++)if(!G[Z].cancelled)try{G[Z].callback(T)}catch(ie){setTimeout(function(){throw ie},0)}},Math.round(H))}return N.push({handle:++k,callback:M,cancelled:!1}),k},w=function(M){for(var I=0;I<N.length;I++)N[I].handle===M&&(N[I].cancelled=!0)}}f.exports=function(M){return S.call(g,M)},f.exports.cancel=function(){w.apply(g,arguments)},f.exports.polyfill=function(M){M||(M=g),M.requestAnimationFrame=S,M.cancelAnimationFrame=w}},3345:f=>{f.exports=function(){return[]}},3491:function(f){(function(){var d,h,p,g,v,_;typeof performance<"u"&&performance!==null&&performance.now?f.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(f.exports=function(){return(d()-v)/1e6},h=process.hrtime,g=(d=function(){var S;return 1e9*(S=h())[0]+S[1]})(),_=1e9*process.uptime(),v=g-_):Date.now?(f.exports=function(){return Date.now()-p},p=Date.now()):(f.exports=function(){return new Date().getTime()-p},p=new Date().getTime())}).call(this)},3605:f=>{f.exports=function(d){return this.__data__.get(d)}},3650:(f,d,h)=>{var p=h(4335)(Object.keys,Object);f.exports=p},3656:(f,d,h)=>{f=h.nmd(f);var p=h(9325),g=h(9935),v=d&&!d.nodeType&&d,_=v&&f&&!f.nodeType&&f,S=_&&_.exports===v?p.Buffer:void 0,w=(S?S.isBuffer:void 0)||g;f.exports=w},3661:(f,d,h)=>{var p=h(3040),g=h(7670),v=h(289),_=h(4509),S=h(2949);function w(R){var T=-1,k=R==null?0:R.length;for(this.clear();++T<k;){var N=R[T];this.set(N[0],N[1])}}w.prototype.clear=p,w.prototype.delete=g,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},3702:f=>{f.exports=function(){this.__data__=[],this.size=0}},3805:f=>{f.exports=function(d){var h=typeof d;return d!=null&&(h=="object"||h=="function")}},3862:f=>{f.exports=function(d){var h=this.has(d)&&delete this.__data__[d];return this.size-=h?1:0,h}},4218:f=>{f.exports=function(d){var h=typeof d;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?d!=="__proto__":d===null}},4247:f=>{f.exports=function(d){var h=-1,p=Array(d.size);return d.forEach(function(g){p[++h]=g}),p}},4248:f=>{f.exports=function(d,h){for(var p=-1,g=d==null?0:d.length;++p<g;)if(h(d[p],p,d))return!0;return!1}},4335:f=>{f.exports=function(d,h){return function(p){return d(h(p))}}},4509:(f,d,h)=>{var p=h(2651);f.exports=function(g){return p(this,g).has(g)}},4528:f=>{f.exports=function(d,h){for(var p=-1,g=h.length,v=d.length;++p<g;)d[v+p]=h[p];return d}},4664:(f,d,h)=>{var p=h(9770),g=h(3345),v=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols,S=_?function(w){return w==null?[]:(w=Object(w),p(_(w),function(R){return v.call(w,R)}))}:g;f.exports=S},4739:(f,d,h)=>{var p=h(6025);f.exports=function(g){var v=this.__data__,_=p(v,g);return _<0?void 0:v[_][1]}},4840:(f,d,h)=>{var p=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g;f.exports=p},4894:(f,d,h)=>{var p=h(1882),g=h(294);f.exports=function(v){return v!=null&&g(v.length)&&!p(v)}},4901:(f,d,h)=>{var p=h(2552),g=h(294),v=h(346),_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1,f.exports=function(S){return v(S)&&g(S.length)&&!!_[p(S)]}},5083:(f,d,h)=>{var p=h(1882),g=h(7296),v=h(3805),_=h(7473),S=/^\[object .+?Constructor\]$/,w=Function.prototype,R=Object.prototype,T=w.toString,k=R.hasOwnProperty,N=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");f.exports=function(K){return!(!v(K)||g(K))&&(p(K)?N:S).test(_(K))}},5288:f=>{f.exports=function(d,h){return d===h||d!=d&&h!=h}},5481:(f,d,h)=>{var p=h(9325)["__core-js_shared__"];f.exports=p},5527:f=>{var d=Object.prototype;f.exports=function(h){var p=h&&h.constructor;return h===(typeof p=="function"&&p.prototype||d)}},5580:(f,d,h)=>{var p=h(6110)(h(9325),"DataView");f.exports=p},5749:(f,d,h)=>{var p=h(1042);f.exports=function(g,v){var _=this.__data__;return this.size+=this.has(g)?0:1,_[g]=p&&v===void 0?"__lodash_hash_undefined__":v,this}},5861:(f,d,h)=>{var p=h(5580),g=h(8223),v=h(2804),_=h(6545),S=h(8303),w=h(2552),R=h(7473),T="[object Map]",k="[object Promise]",N="[object Set]",K="[object WeakMap]",M="[object DataView]",I=R(p),H=R(g),G=R(v),Z=R(_),ie=R(S),W=w;(p&&W(new p(new ArrayBuffer(1)))!=M||g&&W(new g)!=T||v&&W(v.resolve())!=k||_&&W(new _)!=N||S&&W(new S)!=K)&&(W=function(J){var ce=w(J),ae=ce=="[object Object]"?J.constructor:void 0,oe=ae?R(ae):"";if(oe)switch(oe){case I:return M;case H:return T;case G:return k;case Z:return N;case ie:return K}return ce}),f.exports=W},5911:(f,d,h)=>{var p=h(8859),g=h(4248),v=h(9219);f.exports=function(_,S,w,R,T,k){var N=1&w,K=_.length,M=S.length;if(K!=M&&!(N&&M>K))return!1;var I=k.get(_),H=k.get(S);if(I&&H)return I==S&&H==_;var G=-1,Z=!0,ie=2&w?new p:void 0;for(k.set(_,S),k.set(S,_);++G<K;){var W=_[G],J=S[G];if(R)var ce=N?R(J,W,G,S,_,k):R(W,J,G,_,S,k);if(ce!==void 0){if(ce)continue;Z=!1;break}if(ie){if(!g(S,function(ae,oe){if(!v(ie,oe)&&(W===ae||T(W,ae,w,R,k)))return ie.push(oe)})){Z=!1;break}}else if(W!==J&&!T(W,J,w,R,k)){Z=!1;break}}return k.delete(_),k.delete(S),Z}},5950:(f,d,h)=>{var p=h(695),g=h(8984),v=h(4894);f.exports=function(_){return v(_)?p(_):g(_)}},6009:(f,d,h)=>{f=h.nmd(f);var p=h(4840),g=d&&!d.nodeType&&d,v=g&&f&&!f.nodeType&&f,_=v&&v.exports===g&&p.process,S=function(){try{return v&&v.require&&v.require("util").types||_&&_.binding&&_.binding("util")}catch{}}();f.exports=S},6025:(f,d,h)=>{var p=h(5288);f.exports=function(g,v){for(var _=g.length;_--;)if(p(g[_][0],v))return _;return-1}},6110:(f,d,h)=>{var p=h(5083),g=h(392);f.exports=function(v,_){var S=g(v,_);return p(S)?S:void 0}},6449:f=>{var d=Array.isArray;f.exports=d},6545:(f,d,h)=>{var p=h(6110)(h(9325),"Set");f.exports=p},6721:(f,d,h)=>{var p=h(1042),g=Object.prototype.hasOwnProperty;f.exports=function(v){var _=this.__data__;if(p){var S=_[v];return S==="__lodash_hash_undefined__"?void 0:S}return g.call(_,v)?_[v]:void 0}},7068:(f,d,h)=>{var p=h(7217),g=h(5911),v=h(1986),_=h(689),S=h(5861),w=h(6449),R=h(3656),T=h(7167),k="[object Arguments]",N="[object Array]",K="[object Object]",M=Object.prototype.hasOwnProperty;f.exports=function(I,H,G,Z,ie,W){var J=w(I),ce=w(H),ae=J?N:S(I),oe=ce?N:S(H),j=(ae=ae==k?K:ae)==K,te=(oe=oe==k?K:oe)==K,de=ae==oe;if(de&&R(I)){if(!R(H))return!1;J=!0,j=!1}if(de&&!j)return W||(W=new p),J||T(I)?g(I,H,G,Z,ie,W):v(I,H,ae,G,Z,ie,W);if(!(1&G)){var fe=j&&M.call(I,"__wrapped__"),b=te&&M.call(H,"__wrapped__");if(fe||b){var V=fe?I.value():I,$=b?H.value():H;return W||(W=new p),ie(V,$,G,Z,W)}}return!!de&&(W||(W=new p),_(I,H,G,Z,ie,W))}},7167:(f,d,h)=>{var p=h(4901),g=h(7301),v=h(6009),_=v&&v.isTypedArray,S=_?g(_):p;f.exports=S},7217:(f,d,h)=>{var p=h(79),g=h(1420),v=h(938),_=h(3605),S=h(9817),w=h(945);function R(T){var k=this.__data__=new p(T);this.size=k.size}R.prototype.clear=g,R.prototype.delete=v,R.prototype.get=_,R.prototype.has=S,R.prototype.set=w,f.exports=R},7296:(f,d,h)=>{var p,g=h(5481),v=(p=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"";f.exports=function(_){return!!v&&v in _}},7301:f=>{f.exports=function(d){return function(h){return d(h)}}},7473:f=>{var d=Function.prototype.toString;f.exports=function(h){if(h!=null){try{return d.call(h)}catch{}try{return h+""}catch{}}return""}},7534:(f,d,h)=>{var p=h(2552),g=h(346);f.exports=function(v){return g(v)&&p(v)=="[object Arguments]"}},7670:(f,d,h)=>{var p=h(2651);f.exports=function(g){var v=p(this,g).delete(g);return this.size-=v?1:0,v}},7828:(f,d,h)=>{var p=h(9325).Uint8Array;f.exports=p},8096:f=>{f.exports=function(d,h){for(var p=-1,g=Array(d);++p<d;)g[p]=h(p);return g}},8223:(f,d,h)=>{var p=h(6110)(h(9325),"Map");f.exports=p},8303:(f,d,h)=>{var p=h(6110)(h(9325),"WeakMap");f.exports=p},8655:(f,d,h)=>{var p=h(6025);f.exports=function(g){return p(this.__data__,g)>-1}},8859:(f,d,h)=>{var p=h(3661),g=h(1380),v=h(1459);function _(S){var w=-1,R=S==null?0:S.length;for(this.__data__=new p;++w<R;)this.add(S[w])}_.prototype.add=_.prototype.push=g,_.prototype.has=v,f.exports=_},8984:(f,d,h)=>{var p=h(5527),g=h(3650),v=Object.prototype.hasOwnProperty;f.exports=function(_){if(!p(_))return g(_);var S=[];for(var w in Object(_))v.call(_,w)&&w!="constructor"&&S.push(w);return S}},9155:f=>{f.exports=n},9219:f=>{f.exports=function(d,h){return d.has(h)}},9325:(f,d,h)=>{var p=h(4840),g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")();f.exports=v},9350:f=>{var d=Object.prototype.toString;f.exports=function(h){return d.call(h)}},9770:f=>{f.exports=function(d,h){for(var p=-1,g=d==null?0:d.length,v=0,_=[];++p<g;){var S=d[p];h(S,p,d)&&(_[v++]=S)}return _}},9817:f=>{f.exports=function(d){return this.__data__.has(d)}},9905:(f,d,h)=>{h.d(d,{default:()=>de});var p=h(3146),g=h.n(p);const v=function(fe){return new RegExp(/<[a-z][\s\S]*>/i).test(fe)},_=function(fe,b){return Math.floor(Math.random()*(b-fe+1))+fe};var S="TYPE_CHARACTER",w="REMOVE_CHARACTER",R="REMOVE_ALL",T="REMOVE_LAST_VISIBLE_NODE",k="PAUSE_FOR",N="CALL_FUNCTION",K="ADD_HTML_TAG_ELEMENT",M="CHANGE_DELETE_SPEED",I="CHANGE_DELAY",H="CHANGE_CURSOR",G="PASTE_STRING",Z="HTML_TAG";function ie(fe){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},ie(fe)}function W(fe,b){var V=Object.keys(fe);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(fe);b&&($=$.filter(function(A){return Object.getOwnPropertyDescriptor(fe,A).enumerable})),V.push.apply(V,$)}return V}function J(fe){for(var b=1;b<arguments.length;b++){var V=arguments[b]!=null?arguments[b]:{};b%2?W(Object(V),!0).forEach(function($){j(fe,$,V[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(V)):W(Object(V)).forEach(function($){Object.defineProperty(fe,$,Object.getOwnPropertyDescriptor(V,$))})}return fe}function ce(fe){return function(b){if(Array.isArray(b))return ae(b)}(fe)||function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(fe)||function(b,V){if(b){if(typeof b=="string")return ae(b,V);var $={}.toString.call(b).slice(8,-1);return $==="Object"&&b.constructor&&($=b.constructor.name),$==="Map"||$==="Set"?Array.from(b):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?ae(b,V):void 0}}(fe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ae(fe,b){(b==null||b>fe.length)&&(b=fe.length);for(var V=0,$=Array(b);V<b;V++)$[V]=fe[V];return $}function oe(fe,b){for(var V=0;V<b.length;V++){var $=b[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(fe,te($.key),$)}}function j(fe,b,V){return(b=te(b))in fe?Object.defineProperty(fe,b,{value:V,enumerable:!0,configurable:!0,writable:!0}):fe[b]=V,fe}function te(fe){var b=function(V){if(ie(V)!="object"||!V)return V;var $=V[Symbol.toPrimitive];if($!==void 0){var A=$.call(V,"string");if(ie(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}(fe);return ie(b)=="symbol"?b:b+""}const de=function(){function fe($,A){var L=this;if(function(Q,le){if(!(Q instanceof le))throw new TypeError("Cannot call a class as a function")}(this,fe),j(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),j(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),j(this,"setupWrapperElement",function(){L.state.elements.container&&(L.state.elements.wrapper.className=L.options.wrapperClassName,L.state.elements.cursor.className=L.options.cursorClassName,L.state.elements.cursor.innerHTML=L.options.cursor,L.state.elements.container.innerHTML="",L.state.elements.container.appendChild(L.state.elements.wrapper),L.state.elements.container.appendChild(L.state.elements.cursor))}),j(this,"start",function(){return L.state.eventLoopPaused=!1,L.runEventLoop(),L}),j(this,"pause",function(){return L.state.eventLoopPaused=!0,L}),j(this,"stop",function(){return L.state.eventLoop&&((0,p.cancel)(L.state.eventLoop),L.state.eventLoop=null),L}),j(this,"pauseFor",function(Q){return L.addEventToQueue(k,{ms:Q}),L}),j(this,"typeOutAllStrings",function(){return typeof L.options.strings=="string"?(L.typeString(L.options.strings).pauseFor(L.options.pauseFor),L):(L.options.strings.forEach(function(Q){L.typeString(Q).pauseFor(L.options.pauseFor).deleteAll(L.options.deleteSpeed)}),L)}),j(this,"typeString",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v(Q))return L.typeOutHTMLString(Q,le);if(Q){var ve=(L.options||{}).stringSplitter,Ve=typeof ve=="function"?ve(Q):Q.split("");L.typeCharacters(Ve,le)}return L}),j(this,"pasteString",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v(Q)?L.typeOutHTMLString(Q,le,!0):(Q&&L.addEventToQueue(G,{character:Q,node:le}),L)}),j(this,"typeOutHTMLString",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ve=arguments.length>2?arguments[2]:void 0,Ve=function(gn){var nn=document.createElement("div");return nn.innerHTML=gn,nn.childNodes}(Q);if(Ve.length>0)for(var je=0;je<Ve.length;je++){var ot=Ve[je],tn=ot.innerHTML;ot&&ot.nodeType!==3?(ot.innerHTML="",L.addEventToQueue(K,{node:ot,parentNode:le}),ve?L.pasteString(tn,ot):L.typeString(tn,ot)):ot.textContent&&(ve?L.pasteString(ot.textContent,le):L.typeString(ot.textContent,le))}return L}),j(this,"deleteAll",function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return L.addEventToQueue(R,{speed:Q}),L}),j(this,"changeDeleteSpeed",function(Q){if(!Q)throw new Error("Must provide new delete speed");return L.addEventToQueue(M,{speed:Q}),L}),j(this,"changeDelay",function(Q){if(!Q)throw new Error("Must provide new delay");return L.addEventToQueue(I,{delay:Q}),L}),j(this,"changeCursor",function(Q){if(!Q)throw new Error("Must provide new cursor");return L.addEventToQueue(H,{cursor:Q}),L}),j(this,"deleteChars",function(Q){if(!Q)throw new Error("Must provide amount of characters to delete");for(var le=0;le<Q;le++)L.addEventToQueue(w);return L}),j(this,"callFunction",function(Q,le){if(!Q||typeof Q!="function")throw new Error("Callback must be a function");return L.addEventToQueue(N,{cb:Q,thisArg:le}),L}),j(this,"typeCharacters",function(Q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(ve){L.addEventToQueue(S,{character:ve,node:le})}),L}),j(this,"removeCharacters",function(Q){if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(){L.addEventToQueue(w)}),L}),j(this,"addEventToQueue",function(Q,le){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return L.addEventToStateProperty(Q,le,ve,"eventQueue")}),j(this,"addReverseCalledEvent",function(Q,le){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return L.options.loop?L.addEventToStateProperty(Q,le,ve,"reverseCalledEvents"):L}),j(this,"addEventToStateProperty",function(Q,le){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ve=arguments.length>3?arguments[3]:void 0,je={eventName:Q,eventArgs:le||{}};return L.state[Ve]=ve?[je].concat(ce(L.state[Ve])):[].concat(ce(L.state[Ve]),[je]),L}),j(this,"runEventLoop",function(){L.state.lastFrameTime||(L.state.lastFrameTime=Date.now());var Q=Date.now(),le=Q-L.state.lastFrameTime;if(!L.state.eventQueue.length){if(!L.options.loop)return;L.state.eventQueue=ce(L.state.calledEvents),L.state.calledEvents=[],L.options=J({},L.state.initialOptions)}if(L.state.eventLoop=g()(L.runEventLoop),!L.state.eventLoopPaused){if(L.state.pauseUntil){if(Q<L.state.pauseUntil)return;L.state.pauseUntil=null}var ve,Ve=ce(L.state.eventQueue),je=Ve.shift();if(!(le<=(ve=je.eventName===T||je.eventName===w?L.options.deleteSpeed==="natural"?_(40,80):L.options.deleteSpeed:L.options.delay==="natural"?_(120,160):L.options.delay))){var ot=je.eventName,tn=je.eventArgs;switch(L.logInDevMode({currentEvent:je,state:L.state,delay:ve}),ot){case G:case S:var gn=tn.character,nn=tn.node,wi=document.createTextNode(gn),kn=wi;L.options.onCreateTextNode&&typeof L.options.onCreateTextNode=="function"&&(kn=L.options.onCreateTextNode(gn,wi)),kn&&(nn?nn.appendChild(kn):L.state.elements.wrapper.appendChild(kn)),L.state.visibleNodes=[].concat(ce(L.state.visibleNodes),[{type:"TEXT_NODE",character:gn,node:kn}]);break;case w:Ve.unshift({eventName:T,eventArgs:{removingCharacterNode:!0}});break;case k:var Ut=je.eventArgs.ms;L.state.pauseUntil=Date.now()+parseInt(Ut);break;case N:var tr=je.eventArgs,Ei=tr.cb,Ti=tr.thisArg;Ei.call(Ti,{elements:L.state.elements});break;case K:var Yn=je.eventArgs,se=Yn.node,_e=Yn.parentNode;_e?_e.appendChild(se):L.state.elements.wrapper.appendChild(se),L.state.visibleNodes=[].concat(ce(L.state.visibleNodes),[{type:Z,node:se,parentNode:_e||L.state.elements.wrapper}]);break;case R:var Ne=L.state.visibleNodes,Re=tn.speed,q=[];Re&&q.push({eventName:M,eventArgs:{speed:Re,temp:!0}});for(var ne=0,pe=Ne.length;ne<pe;ne++)q.push({eventName:T,eventArgs:{removingCharacterNode:!1}});Re&&q.push({eventName:M,eventArgs:{speed:L.options.deleteSpeed,temp:!0}}),Ve.unshift.apply(Ve,q);break;case T:var ge=je.eventArgs.removingCharacterNode;if(L.state.visibleNodes.length){var ke=L.state.visibleNodes.pop(),xt=ke.type,Gt=ke.node,Rt=ke.character;L.options.onRemoveNode&&typeof L.options.onRemoveNode=="function"&&L.options.onRemoveNode({node:Gt,character:Rt}),Gt&&Gt.parentNode.removeChild(Gt),xt===Z&&ge&&Ve.unshift({eventName:T,eventArgs:{}})}break;case M:L.options.deleteSpeed=je.eventArgs.speed;break;case I:L.options.delay=je.eventArgs.delay;break;case H:L.options.cursor=je.eventArgs.cursor,L.state.elements.cursor.innerHTML=je.eventArgs.cursor}L.options.loop&&(je.eventName===T||je.eventArgs&&je.eventArgs.temp||(L.state.calledEvents=[].concat(ce(L.state.calledEvents),[je]))),L.state.eventQueue=Ve,L.state.lastFrameTime=Q}}}),$)if(typeof $=="string"){var Ae=document.querySelector($);if(!Ae)throw new Error("Could not find container element");this.state.elements.container=Ae}else this.state.elements.container=$;A&&(this.options=J(J({},this.options),A)),this.state.initialOptions=J({},this.options),this.init()}var b,V;return b=fe,(V=[{key:"init",value:function(){var $,A;this.setupWrapperElement(),this.addEventToQueue(H,{cursor:this.options.cursor},!0),this.addEventToQueue(R,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||($=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(A=document.createElement("style")).appendChild(document.createTextNode($)),document.head.appendChild(A),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function($){this.options.devMode&&console.log($)}}])&&oe(b.prototype,V),Object.defineProperty(b,"prototype",{writable:!1}),fe}()},9935:f=>{f.exports=function(){return!1}}},a={};function l(f){var d=a[f];if(d!==void 0)return d.exports;var h=a[f]={id:f,loaded:!1,exports:{}};return i[f].call(h.exports,h,h.exports,l),h.loaded=!0,h.exports}l.n=f=>{var d=f&&f.__esModule?()=>f.default:()=>f;return l.d(d,{a:d}),d},l.d=(f,d)=>{for(var h in d)l.o(d,h)&&!l.o(f,h)&&Object.defineProperty(f,h,{enumerable:!0,get:d[h]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(f,d)=>Object.prototype.hasOwnProperty.call(f,d),l.nmd=f=>(f.paths=[],f.children||(f.children=[]),f);var u={};return(()=>{l.d(u,{default:()=>K});var f=l(9155),d=l.n(f),h=l(9905),p=l(2404),g=l.n(p);function v(M){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},v(M)}function _(M,I){for(var H=0;H<I.length;H++){var G=I[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(M,k(G.key),G)}}function S(M,I){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,G){return H.__proto__=G,H},S(M,I)}function w(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function R(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!M})()}function T(M){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},T(M)}function k(M){var I=function(H){if(v(H)!="object"||!H)return H;var G=H[Symbol.toPrimitive];if(G!==void 0){var Z=G.call(H,"string");if(v(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(M);return v(I)=="symbol"?I:I+""}var N=function(M){(function(ie,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(W&&W.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),W&&S(ie,W)})(Z,M);var I,H,G=function(ie){var W=R();return function(){var J,ce=T(ie);if(W){var ae=T(this).constructor;J=Reflect.construct(ce,arguments,ae)}else J=ce.apply(this,arguments);return function(oe,j){if(j&&(v(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(oe)}(this,J)}}(Z);function Z(){var ie,W,J,ce;(function(te,de){if(!(te instanceof de))throw new TypeError("Cannot call a class as a function")})(this,Z);for(var ae=arguments.length,oe=new Array(ae),j=0;j<ae;j++)oe[j]=arguments[j];return W=w(ie=G.call.apply(G,[this].concat(oe))),ce={instance:null},(J=k(J="state"))in W?Object.defineProperty(W,J,{value:ce,enumerable:!0,configurable:!0,writable:!0}):W[J]=ce,ie}return I=Z,(H=[{key:"componentDidMount",value:function(){var ie=this,W=new h.default(this.typewriter,this.props.options);this.setState({instance:W},function(){var J=ie.props.onInit;J&&J(W)})}},{key:"componentDidUpdate",value:function(ie){g()(this.props.options,ie.options)||this.setState({instance:new h.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var ie=this,W=this.props.component;return d().createElement(W,{ref:function(J){return ie.typewriter=J},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&_(I.prototype,H),Object.defineProperty(I,"prototype",{writable:!1}),Z}(f.Component);N.defaultProps={component:"div"};const K=N})(),u.default})())}(tf)),tf.exports}var az=sz();const oz=nu(az),ug=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],lz=6e4,PA=O.createContext({currentIndex:0}),uz=({children:t})=>{const[e,n]=O.useState(0);return O.useEffect(()=>{const i=setInterval(()=>{n(a=>(a+1)%ug.length)},lz);return()=>clearInterval(i)},[]),C.jsx(PA.Provider,{value:{currentIndex:e},children:t})},er=()=>{const{currentIndex:t}=O.useContext(PA);return{backgroundElement:C.jsx(Xy,{mode:"wait",children:C.jsx(Or.div,{className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${ug[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}},t)}),currentIndex:t,imageUrl:ug[t]}},cz=()=>{const t=Hr(),{backgroundElement:e}=er();return C.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white",children:[e,C.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md p-6 sm:p-10 rounded-2xl w-full max-w-md text-center shadow-xl space-y-6 animate-fade-in",children:[C.jsx("h1",{className:"text-2xl sm:text-4xl font-extrabold text-[#f9f6f1] mb-4 tracking-wider whitespace-nowrap",children:C.jsx(oz,{options:{strings:["夜の帳が降りる頃、物語は始まる。"],autoStart:!0,loop:!1,delay:60,deleteSpeed:30},onInit:n=>{n.start().typeString("夜の帳が降りる頃、物語は始まる。")}})}),C.jsx("p",{className:"text-gray-300 text-sm sm:text-base tracking-wide",children:"As dusk falls, the story begins."}),C.jsx("button",{onClick:()=>t("/login"),className:"btn-primary px-6 py-2",children:"はじめる"})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),X1=t=>{const e=hz(t);return e.charAt(0).toUpperCase()+e.slice(1)},LA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),dz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},d)=>O.createElement("svg",{ref:d,...pz,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:LA("lucide",a),...!l&&!dz(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,p])=>O.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=(t,e)=>{const n=O.forwardRef(({className:i,...a},l)=>O.createElement(mz,{ref:l,iconNode:e,className:LA(`lucide-${fz(X1(t))}`,`lucide-${t}`,i),...a}));return n.displayName=X1(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yz=av("eye-off",gz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_z=av("eye",vz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],xz=av("github",bz),Sz=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(""),[a,l]=O.useState(""),[u,f]=O.useState(!1),[d,h]=O.useState(""),[p,g]=O.useState(!1),v=Hr(),{backgroundElement:_}=er();O.useRef(null),O.useRef(null),O.useEffect(()=>{i(""),l(""),h("")},[t]);const S=async R=>{R.preventDefault(),h(""),g(!0);try{t?(await WM(Ss,n,a),v("/profile")):(await $M(Ss,n,a),v("/chat"))}catch(T){h(T.message)}finally{g(!1)}},w=async()=>{const R=new Vi;try{const k=(await v2(Ss,R)).user,N=Cn(),K=at(N,`users/${k.uid}`);ys(K,M=>{M.exists()||Ar(K,{nickname:k.displayName||"匿名使用者",avatarUrl:k.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),v("/chat")}catch(T){h(T.message)}};return C.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden",children:[_,C.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl",children:[C.jsxs("div",{className:"flex justify-center space-x-4",children:[C.jsx("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`,children:"Login"}),C.jsx("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`,children:"Sign Up"})]}),C.jsxs("form",{onSubmit:S,className:"space-y-4",children:[C.jsx("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:R=>i(R.target.value),required:!0}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:u?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:a,onChange:R=>l(R.target.value),required:!0}),C.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":u?"Hide password":"Show password",children:u?C.jsx(yz,{size:20}):C.jsx(_z,{size:20})})]}),d&&C.jsx("p",{className:"text-red-400 text-sm text-center",children:d}),C.jsx("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]",children:t?"Sign Up":"Login"})]}),C.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition",children:[C.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]}),C.jsxs("p",{className:"text-center text-sm text-white/80",children:[t?"Already have an account?":"Don't have an account?"," ",C.jsx("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition",children:t?"Login":"Sign up"})]})]})]})},wz=({user:t,isFriend:e,onClose:n,onStartChat:i,onAddFriend:a})=>C.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center z-50 p-4",children:C.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-xs flex flex-col items-center",children:[C.jsx("img",{src:t.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-24 h-24 rounded-full object-cover"}),C.jsx("h2",{className:"text-xl font-bold text-white",children:t.nickname}),t.statusMessage&&C.jsx("p",{className:"text-sm italic text-gray-400 text-center px-2",children:t.statusMessage}),e?C.jsx("button",{onClick:i,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 hover:brightness-110 transition",children:"開始聊天"}):C.jsx("button",{onClick:a,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transition-all duration-200",children:"➕ 加好友"}),C.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white mt-4",children:"關閉"})]})});function Ez(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const Tz="dhtqetylj",Cz="Chatroom_Avatars",pl=(t,e)=>[t,e].sort().join("_"),Az=()=>{const[t,e]=O.useState(""),[n,i]=O.useState([]),[a,l]=O.useState(""),[u,f]=O.useState([]),[d,h]=O.useState([]),[p,g]=O.useState("public"),[v,_]=O.useState(""),[S,w]=O.useState(""),[R,T]=O.useState(""),[k,N]=O.useState("#bfa382"),[K,M]=O.useState(!1),[I,H]=O.useState(!1),[G,Z]=O.useState(""),[ie,W]=O.useState([]),J=Hr(),{backgroundElement:ce}=er(),ae=O.useRef(null),[oe,j]=O.useState([]),[te,de]=O.useState(!1),[fe,b]=O.useState([]),[V,$]=O.useState(""),[A,L]=O.useState(null),[Ae,Q]=O.useState(!1),le=Ss.currentUser;O.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),O.useEffect(()=>{const se=setTimeout(()=>{var _e;(_e=ae.current)==null||_e.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(se)},[n]),O.useEffect(()=>{if(!le){J("/login");return}const se=Cn(),_e=at(se,`users/${le.uid}`);ys(_e,q=>{const ne=q.val();ne&&(w(ne.nickname||""),T(ne.avatarUrl||""),N(ne.themeColor||"#bfa382"))});const Ne=at(se,"users");ys(Ne,q=>{const ne=q.val();if(ne){const pe=Object.entries(ne).filter(([ge])=>ge!==le.uid).map(([ge,ke])=>({uid:ge,nickname:ke.nickname,avatarUrl:ke.avatarUrl,statusMessage:ke.statusMessage||""}));f(pe)}});const Re=at(se,"groups");ys(Re,q=>{const ne=q.val();if(ne){const pe=Object.entries(ne).map(([ge,ke])=>({id:ge,name:ke.name,members:ke.members}));h(pe)}})},[le,J]),O.useEffect(()=>{const se=Cn();if(!le)return;let _e;if(p==="public")_e=at(se,"messages/public");else if(v)_e=at(se,`messages/groups/${v}`);else{const Ne=pl(le.uid,p);_e=at(se,`messages/private/${Ne}`)}ys(_e,Ne=>{const Re=Ne.val();if(Re){const q=Object.entries(Re).map(([ne,pe])=>({id:ne,...pe}));i(q)}else i([])})},[p,v]),O.useEffect(()=>{if(!le)return;const se=Cn(),_e=at(se,`users/${le.uid}/friends`);ys(_e,Ne=>{const Re=Ne.val();j(Re?Object.keys(Re):[])})},[le]);const ve=async()=>{if(!a.trim())return;const se=Cn();if(!le)return;if(p!=="public"&&v===""&&!oe.includes(p)){alert("你必須先加對方為好友才能私訊喔 🌸");return}const _e=Date.now(),Ne={text:Ez(a),sender:le.uid,nickname:S,avatarUrl:R,timestamp:_e};let Re;if(p==="public")Re=at(se,"messages/public");else if(v)Re=at(se,`messages/groups/${v}`);else{const ne=pl(le.uid,p);Re=at(se,`messages/private/${ne}`)}const q=Lc(Re);await Ar(q,Ne),l(""),Notification.permission==="granted"&&le&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:R||"/image/default-avatar.jpg"})},Ve=async se=>{const Ne=`https://g.tenor.com/v1/search?q=${se}&key=LIVDSRZULELA&limit=20`,q=await(await fetch(Ne)).json();b(q.results||[])},je=se=>{const _e=document.getElementById(`msg-${se}`);_e&&(_e.classList.add("animate-shatter"),setTimeout(()=>{ot(se)},500))},ot=async se=>{if(!le)return;const _e=Cn();let Ne;if(p==="public")Ne=at(_e,`messages/public/${se}`);else if(v)Ne=at(_e,`messages/groups/${v}/${se}`);else{const Re=pl(le.uid,p);Ne=at(_e,`messages/private/${Re}/${se}`)}await Ar(Ne,null)},tn=async se=>{if(!le)return;const _e=Cn(),Ne=Date.now(),Re={text:"",gifUrl:se,sender:le.uid,nickname:S,avatarUrl:R,timestamp:Ne};let q;if(p==="public")q=at(_e,"messages/public");else if(v)q=at(_e,`messages/groups/${v}`);else{const pe=pl(le.uid,p);q=at(_e,`messages/private/${pe}`)}const ne=Lc(q);await Ar(ne,Re),de(!1)},gn=async se=>{var Re;const _e=(Re=se.target.files)==null?void 0:Re[0];if(!_e||!le)return;const Ne=new FormData;Ne.append("file",_e),Ne.append("upload_preset",Cz),Ne.append("folder","chat-images");try{const ne=await(await fetch(`https://api.cloudinary.com/v1_1/${Tz}/image/upload`,{method:"POST",body:Ne})).json(),pe=Cn(),ge=Date.now(),ke={text:"",imageUrl:ne.secure_url,sender:le.uid,nickname:S,avatarUrl:R,timestamp:ge};let xt;if(p==="public")xt=at(pe,"messages/public");else if(v)xt=at(pe,`messages/groups/${v}`);else{const Rt=pl(le.uid,p);xt=at(pe,`messages/private/${Rt}`)}const Gt=Lc(xt);await Ar(Gt,ke)}catch(q){console.error("上傳圖片失敗:",q)}},nn=async se=>{if(!le)return;const _e=Cn(),Ne=at(_e,`users/${le.uid}/friends/${se}`),Re=at(_e,`users/${se}/friends/${le.uid}`);await Ar(Ne,!0),await Ar(Re,!0)},wi=()=>{g("public"),_(""),M(!1)},kn=se=>{g(se),_(""),M(!1)},Ut=se=>{g(""),_(se),M(!1)},tr=()=>{J("/profile"),M(!1)},Ei=async()=>{await Ss.signOut(),J("")},Ti=async()=>{if(!G.trim()||ie.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const se=Cn();if(!le)return;const _e=at(se,"groups"),Ne=Lc(_e),Re={};ie.forEach(q=>Re[q]=!0),Re[le.uid]=!0,await Ar(Ne,{name:G,members:Re}),H(!1),Z(""),W([])},Yn=se=>new Date(se).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return C.jsxs(C.Fragment,{children:[ce,te&&C.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4",children:C.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md",children:[C.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"搜尋 GIF ✨"}),C.jsx("input",{type:"text",value:V,onChange:se=>$(se.target.value),placeholder:"輸入關鍵字...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{onClick:()=>Ve(V),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition",children:"搜尋"})}),C.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto",children:fe.map(se=>C.jsx("img",{src:se.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>tn(se.media[0].tinygif.url)},se.id))}),C.jsx("div",{className:"flex justify-center pt-4",children:C.jsx("button",{onClick:()=>de(!1),className:"text-gray-400 hover:text-white",children:"關閉"})})]})}),Ae&&A&&C.jsx(wz,{user:A,isFriend:oe.includes(A.uid),onStartChat:()=>{g(A.uid),_(""),Q(!1)},onAddFriend:()=>nn(A.uid),onClose:()=>Q(!1)}),I&&C.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4",children:[C.jsx("h2",{className:"text-xl font-bold",children:"創建新群組"}),C.jsx("input",{type:"text",value:G,onChange:se=>Z(se.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),C.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:u.filter(se=>oe.includes(se.uid)).length===0?C.jsx("div",{className:"text-gray-400 text-center py-4",children:"尚未加任何好友，無法建立群組喔 🌸"}):u.filter(se=>oe.includes(se.uid)).map(se=>C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{type:"checkbox",value:se.uid,onChange:_e=>{_e.target.checked?W(Ne=>[...Ne,se.uid]):W(Ne=>Ne.filter(Re=>Re!==se.uid))}}),C.jsx("span",{children:se.nickname})]},se.uid))}),C.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[C.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 rounded-lg bg-gray-600",children:"Cancel"}),C.jsx("button",{onClick:Ti,className:"px-4 py-2 rounded-lg bg-green-600",children:"Create"})]})]})}),C.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[C.jsxs("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${K?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`,children:[C.jsx("button",{onClick:wi,className:"text-lg font-bold hover:underline",style:{color:k},children:"🌎 Public Chat"}),C.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"All Users"}),C.jsx("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto",children:u&&u.map(se=>C.jsxs("div",{className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition",children:[C.jsxs("button",{onClick:()=>kn(se.uid),className:"flex items-center space-x-2",children:[C.jsx("img",{src:se.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),C.jsx("span",{children:se.nickname})]}),!oe.includes(se.uid)&&C.jsx("button",{onClick:()=>nn(se.uid),className:"text-green-400 hover:text-green-300 text-lg",children:"➕"})]},se.uid))}),C.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Groups"}),C.jsx("div",{className:"flex flex-col space-y-2",children:d.filter(se=>se.members[le?le.uid:0]).map(se=>C.jsxs("button",{onClick:()=>Ut(se.id),className:"hover:bg-white/10 p-2 rounded transition",children:["🧑‍🤝‍🧑 ",se.name]},se.id))}),C.jsx("button",{onClick:()=>H(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition",children:"➕ Create Group"}),C.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-white/20",children:[C.jsx("button",{onClick:()=>J("/"),className:"text-sm hover:underline",style:{color:k},children:"🏠"}),C.jsx("button",{onClick:tr,className:"text-sm hover:underline",style:{color:k},children:"Profile"}),C.jsx("button",{onClick:Ei,className:"text-sm text-red-400 hover:underline",children:"Logout"})]})]}),C.jsxs("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner",children:[C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[C.jsx("div",{className:"p-4",children:C.jsx("input",{type:"text",placeholder:"搜尋訊息 🔍",value:t,onChange:se=>e(se.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})}),n.filter(se=>{var Re;if(!t.trim())return!0;const _e=t.toLowerCase();return(Re=se.text)==null?void 0:Re.toLowerCase().includes(_e)}).length===0?C.jsx("div",{className:"text-center text-gray-400 mt-10",children:"沒有找到相關訊息喔 🌸"}):n.filter(se=>{var Re;if(!t.trim())return!0;const _e=t.toLowerCase();return(Re=se.text)==null?void 0:Re.toLowerCase().includes(_e)}).map(se=>C.jsx("div",{id:`msg-${se.id}`,className:`flex ${se.sender===(le==null?void 0:le.uid)?"justify-end":"justify-start"} fade-in`,children:C.jsxs("div",{className:"flex items-end space-x-2",children:[se.sender!==(le==null?void 0:le.uid)&&C.jsx("img",{src:se.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onClick:()=>{const _e=u.find(Ne=>Ne.uid===se.sender);_e&&(L(_e),Q(!0))}}),C.jsxs("div",{className:"flex flex-col items-start max-w-xs",children:[se.sender===(le==null?void 0:le.uid)&&C.jsx("button",{onClick:()=>je(se.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"收回訊息",children:"↩️"}),C.jsxs("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:se.sender===(le==null?void 0:le.uid)?k:"#d1d5db",color:se.sender===(le==null?void 0:le.uid)?"white":"black"},children:[se.text&&C.jsx("span",{children:se.text}),se.imageUrl&&C.jsx("img",{src:se.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(se.imageUrl,"_blank")}),se.gifUrl&&C.jsx("img",{src:se.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(se.gifUrl,"_blank")})]}),C.jsx("span",{className:"text-xs text-gray-400 mt-1 ml-2",children:Yn(se.timestamp)})]}),se.sender===(le==null?void 0:le.uid)&&C.jsx("img",{src:se.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})]})})),C.jsx("div",{ref:ae})]}),C.jsxs("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2",children:[C.jsx("input",{type:"text",value:a,onChange:se=>l(se.target.value),onKeyDown:se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),ve())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),C.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:gn}),C.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:k},children:"🖼️"}),C.jsx("button",{onClick:()=>de(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:k},children:"🔎"}),C.jsx("button",{onClick:ve,style:{backgroundColor:k},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",children:"Send"})]})]})]})]})},nm=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],Rz=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(null),[a,l]=O.useState(""),[u,f]=O.useState(nm[2].color),[d,h]=O.useState(""),[p,g]=O.useState(!0),v=Hr(),_="dhtqetylj",S="Chatroom_Avatars",w=Ss.currentUser,R=O.useRef(null),{backgroundElement:T}=er();O.useEffect(()=>{if(!w){v("/login");return}const M=Cn(),I=at(M,`users/${w.uid}`);ys(I,H=>{const G=H.val();G&&(e(G.nickname||""),h(G.statusMessage||""),l(G.avatarUrl||""),f(G.themeColor||nm[2].color)),g(!1)})},[w,v]);async function k(M){const I=new FormData;return I.append("file",M),I.append("upload_preset",S),I.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${_}/image/upload`,{method:"POST",body:I})).json()).secure_url}const N=async()=>{if(!w)return;const M=Cn(),I=at(M,`users/${w.uid}`);let H=a;n&&(H=await k(n)),await p4(I,{nickname:t,statusMessage:d,themeColor:u,avatarUrl:H}),v("/chat")},K=M=>{var H;const I=(H=M.target.files)==null?void 0:H[0];I&&(i(I),l(URL.createObjectURL(I)))};return p?C.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading Profile..."}):C.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4",children:[T,C.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center",children:[C.jsx("h1",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Update Your Profile"}),C.jsxs("div",{className:"relative",children:[C.jsx("img",{src:a||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var M;return(M=R.current)==null?void 0:M.click()}}),C.jsx("input",{type:"file",accept:"image/*",ref:R,onChange:K,className:"hidden"})]}),C.jsx("input",{type:"text",value:t,onChange:M=>e(M.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),C.jsx("input",{type:"text",value:d,onChange:M=>h(M.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),C.jsx("div",{className:"flex space-x-3 justify-center",children:nm.map(M=>C.jsx("button",{type:"button",onClick:()=>f(M.color),style:{backgroundColor:M.color},className:`w-8 h-8 rounded-full border-2 ${u===M.color?"border-white":"border-transparent"} transition-all`},M.color))}),C.jsx("button",{onClick:N,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:u},children:"Save"})]})]})},kz=()=>{const{backgroundElement:t}=er();return C.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center px-4 py-12 bg-black text-white font-zen",children:[t,C.jsxs("div",{className:"z-10 grid grid-cols-1 md:grid-cols-2 gap-10 max-w-6xl w-full",children:[C.jsx("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl shadow-xl p-8 space-y-6 animate-fade-in",children:C.jsxs("div",{className:"relative z-10 bg-black/60 p-6 rounded-xl space-y-6 text-white",children:[C.jsx("h1",{className:"text-3xl font-bold tracking-wider text-[#f9f6f1]",children:"About Me"}),C.jsx("p",{className:"text-gray-300 leading-relaxed",children:"嗨，我是 Chang0608，目前就讀於清華大學資訊工程學系。 我喜歡在深夜寫程式，對於能「活起來」的介面特別著迷：像是會回話的聊天室、會打字的首頁、會閃爍的霓虹背景。 對我來說，程式不只是工具，而是一種溫柔的表達形式。"}),C.jsx("p",{className:"text-gray-300 leading-relaxed",children:"過去我完成了一個以 Firebase + React 為主的聊天室專案，支援使用者登入、私聊群聊、訊息搜尋、撤回、GIF 傳送、個人主題設定……甚至還打造了一個日系霧氣打字風格的進場畫面。那不只是一個作品，更像是一段能與自己對話的夜晚。"}),C.jsx("p",{className:"text-gray-400 leading-relaxed",children:"技術上，我熟悉："}),C.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[C.jsx("li",{children:"React / TypeScript / TailwindCSS"}),C.jsx("li",{children:"Firebase 全家桶：Auth, Firestore, Hosting, Storage"}),C.jsx("li",{children:"Python / C / C++，並有 bitonic sort、OpenACC 平行化、HPC 專題等經驗"}),C.jsx("li",{children:"具備測資能力，會寫單元測試、Git 使用熟練"})]}),C.jsx("p",{className:"text-gray-300 leading-relaxed",children:"我曾是台北前三志願高中程式校隊成員，拿過市賽獎項與自主學習佳作。 進入大學後接觸到更多實戰型專案，也開始打磨出自己對「乾淨程式碼」與「有靈魂介面」的執著。"}),C.jsxs("p",{className:"text-sm text-gray-500",children:["「夜の帳が降りる頃、物語は始まる。」",C.jsx("br",{}),"我想寫的，從來不只是程式，而是自己的成長日誌。"]})]})}),C.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-white/5 backdrop-blur-md rounded-2xl p-6 space-y-4 w-full max-w-sm h-fit shadow-xl animate-fade-in",children:[C.jsx("img",{src:"/image/profile-symbolic.png",alt:"Profile Symbol",className:"rounded-full w-24 h-24 object-cover shadow-md ring-2 ring-white/20 hover:ring-[#bfa382] transition"}),C.jsx("p",{className:"text-sm text-gray-300 italic text-center",children:"“靜靜寫程式，也是在認識自己。”"}),C.jsx("div",{className:"w-full border-t border-white/20 pt-2"}),C.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-white",children:[C.jsx("a",{href:"https://github.com/Chang0608",className:"hover:text-[#bfa382] transition",target:"_blank",children:"GitHub"}),C.jsx("a",{href:"mailto:caillou0608@email.com",className:"hover:text-[#bfa382] transition",children:"Email"})]})]})]})]})},jA=({solved:t,total:e})=>{const n=Math.round(t/e*100);return C.jsx("div",{className:"w-24 h-2 rounded-full bg-white/10 overflow-hidden shadow-inner",title:`完成 ${t} / ${e} 題（${n}%）`,children:C.jsx("div",{className:"h-full bg-[#bfa382] transition-all duration-300",style:{width:`${n}%`}})})},Nz=({name:t,title:e,description:n,tags:i,repo:a,progress:l})=>{const u=Hr();return C.jsxs(Or.div,{layoutId:`project-card-${t}`,onClick:()=>u(`/projects/${t}`),className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4 cursor-pointer",style:{willChange:"transform"},children:[C.jsxs("div",{className:"flex justify-between items-center gap-4",children:[C.jsx("h2",{className:"text-xl font-bold text-white",children:e}),l&&C.jsx(jA,{solved:l.solved,total:l.total})]}),C.jsx("p",{className:"text-sm text-gray-300",children:n}),C.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:i.map((f,d)=>C.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:f},d))}),C.jsx("div",{className:"pt-3 flex gap-4",onClick:f=>f.stopPropagation(),children:a&&C.jsx("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-white hover:underline text-sm",children:"💾 GitHub"})})]})},Iz=[{name:"chatroom",title:"Chatroom 系統",description:"支援登入、私聊、GIF 傳送與群組管理的聊天室，採用 Firebase 與 React 技術實作。",tags:["React","Firebase","Tailwind"],link:"/projects/chatroom",repo:"https://github.com/chang0608/chatroom",progress:{solved:95,total:100}},{name:"cses-marathon",title:"CSES Marathon",description:"紀錄 CSES 題解與程式碼，附有筆記與程式碼解說。",tags:["C++","Algorithm","Competitive"],link:"/projects/cses-marathon",repo:"https://github.com/chang0608/cses-marathon",progress:{solved:0,total:100}},{name:"hpc-practice-log",title:"HPC 練習記錄",description:"整理 MPI、CUDA、OpenACC 等高效能計算實驗與心得，卡片式展示。",tags:["MPI","CUDA","OpenACC"],link:"/projects/hpc-practice-log",repo:"https://github.com/chang0608/hpc-practice-log",progress:{solved:5,total:100}}];function Dz(){const{backgroundElement:t}=er();return C.jsxs(Or.div,{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4},children:[t,C.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[C.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"Projects"}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Iz.map(e=>C.jsx(Nz,{...e},e.name))})]})]})}function Oz(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Mz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Pz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lz={};function Q1(t,e){return(Lz.jsx?Pz:Mz).test(t)}const jz=/[ \t\n\f\r]/g;function Uz(t){return typeof t=="object"?t.type==="text"?Z1(t.value):!1:Z1(t)}function Z1(t){return t.replace(jz,"")===""}class bu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}bu.prototype.normal={};bu.prototype.property={};bu.prototype.space=void 0;function UA(t,e){const n={},i={};for(const a of t)Object.assign(n,a.property),Object.assign(i,a.normal);return new bu(n,i,e)}function cg(t){return t.toLowerCase()}class mn{constructor(e,n){this.attribute=n,this.property=e}}mn.prototype.attribute="";mn.prototype.booleanish=!1;mn.prototype.boolean=!1;mn.prototype.commaOrSpaceSeparated=!1;mn.prototype.commaSeparated=!1;mn.prototype.defined=!1;mn.prototype.mustUseProperty=!1;mn.prototype.number=!1;mn.prototype.overloadedBoolean=!1;mn.prototype.property="";mn.prototype.spaceSeparated=!1;mn.prototype.space=void 0;let zz=0;const De=Ps(),Et=Ps(),fg=Ps(),ue=Ps(),nt=Ps(),ja=Ps(),Tn=Ps();function Ps(){return 2**++zz}const hg=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:Et,commaOrSpaceSeparated:Tn,commaSeparated:ja,number:ue,overloadedBoolean:fg,spaceSeparated:nt},Symbol.toStringTag,{value:"Module"})),im=Object.keys(hg);class ov extends mn{constructor(e,n,i,a){let l=-1;if(super(e,n),J1(this,"space",a),typeof i=="number")for(;++l<im.length;){const u=im[l];J1(this,im[l],(i&hg[u])===hg[u])}}}ov.prototype.defined=!0;function J1(t,e,n){n&&(t[e]=n)}function lo(t){const e={},n={};for(const[i,a]of Object.entries(t.properties)){const l=new ov(i,t.transform(t.attributes||{},i),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[cg(i)]=i,n[cg(l.attribute)]=i}return new bu(e,n,t.space)}const zA=lo({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:nt,ariaCurrent:null,ariaDescribedBy:nt,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:nt,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:nt,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nt,ariaLevel:ue,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:nt,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:nt,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:Et,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function BA(t,e){return e in t?t[e]:e}function VA(t,e){return BA(t,e.toLowerCase())}const Bz=lo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ja,acceptCharset:nt,accessKey:nt,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:nt,autoFocus:De,autoPlay:De,blocking:nt,capture:null,charSet:null,checked:De,cite:null,className:nt,cols:ue,colSpan:null,content:null,contentEditable:Et,controls:De,controlsList:nt,coords:ue|ja,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:fg,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:nt,height:ue,hidden:fg,high:ue,href:null,hrefLang:null,htmlFor:nt,httpEquiv:nt,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:nt,itemRef:nt,itemScope:De,itemType:nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:ue,pattern:null,ping:nt,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:nt,required:De,reversed:De,rows:ue,rowSpan:ue,sandbox:nt,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:Et,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nt,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:VA}),Vz=lo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Tn,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ja,g2:ja,glyphName:ja,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Tn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Tn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Tn,rev:Tn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Tn,requiredFeatures:Tn,requiredFonts:Tn,requiredFormats:Tn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Tn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Tn,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Tn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:BA}),HA=lo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),FA=lo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:VA}),qA=lo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Hz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fz=/[A-Z]/g,ew=/-[a-z]/g,qz=/^data[-\w.:]+$/i;function Gz(t,e){const n=cg(e);let i=e,a=mn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&qz.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(ew,Kz);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!ew.test(l)){let u=l.replace(Fz,Yz);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=ov}return new a(i,e)}function Yz(t){return"-"+t.toLowerCase()}function Kz(t){return t.charAt(1).toUpperCase()}const Wz=UA([zA,Bz,HA,FA,qA],"html"),lv=UA([zA,Vz,HA,FA,qA],"svg");function $z(t){return t.join(" ").trim()}var Sa={},rm,tw;function Xz(){if(tw)return rm;tw=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,d=`
`,h="/",p="*",g="",v="comment",_="declaration";rm=function(w,R){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];R=R||{};var T=1,k=1;function N(ce){var ae=ce.match(e);ae&&(T+=ae.length);var oe=ce.lastIndexOf(d);k=~oe?ce.length-oe:k+ce.length}function K(){var ce={line:T,column:k};return function(ae){return ae.position=new M(ce),G(),ae}}function M(ce){this.start=ce,this.end={line:T,column:k},this.source=R.source}M.prototype.content=w;function I(ce){var ae=new Error(R.source+":"+T+":"+k+": "+ce);if(ae.reason=ce,ae.filename=R.source,ae.line=T,ae.column=k,ae.source=w,!R.silent)throw ae}function H(ce){var ae=ce.exec(w);if(ae){var oe=ae[0];return N(oe),w=w.slice(oe.length),ae}}function G(){H(n)}function Z(ce){var ae;for(ce=ce||[];ae=ie();)ae!==!1&&ce.push(ae);return ce}function ie(){var ce=K();if(!(h!=w.charAt(0)||p!=w.charAt(1))){for(var ae=2;g!=w.charAt(ae)&&(p!=w.charAt(ae)||h!=w.charAt(ae+1));)++ae;if(ae+=2,g===w.charAt(ae-1))return I("End of comment missing");var oe=w.slice(2,ae-2);return k+=2,N(oe),w=w.slice(ae),k+=2,ce({type:v,comment:oe})}}function W(){var ce=K(),ae=H(i);if(ae){if(ie(),!H(a))return I("property missing ':'");var oe=H(l),j=ce({type:_,property:S(ae[0].replace(t,g)),value:oe?S(oe[0].replace(t,g)):g});return H(u),j}}function J(){var ce=[];Z(ce);for(var ae;ae=W();)ae!==!1&&(ce.push(ae),Z(ce));return ce}return G(),J()};function S(w){return w?w.replace(f,g):g}return rm}var nw;function Qz(){if(nw)return Sa;nw=1;var t=Sa&&Sa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.default=n;var e=t(Xz());function n(i,a){var l=null;if(!i||typeof i!="string")return l;var u=(0,e.default)(i),f=typeof a=="function";return u.forEach(function(d){if(d.type==="declaration"){var h=d.property,p=d.value;f?a(h,p,d):p&&(l=l||{},l[h]=p)}}),l}return Sa}var ml={},iw;function Zz(){if(iw)return ml;iw=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(h){return!h||n.test(h)||t.test(h)},u=function(h,p){return p.toUpperCase()},f=function(h,p){return"".concat(p,"-")},d=function(h,p){return p===void 0&&(p={}),l(h)?h:(h=h.toLowerCase(),p.reactCompat?h=h.replace(a,f):h=h.replace(i,f),h.replace(e,u))};return ml.camelCase=d,ml}var gl,rw;function Jz(){if(rw)return gl;rw=1;var t=gl&&gl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(Qz()),n=Zz();function i(a,l){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(f,d){f&&d&&(u[(0,n.camelCase)(f,l)]=d)}),u}return i.default=i,gl=i,gl}var eB=Jz();const tB=nu(eB),GA=YA("end"),uv=YA("start");function YA(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function nB(t){const e=uv(t),n=GA(t);if(e&&n)return{start:e,end:n}}function Ml(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?sw(t.position):"start"in t||"end"in t?sw(t):"line"in t||"column"in t?dg(t):""}function dg(t){return aw(t&&t.line)+":"+aw(t&&t.column)}function sw(t){return dg(t&&t.start)+"-"+dg(t&&t.end)}function aw(t){return t&&typeof t=="number"?t:1}class Xt extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?a=e:!l.cause&&e&&(u=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?l.ruleId=i:(l.source=i.slice(0,d),l.ruleId=i.slice(d+1))}if(!l.place&&l.ancestors&&l.ancestors){const d=l.ancestors[l.ancestors.length-1];d&&(l.place=d.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=f?f.line:void 0,this.name=Ml(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const cv={}.hasOwnProperty,iB=new Map,rB=/[A-Z]/g,sB=new Set(["table","tbody","thead","tfoot","tr"]),aB=new Set(["td","th"]),KA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function oB(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=mB(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=pB(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lv:Wz,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=WA(a,t,void 0);return l&&typeof l!="string"?l:a.create(t,a.Fragment,{children:l||void 0},void 0)}function WA(t,e,n){if(e.type==="element")return lB(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return uB(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return fB(t,e,n);if(e.type==="mdxjsEsm")return cB(t,e);if(e.type==="root")return hB(t,e,n);if(e.type==="text")return dB(t,e)}function lB(t,e,n){const i=t.schema;let a=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=lv,t.schema=a),t.ancestors.push(e);const l=XA(t,e.tagName,!1),u=gB(t,e);let f=hv(t,e);return sB.has(e.tagName)&&(f=f.filter(function(d){return typeof d=="string"?!Uz(d):!0})),$A(t,u,l,e),fv(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function uB(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}tu(t,e.position)}function cB(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);tu(t,e.position)}function fB(t,e,n){const i=t.schema;let a=i;e.name==="svg"&&i.space==="html"&&(a=lv,t.schema=a),t.ancestors.push(e);const l=e.name===null?t.Fragment:XA(t,e.name,!0),u=yB(t,e),f=hv(t,e);return $A(t,u,l,e),fv(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function hB(t,e,n){const i={};return fv(i,hv(t,e)),t.create(e,t.Fragment,i,n)}function dB(t,e){return e.value}function $A(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function fv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function pB(t,e,n){return i;function i(a,l,u,f){const h=Array.isArray(u.children)?n:e;return f?h(l,u,f):h(l,u)}}function mB(t,e){return n;function n(i,a,l,u){const f=Array.isArray(l.children),d=uv(i);return e(a,l,u,f,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function gB(t,e){const n={};let i,a;for(a in e.properties)if(a!=="children"&&cv.call(e.properties,a)){const l=vB(t,a,e.properties[a]);if(l){const[u,f]=l;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&aB.has(e.tagName)?i=f:n[u]=f}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function yB(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else tu(t,e.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const f=i.value.data.estree.body[0];f.type,l=t.evaluater.evaluateExpression(f.expression)}else tu(t,e.position);else l=i.value===null?!0:i.value;n[a]=l}return n}function hv(t,e){const n=[];let i=-1;const a=t.passKeys?new Map:iB;for(;++i<e.children.length;){const l=e.children[i];let u;if(t.passKeys){const d=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(d){const h=a.get(d)||0;u=d+"-"+h,a.set(d,h+1)}}const f=WA(t,l,u);f!==void 0&&n.push(f)}return n}function vB(t,e,n){const i=Gz(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Oz(n):$z(n)),i.property==="style"){let a=typeof n=="object"?n:_B(t,String(n));return t.stylePropertyNameCase==="css"&&(a=bB(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?Hz[i.property]||i.property:i.attribute,n]}}function _B(t,e){try{return tB(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,a=new Xt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=KA+"#cannot-parse-style-attribute",a}}function XA(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,u;for(;++l<a.length;){const f=Q1(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=u}else i=Q1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const a=i.value;return cv.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(i);tu(t)}function tu(t,e){const n=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=KA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function bB(t){const e={};let n;for(n in t)cv.call(t,n)&&(e[xB(n)]=t[n]);return e}function xB(t){let e=t.replace(rB,SB);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function SB(t){return"-"+t.toLowerCase()}const sm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},wB={};function EB(t,e){const n=wB,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return QA(t,i,a)}function QA(t,e,n){if(TB(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ow(t.children,e,n)}return Array.isArray(t)?ow(t,e,n):""}function ow(t,e,n){const i=[];let a=-1;for(;++a<t.length;)i[a]=QA(t[a],e,n);return i.join("")}function TB(t){return!!(t&&typeof t=="object")}const lw=document.createElement("i");function dv(t){const e="&"+t+";";lw.innerHTML=e;const n=lw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function bi(t,e,n,i){const a=t.length;let l=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<i.length;)u=i.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function Hn(t,e){return t.length>0?(bi(t,t.length,0,e),t):e}const uw={}.hasOwnProperty;function CB(t){const e={};let n=-1;for(;++n<t.length;)AB(e,t[n]);return e}function AB(t,e){let n;for(n in e){const a=(uw.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){uw.call(a,u)||(a[u]=[]);const f=l[u];RB(a[u],Array.isArray(f)?f:f?[f]:[])}}}function RB(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);bi(t,0,0,i)}function ZA(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ua(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mi=$r(/[A-Za-z]/),Rn=$r(/[\dA-Za-z]/),kB=$r(/[#-'*+\--9=?A-Z^-~]/);function pg(t){return t!==null&&(t<32||t===127)}const mg=$r(/\d/),NB=$r(/[\dA-Fa-f]/),IB=$r(/[!-/:-@[-`{-~]/);function Ce(t){return t!==null&&t<-2}function dn(t){return t!==null&&(t<0||t===32)}function Ge(t){return t===-2||t===-1||t===32}const DB=$r(new RegExp("\\p{P}|\\p{S}","u")),OB=$r(/\s/);function $r(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function uo(t){const e=[];let n=-1,i=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&Rn(t.charCodeAt(n+1))&&Rn(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=t.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),a=1):u="�"}else u=String.fromCharCode(l);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(i)}function st(t,e,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(d){return Ge(d)?(t.enter(n),f(d)):e(d)}function f(d){return Ge(d)&&l++<a?(t.consume(d),f):(t.exit(n),e(d))}}const MB={tokenize:PB};function PB(t){const e=t.attempt(this.parser.constructs.contentInitial,i,a);let n;return e;function i(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),st(t,e,"linePrefix")}function a(f){return t.enter("paragraph"),l(f)}function l(f){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Ce(f)?(t.consume(f),t.exit("chunkText"),l):(t.consume(f),u)}}const LB={tokenize:jB},cw={tokenize:UB};function jB(t){const e=this,n=[];let i=0,a,l,u;return f;function f(N){if(i<n.length){const K=n[i];return e.containerState=K[1],t.attempt(K[0].continuation,d,h)(N)}return h(N)}function d(N){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&k();const K=e.events.length;let M=K,I;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){I=e.events[M][1].end;break}T(i);let H=K;for(;H<e.events.length;)e.events[H][1].end={...I},H++;return bi(e.events,M+1,0,e.events.slice(K)),e.events.length=H,h(N)}return f(N)}function h(N){if(i===n.length){if(!a)return v(N);if(a.currentConstruct&&a.currentConstruct.concrete)return S(N);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(cw,p,g)(N)}function p(N){return a&&k(),T(i),v(N)}function g(N){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,S(N)}function v(N){return e.containerState={},t.attempt(cw,_,S)(N)}function _(N){return i++,n.push([e.currentConstruct,e.containerState]),v(N)}function S(N){if(N===null){a&&k(),T(0),t.consume(N);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),w(N)}function w(N){if(N===null){R(t.exit("chunkFlow"),!0),T(0),t.consume(N);return}return Ce(N)?(t.consume(N),R(t.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(t.consume(N),w)}function R(N,K){const M=e.sliceStream(N);if(K&&M.push(null),N.previous=l,l&&(l.next=N),l=N,a.defineSkip(N.start),a.write(M),e.parser.lazy[N.start.line]){let I=a.events.length;for(;I--;)if(a.events[I][1].start.offset<u&&(!a.events[I][1].end||a.events[I][1].end.offset>u))return;const H=e.events.length;let G=H,Z,ie;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if(Z){ie=e.events[G][1].end;break}Z=!0}for(T(i),I=H;I<e.events.length;)e.events[I][1].end={...ie},I++;bi(e.events,G+1,0,e.events.slice(H)),e.events.length=I}}function T(N){let K=n.length;for(;K-- >N;){const M=n[K];e.containerState=M[1],M[0].exit.call(e,t)}n.length=N}function k(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function UB(t,e,n){return st(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fw(t){if(t===null||dn(t)||OB(t))return 1;if(DB(t))return 2}function pv(t,e,n){const i=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const gg={name:"attention",resolveAll:zB,tokenize:BB};function zB(t,e){let n=-1,i,a,l,u,f,d,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[i][1].end},v={...t[n][1].start};hw(g,-d),hw(v,d),u={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...t[i][1].end}},f={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},l={type:d>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},a={type:d>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[i][1].end={...u.start},t[n][1].start={...f.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=Hn(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=Hn(h,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",l,e]]),h=Hn(h,pv(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=Hn(h,[["exit",l,e],["enter",f,e],["exit",f,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Hn(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,bi(t,i-1,n-i+3,h),n=i+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function BB(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=fw(i);let l;return u;function u(d){return l=d,t.enter("attentionSequence"),f(d)}function f(d){if(d===l)return t.consume(d),f;const h=t.exit("attentionSequence"),p=fw(d),g=!p||p===2&&a||n.includes(d),v=!a||a===2&&p||n.includes(i);return h._open=!!(l===42?g:g&&(a||!v)),h._close=!!(l===42?v:v&&(p||!g)),e(d)}}function hw(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const VB={name:"autolink",tokenize:HB};function HB(t,e,n){let i=0;return a;function a(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(_){return mi(_)?(t.consume(_),u):_===64?n(_):h(_)}function u(_){return _===43||_===45||_===46||Rn(_)?(i=1,f(_)):h(_)}function f(_){return _===58?(t.consume(_),i=0,d):(_===43||_===45||_===46||Rn(_))&&i++<32?(t.consume(_),f):(i=0,h(_))}function d(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||pg(_)?n(_):(t.consume(_),d)}function h(_){return _===64?(t.consume(_),p):kB(_)?(t.consume(_),h):n(_)}function p(_){return Rn(_)?g(_):n(_)}function g(_){return _===46?(t.consume(_),i=0,p):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):v(_)}function v(_){if((_===45||Rn(_))&&i++<63){const S=_===45?v:g;return t.consume(_),S}return n(_)}}const rh={partial:!0,tokenize:FB};function FB(t,e,n){return i;function i(l){return Ge(l)?st(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||Ce(l)?e(l):n(l)}}const JA={continuation:{tokenize:GB},exit:YB,name:"blockQuote",tokenize:qB};function qB(t,e,n){const i=this;return a;function a(u){if(u===62){const f=i.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Ge(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function GB(t,e,n){const i=this;return a;function a(u){return Ge(u)?st(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(JA,e,n)(u)}}function YB(t){t.exit("blockQuote")}const eR={name:"characterEscape",tokenize:KB};function KB(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return IB(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const tR={name:"characterReference",tokenize:WB};function WB(t,e,n){const i=this;let a=0,l,u;return f;function f(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),d}function d(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),l=31,u=Rn,p(g))}function h(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=NB,p):(t.enter("characterReferenceValue"),l=7,u=mg,p(g))}function p(g){if(g===59&&a){const v=t.exit("characterReferenceValue");return u===Rn&&!dv(i.sliceSerialize(v))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(g)&&a++<l?(t.consume(g),p):n(g)}}const dw={partial:!0,tokenize:XB},pw={concrete:!0,name:"codeFenced",tokenize:$B};function $B(t,e,n){const i=this,a={partial:!0,tokenize:M};let l=0,u=0,f;return d;function d(I){return h(I)}function h(I){const H=i.events[i.events.length-1];return l=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,f=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(I)}function p(I){return I===f?(u++,t.consume(I),p):u<3?n(I):(t.exit("codeFencedFenceSequence"),Ge(I)?st(t,g,"whitespace")(I):g(I))}function g(I){return I===null||Ce(I)?(t.exit("codeFencedFence"),i.interrupt?e(I):t.check(dw,w,K)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===null||Ce(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(I)):Ge(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),st(t,_,"whitespace")(I)):I===96&&I===f?n(I):(t.consume(I),v)}function _(I){return I===null||Ce(I)?g(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(I))}function S(I){return I===null||Ce(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(I)):I===96&&I===f?n(I):(t.consume(I),S)}function w(I){return t.attempt(a,K,R)(I)}function R(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),T}function T(I){return l>0&&Ge(I)?st(t,k,"linePrefix",l+1)(I):k(I)}function k(I){return I===null||Ce(I)?t.check(dw,w,K)(I):(t.enter("codeFlowValue"),N(I))}function N(I){return I===null||Ce(I)?(t.exit("codeFlowValue"),k(I)):(t.consume(I),N)}function K(I){return t.exit("codeFenced"),e(I)}function M(I,H,G){let Z=0;return ie;function ie(oe){return I.enter("lineEnding"),I.consume(oe),I.exit("lineEnding"),W}function W(oe){return I.enter("codeFencedFence"),Ge(oe)?st(I,J,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):J(oe)}function J(oe){return oe===f?(I.enter("codeFencedFenceSequence"),ce(oe)):G(oe)}function ce(oe){return oe===f?(Z++,I.consume(oe),ce):Z>=u?(I.exit("codeFencedFenceSequence"),Ge(oe)?st(I,ae,"whitespace")(oe):ae(oe)):G(oe)}function ae(oe){return oe===null||Ce(oe)?(I.exit("codeFencedFence"),H(oe)):G(oe)}}}function XB(t,e,n){const i=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const am={name:"codeIndented",tokenize:ZB},QB={partial:!0,tokenize:JB};function ZB(t,e,n){const i=this;return a;function a(h){return t.enter("codeIndented"),st(t,l,"linePrefix",5)(h)}function l(h){const p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?u(h):n(h)}function u(h){return h===null?d(h):Ce(h)?t.attempt(QB,u,d)(h):(t.enter("codeFlowValue"),f(h))}function f(h){return h===null||Ce(h)?(t.exit("codeFlowValue"),u(h)):(t.consume(h),f)}function d(h){return t.exit("codeIndented"),e(h)}}function JB(t,e,n){const i=this;return a;function a(u){return i.parser.lazy[i.now().line]?n(u):Ce(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):st(t,l,"linePrefix",5)(u)}function l(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Ce(u)?a(u):n(u)}}const eV={name:"codeText",previous:nV,resolve:tV,tokenize:iV};function tV(t){let e=t.length-4,n=3,i,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)a===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(a=i):(i===e||t[i][1].type==="lineEnding")&&(t[a][1].type="codeTextData",i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),e-=i-a-2,i=a+2),a=void 0);return t}function nV(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function iV(t,e,n){let i=0,a,l;return u;function u(g){return t.enter("codeText"),t.enter("codeTextSequence"),f(g)}function f(g){return g===96?(t.consume(g),i++,f):(t.exit("codeTextSequence"),d(g))}function d(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),d):g===96?(l=t.enter("codeTextSequence"),a=0,p(g)):Ce(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),d):(t.enter("codeTextData"),h(g))}function h(g){return g===null||g===32||g===96||Ce(g)?(t.exit("codeTextData"),d(g)):(t.consume(g),h)}function p(g){return g===96?(t.consume(g),a++,p):a===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(l.type="codeTextData",h(g))}}class rV{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const a=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&yl(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yl(this.left,n.reverse())}}}function yl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function nR(t){const e={};let n=-1,i,a,l,u,f,d,h;const p=new rV(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(i=p.get(n),n&&i[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,l=0,l<d.length&&d[l][1].type==="lineEndingBlank"&&(l+=2),l<d.length&&d[l][1].type==="content"))for(;++l<d.length&&d[l][1].type!=="content";)d[l][1].type==="chunkText"&&(d[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,sV(p,n)),n=e[n],h=!0);else if(i[1]._container){for(l=n,a=void 0;l--;)if(u=p.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(p.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(i[1].end={...p.get(a)[1].start},f=p.slice(a,n),f.unshift(i),p.splice(a,n-a+1,f))}}return bi(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}function sV(t,e){const n=t.get(e)[1],i=t.get(e)[2];let a=e-1;const l=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,d=[],h={};let p,g,v=-1,_=n,S=0,w=0;const R=[w];for(;_;){for(;t.get(++a)[1]!==_;);l.push(a),_._tokenizer||(p=i.sliceStream(_),_.next||p.push(null),g&&u.defineSkip(_.start),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(p),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),g=_,_=_.next}for(_=n;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(w=v+1,R.push(w),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(u.events=[],_?(_._tokenizer=void 0,_.previous=void 0):R.pop(),v=R.length;v--;){const T=f.slice(R[v],R[v+1]),k=l.pop();d.push([k,k+T.length-1]),t.splice(k,2,T)}for(d.reverse(),v=-1;++v<d.length;)h[S+d[v][0]]=S+d[v][1],S+=d[v][1]-d[v][0]-1;return h}const aV={resolve:lV,tokenize:uV},oV={partial:!0,tokenize:cV};function lV(t){return nR(t),t}function uV(t,e){let n;return i;function i(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Ce(f)?t.check(oV,u,l)(f):(t.consume(f),a)}function l(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function cV(t,e,n){const i=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),st(t,l,"linePrefix")}function l(u){if(u===null||Ce(u))return n(u);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function iR(t,e,n,i,a,l,u,f,d){const h=d||Number.POSITIVE_INFINITY;let p=0;return g;function g(T){return T===60?(t.enter(i),t.enter(a),t.enter(l),t.consume(T),t.exit(l),v):T===null||T===32||T===41||pg(T)?n(T):(t.enter(i),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),w(T))}function v(T){return T===62?(t.enter(l),t.consume(T),t.exit(l),t.exit(a),t.exit(i),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),_(T))}function _(T){return T===62?(t.exit("chunkString"),t.exit(f),v(T)):T===null||T===60||Ce(T)?n(T):(t.consume(T),T===92?S:_)}function S(T){return T===60||T===62||T===92?(t.consume(T),_):_(T)}function w(T){return!p&&(T===null||T===41||dn(T))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(i),e(T)):p<h&&T===40?(t.consume(T),p++,w):T===41?(t.consume(T),p--,w):T===null||T===32||T===40||pg(T)?n(T):(t.consume(T),T===92?R:w)}function R(T){return T===40||T===41||T===92?(t.consume(T),w):w(T)}}function rR(t,e,n,i,a,l){const u=this;let f=0,d;return h;function h(_){return t.enter(i),t.enter(a),t.consume(_),t.exit(a),t.enter(l),p}function p(_){return f>999||_===null||_===91||_===93&&!d||_===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(_):_===93?(t.exit(l),t.enter(a),t.consume(_),t.exit(a),t.exit(i),e):Ce(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||_===91||_===93||Ce(_)||f++>999?(t.exit("chunkString"),p(_)):(t.consume(_),d||(d=!Ge(_)),_===92?v:g)}function v(_){return _===91||_===92||_===93?(t.consume(_),f++,g):g(_)}}function sR(t,e,n,i,a,l){let u;return f;function f(v){return v===34||v===39||v===40?(t.enter(i),t.enter(a),t.consume(v),t.exit(a),u=v===40?41:v,d):n(v)}function d(v){return v===u?(t.enter(a),t.consume(v),t.exit(a),t.exit(i),e):(t.enter(l),h(v))}function h(v){return v===u?(t.exit(l),d(u)):v===null?n(v):Ce(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),st(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===u||v===null||Ce(v)?(t.exit("chunkString"),h(v)):(t.consume(v),v===92?g:p)}function g(v){return v===u||v===92?(t.consume(v),p):p(v)}}function Pl(t,e){let n;return i;function i(a){return Ce(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,i):Ge(a)?st(t,i,n?"linePrefix":"lineSuffix")(a):e(a)}}const fV={name:"definition",tokenize:dV},hV={partial:!0,tokenize:pV};function dV(t,e,n){const i=this;let a;return l;function l(_){return t.enter("definition"),u(_)}function u(_){return rR.call(i,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function f(_){return a=Ua(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),d):n(_)}function d(_){return dn(_)?Pl(t,h)(_):h(_)}function h(_){return iR(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function p(_){return t.attempt(hV,g,g)(_)}function g(_){return Ge(_)?st(t,v,"whitespace")(_):v(_)}function v(_){return _===null||Ce(_)?(t.exit("definition"),i.parser.defined.push(a),e(_)):n(_)}}function pV(t,e,n){return i;function i(f){return dn(f)?Pl(t,a)(f):n(f)}function a(f){return sR(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return Ge(f)?st(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Ce(f)?e(f):n(f)}}const mV={name:"hardBreakEscape",tokenize:gV};function gV(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return Ce(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const yV={name:"headingAtx",resolve:vV,tokenize:_V};function vV(t,e){let n=t.length-2,i=3,a,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},bi(t,i,n-i+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),t}function _V(t,e,n){let i=0;return a;function a(p){return t.enter("atxHeading"),l(p)}function l(p){return t.enter("atxHeadingSequence"),u(p)}function u(p){return p===35&&i++<6?(t.consume(p),u):p===null||dn(p)?(t.exit("atxHeadingSequence"),f(p)):n(p)}function f(p){return p===35?(t.enter("atxHeadingSequence"),d(p)):p===null||Ce(p)?(t.exit("atxHeading"),e(p)):Ge(p)?st(t,f,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function d(p){return p===35?(t.consume(p),d):(t.exit("atxHeadingSequence"),f(p))}function h(p){return p===null||p===35||dn(p)?(t.exit("atxHeadingText"),f(p)):(t.consume(p),h)}}const bV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mw=["pre","script","style","textarea"],xV={concrete:!0,name:"htmlFlow",resolveTo:EV,tokenize:TV},SV={partial:!0,tokenize:AV},wV={partial:!0,tokenize:CV};function EV(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function TV(t,e,n){const i=this;let a,l,u,f,d;return h;function h(A){return p(A)}function p(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),g}function g(A){return A===33?(t.consume(A),v):A===47?(t.consume(A),l=!0,w):A===63?(t.consume(A),a=3,i.interrupt?e:b):mi(A)?(t.consume(A),u=String.fromCharCode(A),R):n(A)}function v(A){return A===45?(t.consume(A),a=2,_):A===91?(t.consume(A),a=5,f=0,S):mi(A)?(t.consume(A),a=4,i.interrupt?e:b):n(A)}function _(A){return A===45?(t.consume(A),i.interrupt?e:b):n(A)}function S(A){const L="CDATA[";return A===L.charCodeAt(f++)?(t.consume(A),f===L.length?i.interrupt?e:J:S):n(A)}function w(A){return mi(A)?(t.consume(A),u=String.fromCharCode(A),R):n(A)}function R(A){if(A===null||A===47||A===62||dn(A)){const L=A===47,Ae=u.toLowerCase();return!L&&!l&&mw.includes(Ae)?(a=1,i.interrupt?e(A):J(A)):bV.includes(u.toLowerCase())?(a=6,L?(t.consume(A),T):i.interrupt?e(A):J(A)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(A):l?k(A):N(A))}return A===45||Rn(A)?(t.consume(A),u+=String.fromCharCode(A),R):n(A)}function T(A){return A===62?(t.consume(A),i.interrupt?e:J):n(A)}function k(A){return Ge(A)?(t.consume(A),k):ie(A)}function N(A){return A===47?(t.consume(A),ie):A===58||A===95||mi(A)?(t.consume(A),K):Ge(A)?(t.consume(A),N):ie(A)}function K(A){return A===45||A===46||A===58||A===95||Rn(A)?(t.consume(A),K):M(A)}function M(A){return A===61?(t.consume(A),I):Ge(A)?(t.consume(A),M):N(A)}function I(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),d=A,H):Ge(A)?(t.consume(A),I):G(A)}function H(A){return A===d?(t.consume(A),d=null,Z):A===null||Ce(A)?n(A):(t.consume(A),H)}function G(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||dn(A)?M(A):(t.consume(A),G)}function Z(A){return A===47||A===62||Ge(A)?N(A):n(A)}function ie(A){return A===62?(t.consume(A),W):n(A)}function W(A){return A===null||Ce(A)?J(A):Ge(A)?(t.consume(A),W):n(A)}function J(A){return A===45&&a===2?(t.consume(A),j):A===60&&a===1?(t.consume(A),te):A===62&&a===4?(t.consume(A),V):A===63&&a===3?(t.consume(A),b):A===93&&a===5?(t.consume(A),fe):Ce(A)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(SV,$,ce)(A)):A===null||Ce(A)?(t.exit("htmlFlowData"),ce(A)):(t.consume(A),J)}function ce(A){return t.check(wV,ae,$)(A)}function ae(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),oe}function oe(A){return A===null||Ce(A)?ce(A):(t.enter("htmlFlowData"),J(A))}function j(A){return A===45?(t.consume(A),b):J(A)}function te(A){return A===47?(t.consume(A),u="",de):J(A)}function de(A){if(A===62){const L=u.toLowerCase();return mw.includes(L)?(t.consume(A),V):J(A)}return mi(A)&&u.length<8?(t.consume(A),u+=String.fromCharCode(A),de):J(A)}function fe(A){return A===93?(t.consume(A),b):J(A)}function b(A){return A===62?(t.consume(A),V):A===45&&a===2?(t.consume(A),b):J(A)}function V(A){return A===null||Ce(A)?(t.exit("htmlFlowData"),$(A)):(t.consume(A),V)}function $(A){return t.exit("htmlFlow"),e(A)}}function CV(t,e,n){const i=this;return a;function a(u){return Ce(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function AV(t,e,n){return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(rh,e,n)}}const RV={name:"htmlText",tokenize:kV};function kV(t,e,n){const i=this;let a,l,u;return f;function f(b){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(b),d}function d(b){return b===33?(t.consume(b),h):b===47?(t.consume(b),M):b===63?(t.consume(b),N):mi(b)?(t.consume(b),G):n(b)}function h(b){return b===45?(t.consume(b),p):b===91?(t.consume(b),l=0,S):mi(b)?(t.consume(b),k):n(b)}function p(b){return b===45?(t.consume(b),_):n(b)}function g(b){return b===null?n(b):b===45?(t.consume(b),v):Ce(b)?(u=g,te(b)):(t.consume(b),g)}function v(b){return b===45?(t.consume(b),_):g(b)}function _(b){return b===62?j(b):b===45?v(b):g(b)}function S(b){const V="CDATA[";return b===V.charCodeAt(l++)?(t.consume(b),l===V.length?w:S):n(b)}function w(b){return b===null?n(b):b===93?(t.consume(b),R):Ce(b)?(u=w,te(b)):(t.consume(b),w)}function R(b){return b===93?(t.consume(b),T):w(b)}function T(b){return b===62?j(b):b===93?(t.consume(b),T):w(b)}function k(b){return b===null||b===62?j(b):Ce(b)?(u=k,te(b)):(t.consume(b),k)}function N(b){return b===null?n(b):b===63?(t.consume(b),K):Ce(b)?(u=N,te(b)):(t.consume(b),N)}function K(b){return b===62?j(b):N(b)}function M(b){return mi(b)?(t.consume(b),I):n(b)}function I(b){return b===45||Rn(b)?(t.consume(b),I):H(b)}function H(b){return Ce(b)?(u=H,te(b)):Ge(b)?(t.consume(b),H):j(b)}function G(b){return b===45||Rn(b)?(t.consume(b),G):b===47||b===62||dn(b)?Z(b):n(b)}function Z(b){return b===47?(t.consume(b),j):b===58||b===95||mi(b)?(t.consume(b),ie):Ce(b)?(u=Z,te(b)):Ge(b)?(t.consume(b),Z):j(b)}function ie(b){return b===45||b===46||b===58||b===95||Rn(b)?(t.consume(b),ie):W(b)}function W(b){return b===61?(t.consume(b),J):Ce(b)?(u=W,te(b)):Ge(b)?(t.consume(b),W):Z(b)}function J(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),a=b,ce):Ce(b)?(u=J,te(b)):Ge(b)?(t.consume(b),J):(t.consume(b),ae)}function ce(b){return b===a?(t.consume(b),a=void 0,oe):b===null?n(b):Ce(b)?(u=ce,te(b)):(t.consume(b),ce)}function ae(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||dn(b)?Z(b):(t.consume(b),ae)}function oe(b){return b===47||b===62||dn(b)?Z(b):n(b)}function j(b){return b===62?(t.consume(b),t.exit("htmlTextData"),t.exit("htmlText"),e):n(b)}function te(b){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),de}function de(b){return Ge(b)?st(t,fe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):fe(b)}function fe(b){return t.enter("htmlTextData"),u(b)}}const mv={name:"labelEnd",resolveAll:OV,resolveTo:MV,tokenize:PV},NV={tokenize:LV},IV={tokenize:jV},DV={tokenize:UV};function OV(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",e+=a}}return t.length!==n.length&&bi(t,0,t.length,n),t}function MV(t,e){let n=t.length,i=0,a,l,u,f;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(u=n);const d={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},p={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",d,e],["enter",h,e]],f=Hn(f,t.slice(l+1,l+i+3)),f=Hn(f,[["enter",p,e]]),f=Hn(f,pv(e.parser.constructs.insideSpan.null,t.slice(l+i+4,u-3),e)),f=Hn(f,[["exit",p,e],t[u-2],t[u-1],["exit",h,e]]),f=Hn(f,t.slice(u+1)),f=Hn(f,[["exit",d,e]]),bi(t,l,t.length,f),t}function PV(t,e,n){const i=this;let a=i.events.length,l,u;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return f;function f(v){return l?l._inactive?g(v):(u=i.parser.defined.includes(Ua(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),d):n(v)}function d(v){return v===40?t.attempt(NV,p,u?p:g)(v):v===91?t.attempt(IV,p,u?h:g)(v):u?p(v):g(v)}function h(v){return t.attempt(DV,p,g)(v)}function p(v){return e(v)}function g(v){return l._balanced=!0,n(v)}}function LV(t,e,n){return i;function i(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),a}function a(g){return dn(g)?Pl(t,l)(g):l(g)}function l(g){return g===41?p(g):iR(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function u(g){return dn(g)?Pl(t,d)(g):p(g)}function f(g){return n(g)}function d(g){return g===34||g===39||g===40?sR(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function h(g){return dn(g)?Pl(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function jV(t,e,n){const i=this;return a;function a(f){return rR.call(i,t,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(Ua(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function UV(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const zV={name:"labelStartImage",resolveAll:mv.resolveAll,tokenize:BV};function BV(t,e,n){const i=this;return a;function a(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),l}function l(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):e(f)}}const VV={name:"labelStartLink",resolveAll:mv.resolveAll,tokenize:HV};function HV(t,e,n){const i=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const om={name:"lineEnding",tokenize:FV};function FV(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),st(t,e,"linePrefix")}}const nf={name:"thematicBreak",tokenize:qV};function qV(t,e,n){let i=0,a;return l;function l(h){return t.enter("thematicBreak"),u(h)}function u(h){return a=h,f(h)}function f(h){return h===a?(t.enter("thematicBreakSequence"),d(h)):i>=3&&(h===null||Ce(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===a?(t.consume(h),i++,d):(t.exit("thematicBreakSequence"),Ge(h)?st(t,f,"whitespace")(h):f(h))}}const un={continuation:{tokenize:WV},exit:XV,name:"list",tokenize:KV},GV={partial:!0,tokenize:QV},YV={partial:!0,tokenize:$V};function KV(t,e,n){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return f;function f(_){const S=i.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||_===i.containerState.marker:mg(_)){if(i.containerState.type||(i.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(nf,n,h)(_):h(_);if(!i.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(_)}return n(_)}function d(_){return mg(_)&&++u<10?(t.consume(_),d):(!i.interrupt||u<2)&&(i.containerState.marker?_===i.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),h(_)):n(_)}function h(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||_,t.check(rh,i.interrupt?n:p,t.attempt(GV,v,g))}function p(_){return i.containerState.initialBlankLine=!0,l++,v(_)}function g(_){return Ge(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),v):n(_)}function v(_){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function WV(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(rh,a,l);function a(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,st(t,e,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!Ge(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(YV,e,u)(f))}function u(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,st(t,t.attempt(un,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function $V(t,e,n){const i=this;return st(t,a,"listItemIndent",i.containerState.size+1);function a(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(l):n(l)}}function XV(t){t.exit(this.containerState.type)}function QV(t,e,n){const i=this;return st(t,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=i.events[i.events.length-1];return!Ge(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const gw={name:"setextUnderline",resolveTo:ZV,tokenize:JV};function ZV(t,e){let n=t.length,i,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",u,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function JV(t,e,n){const i=this;let a;return l;function l(h){let p=i.events.length,g;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){g=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(t.enter("setextHeadingLine"),a=h,u(h)):n(h)}function u(h){return t.enter("setextHeadingLineSequence"),f(h)}function f(h){return h===a?(t.consume(h),f):(t.exit("setextHeadingLineSequence"),Ge(h)?st(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||Ce(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const e8={tokenize:t8};function t8(t){const e=this,n=t.attempt(rh,i,t.attempt(this.parser.constructs.flowInitial,a,st(t,t.attempt(this.parser.constructs.flow,a,t.attempt(aV,a)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const n8={resolveAll:oR()},i8=aR("string"),r8=aR("text");function aR(t){return{resolveAll:oR(t==="text"?s8:void 0),tokenize:e};function e(n){const i=this,a=this.parser.constructs[t],l=n.attempt(a,u,f);return u;function u(p){return h(p)?l(p):f(p)}function f(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return h(p)?(n.exit("data"),l(p)):(n.consume(p),d)}function h(p){if(p===null)return!0;const g=a[p];let v=-1;if(g)for(;++v<g.length;){const _=g[v];if(!_.previous||_.previous.call(i,i.previous))return!0}return!1}}}function oR(t){return e;function e(n,i){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,i):n}}function s8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],a=e.sliceStream(i);let l=a.length,u=-1,f=0,d;for(;l--;){const h=a[l];if(typeof h=="string"){for(u=h.length;h.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(h===-2)d=!0,f++;else if(h!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const h={type:n===t.length||d||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const a8={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:JA},o8={91:fV},l8={[-2]:am,[-1]:am,32:am},u8={35:yV,42:nf,45:[gw,nf],60:xV,61:gw,95:nf,96:pw,126:pw},c8={38:tR,92:eR},f8={[-5]:om,[-4]:om,[-3]:om,33:zV,38:tR,42:gg,60:[VB,RV],91:VV,92:[mV,eR],93:mv,95:gg,96:eV},h8={null:[gg,n8]},d8={null:[42,95]},p8={null:[]},m8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:d8,contentInitial:o8,disable:p8,document:a8,flow:u8,flowInitial:l8,insideSpan:h8,string:c8,text:f8},Symbol.toStringTag,{value:"Module"}));function g8(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let u=[],f=[];const d={attempt:H(M),check:H(I),consume:k,enter:N,exit:K,interrupt:H(I,{interrupt:!0})},h={code:null,containerState:{},defineSkip:w,events:[],now:S,parser:t,previous:null,sliceSerialize:v,sliceStream:_,write:g};let p=e.tokenize.call(h,d);return e.resolveAll&&l.push(e),h;function g(W){return u=Hn(u,W),R(),u[u.length-1]!==null?[]:(G(e,0),h.events=pv(l,h.events,h),h.events)}function v(W,J){return v8(_(W),J)}function _(W){return y8(u,W)}function S(){const{_bufferIndex:W,_index:J,line:ce,column:ae,offset:oe}=i;return{_bufferIndex:W,_index:J,line:ce,column:ae,offset:oe}}function w(W){a[W.line]=W.column,ie()}function R(){let W;for(;i._index<u.length;){const J=u[i._index];if(typeof J=="string")for(W=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===W&&i._bufferIndex<J.length;)T(J.charCodeAt(i._bufferIndex));else T(J)}}function T(W){p=p(W)}function k(W){Ce(W)?(i.line++,i.column=1,i.offset+=W===-3?2:1,ie()):W!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=W}function N(W,J){const ce=J||{};return ce.type=W,ce.start=S(),h.events.push(["enter",ce,h]),f.push(ce),ce}function K(W){const J=f.pop();return J.end=S(),h.events.push(["exit",J,h]),J}function M(W,J){G(W,J.from)}function I(W,J){J.restore()}function H(W,J){return ce;function ce(ae,oe,j){let te,de,fe,b;return Array.isArray(ae)?$(ae):"tokenize"in ae?$([ae]):V(ae);function V(Q){return le;function le(ve){const Ve=ve!==null&&Q[ve],je=ve!==null&&Q.null,ot=[...Array.isArray(Ve)?Ve:Ve?[Ve]:[],...Array.isArray(je)?je:je?[je]:[]];return $(ot)(ve)}}function $(Q){return te=Q,de=0,Q.length===0?j:A(Q[de])}function A(Q){return le;function le(ve){return b=Z(),fe=Q,Q.partial||(h.currentConstruct=Q),Q.name&&h.parser.constructs.disable.null.includes(Q.name)?Ae():Q.tokenize.call(J?Object.assign(Object.create(h),J):h,d,L,Ae)(ve)}}function L(Q){return W(fe,b),oe}function Ae(Q){return b.restore(),++de<te.length?A(te[de]):j}}}function G(W,J){W.resolveAll&&!l.includes(W)&&l.push(W),W.resolve&&bi(h.events,J,h.events.length-J,W.resolve(h.events.slice(J),h)),W.resolveTo&&(h.events=W.resolveTo(h.events,h))}function Z(){const W=S(),J=h.previous,ce=h.currentConstruct,ae=h.events.length,oe=Array.from(f);return{from:ae,restore:j};function j(){i=W,h.previous=J,h.currentConstruct=ce,h.events.length=ae,f=oe,ie()}}function ie(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function y8(t,e){const n=e.start._index,i=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(i,l)];else{if(u=t.slice(n,a),i>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(i):u.shift()}l>0&&u.push(t[a].slice(0,l))}return u}function v8(t,e){let n=-1;const i=[];let a;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,i.push(u)}return i.join("")}function _8(t){const i={constructs:CB([m8,...(t||{}).extensions||[]]),content:a(MB),defined:[],document:a(LB),flow:a(e8),lazy:{},string:a(i8),text:a(r8)};return i;function a(l){return u;function u(f){return g8(i,l,f)}}}function b8(t){for(;!nR(t););return t}const yw=/[\0\t\n\r]/g;function x8(){let t=1,e="",n=!0,i;return a;function a(l,u,f){const d=[];let h,p,g,v,_;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),g=0,e="",n&&(l.charCodeAt(0)===65279&&g++,n=void 0);g<l.length;){if(yw.lastIndex=g,h=yw.exec(l),v=h&&h.index!==void 0?h.index:l.length,_=l.charCodeAt(v),!h){e=l.slice(g);break}if(_===10&&g===v&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),g<v&&(d.push(l.slice(g,v)),t+=v-g),_){case 0:{d.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,d.push(-2);t++<p;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:i=!0,t=1}g=v+1}return f&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const S8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w8(t){return t.replace(S8,E8)}function E8(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return ZA(n.slice(l?2:1),l?16:10)}return dv(n)||t}const lR={}.hasOwnProperty;function T8(t,e,n){return typeof e!="string"&&(n=e,e=void 0),C8(n)(b8(_8(n).document().write(x8()(t,e,!0))))}function C8(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ei),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:l(wi),blockQuote:l(je),characterEscape:Z,characterReference:Z,codeFenced:l(ot),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(ot,u),codeText:l(tn,u),codeTextData:Z,data:Z,codeFlowValue:Z,definition:l(gn),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(nn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(Ut,u),htmlFlowData:Z,htmlText:l(Ut,u),htmlTextData:Z,image:l(tr),label:u,link:l(Ei),listItem:l(Yn),listItemValue:v,listOrdered:l(Ti,g),listUnordered:l(Ti),paragraph:l(se),reference:A,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(wi),strong:l(_e),thematicBreak:l(Re)},exit:{atxHeading:d(),atxHeadingSequence:M,autolink:d(),autolinkEmail:Ve,autolinkProtocol:ve,blockQuote:d(),characterEscapeValue:ie,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:Q,characterReference:le,codeFenced:d(R),codeFencedFence:w,codeFencedFenceInfo:_,codeFencedFenceMeta:S,codeFlowValue:ie,codeIndented:d(T),codeText:d(oe),codeTextData:ie,data:ie,definition:d(),definitionDestinationString:K,definitionLabelString:k,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(J),hardBreakTrailing:d(J),htmlFlow:d(ce),htmlFlowData:ie,htmlText:d(ae),htmlTextData:ie,image:d(te),label:fe,labelText:de,lineEnding:W,link:d(j),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:L,resourceDestinationString:b,resourceTitleString:V,resource:$,setextHeading:d(G),setextHeadingLineSequence:H,setextHeadingText:I,strong:d(),thematicBreak:d()}};uR(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(q){let ne={type:"root",children:[]};const pe={stack:[ne],tokenStack:[],config:e,enter:f,exit:h,buffer:u,resume:p,data:n},ge=[];let ke=-1;for(;++ke<q.length;)if(q[ke][1].type==="listOrdered"||q[ke][1].type==="listUnordered")if(q[ke][0]==="enter")ge.push(ke);else{const xt=ge.pop();ke=a(q,xt,ke)}for(ke=-1;++ke<q.length;){const xt=e[q[ke][0]];lR.call(xt,q[ke][1].type)&&xt[q[ke][1].type].call(Object.assign({sliceSerialize:q[ke][2].sliceSerialize},pe),q[ke][1])}if(pe.tokenStack.length>0){const xt=pe.tokenStack[pe.tokenStack.length-1];(xt[1]||vw).call(pe,void 0,xt[0])}for(ne.position={start:Cr(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:Cr(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<e.transforms.length;)ne=e.transforms[ke](ne)||ne;return ne}function a(q,ne,pe){let ge=ne-1,ke=-1,xt=!1,Gt,Rt,li,yn;for(;++ge<=pe;){const kt=q[ge];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?ke++:ke--,yn=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&(Gt&&!yn&&!ke&&!li&&(li=ge),yn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yn=void 0}if(!ke&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||ke===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if(Gt){let Nn=ge;for(Rt=void 0;Nn--;){const Kn=q[Nn];if(Kn[1].type==="lineEnding"||Kn[1].type==="lineEndingBlank"){if(Kn[0]==="exit")continue;Rt&&(q[Rt][1].type="lineEndingBlank",xt=!0),Kn[1].type="lineEnding",Rt=Nn}else if(!(Kn[1].type==="linePrefix"||Kn[1].type==="blockQuotePrefix"||Kn[1].type==="blockQuotePrefixWhitespace"||Kn[1].type==="blockQuoteMarker"||Kn[1].type==="listItemIndent"))break}li&&(!Rt||li<Rt)&&(Gt._spread=!0),Gt.end=Object.assign({},Rt?q[Rt][1].start:kt[1].end),q.splice(Rt||ge,0,["exit",Gt,kt[2]]),ge++,pe++}if(kt[1].type==="listItemPrefix"){const Nn={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};Gt=Nn,q.splice(ge,0,["enter",Nn,kt[2]]),ge++,pe++,li=void 0,yn=!0}}}return q[ne][1]._spread=xt,pe}function l(q,ne){return pe;function pe(ge){f.call(this,q(ge),ge),ne&&ne.call(this,ge)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(q,ne,pe){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([ne,pe||void 0]),q.position={start:Cr(ne.start),end:void 0}}function d(q){return ne;function ne(pe){q&&q.call(this,pe),h.call(this,pe)}}function h(q,ne){const pe=this.stack.pop(),ge=this.tokenStack.pop();if(ge)ge[0].type!==q.type&&(ne?ne.call(this,q,ge[0]):(ge[1]||vw).call(this,q,ge[0]));else throw new Error("Cannot close `"+q.type+"` ("+Ml({start:q.start,end:q.end})+"): it’s not open");pe.position.end=Cr(q.end)}function p(){return EB(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(q){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function _(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=q}function S(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=q}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q.replace(/(\r?\n|\r)$/g,"")}function k(q){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=Ua(this.sliceSerialize(q)).toLowerCase()}function N(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=q}function K(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=q}function M(q){const ne=this.stack[this.stack.length-1];if(!ne.depth){const pe=this.sliceSerialize(q).length;ne.depth=pe}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function H(q){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(q){const pe=this.stack[this.stack.length-1].children;let ge=pe[pe.length-1];(!ge||ge.type!=="text")&&(ge=Ne(),ge.position={start:Cr(q.start),end:void 0},pe.push(ge)),this.stack.push(ge)}function ie(q){const ne=this.stack.pop();ne.value+=this.sliceSerialize(q),ne.position.end=Cr(q.end)}function W(q){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=ne.children[ne.children.length-1];pe.position.end=Cr(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(Z.call(this,q),ie.call(this,q))}function J(){this.data.atHardBreak=!0}function ce(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q}function ae(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q}function oe(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=q}function j(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ne,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function te(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ne,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function de(q){const ne=this.sliceSerialize(q),pe=this.stack[this.stack.length-2];pe.label=w8(ne),pe.identifier=Ua(ne).toLowerCase()}function fe(){const q=this.stack[this.stack.length-1],ne=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const ge=q.children;pe.children=ge}else pe.alt=ne}function b(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=q}function V(){const q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=q}function $(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function L(q){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=Ua(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function Ae(q){this.data.characterReferenceType=q.type}function Q(q){const ne=this.sliceSerialize(q),pe=this.data.characterReferenceType;let ge;pe?(ge=ZA(ne,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ge=dv(ne);const ke=this.stack[this.stack.length-1];ke.value+=ge}function le(q){const ne=this.stack.pop();ne.position.end=Cr(q.end)}function ve(q){ie.call(this,q);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(q)}function Ve(q){ie.call(this,q);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(q)}function je(){return{type:"blockquote",children:[]}}function ot(){return{type:"code",lang:null,meta:null,value:""}}function tn(){return{type:"inlineCode",value:""}}function gn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nn(){return{type:"emphasis",children:[]}}function wi(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function Ut(){return{type:"html",value:""}}function tr(){return{type:"image",title:null,url:"",alt:null}}function Ei(){return{type:"link",title:null,url:"",children:[]}}function Ti(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function Yn(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function _e(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function Re(){return{type:"thematicBreak"}}}function Cr(t){return{line:t.line,column:t.column,offset:t.offset}}function uR(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?uR(t,i):A8(t,i)}}function A8(t,e){let n;for(n in e)if(lR.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function vw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ml({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ml({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ml({start:e.start,end:e.end})+") is still open")}function R8(t){const e=this;e.parser=n;function n(i){return T8(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function k8(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function N8(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function I8(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function D8(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function O8(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function M8(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),a=uo(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let u,f=t.footnoteCounts.get(i);f===void 0?(f=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=l+1,f+=1,t.footnoteCounts.set(i,f);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,h),t.applyData(e,h)}function P8(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function L8(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function cR(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const a=t.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=i:a.push({type:"text",value:i}),a}function j8(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return cR(t,e);const a={src:uo(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,l),t.applyData(e,l)}function U8(t,e){const n={src:uo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function z8(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function B8(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return cR(t,e);const a={href:uo(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function V8(t,e){const n={href:uo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function H8(t,e,n){const i=t.all(e),a=n?F8(n):fR(e),l={},u=[];if(typeof e.checked=="boolean"){const p=i[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},i.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const p=i[f];(a||f!==0||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!a?u.push(...p.children):u.push(p)}const d=i[i.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,h),t.applyData(e,h)}function F8(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=fR(n[i])}return e}function fR(t){const e=t.spread;return e??t.children.length>1}function q8(t,e){const n={},i=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<i.length;){const u=i[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function G8(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Y8(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function K8(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function W8(t,e){const n=t.all(e),i=n.shift(),a=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=uv(e.children[1]),d=GA(e.children[e.children.length-1]);f&&d&&(u.position={start:f,end:d}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function $8(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let d=-1;const h=[];for(;++d<f;){const g=e.children[d],v={},_=u?u[d]:void 0;_&&(v.align=_);let S={type:"element",tagName:l,properties:v,children:[]};g&&(S.children=t.all(g),t.patch(g,S),S=t.applyData(g,S)),h.push(S)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,p),t.applyData(e,p)}function X8(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const _w=9,bw=32;function Q8(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),a=0;const l=[];for(;i;)l.push(xw(e.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(e);return l.push(xw(e.slice(a),a>0,!1)),l.join("")}function xw(t,e,n){let i=0,a=t.length;if(e){let l=t.codePointAt(i);for(;l===_w||l===bw;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(a-1);for(;l===_w||l===bw;)a--,l=t.codePointAt(a-1)}return a>i?t.slice(i,a):""}function Z8(t,e){const n={type:"text",value:Q8(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function J8(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const eH={blockquote:k8,break:N8,code:I8,delete:D8,emphasis:O8,footnoteReference:M8,heading:P8,html:L8,imageReference:j8,image:U8,inlineCode:z8,linkReference:B8,link:V8,listItem:H8,list:q8,paragraph:G8,root:Y8,strong:K8,table:W8,tableCell:X8,tableRow:$8,text:Z8,thematicBreak:J8,toml:Vc,yaml:Vc,definition:Vc,footnoteDefinition:Vc};function Vc(){}const hR=-1,sh=0,Ll=1,Of=2,gv=3,yv=4,vv=5,_v=6,dR=7,pR=8,Sw=typeof self=="object"?self:globalThis,tH=(t,e)=>{const n=(a,l)=>(t.set(l,a),a),i=a=>{if(t.has(a))return t.get(a);const[l,u]=e[a];switch(l){case sh:case hR:return n(u,a);case Ll:{const f=n([],a);for(const d of u)f.push(i(d));return f}case Of:{const f=n({},a);for(const[d,h]of u)f[i(d)]=i(h);return f}case gv:return n(new Date(u),a);case yv:{const{source:f,flags:d}=u;return n(new RegExp(f,d),a)}case vv:{const f=n(new Map,a);for(const[d,h]of u)f.set(i(d),i(h));return f}case _v:{const f=n(new Set,a);for(const d of u)f.add(i(d));return f}case dR:{const{name:f,message:d}=u;return n(new Sw[f](d),a)}case pR:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new Sw[l](u),a)};return i},ww=t=>tH(new Map,t)(0),wa="",{toString:nH}={},{keys:iH}=Object,vl=t=>{const e=typeof t;if(e!=="object"||!t)return[sh,e];const n=nH.call(t).slice(8,-1);switch(n){case"Array":return[Ll,wa];case"Object":return[Of,wa];case"Date":return[gv,wa];case"RegExp":return[yv,wa];case"Map":return[vv,wa];case"Set":return[_v,wa];case"DataView":return[Ll,n]}return n.includes("Array")?[Ll,n]:n.includes("Error")?[dR,n]:[Of,n]},Hc=([t,e])=>t===sh&&(e==="function"||e==="symbol"),rH=(t,e,n,i)=>{const a=(u,f)=>{const d=i.push(u)-1;return n.set(f,d),d},l=u=>{if(n.has(u))return n.get(u);let[f,d]=vl(u);switch(f){case sh:{let p=u;switch(d){case"bigint":f=pR,p=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return a([hR],u)}return a([f,p],u)}case Ll:{if(d){let v=u;return d==="DataView"?v=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(u)),a([d,[...v]],u)}const p=[],g=a([f,p],u);for(const v of u)p.push(l(v));return g}case Of:{if(d)switch(d){case"BigInt":return a([d,u.toString()],u);case"Boolean":case"Number":case"String":return a([d,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const p=[],g=a([f,p],u);for(const v of iH(u))(t||!Hc(vl(u[v])))&&p.push([l(v),l(u[v])]);return g}case gv:return a([f,u.toISOString()],u);case yv:{const{source:p,flags:g}=u;return a([f,{source:p,flags:g}],u)}case vv:{const p=[],g=a([f,p],u);for(const[v,_]of u)(t||!(Hc(vl(v))||Hc(vl(_))))&&p.push([l(v),l(_)]);return g}case _v:{const p=[],g=a([f,p],u);for(const v of u)(t||!Hc(vl(v)))&&p.push(l(v));return g}}const{message:h}=u;return a([f,{name:d,message:h}],u)};return l},Ew=(t,{json:e,lossy:n}={})=>{const i=[];return rH(!(e||n),!!e,new Map,i)(t),i},Mf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ww(Ew(t,e)):structuredClone(t):(t,e)=>ww(Ew(t,e));function sH(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function aH(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function oH(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||sH,i=t.options.footnoteBackLabel||aH,a=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let d=-1;for(;++d<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[d]);if(!h)continue;const p=t.all(h),g=String(h.identifier).toUpperCase(),v=uo(g.toLowerCase());let _=0;const S=[],w=t.footnoteCounts.get(g);for(;w!==void 0&&++_<=w;){S.length>0&&S.push({type:"text",value:" "});let k=typeof n=="string"?n:n(d,_);typeof k=="string"&&(k={type:"text",value:k}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,_),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const R=p[p.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const k=R.children[R.children.length-1];k&&k.type==="text"?k.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...S)}else p.push(...S);const T={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(p,!0)};t.patch(h,T),f.push(T)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Mf(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const mR=function(t){if(t==null)return fH;if(typeof t=="function")return ah(t);if(typeof t=="object")return Array.isArray(t)?lH(t):uH(t);if(typeof t=="string")return cH(t);throw new Error("Expected function, string, or object as test")};function lH(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=mR(t[n]);return ah(i);function i(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function uH(t){const e=t;return ah(n);function n(i){const a=i;let l;for(l in t)if(a[l]!==e[l])return!1;return!0}}function cH(t){return ah(e);function e(n){return n&&n.type===t}}function ah(t){return e;function e(n,i,a){return!!(hH(n)&&t.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function fH(){return!0}function hH(t){return t!==null&&typeof t=="object"&&"type"in t}const gR=[],dH=!0,Tw=!1,pH="skip";function mH(t,e,n,i){let a;typeof e=="function"&&typeof n!="function"?(i=n,n=e):a=e;const l=mR(a),u=i?-1:1;f(t,void 0,[])();function f(d,h,p){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const _=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(_?"<"+_+">":""))+")"})}return v;function v(){let _=gR,S,w,R;if((!e||l(d,h,p[p.length-1]||void 0))&&(_=gH(n(d,p)),_[0]===Tw))return _;if("children"in d&&d.children){const T=d;if(T.children&&_[0]!==pH)for(w=(i?T.children.length:-1)+u,R=p.concat(T);w>-1&&w<T.children.length;){const k=T.children[w];if(S=f(k,w,R)(),S[0]===Tw)return S;w=typeof S[1]=="number"?S[1]:w+u}}return _}}}function gH(t){return Array.isArray(t)?t:typeof t=="number"?[dH,t]:t==null?gR:[t]}function yR(t,e,n,i){let a,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,a=n):(l=e,u=n,a=i),mH(t,l,f,a);function f(d,h){const p=h[h.length-1],g=p?p.children.indexOf(d):void 0;return u(d,g,p)}}const yg={}.hasOwnProperty,yH={};function vH(t,e){const n=e||yH,i=new Map,a=new Map,l=new Map,u={...eH,...n.handlers},f={all:h,applyData:bH,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:d,options:n,patch:_H,wrap:SH};return yR(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?i:a,v=String(p.identifier).toUpperCase();g.has(v)||g.set(v,p)}}),f;function d(p,g){const v=p.type,_=f.handlers[v];if(yg.call(f.handlers,v)&&_)return _(f,p,g);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in p){const{children:w,...R}=p,T=Mf(R);return T.children=f.all(p),T}return Mf(p)}return(f.options.unknownHandler||xH)(f,p,g)}function h(p){const g=[];if("children"in p){const v=p.children;let _=-1;for(;++_<v.length;){const S=f.one(v[_],p);if(S){if(_&&v[_-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Cw(S.value)),!Array.isArray(S)&&S.type==="element")){const w=S.children[0];w&&w.type==="text"&&(w.value=Cw(w.value))}Array.isArray(S)?g.push(...S):g.push(S)}}}return g}}function _H(t,e){t.position&&(e.position=nB(t))}function bH(t,e){let n=e;if(t&&t.data){const i=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Mf(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function xH(t,e){const n=e.data||{},i="value"in e&&!(yg.call(n,"hProperties")||yg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function SH(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Cw(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Aw(t,e){const n=vH(t,e),i=n.one(t,void 0),a=oH(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function wH(t,e){return t&&"run"in t?async function(n,i){const a=Aw(n,{file:i,...e});await t.run(a,i)}:function(n,i){return Aw(n,{file:i,...t||e})}}function Rw(t){if(t)throw t}var lm,kw;function EH(){if(kw)return lm;kw=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},l=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var p=t.call(h,"constructor"),g=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!g)return!1;var v;for(v in h);return typeof v>"u"||t.call(h,v)},u=function(h,p){n&&p.name==="__proto__"?n(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},f=function(h,p){if(p==="__proto__")if(t.call(h,p)){if(i)return i(h,p).value}else return;return h[p]};return lm=function d(){var h,p,g,v,_,S,w=arguments[0],R=1,T=arguments.length,k=!1;for(typeof w=="boolean"&&(k=w,w=arguments[1]||{},R=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});R<T;++R)if(h=arguments[R],h!=null)for(p in h)g=f(w,p),v=f(h,p),w!==v&&(k&&v&&(l(v)||(_=a(v)))?(_?(_=!1,S=g&&a(g)?g:[]):S=g&&l(g)?g:{},u(w,{name:p,newValue:d(k,S,v)})):typeof v<"u"&&u(w,{name:p,newValue:v}));return w},lm}var TH=EH();const um=nu(TH);function vg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function CH(){const t=[],e={run:n,use:i};return e;function n(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...a);function f(d,...h){const p=t[++l];let g=-1;if(d){u(d);return}for(;++g<a.length;)(h[g]===null||h[g]===void 0)&&(h[g]=a[g]);a=h,p?AH(p,f)(...h):u(null,...h)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function AH(t,e){let n;return i;function i(...u){const f=t.length>u.length;let d;f&&u.push(a);try{d=t.apply(this,u)}catch(h){const p=h;if(f&&n)throw p;return a(p)}f||(d&&d.then&&typeof d.then=="function"?d.then(l,a):d instanceof Error?a(d):l(d))}function a(u,...f){n||(n=!0,e(u,...f))}function l(u){a(null,u)}}const pi={basename:RH,dirname:kH,extname:NH,join:IH,sep:"/"};function RH(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');xu(t);let n=0,i=-1,a=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,f=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else u<0&&(l=!0,u=a+1),f>-1&&(t.codePointAt(a)===e.codePointAt(f--)?f<0&&(i=a):(f=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function kH(t){if(xu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function NH(t){xu(t);let e=t.length,n=-1,i=0,a=-1,l=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===i+1?"":t.slice(a,n)}function IH(...t){let e=-1,n;for(;++e<t.length;)xu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":DH(n)}function DH(t){xu(t);const e=t.codePointAt(0)===47;let n=OH(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function OH(t,e){let n="",i=0,a=-1,l=0,u=-1,f,d;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),a=u,l=0;continue}}else if(n.length>0){n="",i=0,a=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),i=u-a-1;a=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function xu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const MH={cwd:PH};function PH(){return"/"}function _g(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function LH(t){if(typeof t=="string")t=new URL(t);else if(!_g(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return jH(t)}function jH(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const cm=["history","path","basename","stem","extname","dirname"];class vR{constructor(e){let n;e?_g(e)?n={path:e}:typeof e=="string"||UH(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":MH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<cm.length;){const l=cm[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)cm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?pi.basename(this.path):void 0}set basename(e){hm(e,"basename"),fm(e,"basename"),this.path=pi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?pi.dirname(this.path):void 0}set dirname(e){Nw(this.basename,"dirname"),this.path=pi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?pi.extname(this.path):void 0}set extname(e){if(fm(e,"extname"),Nw(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){_g(e)&&(e=LH(e)),hm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?pi.basename(this.path,this.extname):void 0}set stem(e){hm(e,"stem"),fm(e,"stem"),this.path=pi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const a=this.message(e,n,i);throw a.fatal=!0,a}info(e,n,i){const a=this.message(e,n,i);return a.fatal=void 0,a}message(e,n,i){const a=new Xt(e,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function fm(t,e){if(t&&t.includes(pi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+pi.sep+"`")}function hm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Nw(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function UH(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zH=function(t){const i=this.constructor.prototype,a=i[t],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},BH={}.hasOwnProperty;class bv extends zH{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=CH()}copy(){const e=new bv;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(um(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(mm("data",this.frozen),this.namespace[e]=n,this):BH.call(this.namespace,e)&&this.namespace[e]||void 0:e?(mm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(e,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Fc(e),i=this.parser||this.Parser;return dm("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),dm("process",this.parser||this.Parser),pm("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,u){const f=Fc(e),d=i.parse(f);i.run(d,f,function(p,g,v){if(p||!g||!v)return h(p);const _=g,S=i.stringify(_,v);FH(S)?v.value=S:v.result=S,h(p,v)});function h(p,g){p||!g?u(p):l?l(g):n(void 0,g)}}}processSync(e){let n=!1,i;return this.freeze(),dm("processSync",this.parser||this.Parser),pm("processSync",this.compiler||this.Compiler),this.process(e,a),Dw("processSync","process",n),i;function a(l,u){n=!0,Rw(l),i=u}}run(e,n,i){Iw(e),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(u,f){const d=Fc(n);a.run(e,d,h);function h(p,g,v){const _=g||e;p?f(p):u?u(_):i(void 0,_,v)}}}runSync(e,n){let i=!1,a;return this.run(e,n,l),Dw("runSync","run",i),a;function l(u,f){Rw(u),a=f,i=!0}}stringify(e,n){this.freeze();const i=Fc(n),a=this.compiler||this.Compiler;return pm("stringify",a),Iw(e),a(e,i)}use(e,...n){const i=this.attachers,a=this.namespace;if(mm("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[p,...g]=h;d(p,g)}else u(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function u(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(h.plugins),h.settings&&(a.settings=um(!0,a.settings,h.settings))}function f(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){const g=h[p];l(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,p){let g=-1,v=-1;for(;++g<i.length;)if(i[g][0]===h){v=g;break}if(v===-1)i.push([h,...p]);else if(p.length>0){let[_,...S]=p;const w=i[v][1];vg(w)&&vg(_)&&(_=um(!0,w,_)),i[v]=[h,_,...S]}}}}const VH=new bv().freeze();function dm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function pm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function mm(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Iw(t){if(!vg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Dw(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Fc(t){return HH(t)?t:new vR(t)}function HH(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function FH(t){return typeof t=="string"||qH(t)}function qH(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const GH="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ow=[],Mw={allowDangerousHtml:!0},YH=/^(https?|ircs?|mailto|xmpp)$/i,KH=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function WH(t){const e=$H(t),n=XH(t);return QH(e.runSync(e.parse(n),n),t)}function $H(t){const e=t.rehypePlugins||Ow,n=t.remarkPlugins||Ow,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Mw}:Mw;return VH().use(R8).use(n).use(wH,i).use(e)}function XH(t){const e=t.children||"",n=new vR;return typeof e=="string"&&(n.value=e),n}function QH(t,e){const n=e.allowedElements,i=e.allowElement,a=e.components,l=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,d=e.urlTransform||ZH;for(const p of KH)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+GH+p.id,void 0);return yR(t,h),oB(t,{Fragment:C.Fragment,components:a,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function h(p,g,v){if(p.type==="raw"&&v&&typeof g=="number")return u?v.children.splice(g,1):v.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let _;for(_ in sm)if(Object.hasOwn(sm,_)&&Object.hasOwn(p.properties,_)){const S=p.properties[_],w=sm[_];(w===null||w.includes(p.tagName))&&(p.properties[_]=d(String(S||""),_,p))}}if(p.type==="element"){let _=n?!n.includes(p.tagName):l?l.includes(p.tagName):!1;if(!_&&i&&typeof g=="number"&&(_=!i(p,g,v)),_&&v&&typeof g=="number")return f&&p.children?v.children.splice(g,1,...p.children):v.children.splice(g,1),g}}}function ZH(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||i!==-1&&e>i||YH.test(t.slice(0,e))?t:""}function JH({title:t,description:e,tags:n,link:i,repo:a,progress:l,fullText:u="",lastUpdated:f}){const[d,h]=O.useState(!1),p=u.split(/\r?\n/).filter(g=>!/^title:\s+/i.test(g.trim())).join(`
`);return C.jsxs(C.Fragment,{children:[C.jsx(Or.div,{whileHover:{y:-4},className:"bg-white bg-opacity-5 backdrop-blur-md rounded-xl overflow-hidden shadow-lg border border-white/10 hover:shadow-2xl cursor-pointer transition-all relative",onClick:()=>h(!0),children:C.jsxs("div",{className:"p-5 space-y-4",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h3",{className:"text-lg font-bold text-white",children:t}),a&&C.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:C.jsx(xz,{className:"w-5 h-5 text-white hover:text-gray-300"})})]}),C.jsx("p",{className:"text-white text-sm line-clamp-2 min-h-[40px]",children:e}),C.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((g,v)=>C.jsx("span",{className:"text-xs text-white bg-white/10 px-2 py-1 rounded",children:g},v))}),l&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden mt-2",children:C.jsx("div",{className:"h-full bg-[#bfa382] transition-all duration-500",style:{width:`${Math.round(l.solved/l.total*100)}%`}})}),C.jsxs("p",{className:"text-xs text-white text-right mt-1",children:[l.solved," / ",l.total," days logged"]})]})]})}),d&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>h(!1),children:C.jsxs("div",{className:"bg-white bg-opacity-10 border border-white/20 rounded-lg p-6 w-full max-w-3xl max-h-[80vh] overflow-y-auto text-white",onClick:g=>g.stopPropagation(),children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("h2",{className:"text-lg font-bold text-[#bfa382]",children:[t,"'s Log"]}),C.jsx("button",{onClick:()=>h(!1),className:"text-white text-sm hover:underline",children:"Close"})]}),C.jsx("div",{className:"prose prose-invert max-w-none leading-relaxed [&_h1]:text-white [&_h2]:text-[#bfa382] [&_h3]:text-white [&_h1:first-child]:hidden",children:C.jsx(WH,{children:p})}),C.jsxs("div",{className:"text-xs text-right text-white/50 mt-6",children:["Last updated: ",f||"N/A"]})]})})]})}const Pw=Array.from({length:27},(t,e)=>({title:`Problem ${e+1}`,description:`This is a short description for problem ${e+1}.`,tags:["dp","graph","math"].slice(0,e%3+1)}));function e9(){const{backgroundElement:t}=er(),{projectName:e}=_I(),n=Hr(),[i,a]=O.useState(0),l=9,u=Math.ceil(Pw.length/l),f=i*l,d=Pw.slice(f,f+l),h=()=>a(g=>(g+1)%u),p=()=>a(g=>(g-1+u)%u);return C.jsxs("div",{className:"fixed inset-0 z-50",children:[C.jsx("div",{className:"absolute inset-0 -z-10",children:t}),C.jsxs(Or.div,{layoutId:`project-card-${e}`,className:"absolute inset-0 bg-black/30 rounded-2xl overflow-hidden backdrop-blur-sm",transition:{duration:.45,ease:[.4,0,.2,1]},children:[C.jsxs(Or.div,{className:"flex h-full",initial:{opacity:0},animate:{opacity:1},transition:{delay:.25,duration:.3},children:[C.jsxs("div",{className:"w-64 bg-[rgba(0,0,0,0.4)] backdrop-blur-md border-r shadow-inner border-white/10 p-4",children:[C.jsxs("p",{className:"text-[#bfa382] font-semibold mb-4",children:["Project: ",e]}),C.jsxs("ul",{className:"space-y-2 text-sm",children:[C.jsx("li",{className:"hover:bg-white/10 px-3 py-1 rounded cursor-pointer",children:"分類 1"}),C.jsx("li",{className:"hover:bg-white/10 px-3 py-1 rounded cursor-pointer",children:"分類 2"})]})]}),C.jsxs("div",{className:"flex-1 p-6 overflow-y-auto relative",children:[C.jsx("h1",{className:"text-3xl font-bold mb-6",children:e}),C.jsx("button",{onClick:p,className:"absolute -left-6 top-1/2 -translate-y-1/2 z-20 bg-black/40 hover:bg-black/60 border border-white/20 w-10 h-10 flex items-center justify-center rounded-full text-white shadow-lg transition",children:"←"}),C.jsx("button",{onClick:h,className:"absolute -right-6 top-1/2 -translate-y-1/2 z-20 bg-black/40 hover:bg-black/60 border border-white/20 w-10 h-10 flex items-center justify-center rounded-full text-white shadow-lg transition",children:"→"}),C.jsx(Xy,{mode:"wait",children:C.jsx(Or.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"grid grid-cols-3 gap-6",children:d.map((g,v)=>C.jsx(JH,{title:g.title,description:g.description,tags:g.tags},v))},i)})]}),C.jsx("div",{className:"w-80 bg-[rgba(0,0,0,0.35)] backdrop-blur-md shadow-inner border-l border-white/10 p-4",children:C.jsx("p",{className:"text-gray-400",children:"AI Panel 預留"})})]}),C.jsx(Or.button,{onClick:()=>n("/projects"),className:"absolute top-4 right-4 text-gray-400 hover:text-white z-50",initial:{opacity:0},animate:{opacity:1},transition:{delay:.35,duration:.2},children:"✕"})]})]})}const t9=({title:t,tech:e,tags:n,description:i,codeLink:a,onClick:l,progress:u})=>C.jsxs("div",{onClick:l,className:"cursor-pointer bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow-md",children:C.jsx("img",{src:`/icons/${e.toLowerCase()}.png`,alt:e,className:"w-6 h-6 object-contain"})}),C.jsx("h2",{className:"text-xl font-bold text-white",children:t}),typeof u=="object"&&C.jsx(jA,{solved:u.solved,total:u.total})]}),C.jsx("p",{className:"text-sm text-gray-300",children:i}),C.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.map((f,d)=>C.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:f},d))}),C.jsx("div",{className:"pt-2",children:C.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white hover:underline",children:"🔗 View Code"})})]}),n9=({open:t,onClose:e,title:n,tech:i,tags:a,description:l,reflection:u,codeLink:f,resultImage:d})=>t?C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-black/90 text-white p-6 rounded-2xl w-full max-w-2xl shadow-xl relative animate-fade-in space-y-6 overflow-y-auto max-h-[90vh]",children:[C.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-white text-xl",onClick:e,children:"×"}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow",children:C.jsx("img",{src:`/icons/${i.toLowerCase()}.png`,alt:i,className:"w-6 h-6 object-contain"})}),C.jsx("h2",{className:"text-2xl font-bold text-[#f9f6f1]",children:n})]}),C.jsx("p",{className:"text-sm text-gray-300",children:l}),d&&C.jsx("img",{src:d,alt:"Result Preview",className:"w-full rounded-lg border border-white/10"}),u&&C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold text-white/90 mb-1",children:"💭 Reflection"}),C.jsx("p",{className:"text-sm text-gray-400 leading-relaxed whitespace-pre-line",children:u})]}),C.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-[#bfa382]",children:a.map((h,p)=>C.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:h},p))}),C.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-sm text-[#bfa382] hover:underline",children:"🔗 View Code"})]})}):null,i9=()=>{const{backgroundElement:t}=er(),[e,n]=O.useState(null),i=[{title:"Sobel Filter",tech:"CUDA",tags:["CUDA","Shared Memory","Edge Detection"],description:"Use shared memory to optimize image edge detection using a 5x5 Sobel kernel.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/cuda/sobel",reflection:`這次是我第一次實際上手優化 CUDA 程式，整體走過從 host 傳資料到 device、啟動 kernel、再把資料從 device 傳回 host 的完整流程，讓我對 CUDA 的標準作業順序更加熟悉。

      其中一個收穫是學會如何將不變的 Sobel mask 資料使用 __constant__ 宣告，這樣能夠將其存在 constant memory 中，讓所有 threads 以快取方式存取，減少 global memory 存取開銷。

      這次也遇到幾個明確的錯誤與調整：
      - 一開始 kernel 啟動時，誤把 gridDim 和 blockDim 寫反
      - 邊界處理沒考慮周全，導致輸出圖像邊緣異常
      - 嘗試使用 shared memory 作為鄰近資料暫存，有效減少了重複讀取`,resultImage:"/images/sobel-output.png"},{title:"Bitonic Sort",tech:"MPI",tags:["MPI","Scatter","Parallel Sort"],description:"Parallel sort using MPI scatter/gather with compare-exchange logic.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/mpi/bitonic-sort"},{title:"MNIST Inference",tech:"OpenACC",tags:["OpenACC","Neural Network","GPU"],description:"Accelerated MNIST digit classification using OpenACC for dense layer ops.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/openacc/mnist-inference"},{title:"MPI Exercises",tech:"MPI",tags:["MPI","Point-to-Point","Collective","Topology"],description:"Practice real MPI examples from ANL’s tutorial: Ring, Pi, PingPong and more — all tested and documented by me.",codeLink:"/notes/mpi",progress:{solved:4,total:22}}];return C.jsxs("div",{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen",children:[t,C.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[C.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"HPC 練習紀錄"}),C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.map((a,l)=>C.jsx(t9,{...a,onClick:()=>n(a)},l)),e&&C.jsx(n9,{open:!0,onClose:()=>n(null),title:e.title,tech:e.tech,tags:e.tags,description:e.description,codeLink:e.codeLink,reflection:e.reflection,resultImage:e.resultImage})]})]})]})},r9=()=>{const t=xi(),e=[{name:"首頁",path:"/"},{name:"聊天室",path:"/chat"},{name:"作品集",path:"/projects"},{name:"關於我",path:"/about"}];return C.jsx("nav",{className:"fixed top-0 left-0 z-50 w-full transition-all duration-300 opacity-0 -translate-y-6 hover:opacity-100 hover:translate-y-0 bg-black/40 backdrop-blur-md border-b border-white/10 shadow-sm",children:C.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-8 py-3 flex justify-between items-center text-white",children:[C.jsx("div",{className:"font-bold text-lg tracking-wide",children:"夜の技術帖"}),C.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base font-zen",children:e.map(n=>C.jsx("li",{children:C.jsx(su,{to:n.path,className:`px-3 py-1 rounded-xl transition-all duration-200 ${t.pathname===n.path?"bg-[#bfa382] text-white":"hover:bg-white/10"}`,children:n.name})},n.path))})]})})},_R=[{id:"point-to-point",title:"Point-to-Point Communication",description:"Basic MPI_Send and MPI_Recv communication patterns",exercises:[{id:"ring",title:"Ring Communication",tags:["MPI","SendRecv","Topology"],solved:!0,reflection:`這題是我第一次實作 MPI 的點對點通訊，使用 MPI_Send 和 MPI_Recv 模擬環狀訊息傳遞。
  
  一開始我沒有考慮 rank=0 要從 rank=n-1 接收的特殊情況，導致 deadlock，後來透過先設定 next / prev 並先後執行 send/recv 解決了這問題。
  
  這題也讓我開始理解 process 間如何「傳」與「等」，以及 blocking 與非 blocking 的差別。
  
  我覺得這題很適合當作 MPI 新手的第一題，邏輯上不難但踩雷點很真實。`,concepts:[],codeLink:"https://github.com/你的帳號/你的repo/mpi/ring",path:"/notes/mpi/ring"},{id:"pi",title:"Approximating Pi with MPI_Reduce",tags:["MPI","Reduction","Numerical Integration"],solved:!0,reflection:`這題其實讓我卡最久的地方不是程式，而是數學。
  
  原來 ( int_0^1 \frac{4}{1+x^2} dx = pi ) 是可以透過三角代換的，設 ( x = 	an	heta ) 就能化為 arc tangent。
  雖然平常算題目都背起來了，但這次從頭推導才真正理解它背後為什麼會等於 pi。
  
  在 MPI 部分，這題讓我熟悉了 MPI_Reduce 的用法：每個 process 計算自己區段的面積，最後透過 reduce 操作累加所有結果，最終在 root process 得到 pi 的近似值。
  
  整體來說是一題程式簡單、數學有料的小品題，很適合補足自己積分直覺與 collective 操作概念。`,concepts:[{title:"為什麼 ∫ 4/(1+x²) dx = π？",content:"因為 4 / (1 + x²) 是 arctangent 的微分，這題實際上是在積出 tan⁻¹(x) 的面積。"},{title:"MPI_Reduce 的用途與使用範例",content:`MPI_Reduce 可以讓多個 process 的結果彙總至 root，適合做總和、最大值等聚合運算。
常見用法為：
MPI_Reduce(&local_result, &global_result, 1, MPI_DOUBLE, MPI_SUM, 0, MPI_COMM_WORLD);`}],codeLink:"https://github.com/你的帳號/你的repo/mpi/pi",path:"/notes/mpi/pi"}]}],s9=()=>C.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[C.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:"技術筆記總覽"}),_R.map(t=>C.jsxs("div",{className:"mb-10",children:[C.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:t.title}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.exercises.map(e=>C.jsxs(su,{to:e.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[C.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:e.title}),C.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:e.tags.map((n,i)=>C.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:n},i))})]},e.id))})]},t.id))]}),a9=()=>{const{backgroundElement:t}=er();return C.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[t,C.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:"MPI 筆記專區"}),_R.map(e=>C.jsxs("div",{className:"mb-10",children:[C.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:e.title}),C.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.exercises.map(n=>C.jsxs(su,{to:n.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[C.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:n.title}),C.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.tags.map((i,a)=>C.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:i},a))})]},n.id))})]},e.id))]})};function o9({user:t}){const e=xi();return C.jsx(Xy,{mode:"wait",children:C.jsxs(MI,{location:e,children:[C.jsx(Qn,{path:"/",element:C.jsx(cz,{})}),C.jsx(Qn,{path:"/login",element:t?C.jsx(Tp,{to:"/chat"}):C.jsx(Sz,{})}),C.jsx(Qn,{path:"/chat",element:t?C.jsx(Az,{}):C.jsx(Tp,{to:"/login"})}),C.jsx(Qn,{path:"/profile",element:t?C.jsx(Rz,{}):C.jsx(Tp,{to:"/login"})}),C.jsx(Qn,{path:"/about",element:C.jsx(kz,{})}),C.jsx(Qn,{path:"/projects",element:C.jsx(Dz,{})}),C.jsx(Qn,{path:"/projects/:projectName/*",element:C.jsx(e9,{})}),C.jsx(Qn,{path:"/hpc",element:C.jsx(i9,{})}),C.jsx(Qn,{path:"/notes",element:C.jsx(s9,{})}),C.jsx(Qn,{path:"/notes/mpi",element:C.jsx(a9,{})})]},e.pathname)})}function l9(){const[t,e]=O.useState(null),[n,i]=O.useState(!0);return O.useEffect(()=>{const a=ZM(Ss,l=>{e(l),i(!1)});return()=>a()},[]),n?C.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading..."}):C.jsxs(iD,{children:[C.jsx(r9,{}),C.jsx(o9,{user:t})]})}FN.createRoot(document.getElementById("root")).render(C.jsx(PN.StrictMode,{children:C.jsx(uz,{children:C.jsx(l9,{})})}));
